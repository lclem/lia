<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Normal forms | Logic in Agda</title><!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Normal forms" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Propositional and fist-order logic developed with the proof assistant Agda." />
<meta property="og:description" content="Propositional and fist-order logic developed with the proof assistant Agda." />
<link rel="canonical" href="/lia/part1/NormalForms/" />
<meta property="og:url" content="/lia/part1/NormalForms/" />
<meta property="og:site_name" content="Logic in Agda" />
<script type="application/ld+json">
{"url":"/lia/part1/NormalForms/","headline":"Normal forms","description":"Propositional and fist-order logic developed with the proof assistant Agda.","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/lia/assets/main.css">
  <!-- <link rel="stylesheet" href="/lia/assets/custom.css"> --><!-- Mathjax Support -->
  <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  <!-- Load KaTeX -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.js"></script>
</head>
<body><header class="site-header" role="banner">

    <div class="wrapper">

        <a class="site-title" href="/lia/">Logic in Agda</a>

        <nav class="site-nav">
            <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                    <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                    <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                    <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
                </svg>
            </span>

            <div class="trigger">
                <a class="page-link" href="/lia/part0/index/">Part 0</a>
                <a class="page-link" href="/lia/part1/index/">Part 1</a>
                <a class="page-link" href="/lia/part2/index/">Part 2</a>
                <a class="page-link" href="/lia/part3/index/">Part 3</a>
                <a class="page-link" href="/lia/part4/index/">Part 4</a>
            </div>
        </nav>

    </div>

</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

    <header class="post-header">
        <h1 class="post-title">Normal forms</h1>
    </header>
  
    <p style="text-align:center;">
    
    
    
    <a alt="Part" href="/lia/part1/index/">Part</a>
    &bullet;
    
    
    <a alt="Source code" href="https://github.com/lclem/lia/blob/main/src/part1/NormalForms.lagda.md">Source</a>
    
    
    
</p>

  
    <div class="post-content">
        <h2>Contents</h2>    
        <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#WNNF">Weak negation normal form</a>
<ul>
<li class="toc-entry toc-h2"><a href="#transformation">Transformation</a></li>
<li class="toc-entry toc-h2"><a href="#correctness">Correctness</a></li>
<li class="toc-entry toc-h2"><a href="#internal-verification">Internal verification</a></li>
<li class="toc-entry toc-h2"><a href="#formula-size">Formula size</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#NNF">Negation normal form</a>
<ul>
<li class="toc-entry toc-h2"><a href="#remove-implications-and-bi-implications">Remove implications and bi-implications</a></li>
<li class="toc-entry toc-h2"><a href="#transformation-to-nnf">Transformation to NNF</a></li>
<li class="toc-entry toc-h2"><a href="#correctness-1">Correctness</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#DNF">Disjunctive normal form</a>
<ul>
<li class="toc-entry toc-h2"><a href="#case-1-dnf-of-a-disjunction">Case 1: DNF of a disjunction</a></li>
<li class="toc-entry toc-h2"><a href="#case-2-dnf-of-a-conjunction">Case 2: DNF of a conjunction</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#CNF">Conjunctive normal form</a></li>
</ul><pre class="Agda"><a id="34" class="Symbol">{-#</a> <a id="38" class="Keyword">OPTIONS</a> <a id="46" class="Pragma">--allow-unsolved-metas</a> <a id="69" class="Symbol">#-}</a>
<a id="73" class="Keyword">open</a> <a id="78" class="Keyword">import</a> <a id="85" href="/lia/part0/index/" class="Module">part0.index</a>

<a id="98" class="Keyword">module</a> <a id="105" href="/lia/part1/NormalForms/" class="Module">part1.NormalForms</a> <a id="123" class="Symbol">(</a><a id="124" href="/lia/part1/NormalForms/#124" class="Bound">n</a> <a id="126" class="Symbol">:</a> <a id="128" href="/lia/part0/Naturals/#146" class="Datatype">ℕ</a><a id="129" class="Symbol">)</a> <a id="131" class="Keyword">where</a>
<a id="137" class="Keyword">open</a> <a id="142" class="Keyword">import</a> <a id="149" href="/lia/part1/Semantics/" class="Module">part1.Semantics</a> <a id="165" href="/lia/part1/NormalForms/#124" class="Bound">n</a> <a id="167" class="Keyword">hiding</a> <a id="174" class="Symbol">(</a>∅<a id="176" class="Symbol">)</a>

<a id="179" class="Keyword">private</a>
  <a id="189" class="Keyword">variable</a>
    <a id="202" href="/lia/part1/NormalForms/#202" class="Generalizable">φ</a> <a id="204" href="/lia/part1/NormalForms/#204" class="Generalizable">ψ</a> <a id="206" class="Symbol">:</a> <a id="208" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a></pre>

<p>In this chapter we study normal forms for classical propositional logic,
namely</p>

<ul>
  <li>
<a href="#WNNF">weak negation normal form (WNNF)</a>,</li>
  <li>
<a href="#NNF">negation normal form (NNF)</a>,</li>
  <li>
<a href="#DNF">disjunctive normal form (DNF)</a>, and its dual</li>
  <li>
<a href="#CNF">conjunctive normal form (CNF)</a>.</li>
</ul>

<h1 id="WNNF">
<a class="anchor" href="#WNNF" aria-hidden="true"><span class="octicon octicon-link"></span></a>Weak negation normal form</h1>

<p>A <em>literal</em> is either a propositional variable <code class="language-plaintext highlighter-rouge">p</code> (positive literal) or
a negation <code class="language-plaintext highlighter-rouge">¬ p</code> thereof (negative literal). A formula is in <em>weak
negation normal form</em> (WNNF) if negation can appear only in literals,
i.e., in front of propositional variables:</p>

<pre class="Agda"><a id="777" class="Keyword">data</a> <a id="WNNF"></a><a id="782" href="/lia/part1/NormalForms/#782" class="Datatype">WNNF</a> <a id="787" class="Symbol">:</a> <a id="789" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="797" class="Symbol">→</a> <a id="799" class="PrimitiveType">Set</a> <a id="803" class="Keyword">where</a>
  <a id="WNNF.⊤"></a><a id="811" href="/lia/part1/NormalForms/#811" class="InductiveConstructor">⊤</a> <a id="813" class="Symbol">:</a> <a id="815" href="/lia/part1/NormalForms/#782" class="Datatype">WNNF</a> <a id="820" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a>
  <a id="WNNF.⊥"></a><a id="824" href="/lia/part1/NormalForms/#824" class="InductiveConstructor">⊥</a> <a id="826" class="Symbol">:</a> <a id="828" href="/lia/part1/NormalForms/#782" class="Datatype">WNNF</a> <a id="833" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a>
  <a id="WNNF.`_"></a><a id="837" href="/lia/part1/NormalForms/#837" class="InductiveConstructor Operator">`_</a> <a id="840" class="Symbol">:</a> <a id="842" class="Symbol">(</a><a id="843" href="/lia/part1/NormalForms/#843" class="Bound">p</a> <a id="845" class="Symbol">:</a> <a id="847" href="/lia/part1/Semantics/#1104" class="Function">PropName</a><a id="855" class="Symbol">)</a> <a id="857" class="Symbol">→</a> <a id="859" href="/lia/part1/NormalForms/#782" class="Datatype">WNNF</a> <a id="864" class="Symbol">(</a><a id="865" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="867" href="/lia/part1/NormalForms/#843" class="Bound">p</a><a id="868" class="Symbol">)</a>
  <a id="WNNF.¬`_"></a><a id="872" href="/lia/part1/NormalForms/#872" class="InductiveConstructor Operator">¬`_</a> <a id="876" class="Symbol">:</a> <a id="878" class="Symbol">(</a><a id="879" href="/lia/part1/NormalForms/#879" class="Bound">p</a> <a id="881" class="Symbol">:</a> <a id="883" href="/lia/part1/Semantics/#1104" class="Function">PropName</a><a id="891" class="Symbol">)</a> <a id="893" class="Symbol">→</a> <a id="895" href="/lia/part1/NormalForms/#782" class="Datatype">WNNF</a> <a id="900" class="Symbol">(</a><a id="901" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="903" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="905" href="/lia/part1/NormalForms/#879" class="Bound">p</a><a id="906" class="Symbol">)</a>
  <a id="WNNF._∧_"></a><a id="910" href="/lia/part1/NormalForms/#910" class="InductiveConstructor Operator">_∧_</a> <a id="914" class="Symbol">:</a> <a id="916" href="/lia/part1/NormalForms/#782" class="Datatype">WNNF</a> <a id="921" href="/lia/part1/NormalForms/#202" class="Generalizable">φ</a> <a id="923" class="Symbol">→</a> <a id="925" href="/lia/part1/NormalForms/#782" class="Datatype">WNNF</a> <a id="930" href="/lia/part1/NormalForms/#204" class="Generalizable">ψ</a> <a id="932" class="Symbol">→</a> <a id="934" href="/lia/part1/NormalForms/#782" class="Datatype">WNNF</a> <a id="939" class="Symbol">(</a><a id="940" href="/lia/part1/NormalForms/#202" class="Generalizable">φ</a> <a id="942" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="944" href="/lia/part1/NormalForms/#204" class="Generalizable">ψ</a><a id="945" class="Symbol">)</a>
  <a id="WNNF._∨_"></a><a id="949" href="/lia/part1/NormalForms/#949" class="InductiveConstructor Operator">_∨_</a> <a id="953" class="Symbol">:</a> <a id="955" href="/lia/part1/NormalForms/#782" class="Datatype">WNNF</a> <a id="960" href="/lia/part1/NormalForms/#202" class="Generalizable">φ</a> <a id="962" class="Symbol">→</a> <a id="964" href="/lia/part1/NormalForms/#782" class="Datatype">WNNF</a> <a id="969" href="/lia/part1/NormalForms/#204" class="Generalizable">ψ</a> <a id="971" class="Symbol">→</a> <a id="973" href="/lia/part1/NormalForms/#782" class="Datatype">WNNF</a> <a id="978" class="Symbol">(</a><a id="979" href="/lia/part1/NormalForms/#202" class="Generalizable">φ</a> <a id="981" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="983" href="/lia/part1/NormalForms/#204" class="Generalizable">ψ</a><a id="984" class="Symbol">)</a>
  <a id="WNNF._⇒_"></a><a id="988" href="/lia/part1/NormalForms/#988" class="InductiveConstructor Operator">_⇒_</a> <a id="992" class="Symbol">:</a> <a id="994" href="/lia/part1/NormalForms/#782" class="Datatype">WNNF</a> <a id="999" href="/lia/part1/NormalForms/#202" class="Generalizable">φ</a> <a id="1001" class="Symbol">→</a> <a id="1003" href="/lia/part1/NormalForms/#782" class="Datatype">WNNF</a> <a id="1008" href="/lia/part1/NormalForms/#204" class="Generalizable">ψ</a> <a id="1010" class="Symbol">→</a> <a id="1012" href="/lia/part1/NormalForms/#782" class="Datatype">WNNF</a> <a id="1017" class="Symbol">(</a><a id="1018" href="/lia/part1/NormalForms/#202" class="Generalizable">φ</a> <a id="1020" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="1022" href="/lia/part1/NormalForms/#204" class="Generalizable">ψ</a><a id="1023" class="Symbol">)</a>
  <a id="WNNF._⇔_"></a><a id="1027" href="/lia/part1/NormalForms/#1027" class="InductiveConstructor Operator">_⇔_</a> <a id="1031" class="Symbol">:</a> <a id="1033" href="/lia/part1/NormalForms/#782" class="Datatype">WNNF</a> <a id="1038" href="/lia/part1/NormalForms/#202" class="Generalizable">φ</a> <a id="1040" class="Symbol">→</a> <a id="1042" href="/lia/part1/NormalForms/#782" class="Datatype">WNNF</a> <a id="1047" href="/lia/part1/NormalForms/#204" class="Generalizable">ψ</a> <a id="1049" class="Symbol">→</a> <a id="1051" href="/lia/part1/NormalForms/#782" class="Datatype">WNNF</a> <a id="1056" class="Symbol">(</a><a id="1057" href="/lia/part1/NormalForms/#202" class="Generalizable">φ</a> <a id="1059" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="1061" href="/lia/part1/NormalForms/#204" class="Generalizable">ψ</a><a id="1062" class="Symbol">)</a></pre>

<p>In this section we show that every formula can be transformed to a
logically equivalent formula in WNNF. This is a preparatory step towards
the stronger <a href="#NNF">NNF</a>.</p>

<p>Given a formula <code class="language-plaintext highlighter-rouge">φ</code>, we can decide whether it is in WNNF or not:</p>

<pre class="Agda"><a id="WNNF?"></a><a id="1306" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="1312" class="Symbol">:</a> <a id="1314" class="Symbol">∀</a> <a id="1316" href="/lia/part1/NormalForms/#1316" class="Bound">φ</a> <a id="1318" class="Symbol">→</a> <a id="1320" href="/lia/part0/Decidable/#150" class="Datatype">Dec</a> <a id="1324" class="Symbol">(</a><a id="1325" href="/lia/part1/NormalForms/#782" class="Datatype">WNNF</a> <a id="1330" href="/lia/part1/NormalForms/#1316" class="Bound">φ</a><a id="1331" class="Symbol">)</a></pre>

<div class="introbox">

  <p>The proof works by inspecting <code class="language-plaintext highlighter-rouge">φ</code> sufficiently deeply.
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="1415" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="1421" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="1423" class="Symbol">=</a> <a id="1425" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1429" href="/lia/part1/NormalForms/#824" class="InductiveConstructor">⊥</a>
<a id="1431" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="1437" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="1439" class="Symbol">=</a> <a id="1441" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1445" href="/lia/part1/NormalForms/#811" class="InductiveConstructor">⊤</a>
<a id="1447" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="1453" class="Symbol">(</a><a id="1454" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="1456" href="/lia/part1/NormalForms/#1456" class="Bound">p</a><a id="1457" class="Symbol">)</a> <a id="1459" class="Symbol">=</a> <a id="1461" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1465" class="Symbol">(</a><a id="1466" href="/lia/part1/NormalForms/#837" class="InductiveConstructor Operator">`</a> <a id="1468" href="/lia/part1/NormalForms/#1456" class="Bound">p</a><a id="1469" class="Symbol">)</a>

<a id="1472" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="1478" class="Symbol">(</a><a id="1479" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="1481" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a><a id="1482" class="Symbol">)</a> <a id="1484" class="Symbol">=</a> <a id="1486" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1489" class="Symbol">λ</a> <a id="1491" class="Symbol">()</a>
<a id="1494" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="1500" class="Symbol">(</a><a id="1501" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="1503" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a><a id="1504" class="Symbol">)</a> <a id="1506" class="Symbol">=</a> <a id="1508" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1511" class="Symbol">λ</a> <a id="1513" class="Symbol">()</a>
<a id="1516" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="1522" class="Symbol">(</a><a id="1523" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="1525" class="Symbol">(</a><a id="1526" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="1528" href="/lia/part1/NormalForms/#1528" class="Bound">p</a><a id="1529" class="Symbol">))</a> <a id="1532" class="Symbol">=</a> <a id="1534" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1538" class="Symbol">(</a><a id="1539" href="/lia/part1/NormalForms/#872" class="InductiveConstructor Operator">¬`</a> <a id="1542" href="/lia/part1/NormalForms/#1528" class="Bound">p</a><a id="1543" class="Symbol">)</a>
<a id="1545" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="1551" class="Symbol">(</a><a id="1552" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="1554" class="Symbol">(</a><a id="1555" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="1557" class="Symbol">_))</a> <a id="1561" class="Symbol">=</a> <a id="1563" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1566" class="Symbol">λ</a> <a id="1568" class="Symbol">()</a>
<a id="1571" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="1577" class="Symbol">(</a><a id="1578" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="1580" class="Symbol">(_</a> <a id="1583" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="1585" class="Symbol">_))</a> <a id="1589" class="Symbol">=</a> <a id="1591" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1594" class="Symbol">λ</a> <a id="1596" class="Symbol">()</a>
<a id="1599" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="1605" class="Symbol">(</a><a id="1606" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="1608" class="Symbol">(_</a> <a id="1611" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="1613" class="Symbol">_))</a> <a id="1617" class="Symbol">=</a> <a id="1619" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1622" class="Symbol">λ</a> <a id="1624" class="Symbol">()</a>
<a id="1627" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="1633" class="Symbol">(</a><a id="1634" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="1636" class="Symbol">(_</a> <a id="1639" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="1641" class="Symbol">_))</a> <a id="1645" class="Symbol">=</a> <a id="1647" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1650" class="Symbol">λ</a> <a id="1652" class="Symbol">()</a>
<a id="1655" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="1661" class="Symbol">(</a><a id="1662" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="1664" class="Symbol">(_</a> <a id="1667" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="1669" class="Symbol">_))</a> <a id="1673" class="Symbol">=</a> <a id="1675" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1678" class="Symbol">λ</a> <a id="1680" class="Symbol">()</a>

<a id="1684" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="1690" class="Symbol">(</a><a id="1691" href="/lia/part1/NormalForms/#1691" class="Bound">φ</a> <a id="1693" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="1695" href="/lia/part1/NormalForms/#1695" class="Bound">ψ</a><a id="1696" class="Symbol">)</a>
  <a id="1700" class="Keyword">with</a> <a id="1705" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="1711" href="/lia/part1/NormalForms/#1691" class="Bound">φ</a> <a id="1713" class="Symbol">|</a>
       <a id="1722" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="1728" href="/lia/part1/NormalForms/#1695" class="Bound">ψ</a>
<a id="1730" class="Symbol">...</a> <a id="1734" class="Symbol">|</a> <a id="1736" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1740" href="/lia/part1/NormalForms/#1740" class="Bound">wnnfφ</a> <a id="1746" class="Symbol">|</a> <a id="1748" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1752" href="/lia/part1/NormalForms/#1752" class="Bound">wnnfψ</a> <a id="1758" class="Symbol">=</a> <a id="1760" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1764" class="Symbol">(</a><a id="1765" href="/lia/part1/NormalForms/#1740" class="Bound">wnnfφ</a> <a id="1771" href="/lia/part1/NormalForms/#949" class="InductiveConstructor Operator">∨</a> <a id="1773" href="/lia/part1/NormalForms/#1752" class="Bound">wnnfψ</a><a id="1778" class="Symbol">)</a>
<a id="1780" class="Symbol">...</a> <a id="1784" class="Symbol">|</a> <a id="1786" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1789" href="/lia/part1/NormalForms/#1789" class="Bound">¬wnnfφ</a> <a id="1796" class="Symbol">|</a> <a id="1798" class="Symbol">_</a> <a id="1800" class="Symbol">=</a> <a id="1802" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1805" class="Symbol">λ{</a> <a id="1808" class="Symbol">(</a><a id="1809" href="/lia/part1/NormalForms/#1809" class="Bound">wnnfφ</a> <a id="1815" href="/lia/part1/NormalForms/#949" class="InductiveConstructor Operator">∨</a> <a id="1817" class="Symbol">_)</a> <a id="1820" class="Symbol">→</a> <a id="1822" href="/lia/part1/NormalForms/#1789" class="Bound">¬wnnfφ</a> <a id="1829" href="/lia/part1/NormalForms/#1809" class="Bound">wnnfφ</a><a id="1834" class="Symbol">}</a>
<a id="1836" class="CatchallClause Symbol">...</a><a id="1839" class="CatchallClause"> </a><a id="1840" class="CatchallClause Symbol">|</a><a id="1841" class="CatchallClause"> </a><a id="1842" class="CatchallClause Symbol">_</a><a id="1843" class="CatchallClause"> </a><a id="1844" class="CatchallClause Symbol">|</a><a id="1845" class="CatchallClause"> </a><a id="1846" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="1848" class="CatchallClause"> </a><a id="1849" href="/lia/part1/NormalForms/#1849" class="CatchallClause Bound">¬wnnfψ</a> <a id="1856" class="Symbol">=</a> <a id="1858" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1861" class="Symbol">λ{</a> <a id="1864" class="Symbol">(_</a> <a id="1867" href="/lia/part1/NormalForms/#949" class="InductiveConstructor Operator">∨</a> <a id="1869" href="/lia/part1/NormalForms/#1869" class="Bound">wnnfψ</a><a id="1874" class="Symbol">)</a> <a id="1876" class="Symbol">→</a> <a id="1878" href="/lia/part1/NormalForms/#1849" class="Bound">¬wnnfψ</a> <a id="1885" href="/lia/part1/NormalForms/#1869" class="Bound">wnnfψ</a><a id="1890" class="Symbol">}</a>

<a id="1893" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="1899" class="Symbol">(</a><a id="1900" href="/lia/part1/NormalForms/#1900" class="Bound">φ</a> <a id="1902" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="1904" href="/lia/part1/NormalForms/#1904" class="Bound">ψ</a><a id="1905" class="Symbol">)</a>
  <a id="1909" class="Keyword">with</a> <a id="1914" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="1920" href="/lia/part1/NormalForms/#1900" class="Bound">φ</a> <a id="1922" class="Symbol">|</a>
       <a id="1931" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="1937" href="/lia/part1/NormalForms/#1904" class="Bound">ψ</a>
<a id="1939" class="Symbol">...</a> <a id="1943" class="Symbol">|</a> <a id="1945" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1949" href="/lia/part1/NormalForms/#1949" class="Bound">wnnfφ</a> <a id="1955" class="Symbol">|</a> <a id="1957" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1961" href="/lia/part1/NormalForms/#1961" class="Bound">wnnfψ</a> <a id="1967" class="Symbol">=</a> <a id="1969" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1973" class="Symbol">(</a><a id="1974" href="/lia/part1/NormalForms/#1949" class="Bound">wnnfφ</a> <a id="1980" href="/lia/part1/NormalForms/#910" class="InductiveConstructor Operator">∧</a> <a id="1982" href="/lia/part1/NormalForms/#1961" class="Bound">wnnfψ</a><a id="1987" class="Symbol">)</a>
<a id="1989" class="Symbol">...</a> <a id="1993" class="Symbol">|</a> <a id="1995" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1998" href="/lia/part1/NormalForms/#1998" class="Bound">¬wnnfφ</a> <a id="2005" class="Symbol">|</a> <a id="2007" class="Symbol">_</a> <a id="2009" class="Symbol">=</a> <a id="2011" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2014" class="Symbol">λ{</a> <a id="2017" class="Symbol">(</a><a id="2018" href="/lia/part1/NormalForms/#2018" class="Bound">wnnfφ</a> <a id="2024" href="/lia/part1/NormalForms/#910" class="InductiveConstructor Operator">∧</a> <a id="2026" class="Symbol">_)</a> <a id="2029" class="Symbol">→</a> <a id="2031" href="/lia/part1/NormalForms/#1998" class="Bound">¬wnnfφ</a> <a id="2038" href="/lia/part1/NormalForms/#2018" class="Bound">wnnfφ</a><a id="2043" class="Symbol">}</a>
<a id="2045" class="CatchallClause Symbol">...</a><a id="2048" class="CatchallClause"> </a><a id="2049" class="CatchallClause Symbol">|</a><a id="2050" class="CatchallClause"> </a><a id="2051" class="CatchallClause Symbol">_</a><a id="2052" class="CatchallClause"> </a><a id="2053" class="CatchallClause Symbol">|</a><a id="2054" class="CatchallClause"> </a><a id="2055" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="2057" class="CatchallClause"> </a><a id="2058" href="/lia/part1/NormalForms/#2058" class="CatchallClause Bound">¬wnnfψ</a> <a id="2065" class="Symbol">=</a> <a id="2067" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2070" class="Symbol">λ{</a> <a id="2073" class="Symbol">(_</a> <a id="2076" href="/lia/part1/NormalForms/#910" class="InductiveConstructor Operator">∧</a> <a id="2078" href="/lia/part1/NormalForms/#2078" class="Bound">wnnfψ</a><a id="2083" class="Symbol">)</a> <a id="2085" class="Symbol">→</a> <a id="2087" href="/lia/part1/NormalForms/#2058" class="Bound">¬wnnfψ</a> <a id="2094" href="/lia/part1/NormalForms/#2078" class="Bound">wnnfψ</a><a id="2099" class="Symbol">}</a>

<a id="2102" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="2108" class="Symbol">(</a><a id="2109" href="/lia/part1/NormalForms/#2109" class="Bound">φ</a> <a id="2111" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="2113" href="/lia/part1/NormalForms/#2113" class="Bound">ψ</a><a id="2114" class="Symbol">)</a>
  <a id="2118" class="Keyword">with</a> <a id="2123" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="2129" href="/lia/part1/NormalForms/#2109" class="Bound">φ</a> <a id="2131" class="Symbol">|</a>
       <a id="2140" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="2146" href="/lia/part1/NormalForms/#2113" class="Bound">ψ</a>
<a id="2148" class="Symbol">...</a> <a id="2152" class="Symbol">|</a> <a id="2154" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2158" href="/lia/part1/NormalForms/#2158" class="Bound">wnnfφ</a> <a id="2164" class="Symbol">|</a> <a id="2166" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2170" href="/lia/part1/NormalForms/#2170" class="Bound">wnnfψ</a> <a id="2176" class="Symbol">=</a> <a id="2178" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2182" class="Symbol">(</a><a id="2183" href="/lia/part1/NormalForms/#2158" class="Bound">wnnfφ</a> <a id="2189" href="/lia/part1/NormalForms/#988" class="InductiveConstructor Operator">⇒</a> <a id="2191" href="/lia/part1/NormalForms/#2170" class="Bound">wnnfψ</a><a id="2196" class="Symbol">)</a>
<a id="2198" class="Symbol">...</a> <a id="2202" class="Symbol">|</a> <a id="2204" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2207" href="/lia/part1/NormalForms/#2207" class="Bound">¬wnnfφ</a> <a id="2214" class="Symbol">|</a> <a id="2216" class="Symbol">_</a> <a id="2218" class="Symbol">=</a> <a id="2220" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2223" class="Symbol">λ{</a> <a id="2226" class="Symbol">(</a><a id="2227" href="/lia/part1/NormalForms/#2227" class="Bound">wnnfφ</a> <a id="2233" href="/lia/part1/NormalForms/#988" class="InductiveConstructor Operator">⇒</a> <a id="2235" class="Symbol">_)</a> <a id="2238" class="Symbol">→</a> <a id="2240" href="/lia/part1/NormalForms/#2207" class="Bound">¬wnnfφ</a> <a id="2247" href="/lia/part1/NormalForms/#2227" class="Bound">wnnfφ</a><a id="2252" class="Symbol">}</a>
<a id="2254" class="CatchallClause Symbol">...</a><a id="2257" class="CatchallClause"> </a><a id="2258" class="CatchallClause Symbol">|</a><a id="2259" class="CatchallClause"> </a><a id="2260" class="CatchallClause Symbol">_</a><a id="2261" class="CatchallClause"> </a><a id="2262" class="CatchallClause Symbol">|</a><a id="2263" class="CatchallClause"> </a><a id="2264" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="2266" class="CatchallClause"> </a><a id="2267" href="/lia/part1/NormalForms/#2267" class="CatchallClause Bound">¬wnnfψ</a> <a id="2274" class="Symbol">=</a> <a id="2276" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2279" class="Symbol">λ{</a> <a id="2282" class="Symbol">(_</a> <a id="2285" href="/lia/part1/NormalForms/#988" class="InductiveConstructor Operator">⇒</a> <a id="2287" href="/lia/part1/NormalForms/#2287" class="Bound">wnnfψ</a><a id="2292" class="Symbol">)</a> <a id="2294" class="Symbol">→</a> <a id="2296" href="/lia/part1/NormalForms/#2267" class="Bound">¬wnnfψ</a> <a id="2303" href="/lia/part1/NormalForms/#2287" class="Bound">wnnfψ</a><a id="2308" class="Symbol">}</a>

<a id="2311" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="2317" class="Symbol">(</a><a id="2318" href="/lia/part1/NormalForms/#2318" class="Bound">φ</a> <a id="2320" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="2322" href="/lia/part1/NormalForms/#2322" class="Bound">ψ</a><a id="2323" class="Symbol">)</a>
  <a id="2327" class="Keyword">with</a> <a id="2332" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="2338" href="/lia/part1/NormalForms/#2318" class="Bound">φ</a> <a id="2340" class="Symbol">|</a>
       <a id="2349" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="2355" href="/lia/part1/NormalForms/#2322" class="Bound">ψ</a>
<a id="2357" class="Symbol">...</a> <a id="2361" class="Symbol">|</a> <a id="2363" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2367" href="/lia/part1/NormalForms/#2367" class="Bound">wnnfφ</a> <a id="2373" class="Symbol">|</a> <a id="2375" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2379" href="/lia/part1/NormalForms/#2379" class="Bound">wnnfψ</a> <a id="2385" class="Symbol">=</a> <a id="2387" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2391" class="Symbol">(</a><a id="2392" href="/lia/part1/NormalForms/#2367" class="Bound">wnnfφ</a> <a id="2398" href="/lia/part1/NormalForms/#1027" class="InductiveConstructor Operator">⇔</a> <a id="2400" href="/lia/part1/NormalForms/#2379" class="Bound">wnnfψ</a><a id="2405" class="Symbol">)</a>
<a id="2407" class="Symbol">...</a> <a id="2411" class="Symbol">|</a> <a id="2413" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2416" href="/lia/part1/NormalForms/#2416" class="Bound">¬wnnfφ</a> <a id="2423" class="Symbol">|</a> <a id="2425" class="Symbol">_</a> <a id="2427" class="Symbol">=</a> <a id="2429" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2432" class="Symbol">λ{</a> <a id="2435" class="Symbol">(</a><a id="2436" href="/lia/part1/NormalForms/#2436" class="Bound">wnnfφ</a> <a id="2442" href="/lia/part1/NormalForms/#1027" class="InductiveConstructor Operator">⇔</a> <a id="2444" class="Symbol">_)</a> <a id="2447" class="Symbol">→</a> <a id="2449" href="/lia/part1/NormalForms/#2416" class="Bound">¬wnnfφ</a> <a id="2456" href="/lia/part1/NormalForms/#2436" class="Bound">wnnfφ</a><a id="2461" class="Symbol">}</a>
<a id="2463" class="CatchallClause Symbol">...</a><a id="2466" class="CatchallClause"> </a><a id="2467" class="CatchallClause Symbol">|</a><a id="2468" class="CatchallClause"> </a><a id="2469" class="CatchallClause Symbol">_</a><a id="2470" class="CatchallClause"> </a><a id="2471" class="CatchallClause Symbol">|</a><a id="2472" class="CatchallClause"> </a><a id="2473" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="2475" class="CatchallClause"> </a><a id="2476" href="/lia/part1/NormalForms/#2476" class="CatchallClause Bound">¬wnnfψ</a> <a id="2483" class="Symbol">=</a> <a id="2485" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2488" class="Symbol">λ{</a> <a id="2491" class="Symbol">(_</a> <a id="2494" href="/lia/part1/NormalForms/#1027" class="InductiveConstructor Operator">⇔</a> <a id="2496" href="/lia/part1/NormalForms/#2496" class="Bound">wnnfψ</a><a id="2501" class="Symbol">)</a> <a id="2503" class="Symbol">→</a> <a id="2505" href="/lia/part1/NormalForms/#2476" class="Bound">¬wnnfψ</a> <a id="2512" href="/lia/part1/NormalForms/#2496" class="Bound">wnnfψ</a><a id="2517" class="Symbol">}</a></pre>

</div>

<pre class="Agda"><a id="ψ₀"></a><a id="2533" href="/lia/part1/NormalForms/#2533" class="Function">ψ₀</a> <a id="ψ₁"></a><a id="2536" href="/lia/part1/NormalForms/#2536" class="Function">ψ₁</a> <a id="ψ₂"></a><a id="2539" href="/lia/part1/NormalForms/#2539" class="Function">ψ₂</a> <a id="ψ₃"></a><a id="2542" href="/lia/part1/NormalForms/#2542" class="Function">ψ₃</a> <a id="ψ₄"></a><a id="2545" href="/lia/part1/NormalForms/#2545" class="Function">ψ₄</a> <a id="ψ₅"></a><a id="2548" href="/lia/part1/NormalForms/#2548" class="Function">ψ₅</a> <a id="ψ₇"></a><a id="2551" href="/lia/part1/NormalForms/#2551" class="Function">ψ₇</a> <a id="ψ₈"></a><a id="2554" href="/lia/part1/NormalForms/#2554" class="Function">ψ₈</a> <a id="2557" class="Symbol">:</a> <a id="2559" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a></pre>

<div class="inlinecode">

  <p>For instance, the formulas</p>
  <pre class="Agda"><a id="2632" href="/lia/part1/NormalForms/#2533" class="Function">ψ₀</a> <a id="2635" class="Symbol">=</a> <a id="2637" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a></pre>
  <p>,</p>
  <pre class="Agda"><a id="2649" href="/lia/part1/NormalForms/#2536" class="Function">ψ₁</a> <a id="2652" class="Symbol">=</a> <a id="2654" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="2656" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="2658" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="2661" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="2663" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="2665" href="/lia/part1/Semantics/#1232" class="Function">p₁</a></pre>
  <p>, and</p>
  <pre class="Agda"><a id="2682" href="/lia/part1/NormalForms/#2539" class="Function">ψ₂</a> <a id="2685" class="Symbol">=</a> <a id="2687" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="2689" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="2691" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="2694" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="2696" class="Symbol">(</a><a id="2697" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="2699" href="/lia/part1/Semantics/#1232" class="Function">p₁</a> <a id="2702" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="2704" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="2706" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="2708" href="/lia/part1/Semantics/#1235" class="Function">p₂</a><a id="2710" class="Symbol">)</a></pre>
  <p>are in WNNF, while the formulas</p>
  <pre class="Agda"><a id="2752" href="/lia/part1/NormalForms/#2542" class="Function">ψ₃</a> <a id="2755" class="Symbol">=</a> <a id="2757" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="2759" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a></pre>
  <p>,</p>
  <pre class="Agda"><a id="2771" href="/lia/part1/NormalForms/#2545" class="Function">ψ₄</a> <a id="2774" class="Symbol">=</a> <a id="2776" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="2778" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="2780" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="2782" href="/lia/part1/Semantics/#1229" class="Function">p₀</a></pre>
  <p>, and</p>
  <pre class="Agda"><a id="2799" href="/lia/part1/NormalForms/#2548" class="Function">ψ₅</a> <a id="2802" class="Symbol">=</a> <a id="2804" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="2806" class="Symbol">(</a><a id="2807" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="2809" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="2812" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="2814" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="2816" href="/lia/part1/Semantics/#1232" class="Function">p₁</a><a id="2818" class="Symbol">)</a></pre>

  <p>are not in WNNF (negation not in front of a propositional variable),
which we can automaticalally check thanks to <a href="#WNNF?"><code class="language-plaintext highlighter-rouge">WNNF?</code></a> :</p>

</div>

<pre class="Agda"><a id="2971" href="/lia/part1/NormalForms/#2971" class="Function">_</a> <a id="2973" class="Symbol">:</a> <a id="2975" href="/lia/part0/List/#10524" class="Function">All?</a> <a id="2980" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a> <a id="2986" class="Symbol">(</a><a id="2987" href="/lia/part0/List/#1763" class="Function">[</a> <a id="2989" href="/lia/part1/NormalForms/#2533" class="Function">ψ₀</a> <a id="2992" href="/lia/part1/NormalForms/#2536" class="Function">ψ₁</a> <a id="2995" href="/lia/part1/NormalForms/#2539" class="Function">ψ₂</a> <a id="2998" href="/lia/part0/List/#2014" class="Function Operator">]</a><a id="2999" class="Symbol">)</a> <a id="3001" href="/lia/part0/Decidable/#628" class="Function Operator">×?</a> <a id="3004" href="/lia/part0/List/#10524" class="Function">All?</a> <a id="3009" class="Symbol">(</a><a id="3010" href="/lia/part0/Decidable/#1262" class="Function Operator">~?_</a> <a id="3014" href="/lia/part0/Utils/#638" class="Function Operator">∘</a> <a id="3016" href="/lia/part1/NormalForms/#1306" class="Function">WNNF?</a><a id="3021" class="Symbol">)</a> <a id="3023" class="Symbol">(</a><a id="3024" href="/lia/part0/List/#1763" class="Function">[</a> <a id="3026" href="/lia/part1/NormalForms/#2542" class="Function">ψ₃</a> <a id="3029" href="/lia/part1/NormalForms/#2545" class="Function">ψ₄</a> <a id="3032" href="/lia/part1/NormalForms/#2548" class="Function">ψ₅</a> <a id="3035" href="/lia/part0/List/#2014" class="Function Operator">]</a><a id="3036" class="Symbol">)</a> <a id="3038" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="3040" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="3044" class="Symbol">_</a>
<a id="3046" class="Symbol">_</a> <a id="3048" class="Symbol">=</a> <a id="3050" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<h2 id="transformation">
<a class="anchor" href="#transformation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Transformation</h2>

<p>The transformation of a formula to WNNF operates by “pushing inside”
negations. This is achieved by the function</p>

<pre class="Agda"><a id="wnnf"></a><a id="3197" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="3202" class="Symbol">:</a> <a id="3204" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="3212" class="Symbol">→</a> <a id="3214" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a></pre>

<p>which is defined as follows:</p>

<ul>
  <li>In the atomic cases the formula is unchanged:</li>
</ul>

<pre class="Agda"><a id="3310" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="3315" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="3317" class="Symbol">=</a> <a id="3319" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a>
<a id="3321" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="3326" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="3328" class="Symbol">=</a> <a id="3330" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a>
<a id="3332" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="3337" class="Symbol">(</a><a id="3338" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="3340" href="/lia/part1/NormalForms/#3340" class="Bound">p</a><a id="3341" class="Symbol">)</a> <a id="3343" class="Symbol">=</a> <a id="3345" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="3347" href="/lia/part1/NormalForms/#3340" class="Bound">p</a></pre>

<ul>
  <li>In the case of binary connectives we just proceed recursively on the
subformulas:</li>
</ul>

<pre class="Agda"><a id="3443" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="3448" class="Symbol">(</a><a id="3449" href="/lia/part1/NormalForms/#3449" class="Bound">φ</a> <a id="3451" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="3453" href="/lia/part1/NormalForms/#3453" class="Bound">ψ</a><a id="3454" class="Symbol">)</a> <a id="3456" class="Symbol">=</a> <a id="3458" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="3463" href="/lia/part1/NormalForms/#3449" class="Bound">φ</a> <a id="3465" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="3467" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="3472" href="/lia/part1/NormalForms/#3453" class="Bound">ψ</a>
<a id="3474" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="3479" class="Symbol">(</a><a id="3480" href="/lia/part1/NormalForms/#3480" class="Bound">φ</a> <a id="3482" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="3484" href="/lia/part1/NormalForms/#3484" class="Bound">ψ</a><a id="3485" class="Symbol">)</a> <a id="3487" class="Symbol">=</a> <a id="3489" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="3494" href="/lia/part1/NormalForms/#3480" class="Bound">φ</a> <a id="3496" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="3498" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="3503" href="/lia/part1/NormalForms/#3484" class="Bound">ψ</a>
<a id="3505" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="3510" class="Symbol">(</a><a id="3511" href="/lia/part1/NormalForms/#3511" class="Bound">φ</a> <a id="3513" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="3515" href="/lia/part1/NormalForms/#3515" class="Bound">ψ</a><a id="3516" class="Symbol">)</a> <a id="3518" class="Symbol">=</a> <a id="3520" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="3525" href="/lia/part1/NormalForms/#3511" class="Bound">φ</a> <a id="3527" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="3529" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="3534" href="/lia/part1/NormalForms/#3515" class="Bound">ψ</a>
<a id="3536" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="3541" class="Symbol">(</a><a id="3542" href="/lia/part1/NormalForms/#3542" class="Bound">φ</a> <a id="3544" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="3546" href="/lia/part1/NormalForms/#3546" class="Bound">ψ</a><a id="3547" class="Symbol">)</a> <a id="3549" class="Symbol">=</a> <a id="3551" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="3556" href="/lia/part1/NormalForms/#3542" class="Bound">φ</a> <a id="3558" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="3560" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="3565" href="/lia/part1/NormalForms/#3546" class="Bound">ψ</a></pre>

<ul>
  <li>In the case of a negation, we push it inside. If it is in front of
the constants <a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> and
<a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> , then we just flip it to the
other constant:</li>
</ul>

<pre class="Agda"><a id="3791" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="3796" class="Symbol">(</a><a id="3797" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="3799" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a><a id="3800" class="Symbol">)</a> <a id="3802" class="Symbol">=</a> <a id="3804" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a>
<a id="3806" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="3811" class="Symbol">(</a><a id="3812" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="3814" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a><a id="3815" class="Symbol">)</a> <a id="3817" class="Symbol">=</a> <a id="3819" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a></pre>

<ul>
  <li>If it is in front of a propositional variable, then we leave it
unchanged:</li>
</ul>

<pre class="Agda"><a id="3908" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="3913" class="Symbol">(</a><a id="3914" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="3916" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="3918" href="/lia/part1/NormalForms/#3918" class="Bound">p</a><a id="3919" class="Symbol">)</a> <a id="3921" class="Symbol">=</a> <a id="3923" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="3925" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="3927" href="/lia/part1/NormalForms/#3918" class="Bound">p</a></pre>

<ul>
  <li>Double negations are just removed (thanks to the law of double
negation):</li>
</ul>

<pre class="Agda"><a id="4017" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="4022" class="Symbol">(</a><a id="4023" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="4025" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="4027" href="/lia/part1/NormalForms/#4027" class="Bound">φ</a><a id="4028" class="Symbol">)</a> <a id="4030" class="Symbol">=</a> <a id="4032" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="4037" href="/lia/part1/NormalForms/#4027" class="Bound">φ</a></pre>

<ul>
  <li>If negation is in front of a binary connective, then we push it
inside according to the corresponding de Morgan’s law:</li>
</ul>

<pre class="Agda"><a id="4172" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="4177" class="Symbol">(</a><a id="4178" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="4180" class="Symbol">(</a><a id="4181" href="/lia/part1/NormalForms/#4181" class="Bound">φ</a> <a id="4183" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="4185" href="/lia/part1/NormalForms/#4185" class="Bound">ψ</a><a id="4186" class="Symbol">))</a> <a id="4189" class="Symbol">=</a> <a id="4191" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="4196" class="Symbol">(</a><a id="4197" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="4199" href="/lia/part1/NormalForms/#4181" class="Bound">φ</a><a id="4200" class="Symbol">)</a> <a id="4202" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="4204" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="4209" class="Symbol">(</a><a id="4210" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="4212" href="/lia/part1/NormalForms/#4185" class="Bound">ψ</a><a id="4213" class="Symbol">)</a>
<a id="4215" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="4220" class="Symbol">(</a><a id="4221" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="4223" class="Symbol">(</a><a id="4224" href="/lia/part1/NormalForms/#4224" class="Bound">φ</a> <a id="4226" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="4228" href="/lia/part1/NormalForms/#4228" class="Bound">ψ</a><a id="4229" class="Symbol">))</a> <a id="4232" class="Symbol">=</a> <a id="4234" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="4239" class="Symbol">(</a><a id="4240" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="4242" href="/lia/part1/NormalForms/#4224" class="Bound">φ</a><a id="4243" class="Symbol">)</a> <a id="4245" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="4247" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="4252" class="Symbol">(</a><a id="4253" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="4255" href="/lia/part1/NormalForms/#4228" class="Bound">ψ</a><a id="4256" class="Symbol">)</a>
<a id="4258" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="4263" class="Symbol">(</a><a id="4264" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="4266" class="Symbol">(</a><a id="4267" href="/lia/part1/NormalForms/#4267" class="Bound">φ</a> <a id="4269" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="4271" href="/lia/part1/NormalForms/#4271" class="Bound">ψ</a><a id="4272" class="Symbol">))</a> <a id="4275" class="Symbol">=</a> <a id="4277" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="4282" href="/lia/part1/NormalForms/#4267" class="Bound">φ</a> <a id="4284" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="4286" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="4291" class="Symbol">(</a><a id="4292" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="4294" href="/lia/part1/NormalForms/#4271" class="Bound">ψ</a><a id="4295" class="Symbol">)</a>
<a id="4297" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="4302" class="Symbol">(</a><a id="4303" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="4305" class="Symbol">(</a><a id="4306" href="/lia/part1/NormalForms/#4306" class="Bound">φ</a> <a id="4308" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="4310" href="/lia/part1/NormalForms/#4310" class="Bound">ψ</a><a id="4311" class="Symbol">))</a> <a id="4314" class="Symbol">=</a> <a id="4316" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="4321" href="/lia/part1/NormalForms/#4306" class="Bound">φ</a> <a id="4323" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="4325" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="4330" class="Symbol">(</a><a id="4331" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="4333" href="/lia/part1/NormalForms/#4310" class="Bound">ψ</a><a id="4334" class="Symbol">)</a></pre>

<div class="introbox">

  <div class="inlinecode">

    <p>For example, the WNNF of</p>
    <pre class="Agda"><a id="4409" href="/lia/part1/NormalForms/#2551" class="Function">ψ₇</a> <a id="4412" class="Symbol">=</a> <a id="4414" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="4416" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="4418" class="Symbol">(</a><a id="4419" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="4421" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="4424" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="4426" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="4428" class="Symbol">(</a><a id="4429" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="4431" href="/lia/part1/Semantics/#1232" class="Function">p₁</a> <a id="4434" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="4436" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="4438" href="/lia/part1/Semantics/#1235" class="Function">p₂</a><a id="4440" class="Symbol">))</a></pre>
    <p>is</p>
    <pre class="Agda"><a id="4454" href="/lia/part1/NormalForms/#2554" class="Function">ψ₈</a> <a id="4457" class="Symbol">=</a> <a id="4459" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="4461" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="4464" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="4466" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="4468" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="4470" href="/lia/part1/Semantics/#1232" class="Function">p₁</a> <a id="4473" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="4475" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="4477" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="4479" href="/lia/part1/Semantics/#1235" class="Function">p₂</a></pre>
    <p>as we can automatically check.</p>

  </div>

  <p><button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="4544" href="/lia/part1/NormalForms/#4544" class="Function">_</a> <a id="4546" class="Symbol">:</a> <a id="4548" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="4553" href="/lia/part1/NormalForms/#2551" class="Function">ψ₇</a> <a id="4556" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="4558" href="/lia/part1/NormalForms/#2554" class="Function">ψ₈</a>
<a id="4561" class="Symbol">_</a> <a id="4563" class="Symbol">=</a> <a id="4565" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

</div>

<h2 id="correctness">
<a class="anchor" href="#correctness" aria-hidden="true"><span class="octicon octicon-link"></span></a>Correctness</h2>

<p>Now that we have a tentative definition of a function <a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a>
purportedly transforming a formula to an equivalent one in WNNF, we have
to prove that this is the case. There are two things that we need to
prove. First, we need to prove that <code class="language-plaintext highlighter-rouge">wnnf φ</code> is indeed in WNNF, and
second that it is logically equivalent to <code class="language-plaintext highlighter-rouge">φ</code>.</p>

<h3 id="structure">Structure</h3>

<div class="introbox">

  <pre class="Agda"><a id="wnnf-WNNF"></a><a id="4958" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="4968" class="Symbol">:</a> <a id="4970" class="Symbol">∀</a> <a id="4972" href="/lia/part1/NormalForms/#4972" class="Bound">φ</a> <a id="4974" class="Symbol">→</a> <a id="4976" href="/lia/part1/NormalForms/#782" class="Datatype">WNNF</a> <a id="4981" class="Symbol">(</a><a id="4982" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="4987" href="/lia/part1/NormalForms/#4972" class="Bound">φ</a><a id="4988" class="Symbol">)</a></pre>

  <p>The proof that <code class="language-plaintext highlighter-rouge">wnnf φ</code> is in WNNF is by a customary structural
induction, where in the case <code class="language-plaintext highlighter-rouge">φ = ¬ (</code>
p)<code class="language-plaintext highlighter-rouge">the [</code>WNNF<code class="language-plaintext highlighter-rouge">](#WNNF)  given by the constructor `` ¬</code> p
`<code class="language-plaintext highlighter-rouge">(no space between</code>¬` and the following backtick character).
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="5238" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5248" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="5250" class="Symbol">=</a> <a id="5252" href="/lia/part1/NormalForms/#824" class="InductiveConstructor">⊥</a>
<a id="5254" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5264" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="5266" class="Symbol">=</a> <a id="5268" href="/lia/part1/NormalForms/#811" class="InductiveConstructor">⊤</a>
<a id="5270" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5280" class="Symbol">(</a><a id="5281" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="5283" href="/lia/part1/NormalForms/#5283" class="Bound">p</a><a id="5284" class="Symbol">)</a> <a id="5286" class="Symbol">=</a> <a id="5288" href="/lia/part1/NormalForms/#837" class="InductiveConstructor Operator">`</a> <a id="5290" href="/lia/part1/NormalForms/#5283" class="Bound">p</a>
<a id="5292" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5302" class="Symbol">(</a><a id="5303" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="5305" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a><a id="5306" class="Symbol">)</a> <a id="5308" class="Symbol">=</a> <a id="5310" href="/lia/part1/NormalForms/#811" class="InductiveConstructor">⊤</a>
<a id="5312" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5322" class="Symbol">(</a><a id="5323" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="5325" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a><a id="5326" class="Symbol">)</a> <a id="5328" class="Symbol">=</a> <a id="5330" href="/lia/part1/NormalForms/#824" class="InductiveConstructor">⊥</a>
<a id="5332" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5342" class="Symbol">(</a><a id="5343" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="5345" class="Symbol">(</a><a id="5346" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="5348" href="/lia/part1/NormalForms/#5348" class="Bound">p</a><a id="5349" class="Symbol">))</a> <a id="5352" class="Symbol">=</a> <a id="5354" href="/lia/part1/NormalForms/#872" class="InductiveConstructor Operator">¬`</a> <a id="5357" href="/lia/part1/NormalForms/#5348" class="Bound">p</a>
<a id="5359" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5369" class="Symbol">(</a><a id="5370" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="5372" class="Symbol">(</a><a id="5373" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="5375" href="/lia/part1/NormalForms/#5375" class="Bound">φ</a><a id="5376" class="Symbol">))</a> <a id="5379" class="Symbol">=</a> <a id="5381" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5391" href="/lia/part1/NormalForms/#5375" class="Bound">φ</a>
<a id="5393" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5403" class="Symbol">(</a><a id="5404" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="5406" class="Symbol">(</a><a id="5407" href="/lia/part1/NormalForms/#5407" class="Bound">φ</a> <a id="5409" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="5411" href="/lia/part1/NormalForms/#5411" class="Bound">ψ</a><a id="5412" class="Symbol">))</a> <a id="5415" class="Symbol">=</a> <a id="5417" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5427" class="Symbol">(</a><a id="5428" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="5430" href="/lia/part1/NormalForms/#5407" class="Bound">φ</a><a id="5431" class="Symbol">)</a> <a id="5433" href="/lia/part1/NormalForms/#910" class="InductiveConstructor Operator">∧</a> <a id="5435" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5445" class="Symbol">(</a><a id="5446" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="5448" href="/lia/part1/NormalForms/#5411" class="Bound">ψ</a><a id="5449" class="Symbol">)</a>
<a id="5451" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5461" class="Symbol">(</a><a id="5462" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="5464" class="Symbol">(</a><a id="5465" href="/lia/part1/NormalForms/#5465" class="Bound">φ</a> <a id="5467" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="5469" href="/lia/part1/NormalForms/#5469" class="Bound">ψ</a><a id="5470" class="Symbol">))</a> <a id="5473" class="Symbol">=</a> <a id="5475" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5485" class="Symbol">(</a><a id="5486" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="5488" href="/lia/part1/NormalForms/#5465" class="Bound">φ</a><a id="5489" class="Symbol">)</a> <a id="5491" href="/lia/part1/NormalForms/#949" class="InductiveConstructor Operator">∨</a> <a id="5493" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5503" class="Symbol">(</a><a id="5504" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="5506" href="/lia/part1/NormalForms/#5469" class="Bound">ψ</a><a id="5507" class="Symbol">)</a>
<a id="5509" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5519" class="Symbol">(</a><a id="5520" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="5522" class="Symbol">(</a><a id="5523" href="/lia/part1/NormalForms/#5523" class="Bound">φ</a> <a id="5525" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="5527" href="/lia/part1/NormalForms/#5527" class="Bound">ψ</a><a id="5528" class="Symbol">))</a> <a id="5531" class="Symbol">=</a> <a id="5533" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5543" href="/lia/part1/NormalForms/#5523" class="Bound">φ</a> <a id="5545" href="/lia/part1/NormalForms/#910" class="InductiveConstructor Operator">∧</a> <a id="5547" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5557" class="Symbol">(</a><a id="5558" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="5560" href="/lia/part1/NormalForms/#5527" class="Bound">ψ</a><a id="5561" class="Symbol">)</a>
<a id="5563" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5573" class="Symbol">(</a><a id="5574" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="5576" class="Symbol">(</a><a id="5577" href="/lia/part1/NormalForms/#5577" class="Bound">φ</a> <a id="5579" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="5581" href="/lia/part1/NormalForms/#5581" class="Bound">ψ</a><a id="5582" class="Symbol">))</a> <a id="5585" class="Symbol">=</a> <a id="5587" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5597" href="/lia/part1/NormalForms/#5577" class="Bound">φ</a> <a id="5599" href="/lia/part1/NormalForms/#1027" class="InductiveConstructor Operator">⇔</a> <a id="5601" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5611" class="Symbol">(</a><a id="5612" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="5614" href="/lia/part1/NormalForms/#5581" class="Bound">ψ</a><a id="5615" class="Symbol">)</a>
<a id="5617" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5627" class="Symbol">(</a><a id="5628" href="/lia/part1/NormalForms/#5628" class="Bound">φ</a> <a id="5630" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="5632" href="/lia/part1/NormalForms/#5632" class="Bound">ψ</a><a id="5633" class="Symbol">)</a> <a id="5635" class="Symbol">=</a> <a id="5637" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5647" href="/lia/part1/NormalForms/#5628" class="Bound">φ</a> <a id="5649" href="/lia/part1/NormalForms/#949" class="InductiveConstructor Operator">∨</a> <a id="5651" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5661" href="/lia/part1/NormalForms/#5632" class="Bound">ψ</a>
<a id="5663" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5673" class="Symbol">(</a><a id="5674" href="/lia/part1/NormalForms/#5674" class="Bound">φ</a> <a id="5676" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="5678" href="/lia/part1/NormalForms/#5678" class="Bound">ψ</a><a id="5679" class="Symbol">)</a> <a id="5681" class="Symbol">=</a> <a id="5683" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5693" href="/lia/part1/NormalForms/#5674" class="Bound">φ</a> <a id="5695" href="/lia/part1/NormalForms/#910" class="InductiveConstructor Operator">∧</a> <a id="5697" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5707" href="/lia/part1/NormalForms/#5678" class="Bound">ψ</a>
<a id="5709" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5719" class="Symbol">(</a><a id="5720" href="/lia/part1/NormalForms/#5720" class="Bound">φ</a> <a id="5722" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="5724" href="/lia/part1/NormalForms/#5724" class="Bound">ψ</a><a id="5725" class="Symbol">)</a> <a id="5727" class="Symbol">=</a> <a id="5729" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5739" href="/lia/part1/NormalForms/#5720" class="Bound">φ</a> <a id="5741" href="/lia/part1/NormalForms/#988" class="InductiveConstructor Operator">⇒</a> <a id="5743" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5753" href="/lia/part1/NormalForms/#5724" class="Bound">ψ</a>
<a id="5755" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5765" class="Symbol">(</a><a id="5766" href="/lia/part1/NormalForms/#5766" class="Bound">φ</a> <a id="5768" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="5770" href="/lia/part1/NormalForms/#5770" class="Bound">ψ</a><a id="5771" class="Symbol">)</a> <a id="5773" class="Symbol">=</a> <a id="5775" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5785" href="/lia/part1/NormalForms/#5766" class="Bound">φ</a> <a id="5787" href="/lia/part1/NormalForms/#1027" class="InductiveConstructor Operator">⇔</a> <a id="5789" href="/lia/part1/NormalForms/#4958" class="Function">wnnf-WNNF</a> <a id="5799" href="/lia/part1/NormalForms/#5770" class="Bound">ψ</a></pre>

</div>

<h3 id="soundness">Soundness</h3>

<p>The proof of soundess is conceptually simple and it is based on the
double negation and de Morgan’s laws. The only difficulty is posed by
the termination checker.</p>

<p>The most immediate way to prove soundness would be to mimick the
recursive structure of <a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a> as follows:</p>

<pre class="Agda"><a id="6111" class="Symbol">{-#</a> <a id="6115" class="Keyword">TERMINATING</a> <a id="6127" class="Symbol">#-}</a>
<a id="wnnf-sound'"></a><a id="6131" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6143" class="Symbol">:</a> <a id="6145" class="Symbol">∀</a> <a id="6147" href="/lia/part1/NormalForms/#6147" class="Bound">φ</a> <a id="6149" class="Symbol">→</a> <a id="6151" href="/lia/part1/NormalForms/#6147" class="Bound">φ</a> <a id="6153" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="6155" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="6160" href="/lia/part1/NormalForms/#6147" class="Bound">φ</a>

<a id="6163" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6175" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="6177" href="/lia/part1/NormalForms/#6177" class="Bound">ϱ</a> <a id="6179" class="Symbol">=</a> <a id="6181" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="6186" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6198" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="6200" href="/lia/part1/NormalForms/#6200" class="Bound">ϱ</a> <a id="6202" class="Symbol">=</a> <a id="6204" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="6209" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6221" class="Symbol">(</a><a id="6222" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="6224" href="/lia/part1/NormalForms/#6224" class="Bound">p</a><a id="6225" class="Symbol">)</a> <a id="6227" href="/lia/part1/NormalForms/#6227" class="Bound">ϱ</a> <a id="6229" class="Symbol">=</a> <a id="6231" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="6236" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6248" class="Symbol">(</a><a id="6249" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="6251" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a><a id="6252" class="Symbol">)</a> <a id="6254" href="/lia/part1/NormalForms/#6254" class="Bound">ϱ</a> <a id="6256" class="Symbol">=</a> <a id="6258" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="6263" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6275" class="Symbol">(</a><a id="6276" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="6278" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a><a id="6279" class="Symbol">)</a> <a id="6281" href="/lia/part1/NormalForms/#6281" class="Bound">ϱ</a> <a id="6283" class="Symbol">=</a> <a id="6285" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="6290" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6302" class="Symbol">(</a><a id="6303" href="/lia/part1/NormalForms/#6303" class="Bound">φ</a> <a id="6305" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="6307" href="/lia/part1/NormalForms/#6307" class="Bound">ψ</a><a id="6308" class="Symbol">)</a> <a id="6310" href="/lia/part1/NormalForms/#6310" class="Bound">ϱ</a>
  <a id="6314" class="Keyword">rewrite</a> <a id="6322" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6334" href="/lia/part1/NormalForms/#6303" class="Bound">φ</a> <a id="6336" href="/lia/part1/NormalForms/#6310" class="Bound">ϱ</a> <a id="6338" class="Symbol">|</a>
          <a id="6350" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6362" href="/lia/part1/NormalForms/#6307" class="Bound">ψ</a> <a id="6364" href="/lia/part1/NormalForms/#6310" class="Bound">ϱ</a> <a id="6366" class="Symbol">=</a> <a id="6368" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
          
<a id="6384" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6396" class="Symbol">(</a><a id="6397" href="/lia/part1/NormalForms/#6397" class="Bound">φ</a> <a id="6399" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="6401" href="/lia/part1/NormalForms/#6401" class="Bound">ψ</a><a id="6402" class="Symbol">)</a> <a id="6404" href="/lia/part1/NormalForms/#6404" class="Bound">ϱ</a>
  <a id="6408" class="Keyword">rewrite</a> <a id="6416" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6428" href="/lia/part1/NormalForms/#6397" class="Bound">φ</a> <a id="6430" href="/lia/part1/NormalForms/#6404" class="Bound">ϱ</a> <a id="6432" class="Symbol">|</a>
          <a id="6444" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6456" href="/lia/part1/NormalForms/#6401" class="Bound">ψ</a> <a id="6458" href="/lia/part1/NormalForms/#6404" class="Bound">ϱ</a> <a id="6460" class="Symbol">=</a> <a id="6462" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
          
<a id="6478" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6490" class="Symbol">(</a><a id="6491" href="/lia/part1/NormalForms/#6491" class="Bound">φ</a> <a id="6493" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="6495" href="/lia/part1/NormalForms/#6495" class="Bound">ψ</a><a id="6496" class="Symbol">)</a> <a id="6498" href="/lia/part1/NormalForms/#6498" class="Bound">ϱ</a>
  <a id="6502" class="Keyword">rewrite</a> <a id="6510" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6522" href="/lia/part1/NormalForms/#6491" class="Bound">φ</a> <a id="6524" href="/lia/part1/NormalForms/#6498" class="Bound">ϱ</a> <a id="6526" class="Symbol">|</a>
          <a id="6538" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6550" href="/lia/part1/NormalForms/#6495" class="Bound">ψ</a> <a id="6552" href="/lia/part1/NormalForms/#6498" class="Bound">ϱ</a> <a id="6554" class="Symbol">=</a> <a id="6556" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
          
<a id="6572" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6584" class="Symbol">(</a><a id="6585" href="/lia/part1/NormalForms/#6585" class="Bound">φ</a> <a id="6587" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="6589" href="/lia/part1/NormalForms/#6589" class="Bound">ψ</a><a id="6590" class="Symbol">)</a> <a id="6592" href="/lia/part1/NormalForms/#6592" class="Bound">ϱ</a>
  <a id="6596" class="Keyword">rewrite</a> <a id="6604" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6616" href="/lia/part1/NormalForms/#6585" class="Bound">φ</a> <a id="6618" href="/lia/part1/NormalForms/#6592" class="Bound">ϱ</a> <a id="6620" class="Symbol">|</a>
          <a id="6632" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6644" href="/lia/part1/NormalForms/#6589" class="Bound">ψ</a> <a id="6646" href="/lia/part1/NormalForms/#6592" class="Bound">ϱ</a> <a id="6648" class="Symbol">=</a> <a id="6650" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
          
<a id="6666" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6678" class="Symbol">(</a><a id="6679" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="6681" class="Symbol">(</a><a id="6682" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="6684" href="/lia/part1/NormalForms/#6684" class="Bound">p</a><a id="6685" class="Symbol">))</a> <a id="6688" href="/lia/part1/NormalForms/#6688" class="Bound">ϱ</a> <a id="6690" class="Symbol">=</a> <a id="6692" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="6697" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6709" class="Symbol">(</a><a id="6710" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="6712" class="Symbol">(</a><a id="6713" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="6715" href="/lia/part1/NormalForms/#6715" class="Bound">φ</a><a id="6716" class="Symbol">))</a> <a id="6719" href="/lia/part1/NormalForms/#6719" class="Bound">ϱ</a>
  <a id="6723" class="Keyword">rewrite</a> <a id="6731" href="/lia/part1/Semantics/#31250" class="Function">doubleNegationLaw</a> <a id="6749" href="/lia/part1/NormalForms/#6715" class="Bound">φ</a> <a id="6751" href="/lia/part1/NormalForms/#6719" class="Bound">ϱ</a> <a id="6753" class="Symbol">|</a>
          <a id="6765" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6777" href="/lia/part1/NormalForms/#6715" class="Bound">φ</a> <a id="6779" href="/lia/part1/NormalForms/#6719" class="Bound">ϱ</a> <a id="6781" class="Symbol">=</a> <a id="6783" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="6791" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6803" class="Symbol">(</a><a id="6804" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="6806" class="Symbol">(</a><a id="6807" href="/lia/part1/NormalForms/#6807" class="Bound">φ</a> <a id="6809" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="6811" href="/lia/part1/NormalForms/#6811" class="Bound">ψ</a><a id="6812" class="Symbol">))</a> <a id="6815" href="/lia/part1/NormalForms/#6815" class="Bound">ϱ</a>
   <a id="6820" class="Keyword">rewrite</a> <a id="6828" href="/lia/part1/Semantics/#31330" class="Function">deMorganOr</a> <a id="6839" href="/lia/part1/NormalForms/#6807" class="Bound">φ</a> <a id="6841" href="/lia/part1/NormalForms/#6811" class="Bound">ψ</a> <a id="6843" href="/lia/part1/NormalForms/#6815" class="Bound">ϱ</a> <a id="6845" class="Symbol">|</a>
           <a id="6858" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6870" class="Symbol">(</a><a id="6871" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="6873" href="/lia/part1/NormalForms/#6807" class="Bound">φ</a><a id="6874" class="Symbol">)</a> <a id="6876" href="/lia/part1/NormalForms/#6815" class="Bound">ϱ</a> <a id="6878" class="Symbol">|</a>
           <a id="6891" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6903" class="Symbol">(</a><a id="6904" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="6906" href="/lia/part1/NormalForms/#6811" class="Bound">ψ</a><a id="6907" class="Symbol">)</a> <a id="6909" href="/lia/part1/NormalForms/#6815" class="Bound">ϱ</a> <a id="6911" class="Symbol">=</a> <a id="6913" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a> <a id="6918" class="Comment">-- termination issue (*)</a>
           
<a id="6955" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="6967" class="Symbol">(</a><a id="6968" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="6970" class="Symbol">(</a><a id="6971" href="/lia/part1/NormalForms/#6971" class="Bound">φ</a> <a id="6973" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="6975" href="/lia/part1/NormalForms/#6975" class="Bound">ψ</a><a id="6976" class="Symbol">))</a> <a id="6979" href="/lia/part1/NormalForms/#6979" class="Bound">ϱ</a>
   <a id="6984" class="Keyword">rewrite</a> <a id="6992" href="/lia/part1/Semantics/#31286" class="Function">deMorganAnd</a> <a id="7004" href="/lia/part1/NormalForms/#6971" class="Bound">φ</a> <a id="7006" href="/lia/part1/NormalForms/#6975" class="Bound">ψ</a> <a id="7008" href="/lia/part1/NormalForms/#6979" class="Bound">ϱ</a> <a id="7010" class="Symbol">|</a>
           <a id="7023" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="7035" class="Symbol">(</a><a id="7036" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="7038" href="/lia/part1/NormalForms/#6971" class="Bound">φ</a><a id="7039" class="Symbol">)</a> <a id="7041" href="/lia/part1/NormalForms/#6979" class="Bound">ϱ</a> <a id="7043" class="Symbol">|</a>
           <a id="7056" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="7068" class="Symbol">(</a><a id="7069" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="7071" href="/lia/part1/NormalForms/#6975" class="Bound">ψ</a><a id="7072" class="Symbol">)</a> <a id="7074" href="/lia/part1/NormalForms/#6979" class="Bound">ϱ</a> <a id="7076" class="Symbol">=</a> <a id="7078" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="7084" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="7096" class="Symbol">(</a><a id="7097" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="7099" class="Symbol">(</a><a id="7100" href="/lia/part1/NormalForms/#7100" class="Bound">φ</a> <a id="7102" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="7104" href="/lia/part1/NormalForms/#7104" class="Bound">ψ</a><a id="7105" class="Symbol">))</a> <a id="7108" href="/lia/part1/NormalForms/#7108" class="Bound">ϱ</a>
   <a id="7113" class="Keyword">rewrite</a> <a id="7121" href="/lia/part1/Semantics/#31420" class="Function">deMorganImplies</a> <a id="7137" href="/lia/part1/NormalForms/#7100" class="Bound">φ</a> <a id="7139" href="/lia/part1/NormalForms/#7104" class="Bound">ψ</a> <a id="7141" href="/lia/part1/NormalForms/#7108" class="Bound">ϱ</a> <a id="7143" class="Symbol">|</a>
           <a id="7156" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="7168" href="/lia/part1/NormalForms/#7100" class="Bound">φ</a> <a id="7170" href="/lia/part1/NormalForms/#7108" class="Bound">ϱ</a> <a id="7172" class="Symbol">|</a>
           <a id="7185" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="7197" class="Symbol">(</a><a id="7198" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="7200" href="/lia/part1/NormalForms/#7104" class="Bound">ψ</a><a id="7201" class="Symbol">)</a> <a id="7203" href="/lia/part1/NormalForms/#7108" class="Bound">ϱ</a> <a id="7205" class="Symbol">=</a> <a id="7207" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="7213" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="7225" class="Symbol">(</a><a id="7226" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="7228" class="Symbol">(</a><a id="7229" href="/lia/part1/NormalForms/#7229" class="Bound">φ</a> <a id="7231" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="7233" href="/lia/part1/NormalForms/#7233" class="Bound">ψ</a><a id="7234" class="Symbol">))</a> <a id="7237" href="/lia/part1/NormalForms/#7237" class="Bound">ϱ</a>
   <a id="7242" class="Keyword">rewrite</a> <a id="7250" href="/lia/part1/Semantics/#31513" class="Function">deMorganIff-right</a> <a id="7268" href="/lia/part1/NormalForms/#7229" class="Bound">φ</a> <a id="7270" href="/lia/part1/NormalForms/#7233" class="Bound">ψ</a> <a id="7272" href="/lia/part1/NormalForms/#7237" class="Bound">ϱ</a> <a id="7274" class="Symbol">|</a>
           <a id="7287" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="7299" href="/lia/part1/NormalForms/#7229" class="Bound">φ</a> <a id="7301" href="/lia/part1/NormalForms/#7237" class="Bound">ϱ</a> <a id="7303" class="Symbol">|</a>
           <a id="7316" href="/lia/part1/NormalForms/#6131" class="Function">wnnf-sound'</a> <a id="7328" class="Symbol">(</a><a id="7329" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="7331" href="/lia/part1/NormalForms/#7233" class="Bound">ψ</a><a id="7332" class="Symbol">)</a> <a id="7334" href="/lia/part1/NormalForms/#7237" class="Bound">ϱ</a> <a id="7336" class="Symbol">=</a> <a id="7338" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<p>The <code class="language-plaintext highlighter-rouge">TERMINATING</code> pragma instructs Agda to accept this definition even
if it is not proved terminating by the termination checker. (In this way
we do not need to comment out the code.) This can be verified by
commenting out the pragma, wereby the termination checker will complain
about the recursive invocation marked by <code class="language-plaintext highlighter-rouge">(*)</code> above. It is surprising
that the termination checker cannot establish that
<a href="#wnnf-sound'"><code class="language-plaintext highlighter-rouge">wnnf-sound'</code></a> is terminating (which indeed it is), since
it has the same recursive structure as <a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a> , which is
established terminating.</p>

<p>We need to find a way to convince the termination checker. A simple
work-around with negligible notational overhead is to split the
soundness proof in two parts:</p>

<pre class="Agda"><a id="wnnf-sound"></a><a id="8066" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="8077" class="Symbol">:</a> <a id="8079" class="Symbol">∀</a> <a id="8081" href="/lia/part1/NormalForms/#8081" class="Bound">φ</a> <a id="8083" class="Symbol">→</a> <a id="8085" href="/lia/part1/NormalForms/#8081" class="Bound">φ</a> <a id="8087" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="8089" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="8094" href="/lia/part1/NormalForms/#8081" class="Bound">φ</a>
<a id="wnnf¬-sound"></a><a id="8096" href="/lia/part1/NormalForms/#8096" class="Function">wnnf¬-sound</a> <a id="8108" class="Symbol">:</a> <a id="8110" class="Symbol">∀</a> <a id="8112" href="/lia/part1/NormalForms/#8112" class="Bound">φ</a> <a id="8114" class="Symbol">→</a> <a id="8116" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="8118" href="/lia/part1/NormalForms/#8112" class="Bound">φ</a> <a id="8120" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="8122" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="8127" class="Symbol">(</a><a id="8128" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="8130" href="/lia/part1/NormalForms/#8112" class="Bound">φ</a><a id="8131" class="Symbol">)</a></pre>

<p>where the second part takes care of negated formulas. With this
“division of duties” approach, we can comfortably write the following
mutually recursive definitions:</p>

<pre class="Agda"><a id="8309" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="8320" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="8322" href="/lia/part1/NormalForms/#8322" class="Bound">ϱ</a> <a id="8324" class="Symbol">=</a> <a id="8326" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8331" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="8342" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="8344" href="/lia/part1/NormalForms/#8344" class="Bound">ϱ</a> <a id="8346" class="Symbol">=</a> <a id="8348" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8353" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="8364" class="Symbol">(</a><a id="8365" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="8367" href="/lia/part1/NormalForms/#8367" class="Bound">p</a><a id="8368" class="Symbol">)</a> <a id="8370" href="/lia/part1/NormalForms/#8370" class="Bound">ϱ</a> <a id="8372" class="Symbol">=</a> <a id="8374" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8379" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="8390" class="Symbol">(</a><a id="8391" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="8393" href="/lia/part1/NormalForms/#8393" class="Bound">φ</a><a id="8394" class="Symbol">)</a> <a id="8396" class="Symbol">=</a> <a id="8398" href="/lia/part1/NormalForms/#8096" class="Function">wnnf¬-sound</a> <a id="8410" href="/lia/part1/NormalForms/#8393" class="Bound">φ</a>
<a id="8412" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="8423" class="Symbol">(</a><a id="8424" href="/lia/part1/NormalForms/#8424" class="Bound">φ</a> <a id="8426" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="8428" href="/lia/part1/NormalForms/#8428" class="Bound">ψ</a><a id="8429" class="Symbol">)</a> <a id="8431" href="/lia/part1/NormalForms/#8431" class="Bound">ϱ</a>
  <a id="8435" class="Keyword">rewrite</a> <a id="8443" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="8454" href="/lia/part1/NormalForms/#8424" class="Bound">φ</a> <a id="8456" href="/lia/part1/NormalForms/#8431" class="Bound">ϱ</a> <a id="8458" class="Symbol">|</a>
          <a id="8470" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="8481" href="/lia/part1/NormalForms/#8428" class="Bound">ψ</a> <a id="8483" href="/lia/part1/NormalForms/#8431" class="Bound">ϱ</a> <a id="8485" class="Symbol">=</a> <a id="8487" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8492" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="8503" class="Symbol">(</a><a id="8504" href="/lia/part1/NormalForms/#8504" class="Bound">φ</a> <a id="8506" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="8508" href="/lia/part1/NormalForms/#8508" class="Bound">ψ</a><a id="8509" class="Symbol">)</a> <a id="8511" href="/lia/part1/NormalForms/#8511" class="Bound">ϱ</a>
  <a id="8515" class="Keyword">rewrite</a> <a id="8523" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="8534" href="/lia/part1/NormalForms/#8504" class="Bound">φ</a> <a id="8536" href="/lia/part1/NormalForms/#8511" class="Bound">ϱ</a> <a id="8538" class="Symbol">|</a>
          <a id="8550" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="8561" href="/lia/part1/NormalForms/#8508" class="Bound">ψ</a> <a id="8563" href="/lia/part1/NormalForms/#8511" class="Bound">ϱ</a> <a id="8565" class="Symbol">=</a> <a id="8567" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8572" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="8583" class="Symbol">(</a><a id="8584" href="/lia/part1/NormalForms/#8584" class="Bound">φ</a> <a id="8586" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="8588" href="/lia/part1/NormalForms/#8588" class="Bound">ψ</a><a id="8589" class="Symbol">)</a> <a id="8591" href="/lia/part1/NormalForms/#8591" class="Bound">ϱ</a>
  <a id="8595" class="Keyword">rewrite</a> <a id="8603" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="8614" href="/lia/part1/NormalForms/#8584" class="Bound">φ</a> <a id="8616" href="/lia/part1/NormalForms/#8591" class="Bound">ϱ</a> <a id="8618" class="Symbol">|</a>
          <a id="8630" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="8641" href="/lia/part1/NormalForms/#8588" class="Bound">ψ</a> <a id="8643" href="/lia/part1/NormalForms/#8591" class="Bound">ϱ</a> <a id="8645" class="Symbol">=</a> <a id="8647" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8652" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="8663" class="Symbol">(</a><a id="8664" href="/lia/part1/NormalForms/#8664" class="Bound">φ</a> <a id="8666" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="8668" href="/lia/part1/NormalForms/#8668" class="Bound">ψ</a><a id="8669" class="Symbol">)</a> <a id="8671" href="/lia/part1/NormalForms/#8671" class="Bound">ϱ</a>
  <a id="8675" class="Keyword">rewrite</a> <a id="8683" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="8694" href="/lia/part1/NormalForms/#8664" class="Bound">φ</a> <a id="8696" href="/lia/part1/NormalForms/#8671" class="Bound">ϱ</a> <a id="8698" class="Symbol">|</a>
          <a id="8710" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="8721" href="/lia/part1/NormalForms/#8668" class="Bound">ψ</a> <a id="8723" href="/lia/part1/NormalForms/#8671" class="Bound">ϱ</a> <a id="8725" class="Symbol">=</a> <a id="8727" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<p>and</p>

<pre class="Agda"><a id="8746" href="/lia/part1/NormalForms/#8096" class="Function">wnnf¬-sound</a> <a id="8758" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="8760" href="/lia/part1/NormalForms/#8760" class="Bound">ϱ</a> <a id="8762" class="Symbol">=</a> <a id="8764" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8769" href="/lia/part1/NormalForms/#8096" class="Function">wnnf¬-sound</a> <a id="8781" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="8783" href="/lia/part1/NormalForms/#8783" class="Bound">ϱ</a> <a id="8785" class="Symbol">=</a> <a id="8787" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8792" href="/lia/part1/NormalForms/#8096" class="Function">wnnf¬-sound</a> <a id="8804" class="Symbol">(</a><a id="8805" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="8807" href="/lia/part1/NormalForms/#8807" class="Bound">p</a><a id="8808" class="Symbol">)</a> <a id="8810" href="/lia/part1/NormalForms/#8810" class="Bound">ϱ</a> <a id="8812" class="Symbol">=</a> <a id="8814" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8819" href="/lia/part1/NormalForms/#8096" class="Function">wnnf¬-sound</a> <a id="8831" class="Symbol">(</a><a id="8832" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="8834" href="/lia/part1/NormalForms/#8834" class="Bound">φ</a><a id="8835" class="Symbol">)</a> <a id="8837" href="/lia/part1/NormalForms/#8837" class="Bound">ϱ</a> 
  <a id="8842" class="Keyword">rewrite</a> <a id="8850" href="/lia/part1/Semantics/#31250" class="Function">doubleNegationLaw</a> <a id="8868" href="/lia/part1/NormalForms/#8834" class="Bound">φ</a> <a id="8870" href="/lia/part1/NormalForms/#8837" class="Bound">ϱ</a> <a id="8872" class="Symbol">|</a>
          <a id="8884" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="8895" href="/lia/part1/NormalForms/#8834" class="Bound">φ</a> <a id="8897" href="/lia/part1/NormalForms/#8837" class="Bound">ϱ</a> <a id="8899" class="Symbol">=</a> <a id="8901" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="8909" href="/lia/part1/NormalForms/#8096" class="Function">wnnf¬-sound</a> <a id="8921" class="Symbol">(</a><a id="8922" href="/lia/part1/NormalForms/#8922" class="Bound">φ</a> <a id="8924" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="8926" href="/lia/part1/NormalForms/#8926" class="Bound">ψ</a><a id="8927" class="Symbol">)</a> <a id="8929" href="/lia/part1/NormalForms/#8929" class="Bound">ϱ</a>
  <a id="8933" class="Keyword">rewrite</a> <a id="8941" href="/lia/part1/Semantics/#31330" class="Function">deMorganOr</a> <a id="8952" href="/lia/part1/NormalForms/#8922" class="Bound">φ</a> <a id="8954" href="/lia/part1/NormalForms/#8926" class="Bound">ψ</a> <a id="8956" href="/lia/part1/NormalForms/#8929" class="Bound">ϱ</a> <a id="8958" class="Symbol">|</a>
          <a id="8970" href="/lia/part1/NormalForms/#8096" class="Function">wnnf¬-sound</a> <a id="8982" href="/lia/part1/NormalForms/#8922" class="Bound">φ</a> <a id="8984" href="/lia/part1/NormalForms/#8929" class="Bound">ϱ</a> <a id="8986" class="Symbol">|</a>
          <a id="8998" href="/lia/part1/NormalForms/#8096" class="Function">wnnf¬-sound</a> <a id="9010" href="/lia/part1/NormalForms/#8926" class="Bound">ψ</a> <a id="9012" href="/lia/part1/NormalForms/#8929" class="Bound">ϱ</a> <a id="9014" class="Symbol">=</a> <a id="9016" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
          
<a id="9032" href="/lia/part1/NormalForms/#8096" class="Function">wnnf¬-sound</a> <a id="9044" class="Symbol">(</a><a id="9045" href="/lia/part1/NormalForms/#9045" class="Bound">φ</a> <a id="9047" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="9049" href="/lia/part1/NormalForms/#9049" class="Bound">ψ</a><a id="9050" class="Symbol">)</a> <a id="9052" href="/lia/part1/NormalForms/#9052" class="Bound">ϱ</a>
  <a id="9056" class="Keyword">rewrite</a> <a id="9064" href="/lia/part1/Semantics/#31286" class="Function">deMorganAnd</a> <a id="9076" href="/lia/part1/NormalForms/#9045" class="Bound">φ</a> <a id="9078" href="/lia/part1/NormalForms/#9049" class="Bound">ψ</a> <a id="9080" href="/lia/part1/NormalForms/#9052" class="Bound">ϱ</a> <a id="9082" class="Symbol">|</a>
          <a id="9094" href="/lia/part1/NormalForms/#8096" class="Function">wnnf¬-sound</a> <a id="9106" href="/lia/part1/NormalForms/#9045" class="Bound">φ</a> <a id="9108" href="/lia/part1/NormalForms/#9052" class="Bound">ϱ</a> <a id="9110" class="Symbol">|</a>
          <a id="9122" href="/lia/part1/NormalForms/#8096" class="Function">wnnf¬-sound</a> <a id="9134" href="/lia/part1/NormalForms/#9049" class="Bound">ψ</a> <a id="9136" href="/lia/part1/NormalForms/#9052" class="Bound">ϱ</a> <a id="9138" class="Symbol">=</a> <a id="9140" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="9146" href="/lia/part1/NormalForms/#8096" class="Function">wnnf¬-sound</a> <a id="9158" class="Symbol">(</a><a id="9159" href="/lia/part1/NormalForms/#9159" class="Bound">φ</a> <a id="9161" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="9163" href="/lia/part1/NormalForms/#9163" class="Bound">ψ</a><a id="9164" class="Symbol">)</a> <a id="9166" href="/lia/part1/NormalForms/#9166" class="Bound">ϱ</a>
  <a id="9170" class="Keyword">rewrite</a> <a id="9178" href="/lia/part1/Semantics/#31420" class="Function">deMorganImplies</a> <a id="9194" href="/lia/part1/NormalForms/#9159" class="Bound">φ</a> <a id="9196" href="/lia/part1/NormalForms/#9163" class="Bound">ψ</a> <a id="9198" href="/lia/part1/NormalForms/#9166" class="Bound">ϱ</a> <a id="9200" class="Symbol">|</a>
          <a id="9212" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="9223" href="/lia/part1/NormalForms/#9159" class="Bound">φ</a> <a id="9225" href="/lia/part1/NormalForms/#9166" class="Bound">ϱ</a> <a id="9227" class="Symbol">|</a>
          <a id="9239" href="/lia/part1/NormalForms/#8096" class="Function">wnnf¬-sound</a> <a id="9251" href="/lia/part1/NormalForms/#9163" class="Bound">ψ</a> <a id="9253" href="/lia/part1/NormalForms/#9166" class="Bound">ϱ</a> <a id="9255" class="Symbol">=</a> <a id="9257" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="9263" href="/lia/part1/NormalForms/#8096" class="Function">wnnf¬-sound</a> <a id="9275" class="Symbol">(</a><a id="9276" href="/lia/part1/NormalForms/#9276" class="Bound">φ</a> <a id="9278" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="9280" href="/lia/part1/NormalForms/#9280" class="Bound">ψ</a><a id="9281" class="Symbol">)</a> <a id="9283" href="/lia/part1/NormalForms/#9283" class="Bound">ϱ</a>
  <a id="9287" class="Keyword">rewrite</a> <a id="9295" href="/lia/part1/Semantics/#31513" class="Function">deMorganIff-right</a> <a id="9313" href="/lia/part1/NormalForms/#9276" class="Bound">φ</a> <a id="9315" href="/lia/part1/NormalForms/#9280" class="Bound">ψ</a> <a id="9317" href="/lia/part1/NormalForms/#9283" class="Bound">ϱ</a> <a id="9319" class="Symbol">|</a>
          <a id="9331" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="9342" href="/lia/part1/NormalForms/#9276" class="Bound">φ</a> <a id="9344" href="/lia/part1/NormalForms/#9283" class="Bound">ϱ</a> <a id="9346" class="Symbol">|</a>
          <a id="9358" href="/lia/part1/NormalForms/#8096" class="Function">wnnf¬-sound</a> <a id="9370" href="/lia/part1/NormalForms/#9280" class="Bound">ψ</a> <a id="9372" href="/lia/part1/NormalForms/#9283" class="Bound">ϱ</a> <a id="9374" class="Symbol">=</a> <a id="9376" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<h2 id="internal-verification">
<a class="anchor" href="#internal-verification" aria-hidden="true"><span class="octicon octicon-link"></span></a>Internal verification</h2>

<p>An alternative approach is to the define the WNNF transformation and its
correctness proof as a single recursive definition:</p>

<pre class="Agda"><a id="wnnf′"></a><a id="9542" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="9548" class="Symbol">:</a> <a id="9550" href="/lia/part0/Logic/#216" class="Function">∀[</a> <a id="9553" href="/lia/part1/NormalForms/#9553" class="Bound">φ</a> <a id="9555" href="/lia/part0/Logic/#216" class="Function">]</a> <a id="9557" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="9560" href="/lia/part1/NormalForms/#9560" class="Bound">ψ</a> <a id="9562" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="9564" href="/lia/part1/NormalForms/#782" class="Datatype">WNNF</a> <a id="9569" href="/lia/part1/NormalForms/#9560" class="Bound">ψ</a> <a id="9571" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="9573" href="/lia/part1/NormalForms/#9553" class="Bound">φ</a> <a id="9575" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="9577" href="/lia/part1/NormalForms/#9560" class="Bound">ψ</a></pre>

<div class="introbox">

  <p>This has the advantage of solving the termination problem highlighted
above. One disadvantage is that in contexts where we need just the WNNF
formula, but not its correctness proof, we cannot write just <code class="language-plaintext highlighter-rouge">wnnf φ</code>,
but we would need to write the less transparent <code class="language-plaintext highlighter-rouge">dfst (wnnf' φ)</code>. For
this reason, in this section we have preferred an approach where the
definition of WNNF and its correctness proof are given separately,
however it is interesting to compare it to the case where they are given
together. This style of programming is sometimes called <em>internal
verification</em>. <button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="10182" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="10188" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="10190" class="Symbol">=</a> <a id="10192" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="10194" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10196" href="/lia/part1/NormalForms/#824" class="InductiveConstructor">⊥</a> <a id="10198" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10200" class="Symbol">λ</a> <a id="10202" href="/lia/part1/NormalForms/#10202" class="Bound">ϱ</a> <a id="10204" class="Symbol">→</a> <a id="10206" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="10211" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="10217" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="10219" class="Symbol">=</a> <a id="10221" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="10223" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10225" href="/lia/part1/NormalForms/#811" class="InductiveConstructor">⊤</a> <a id="10227" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10229" class="Symbol">λ</a> <a id="10231" href="/lia/part1/NormalForms/#10231" class="Bound">ϱ</a> <a id="10233" class="Symbol">→</a> <a id="10235" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="10240" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="10246" class="Symbol">(</a><a id="10247" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="10249" href="/lia/part1/NormalForms/#10249" class="Bound">p</a><a id="10250" class="Symbol">)</a> <a id="10252" class="Symbol">=</a> <a id="10254" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="10256" href="/lia/part1/NormalForms/#10249" class="Bound">p</a> <a id="10258" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10260" href="/lia/part1/NormalForms/#837" class="InductiveConstructor Operator">`</a> <a id="10262" href="/lia/part1/NormalForms/#10249" class="Bound">p</a> <a id="10264" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10266" class="Symbol">λ</a> <a id="10268" href="/lia/part1/NormalForms/#10268" class="Bound">ϱ</a> <a id="10270" class="Symbol">→</a> <a id="10272" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="10277" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="10283" class="Symbol">(</a><a id="10284" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="10286" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a><a id="10287" class="Symbol">)</a> <a id="10289" class="Symbol">=</a> <a id="10291" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="10293" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10295" href="/lia/part1/NormalForms/#811" class="InductiveConstructor">⊤</a> <a id="10297" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10299" class="Symbol">λ</a> <a id="10301" href="/lia/part1/NormalForms/#10301" class="Bound">ϱ</a> <a id="10303" class="Symbol">→</a> <a id="10305" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="10310" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="10316" class="Symbol">(</a><a id="10317" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="10319" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a><a id="10320" class="Symbol">)</a> <a id="10322" class="Symbol">=</a> <a id="10324" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="10326" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10328" href="/lia/part1/NormalForms/#824" class="InductiveConstructor">⊥</a> <a id="10330" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10332" class="Symbol">λ</a> <a id="10334" href="/lia/part1/NormalForms/#10334" class="Bound">ϱ</a> <a id="10336" class="Symbol">→</a> <a id="10338" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="10343" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="10349" class="Symbol">(</a><a id="10350" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="10352" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="10354" href="/lia/part1/NormalForms/#10354" class="Bound">p</a><a id="10355" class="Symbol">)</a> <a id="10357" class="Symbol">=</a> <a id="10359" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="10361" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="10363" href="/lia/part1/NormalForms/#10354" class="Bound">p</a> <a id="10365" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10367" href="/lia/part1/NormalForms/#872" class="InductiveConstructor Operator">¬`</a> <a id="10370" href="/lia/part1/NormalForms/#10354" class="Bound">p</a> <a id="10372" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10374" class="Symbol">λ</a> <a id="10376" href="/lia/part1/NormalForms/#10376" class="Bound">ϱ</a> <a id="10378" class="Symbol">→</a> <a id="10380" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="10386" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="10392" class="Symbol">(</a><a id="10393" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="10395" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="10397" href="/lia/part1/NormalForms/#10397" class="Bound">φ</a><a id="10398" class="Symbol">)</a> <a id="10400" class="Keyword">with</a> <a id="10405" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="10411" href="/lia/part1/NormalForms/#10397" class="Bound">φ</a>
<a id="10413" class="Symbol">...</a> <a id="10417" class="Symbol">|</a> <a id="10419" href="/lia/part1/NormalForms/#10419" class="Bound">ψ</a> <a id="10421" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10423" href="/lia/part1/NormalForms/#10423" class="Bound">WNNFψ</a> <a id="10429" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10431" href="/lia/part1/NormalForms/#10431" class="Bound">φ⟺ψ</a> <a id="10435" class="Symbol">=</a> <a id="10437" href="/lia/part1/NormalForms/#10419" class="Bound">ψ</a> <a id="10439" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10441" href="/lia/part1/NormalForms/#10423" class="Bound">WNNFψ</a> <a id="10447" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10449" href="/lia/part1/NormalForms/#10470" class="Function">correctness</a> <a id="10461" class="Keyword">where</a>

  <a id="10470" href="/lia/part1/NormalForms/#10470" class="Function">correctness</a> <a id="10482" class="Symbol">:</a> <a id="10484" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="10486" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="10488" class="Bound">φ</a> <a id="10490" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="10492" href="/lia/part1/NormalForms/#10419" class="Bound">ψ</a>
  <a id="10496" href="/lia/part1/NormalForms/#10470" class="Function">correctness</a> <a id="10508" href="/lia/part1/NormalForms/#10508" class="Bound">ϱ</a> <a id="10510" class="Keyword">rewrite</a> <a id="10518" href="/lia/part1/Semantics/#31250" class="Function">doubleNegationLaw</a> <a id="10536" class="Bound">φ</a> <a id="10538" href="/lia/part1/NormalForms/#10508" class="Bound">ϱ</a> <a id="10540" class="Symbol">|</a>
                        <a id="10566" href="/lia/part1/NormalForms/#10431" class="Bound">φ⟺ψ</a> <a id="10570" href="/lia/part1/NormalForms/#10508" class="Bound">ϱ</a> <a id="10572" class="Symbol">=</a> <a id="10574" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="10580" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="10586" class="Symbol">(</a><a id="10587" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="10589" class="Symbol">(</a><a id="10590" href="/lia/part1/NormalForms/#10590" class="Bound">φ₀</a> <a id="10593" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="10595" href="/lia/part1/NormalForms/#10595" class="Bound">φ₁</a><a id="10597" class="Symbol">))</a> <a id="10600" class="Keyword">with</a> <a id="10605" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="10611" class="Symbol">(</a><a id="10612" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="10614" href="/lia/part1/NormalForms/#10590" class="Bound">φ₀</a><a id="10616" class="Symbol">)</a> <a id="10618" class="Symbol">|</a> <a id="10620" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="10626" class="Symbol">(</a><a id="10627" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="10629" href="/lia/part1/NormalForms/#10595" class="Bound">φ₁</a><a id="10631" class="Symbol">)</a>
<a id="10633" class="Symbol">...</a> <a id="10637" class="Symbol">|</a> <a id="10639" href="/lia/part1/NormalForms/#10639" class="Bound">ψ₀</a> <a id="10642" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10644" href="/lia/part1/NormalForms/#10644" class="Bound">WNNFψ₀</a> <a id="10651" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10653" href="/lia/part1/NormalForms/#10653" class="Bound">φ₀⟺ψ₀</a>
    <a id="10663" class="Symbol">|</a> <a id="10665" href="/lia/part1/NormalForms/#10665" class="Bound">ψ₁</a> <a id="10668" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10670" href="/lia/part1/NormalForms/#10670" class="Bound">WNNFψ₁</a> <a id="10677" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10679" href="/lia/part1/NormalForms/#10679" class="Bound">φ₁⟺ψ₁</a> <a id="10685" class="Symbol">=</a> <a id="10687" href="/lia/part1/NormalForms/#10639" class="Bound">ψ₀</a> <a id="10690" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="10692" href="/lia/part1/NormalForms/#10665" class="Bound">ψ₁</a> <a id="10695" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10697" href="/lia/part1/NormalForms/#10644" class="Bound">WNNFψ₀</a> <a id="10704" href="/lia/part1/NormalForms/#910" class="InductiveConstructor Operator">∧</a> <a id="10706" href="/lia/part1/NormalForms/#10670" class="Bound">WNNFψ₁</a> <a id="10713" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10715" href="/lia/part1/NormalForms/#10736" class="Function">correctness</a> <a id="10727" class="Keyword">where</a>

  <a id="10736" href="/lia/part1/NormalForms/#10736" class="Function">correctness</a> <a id="10748" class="Symbol">:</a> <a id="10750" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="10752" class="Symbol">(</a><a id="10753" class="Bound">φ₀</a> <a id="10756" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="10758" class="Bound">φ₁</a><a id="10760" class="Symbol">)</a> <a id="10762" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="10764" href="/lia/part1/NormalForms/#10639" class="Bound">ψ₀</a> <a id="10767" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="10769" href="/lia/part1/NormalForms/#10665" class="Bound">ψ₁</a>
  <a id="10774" href="/lia/part1/NormalForms/#10736" class="Function">correctness</a> <a id="10786" href="/lia/part1/NormalForms/#10786" class="Bound">ϱ</a> <a id="10788" class="Keyword">rewrite</a> <a id="10796" href="/lia/part1/Semantics/#31330" class="Function">deMorganOr</a> <a id="10807" class="Bound">φ₀</a> <a id="10810" class="Bound">φ₁</a> <a id="10813" href="/lia/part1/NormalForms/#10786" class="Bound">ϱ</a> <a id="10815" class="Symbol">|</a>
                        <a id="10841" href="/lia/part1/NormalForms/#10653" class="Bound">φ₀⟺ψ₀</a> <a id="10847" href="/lia/part1/NormalForms/#10786" class="Bound">ϱ</a> <a id="10849" class="Symbol">|</a>
                        <a id="10875" href="/lia/part1/NormalForms/#10679" class="Bound">φ₁⟺ψ₁</a> <a id="10881" href="/lia/part1/NormalForms/#10786" class="Bound">ϱ</a> <a id="10883" class="Symbol">=</a> <a id="10885" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="10891" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="10897" class="Symbol">(</a><a id="10898" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="10900" class="Symbol">(</a><a id="10901" href="/lia/part1/NormalForms/#10901" class="Bound">φ₀</a> <a id="10904" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="10906" href="/lia/part1/NormalForms/#10906" class="Bound">φ₁</a><a id="10908" class="Symbol">))</a> <a id="10911" class="Keyword">with</a> <a id="10916" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="10922" class="Symbol">(</a><a id="10923" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="10925" href="/lia/part1/NormalForms/#10901" class="Bound">φ₀</a><a id="10927" class="Symbol">)</a> <a id="10929" class="Symbol">|</a> <a id="10931" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="10937" class="Symbol">(</a><a id="10938" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="10940" href="/lia/part1/NormalForms/#10906" class="Bound">φ₁</a><a id="10942" class="Symbol">)</a>
<a id="10944" class="Symbol">...</a> <a id="10948" class="Symbol">|</a> <a id="10950" href="/lia/part1/NormalForms/#10950" class="Bound">ψ₀</a> <a id="10953" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10955" href="/lia/part1/NormalForms/#10955" class="Bound">WNNFψ₀</a> <a id="10962" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10964" href="/lia/part1/NormalForms/#10964" class="Bound">φ₀⟺ψ₀</a>
    <a id="10974" class="Symbol">|</a> <a id="10976" href="/lia/part1/NormalForms/#10976" class="Bound">ψ₁</a> <a id="10979" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10981" href="/lia/part1/NormalForms/#10981" class="Bound">WNNFψ₁</a> <a id="10988" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10990" href="/lia/part1/NormalForms/#10990" class="Bound">φ₁⟺ψ₁</a> <a id="10996" class="Symbol">=</a> <a id="10998" href="/lia/part1/NormalForms/#10950" class="Bound">ψ₀</a> <a id="11001" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="11003" href="/lia/part1/NormalForms/#10976" class="Bound">ψ₁</a> <a id="11006" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11008" href="/lia/part1/NormalForms/#10955" class="Bound">WNNFψ₀</a> <a id="11015" href="/lia/part1/NormalForms/#949" class="InductiveConstructor Operator">∨</a> <a id="11017" href="/lia/part1/NormalForms/#10981" class="Bound">WNNFψ₁</a> <a id="11024" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11026" href="/lia/part1/NormalForms/#11047" class="Function">correctness</a> <a id="11038" class="Keyword">where</a>

  <a id="11047" href="/lia/part1/NormalForms/#11047" class="Function">correctness</a> <a id="11059" class="Symbol">:</a> <a id="11061" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="11063" class="Symbol">(</a><a id="11064" class="Bound">φ₀</a> <a id="11067" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="11069" class="Bound">φ₁</a><a id="11071" class="Symbol">)</a> <a id="11073" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="11075" href="/lia/part1/NormalForms/#10950" class="Bound">ψ₀</a> <a id="11078" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="11080" href="/lia/part1/NormalForms/#10976" class="Bound">ψ₁</a>
  <a id="11085" href="/lia/part1/NormalForms/#11047" class="Function">correctness</a> <a id="11097" href="/lia/part1/NormalForms/#11097" class="Bound">ϱ</a> <a id="11099" class="Keyword">rewrite</a> <a id="11107" href="/lia/part1/Semantics/#31286" class="Function">deMorganAnd</a> <a id="11119" class="Bound">φ₀</a> <a id="11122" class="Bound">φ₁</a> <a id="11125" href="/lia/part1/NormalForms/#11097" class="Bound">ϱ</a> <a id="11127" class="Symbol">|</a>
                        <a id="11153" href="/lia/part1/NormalForms/#10964" class="Bound">φ₀⟺ψ₀</a> <a id="11159" href="/lia/part1/NormalForms/#11097" class="Bound">ϱ</a> <a id="11161" class="Symbol">|</a>
                        <a id="11187" href="/lia/part1/NormalForms/#10990" class="Bound">φ₁⟺ψ₁</a> <a id="11193" href="/lia/part1/NormalForms/#11097" class="Bound">ϱ</a> <a id="11195" class="Symbol">=</a> <a id="11197" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
            
<a id="11215" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="11221" class="Symbol">(</a><a id="11222" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="11224" class="Symbol">(</a><a id="11225" href="/lia/part1/NormalForms/#11225" class="Bound">φ₀</a> <a id="11228" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="11230" href="/lia/part1/NormalForms/#11230" class="Bound">φ₁</a><a id="11232" class="Symbol">))</a> <a id="11235" class="Keyword">with</a> <a id="11240" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="11246" href="/lia/part1/NormalForms/#11225" class="Bound">φ₀</a> <a id="11249" class="Symbol">|</a> <a id="11251" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="11257" class="Symbol">(</a><a id="11258" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="11260" href="/lia/part1/NormalForms/#11230" class="Bound">φ₁</a><a id="11262" class="Symbol">)</a>
<a id="11264" class="Symbol">...</a> <a id="11268" class="Symbol">|</a> <a id="11270" href="/lia/part1/NormalForms/#11270" class="Bound">ψ₀</a> <a id="11273" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11275" href="/lia/part1/NormalForms/#11275" class="Bound">WNNFψ₀</a> <a id="11282" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11284" href="/lia/part1/NormalForms/#11284" class="Bound">φ₀⟺ψ₀</a>
    <a id="11294" class="Symbol">|</a> <a id="11296" href="/lia/part1/NormalForms/#11296" class="Bound">ψ₁</a> <a id="11299" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11301" href="/lia/part1/NormalForms/#11301" class="Bound">WNNFψ₁</a> <a id="11308" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11310" href="/lia/part1/NormalForms/#11310" class="Bound">φ₁⟺ψ₁</a> <a id="11316" class="Symbol">=</a> <a id="11318" href="/lia/part1/NormalForms/#11270" class="Bound">ψ₀</a> <a id="11321" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="11323" href="/lia/part1/NormalForms/#11296" class="Bound">ψ₁</a> <a id="11326" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11328" href="/lia/part1/NormalForms/#11275" class="Bound">WNNFψ₀</a> <a id="11335" href="/lia/part1/NormalForms/#910" class="InductiveConstructor Operator">∧</a> <a id="11337" href="/lia/part1/NormalForms/#11301" class="Bound">WNNFψ₁</a> <a id="11344" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11346" href="/lia/part1/NormalForms/#11367" class="Function">correctness</a> <a id="11358" class="Keyword">where</a>

  <a id="11367" href="/lia/part1/NormalForms/#11367" class="Function">correctness</a> <a id="11379" class="Symbol">:</a> <a id="11381" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="11383" class="Symbol">(</a><a id="11384" class="Bound">φ₀</a> <a id="11387" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="11389" class="Bound">φ₁</a><a id="11391" class="Symbol">)</a> <a id="11393" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="11395" href="/lia/part1/NormalForms/#11270" class="Bound">ψ₀</a> <a id="11398" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="11400" href="/lia/part1/NormalForms/#11296" class="Bound">ψ₁</a>
  <a id="11405" href="/lia/part1/NormalForms/#11367" class="Function">correctness</a> <a id="11417" href="/lia/part1/NormalForms/#11417" class="Bound">ϱ</a> <a id="11419" class="Keyword">rewrite</a> <a id="11427" href="/lia/part1/Semantics/#31420" class="Function">deMorganImplies</a> <a id="11443" class="Bound">φ₀</a> <a id="11446" class="Bound">φ₁</a> <a id="11449" href="/lia/part1/NormalForms/#11417" class="Bound">ϱ</a> <a id="11451" class="Symbol">|</a>
                        <a id="11477" href="/lia/part1/NormalForms/#11284" class="Bound">φ₀⟺ψ₀</a> <a id="11483" href="/lia/part1/NormalForms/#11417" class="Bound">ϱ</a> <a id="11485" class="Symbol">|</a>
                        <a id="11511" href="/lia/part1/NormalForms/#11310" class="Bound">φ₁⟺ψ₁</a> <a id="11517" href="/lia/part1/NormalForms/#11417" class="Bound">ϱ</a> <a id="11519" class="Symbol">=</a> <a id="11521" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
            
<a id="11539" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="11545" class="Symbol">(</a><a id="11546" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="11548" class="Symbol">(</a><a id="11549" href="/lia/part1/NormalForms/#11549" class="Bound">φ₀</a> <a id="11552" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="11554" href="/lia/part1/NormalForms/#11554" class="Bound">φ₁</a><a id="11556" class="Symbol">))</a> <a id="11559" class="Keyword">with</a> <a id="11564" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="11570" href="/lia/part1/NormalForms/#11549" class="Bound">φ₀</a> <a id="11573" class="Symbol">|</a> <a id="11575" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="11581" class="Symbol">(</a><a id="11582" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="11584" href="/lia/part1/NormalForms/#11554" class="Bound">φ₁</a><a id="11586" class="Symbol">)</a>
<a id="11588" class="Symbol">...</a> <a id="11592" class="Symbol">|</a> <a id="11594" href="/lia/part1/NormalForms/#11594" class="Bound">ψ₀</a> <a id="11597" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11599" href="/lia/part1/NormalForms/#11599" class="Bound">WNNFψ₀</a> <a id="11606" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11608" href="/lia/part1/NormalForms/#11608" class="Bound">φ₀⟺ψ₀</a>
    <a id="11618" class="Symbol">|</a> <a id="11620" href="/lia/part1/NormalForms/#11620" class="Bound">ψ₁</a> <a id="11623" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11625" href="/lia/part1/NormalForms/#11625" class="Bound">WNNFψ₁</a> <a id="11632" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11634" href="/lia/part1/NormalForms/#11634" class="Bound">φ₁⟺ψ₁</a> <a id="11640" class="Symbol">=</a> <a id="11642" href="/lia/part1/NormalForms/#11594" class="Bound">ψ₀</a> <a id="11645" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="11647" href="/lia/part1/NormalForms/#11620" class="Bound">ψ₁</a> <a id="11650" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11652" href="/lia/part1/NormalForms/#11599" class="Bound">WNNFψ₀</a> <a id="11659" href="/lia/part1/NormalForms/#1027" class="InductiveConstructor Operator">⇔</a> <a id="11661" href="/lia/part1/NormalForms/#11625" class="Bound">WNNFψ₁</a> <a id="11668" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11670" href="/lia/part1/NormalForms/#11691" class="Function">correctness</a> <a id="11682" class="Keyword">where</a>

  <a id="11691" href="/lia/part1/NormalForms/#11691" class="Function">correctness</a> <a id="11703" class="Symbol">:</a> <a id="11705" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="11707" class="Symbol">(</a><a id="11708" class="Bound">φ₀</a> <a id="11711" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="11713" class="Bound">φ₁</a><a id="11715" class="Symbol">)</a> <a id="11717" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="11719" href="/lia/part1/NormalForms/#11594" class="Bound">ψ₀</a> <a id="11722" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="11724" href="/lia/part1/NormalForms/#11620" class="Bound">ψ₁</a>
  <a id="11729" href="/lia/part1/NormalForms/#11691" class="Function">correctness</a> <a id="11741" href="/lia/part1/NormalForms/#11741" class="Bound">ϱ</a> <a id="11743" class="Keyword">rewrite</a> <a id="11751" href="/lia/part1/Semantics/#31513" class="Function">deMorganIff-right</a> <a id="11769" class="Bound">φ₀</a> <a id="11772" class="Bound">φ₁</a> <a id="11775" href="/lia/part1/NormalForms/#11741" class="Bound">ϱ</a> <a id="11777" class="Symbol">|</a>
                        <a id="11803" href="/lia/part1/NormalForms/#11608" class="Bound">φ₀⟺ψ₀</a> <a id="11809" href="/lia/part1/NormalForms/#11741" class="Bound">ϱ</a> <a id="11811" class="Symbol">|</a>
                        <a id="11837" href="/lia/part1/NormalForms/#11634" class="Bound">φ₁⟺ψ₁</a> <a id="11843" href="/lia/part1/NormalForms/#11741" class="Bound">ϱ</a> <a id="11845" class="Symbol">=</a> <a id="11847" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
            
<a id="11865" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="11871" class="Symbol">(</a><a id="11872" href="/lia/part1/NormalForms/#11872" class="Bound">φ₀</a> <a id="11875" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="11877" href="/lia/part1/NormalForms/#11877" class="Bound">φ₁</a><a id="11879" class="Symbol">)</a> <a id="11881" class="Keyword">with</a> <a id="11886" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="11892" href="/lia/part1/NormalForms/#11872" class="Bound">φ₀</a> <a id="11895" class="Symbol">|</a> <a id="11897" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="11903" href="/lia/part1/NormalForms/#11877" class="Bound">φ₁</a>
<a id="11906" class="Symbol">...</a> <a id="11910" class="Symbol">|</a> <a id="11912" href="/lia/part1/NormalForms/#11912" class="Bound">ψ₀</a> <a id="11915" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11917" href="/lia/part1/NormalForms/#11917" class="Bound">WNNFψ₀</a> <a id="11924" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11926" href="/lia/part1/NormalForms/#11926" class="Bound">φ₀⟺ψ₀</a>
    <a id="11936" class="Symbol">|</a> <a id="11938" href="/lia/part1/NormalForms/#11938" class="Bound">ψ₁</a> <a id="11941" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11943" href="/lia/part1/NormalForms/#11943" class="Bound">WNNFψ₁</a> <a id="11950" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11952" href="/lia/part1/NormalForms/#11952" class="Bound">φ₁⟺ψ₁</a> <a id="11958" class="Symbol">=</a> <a id="11960" href="/lia/part1/NormalForms/#11912" class="Bound">ψ₀</a> <a id="11963" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="11965" href="/lia/part1/NormalForms/#11938" class="Bound">ψ₁</a> <a id="11968" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11970" href="/lia/part1/NormalForms/#11917" class="Bound">WNNFψ₀</a> <a id="11977" href="/lia/part1/NormalForms/#949" class="InductiveConstructor Operator">∨</a> <a id="11979" href="/lia/part1/NormalForms/#11943" class="Bound">WNNFψ₁</a> <a id="11986" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11988" href="/lia/part1/NormalForms/#12009" class="Function">correctness</a> <a id="12000" class="Keyword">where</a>

  <a id="12009" href="/lia/part1/NormalForms/#12009" class="Function">correctness</a> <a id="12021" class="Symbol">:</a> <a id="12023" class="Bound">φ₀</a> <a id="12026" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="12028" class="Bound">φ₁</a> <a id="12031" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="12033" href="/lia/part1/NormalForms/#11912" class="Bound">ψ₀</a> <a id="12036" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="12038" href="/lia/part1/NormalForms/#11938" class="Bound">ψ₁</a>
  <a id="12043" href="/lia/part1/NormalForms/#12009" class="Function">correctness</a> <a id="12055" href="/lia/part1/NormalForms/#12055" class="Bound">ϱ</a> <a id="12057" class="Keyword">rewrite</a> <a id="12065" href="/lia/part1/NormalForms/#11926" class="Bound">φ₀⟺ψ₀</a> <a id="12071" href="/lia/part1/NormalForms/#12055" class="Bound">ϱ</a> <a id="12073" class="Symbol">|</a>
                        <a id="12099" href="/lia/part1/NormalForms/#11952" class="Bound">φ₁⟺ψ₁</a> <a id="12105" href="/lia/part1/NormalForms/#12055" class="Bound">ϱ</a> <a id="12107" class="Symbol">=</a> <a id="12109" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="12115" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="12121" class="Symbol">(</a><a id="12122" href="/lia/part1/NormalForms/#12122" class="Bound">φ₀</a> <a id="12125" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="12127" href="/lia/part1/NormalForms/#12127" class="Bound">φ₁</a><a id="12129" class="Symbol">)</a> <a id="12131" class="Keyword">with</a> <a id="12136" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="12142" href="/lia/part1/NormalForms/#12122" class="Bound">φ₀</a> <a id="12145" class="Symbol">|</a> <a id="12147" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="12153" href="/lia/part1/NormalForms/#12127" class="Bound">φ₁</a>
<a id="12156" class="Symbol">...</a> <a id="12160" class="Symbol">|</a> <a id="12162" href="/lia/part1/NormalForms/#12162" class="Bound">ψ₀</a> <a id="12165" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12167" href="/lia/part1/NormalForms/#12167" class="Bound">WNNFψ₀</a> <a id="12174" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12176" href="/lia/part1/NormalForms/#12176" class="Bound">φ₀⟺ψ₀</a>
    <a id="12186" class="Symbol">|</a> <a id="12188" href="/lia/part1/NormalForms/#12188" class="Bound">ψ₁</a> <a id="12191" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12193" href="/lia/part1/NormalForms/#12193" class="Bound">WNNFψ₁</a> <a id="12200" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12202" href="/lia/part1/NormalForms/#12202" class="Bound">φ₁⟺ψ₁</a> <a id="12208" class="Symbol">=</a> <a id="12210" href="/lia/part1/NormalForms/#12162" class="Bound">ψ₀</a> <a id="12213" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="12215" href="/lia/part1/NormalForms/#12188" class="Bound">ψ₁</a> <a id="12218" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12220" href="/lia/part1/NormalForms/#12167" class="Bound">WNNFψ₀</a> <a id="12227" href="/lia/part1/NormalForms/#910" class="InductiveConstructor Operator">∧</a> <a id="12229" href="/lia/part1/NormalForms/#12193" class="Bound">WNNFψ₁</a> <a id="12236" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12238" href="/lia/part1/NormalForms/#12259" class="Function">correctness</a> <a id="12250" class="Keyword">where</a>

  <a id="12259" href="/lia/part1/NormalForms/#12259" class="Function">correctness</a> <a id="12271" class="Symbol">:</a> <a id="12273" class="Bound">φ₀</a> <a id="12276" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="12278" class="Bound">φ₁</a> <a id="12281" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="12283" href="/lia/part1/NormalForms/#12162" class="Bound">ψ₀</a> <a id="12286" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="12288" href="/lia/part1/NormalForms/#12188" class="Bound">ψ₁</a>
  <a id="12293" href="/lia/part1/NormalForms/#12259" class="Function">correctness</a> <a id="12305" href="/lia/part1/NormalForms/#12305" class="Bound">ϱ</a> <a id="12307" class="Keyword">rewrite</a> <a id="12315" href="/lia/part1/NormalForms/#12176" class="Bound">φ₀⟺ψ₀</a> <a id="12321" href="/lia/part1/NormalForms/#12305" class="Bound">ϱ</a> <a id="12323" class="Symbol">|</a>
                        <a id="12349" href="/lia/part1/NormalForms/#12202" class="Bound">φ₁⟺ψ₁</a> <a id="12355" href="/lia/part1/NormalForms/#12305" class="Bound">ϱ</a> <a id="12357" class="Symbol">=</a> <a id="12359" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="12365" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="12371" class="Symbol">(</a><a id="12372" href="/lia/part1/NormalForms/#12372" class="Bound">φ₀</a> <a id="12375" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="12377" href="/lia/part1/NormalForms/#12377" class="Bound">φ₁</a><a id="12379" class="Symbol">)</a> <a id="12381" class="Keyword">with</a> <a id="12386" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="12392" href="/lia/part1/NormalForms/#12372" class="Bound">φ₀</a> <a id="12395" class="Symbol">|</a> <a id="12397" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="12403" href="/lia/part1/NormalForms/#12377" class="Bound">φ₁</a>
<a id="12406" class="Symbol">...</a> <a id="12410" class="Symbol">|</a> <a id="12412" href="/lia/part1/NormalForms/#12412" class="Bound">ψ₀</a> <a id="12415" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12417" href="/lia/part1/NormalForms/#12417" class="Bound">WNNFψ₀</a> <a id="12424" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12426" href="/lia/part1/NormalForms/#12426" class="Bound">φ₀⟺ψ₀</a>
    <a id="12436" class="Symbol">|</a> <a id="12438" href="/lia/part1/NormalForms/#12438" class="Bound">ψ₁</a> <a id="12441" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12443" href="/lia/part1/NormalForms/#12443" class="Bound">WNNFψ₁</a> <a id="12450" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12452" href="/lia/part1/NormalForms/#12452" class="Bound">φ₁⟺ψ₁</a> <a id="12458" class="Symbol">=</a> <a id="12460" href="/lia/part1/NormalForms/#12412" class="Bound">ψ₀</a> <a id="12463" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="12465" href="/lia/part1/NormalForms/#12438" class="Bound">ψ₁</a> <a id="12468" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12470" href="/lia/part1/NormalForms/#12417" class="Bound">WNNFψ₀</a> <a id="12477" href="/lia/part1/NormalForms/#988" class="InductiveConstructor Operator">⇒</a> <a id="12479" href="/lia/part1/NormalForms/#12443" class="Bound">WNNFψ₁</a> <a id="12486" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12488" href="/lia/part1/NormalForms/#12509" class="Function">correctness</a> <a id="12500" class="Keyword">where</a>

  <a id="12509" href="/lia/part1/NormalForms/#12509" class="Function">correctness</a> <a id="12521" class="Symbol">:</a> <a id="12523" class="Bound">φ₀</a> <a id="12526" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="12528" class="Bound">φ₁</a> <a id="12531" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="12533" href="/lia/part1/NormalForms/#12412" class="Bound">ψ₀</a> <a id="12536" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="12538" href="/lia/part1/NormalForms/#12438" class="Bound">ψ₁</a>
  <a id="12543" href="/lia/part1/NormalForms/#12509" class="Function">correctness</a> <a id="12555" href="/lia/part1/NormalForms/#12555" class="Bound">ϱ</a> <a id="12557" class="Keyword">rewrite</a> <a id="12565" href="/lia/part1/NormalForms/#12426" class="Bound">φ₀⟺ψ₀</a> <a id="12571" href="/lia/part1/NormalForms/#12555" class="Bound">ϱ</a> <a id="12573" class="Symbol">|</a>
                        <a id="12599" href="/lia/part1/NormalForms/#12452" class="Bound">φ₁⟺ψ₁</a> <a id="12605" href="/lia/part1/NormalForms/#12555" class="Bound">ϱ</a> <a id="12607" class="Symbol">=</a> <a id="12609" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="12615" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="12621" class="Symbol">(</a><a id="12622" href="/lia/part1/NormalForms/#12622" class="Bound">φ₀</a> <a id="12625" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="12627" href="/lia/part1/NormalForms/#12627" class="Bound">φ₁</a><a id="12629" class="Symbol">)</a> <a id="12631" class="Keyword">with</a> <a id="12636" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="12642" href="/lia/part1/NormalForms/#12622" class="Bound">φ₀</a> <a id="12645" class="Symbol">|</a> <a id="12647" href="/lia/part1/NormalForms/#9542" class="Function">wnnf′</a> <a id="12653" href="/lia/part1/NormalForms/#12627" class="Bound">φ₁</a>
<a id="12656" class="Symbol">...</a> <a id="12660" class="Symbol">|</a> <a id="12662" href="/lia/part1/NormalForms/#12662" class="Bound">ψ₀</a> <a id="12665" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12667" href="/lia/part1/NormalForms/#12667" class="Bound">WNNFψ₀</a> <a id="12674" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12676" href="/lia/part1/NormalForms/#12676" class="Bound">φ₀⟺ψ₀</a>
    <a id="12686" class="Symbol">|</a> <a id="12688" href="/lia/part1/NormalForms/#12688" class="Bound">ψ₁</a> <a id="12691" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12693" href="/lia/part1/NormalForms/#12693" class="Bound">WNNFψ₁</a> <a id="12700" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12702" href="/lia/part1/NormalForms/#12702" class="Bound">φ₁⟺ψ₁</a> <a id="12708" class="Symbol">=</a> <a id="12710" href="/lia/part1/NormalForms/#12662" class="Bound">ψ₀</a> <a id="12713" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="12715" href="/lia/part1/NormalForms/#12688" class="Bound">ψ₁</a> <a id="12718" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12720" href="/lia/part1/NormalForms/#12667" class="Bound">WNNFψ₀</a> <a id="12727" href="/lia/part1/NormalForms/#1027" class="InductiveConstructor Operator">⇔</a> <a id="12729" href="/lia/part1/NormalForms/#12693" class="Bound">WNNFψ₁</a> <a id="12736" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12738" href="/lia/part1/NormalForms/#12759" class="Function">correctness</a> <a id="12750" class="Keyword">where</a>

  <a id="12759" href="/lia/part1/NormalForms/#12759" class="Function">correctness</a> <a id="12771" class="Symbol">:</a> <a id="12773" class="Bound">φ₀</a> <a id="12776" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="12778" class="Bound">φ₁</a> <a id="12781" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="12783" href="/lia/part1/NormalForms/#12662" class="Bound">ψ₀</a> <a id="12786" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="12788" href="/lia/part1/NormalForms/#12688" class="Bound">ψ₁</a>
  <a id="12793" href="/lia/part1/NormalForms/#12759" class="Function">correctness</a> <a id="12805" href="/lia/part1/NormalForms/#12805" class="Bound">ϱ</a> <a id="12807" class="Keyword">rewrite</a> <a id="12815" href="/lia/part1/NormalForms/#12676" class="Bound">φ₀⟺ψ₀</a> <a id="12821" href="/lia/part1/NormalForms/#12805" class="Bound">ϱ</a> <a id="12823" class="Symbol">|</a>
                        <a id="12849" href="/lia/part1/NormalForms/#12702" class="Bound">φ₁⟺ψ₁</a> <a id="12855" href="/lia/part1/NormalForms/#12805" class="Bound">ϱ</a> <a id="12857" class="Symbol">=</a> <a id="12859" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

</div>

<h2 id="formula-size">
<a class="anchor" href="#formula-size" aria-hidden="true"><span class="octicon octicon-link"></span></a>Formula size</h2>

<p>it is useful to have a notion of <em>size</em> of a formula in order to show
that the size decreases at each step. The definition of formula size is
given by structural induction on <code class="language-plaintext highlighter-rouge">Formula</code>:</p>

<pre class="Agda"><a id="size"></a><a id="13082" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13087" class="Symbol">:</a> <a id="13089" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="13097" class="Symbol">→</a> <a id="13099" href="/lia/part0/Naturals/#146" class="Datatype">ℕ</a>
<a id="13101" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13106" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="13108" class="Symbol">=</a> <a id="13110" class="Number">1</a>
<a id="13112" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13117" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="13119" class="Symbol">=</a> <a id="13121" class="Number">1</a>
<a id="13123" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13128" class="Symbol">(</a><a id="13129" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="13131" class="Symbol">_)</a> <a id="13134" class="Symbol">=</a> <a id="13136" class="Number">1</a>
<a id="13138" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13143" class="Symbol">(</a><a id="13144" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="13146" href="/lia/part1/NormalForms/#13146" class="Bound">φ</a><a id="13147" class="Symbol">)</a> <a id="13149" class="Symbol">=</a> <a id="13151" class="Number">1</a> <a id="13153" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="13155" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13160" href="/lia/part1/NormalForms/#13146" class="Bound">φ</a>
<a id="13162" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13167" class="Symbol">(</a><a id="13168" href="/lia/part1/NormalForms/#13168" class="Bound">φ</a> <a id="13170" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="13172" href="/lia/part1/NormalForms/#13172" class="Bound">ψ</a><a id="13173" class="Symbol">)</a> <a id="13175" class="Symbol">=</a> <a id="13177" class="Number">1</a> <a id="13179" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="13181" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13186" href="/lia/part1/NormalForms/#13168" class="Bound">φ</a> <a id="13188" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="13190" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13195" href="/lia/part1/NormalForms/#13172" class="Bound">ψ</a>
<a id="13197" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13202" class="Symbol">(</a><a id="13203" href="/lia/part1/NormalForms/#13203" class="Bound">φ</a> <a id="13205" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="13207" href="/lia/part1/NormalForms/#13207" class="Bound">ψ</a><a id="13208" class="Symbol">)</a> <a id="13210" class="Symbol">=</a> <a id="13212" class="Number">1</a> <a id="13214" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="13216" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13221" href="/lia/part1/NormalForms/#13203" class="Bound">φ</a> <a id="13223" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="13225" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13230" href="/lia/part1/NormalForms/#13207" class="Bound">ψ</a>
<a id="13232" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13237" class="Symbol">(</a><a id="13238" href="/lia/part1/NormalForms/#13238" class="Bound">φ</a> <a id="13240" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="13242" href="/lia/part1/NormalForms/#13242" class="Bound">ψ</a><a id="13243" class="Symbol">)</a> <a id="13245" class="Symbol">=</a> <a id="13247" class="Number">1</a> <a id="13249" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="13251" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13256" href="/lia/part1/NormalForms/#13238" class="Bound">φ</a> <a id="13258" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="13260" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13265" href="/lia/part1/NormalForms/#13242" class="Bound">ψ</a>
<a id="13267" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13272" class="Symbol">(</a><a id="13273" href="/lia/part1/NormalForms/#13273" class="Bound">φ</a> <a id="13275" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="13277" href="/lia/part1/NormalForms/#13277" class="Bound">ψ</a><a id="13278" class="Symbol">)</a> <a id="13280" class="Symbol">=</a> <a id="13282" class="Number">1</a> <a id="13284" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="13286" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13291" href="/lia/part1/NormalForms/#13273" class="Bound">φ</a> <a id="13293" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="13295" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13300" href="/lia/part1/NormalForms/#13277" class="Bound">ψ</a></pre>

<div class="examplebox">

  <dl>
    <dt><span id="example:size" class="pandoc-numbering-text example"><strong>Example 1</strong></span></dt>
    <dd>In the example formula <code class="language-plaintext highlighter-rouge">φ₀</code>, we have:</dd>
  </dl>

  <pre class="Agda"><a id="13408" href="/lia/part1/NormalForms/#13408" class="Function">_</a> <a id="13410" class="Symbol">:</a> <a id="13412" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13417" href="/lia/part1/Semantics/#4420" class="Function">φ₀</a> <a id="13420" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="13422" class="Number">6</a>
<a id="13424" class="Symbol">_</a> <a id="13426" class="Symbol">=</a> <a id="13428" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

  <p><span class="hidden">∎</span><span class="right-aligned">∎</span></p>

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:size-neg" class="pandoc-numbering-text exercise"><strong>Exercise 1</strong> <em>(<code class="language-plaintext highlighter-rouge">size-¬</code>)</em></span></dt>
    <dd>Prove that <a href="#size"><code class="language-plaintext highlighter-rouge">size</code></a> satisfies the following two inequalities:</dd>
  </dl>

  <pre class="Agda"><a id="size-¬"></a><a id="13616" href="/lia/part1/NormalForms/#13616" class="Function">size-¬</a> <a id="13623" class="Symbol">:</a> <a id="13625" class="Symbol">∀</a> <a id="13627" href="/lia/part1/NormalForms/#13627" class="Bound">φ</a> <a id="13629" class="Symbol">→</a> <a id="13631" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13636" href="/lia/part1/NormalForms/#13627" class="Bound">φ</a> <a id="13638" href="/lia/part0/Naturals/#576" class="Datatype Operator">≤</a> <a id="13640" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13645" class="Symbol">(</a><a id="13646" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="13648" href="/lia/part1/NormalForms/#13627" class="Bound">φ</a><a id="13649" class="Symbol">)</a>
<a id="size-¬¬"></a><a id="13651" href="/lia/part1/NormalForms/#13651" class="Function">size-¬¬</a> <a id="13659" class="Symbol">:</a> <a id="13661" class="Symbol">∀</a> <a id="13663" href="/lia/part1/NormalForms/#13663" class="Bound">φ</a> <a id="13665" class="Symbol">→</a> <a id="13667" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13672" href="/lia/part1/NormalForms/#13663" class="Bound">φ</a> <a id="13674" href="/lia/part0/Naturals/#576" class="Datatype Operator">≤</a> <a id="13676" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="13681" class="Symbol">(</a><a id="13682" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="13684" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="13686" href="/lia/part1/NormalForms/#13663" class="Bound">φ</a><a id="13687" class="Symbol">)</a></pre>

  <p>(This will be used in the chapter on <a href="../../part1/NormalForms">Normal
Forms</a>.) <span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:size-neg-solution)
:::::::
-->

</div>

<p>We show that the NNF formula produced by <a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a> has size linear
in the input.</p>

<pre class="Agda"><a id="wnnf-size"></a><a id="14042" href="/lia/part1/NormalForms/#14042" class="Function">wnnf-size</a> <a id="14052" class="Symbol">:</a> <a id="14054" class="Symbol">∀</a> <a id="14056" href="/lia/part1/NormalForms/#14056" class="Bound">φ</a> <a id="14058" class="Symbol">→</a> <a id="14060" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="14065" class="Symbol">(</a><a id="14066" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="14071" href="/lia/part1/NormalForms/#14056" class="Bound">φ</a><a id="14072" class="Symbol">)</a> <a id="14074" href="/lia/part0/Naturals/#576" class="Datatype Operator">≤</a> <a id="14076" class="Number">2</a> <a id="14078" href="/lia/part0/Naturals/#4149" class="Function Operator">*</a> <a id="14080" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="14085" href="/lia/part1/NormalForms/#14056" class="Bound">φ</a></pre>

<p>In order to prove <a href="#wnnf-size"><code class="language-plaintext highlighter-rouge">wnnf-size</code></a> above, it is useful to have
the following stronger invariant for negated formulas.</p>

<pre class="Agda"><a id="wnnf-size¬"></a><a id="14224" href="/lia/part1/NormalForms/#14224" class="Function">wnnf-size¬</a> <a id="14235" class="Symbol">:</a> <a id="14237" class="Symbol">∀</a> <a id="14239" href="/lia/part1/NormalForms/#14239" class="Bound">φ</a> <a id="14241" class="Symbol">→</a> <a id="14243" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="14248" class="Symbol">(</a><a id="14249" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="14254" class="Symbol">(</a><a id="14255" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="14257" href="/lia/part1/NormalForms/#14239" class="Bound">φ</a><a id="14258" class="Symbol">))</a> <a id="14261" href="/lia/part0/Naturals/#576" class="Datatype Operator">≤</a> <a id="14263" class="Number">2</a> <a id="14265" href="/lia/part0/Naturals/#4149" class="Function Operator">*</a> <a id="14267" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="14272" href="/lia/part1/NormalForms/#14239" class="Bound">φ</a></pre>

<p>We can now proceed to prove <a href="#wnnf-size"><code class="language-plaintext highlighter-rouge">wnnf-size</code></a> and
<a href="#wnnf-size%C2%AC"><code class="language-plaintext highlighter-rouge">wnnf-size¬</code></a> by mutual induction. The last four cases
follow a similar pattern. We first abstract the pattern and then apply
it several times.</p>

<pre class="Agda"><a id="size-reasoning"></a><a id="14500" href="/lia/part1/NormalForms/#14500" class="Function">size-reasoning</a> <a id="14515" class="Symbol">:</a> <a id="14517" class="Symbol">({</a><a id="14519" href="/lia/part1/NormalForms/#14519" class="Bound">a</a> <a id="14521" href="/lia/part1/NormalForms/#14521" class="Bound">b</a><a id="14522" class="Symbol">}</a> <a id="14524" href="/lia/part1/NormalForms/#14524" class="Bound">c</a> <a id="14526" class="Symbol">{</a><a id="14527" href="/lia/part1/NormalForms/#14527" class="Bound">d</a><a id="14528" class="Symbol">}</a> <a id="14530" class="Symbol">:</a> <a id="14532" href="/lia/part0/Naturals/#146" class="Datatype">ℕ</a><a id="14533" class="Symbol">)</a> <a id="14535" class="Symbol">(</a><a id="14536" href="/lia/part1/NormalForms/#14536" class="Bound">_</a> <a id="14538" class="Symbol">:</a> <a id="14540" href="/lia/part1/NormalForms/#14519" class="Bound">a</a> <a id="14542" href="/lia/part0/Naturals/#576" class="Datatype Operator">≤</a> <a id="14544" class="Number">2</a> <a id="14546" href="/lia/part0/Naturals/#4149" class="Function Operator">*</a> <a id="14548" href="/lia/part1/NormalForms/#14524" class="Bound">c</a><a id="14549" class="Symbol">)</a> <a id="14551" class="Symbol">(</a><a id="14552" href="/lia/part1/NormalForms/#14552" class="Bound">_</a> <a id="14554" class="Symbol">:</a> <a id="14556" href="/lia/part1/NormalForms/#14521" class="Bound">b</a> <a id="14558" href="/lia/part0/Naturals/#576" class="Datatype Operator">≤</a> <a id="14560" class="Number">2</a> <a id="14562" href="/lia/part0/Naturals/#4149" class="Function Operator">*</a> <a id="14564" href="/lia/part1/NormalForms/#14527" class="Bound">d</a><a id="14565" class="Symbol">)</a> <a id="14567" class="Symbol">→</a> <a id="14569" class="Number">1</a> <a id="14571" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="14573" href="/lia/part1/NormalForms/#14519" class="Bound">a</a> <a id="14575" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="14577" href="/lia/part1/NormalForms/#14521" class="Bound">b</a> <a id="14579" href="/lia/part0/Naturals/#576" class="Datatype Operator">≤</a> <a id="14581" class="Number">2</a> <a id="14583" href="/lia/part0/Naturals/#4149" class="Function Operator">*</a> <a id="14585" class="Symbol">(</a><a id="14586" class="Number">1</a> <a id="14588" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="14590" href="/lia/part1/NormalForms/#14524" class="Bound">c</a> <a id="14592" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="14594" href="/lia/part1/NormalForms/#14527" class="Bound">d</a><a id="14595" class="Symbol">)</a></pre>
<pre class="Agda"><a id="14606" href="/lia/part1/NormalForms/#14042" class="Function">wnnf-size</a> <a id="14616" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="14618" class="Symbol">=</a> <a id="14620" href="/lia/part0/Naturals/#631" class="InductiveConstructor">s≤s</a> <a id="14624" href="/lia/part0/Naturals/#602" class="InductiveConstructor">0≤n</a>
<a id="14628" href="/lia/part1/NormalForms/#14042" class="Function">wnnf-size</a> <a id="14638" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="14640" class="Symbol">=</a> <a id="14642" href="/lia/part0/Naturals/#631" class="InductiveConstructor">s≤s</a> <a id="14646" href="/lia/part0/Naturals/#602" class="InductiveConstructor">0≤n</a>
<a id="14650" href="/lia/part1/NormalForms/#14042" class="Function">wnnf-size</a> <a id="14660" class="Symbol">(</a><a id="14661" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="14663" href="/lia/part1/NormalForms/#14663" class="Bound">p</a><a id="14664" class="Symbol">)</a> <a id="14666" class="Symbol">=</a> <a id="14668" href="/lia/part0/Naturals/#631" class="InductiveConstructor">s≤s</a> <a id="14672" href="/lia/part0/Naturals/#602" class="InductiveConstructor">0≤n</a>

<a id="14677" href="/lia/part1/NormalForms/#14042" class="Function">wnnf-size</a> <a id="14687" class="Symbol">(</a><a id="14688" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="14690" href="/lia/part1/NormalForms/#14690" class="Bound">φ</a><a id="14691" class="Symbol">)</a> <a id="14693" class="Keyword">with</a> <a id="14698" href="/lia/part1/NormalForms/#14224" class="Function">wnnf-size¬</a> <a id="14709" href="/lia/part1/NormalForms/#14690" class="Bound">φ</a>
<a id="14711" class="Symbol">...</a> <a id="14715" class="Symbol">|</a> <a id="14717" href="/lia/part1/NormalForms/#14717" class="Bound">ind¬φ</a> <a id="14723" class="Symbol">=</a> <a id="14725" href="/lia/part0/Naturals/#2401" class="Function Operator">begin≤</a>
  <a id="14734" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="14739" class="Symbol">(</a><a id="14740" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="14745" class="Symbol">(</a><a id="14746" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="14748" class="Bound">φ</a><a id="14749" class="Symbol">))</a> <a id="14752" href="/lia/part0/Naturals/#2668" class="Function Operator">≤⟨</a> <a id="14755" href="/lia/part1/NormalForms/#14717" class="Bound">ind¬φ</a> <a id="14761" href="/lia/part0/Naturals/#2668" class="Function Operator">⟩</a>
  <a id="14765" class="Number">2</a> <a id="14767" href="/lia/part0/Naturals/#4149" class="Function Operator">*</a> <a id="14769" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="14774" class="Bound">φ</a> <a id="14776" href="/lia/part0/Naturals/#2668" class="Function Operator">≤⟨</a> <a id="14779" href="/lia/part0/Naturals/#5628" class="Postulate">cong-≤</a> <a id="14786" class="Symbol">(</a><a id="14787" href="/lia/part0/Naturals/#5121" class="InductiveConstructor">Num</a> <a id="14791" class="Number">2</a> <a id="14793" href="/lia/part0/Naturals/#5186" class="InductiveConstructor Operator">*C</a> <a id="14796" href="/lia/part0/Naturals/#5110" class="InductiveConstructor">□</a><a id="14797" class="Symbol">)</a> <a id="14799" class="Symbol">(</a><a id="14800" href="/lia/part1/NormalForms/#13616" class="Function">size-¬</a> <a id="14807" class="Bound">φ</a><a id="14808" class="Symbol">)</a> <a id="14810" href="/lia/part0/Naturals/#2668" class="Function Operator">⟩</a>
  <a id="14814" class="Number">2</a> <a id="14816" href="/lia/part0/Naturals/#4149" class="Function Operator">*</a> <a id="14818" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="14823" class="Symbol">(</a><a id="14824" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="14826" class="Bound">φ</a><a id="14827" class="Symbol">)</a> <a id="14829" href="/lia/part0/Naturals/#3214" class="Function Operator">∎≤</a>

<a id="14833" href="/lia/part1/NormalForms/#14042" class="Function">wnnf-size</a> <a id="14843" class="Symbol">(</a><a id="14844" href="/lia/part1/NormalForms/#14844" class="Bound">φ</a> <a id="14846" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="14848" href="/lia/part1/NormalForms/#14848" class="Bound">ψ</a><a id="14849" class="Symbol">)</a> <a id="14851" class="Keyword">with</a> <a id="14856" href="/lia/part1/NormalForms/#14042" class="Function">wnnf-size</a> <a id="14866" href="/lia/part1/NormalForms/#14844" class="Bound">φ</a> <a id="14868" class="Symbol">|</a> <a id="14870" href="/lia/part1/NormalForms/#14042" class="Function">wnnf-size</a> <a id="14880" href="/lia/part1/NormalForms/#14848" class="Bound">ψ</a>
<a id="14882" class="Symbol">...</a> <a id="14886" class="Symbol">|</a> <a id="14888" href="/lia/part1/NormalForms/#14888" class="Bound">indφ</a> <a id="14893" class="Symbol">|</a> <a id="14895" href="/lia/part1/NormalForms/#14895" class="Bound">indψ</a> <a id="14900" class="Symbol">=</a> <a id="14902" href="/lia/part0/Naturals/#2401" class="Function Operator">begin≤</a>
  <a id="14911" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="14916" class="Symbol">(</a><a id="14917" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="14922" class="Symbol">(</a><a id="14923" class="Bound">φ</a> <a id="14925" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="14927" class="Bound">ψ</a><a id="14928" class="Symbol">))</a> <a id="14931" href="/lia/part0/Naturals/#2501" class="Function Operator">≤⟨⟩</a>
  <a id="14937" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="14942" class="Symbol">(</a><a id="14943" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="14948" class="Bound">φ</a> <a id="14950" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="14952" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="14957" class="Bound">ψ</a><a id="14958" class="Symbol">)</a> <a id="14960" href="/lia/part0/Naturals/#2501" class="Function Operator">≤⟨⟩</a>
  <a id="14966" class="Number">1</a> <a id="14968" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="14970" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="14975" class="Symbol">(</a><a id="14976" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="14981" class="Bound">φ</a><a id="14982" class="Symbol">)</a> <a id="14984" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="14986" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="14991" class="Symbol">(</a><a id="14992" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="14997" class="Bound">ψ</a><a id="14998" class="Symbol">)</a> <a id="15000" href="/lia/part0/Naturals/#2668" class="Function Operator">≤⟨</a> <a id="15003" href="/lia/part1/NormalForms/#14500" class="Function">size-reasoning</a> <a id="15018" class="Symbol">(</a><a id="15019" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="15024" class="Bound">φ</a><a id="15025" class="Symbol">)</a> <a id="15027" href="/lia/part1/NormalForms/#14888" class="Bound">indφ</a> <a id="15032" href="/lia/part1/NormalForms/#14895" class="Bound">indψ</a> <a id="15037" href="/lia/part0/Naturals/#2668" class="Function Operator">⟩</a>
  <a id="15041" class="Number">2</a> <a id="15043" href="/lia/part0/Naturals/#4149" class="Function Operator">*</a> <a id="15045" class="Symbol">(</a><a id="15046" class="Number">1</a> <a id="15048" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="15050" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="15055" class="Bound">φ</a> <a id="15057" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="15059" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="15064" class="Bound">ψ</a><a id="15065" class="Symbol">)</a> <a id="15067" href="/lia/part0/Naturals/#2501" class="Function Operator">≤⟨⟩</a>
  <a id="15073" class="Number">2</a> <a id="15075" href="/lia/part0/Naturals/#4149" class="Function Operator">*</a> <a id="15077" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="15082" class="Symbol">(</a><a id="15083" class="Bound">φ</a> <a id="15085" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="15087" class="Bound">ψ</a><a id="15088" class="Symbol">)</a> <a id="15090" href="/lia/part0/Naturals/#3214" class="Function Operator">∎≤</a></pre>

<p>The last three cases are similar and we give them in a shortened form.</p>

<pre class="Agda"><a id="15174" href="/lia/part1/NormalForms/#14042" class="Function">wnnf-size</a> <a id="15184" class="Symbol">(</a><a id="15185" href="/lia/part1/NormalForms/#15185" class="Bound">φ</a> <a id="15187" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="15189" href="/lia/part1/NormalForms/#15189" class="Bound">ψ</a><a id="15190" class="Symbol">)</a> <a id="15192" class="Symbol">=</a> <a id="15194" href="/lia/part1/NormalForms/#14500" class="Function">size-reasoning</a> <a id="15209" class="Symbol">(</a><a id="15210" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="15215" href="/lia/part1/NormalForms/#15185" class="Bound">φ</a><a id="15216" class="Symbol">)</a> <a id="15218" class="Symbol">(</a><a id="15219" href="/lia/part1/NormalForms/#14042" class="Function">wnnf-size</a> <a id="15229" href="/lia/part1/NormalForms/#15185" class="Bound">φ</a><a id="15230" class="Symbol">)</a> <a id="15232" class="Symbol">(</a><a id="15233" href="/lia/part1/NormalForms/#14042" class="Function">wnnf-size</a> <a id="15243" href="/lia/part1/NormalForms/#15189" class="Bound">ψ</a><a id="15244" class="Symbol">)</a>
<a id="15246" href="/lia/part1/NormalForms/#14042" class="Function">wnnf-size</a> <a id="15256" class="Symbol">(</a><a id="15257" href="/lia/part1/NormalForms/#15257" class="Bound">φ</a> <a id="15259" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="15261" href="/lia/part1/NormalForms/#15261" class="Bound">ψ</a><a id="15262" class="Symbol">)</a> <a id="15264" class="Symbol">=</a> <a id="15266" href="/lia/part1/NormalForms/#14500" class="Function">size-reasoning</a> <a id="15281" class="Symbol">(</a><a id="15282" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="15287" href="/lia/part1/NormalForms/#15257" class="Bound">φ</a><a id="15288" class="Symbol">)</a> <a id="15290" class="Symbol">(</a><a id="15291" href="/lia/part1/NormalForms/#14042" class="Function">wnnf-size</a> <a id="15301" href="/lia/part1/NormalForms/#15257" class="Bound">φ</a><a id="15302" class="Symbol">)</a> <a id="15304" class="Symbol">(</a><a id="15305" href="/lia/part1/NormalForms/#14042" class="Function">wnnf-size</a> <a id="15315" href="/lia/part1/NormalForms/#15261" class="Bound">ψ</a><a id="15316" class="Symbol">)</a>
<a id="15318" href="/lia/part1/NormalForms/#14042" class="Function">wnnf-size</a> <a id="15328" class="Symbol">(</a><a id="15329" href="/lia/part1/NormalForms/#15329" class="Bound">φ</a> <a id="15331" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="15333" href="/lia/part1/NormalForms/#15333" class="Bound">ψ</a><a id="15334" class="Symbol">)</a> <a id="15336" class="Symbol">=</a> <a id="15338" href="/lia/part1/NormalForms/#14500" class="Function">size-reasoning</a> <a id="15353" class="Symbol">(</a><a id="15354" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="15359" href="/lia/part1/NormalForms/#15329" class="Bound">φ</a><a id="15360" class="Symbol">)</a> <a id="15362" class="Symbol">(</a><a id="15363" href="/lia/part1/NormalForms/#14042" class="Function">wnnf-size</a> <a id="15373" href="/lia/part1/NormalForms/#15329" class="Bound">φ</a><a id="15374" class="Symbol">)</a> <a id="15376" class="Symbol">(</a><a id="15377" href="/lia/part1/NormalForms/#14042" class="Function">wnnf-size</a> <a id="15387" href="/lia/part1/NormalForms/#15333" class="Bound">ψ</a><a id="15388" class="Symbol">)</a></pre>
<p>Proof for negated formulas:</p>
<pre class="Agda"><a id="15427" href="/lia/part1/NormalForms/#14224" class="Function">wnnf-size¬</a> <a id="15438" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="15440" class="Symbol">=</a> <a id="15442" href="/lia/part0/Naturals/#631" class="InductiveConstructor">s≤s</a> <a id="15446" href="/lia/part0/Naturals/#602" class="InductiveConstructor">0≤n</a>
<a id="15450" href="/lia/part1/NormalForms/#14224" class="Function">wnnf-size¬</a> <a id="15461" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="15463" class="Symbol">=</a> <a id="15465" href="/lia/part0/Naturals/#631" class="InductiveConstructor">s≤s</a> <a id="15469" href="/lia/part0/Naturals/#602" class="InductiveConstructor">0≤n</a>
<a id="15473" href="/lia/part1/NormalForms/#14224" class="Function">wnnf-size¬</a> <a id="15484" class="Symbol">(</a><a id="15485" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="15487" href="/lia/part1/NormalForms/#15487" class="Bound">p</a><a id="15488" class="Symbol">)</a> <a id="15490" class="Symbol">=</a> <a id="15492" href="/lia/part0/Naturals/#631" class="InductiveConstructor">s≤s</a> <a id="15496" class="Symbol">(</a><a id="15497" href="/lia/part0/Naturals/#631" class="InductiveConstructor">s≤s</a> <a id="15501" href="/lia/part0/Naturals/#602" class="InductiveConstructor">0≤n</a><a id="15504" class="Symbol">)</a>

<a id="15507" class="Comment">-- double negation!</a>
<a id="15527" href="/lia/part1/NormalForms/#14224" class="Function">wnnf-size¬</a> <a id="15538" class="Symbol">(</a><a id="15539" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="15541" href="/lia/part1/NormalForms/#15541" class="Bound">φ</a><a id="15542" class="Symbol">)</a> <a id="15544" class="Keyword">with</a> <a id="15549" href="/lia/part1/NormalForms/#14042" class="Function">wnnf-size</a> <a id="15559" href="/lia/part1/NormalForms/#15541" class="Bound">φ</a>
<a id="15561" class="Symbol">...</a> <a id="15565" class="Symbol">|</a> <a id="15567" href="/lia/part1/NormalForms/#15567" class="Bound">indφ</a> <a id="15572" class="Symbol">=</a> <a id="15574" href="/lia/part0/Naturals/#2401" class="Function Operator">begin≤</a>
  <a id="15583" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="15588" class="Symbol">(</a><a id="15589" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="15594" class="Symbol">(</a><a id="15595" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="15597" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="15599" class="Bound">φ</a><a id="15600" class="Symbol">))</a> <a id="15603" href="/lia/part0/Naturals/#2501" class="Function Operator">≤⟨⟩</a>
  <a id="15609" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="15614" class="Symbol">(</a><a id="15615" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="15620" class="Bound">φ</a><a id="15621" class="Symbol">)</a> <a id="15623" href="/lia/part0/Naturals/#2668" class="Function Operator">≤⟨</a> <a id="15626" href="/lia/part1/NormalForms/#15567" class="Bound">indφ</a> <a id="15631" href="/lia/part0/Naturals/#2668" class="Function Operator">⟩</a>
  <a id="15635" class="Number">2</a> <a id="15637" href="/lia/part0/Naturals/#4149" class="Function Operator">*</a> <a id="15639" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="15644" class="Bound">φ</a> <a id="15646" href="/lia/part0/Naturals/#2668" class="Function Operator">≤⟨</a> <a id="15649" href="/lia/part0/Naturals/#5628" class="Postulate">cong-≤</a> <a id="15656" class="Symbol">(</a><a id="15657" href="/lia/part0/Naturals/#5121" class="InductiveConstructor">Num</a> <a id="15661" class="Number">2</a> <a id="15663" href="/lia/part0/Naturals/#5186" class="InductiveConstructor Operator">*C</a> <a id="15666" href="/lia/part0/Naturals/#5110" class="InductiveConstructor">□</a><a id="15667" class="Symbol">)</a> <a id="15669" class="Symbol">(</a><a id="15670" href="/lia/part1/NormalForms/#13616" class="Function">size-¬</a> <a id="15677" class="Bound">φ</a><a id="15678" class="Symbol">)</a> <a id="15680" href="/lia/part0/Naturals/#2668" class="Function Operator">⟩</a>
  <a id="15684" class="Number">2</a> <a id="15686" href="/lia/part0/Naturals/#4149" class="Function Operator">*</a> <a id="15688" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="15693" class="Symbol">(</a><a id="15694" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="15696" class="Bound">φ</a><a id="15697" class="Symbol">)</a> <a id="15699" href="/lia/part0/Naturals/#3214" class="Function Operator">∎≤</a>

<a id="15703" href="/lia/part1/NormalForms/#14224" class="Function">wnnf-size¬</a> <a id="15714" class="Symbol">(</a><a id="15715" href="/lia/part1/NormalForms/#15715" class="Bound">φ</a> <a id="15717" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="15719" href="/lia/part1/NormalForms/#15719" class="Bound">ψ</a><a id="15720" class="Symbol">)</a> <a id="15722" class="Symbol">=</a> <a id="15724" href="/lia/part1/NormalForms/#14500" class="Function">size-reasoning</a> <a id="15739" class="Symbol">(</a><a id="15740" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="15745" href="/lia/part1/NormalForms/#15715" class="Bound">φ</a><a id="15746" class="Symbol">)</a> <a id="15748" class="Symbol">(</a><a id="15749" href="/lia/part1/NormalForms/#14224" class="Function">wnnf-size¬</a> <a id="15760" href="/lia/part1/NormalForms/#15715" class="Bound">φ</a><a id="15761" class="Symbol">)</a> <a id="15763" class="Symbol">(</a><a id="15764" href="/lia/part1/NormalForms/#14224" class="Function">wnnf-size¬</a> <a id="15775" href="/lia/part1/NormalForms/#15719" class="Bound">ψ</a><a id="15776" class="Symbol">)</a>
<a id="15778" href="/lia/part1/NormalForms/#14224" class="Function">wnnf-size¬</a> <a id="15789" class="Symbol">(</a><a id="15790" href="/lia/part1/NormalForms/#15790" class="Bound">φ</a> <a id="15792" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="15794" href="/lia/part1/NormalForms/#15794" class="Bound">ψ</a><a id="15795" class="Symbol">)</a> <a id="15797" class="Symbol">=</a> <a id="15799" href="/lia/part1/NormalForms/#14500" class="Function">size-reasoning</a> <a id="15814" class="Symbol">(</a><a id="15815" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="15820" href="/lia/part1/NormalForms/#15790" class="Bound">φ</a><a id="15821" class="Symbol">)</a> <a id="15823" class="Symbol">(</a><a id="15824" href="/lia/part1/NormalForms/#14224" class="Function">wnnf-size¬</a> <a id="15835" href="/lia/part1/NormalForms/#15790" class="Bound">φ</a><a id="15836" class="Symbol">)</a> <a id="15838" class="Symbol">(</a><a id="15839" href="/lia/part1/NormalForms/#14224" class="Function">wnnf-size¬</a> <a id="15850" href="/lia/part1/NormalForms/#15794" class="Bound">ψ</a><a id="15851" class="Symbol">)</a>
<a id="15853" href="/lia/part1/NormalForms/#14224" class="Function">wnnf-size¬</a> <a id="15864" class="Symbol">(</a><a id="15865" href="/lia/part1/NormalForms/#15865" class="Bound">φ</a> <a id="15867" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="15869" href="/lia/part1/NormalForms/#15869" class="Bound">ψ</a><a id="15870" class="Symbol">)</a> <a id="15872" class="Symbol">=</a> <a id="15874" href="/lia/part1/NormalForms/#14500" class="Function">size-reasoning</a> <a id="15889" class="Symbol">(</a><a id="15890" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="15895" href="/lia/part1/NormalForms/#15865" class="Bound">φ</a><a id="15896" class="Symbol">)</a> <a id="15898" class="Symbol">(</a><a id="15899" href="/lia/part1/NormalForms/#14042" class="Function">wnnf-size</a> <a id="15909" href="/lia/part1/NormalForms/#15865" class="Bound">φ</a><a id="15910" class="Symbol">)</a> <a id="15912" class="Symbol">(</a><a id="15913" href="/lia/part1/NormalForms/#14224" class="Function">wnnf-size¬</a> <a id="15924" href="/lia/part1/NormalForms/#15869" class="Bound">ψ</a><a id="15925" class="Symbol">)</a>
<a id="15927" href="/lia/part1/NormalForms/#14224" class="Function">wnnf-size¬</a> <a id="15938" class="Symbol">(</a><a id="15939" href="/lia/part1/NormalForms/#15939" class="Bound">φ</a> <a id="15941" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="15943" href="/lia/part1/NormalForms/#15943" class="Bound">ψ</a><a id="15944" class="Symbol">)</a> <a id="15946" class="Symbol">=</a> <a id="15948" href="/lia/part1/NormalForms/#14500" class="Function">size-reasoning</a> <a id="15963" class="Symbol">(</a><a id="15964" href="/lia/part1/NormalForms/#13082" class="Function">size</a> <a id="15969" href="/lia/part1/NormalForms/#15939" class="Bound">φ</a><a id="15970" class="Symbol">)</a> <a id="15972" class="Symbol">(</a><a id="15973" href="/lia/part1/NormalForms/#14042" class="Function">wnnf-size</a> <a id="15983" href="/lia/part1/NormalForms/#15939" class="Bound">φ</a><a id="15984" class="Symbol">)</a> <a id="15986" class="Symbol">(</a><a id="15987" href="/lia/part1/NormalForms/#14224" class="Function">wnnf-size¬</a> <a id="15998" href="/lia/part1/NormalForms/#15943" class="Bound">ψ</a><a id="15999" class="Symbol">)</a></pre>

<p>We now prove the common workhorse…</p>

<pre class="Agda"><a id="16048" href="/lia/part1/NormalForms/#14500" class="Function">size-reasoning</a> <a id="16063" class="Symbol">{</a><a id="16064" href="/lia/part1/NormalForms/#16064" class="Bound">a</a><a id="16065" class="Symbol">}</a> <a id="16067" class="Symbol">{</a><a id="16068" href="/lia/part1/NormalForms/#16068" class="Bound">b</a><a id="16069" class="Symbol">}</a> <a id="16071" href="/lia/part1/NormalForms/#16071" class="Bound">c</a> <a id="16073" class="Symbol">{</a><a id="16074" href="/lia/part1/NormalForms/#16074" class="Bound">d</a><a id="16075" class="Symbol">}</a> <a id="16077" href="/lia/part1/NormalForms/#16077" class="Bound">a≤c</a> <a id="16081" href="/lia/part1/NormalForms/#16081" class="Bound">b≤d</a> <a id="16085" class="Symbol">=</a> <a id="16087" href="/lia/part0/Naturals/#2401" class="Function Operator">begin≤</a>
  <a id="16096" class="Number">1</a> <a id="16098" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="16100" href="/lia/part1/NormalForms/#16064" class="Bound">a</a> <a id="16102" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="16104" href="/lia/part1/NormalForms/#16068" class="Bound">b</a>
    <a id="16110" href="/lia/part0/Naturals/#3100" class="Function Operator">≤≡⟨</a> <a id="16114" href="/lia/part0/Naturals/#3798" class="Postulate">assoc-+</a> <a id="16122" class="Symbol">{</a><a id="16123" class="Number">1</a><a id="16124" class="Symbol">}</a> <a id="16126" class="Symbol">{</a><a id="16127" href="/lia/part1/NormalForms/#16064" class="Bound">a</a><a id="16128" class="Symbol">}</a> <a id="16130" href="/lia/part0/Naturals/#3100" class="Function Operator">⟩</a>
  <a id="16134" class="Number">1</a> <a id="16136" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="16138" class="Symbol">(</a> <a id="16140" href="/lia/part1/NormalForms/#16064" class="Bound">a</a> <a id="16142" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="16144" href="/lia/part1/NormalForms/#16068" class="Bound">b</a><a id="16145" class="Symbol">)</a>
    <a id="16151" href="/lia/part0/Naturals/#2668" class="Function Operator">≤⟨</a> <a id="16154" class="Symbol">{! cong2-≤ (Num 1 +C (□ fzero +C □ (fsuc fzero))) a≤c b≤d !}</a> <a id="16215" href="/lia/part0/Naturals/#2668" class="Function Operator">⟩</a> <a id="16217" class="Comment">--alternative: arithmetic expressions with variables</a>
  <a id="16272" class="Number">1</a> <a id="16274" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="16276" class="Symbol">(</a><a id="16277" class="Number">2</a> <a id="16279" href="/lia/part0/Naturals/#4149" class="Function Operator">*</a> <a id="16281" href="/lia/part1/NormalForms/#16071" class="Bound">c</a> <a id="16283" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="16285" class="Number">2</a> <a id="16287" href="/lia/part0/Naturals/#4149" class="Function Operator">*</a> <a id="16289" href="/lia/part1/NormalForms/#16074" class="Bound">d</a><a id="16290" class="Symbol">)</a>
    <a id="16296" href="/lia/part0/Naturals/#3100" class="Function Operator">≤≡⟨</a> <a id="16300" href="/lia/part0/Equality/#528" class="Function">cong</a> <a id="16305" class="Symbol">(</a><a id="16306" href="/lia/part0/Naturals/#3582" class="Function Operator">_+_</a> <a id="16310" class="Number">1</a><a id="16311" class="Symbol">)</a> <a id="16313" class="Symbol">(</a><a id="16314" href="/lia/part0/Naturals/#4430" class="Postulate">assocLeft-+*</a> <a id="16327" class="Symbol">{</a><a id="16328" class="Number">2</a><a id="16329" class="Symbol">}</a> <a id="16331" class="Symbol">{</a><a id="16332" href="/lia/part1/NormalForms/#16071" class="Bound">c</a><a id="16333" class="Symbol">})</a> <a id="16336" href="/lia/part0/Naturals/#3100" class="Function Operator">⟩</a>
  <a id="16340" class="Number">1</a> <a id="16342" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="16344" class="Number">2</a> <a id="16346" href="/lia/part0/Naturals/#4149" class="Function Operator">*</a> <a id="16348" class="Symbol">(</a><a id="16349" href="/lia/part1/NormalForms/#16071" class="Bound">c</a> <a id="16351" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="16353" href="/lia/part1/NormalForms/#16074" class="Bound">d</a><a id="16354" class="Symbol">)</a>
    <a id="16360" href="/lia/part0/Naturals/#2668" class="Function Operator">≤⟨</a> <a id="16363" href="/lia/part0/Naturals/#5628" class="Postulate">cong-≤</a> <a id="16370" class="Symbol">(</a><a id="16371" href="/lia/part0/Naturals/#5110" class="InductiveConstructor">□</a> <a id="16373" href="/lia/part0/Naturals/#5158" class="InductiveConstructor Operator">+C</a> <a id="16376" href="/lia/part0/Naturals/#5121" class="InductiveConstructor">Num</a> <a id="16380" class="Symbol">_)</a> <a id="16383" href="/lia/part0/Naturals/#4296" class="Function">1≤2*1</a> <a id="16389" href="/lia/part0/Naturals/#2668" class="Function Operator">⟩</a>
  <a id="16393" class="Number">2</a> <a id="16395" href="/lia/part0/Naturals/#4149" class="Function Operator">*</a> <a id="16397" class="Number">1</a> <a id="16399" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="16401" class="Number">2</a> <a id="16403" href="/lia/part0/Naturals/#4149" class="Function Operator">*</a> <a id="16405" class="Symbol">(</a><a id="16406" href="/lia/part1/NormalForms/#16071" class="Bound">c</a> <a id="16408" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="16410" href="/lia/part1/NormalForms/#16074" class="Bound">d</a><a id="16411" class="Symbol">)</a>
    <a id="16417" href="/lia/part0/Naturals/#3100" class="Function Operator">≤≡⟨</a> <a id="16421" href="/lia/part0/Naturals/#4430" class="Postulate">assocLeft-+*</a> <a id="16434" class="Symbol">{</a><a id="16435" class="Number">2</a><a id="16436" class="Symbol">}</a> <a id="16438" class="Symbol">{</a><a id="16439" class="Number">1</a><a id="16440" class="Symbol">}</a> <a id="16442" href="/lia/part0/Naturals/#3100" class="Function Operator">⟩</a>
  <a id="16446" class="Number">2</a> <a id="16448" href="/lia/part0/Naturals/#4149" class="Function Operator">*</a> <a id="16450" class="Symbol">(</a><a id="16451" class="Number">1</a> <a id="16453" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="16455" href="/lia/part1/NormalForms/#16071" class="Bound">c</a> <a id="16457" href="/lia/part0/Naturals/#3582" class="Function Operator">+</a> <a id="16459" href="/lia/part1/NormalForms/#16074" class="Bound">d</a><a id="16460" class="Symbol">)</a> <a id="16462" href="/lia/part0/Naturals/#3214" class="Function Operator">∎≤</a></pre>

<p>The worst-case behaviour is achieved when a single negation is pushed
down to the leaves in a negation-free formula consisting of only
<a href="#_%E2%88%A7_"><code class="language-plaintext highlighter-rouge">∧</code></a> and <a href="#_%E2%88%A8_"><code class="language-plaintext highlighter-rouge">∨</code></a>.</p>

<h1 id="NNF">
<a class="anchor" href="#NNF" aria-hidden="true"><span class="octicon octicon-link"></span></a>Negation normal form</h1>

<p>A propositional formula <code class="language-plaintext highlighter-rouge">φ</code> is in <em>negation normal form</em> (NNF) if it
uses only the connectives <a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> ,
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> ,
<a href="../../part1/Semantics#Formula.%C2%AC_"><code class="language-plaintext highlighter-rouge">¬_</code></a> ,
<a href="../../part1/Semantics#Formula._%E2%88%A8_"><code class="language-plaintext highlighter-rouge">_∨_</code></a> , and
<a href="../../part1/Semantics#Formula._%E2%88%A7_"><code class="language-plaintext highlighter-rouge">_∧_</code></a> , and negation appears only
in front of propositional variables, i.e., inside literals. In
particular, a NNF formula does not contain the implication <code class="language-plaintext highlighter-rouge">⇒</code> and
bi-implication <code class="language-plaintext highlighter-rouge">⇔</code> connectives. This is captured by the following
definition<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote">1</a></sup>:</p>

<pre class="Agda"><a id="18145" class="Keyword">data</a> <a id="NNF"></a><a id="18150" href="/lia/part1/NormalForms/#18150" class="Datatype">NNF</a> <a id="18154" class="Symbol">:</a> <a id="18156" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="18164" class="Symbol">→</a> <a id="18166" class="PrimitiveType">Set</a> <a id="18170" class="Keyword">where</a>
  <a id="NNF.⊤"></a><a id="18178" href="/lia/part1/NormalForms/#18178" class="InductiveConstructor">⊤</a> <a id="18180" class="Symbol">:</a> <a id="18182" href="/lia/part1/NormalForms/#18150" class="Datatype">NNF</a> <a id="18186" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a>
  <a id="NNF.⊥"></a><a id="18190" href="/lia/part1/NormalForms/#18190" class="InductiveConstructor">⊥</a> <a id="18192" class="Symbol">:</a> <a id="18194" href="/lia/part1/NormalForms/#18150" class="Datatype">NNF</a> <a id="18198" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a>
  <a id="NNF.`_"></a><a id="18202" href="/lia/part1/NormalForms/#18202" class="InductiveConstructor Operator">`_</a> <a id="18205" class="Symbol">:</a> <a id="18207" class="Symbol">(</a><a id="18208" href="/lia/part1/NormalForms/#18208" class="Bound">p</a> <a id="18210" class="Symbol">:</a> <a id="18212" href="/lia/part1/Semantics/#1104" class="Function">PropName</a><a id="18220" class="Symbol">)</a> <a id="18222" class="Symbol">→</a> <a id="18224" href="/lia/part1/NormalForms/#18150" class="Datatype">NNF</a> <a id="18228" class="Symbol">(</a><a id="18229" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="18231" href="/lia/part1/NormalForms/#18208" class="Bound">p</a><a id="18232" class="Symbol">)</a>
  <a id="NNF.¬`_"></a><a id="18236" href="/lia/part1/NormalForms/#18236" class="InductiveConstructor Operator">¬`_</a> <a id="18240" class="Symbol">:</a> <a id="18242" class="Symbol">(</a><a id="18243" href="/lia/part1/NormalForms/#18243" class="Bound">p</a> <a id="18245" class="Symbol">:</a> <a id="18247" href="/lia/part1/Semantics/#1104" class="Function">PropName</a><a id="18255" class="Symbol">)</a> <a id="18257" class="Symbol">→</a> <a id="18259" href="/lia/part1/NormalForms/#18150" class="Datatype">NNF</a> <a id="18263" class="Symbol">(</a><a id="18264" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="18266" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="18268" href="/lia/part1/NormalForms/#18243" class="Bound">p</a><a id="18269" class="Symbol">)</a>
  <a id="NNF._∧_"></a><a id="18273" href="/lia/part1/NormalForms/#18273" class="InductiveConstructor Operator">_∧_</a> <a id="18277" class="Symbol">:</a> <a id="18279" href="/lia/part1/NormalForms/#18150" class="Datatype">NNF</a> <a id="18283" href="/lia/part1/NormalForms/#202" class="Generalizable">φ</a> <a id="18285" class="Symbol">→</a> <a id="18287" href="/lia/part1/NormalForms/#18150" class="Datatype">NNF</a> <a id="18291" href="/lia/part1/NormalForms/#204" class="Generalizable">ψ</a> <a id="18293" class="Symbol">→</a> <a id="18295" href="/lia/part1/NormalForms/#18150" class="Datatype">NNF</a> <a id="18299" class="Symbol">(</a><a id="18300" href="/lia/part1/NormalForms/#202" class="Generalizable">φ</a> <a id="18302" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="18304" href="/lia/part1/NormalForms/#204" class="Generalizable">ψ</a><a id="18305" class="Symbol">)</a>
  <a id="NNF._∨_"></a><a id="18309" href="/lia/part1/NormalForms/#18309" class="InductiveConstructor Operator">_∨_</a> <a id="18313" class="Symbol">:</a> <a id="18315" href="/lia/part1/NormalForms/#18150" class="Datatype">NNF</a> <a id="18319" href="/lia/part1/NormalForms/#202" class="Generalizable">φ</a> <a id="18321" class="Symbol">→</a> <a id="18323" href="/lia/part1/NormalForms/#18150" class="Datatype">NNF</a> <a id="18327" href="/lia/part1/NormalForms/#204" class="Generalizable">ψ</a> <a id="18329" class="Symbol">→</a> <a id="18331" href="/lia/part1/NormalForms/#18150" class="Datatype">NNF</a> <a id="18335" class="Symbol">(</a><a id="18336" href="/lia/part1/NormalForms/#202" class="Generalizable">φ</a> <a id="18338" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="18340" href="/lia/part1/NormalForms/#204" class="Generalizable">ψ</a><a id="18341" class="Symbol">)</a></pre>

<p>Given a formula <code class="language-plaintext highlighter-rouge">φ</code>, we can decide whether it is in NNF or not:</p>

<pre class="Agda"><a id="NNF?"></a><a id="18417" href="/lia/part1/NormalForms/#18417" class="Function">NNF?</a> <a id="18422" class="Symbol">:</a> <a id="18424" class="Symbol">∀</a> <a id="18426" href="/lia/part1/NormalForms/#18426" class="Bound">φ</a> <a id="18428" class="Symbol">→</a> <a id="18430" href="/lia/part0/Decidable/#150" class="Datatype">Dec</a> <a id="18434" class="Symbol">(</a><a id="18435" href="/lia/part1/NormalForms/#18150" class="Datatype">NNF</a> <a id="18439" href="/lia/part1/NormalForms/#18426" class="Bound">φ</a><a id="18440" class="Symbol">)</a></pre>

<div class="introbox">

  <p>The proof works by inspecting <code class="language-plaintext highlighter-rouge">φ</code> sufficiently deeply.
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="18524" href="/lia/part1/NormalForms/#18417" class="Function">NNF?</a> <a id="18529" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="18531" class="Symbol">=</a> <a id="18533" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="18537" href="/lia/part1/NormalForms/#18190" class="InductiveConstructor">⊥</a>
<a id="18539" href="/lia/part1/NormalForms/#18417" class="Function">NNF?</a> <a id="18544" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="18546" class="Symbol">=</a> <a id="18548" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="18552" href="/lia/part1/NormalForms/#18178" class="InductiveConstructor">⊤</a>
<a id="18554" href="/lia/part1/NormalForms/#18417" class="Function">NNF?</a> <a id="18559" class="Symbol">(</a><a id="18560" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="18562" href="/lia/part1/NormalForms/#18562" class="Bound">p</a><a id="18563" class="Symbol">)</a> <a id="18565" class="Symbol">=</a> <a id="18567" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="18571" class="Symbol">(</a><a id="18572" href="/lia/part1/NormalForms/#18202" class="InductiveConstructor Operator">`</a> <a id="18574" href="/lia/part1/NormalForms/#18562" class="Bound">p</a><a id="18575" class="Symbol">)</a>

<a id="18578" href="/lia/part1/NormalForms/#18417" class="Function">NNF?</a> <a id="18583" class="Symbol">(</a><a id="18584" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="18586" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a><a id="18587" class="Symbol">)</a> <a id="18589" class="Symbol">=</a> <a id="18591" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="18594" class="Symbol">λ</a> <a id="18596" class="Symbol">()</a>
<a id="18599" href="/lia/part1/NormalForms/#18417" class="Function">NNF?</a> <a id="18604" class="Symbol">(</a><a id="18605" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="18607" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a><a id="18608" class="Symbol">)</a> <a id="18610" class="Symbol">=</a> <a id="18612" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="18615" class="Symbol">λ</a> <a id="18617" class="Symbol">()</a>
<a id="18620" href="/lia/part1/NormalForms/#18417" class="Function">NNF?</a> <a id="18625" class="Symbol">(</a><a id="18626" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="18628" class="Symbol">(</a><a id="18629" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="18631" href="/lia/part1/NormalForms/#18631" class="Bound">p</a><a id="18632" class="Symbol">))</a> <a id="18635" class="Symbol">=</a> <a id="18637" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="18641" class="Symbol">(</a><a id="18642" href="/lia/part1/NormalForms/#18236" class="InductiveConstructor Operator">¬`</a> <a id="18645" href="/lia/part1/NormalForms/#18631" class="Bound">p</a><a id="18646" class="Symbol">)</a>
<a id="18648" href="/lia/part1/NormalForms/#18417" class="Function">NNF?</a> <a id="18653" class="Symbol">(</a><a id="18654" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="18656" class="Symbol">(</a><a id="18657" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="18659" class="Symbol">_))</a> <a id="18663" class="Symbol">=</a> <a id="18665" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="18668" class="Symbol">λ</a> <a id="18670" class="Symbol">()</a>
<a id="18673" href="/lia/part1/NormalForms/#18417" class="Function">NNF?</a> <a id="18678" class="Symbol">(</a><a id="18679" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="18681" class="Symbol">(_</a> <a id="18684" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="18686" class="Symbol">_))</a> <a id="18690" class="Symbol">=</a> <a id="18692" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="18695" class="Symbol">λ</a> <a id="18697" class="Symbol">()</a>
<a id="18700" href="/lia/part1/NormalForms/#18417" class="Function">NNF?</a> <a id="18705" class="Symbol">(</a><a id="18706" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="18708" class="Symbol">(_</a> <a id="18711" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="18713" class="Symbol">_))</a> <a id="18717" class="Symbol">=</a> <a id="18719" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="18722" class="Symbol">λ</a> <a id="18724" class="Symbol">()</a>
<a id="18727" href="/lia/part1/NormalForms/#18417" class="Function">NNF?</a> <a id="18732" class="Symbol">(</a><a id="18733" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="18735" class="Symbol">(_</a> <a id="18738" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="18740" class="Symbol">_))</a> <a id="18744" class="Symbol">=</a> <a id="18746" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="18749" class="Symbol">λ</a> <a id="18751" class="Symbol">()</a>
<a id="18754" href="/lia/part1/NormalForms/#18417" class="Function">NNF?</a> <a id="18759" class="Symbol">(</a><a id="18760" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="18762" class="Symbol">(_</a> <a id="18765" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="18767" class="Symbol">_))</a> <a id="18771" class="Symbol">=</a> <a id="18773" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="18776" class="Symbol">λ</a> <a id="18778" class="Symbol">()</a>

<a id="18782" href="/lia/part1/NormalForms/#18417" class="Function">NNF?</a> <a id="18787" class="Symbol">(</a><a id="18788" href="/lia/part1/NormalForms/#18788" class="Bound">φ</a> <a id="18790" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="18792" href="/lia/part1/NormalForms/#18792" class="Bound">ψ</a><a id="18793" class="Symbol">)</a>
  <a id="18797" class="Keyword">with</a> <a id="18802" href="/lia/part1/NormalForms/#18417" class="Function">NNF?</a> <a id="18807" href="/lia/part1/NormalForms/#18788" class="Bound">φ</a> <a id="18809" class="Symbol">|</a>
       <a id="18818" href="/lia/part1/NormalForms/#18417" class="Function">NNF?</a> <a id="18823" href="/lia/part1/NormalForms/#18792" class="Bound">ψ</a>
<a id="18825" class="Symbol">...</a> <a id="18829" class="Symbol">|</a> <a id="18831" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="18835" href="/lia/part1/NormalForms/#18835" class="Bound">nnfφ</a> <a id="18840" class="Symbol">|</a> <a id="18842" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="18846" href="/lia/part1/NormalForms/#18846" class="Bound">nnfψ</a> <a id="18851" class="Symbol">=</a> <a id="18853" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="18857" class="Symbol">(</a><a id="18858" href="/lia/part1/NormalForms/#18835" class="Bound">nnfφ</a> <a id="18863" href="/lia/part1/NormalForms/#18309" class="InductiveConstructor Operator">∨</a> <a id="18865" href="/lia/part1/NormalForms/#18846" class="Bound">nnfψ</a><a id="18869" class="Symbol">)</a>
<a id="18871" class="Symbol">...</a> <a id="18875" class="Symbol">|</a> <a id="18877" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="18880" href="/lia/part1/NormalForms/#18880" class="Bound">¬nnfφ</a> <a id="18886" class="Symbol">|</a> <a id="18888" class="Symbol">_</a> <a id="18890" class="Symbol">=</a> <a id="18892" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="18895" class="Symbol">λ{</a> <a id="18898" class="Symbol">(</a><a id="18899" href="/lia/part1/NormalForms/#18899" class="Bound">nnfφ</a> <a id="18904" href="/lia/part1/NormalForms/#18309" class="InductiveConstructor Operator">∨</a> <a id="18906" class="Symbol">_)</a> <a id="18909" class="Symbol">→</a> <a id="18911" href="/lia/part1/NormalForms/#18880" class="Bound">¬nnfφ</a> <a id="18917" href="/lia/part1/NormalForms/#18899" class="Bound">nnfφ</a><a id="18921" class="Symbol">}</a>
<a id="18923" class="CatchallClause Symbol">...</a><a id="18926" class="CatchallClause"> </a><a id="18927" class="CatchallClause Symbol">|</a><a id="18928" class="CatchallClause"> </a><a id="18929" class="CatchallClause Symbol">_</a><a id="18930" class="CatchallClause"> </a><a id="18931" class="CatchallClause Symbol">|</a><a id="18932" class="CatchallClause"> </a><a id="18933" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="18935" class="CatchallClause"> </a><a id="18936" href="/lia/part1/NormalForms/#18936" class="CatchallClause Bound">¬nnfψ</a> <a id="18942" class="Symbol">=</a> <a id="18944" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="18947" class="Symbol">λ{</a> <a id="18950" class="Symbol">(_</a> <a id="18953" href="/lia/part1/NormalForms/#18309" class="InductiveConstructor Operator">∨</a> <a id="18955" href="/lia/part1/NormalForms/#18955" class="Bound">nnfψ</a><a id="18959" class="Symbol">)</a> <a id="18961" class="Symbol">→</a> <a id="18963" href="/lia/part1/NormalForms/#18936" class="Bound">¬nnfψ</a> <a id="18969" href="/lia/part1/NormalForms/#18955" class="Bound">nnfψ</a><a id="18973" class="Symbol">}</a>

<a id="18976" href="/lia/part1/NormalForms/#18417" class="Function">NNF?</a> <a id="18981" class="Symbol">(</a><a id="18982" href="/lia/part1/NormalForms/#18982" class="Bound">φ</a> <a id="18984" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="18986" href="/lia/part1/NormalForms/#18986" class="Bound">ψ</a><a id="18987" class="Symbol">)</a>
  <a id="18991" class="Keyword">with</a> <a id="18996" href="/lia/part1/NormalForms/#18417" class="Function">NNF?</a> <a id="19001" href="/lia/part1/NormalForms/#18982" class="Bound">φ</a> <a id="19003" class="Symbol">|</a>
       <a id="19012" href="/lia/part1/NormalForms/#18417" class="Function">NNF?</a> <a id="19017" href="/lia/part1/NormalForms/#18986" class="Bound">ψ</a>
<a id="19019" class="Symbol">...</a> <a id="19023" class="Symbol">|</a> <a id="19025" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="19029" href="/lia/part1/NormalForms/#19029" class="Bound">nnfφ</a> <a id="19034" class="Symbol">|</a> <a id="19036" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="19040" href="/lia/part1/NormalForms/#19040" class="Bound">nnfψ</a> <a id="19045" class="Symbol">=</a> <a id="19047" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="19051" class="Symbol">(</a><a id="19052" href="/lia/part1/NormalForms/#19029" class="Bound">nnfφ</a> <a id="19057" href="/lia/part1/NormalForms/#18273" class="InductiveConstructor Operator">∧</a> <a id="19059" href="/lia/part1/NormalForms/#19040" class="Bound">nnfψ</a><a id="19063" class="Symbol">)</a>
<a id="19065" class="Symbol">...</a> <a id="19069" class="Symbol">|</a> <a id="19071" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="19074" href="/lia/part1/NormalForms/#19074" class="Bound">¬nnfφ</a> <a id="19080" class="Symbol">|</a> <a id="19082" class="Symbol">_</a> <a id="19084" class="Symbol">=</a> <a id="19086" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="19089" class="Symbol">λ{</a> <a id="19092" class="Symbol">(</a><a id="19093" href="/lia/part1/NormalForms/#19093" class="Bound">nnfφ</a> <a id="19098" href="/lia/part1/NormalForms/#18273" class="InductiveConstructor Operator">∧</a> <a id="19100" class="Symbol">_)</a> <a id="19103" class="Symbol">→</a> <a id="19105" href="/lia/part1/NormalForms/#19074" class="Bound">¬nnfφ</a> <a id="19111" href="/lia/part1/NormalForms/#19093" class="Bound">nnfφ</a><a id="19115" class="Symbol">}</a>
<a id="19117" class="CatchallClause Symbol">...</a><a id="19120" class="CatchallClause"> </a><a id="19121" class="CatchallClause Symbol">|</a><a id="19122" class="CatchallClause"> </a><a id="19123" class="CatchallClause Symbol">_</a><a id="19124" class="CatchallClause"> </a><a id="19125" class="CatchallClause Symbol">|</a><a id="19126" class="CatchallClause"> </a><a id="19127" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="19129" class="CatchallClause"> </a><a id="19130" href="/lia/part1/NormalForms/#19130" class="CatchallClause Bound">¬nnfψ</a> <a id="19136" class="Symbol">=</a> <a id="19138" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="19141" class="Symbol">λ{</a> <a id="19144" class="Symbol">(_</a> <a id="19147" href="/lia/part1/NormalForms/#18273" class="InductiveConstructor Operator">∧</a> <a id="19149" href="/lia/part1/NormalForms/#19149" class="Bound">nnfψ</a><a id="19153" class="Symbol">)</a> <a id="19155" class="Symbol">→</a> <a id="19157" href="/lia/part1/NormalForms/#19130" class="Bound">¬nnfψ</a> <a id="19163" href="/lia/part1/NormalForms/#19149" class="Bound">nnfψ</a><a id="19167" class="Symbol">}</a>

<a id="19170" href="/lia/part1/NormalForms/#18417" class="Function">NNF?</a> <a id="19175" class="Symbol">(_</a> <a id="19178" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="19180" class="Symbol">_)</a> <a id="19183" class="Symbol">=</a> <a id="19185" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="19188" class="Symbol">λ</a> <a id="19190" class="Symbol">()</a>
<a id="19193" href="/lia/part1/NormalForms/#18417" class="Function">NNF?</a> <a id="19198" class="Symbol">(_</a> <a id="19201" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="19203" class="Symbol">_)</a> <a id="19206" class="Symbol">=</a> <a id="19208" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="19211" class="Symbol">λ</a> <a id="19213" class="Symbol">()</a></pre>

</div>

<pre class="Agda"><a id="19229" class="Comment">--ψ₀ ψ₁ ψ₂ ψ₃ ψ₄ ψ₅ : Formula</a></pre>

<div class="inlinecode">

  <p>For instance, the formulas</p>
  <pre class="Agda"><a id="19324" class="Comment">--ψ₀ = ⊤</a></pre>
  <p>,</p>
  <pre class="Agda"><a id="19343" class="Comment">--ψ₁ = ¬ ` p₀ ∨ ` p₁</a></pre>
  <p>, and</p>
  <pre class="Agda"><a id="19378" class="Comment">--ψ₂ = ¬ ` p₀ ∧ (` p₁ ∨ ¬ ` p₂)</a></pre>
  <p>are in NNF, while</p>
  <pre class="Agda"><a id="19436" class="Comment">--ψ₃ = ¬ ⊤</a></pre>
  <p>,</p>
  <pre class="Agda"><a id="19457" class="Comment">--ψ₄ = ¬ ¬ ` p₀</a></pre>
  <p>, and</p>
  <pre class="Agda"><a id="19487" class="Comment">--ψ₅ = ¬ (` p₀ ∨ ` p₁)</a></pre>

  <p>are not, as we automatically check:</p>

</div>

<pre class="Agda"><a id="19570" class="Comment">--_ : All? NNF? ([ ψ₀ ψ₁ ψ₂ ]) ×? All? (~?_ ∘ NNF?) ([ ψ₃ ψ₄ ψ₅ ]) ≡ yes _</a>
<a id="19645" class="Comment">--_ = refl</a></pre>

<h2 id="remove-implications-and-bi-implications">
<a class="anchor" href="#remove-implications-and-bi-implications" aria-hidden="true"><span class="octicon octicon-link"></span></a>Remove implications and bi-implications</h2>

<pre class="Agda"><a id="removeImp"></a><a id="19709" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="19719" class="Symbol">:</a> <a id="19721" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="19729" class="Symbol">→</a> <a id="19731" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a>
<a id="19739" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="19749" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="19751" class="Symbol">=</a> <a id="19753" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a>
<a id="19755" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="19765" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="19767" class="Symbol">=</a> <a id="19769" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a>
<a id="19771" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="19781" class="Symbol">(</a><a id="19782" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="19784" href="/lia/part1/NormalForms/#19784" class="Bound">p</a><a id="19785" class="Symbol">)</a> <a id="19787" class="Symbol">=</a> <a id="19789" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="19791" href="/lia/part1/NormalForms/#19784" class="Bound">p</a>
<a id="19793" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="19803" class="Symbol">(</a><a id="19804" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="19806" href="/lia/part1/NormalForms/#19806" class="Bound">φ</a><a id="19807" class="Symbol">)</a> <a id="19809" class="Symbol">=</a> <a id="19811" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="19813" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="19823" href="/lia/part1/NormalForms/#19806" class="Bound">φ</a>
<a id="19825" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="19835" class="Symbol">(</a><a id="19836" href="/lia/part1/NormalForms/#19836" class="Bound">φ</a> <a id="19838" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="19840" href="/lia/part1/NormalForms/#19840" class="Bound">ψ</a><a id="19841" class="Symbol">)</a> <a id="19843" class="Symbol">=</a> <a id="19845" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="19855" href="/lia/part1/NormalForms/#19836" class="Bound">φ</a> <a id="19857" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="19859" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="19869" href="/lia/part1/NormalForms/#19840" class="Bound">ψ</a>
<a id="19871" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="19881" class="Symbol">(</a><a id="19882" href="/lia/part1/NormalForms/#19882" class="Bound">φ</a> <a id="19884" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="19886" href="/lia/part1/NormalForms/#19886" class="Bound">ψ</a><a id="19887" class="Symbol">)</a> <a id="19889" class="Symbol">=</a> <a id="19891" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="19901" href="/lia/part1/NormalForms/#19882" class="Bound">φ</a> <a id="19903" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="19905" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="19915" href="/lia/part1/NormalForms/#19886" class="Bound">ψ</a>
<a id="19917" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="19927" class="Symbol">(</a><a id="19928" href="/lia/part1/NormalForms/#19928" class="Bound">φ</a> <a id="19930" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="19932" href="/lia/part1/NormalForms/#19932" class="Bound">ψ</a><a id="19933" class="Symbol">)</a> <a id="19935" class="Symbol">=</a> <a id="19937" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="19939" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="19949" href="/lia/part1/NormalForms/#19928" class="Bound">φ</a> <a id="19951" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="19953" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="19963" href="/lia/part1/NormalForms/#19932" class="Bound">ψ</a>
<a id="19965" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="19975" class="Symbol">(</a><a id="19976" href="/lia/part1/NormalForms/#19976" class="Bound">φ</a> <a id="19978" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="19980" href="/lia/part1/NormalForms/#19980" class="Bound">ψ</a><a id="19981" class="Symbol">)</a> <a id="19983" class="Keyword">with</a> <a id="19988" href="/lia/part1/NormalForms/#19988" class="Bound">φ́</a> ← <a id="19993" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="20003" href="/lia/part1/NormalForms/#19976" class="Bound">φ</a> <a id="20005" class="Symbol">|</a> <a id="20007" href="/lia/part1/NormalForms/#20007" class="Bound">ψ́</a> ← <a id="20012" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="20022" href="/lia/part1/NormalForms/#19980" class="Bound">ψ</a>
  <a id="20026" class="Symbol">=</a> <a id="20028" class="Symbol">(</a><a id="20029" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="20031" href="/lia/part1/NormalForms/#19988" class="Bound">φ́</a> <a id="20034" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="20036" href="/lia/part1/NormalForms/#20007" class="Bound">ψ́</a><a id="20038" class="Symbol">)</a> <a id="20040" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="20042" class="Symbol">(</a><a id="20043" href="/lia/part1/NormalForms/#19988" class="Bound">φ́</a> <a id="20046" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="20048" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="20050" href="/lia/part1/NormalForms/#20007" class="Bound">ψ́</a><a id="20052" class="Symbol">)</a>

<a id="removeImp-sound"></a><a id="20055" href="/lia/part1/NormalForms/#20055" class="Function">removeImp-sound</a> <a id="20071" class="Symbol">:</a> <a id="20073" class="Symbol">∀</a> <a id="20075" href="/lia/part1/NormalForms/#20075" class="Bound">φ</a> <a id="20077" class="Symbol">→</a> <a id="20079" href="/lia/part1/NormalForms/#20075" class="Bound">φ</a> <a id="20081" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="20083" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="20093" href="/lia/part1/NormalForms/#20075" class="Bound">φ</a>
<a id="20095" href="/lia/part1/NormalForms/#20055" class="Function">removeImp-sound</a> <a id="20111" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="20113" href="/lia/part1/NormalForms/#20113" class="Bound">ϱ</a> <a id="20115" class="Symbol">=</a> <a id="20117" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="20122" href="/lia/part1/NormalForms/#20055" class="Function">removeImp-sound</a> <a id="20138" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="20140" href="/lia/part1/NormalForms/#20140" class="Bound">ϱ</a> <a id="20142" class="Symbol">=</a> <a id="20144" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="20149" href="/lia/part1/NormalForms/#20055" class="Function">removeImp-sound</a> <a id="20165" class="Symbol">(</a><a id="20166" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="20168" href="/lia/part1/NormalForms/#20168" class="Bound">p</a><a id="20169" class="Symbol">)</a> <a id="20171" href="/lia/part1/NormalForms/#20171" class="Bound">ϱ</a> <a id="20173" class="Symbol">=</a> <a id="20175" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="20180" href="/lia/part1/NormalForms/#20055" class="Function">removeImp-sound</a> <a id="20196" class="Symbol">(</a><a id="20197" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="20199" href="/lia/part1/NormalForms/#20199" class="Bound">φ</a><a id="20200" class="Symbol">)</a> <a id="20202" href="/lia/part1/NormalForms/#20202" class="Bound">ϱ</a>
  <a id="20206" class="Keyword">rewrite</a> <a id="20214" href="/lia/part1/NormalForms/#20055" class="Function">removeImp-sound</a> <a id="20230" href="/lia/part1/NormalForms/#20199" class="Bound">φ</a> <a id="20232" href="/lia/part1/NormalForms/#20202" class="Bound">ϱ</a> <a id="20234" class="Symbol">=</a> <a id="20236" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="20241" href="/lia/part1/NormalForms/#20055" class="Function">removeImp-sound</a> <a id="20257" class="Symbol">(</a><a id="20258" href="/lia/part1/NormalForms/#20258" class="Bound">φ</a> <a id="20260" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="20262" href="/lia/part1/NormalForms/#20262" class="Bound">ψ</a><a id="20263" class="Symbol">)</a> <a id="20265" href="/lia/part1/NormalForms/#20265" class="Bound">ϱ</a>
  <a id="20269" class="Keyword">rewrite</a> <a id="20277" href="/lia/part1/NormalForms/#20055" class="Function">removeImp-sound</a> <a id="20293" href="/lia/part1/NormalForms/#20258" class="Bound">φ</a> <a id="20295" href="/lia/part1/NormalForms/#20265" class="Bound">ϱ</a> <a id="20297" class="Symbol">|</a>
          <a id="20309" href="/lia/part1/NormalForms/#20055" class="Function">removeImp-sound</a> <a id="20325" href="/lia/part1/NormalForms/#20262" class="Bound">ψ</a> <a id="20327" href="/lia/part1/NormalForms/#20265" class="Bound">ϱ</a> <a id="20329" class="Symbol">=</a> <a id="20331" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="20336" href="/lia/part1/NormalForms/#20055" class="Function">removeImp-sound</a> <a id="20352" class="Symbol">(</a><a id="20353" href="/lia/part1/NormalForms/#20353" class="Bound">φ</a> <a id="20355" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="20357" href="/lia/part1/NormalForms/#20357" class="Bound">ψ</a><a id="20358" class="Symbol">)</a> <a id="20360" href="/lia/part1/NormalForms/#20360" class="Bound">ϱ</a>
  <a id="20364" class="Keyword">rewrite</a> <a id="20372" href="/lia/part1/NormalForms/#20055" class="Function">removeImp-sound</a> <a id="20388" href="/lia/part1/NormalForms/#20353" class="Bound">φ</a> <a id="20390" href="/lia/part1/NormalForms/#20360" class="Bound">ϱ</a> <a id="20392" class="Symbol">|</a>
          <a id="20404" href="/lia/part1/NormalForms/#20055" class="Function">removeImp-sound</a> <a id="20420" href="/lia/part1/NormalForms/#20357" class="Bound">ψ</a> <a id="20422" href="/lia/part1/NormalForms/#20360" class="Bound">ϱ</a> <a id="20424" class="Symbol">=</a> <a id="20426" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="20431" href="/lia/part1/NormalForms/#20055" class="Function">removeImp-sound</a> <a id="20447" class="Symbol">(</a><a id="20448" href="/lia/part1/NormalForms/#20448" class="Bound">φ</a> <a id="20450" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="20452" href="/lia/part1/NormalForms/#20452" class="Bound">ψ</a><a id="20453" class="Symbol">)</a> <a id="20455" href="/lia/part1/NormalForms/#20455" class="Bound">ϱ</a>
  <a id="20459" class="Keyword">rewrite</a> <a id="20467" href="/lia/part1/NormalForms/#20055" class="Function">removeImp-sound</a> <a id="20483" href="/lia/part1/NormalForms/#20448" class="Bound">φ</a> <a id="20485" href="/lia/part1/NormalForms/#20455" class="Bound">ϱ</a> <a id="20487" class="Symbol">|</a>
          <a id="20499" href="/lia/part1/NormalForms/#20055" class="Function">removeImp-sound</a> <a id="20515" href="/lia/part1/NormalForms/#20452" class="Bound">ψ</a> <a id="20517" href="/lia/part1/NormalForms/#20455" class="Bound">ϱ</a> <a id="20519" class="Symbol">|</a>
          <a id="20531" href="/lia/part1/Semantics/#31160" class="Function">expandImplies</a> <a id="20545" class="Symbol">(</a><a id="20546" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="20556" href="/lia/part1/NormalForms/#20448" class="Bound">φ</a><a id="20557" class="Symbol">)</a> <a id="20559" class="Symbol">(</a><a id="20560" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="20570" href="/lia/part1/NormalForms/#20452" class="Bound">ψ</a><a id="20571" class="Symbol">)</a> <a id="20573" href="/lia/part1/NormalForms/#20455" class="Bound">ϱ</a> <a id="20575" class="Symbol">=</a> <a id="20577" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="20582" href="/lia/part1/NormalForms/#20055" class="Function">removeImp-sound</a> <a id="20598" class="Symbol">(</a><a id="20599" href="/lia/part1/NormalForms/#20599" class="Bound">φ</a> <a id="20601" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="20603" href="/lia/part1/NormalForms/#20603" class="Bound">ψ</a><a id="20604" class="Symbol">)</a> <a id="20606" href="/lia/part1/NormalForms/#20606" class="Bound">ϱ</a>
  <a id="20610" class="Keyword">rewrite</a> <a id="20618" href="/lia/part1/NormalForms/#20055" class="Function">removeImp-sound</a> <a id="20634" href="/lia/part1/NormalForms/#20599" class="Bound">φ</a> <a id="20636" href="/lia/part1/NormalForms/#20606" class="Bound">ϱ</a> <a id="20638" class="Symbol">|</a>
          <a id="20650" href="/lia/part1/NormalForms/#20055" class="Function">removeImp-sound</a> <a id="20666" href="/lia/part1/NormalForms/#20603" class="Bound">ψ</a> <a id="20668" href="/lia/part1/NormalForms/#20606" class="Bound">ϱ</a> <a id="20670" class="Symbol">|</a>
          <a id="20682" href="/lia/part1/Semantics/#31200" class="Function">expandIff</a> <a id="20692" class="Symbol">(</a><a id="20693" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="20703" href="/lia/part1/NormalForms/#20599" class="Bound">φ</a><a id="20704" class="Symbol">)</a> <a id="20706" class="Symbol">(</a><a id="20707" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="20717" href="/lia/part1/NormalForms/#20603" class="Bound">ψ</a><a id="20718" class="Symbol">)</a> <a id="20720" href="/lia/part1/NormalForms/#20606" class="Bound">ϱ</a> <a id="20722" class="Symbol">=</a> <a id="20724" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="removeImp-impFree"></a><a id="20730" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="20748" class="Symbol">:</a> <a id="20750" class="Symbol">∀</a> <a id="20752" href="/lia/part1/NormalForms/#20752" class="Bound">φ</a> <a id="20754" class="Symbol">→</a> <a id="20756" href="/lia/part1/Semantics/#58451" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="20775" class="Symbol">(</a><a id="20776" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="20786" href="/lia/part1/NormalForms/#20752" class="Bound">φ</a><a id="20787" class="Symbol">)</a>
<a id="20789" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="20807" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="20809" class="Symbol">=</a> <a id="20811" href="/lia/part1/Semantics/#58494" class="InductiveConstructor">⊥</a>
<a id="20813" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="20831" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="20833" class="Symbol">=</a> <a id="20835" href="/lia/part1/Semantics/#58521" class="InductiveConstructor">⊤</a>
<a id="20837" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="20855" class="Symbol">(</a><a id="20856" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="20858" href="/lia/part1/NormalForms/#20858" class="Bound">p</a><a id="20859" class="Symbol">)</a> <a id="20861" class="Symbol">=</a> <a id="20863" href="/lia/part1/Semantics/#58548" class="InductiveConstructor Operator">`</a> <a id="20865" href="/lia/part1/NormalForms/#20858" class="Bound">p</a>
<a id="20867" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="20885" class="Symbol">(</a><a id="20886" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="20888" href="/lia/part1/NormalForms/#20888" class="Bound">φ</a><a id="20889" class="Symbol">)</a> <a id="20891" class="Symbol">=</a> <a id="20893" href="/lia/part1/Semantics/#58586" class="InductiveConstructor Operator">¬</a> <a id="20895" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="20913" href="/lia/part1/NormalForms/#20888" class="Bound">φ</a>
<a id="20915" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="20933" class="Symbol">(</a><a id="20934" href="/lia/part1/NormalForms/#20934" class="Bound">φ</a> <a id="20936" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="20938" href="/lia/part1/NormalForms/#20938" class="Bound">ψ</a><a id="20939" class="Symbol">)</a> <a id="20941" class="Symbol">=</a> <a id="20943" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="20961" href="/lia/part1/NormalForms/#20934" class="Bound">φ</a> <a id="20963" href="/lia/part1/Semantics/#58649" class="InductiveConstructor Operator">∨</a> <a id="20965" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="20983" href="/lia/part1/NormalForms/#20938" class="Bound">ψ</a>
<a id="20985" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="21003" class="Symbol">(</a><a id="21004" href="/lia/part1/NormalForms/#21004" class="Bound">φ</a> <a id="21006" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="21008" href="/lia/part1/NormalForms/#21008" class="Bound">ψ</a><a id="21009" class="Symbol">)</a> <a id="21011" class="Symbol">=</a> <a id="21013" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="21031" href="/lia/part1/NormalForms/#21004" class="Bound">φ</a> <a id="21033" href="/lia/part1/Semantics/#58744" class="InductiveConstructor Operator">∧</a> <a id="21035" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="21053" href="/lia/part1/NormalForms/#21008" class="Bound">ψ</a>
<a id="21055" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="21073" class="Symbol">(</a><a id="21074" href="/lia/part1/NormalForms/#21074" class="Bound">φ</a> <a id="21076" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="21078" href="/lia/part1/NormalForms/#21078" class="Bound">ψ</a><a id="21079" class="Symbol">)</a> <a id="21081" class="Symbol">=</a> <a id="21083" class="Symbol">(</a><a id="21084" href="/lia/part1/Semantics/#58586" class="InductiveConstructor Operator">¬</a> <a id="21086" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="21104" href="/lia/part1/NormalForms/#21074" class="Bound">φ</a><a id="21105" class="Symbol">)</a> <a id="21107" href="/lia/part1/Semantics/#58649" class="InductiveConstructor Operator">∨</a> <a id="21109" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="21127" href="/lia/part1/NormalForms/#21078" class="Bound">ψ</a>
<a id="21129" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="21147" class="Symbol">(</a><a id="21148" href="/lia/part1/NormalForms/#21148" class="Bound">φ</a> <a id="21150" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="21152" href="/lia/part1/NormalForms/#21152" class="Bound">ψ</a><a id="21153" class="Symbol">)</a> <a id="21155" class="Symbol">=</a> <a id="21157" class="Symbol">((</a><a id="21159" href="/lia/part1/Semantics/#58586" class="InductiveConstructor Operator">¬</a> <a id="21161" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="21179" href="/lia/part1/NormalForms/#21148" class="Bound">φ</a><a id="21180" class="Symbol">)</a> <a id="21182" href="/lia/part1/Semantics/#58649" class="InductiveConstructor Operator">∨</a> <a id="21184" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="21202" href="/lia/part1/NormalForms/#21152" class="Bound">ψ</a><a id="21203" class="Symbol">)</a> <a id="21205" href="/lia/part1/Semantics/#58744" class="InductiveConstructor Operator">∧</a>
                              <a id="21237" class="Symbol">(</a><a id="21238" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="21256" href="/lia/part1/NormalForms/#21148" class="Bound">φ</a> <a id="21258" href="/lia/part1/Semantics/#58649" class="InductiveConstructor Operator">∨</a> <a id="21260" class="Symbol">(</a><a id="21261" href="/lia/part1/Semantics/#58586" class="InductiveConstructor Operator">¬</a> <a id="21263" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="21281" href="/lia/part1/NormalForms/#21152" class="Bound">ψ</a><a id="21282" class="Symbol">))</a></pre>

<h2 id="transformation-to-nnf">
<a class="anchor" href="#transformation-to-nnf" aria-hidden="true"><span class="octicon octicon-link"></span></a>Transformation to NNF</h2>

<pre class="Agda"><a id="nnf"></a><a id="21320" href="/lia/part1/NormalForms/#21320" class="Function">nnf</a> <a id="21324" class="Symbol">:</a> <a id="21326" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="21334" class="Symbol">→</a> <a id="21336" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a>
<a id="21344" href="/lia/part1/NormalForms/#21320" class="Function">nnf</a> <a id="21348" class="Symbol">=</a> <a id="21350" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="21355" href="/lia/part0/Utils/#638" class="Function Operator">∘</a> <a id="21357" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="21367" href="/lia/part0/Utils/#638" class="Function Operator">∘</a> <a id="21369" href="/lia/part1/Semantics/#52626" class="Function">simplify</a></pre>

<p>Example:</p>

<pre class="Agda"><a id="21397" href="/lia/part1/NormalForms/#21397" class="Function">_</a> <a id="21399" class="Symbol">:</a> <a id="21401" href="/lia/part1/NormalForms/#21320" class="Function">nnf</a> <a id="21405" class="Symbol">(</a><a id="21406" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="21408" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="21410" class="Symbol">(</a><a id="21411" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="21413" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="21416" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="21418" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="21420" class="Symbol">(</a><a id="21421" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="21423" href="/lia/part1/Semantics/#1232" class="Function">p₁</a> <a id="21426" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="21428" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="21430" href="/lia/part1/Semantics/#1235" class="Function">p₂</a> <a id="21433" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="21435" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a><a id="21436" class="Symbol">)))</a> <a id="21440" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="21442" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="21444" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="21446" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="21449" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="21451" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="21453" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="21455" href="/lia/part1/Semantics/#1232" class="Function">p₁</a> <a id="21458" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="21460" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="21462" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="21464" href="/lia/part1/Semantics/#1235" class="Function">p₂</a>
<a id="21467" class="Symbol">_</a> <a id="21469" class="Symbol">=</a> <a id="21471" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<h2 id="correctness-1">
<a class="anchor" href="#correctness-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Correctness</h2>

<h3 id="structure-1">Structure</h3>

<pre class="Agda"><a id="wnnf-impFree"></a><a id="21517" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="21530" class="Symbol">:</a> <a id="21532" class="Symbol">∀</a> <a id="21534" href="/lia/part1/NormalForms/#21534" class="Bound">φ</a> <a id="21536" class="Symbol">→</a> <a id="21538" href="/lia/part1/Semantics/#58451" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="21557" href="/lia/part1/NormalForms/#21534" class="Bound">φ</a> <a id="21559" class="Symbol">→</a> <a id="21561" href="/lia/part1/NormalForms/#18150" class="Datatype">NNF</a> <a id="21565" class="Symbol">(</a><a id="21566" href="/lia/part1/NormalForms/#3197" class="Function">wnnf</a> <a id="21571" href="/lia/part1/NormalForms/#21534" class="Bound">φ</a><a id="21572" class="Symbol">)</a>
<a id="21574" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="21587" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="21589" href="/lia/part1/Semantics/#58494" class="InductiveConstructor">⊥</a> <a id="21591" class="Symbol">=</a> <a id="21593" href="/lia/part1/NormalForms/#18190" class="InductiveConstructor">⊥</a>
<a id="21595" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="21608" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="21610" href="/lia/part1/Semantics/#58521" class="InductiveConstructor">⊤</a> <a id="21612" class="Symbol">=</a> <a id="21614" href="/lia/part1/NormalForms/#18178" class="InductiveConstructor">⊤</a>
<a id="21616" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="21629" class="Symbol">(</a><a id="21630" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="21632" href="/lia/part1/NormalForms/#21632" class="Bound">p</a><a id="21633" class="Symbol">)</a> <a id="21635" class="Symbol">(</a><a id="21636" href="/lia/part1/Semantics/#58548" class="InductiveConstructor Operator">`</a> <a id="21638" href="/lia/part1/NormalForms/#21632" class="Bound">p</a><a id="21639" class="Symbol">)</a> <a id="21641" class="Symbol">=</a> <a id="21643" href="/lia/part1/NormalForms/#18202" class="InductiveConstructor Operator">`</a> <a id="21645" href="/lia/part1/NormalForms/#21632" class="Bound">p</a>
<a id="21647" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="21660" class="Symbol">(</a><a id="21661" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="21663" class="Symbol">_)</a> <a id="21666" class="Symbol">(</a><a id="21667" href="/lia/part1/Semantics/#58586" class="InductiveConstructor Operator">¬</a> <a id="21669" href="/lia/part1/Semantics/#58494" class="InductiveConstructor">⊥</a><a id="21670" class="Symbol">)</a> <a id="21672" class="Symbol">=</a> <a id="21674" href="/lia/part1/NormalForms/#18178" class="InductiveConstructor">⊤</a>
<a id="21676" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="21689" class="Symbol">(</a><a id="21690" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="21692" class="Symbol">_)</a> <a id="21695" class="Symbol">(</a><a id="21696" href="/lia/part1/Semantics/#58586" class="InductiveConstructor Operator">¬</a> <a id="21698" href="/lia/part1/Semantics/#58521" class="InductiveConstructor">⊤</a><a id="21699" class="Symbol">)</a> <a id="21701" class="Symbol">=</a> <a id="21703" href="/lia/part1/NormalForms/#18190" class="InductiveConstructor">⊥</a>
<a id="21705" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="21718" class="Symbol">(</a><a id="21719" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="21721" class="Symbol">_)</a> <a id="21724" class="Symbol">(</a><a id="21725" href="/lia/part1/Semantics/#58586" class="InductiveConstructor Operator">¬</a> <a id="21727" class="Symbol">(</a><a id="21728" href="/lia/part1/Semantics/#58548" class="InductiveConstructor Operator">`</a> <a id="21730" href="/lia/part1/NormalForms/#21730" class="Bound">p</a><a id="21731" class="Symbol">))</a> <a id="21734" class="Symbol">=</a> <a id="21736" href="/lia/part1/NormalForms/#18236" class="InductiveConstructor Operator">¬`</a> <a id="21739" href="/lia/part1/NormalForms/#21730" class="Bound">p</a>
<a id="21741" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="21754" class="Symbol">(</a><a id="21755" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="21757" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="21759" href="/lia/part1/NormalForms/#21759" class="Bound">φ</a><a id="21760" class="Symbol">)</a> <a id="21762" class="Symbol">(</a><a id="21763" href="/lia/part1/Semantics/#58586" class="InductiveConstructor Operator">¬</a> <a id="21765" href="/lia/part1/Semantics/#58586" class="InductiveConstructor Operator">¬</a> <a id="21767" href="/lia/part1/NormalForms/#21767" class="Bound">view-φ</a><a id="21773" class="Symbol">)</a> <a id="21775" class="Symbol">=</a> <a id="21777" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="21790" href="/lia/part1/NormalForms/#21759" class="Bound">φ</a> <a id="21792" href="/lia/part1/NormalForms/#21767" class="Bound">view-φ</a>
<a id="21799" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="21812" class="Symbol">(</a><a id="21813" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="21815" class="Symbol">(</a><a id="21816" href="/lia/part1/NormalForms/#21816" class="Bound">φ</a> <a id="21818" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="21820" href="/lia/part1/NormalForms/#21820" class="Bound">ψ</a><a id="21821" class="Symbol">))</a> <a id="21824" class="Symbol">(</a><a id="21825" href="/lia/part1/Semantics/#58586" class="InductiveConstructor Operator">¬</a> <a id="21827" class="Symbol">(</a><a id="21828" href="/lia/part1/NormalForms/#21828" class="Bound">view-φ</a> <a id="21835" href="/lia/part1/Semantics/#58649" class="InductiveConstructor Operator">∨</a> <a id="21837" href="/lia/part1/NormalForms/#21837" class="Bound">view-ψ</a><a id="21843" class="Symbol">))</a> <a id="21846" class="Symbol">=</a> <a id="21848" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="21861" class="Symbol">(</a><a id="21862" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="21864" href="/lia/part1/NormalForms/#21816" class="Bound">φ</a><a id="21865" class="Symbol">)</a> <a id="21867" class="Symbol">(</a><a id="21868" href="/lia/part1/Semantics/#58586" class="InductiveConstructor Operator">¬</a> <a id="21870" href="/lia/part1/NormalForms/#21828" class="Bound">view-φ</a><a id="21876" class="Symbol">)</a> <a id="21878" href="/lia/part1/NormalForms/#18273" class="InductiveConstructor Operator">∧</a> <a id="21880" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="21893" class="Symbol">(</a><a id="21894" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="21896" href="/lia/part1/NormalForms/#21820" class="Bound">ψ</a><a id="21897" class="Symbol">)</a> <a id="21899" class="Symbol">(</a><a id="21900" href="/lia/part1/Semantics/#58586" class="InductiveConstructor Operator">¬</a> <a id="21902" href="/lia/part1/NormalForms/#21837" class="Bound">view-ψ</a><a id="21908" class="Symbol">)</a>
<a id="21910" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="21923" class="Symbol">(</a><a id="21924" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="21926" class="Symbol">(</a><a id="21927" href="/lia/part1/NormalForms/#21927" class="Bound">φ</a> <a id="21929" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="21931" href="/lia/part1/NormalForms/#21931" class="Bound">ψ</a><a id="21932" class="Symbol">))</a> <a id="21935" class="Symbol">(</a><a id="21936" href="/lia/part1/Semantics/#58586" class="InductiveConstructor Operator">¬</a> <a id="21938" class="Symbol">(</a><a id="21939" href="/lia/part1/NormalForms/#21939" class="Bound">view-φ</a> <a id="21946" href="/lia/part1/Semantics/#58744" class="InductiveConstructor Operator">∧</a> <a id="21948" href="/lia/part1/NormalForms/#21948" class="Bound">view-ψ</a><a id="21954" class="Symbol">))</a> <a id="21957" class="Symbol">=</a> <a id="21959" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="21972" class="Symbol">(</a><a id="21973" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="21975" href="/lia/part1/NormalForms/#21927" class="Bound">φ</a><a id="21976" class="Symbol">)</a> <a id="21978" class="Symbol">(</a><a id="21979" href="/lia/part1/Semantics/#58586" class="InductiveConstructor Operator">¬</a> <a id="21981" href="/lia/part1/NormalForms/#21939" class="Bound">view-φ</a><a id="21987" class="Symbol">)</a> <a id="21989" href="/lia/part1/NormalForms/#18309" class="InductiveConstructor Operator">∨</a> <a id="21991" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="22004" class="Symbol">(</a><a id="22005" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="22007" href="/lia/part1/NormalForms/#21931" class="Bound">ψ</a><a id="22008" class="Symbol">)</a> <a id="22010" class="Symbol">(</a><a id="22011" href="/lia/part1/Semantics/#58586" class="InductiveConstructor Operator">¬</a> <a id="22013" href="/lia/part1/NormalForms/#21948" class="Bound">view-ψ</a><a id="22019" class="Symbol">)</a>
<a id="22021" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="22034" class="Symbol">(</a><a id="22035" href="/lia/part1/NormalForms/#22035" class="Bound">φ</a> <a id="22037" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="22039" href="/lia/part1/NormalForms/#22039" class="Bound">ψ</a><a id="22040" class="Symbol">)</a> <a id="22042" class="Symbol">(</a><a id="22043" href="/lia/part1/NormalForms/#22043" class="Bound">view-φ</a> <a id="22050" href="/lia/part1/Semantics/#58649" class="InductiveConstructor Operator">∨</a> <a id="22052" href="/lia/part1/NormalForms/#22052" class="Bound">view-ψ</a><a id="22058" class="Symbol">)</a> <a id="22060" class="Symbol">=</a> <a id="22062" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="22075" href="/lia/part1/NormalForms/#22035" class="Bound">φ</a> <a id="22077" href="/lia/part1/NormalForms/#22043" class="Bound">view-φ</a> <a id="22084" href="/lia/part1/NormalForms/#18309" class="InductiveConstructor Operator">∨</a> <a id="22086" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="22099" href="/lia/part1/NormalForms/#22039" class="Bound">ψ</a> <a id="22101" href="/lia/part1/NormalForms/#22052" class="Bound">view-ψ</a>
<a id="22108" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="22121" class="Symbol">(</a><a id="22122" href="/lia/part1/NormalForms/#22122" class="Bound">φ</a> <a id="22124" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="22126" href="/lia/part1/NormalForms/#22126" class="Bound">ψ</a><a id="22127" class="Symbol">)</a> <a id="22129" class="Symbol">(</a><a id="22130" href="/lia/part1/NormalForms/#22130" class="Bound">view-φ</a> <a id="22137" href="/lia/part1/Semantics/#58744" class="InductiveConstructor Operator">∧</a> <a id="22139" href="/lia/part1/NormalForms/#22139" class="Bound">view-ψ</a><a id="22145" class="Symbol">)</a> <a id="22147" class="Symbol">=</a> <a id="22149" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="22162" href="/lia/part1/NormalForms/#22122" class="Bound">φ</a> <a id="22164" href="/lia/part1/NormalForms/#22130" class="Bound">view-φ</a> <a id="22171" href="/lia/part1/NormalForms/#18273" class="InductiveConstructor Operator">∧</a> <a id="22173" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="22186" href="/lia/part1/NormalForms/#22126" class="Bound">ψ</a> <a id="22188" href="/lia/part1/NormalForms/#22139" class="Bound">view-ψ</a>

<a id="nnf-NNF"></a><a id="22196" href="/lia/part1/NormalForms/#22196" class="Function">nnf-NNF</a> <a id="22204" class="Symbol">:</a> <a id="22206" class="Symbol">∀</a> <a id="22208" href="/lia/part1/NormalForms/#22208" class="Bound">φ</a> <a id="22210" class="Symbol">→</a> <a id="22212" href="/lia/part1/NormalForms/#18150" class="Datatype">NNF</a> <a id="22216" class="Symbol">(</a><a id="22217" href="/lia/part1/NormalForms/#21320" class="Function">nnf</a> <a id="22221" href="/lia/part1/NormalForms/#22208" class="Bound">φ</a><a id="22222" class="Symbol">)</a>
<a id="22224" href="/lia/part1/NormalForms/#22196" class="Function">nnf-NNF</a> <a id="22232" href="/lia/part1/NormalForms/#22232" class="Bound">φ</a> <a id="22234" class="Symbol">=</a> <a id="22236" href="/lia/part1/NormalForms/#21517" class="Function">wnnf-impFree</a> <a id="22249" class="Symbol">(</a><a id="22250" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="22260" class="Symbol">(</a><a id="22261" href="/lia/part1/Semantics/#52626" class="Function">simplify</a> <a id="22270" href="/lia/part1/NormalForms/#22232" class="Bound">φ</a><a id="22271" class="Symbol">))</a> <a id="22274" class="Symbol">(</a><a id="22275" href="/lia/part1/NormalForms/#20730" class="Function">removeImp-impFree</a> <a id="22293" class="Symbol">(</a><a id="22294" href="/lia/part1/Semantics/#52626" class="Function">simplify</a> <a id="22303" href="/lia/part1/NormalForms/#22232" class="Bound">φ</a><a id="22304" class="Symbol">))</a></pre>

<h3 id="soundness-1">Soundness</h3>

<pre class="Agda"><a id="nnf-sound"></a><a id="22331" href="/lia/part1/NormalForms/#22331" class="Function">nnf-sound</a> <a id="22341" class="Symbol">:</a> <a id="22343" class="Symbol">∀</a> <a id="22345" href="/lia/part1/NormalForms/#22345" class="Bound">φ</a> <a id="22347" class="Symbol">→</a> <a id="22349" href="/lia/part1/NormalForms/#22345" class="Bound">φ</a> <a id="22351" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="22353" href="/lia/part1/NormalForms/#21320" class="Function">nnf</a> <a id="22357" href="/lia/part1/NormalForms/#22345" class="Bound">φ</a>
<a id="22359" href="/lia/part1/NormalForms/#22331" class="Function">nnf-sound</a> <a id="22369" href="/lia/part1/NormalForms/#22369" class="Bound">φ</a> <a id="22371" href="/lia/part1/NormalForms/#22371" class="Bound">ϱ</a>
  <a id="22375" class="Keyword">rewrite</a> <a id="22383" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="22387" class="Symbol">(</a><a id="22388" href="/lia/part1/NormalForms/#8066" class="Function">wnnf-sound</a> <a id="22399" class="Symbol">(</a><a id="22400" href="/lia/part1/NormalForms/#19709" class="Function">removeImp</a> <a id="22410" class="Symbol">(</a><a id="22411" href="/lia/part1/Semantics/#52626" class="Function">simplify</a> <a id="22420" href="/lia/part1/NormalForms/#22369" class="Bound">φ</a><a id="22421" class="Symbol">))</a> <a id="22424" href="/lia/part1/NormalForms/#22371" class="Bound">ϱ</a><a id="22425" class="Symbol">)</a> <a id="22427" class="Symbol">|</a>
          <a id="22439" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="22443" class="Symbol">(</a><a id="22444" href="/lia/part1/NormalForms/#20055" class="Function">removeImp-sound</a> <a id="22460" class="Symbol">(</a><a id="22461" href="/lia/part1/Semantics/#52626" class="Function">simplify</a> <a id="22470" href="/lia/part1/NormalForms/#22369" class="Bound">φ</a><a id="22471" class="Symbol">)</a> <a id="22473" href="/lia/part1/NormalForms/#22371" class="Bound">ϱ</a><a id="22474" class="Symbol">)</a> <a id="22476" class="Symbol">|</a>
          <a id="22488" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="22492" class="Symbol">(</a><a id="22493" href="/lia/part1/Semantics/#54157" class="Function">simplify-sound</a> <a id="22508" href="/lia/part1/NormalForms/#22369" class="Bound">φ</a> <a id="22510" href="/lia/part1/NormalForms/#22371" class="Bound">ϱ</a><a id="22511" class="Symbol">)</a> <a id="22513" class="Symbol">=</a> <a id="22515" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<h1 id="DNF">
<a class="anchor" href="#DNF" aria-hidden="true"><span class="octicon octicon-link"></span></a>Disjunctive normal form</h1>

<p>A <em>clause</em> <code class="language-plaintext highlighter-rouge">C</code> is a conjunction of literals <code class="language-plaintext highlighter-rouge">l1 ∧ ⋯ ∧ lm</code>. A formula is
in <em>disjunctive normal form</em> (DNF) if it is a disjunction of clauses
<code class="language-plaintext highlighter-rouge">C1 ∨ ⋯ ∨ Cn</code>.</p>

<pre class="Agda"><a id="22722" class="Keyword">data</a> <a id="Literal"></a><a id="22727" href="/lia/part1/NormalForms/#22727" class="Datatype">Literal</a> <a id="22735" class="Symbol">:</a> <a id="22737" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="22745" class="Symbol">→</a> <a id="22747" class="PrimitiveType">Set</a> <a id="22751" class="Keyword">where</a>
  <a id="Literal.Pos"></a><a id="22759" href="/lia/part1/NormalForms/#22759" class="InductiveConstructor">Pos</a> <a id="22763" class="Symbol">:</a> <a id="22765" class="Symbol">(</a><a id="22766" href="/lia/part1/NormalForms/#22766" class="Bound">p</a> <a id="22768" class="Symbol">:</a> <a id="22770" href="/lia/part1/Semantics/#1104" class="Function">PropName</a><a id="22778" class="Symbol">)</a> <a id="22780" class="Symbol">→</a> <a id="22782" href="/lia/part1/NormalForms/#22727" class="Datatype">Literal</a> <a id="22790" class="Symbol">(</a><a id="22791" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="22793" href="/lia/part1/NormalForms/#22766" class="Bound">p</a><a id="22794" class="Symbol">)</a>
  <a id="Literal.Neg"></a><a id="22798" href="/lia/part1/NormalForms/#22798" class="InductiveConstructor">Neg</a> <a id="22802" class="Symbol">:</a> <a id="22804" class="Symbol">(</a><a id="22805" href="/lia/part1/NormalForms/#22805" class="Bound">p</a> <a id="22807" class="Symbol">:</a> <a id="22809" href="/lia/part1/Semantics/#1104" class="Function">PropName</a><a id="22817" class="Symbol">)</a> <a id="22819" class="Symbol">→</a> <a id="22821" href="/lia/part1/NormalForms/#22727" class="Datatype">Literal</a> <a id="22829" class="Symbol">(</a><a id="22830" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="22832" class="Symbol">(</a><a id="22833" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="22835" href="/lia/part1/NormalForms/#22805" class="Bound">p</a><a id="22836" class="Symbol">))</a>
  
<a id="22842" class="Keyword">data</a> <a id="DNFClause"></a><a id="22847" href="/lia/part1/NormalForms/#22847" class="Datatype">DNFClause</a> <a id="22857" class="Symbol">:</a> <a id="22859" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="22867" class="Symbol">→</a> <a id="22869" class="PrimitiveType">Set</a> <a id="22873" class="Keyword">where</a>
  <a id="DNFClause.∅"></a><a id="22881" href="/lia/part1/NormalForms/#22881" class="InductiveConstructor">∅</a> <a id="22883" class="Symbol">:</a> <a id="22885" href="/lia/part1/NormalForms/#22847" class="Datatype">DNFClause</a> <a id="22895" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a>
  <a id="DNFClause._,_"></a><a id="22899" href="/lia/part1/NormalForms/#22899" class="InductiveConstructor Operator">_,_</a> <a id="22903" class="Symbol">:</a> <a id="22905" class="Symbol">∀</a> <a id="22907" class="Symbol">{</a><a id="22908" href="/lia/part1/NormalForms/#22908" class="Bound">φ</a> <a id="22910" href="/lia/part1/NormalForms/#22910" class="Bound">ψ</a><a id="22911" class="Symbol">}</a> <a id="22913" class="Symbol">→</a> <a id="22915" href="/lia/part1/NormalForms/#22727" class="Datatype">Literal</a> <a id="22923" href="/lia/part1/NormalForms/#22908" class="Bound">φ</a> <a id="22925" class="Symbol">→</a> <a id="22927" href="/lia/part1/NormalForms/#22847" class="Datatype">DNFClause</a> <a id="22937" href="/lia/part1/NormalForms/#22910" class="Bound">ψ</a> <a id="22939" class="Symbol">→</a> <a id="22941" href="/lia/part1/NormalForms/#22847" class="Datatype">DNFClause</a> <a id="22951" class="Symbol">(</a><a id="22952" href="/lia/part1/NormalForms/#22908" class="Bound">φ</a> <a id="22954" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="22956" href="/lia/part1/NormalForms/#22910" class="Bound">ψ</a><a id="22957" class="Symbol">)</a>

<a id="22960" class="Keyword">data</a> <a id="DNF"></a><a id="22965" href="/lia/part1/NormalForms/#22965" class="Datatype">DNF</a> <a id="22969" class="Symbol">:</a> <a id="22971" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a>  <a id="22980" class="Symbol">→</a> <a id="22982" class="PrimitiveType">Set</a> <a id="22986" class="Keyword">where</a>
  <a id="DNF.∅"></a><a id="22994" href="/lia/part1/NormalForms/#22994" class="InductiveConstructor">∅</a> <a id="22996" class="Symbol">:</a> <a id="22998" href="/lia/part1/NormalForms/#22965" class="Datatype">DNF</a> <a id="23002" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a>
  <a id="DNF._,_"></a><a id="23006" href="/lia/part1/NormalForms/#23006" class="InductiveConstructor Operator">_,_</a> <a id="23010" class="Symbol">:</a> <a id="23012" class="Symbol">∀</a> <a id="23014" class="Symbol">{</a><a id="23015" href="/lia/part1/NormalForms/#23015" class="Bound">φ</a> <a id="23017" href="/lia/part1/NormalForms/#23017" class="Bound">ψ</a><a id="23018" class="Symbol">}</a> <a id="23020" class="Symbol">→</a> <a id="23022" href="/lia/part1/NormalForms/#22847" class="Datatype">DNFClause</a> <a id="23032" href="/lia/part1/NormalForms/#23015" class="Bound">φ</a> <a id="23034" class="Symbol">→</a> <a id="23036" href="/lia/part1/NormalForms/#22965" class="Datatype">DNF</a> <a id="23040" href="/lia/part1/NormalForms/#23017" class="Bound">ψ</a> <a id="23042" class="Symbol">→</a> <a id="23044" href="/lia/part1/NormalForms/#22965" class="Datatype">DNF</a> <a id="23048" class="Symbol">(</a><a id="23049" href="/lia/part1/NormalForms/#23015" class="Bound">φ</a> <a id="23051" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="23053" href="/lia/part1/NormalForms/#23017" class="Bound">ψ</a><a id="23054" class="Symbol">)</a></pre>

<p>We warm up and show how we can merge two clauses while preserving the
semantics. This is essentially list concatenation, with additional code
showing that it is semantics-preserving for formulas.</p>

<pre class="Agda"><a id="merge"></a><a id="23262" href="/lia/part1/NormalForms/#23262" class="Function">merge</a> <a id="23268" class="Symbol">:</a> <a id="23270" class="Symbol">∀</a> <a id="23272" class="Symbol">{</a><a id="23273" href="/lia/part1/NormalForms/#23273" class="Bound">φ</a> <a id="23275" href="/lia/part1/NormalForms/#23275" class="Bound">ψ</a><a id="23276" class="Symbol">}</a> <a id="23278" class="Symbol">→</a> <a id="23280" href="/lia/part1/NormalForms/#22847" class="Datatype">DNFClause</a> <a id="23290" href="/lia/part1/NormalForms/#23273" class="Bound">φ</a> <a id="23292" class="Symbol">→</a> <a id="23294" href="/lia/part1/NormalForms/#22847" class="Datatype">DNFClause</a> <a id="23304" href="/lia/part1/NormalForms/#23275" class="Bound">ψ</a> <a id="23306" class="Symbol">→</a> <a id="23308" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="23311" href="/lia/part1/NormalForms/#23311" class="Bound">ξ</a> <a id="23313" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="23315" href="/lia/part1/NormalForms/#22847" class="Datatype">DNFClause</a> <a id="23325" href="/lia/part1/NormalForms/#23311" class="Bound">ξ</a> <a id="23327" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="23329" href="/lia/part1/NormalForms/#23311" class="Bound">ξ</a> <a id="23331" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="23333" href="/lia/part1/NormalForms/#23273" class="Bound">φ</a> <a id="23335" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="23337" href="/lia/part1/NormalForms/#23275" class="Bound">ψ</a>
<a id="23339" href="/lia/part1/NormalForms/#23262" class="Function">merge</a> <a id="23345" class="Symbol">{</a><a id="23346" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a><a id="23347" class="Symbol">}</a> <a id="23349" class="Symbol">{</a><a id="23350" href="/lia/part1/NormalForms/#23350" class="Bound">ψ</a><a id="23351" class="Symbol">}</a> <a id="23353" href="/lia/part1/NormalForms/#22881" class="InductiveConstructor">∅</a> <a id="23355" href="/lia/part1/NormalForms/#23355" class="Bound">Cψ</a> <a id="23358" class="Symbol">=</a> <a id="23360" href="/lia/part1/NormalForms/#23350" class="Bound">ψ</a> <a id="23362" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="23364" href="/lia/part1/NormalForms/#23355" class="Bound">Cψ</a> <a id="23367" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="23369" href="/lia/part1/NormalForms/#23390" class="Function">correctness</a> <a id="23381" class="Keyword">where</a>

  <a id="23390" href="/lia/part1/NormalForms/#23390" class="Function">correctness</a> <a id="23402" class="Symbol">:</a> <a id="23404" href="/lia/part1/NormalForms/#23350" class="Bound">ψ</a> <a id="23406" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="23408" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="23410" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="23412" href="/lia/part1/NormalForms/#23350" class="Bound">ψ</a>
  <a id="23416" href="/lia/part1/NormalForms/#23390" class="Function">correctness</a> <a id="23428" href="/lia/part1/NormalForms/#23428" class="Bound">ρ</a> <a id="23430" class="Keyword">with</a> <a id="23435" href="/lia/part1/Semantics/#12153" class="Function Operator">⟦</a> <a id="23437" href="/lia/part1/NormalForms/#23350" class="Bound">ψ</a> <a id="23439" href="/lia/part1/Semantics/#12153" class="Function Operator">⟧</a> <a id="23441" href="/lia/part1/NormalForms/#23428" class="Bound">ρ</a>
  <a id="23445" class="Symbol">...</a> <a id="23449" class="Symbol">|</a> <a id="23451" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="23454" class="Symbol">=</a> <a id="23456" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  <a id="23463" class="Symbol">...</a> <a id="23467" class="Symbol">|</a> <a id="23469" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="23472" class="Symbol">=</a> <a id="23474" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="23482" href="/lia/part1/NormalForms/#23262" class="Function">merge</a> <a id="23488" class="Symbol">{</a><a id="23489" href="/lia/part1/NormalForms/#23489" class="Bound">φ</a> <a id="23491" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="23493" href="/lia/part1/NormalForms/#23493" class="Bound">φ'</a><a id="23495" class="Symbol">}</a> <a id="23497" class="Symbol">{</a><a id="23498" href="/lia/part1/NormalForms/#23498" class="Bound">ψ</a><a id="23499" class="Symbol">}</a> <a id="23501" class="Symbol">(</a><a id="23502" href="/lia/part1/NormalForms/#23502" class="Bound">Lφ</a> <a id="23505" href="/lia/part1/NormalForms/#22899" class="InductiveConstructor Operator">,</a> <a id="23507" href="/lia/part1/NormalForms/#23507" class="Bound">Cφ'</a><a id="23510" class="Symbol">)</a> <a id="23512" href="/lia/part1/NormalForms/#23512" class="Bound">Cψ</a> <a id="23515" class="Keyword">with</a> <a id="23520" href="/lia/part1/NormalForms/#23262" class="Function">merge</a> <a id="23526" href="/lia/part1/NormalForms/#23507" class="Bound">Cφ'</a> <a id="23530" href="/lia/part1/NormalForms/#23512" class="Bound">Cψ</a>
<a id="23533" class="Symbol">...</a> <a id="23537" class="Symbol">|</a> <a id="23539" href="/lia/part1/NormalForms/#23539" class="Bound">ξ</a> <a id="23541" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="23543" href="/lia/part1/NormalForms/#23543" class="Bound">Cξ</a> <a id="23546" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="23548" href="/lia/part1/NormalForms/#23548" class="Bound">ξ⟺φ'∧ψ</a> <a id="23555" class="Symbol">=</a> <a id="23557" class="Bound">φ</a> <a id="23559" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="23561" href="/lia/part1/NormalForms/#23539" class="Bound">ξ</a> <a id="23563" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="23565" class="Symbol">(</a><a id="23566" class="Bound">Lφ</a> <a id="23569" href="/lia/part1/NormalForms/#22899" class="InductiveConstructor Operator">,</a> <a id="23571" href="/lia/part1/NormalForms/#23543" class="Bound">Cξ</a><a id="23573" class="Symbol">)</a> <a id="23575" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="23577" href="/lia/part1/NormalForms/#23598" class="Function">correctness</a> <a id="23589" class="Keyword">where</a>

  <a id="23598" href="/lia/part1/NormalForms/#23598" class="Function">correctness</a> <a id="23610" class="Symbol">:</a> <a id="23612" class="Bound">φ</a> <a id="23614" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="23616" href="/lia/part1/NormalForms/#23539" class="Bound">ξ</a> <a id="23618" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="23620" class="Symbol">(</a><a id="23621" class="Bound">φ</a> <a id="23623" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="23625" class="Bound">φ'</a><a id="23627" class="Symbol">)</a> <a id="23629" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="23631" class="Bound">ψ</a>
  <a id="23635" href="/lia/part1/NormalForms/#23598" class="Function">correctness</a> <a id="23647" href="/lia/part1/NormalForms/#23647" class="Bound">ρ</a> <a id="23649" class="Keyword">rewrite</a> <a id="23657" href="/lia/part1/NormalForms/#23548" class="Bound">ξ⟺φ'∧ψ</a> <a id="23664" href="/lia/part1/NormalForms/#23647" class="Bound">ρ</a> <a id="23666" class="Symbol">=</a> <a id="23668" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="23672" class="Symbol">(</a><a id="23673" href="/lia/part0/Booleans/#4069" class="UnsolvedMeta UnsolvedConstraint Function">assoc-∧𝔹</a><a id="23681" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="23682" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="23683" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="23684" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="23685" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="23686" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="23687" class="Symbol">)</a></pre>

<h2 id="case-1-dnf-of-a-disjunction">
<a class="anchor" href="#case-1-dnf-of-a-disjunction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Case 1: DNF of a disjunction</h2>

<pre class="Agda"><a id="DNF-∨"></a><a id="23731" href="/lia/part1/NormalForms/#23731" class="Function">DNF-∨</a> <a id="23737" class="Symbol">:</a> <a id="23739" class="Symbol">∀</a> <a id="23741" class="Symbol">{</a><a id="23742" href="/lia/part1/NormalForms/#23742" class="Bound">φ</a> <a id="23744" href="/lia/part1/NormalForms/#23744" class="Bound">ψ</a><a id="23745" class="Symbol">}</a> <a id="23747" class="Symbol">→</a> <a id="23749" href="/lia/part1/NormalForms/#22965" class="Datatype">DNF</a> <a id="23753" href="/lia/part1/NormalForms/#23742" class="Bound">φ</a> <a id="23755" class="Symbol">→</a> <a id="23757" href="/lia/part1/NormalForms/#22965" class="Datatype">DNF</a> <a id="23761" href="/lia/part1/NormalForms/#23744" class="Bound">ψ</a> <a id="23763" class="Symbol">→</a> <a id="23765" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="23768" href="/lia/part1/NormalForms/#23768" class="Bound">ξ</a> <a id="23770" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="23772" href="/lia/part1/NormalForms/#22965" class="Datatype">DNF</a> <a id="23776" href="/lia/part1/NormalForms/#23768" class="Bound">ξ</a> <a id="23778" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="23780" href="/lia/part1/NormalForms/#23768" class="Bound">ξ</a> <a id="23782" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="23784" href="/lia/part1/NormalForms/#23742" class="Bound">φ</a> <a id="23786" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="23788" href="/lia/part1/NormalForms/#23744" class="Bound">ψ</a>

<a id="23791" href="/lia/part1/NormalForms/#23731" class="Function">DNF-∨</a> <a id="23797" class="Symbol">{</a><a id="23798" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a><a id="23799" class="Symbol">}</a> <a id="23801" class="Symbol">{</a><a id="23802" href="/lia/part1/NormalForms/#23802" class="Bound">ψ</a><a id="23803" class="Symbol">}</a> <a id="23805" href="/lia/part1/NormalForms/#22994" class="InductiveConstructor">∅</a> <a id="23807" href="/lia/part1/NormalForms/#23807" class="Bound">DNFψ</a> <a id="23812" class="Symbol">=</a> <a id="23814" href="/lia/part1/NormalForms/#23802" class="Bound">ψ</a> <a id="23816" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="23818" href="/lia/part1/NormalForms/#23807" class="Bound">DNFψ</a> <a id="23823" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="23825" href="/lia/part1/NormalForms/#23846" class="Function">correctness</a> <a id="23837" class="Keyword">where</a>

  <a id="23846" href="/lia/part1/NormalForms/#23846" class="Function">correctness</a> <a id="23858" class="Symbol">:</a> <a id="23860" href="/lia/part1/NormalForms/#23802" class="Bound">ψ</a> <a id="23862" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="23864" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="23866" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="23868" href="/lia/part1/NormalForms/#23802" class="Bound">ψ</a>
  <a id="23872" href="/lia/part1/NormalForms/#23846" class="Function">correctness</a> <a id="23884" href="/lia/part1/NormalForms/#23884" class="Bound">ρ</a> <a id="23886" class="Keyword">with</a> <a id="23891" href="/lia/part1/Semantics/#12153" class="Function Operator">⟦</a> <a id="23893" href="/lia/part1/NormalForms/#23802" class="Bound">ψ</a> <a id="23895" href="/lia/part1/Semantics/#12153" class="Function Operator">⟧</a> <a id="23897" href="/lia/part1/NormalForms/#23884" class="Bound">ρ</a>
  <a id="23901" class="Symbol">...</a> <a id="23905" class="Symbol">|</a> <a id="23907" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="23910" class="Symbol">=</a> <a id="23912" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  <a id="23919" class="Symbol">...</a> <a id="23923" class="Symbol">|</a> <a id="23925" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="23928" class="Symbol">=</a> <a id="23930" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="23936" href="/lia/part1/NormalForms/#23731" class="Function">DNF-∨</a> <a id="23942" class="Symbol">{</a><a id="23943" href="/lia/part1/NormalForms/#23943" class="Bound">φ</a> <a id="23945" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="23947" href="/lia/part1/NormalForms/#23947" class="Bound">ψ</a><a id="23948" class="Symbol">}</a> <a id="23950" class="Symbol">{</a><a id="23951" href="/lia/part1/NormalForms/#23951" class="Bound">ξ</a><a id="23952" class="Symbol">}</a> <a id="23954" class="Symbol">(</a><a id="23955" href="/lia/part1/NormalForms/#23955" class="Bound">Cφ</a> <a id="23958" href="/lia/part1/NormalForms/#23006" class="InductiveConstructor Operator">,</a> <a id="23960" href="/lia/part1/NormalForms/#23960" class="Bound">DNFψ</a><a id="23964" class="Symbol">)</a> <a id="23966" href="/lia/part1/NormalForms/#23966" class="Bound">DNFξ</a> <a id="23971" class="Keyword">with</a> <a id="23976" href="/lia/part1/NormalForms/#23731" class="Function">DNF-∨</a> <a id="23982" href="/lia/part1/NormalForms/#23960" class="Bound">DNFψ</a> <a id="23987" href="/lia/part1/NormalForms/#23966" class="Bound">DNFξ</a>
<a id="23992" class="Symbol">...</a> <a id="23996" class="Symbol">|</a> <a id="23998" href="/lia/part1/NormalForms/#23998" class="Bound">η</a> <a id="24000" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="24002" href="/lia/part1/NormalForms/#24002" class="Bound">DNFη</a> <a id="24007" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="24009" href="/lia/part1/NormalForms/#24009" class="Bound">η⟺ψ∨ξ</a> <a id="24015" class="Symbol">=</a> <a id="24017" class="Bound">φ</a> <a id="24019" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="24021" href="/lia/part1/NormalForms/#23998" class="Bound">η</a> <a id="24023" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="24025" class="Symbol">(</a><a id="24026" class="Bound">Cφ</a> <a id="24029" href="/lia/part1/NormalForms/#23006" class="InductiveConstructor Operator">,</a> <a id="24031" href="/lia/part1/NormalForms/#24002" class="Bound">DNFη</a><a id="24035" class="Symbol">)</a> <a id="24037" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="24039" href="/lia/part1/NormalForms/#24060" class="Function">correctness</a> <a id="24051" class="Keyword">where</a>

  <a id="24060" href="/lia/part1/NormalForms/#24060" class="Function">correctness</a> <a id="24072" class="Symbol">:</a> <a id="24074" class="Bound">φ</a> <a id="24076" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="24078" href="/lia/part1/NormalForms/#23998" class="Bound">η</a> <a id="24080" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="24082" class="Symbol">(</a><a id="24083" class="Bound">φ</a> <a id="24085" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="24087" class="Bound">ψ</a><a id="24088" class="Symbol">)</a> <a id="24090" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="24092" class="Bound">ξ</a> 
  <a id="24097" href="/lia/part1/NormalForms/#24060" class="Function">correctness</a> <a id="24109" href="/lia/part1/NormalForms/#24109" class="Bound">ρ</a> <a id="24111" class="Keyword">rewrite</a> <a id="24119" href="/lia/part1/NormalForms/#24009" class="Bound">η⟺ψ∨ξ</a> <a id="24125" href="/lia/part1/NormalForms/#24109" class="Bound">ρ</a> <a id="24127" class="Symbol">=</a> <a id="24129" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="24133" class="Symbol">(</a><a id="24134" href="/lia/part0/Booleans/#3811" class="UnsolvedMeta UnsolvedConstraint Function">assoc-∨𝔹</a><a id="24142" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="24143" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="24144" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="24145" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="24146" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="24147" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="24148" class="Symbol">)</a></pre>

<h2 id="case-2-dnf-of-a-conjunction">
<a class="anchor" href="#case-2-dnf-of-a-conjunction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Case 2: DNF of a conjunction</h2>

<ul>
  <li>We first show how to add a single clause.</li>
</ul>

<pre class="Agda"><a id="DNF-∧-DNFClause"></a><a id="24237" href="/lia/part1/NormalForms/#24237" class="Function">DNF-∧-DNFClause</a> <a id="24253" class="Symbol">:</a> <a id="24255" class="Symbol">∀</a> <a id="24257" class="Symbol">{</a><a id="24258" href="/lia/part1/NormalForms/#24258" class="Bound">φ</a> <a id="24260" href="/lia/part1/NormalForms/#24260" class="Bound">ψ</a><a id="24261" class="Symbol">}</a> <a id="24263" class="Symbol">→</a> <a id="24265" href="/lia/part1/NormalForms/#22847" class="Datatype">DNFClause</a> <a id="24275" href="/lia/part1/NormalForms/#24258" class="Bound">φ</a> <a id="24277" class="Symbol">→</a> <a id="24279" href="/lia/part1/NormalForms/#22965" class="Datatype">DNF</a> <a id="24283" href="/lia/part1/NormalForms/#24260" class="Bound">ψ</a> <a id="24285" class="Symbol">→</a> <a id="24287" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="24290" href="/lia/part1/NormalForms/#24290" class="Bound">ξ</a> <a id="24292" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="24294" href="/lia/part1/NormalForms/#22965" class="Datatype">DNF</a> <a id="24298" href="/lia/part1/NormalForms/#24290" class="Bound">ξ</a> <a id="24300" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="24302" href="/lia/part1/NormalForms/#24290" class="Bound">ξ</a> <a id="24304" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="24306" href="/lia/part1/NormalForms/#24258" class="Bound">φ</a> <a id="24308" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="24310" href="/lia/part1/NormalForms/#24260" class="Bound">ψ</a>
<a id="24312" href="/lia/part1/NormalForms/#24237" class="Function">DNF-∧-DNFClause</a> <a id="24328" class="Symbol">{</a><a id="24329" href="/lia/part1/NormalForms/#24329" class="Bound">φ</a><a id="24330" class="Symbol">}</a> <a id="24332" class="Symbol">{</a><a id="24333" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a><a id="24334" class="Symbol">}</a> <a id="24336" href="/lia/part1/NormalForms/#24336" class="Bound">Cφ</a> <a id="24339" href="/lia/part1/NormalForms/#22994" class="InductiveConstructor">∅</a> <a id="24341" class="Symbol">=</a>  <a id="24344" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="24346" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="24348" href="/lia/part1/NormalForms/#22994" class="InductiveConstructor">∅</a> <a id="24350" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="24352" href="/lia/part1/NormalForms/#24373" class="Function">correctness</a> <a id="24364" class="Keyword">where</a>

  <a id="24373" href="/lia/part1/NormalForms/#24373" class="Function">correctness</a> <a id="24385" class="Symbol">:</a> <a id="24387" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="24389" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="24391" href="/lia/part1/NormalForms/#24329" class="Bound">φ</a> <a id="24393" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="24395" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a>
  <a id="24399" href="/lia/part1/NormalForms/#24373" class="Function">correctness</a> <a id="24411" href="/lia/part1/NormalForms/#24411" class="Bound">ρ</a> <a id="24413" class="Keyword">with</a> <a id="24418" href="/lia/part1/Semantics/#12153" class="Function Operator">⟦</a> <a id="24420" href="/lia/part1/NormalForms/#24329" class="Bound">φ</a> <a id="24422" href="/lia/part1/Semantics/#12153" class="Function Operator">⟧</a> <a id="24424" href="/lia/part1/NormalForms/#24411" class="Bound">ρ</a>
  <a id="24428" class="Symbol">...</a> <a id="24432" class="Symbol">|</a> <a id="24434" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="24437" class="Symbol">=</a> <a id="24439" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  <a id="24446" class="Symbol">...</a> <a id="24450" class="Symbol">|</a> <a id="24452" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="24455" class="Symbol">=</a> <a id="24457" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="24465" href="/lia/part1/NormalForms/#24237" class="Function">DNF-∧-DNFClause</a> <a id="24481" class="Symbol">{</a><a id="24482" href="/lia/part1/NormalForms/#24482" class="Bound">φ</a><a id="24483" class="Symbol">}</a> <a id="24485" class="Symbol">{</a><a id="24486" href="/lia/part1/NormalForms/#24486" class="Bound">ψ</a> <a id="24488" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="24490" href="/lia/part1/NormalForms/#24490" class="Bound">ξ</a><a id="24491" class="Symbol">}</a> <a id="24493" href="/lia/part1/NormalForms/#24493" class="Bound">Cφ</a> <a id="24496" class="Symbol">(</a><a id="24497" href="/lia/part1/NormalForms/#24497" class="Bound">Cψ</a> <a id="24500" href="/lia/part1/NormalForms/#23006" class="InductiveConstructor Operator">,</a> <a id="24502" href="/lia/part1/NormalForms/#24502" class="Bound">DNFξ</a><a id="24506" class="Symbol">)</a> <a id="24508" class="Keyword">with</a> <a id="24513" href="/lia/part1/NormalForms/#23262" class="Function">merge</a> <a id="24519" href="/lia/part1/NormalForms/#24493" class="Bound">Cφ</a> <a id="24522" href="/lia/part1/NormalForms/#24497" class="Bound">Cψ</a>
<a id="24525" class="Symbol">...</a> <a id="24529" class="Symbol">|</a> <a id="24531" href="/lia/part1/NormalForms/#24531" class="Bound">φψ</a> <a id="24534" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="24536" href="/lia/part1/NormalForms/#24536" class="Bound">Cφψ</a> <a id="24540" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="24542" href="/lia/part1/NormalForms/#24542" class="Bound">φψ⟺φ∧ψ</a> <a id="24549" class="Keyword">with</a> <a id="24554" href="/lia/part1/NormalForms/#24237" class="Function">DNF-∧-DNFClause</a> <a id="24570" class="Bound">Cφ</a> <a id="24573" class="Bound">DNFξ</a>
<a id="24578" class="Symbol">...</a> <a id="24582" class="Symbol">|</a> <a id="24584" href="/lia/part1/NormalForms/#24584" class="Bound">η</a> <a id="24586" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="24588" href="/lia/part1/NormalForms/#24588" class="Bound">DNFη</a> <a id="24593" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="24595" href="/lia/part1/NormalForms/#24595" class="Bound">η⟺φ∧ξ</a> <a id="24601" class="Symbol">=</a> <a id="24603" class="Bound">φψ</a> <a id="24606" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="24608" href="/lia/part1/NormalForms/#24584" class="Bound">η</a> <a id="24610" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="24612" class="Symbol">(</a><a id="24613" class="Bound">Cφψ</a> <a id="24617" href="/lia/part1/NormalForms/#23006" class="InductiveConstructor Operator">,</a> <a id="24619" href="/lia/part1/NormalForms/#24588" class="Bound">DNFη</a><a id="24623" class="Symbol">)</a> <a id="24625" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="24627" href="/lia/part1/NormalForms/#24648" class="Function">correctness</a> <a id="24639" class="Keyword">where</a>

  <a id="24648" href="/lia/part1/NormalForms/#24648" class="Function">correctness</a> <a id="24660" class="Symbol">:</a> <a id="24662" class="Bound">φψ</a> <a id="24665" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="24667" href="/lia/part1/NormalForms/#24584" class="Bound">η</a> <a id="24669" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="24671" class="Bound">φ</a> <a id="24673" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="24675" class="Symbol">(</a><a id="24676" class="Bound">ψ</a> <a id="24678" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="24680" class="Bound">ξ</a><a id="24681" class="Symbol">)</a> <a id="24683" class="Comment">-- crucial use of distributivity goes here</a>
  <a id="24728" href="/lia/part1/NormalForms/#24648" class="Function">correctness</a> <a id="24740" href="/lia/part1/NormalForms/#24740" class="Bound">ρ</a> <a id="24742" class="Keyword">rewrite</a> <a id="24750" class="Bound">φψ⟺φ∧ψ</a> <a id="24757" href="/lia/part1/NormalForms/#24740" class="Bound">ρ</a> <a id="24759" class="Symbol">|</a> <a id="24761" href="/lia/part1/NormalForms/#24595" class="Bound">η⟺φ∧ξ</a> <a id="24767" href="/lia/part1/NormalForms/#24740" class="Bound">ρ</a> <a id="24769" class="Symbol">=</a> <a id="24771" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="24775" class="Symbol">(</a><a id="24776" href="/lia/part0/Booleans/#4347" class="UnsolvedMeta UnsolvedConstraint Function">distr-left-∧∨𝔹</a><a id="24790" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="24791" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="24792" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="24793" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="24794" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="24795" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="24796" class="Symbol">)</a></pre>

<ul>
  <li>We now show how to distribute.</li>
</ul>

<pre class="Agda"><a id="DNF-∧"></a><a id="24841" href="/lia/part1/NormalForms/#24841" class="Function">DNF-∧</a> <a id="24847" class="Symbol">:</a> <a id="24849" class="Symbol">∀</a> <a id="24851" class="Symbol">{</a><a id="24852" href="/lia/part1/NormalForms/#24852" class="Bound">φ</a> <a id="24854" href="/lia/part1/NormalForms/#24854" class="Bound">ψ</a><a id="24855" class="Symbol">}</a> <a id="24857" class="Symbol">→</a> <a id="24859" href="/lia/part1/NormalForms/#22965" class="Datatype">DNF</a> <a id="24863" href="/lia/part1/NormalForms/#24852" class="Bound">φ</a> <a id="24865" class="Symbol">→</a> <a id="24867" href="/lia/part1/NormalForms/#22965" class="Datatype">DNF</a> <a id="24871" href="/lia/part1/NormalForms/#24854" class="Bound">ψ</a> <a id="24873" class="Symbol">→</a> <a id="24875" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="24878" href="/lia/part1/NormalForms/#24878" class="Bound">ξ</a> <a id="24880" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="24882" href="/lia/part1/NormalForms/#22965" class="Datatype">DNF</a> <a id="24886" href="/lia/part1/NormalForms/#24878" class="Bound">ξ</a> <a id="24888" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="24890" href="/lia/part1/NormalForms/#24878" class="Bound">ξ</a> <a id="24892" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="24894" href="/lia/part1/NormalForms/#24852" class="Bound">φ</a> <a id="24896" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="24898" href="/lia/part1/NormalForms/#24854" class="Bound">ψ</a>
<a id="24900" href="/lia/part1/NormalForms/#24841" class="Function">DNF-∧</a> <a id="24906" class="Symbol">{</a><a id="24907" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a><a id="24908" class="Symbol">}</a> <a id="24910" class="Symbol">{</a><a id="24911" href="/lia/part1/NormalForms/#24911" class="Bound">ψ</a><a id="24912" class="Symbol">}</a> <a id="24914" href="/lia/part1/NormalForms/#22994" class="InductiveConstructor">∅</a> <a id="24916" href="/lia/part1/NormalForms/#24916" class="Bound">DNFψ</a> <a id="24921" class="Symbol">=</a> <a id="24923" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="24925" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="24927" href="/lia/part1/NormalForms/#22994" class="InductiveConstructor">∅</a> <a id="24929" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="24931" href="/lia/part1/NormalForms/#24952" class="Function">correctness</a> <a id="24943" class="Keyword">where</a>

  <a id="24952" href="/lia/part1/NormalForms/#24952" class="Function">correctness</a> <a id="24964" class="Symbol">:</a> <a id="24966" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="24968" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="24970" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="24972" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="24974" href="/lia/part1/NormalForms/#24911" class="Bound">ψ</a>
  <a id="24978" href="/lia/part1/NormalForms/#24952" class="Function">correctness</a> <a id="24990" href="/lia/part1/NormalForms/#24990" class="Bound">ρ</a> <a id="24992" class="Symbol">=</a> <a id="24994" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="25002" href="/lia/part1/NormalForms/#24841" class="Function">DNF-∧</a> <a id="25008" class="Symbol">{</a><a id="25009" href="/lia/part1/NormalForms/#25009" class="Bound">φ</a> <a id="25011" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="25013" href="/lia/part1/NormalForms/#25013" class="Bound">φ'</a><a id="25015" class="Symbol">}</a> <a id="25017" class="Symbol">{</a><a id="25018" href="/lia/part1/NormalForms/#25018" class="Bound">ψ</a><a id="25019" class="Symbol">}</a> <a id="25021" class="Symbol">(</a><a id="25022" href="/lia/part1/NormalForms/#25022" class="Bound">Cφ</a> <a id="25025" href="/lia/part1/NormalForms/#23006" class="InductiveConstructor Operator">,</a> <a id="25027" href="/lia/part1/NormalForms/#25027" class="Bound">DNFφ'</a><a id="25032" class="Symbol">)</a> <a id="25034" href="/lia/part1/NormalForms/#25034" class="Bound">DNFψ</a> <a id="25039" class="Keyword">with</a> <a id="25044" href="/lia/part1/NormalForms/#24237" class="Function">DNF-∧-DNFClause</a> <a id="25060" href="/lia/part1/NormalForms/#25022" class="Bound">Cφ</a> <a id="25063" href="/lia/part1/NormalForms/#25034" class="Bound">DNFψ</a> <a id="25068" class="Symbol">|</a> <a id="25070" href="/lia/part1/NormalForms/#24841" class="Function">DNF-∧</a> <a id="25076" href="/lia/part1/NormalForms/#25027" class="Bound">DNFφ'</a> <a id="25082" href="/lia/part1/NormalForms/#25034" class="Bound">DNFψ</a>
<a id="25087" class="Symbol">...</a> <a id="25091" class="Symbol">|</a> <a id="25093" href="/lia/part1/NormalForms/#25093" class="Bound">ξ</a> <a id="25095" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="25097" href="/lia/part1/NormalForms/#25097" class="Bound">DNFξ</a> <a id="25102" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="25104" href="/lia/part1/NormalForms/#25104" class="Bound">ξ⟺φ∧ψ</a> <a id="25110" class="Symbol">|</a> <a id="25112" href="/lia/part1/NormalForms/#25112" class="Bound">η</a> <a id="25114" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="25116" href="/lia/part1/NormalForms/#25116" class="Bound">DNFη</a> <a id="25121" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="25123" href="/lia/part1/NormalForms/#25123" class="Bound">η⟺φ'∧ψ</a> <a id="25130" class="Keyword">with</a> <a id="25135" href="/lia/part1/NormalForms/#23731" class="Function">DNF-∨</a> <a id="25141" href="/lia/part1/NormalForms/#25097" class="Bound">DNFξ</a> <a id="25146" href="/lia/part1/NormalForms/#25116" class="Bound">DNFη</a>
<a id="25151" class="Symbol">...</a> <a id="25155" class="Symbol">|</a> <a id="25157" href="/lia/part1/NormalForms/#25157" class="Bound">μ</a> <a id="25159" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="25161" href="/lia/part1/NormalForms/#25161" class="Bound">DNFμ</a> <a id="25166" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="25168" href="/lia/part1/NormalForms/#25168" class="Bound">μ⟺ξ∨η</a> <a id="25174" class="Symbol">=</a> <a id="25176" href="/lia/part1/NormalForms/#25157" class="Bound">μ</a> <a id="25178" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="25180" href="/lia/part1/NormalForms/#25161" class="Bound">DNFμ</a> <a id="25185" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="25187" href="/lia/part1/NormalForms/#25208" class="Function">correctness</a> <a id="25199" class="Keyword">where</a>

  <a id="25208" href="/lia/part1/NormalForms/#25208" class="Function">correctness</a> <a id="25220" class="Symbol">:</a> <a id="25222" href="/lia/part1/NormalForms/#25157" class="Bound">μ</a> <a id="25224" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="25226" class="Symbol">(</a><a id="25227" class="Bound">φ</a> <a id="25229" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="25231" class="Bound">φ'</a><a id="25233" class="Symbol">)</a> <a id="25235" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="25237" class="Bound">ψ</a>
  <a id="25241" href="/lia/part1/NormalForms/#25208" class="Function">correctness</a> <a id="25253" href="/lia/part1/NormalForms/#25253" class="Bound">ρ</a> <a id="25255" class="Keyword">rewrite</a> <a id="25263" href="/lia/part1/NormalForms/#25168" class="Bound">μ⟺ξ∨η</a> <a id="25269" href="/lia/part1/NormalForms/#25253" class="Bound">ρ</a> <a id="25271" class="Symbol">|</a> <a id="25273" class="Bound">η⟺φ'∧ψ</a> <a id="25280" href="/lia/part1/NormalForms/#25253" class="Bound">ρ</a> <a id="25282" class="Symbol">|</a> <a id="25284" class="Bound">ξ⟺φ∧ψ</a> <a id="25290" href="/lia/part1/NormalForms/#25253" class="Bound">ρ</a> <a id="25292" class="Symbol">=</a> <a id="25294" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="25298" class="Symbol">(</a><a id="25299" href="/lia/part0/Booleans/#4656" class="UnsolvedMeta UnsolvedConstraint Function">distr-right-∧∨𝔹</a><a id="25314" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="25315" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="25316" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="25317" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="25318" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="25319" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="25320" class="Symbol">)</a></pre>

<p>We show that every formula of classical propositional logic can be
transformed into an equivalent DNF formula. We assume an input in NNF.</p>

<pre class="Agda"><a id="dnf"></a><a id="25470" href="/lia/part1/NormalForms/#25470" class="Function">dnf</a> <a id="25474" class="Symbol">:</a> <a id="25476" class="Symbol">∀</a> <a id="25478" class="Symbol">{</a><a id="25479" href="/lia/part1/NormalForms/#25479" class="Bound">φ</a><a id="25480" class="Symbol">}</a> <a id="25482" class="Symbol">→</a> <a id="25484" href="/lia/part1/NormalForms/#18150" class="Datatype">NNF</a> <a id="25488" href="/lia/part1/NormalForms/#25479" class="Bound">φ</a> <a id="25490" class="Symbol">→</a> <a id="25492" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="25495" href="/lia/part1/NormalForms/#25495" class="Bound">ψ</a> <a id="25497" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="25499" href="/lia/part1/NormalForms/#22965" class="Datatype">DNF</a> <a id="25503" href="/lia/part1/NormalForms/#25495" class="Bound">ψ</a> <a id="25505" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="25507" href="/lia/part1/NormalForms/#25495" class="Bound">ψ</a> <a id="25509" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="25511" href="/lia/part1/NormalForms/#25479" class="Bound">φ</a>
<a id="25513" href="/lia/part1/NormalForms/#25470" class="Function">dnf</a> <a id="25517" href="/lia/part1/NormalForms/#18178" class="InductiveConstructor">⊤</a> <a id="25519" class="Symbol">=</a> <a id="25521" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="25523" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="25525" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="25527" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="25529" class="Symbol">(</a><a id="25530" href="/lia/part1/NormalForms/#22881" class="InductiveConstructor">∅</a> <a id="25532" href="/lia/part1/NormalForms/#23006" class="InductiveConstructor Operator">,</a> <a id="25534" href="/lia/part1/NormalForms/#22994" class="InductiveConstructor">∅</a><a id="25535" class="Symbol">)</a> <a id="25537" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="25539" href="/lia/part1/NormalForms/#25560" class="Function">correctness</a> <a id="25551" class="Keyword">where</a>

  <a id="25560" href="/lia/part1/NormalForms/#25560" class="Function">correctness</a> <a id="25572" class="Symbol">:</a> <a id="25574" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="25576" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="25578" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="25580" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="25582" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a>
  <a id="25586" href="/lia/part1/NormalForms/#25560" class="Function">correctness</a> <a id="25598" href="/lia/part1/NormalForms/#25598" class="Bound">ρ</a> <a id="25600" class="Symbol">=</a> <a id="25602" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="25610" href="/lia/part1/NormalForms/#25470" class="Function">dnf</a> <a id="25614" href="/lia/part1/NormalForms/#18190" class="InductiveConstructor">⊥</a> <a id="25616" class="Symbol">=</a> <a id="25618" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="25620" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="25622" href="/lia/part1/NormalForms/#22994" class="InductiveConstructor">∅</a> <a id="25624" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="25626" href="/lia/part1/NormalForms/#25647" class="Function">correctness</a> <a id="25638" class="Keyword">where</a>

  <a id="25647" href="/lia/part1/NormalForms/#25647" class="Function">correctness</a> <a id="25659" class="Symbol">:</a> <a id="25661" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="25663" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="25665" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a>
  <a id="25669" href="/lia/part1/NormalForms/#25647" class="Function">correctness</a> <a id="25681" href="/lia/part1/NormalForms/#25681" class="Bound">ρ</a> <a id="25683" class="Symbol">=</a> <a id="25685" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="25693" href="/lia/part1/NormalForms/#25470" class="Function">dnf</a> <a id="25697" class="Symbol">(</a><a id="25698" href="/lia/part1/NormalForms/#18202" class="InductiveConstructor Operator">`</a> <a id="25700" href="/lia/part1/NormalForms/#25700" class="Bound">p</a><a id="25701" class="Symbol">)</a> <a id="25703" class="Symbol">=</a> <a id="25705" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="25707" href="/lia/part1/NormalForms/#25700" class="Bound">p</a> <a id="25709" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="25711" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="25713" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="25715" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="25717" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="25719" class="Symbol">((</a><a id="25721" href="/lia/part1/NormalForms/#22759" class="InductiveConstructor">Pos</a> <a id="25725" href="/lia/part1/NormalForms/#25700" class="Bound">p</a> <a id="25727" href="/lia/part1/NormalForms/#22899" class="InductiveConstructor Operator">,</a> <a id="25729" href="/lia/part1/NormalForms/#22881" class="InductiveConstructor">∅</a><a id="25730" class="Symbol">)</a> <a id="25732" href="/lia/part1/NormalForms/#23006" class="InductiveConstructor Operator">,</a> <a id="25734" href="/lia/part1/NormalForms/#22994" class="InductiveConstructor">∅</a><a id="25735" class="Symbol">)</a> <a id="25737" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="25739" href="/lia/part1/NormalForms/#25760" class="Function">correctness</a> <a id="25751" class="Keyword">where</a>

  <a id="25760" href="/lia/part1/NormalForms/#25760" class="Function">correctness</a> <a id="25772" class="Symbol">:</a> <a id="25774" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="25776" href="/lia/part1/NormalForms/#25700" class="Bound">p</a> <a id="25778" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="25780" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="25782" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="25784" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="25786" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="25788" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="25790" href="/lia/part1/NormalForms/#25700" class="Bound">p</a>
  <a id="25794" href="/lia/part1/NormalForms/#25760" class="Function">correctness</a> <a id="25806" href="/lia/part1/NormalForms/#25806" class="Bound">ρ</a> <a id="25808" class="Keyword">with</a> <a id="25813" href="/lia/part1/NormalForms/#25806" class="Bound">ρ</a> <a id="25815" href="/lia/part1/NormalForms/#25700" class="Bound">p</a>
  <a id="25819" class="Symbol">...</a> <a id="25823" class="Symbol">|</a> <a id="25825" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="25828" class="Symbol">=</a> <a id="25830" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  <a id="25837" class="Symbol">...</a> <a id="25841" class="Symbol">|</a> <a id="25843" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="25846" class="Symbol">=</a> <a id="25848" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="25856" href="/lia/part1/NormalForms/#25470" class="Function">dnf</a> <a id="25860" class="Symbol">(</a><a id="25861" href="/lia/part1/NormalForms/#18236" class="InductiveConstructor Operator">¬`</a> <a id="25864" href="/lia/part1/NormalForms/#25864" class="Bound">p</a><a id="25865" class="Symbol">)</a> <a id="25867" class="Symbol">=</a> <a id="25869" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="25871" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="25873" href="/lia/part1/NormalForms/#25864" class="Bound">p</a> <a id="25875" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="25877" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="25879" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="25881" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="25883" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="25885" class="Symbol">((</a><a id="25887" href="/lia/part1/NormalForms/#22798" class="InductiveConstructor">Neg</a> <a id="25891" href="/lia/part1/NormalForms/#25864" class="Bound">p</a> <a id="25893" href="/lia/part1/NormalForms/#22899" class="InductiveConstructor Operator">,</a> <a id="25895" href="/lia/part1/NormalForms/#22881" class="InductiveConstructor">∅</a><a id="25896" class="Symbol">)</a> <a id="25898" href="/lia/part1/NormalForms/#23006" class="InductiveConstructor Operator">,</a> <a id="25900" href="/lia/part1/NormalForms/#22994" class="InductiveConstructor">∅</a><a id="25901" class="Symbol">)</a> <a id="25903" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="25905" href="/lia/part1/NormalForms/#25926" class="Function">correctness</a> <a id="25917" class="Keyword">where</a>

  <a id="25926" href="/lia/part1/NormalForms/#25926" class="Function">correctness</a> <a id="25938" class="Symbol">:</a> <a id="25940" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="25942" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="25944" href="/lia/part1/NormalForms/#25864" class="Bound">p</a> <a id="25946" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="25948" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="25950" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="25952" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="25954" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="25956" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="25958" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="25960" href="/lia/part1/NormalForms/#25864" class="Bound">p</a>
  <a id="25964" href="/lia/part1/NormalForms/#25926" class="Function">correctness</a> <a id="25976" href="/lia/part1/NormalForms/#25976" class="Bound">ρ</a> <a id="25978" class="Keyword">with</a> <a id="25983" href="/lia/part1/NormalForms/#25976" class="Bound">ρ</a> <a id="25985" href="/lia/part1/NormalForms/#25864" class="Bound">p</a>
  <a id="25989" class="Symbol">...</a> <a id="25993" class="Symbol">|</a> <a id="25995" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="25998" class="Symbol">=</a> <a id="26000" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  <a id="26007" class="Symbol">...</a> <a id="26011" class="Symbol">|</a> <a id="26013" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="26016" class="Symbol">=</a> <a id="26018" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="26024" href="/lia/part1/NormalForms/#25470" class="Function">dnf</a> <a id="26028" class="Symbol">{</a><a id="26029" href="/lia/part1/NormalForms/#26029" class="Bound">φ</a> <a id="26031" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="26033" href="/lia/part1/NormalForms/#26033" class="Bound">ψ</a><a id="26034" class="Symbol">}</a> <a id="26036" class="Symbol">(</a><a id="26037" href="/lia/part1/NormalForms/#26037" class="Bound">NNFφ</a> <a id="26042" href="/lia/part1/NormalForms/#18273" class="InductiveConstructor Operator">∧</a> <a id="26044" href="/lia/part1/NormalForms/#26044" class="Bound">NNFψ</a><a id="26048" class="Symbol">)</a> <a id="26050" class="Keyword">with</a> <a id="26055" href="/lia/part1/NormalForms/#25470" class="Function">dnf</a> <a id="26059" href="/lia/part1/NormalForms/#26037" class="Bound">NNFφ</a> <a id="26064" class="Symbol">|</a> <a id="26066" href="/lia/part1/NormalForms/#25470" class="Function">dnf</a> <a id="26070" href="/lia/part1/NormalForms/#26044" class="Bound">NNFψ</a>
<a id="26075" class="Symbol">...</a> <a id="26079" class="Symbol">|</a> <a id="26081" href="/lia/part1/NormalForms/#26081" class="Bound">φ'</a> <a id="26084" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="26086" href="/lia/part1/NormalForms/#26086" class="Bound">DNFφ'</a> <a id="26092" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="26094" href="/lia/part1/NormalForms/#26094" class="Bound">φ'⟺φ</a> <a id="26099" class="Symbol">|</a> <a id="26101" href="/lia/part1/NormalForms/#26101" class="Bound">ψ'</a> <a id="26104" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="26106" href="/lia/part1/NormalForms/#26106" class="Bound">DNFψ'</a> <a id="26112" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="26114" href="/lia/part1/NormalForms/#26114" class="Bound">ψ'⟺ψ</a> <a id="26119" class="Keyword">with</a> <a id="26124" href="/lia/part1/NormalForms/#24841" class="Function">DNF-∧</a> <a id="26130" href="/lia/part1/NormalForms/#26086" class="Bound">DNFφ'</a> <a id="26136" href="/lia/part1/NormalForms/#26106" class="Bound">DNFψ'</a>
<a id="26142" class="Symbol">...</a> <a id="26146" class="Symbol">|</a> <a id="26148" href="/lia/part1/NormalForms/#26148" class="Bound">ξ</a> <a id="26150" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="26152" href="/lia/part1/NormalForms/#26152" class="Bound">DNFξ</a> <a id="26157" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="26159" href="/lia/part1/NormalForms/#26159" class="Bound">ξ⟺φ'∧ψ'</a> <a id="26167" class="Symbol">=</a> <a id="26169" href="/lia/part1/NormalForms/#26148" class="Bound">ξ</a> <a id="26171" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="26173" href="/lia/part1/NormalForms/#26152" class="Bound">DNFξ</a> <a id="26178" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="26180" href="/lia/part1/NormalForms/#26201" class="Function">correctness</a> <a id="26192" class="Keyword">where</a>

  <a id="26201" href="/lia/part1/NormalForms/#26201" class="Function">correctness</a> <a id="26213" class="Symbol">:</a> <a id="26215" href="/lia/part1/NormalForms/#26148" class="Bound">ξ</a> <a id="26217" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="26219" class="Bound">φ</a> <a id="26221" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="26223" class="Bound">ψ</a>
  <a id="26227" href="/lia/part1/NormalForms/#26201" class="Function">correctness</a> <a id="26239" href="/lia/part1/NormalForms/#26239" class="Bound">ρ</a> <a id="26241" class="Keyword">rewrite</a> <a id="26249" href="/lia/part1/NormalForms/#26159" class="Bound">ξ⟺φ'∧ψ'</a> <a id="26257" href="/lia/part1/NormalForms/#26239" class="Bound">ρ</a> <a id="26259" class="Symbol">|</a> <a id="26261" class="Bound">φ'⟺φ</a> <a id="26266" href="/lia/part1/NormalForms/#26239" class="Bound">ρ</a> <a id="26268" class="Symbol">|</a> <a id="26270" class="Bound">ψ'⟺ψ</a> <a id="26275" href="/lia/part1/NormalForms/#26239" class="Bound">ρ</a> <a id="26277" class="Symbol">=</a> <a id="26279" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="26285" href="/lia/part1/NormalForms/#25470" class="Function">dnf</a> <a id="26289" class="Symbol">{</a><a id="26290" href="/lia/part1/NormalForms/#26290" class="Bound">φ</a> <a id="26292" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="26294" href="/lia/part1/NormalForms/#26294" class="Bound">ψ</a><a id="26295" class="Symbol">}</a> <a id="26297" class="Symbol">(</a><a id="26298" href="/lia/part1/NormalForms/#26298" class="Bound">NNFφ</a> <a id="26303" href="/lia/part1/NormalForms/#18309" class="InductiveConstructor Operator">∨</a> <a id="26305" href="/lia/part1/NormalForms/#26305" class="Bound">NNFψ</a><a id="26309" class="Symbol">)</a> <a id="26311" class="Keyword">with</a> <a id="26316" href="/lia/part1/NormalForms/#25470" class="Function">dnf</a> <a id="26320" href="/lia/part1/NormalForms/#26298" class="Bound">NNFφ</a> <a id="26325" class="Symbol">|</a> <a id="26327" href="/lia/part1/NormalForms/#25470" class="Function">dnf</a> <a id="26331" href="/lia/part1/NormalForms/#26305" class="Bound">NNFψ</a>
<a id="26336" class="Symbol">...</a> <a id="26340" class="Symbol">|</a> <a id="26342" href="/lia/part1/NormalForms/#26342" class="Bound">φ'</a> <a id="26345" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="26347" href="/lia/part1/NormalForms/#26347" class="Bound">DNFφ'</a> <a id="26353" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="26355" href="/lia/part1/NormalForms/#26355" class="Bound">φ'⟺φ</a> <a id="26360" class="Symbol">|</a> <a id="26362" href="/lia/part1/NormalForms/#26362" class="Bound">ψ'</a> <a id="26365" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="26367" href="/lia/part1/NormalForms/#26367" class="Bound">DNFψ'</a> <a id="26373" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="26375" href="/lia/part1/NormalForms/#26375" class="Bound">ψ'⟺ψ</a> <a id="26380" class="Keyword">with</a> <a id="26385" href="/lia/part1/NormalForms/#23731" class="Function">DNF-∨</a> <a id="26391" href="/lia/part1/NormalForms/#26347" class="Bound">DNFφ'</a> <a id="26397" href="/lia/part1/NormalForms/#26367" class="Bound">DNFψ'</a>
<a id="26403" class="Symbol">...</a> <a id="26407" class="Symbol">|</a> <a id="26409" href="/lia/part1/NormalForms/#26409" class="Bound">ξ</a> <a id="26411" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="26413" href="/lia/part1/NormalForms/#26413" class="Bound">DNFξ</a> <a id="26418" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="26420" href="/lia/part1/NormalForms/#26420" class="Bound">ξ⟺φ'∨ψ'</a> <a id="26428" class="Symbol">=</a> <a id="26430" href="/lia/part1/NormalForms/#26409" class="Bound">ξ</a> <a id="26432" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="26434" href="/lia/part1/NormalForms/#26413" class="Bound">DNFξ</a> <a id="26439" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="26441" href="/lia/part1/NormalForms/#26462" class="Function">correctness</a> <a id="26453" class="Keyword">where</a>

  <a id="26462" href="/lia/part1/NormalForms/#26462" class="Function">correctness</a> <a id="26474" class="Symbol">:</a> <a id="26476" href="/lia/part1/NormalForms/#26409" class="Bound">ξ</a> <a id="26478" href="/lia/part1/Semantics/#26925" class="Function Operator">⟺</a> <a id="26480" class="Bound">φ</a> <a id="26482" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="26484" class="Bound">ψ</a>
  <a id="26488" href="/lia/part1/NormalForms/#26462" class="Function">correctness</a> <a id="26500" href="/lia/part1/NormalForms/#26500" class="Bound">ρ</a> <a id="26502" class="Keyword">rewrite</a> <a id="26510" href="/lia/part1/NormalForms/#26420" class="Bound">ξ⟺φ'∨ψ'</a> <a id="26518" href="/lia/part1/NormalForms/#26500" class="Bound">ρ</a> <a id="26520" class="Symbol">|</a> <a id="26522" class="Bound">φ'⟺φ</a> <a id="26527" href="/lia/part1/NormalForms/#26500" class="Bound">ρ</a> <a id="26529" class="Symbol">|</a> <a id="26531" class="Bound">ψ'⟺ψ</a> <a id="26536" href="/lia/part1/NormalForms/#26500" class="Bound">ρ</a> <a id="26538" class="Symbol">=</a> <a id="26540" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<h1 id="CNF">
<a class="anchor" href="#CNF" aria-hidden="true"><span class="octicon octicon-link"></span></a>Conjunctive normal form</h1>

<p>CNF is dual to DNF. Is the exponential CNF transformation useful
anywhere?</p>

<pre class="Agda"><a id="26664" class="Keyword">data</a> <a id="CNFClause"></a><a id="26669" href="/lia/part1/NormalForms/#26669" class="Datatype">CNFClause</a> <a id="26679" class="Symbol">:</a> <a id="26681" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="26689" class="Symbol">→</a> <a id="26691" class="PrimitiveType">Set</a> <a id="26695" class="Keyword">where</a>
  <a id="CNFClause.∅"></a><a id="26703" href="/lia/part1/NormalForms/#26703" class="InductiveConstructor">∅</a> <a id="26705" class="Symbol">:</a> <a id="26707" href="/lia/part1/NormalForms/#26669" class="Datatype">CNFClause</a> <a id="26717" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a>
  <a id="CNFClause._,_"></a><a id="26721" href="/lia/part1/NormalForms/#26721" class="InductiveConstructor Operator">_,_</a> <a id="26725" class="Symbol">:</a> <a id="26727" class="Symbol">∀</a> <a id="26729" class="Symbol">{</a><a id="26730" href="/lia/part1/NormalForms/#26730" class="Bound">φ</a> <a id="26732" href="/lia/part1/NormalForms/#26732" class="Bound">ψ</a><a id="26733" class="Symbol">}</a> <a id="26735" class="Symbol">→</a> <a id="26737" href="/lia/part1/NormalForms/#22727" class="Datatype">Literal</a> <a id="26745" href="/lia/part1/NormalForms/#26730" class="Bound">φ</a> <a id="26747" class="Symbol">→</a> <a id="26749" href="/lia/part1/NormalForms/#26669" class="Datatype">CNFClause</a> <a id="26759" href="/lia/part1/NormalForms/#26732" class="Bound">ψ</a> <a id="26761" class="Symbol">→</a> <a id="26763" href="/lia/part1/NormalForms/#26669" class="Datatype">CNFClause</a> <a id="26773" class="Symbol">(</a><a id="26774" href="/lia/part1/NormalForms/#26730" class="Bound">φ</a> <a id="26776" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="26778" href="/lia/part1/NormalForms/#26732" class="Bound">ψ</a><a id="26779" class="Symbol">)</a>

<a id="26782" class="Keyword">data</a> <a id="CNF"></a><a id="26787" href="/lia/part1/NormalForms/#26787" class="Datatype">CNF</a> <a id="26791" class="Symbol">:</a> <a id="26793" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="26801" class="Symbol">→</a> <a id="26803" class="PrimitiveType">Set</a> <a id="26807" class="Keyword">where</a>
  <a id="CNF.∅"></a><a id="26815" href="/lia/part1/NormalForms/#26815" class="InductiveConstructor">∅</a> <a id="26817" class="Symbol">:</a> <a id="26819" href="/lia/part1/NormalForms/#26787" class="Datatype">CNF</a> <a id="26823" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a>
  <a id="CNF._,_"></a><a id="26827" href="/lia/part1/NormalForms/#26827" class="InductiveConstructor Operator">_,_</a> <a id="26831" class="Symbol">:</a> <a id="26833" class="Symbol">∀</a> <a id="26835" class="Symbol">{</a><a id="26836" href="/lia/part1/NormalForms/#26836" class="Bound">φ</a> <a id="26838" href="/lia/part1/NormalForms/#26838" class="Bound">ψ</a><a id="26839" class="Symbol">}</a> <a id="26841" class="Symbol">→</a> <a id="26843" href="/lia/part1/NormalForms/#26669" class="Datatype">CNFClause</a> <a id="26853" href="/lia/part1/NormalForms/#26836" class="Bound">φ</a> <a id="26855" class="Symbol">→</a> <a id="26857" href="/lia/part1/NormalForms/#26787" class="Datatype">CNF</a> <a id="26861" href="/lia/part1/NormalForms/#26838" class="Bound">ψ</a> <a id="26863" class="Symbol">→</a> <a id="26865" href="/lia/part1/NormalForms/#26787" class="Datatype">CNF</a> <a id="26869" class="Symbol">(</a><a id="26870" href="/lia/part1/NormalForms/#26836" class="Bound">φ</a> <a id="26872" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="26874" href="/lia/part1/NormalForms/#26838" class="Bound">ψ</a><a id="26875" class="Symbol">)</a></pre>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>We slightly depart from a more standard definition of NNF, whereby
<a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> and
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> are not allowed as proper
subformulas of an NNF formula. In other words, according to our
definition <code class="language-plaintext highlighter-rouge">` p₀ ∨ ⊥</code> is in NNF, while it is not according to
the more restrictive one. By applying
<a href="../../part1/Semantics#simplify"><code class="language-plaintext highlighter-rouge">simplify</code></a> as a preprocessing step
we can remove such occurrences of
<a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> ,
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> . Formally proving that the
resulting formulas do not contain
<a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> ,
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> as proper subformulas, while
possible, would introduce an extra overhead obscuring the main point
about NNF, which is the handling of negation. For this reason, we
stick here to our slightly more relaxed NNF definition. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
  </ol>
</div>

    </div>
  
    <p style="text-align:center;">
    
    
    
    <a alt="Part" href="/lia/part1/index/">Part</a>
    &bullet;
    
    
    <a alt="Source code" href="https://github.com/lclem/lia/blob/main/src/part1/NormalForms.lagda.md">Source</a>
    
    
    
</p>

    <p class="p-name"> Last-modified: Nov 19 16:06:43 2020 </p>
  </article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/lia/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Logic in Agda</h2><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Lorenzo Clemente</li>
          <li><a class="u-email" href="mailto:clementelorenzo@gmail.com">clementelorenzo@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/lclem"><svg class="svg-icon"><use xlink:href="/lia/assets/minima-social-icons.svg#github"></use></svg> <span class="username">lclem</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
  </div>
</footer>

<!-- Parse the Latex divs with Katex
<script type="text/javascript">
  $("script[type='math/tex']").replaceWith(
    function(){
      var tex = $(this).text();
      return katex.renderToString(tex, {displayMode: false});
  });
  
  $("script[type='math/tex; mode=display']").replaceWith(
    function(){
      var tex = $(this).text();
      return katex.renderToString(tex.replace(/%.*/g, ''), {displayMode: true});
  });
</script>
-->

<script type="text/javascript" src="/lia/assets/hidebox.js"></script>
</body>

</html>
