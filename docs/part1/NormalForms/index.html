<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Normal forms 🚧 | Logic in Agda</title><!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Normal forms 🚧" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Propositional and fist-order logic developed with the proof assistant Agda." />
<meta property="og:description" content="Propositional and fist-order logic developed with the proof assistant Agda." />
<link rel="canonical" href="/lia/part1/NormalForms/" />
<meta property="og:url" content="/lia/part1/NormalForms/" />
<meta property="og:site_name" content="Logic in Agda" />
<script type="application/ld+json">
{"url":"/lia/part1/NormalForms/","headline":"Normal forms 🚧","description":"Propositional and fist-order logic developed with the proof assistant Agda.","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/lia/assets/main.css">
  <!-- <link rel="stylesheet" href="/lia/assets/custom.css"> --><!-- Mathjax Support -->
  <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  <!-- Load KaTeX -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.js"></script>
</head>
<body><header class="site-header" role="banner">

    <div class="wrapper">

        <a class="site-title" href="/lia/">Logic in Agda</a>

        <nav class="site-nav">
            <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                    <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                    <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                    <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
                </svg>
            </span>

            <div class="trigger">
                <a class="page-link" href="/lia/part0/index/">Part 0</a>
                <a class="page-link" href="/lia/part1/index/">Part 1</a>
                <a class="page-link" href="/lia/part2/index/">Part 2</a>
                <a class="page-link" href="/lia/part3/index/">Part 3</a>
                <a class="page-link" href="/lia/part4/index/">Part 4</a>
            </div>
        </nav>

    </div>

</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

    <header class="post-header">
        <h1 class="post-title">Normal forms 🚧</h1>
    </header>
  
    <p style="text-align:center;">
    
    
    
    <a alt="Part" href="/lia/part1/index/">Part</a>
    &bullet;
    
    
    <a alt="Source code" href="https://github.com/lclem/lia/blob/main/src/part1/NormalForms.lagda.md">Source</a>
    
    
    
</p>

  
    <div class="post-content">
        <h2>Contents</h2>    
        <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#WNNF">Weak negation normal form</a>
<ul>
<li class="toc-entry toc-h2"><a href="#transformation">Transformation</a></li>
<li class="toc-entry toc-h2"><a href="#correctness">Correctness</a></li>
<li class="toc-entry toc-h2"><a href="#internal-verification">Internal verification</a></li>
<li class="toc-entry toc-h2"><a href="#formula-size">Formula size</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#NNF">Negation normal form</a>
<ul>
<li class="toc-entry toc-h2"><a href="#remove-implications-and-bi-implications">Remove implications and bi-implications</a></li>
<li class="toc-entry toc-h2"><a href="#transformation-to-nnf">Transformation to NNF</a></li>
<li class="toc-entry toc-h2"><a href="#correctness-1">Correctness</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#DNF">Disjunctive normal form</a>
<ul>
<li class="toc-entry toc-h2"><a href="#case-1-dnf-of-a-disjunction">Case 1: DNF of a disjunction</a></li>
<li class="toc-entry toc-h2"><a href="#case-2-dnf-of-a-conjunction">Case 2: DNF of a conjunction</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#CNF">Conjunctive normal form</a></li>
</ul><pre class="Agda"><a id="38" class="Symbol">{-#</a> <a id="42" class="Keyword">OPTIONS</a> <a id="50" class="Pragma">--allow-unsolved-metas</a> <a id="73" class="Pragma">--rewriting</a> <a id="85" class="Pragma">--confluence-check</a> <a id="104" class="Symbol">#-}</a>
<a id="108" class="Keyword">open</a> <a id="113" class="Keyword">import</a> <a id="120" href="/lia/part0/index/" class="Module">part0.index</a>

<a id="133" class="Keyword">module</a> <a id="140" href="/lia/part1/NormalForms/" class="Module">part1.NormalForms</a> <a id="158" class="Symbol">(</a><a id="159" href="/lia/part1/NormalForms/#159" class="Bound">n</a> <a id="161" class="Symbol">:</a> <a id="163" href="/lia/part0/Naturals/#177" class="Datatype">ℕ</a><a id="164" class="Symbol">)</a> <a id="166" class="Keyword">where</a>
<a id="172" class="Keyword">open</a> <a id="177" class="Keyword">import</a> <a id="184" href="/lia/part1/Semantics/" class="Module">part1.Semantics</a> <a id="200" href="/lia/part1/NormalForms/#159" class="Bound">n</a> <a id="202" class="Keyword">hiding</a> <a id="209" class="Symbol">(</a>∅<a id="211" class="Symbol">)</a>
 
<a id="215" class="Keyword">private</a>
  <a id="225" class="Keyword">variable</a>
    <a id="238" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="240" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a> <a id="242" class="Symbol">:</a> <a id="244" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a></pre>

<p>In this chapter we study normal forms for classical propositional logic,
namely</p>

<ul>
  <li>
<a href="#WNNF">weak negation normal form (WNNF)</a>,</li>
  <li>
<a href="#NNF">negation normal form (NNF)</a>,</li>
  <li>
<a href="#DNF">disjunctive normal form (DNF)</a>, and its dual</li>
  <li>
<a href="#CNF">conjunctive normal form (CNF)</a>.</li>
</ul>

<h1 id="WNNF">
<a class="anchor" href="#WNNF" aria-hidden="true"><span class="octicon octicon-link"></span></a>Weak negation normal form</h1>

<p>A <em>literal</em> is either a propositional variable <code class="language-plaintext highlighter-rouge">p</code> (positive literal) or
a negation <code class="language-plaintext highlighter-rouge">¬ p</code> thereof (negative literal). A formula is in <em>weak
negation normal form</em> (WNNF) if negation can appear only in literals,
i.e., in front of propositional variables:</p>

<pre class="Agda"><a id="813" class="Keyword">data</a> <a id="WNNF"></a><a id="818" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="823" class="Symbol">:</a> <a id="825" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a> <a id="833" class="Symbol">→</a> <a id="835" class="PrimitiveType">Set</a> <a id="839" class="Keyword">where</a>
  <a id="WNNF.⊤"></a><a id="847" href="/lia/part1/NormalForms/#847" class="InductiveConstructor">⊤</a> <a id="849" class="Symbol">:</a> <a id="851" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="856" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a>
  <a id="WNNF.⊥"></a><a id="860" href="/lia/part1/NormalForms/#860" class="InductiveConstructor">⊥</a> <a id="862" class="Symbol">:</a> <a id="864" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="869" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a>
  <a id="WNNF.`_"></a><a id="873" href="/lia/part1/NormalForms/#873" class="InductiveConstructor Operator">`_</a> <a id="876" class="Symbol">:</a> <a id="878" class="Symbol">(</a><a id="879" href="/lia/part1/NormalForms/#879" class="Bound">p</a> <a id="881" class="Symbol">:</a> <a id="883" href="/lia/part1/Semantics/#1069" class="Function">PropName</a><a id="891" class="Symbol">)</a> <a id="893" class="Symbol">→</a> <a id="895" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="900" class="Symbol">(</a><a id="901" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="903" href="/lia/part1/NormalForms/#879" class="Bound">p</a><a id="904" class="Symbol">)</a>
  <a id="WNNF.¬`_"></a><a id="908" href="/lia/part1/NormalForms/#908" class="InductiveConstructor Operator">¬`_</a> <a id="912" class="Symbol">:</a> <a id="914" class="Symbol">(</a><a id="915" href="/lia/part1/NormalForms/#915" class="Bound">p</a> <a id="917" class="Symbol">:</a> <a id="919" href="/lia/part1/Semantics/#1069" class="Function">PropName</a><a id="927" class="Symbol">)</a> <a id="929" class="Symbol">→</a> <a id="931" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="936" class="Symbol">(</a><a id="937" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="939" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="941" href="/lia/part1/NormalForms/#915" class="Bound">p</a><a id="942" class="Symbol">)</a>
  <a id="WNNF._∧_"></a><a id="946" href="/lia/part1/NormalForms/#946" class="InductiveConstructor Operator">_∧_</a> <a id="950" class="Symbol">:</a> <a id="952" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="957" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="959" class="Symbol">→</a> <a id="961" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="966" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a> <a id="968" class="Symbol">→</a> <a id="970" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="975" class="Symbol">(</a><a id="976" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="978" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="980" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a><a id="981" class="Symbol">)</a>
  <a id="WNNF._∨_"></a><a id="985" href="/lia/part1/NormalForms/#985" class="InductiveConstructor Operator">_∨_</a> <a id="989" class="Symbol">:</a> <a id="991" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="996" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="998" class="Symbol">→</a> <a id="1000" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="1005" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a> <a id="1007" class="Symbol">→</a> <a id="1009" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="1014" class="Symbol">(</a><a id="1015" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="1017" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="1019" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a><a id="1020" class="Symbol">)</a>
  <a id="WNNF._⇒_"></a><a id="1024" href="/lia/part1/NormalForms/#1024" class="InductiveConstructor Operator">_⇒_</a> <a id="1028" class="Symbol">:</a> <a id="1030" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="1035" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="1037" class="Symbol">→</a> <a id="1039" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="1044" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a> <a id="1046" class="Symbol">→</a> <a id="1048" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="1053" class="Symbol">(</a><a id="1054" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="1056" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="1058" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a><a id="1059" class="Symbol">)</a>
  <a id="WNNF._⇔_"></a><a id="1063" href="/lia/part1/NormalForms/#1063" class="InductiveConstructor Operator">_⇔_</a> <a id="1067" class="Symbol">:</a> <a id="1069" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="1074" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="1076" class="Symbol">→</a> <a id="1078" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="1083" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a> <a id="1085" class="Symbol">→</a> <a id="1087" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="1092" class="Symbol">(</a><a id="1093" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="1095" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="1097" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a><a id="1098" class="Symbol">)</a></pre>

<p>In this section we show that every formula can be transformed to a
logically equivalent formula in WNNF. This is a preparatory step towards
the stronger <a href="#NNF">NNF</a>.</p>

<p>Given a formula <code class="language-plaintext highlighter-rouge">φ</code>, we can decide whether it is in WNNF or not:</p>

<pre class="Agda"><a id="WNNF?"></a><a id="1342" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1348" class="Symbol">:</a> <a id="1350" class="Symbol">∀</a> <a id="1352" href="/lia/part1/NormalForms/#1352" class="Bound">φ</a> <a id="1354" class="Symbol">→</a> <a id="1356" href="/lia/part0/Decidable/#150" class="Datatype">Dec</a> <a id="1360" class="Symbol">(</a><a id="1361" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="1366" href="/lia/part1/NormalForms/#1352" class="Bound">φ</a><a id="1367" class="Symbol">)</a></pre>

<div class="introbox">

  <p>The proof works by inspecting <code class="language-plaintext highlighter-rouge">φ</code> sufficiently deeply.
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="1451" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1457" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="1459" class="Symbol">=</a> <a id="1461" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1465" href="/lia/part1/NormalForms/#860" class="InductiveConstructor">⊥</a>
<a id="1467" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1473" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="1475" class="Symbol">=</a> <a id="1477" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1481" href="/lia/part1/NormalForms/#847" class="InductiveConstructor">⊤</a>
<a id="1483" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1489" class="Symbol">(</a><a id="1490" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="1492" href="/lia/part1/NormalForms/#1492" class="Bound">p</a><a id="1493" class="Symbol">)</a> <a id="1495" class="Symbol">=</a> <a id="1497" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1501" class="Symbol">(</a><a id="1502" href="/lia/part1/NormalForms/#873" class="InductiveConstructor Operator">`</a> <a id="1504" href="/lia/part1/NormalForms/#1492" class="Bound">p</a><a id="1505" class="Symbol">)</a>

<a id="1508" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1514" class="Symbol">(</a><a id="1515" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="1517" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a><a id="1518" class="Symbol">)</a> <a id="1520" class="Symbol">=</a> <a id="1522" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1525" class="Symbol">λ</a> <a id="1527" class="Symbol">()</a>
<a id="1530" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1536" class="Symbol">(</a><a id="1537" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="1539" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a><a id="1540" class="Symbol">)</a> <a id="1542" class="Symbol">=</a> <a id="1544" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1547" class="Symbol">λ</a> <a id="1549" class="Symbol">()</a>
<a id="1552" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1558" class="Symbol">(</a><a id="1559" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="1561" class="Symbol">(</a><a id="1562" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="1564" href="/lia/part1/NormalForms/#1564" class="Bound">p</a><a id="1565" class="Symbol">))</a> <a id="1568" class="Symbol">=</a> <a id="1570" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1574" class="Symbol">(</a><a id="1575" href="/lia/part1/NormalForms/#908" class="InductiveConstructor Operator">¬`</a> <a id="1578" href="/lia/part1/NormalForms/#1564" class="Bound">p</a><a id="1579" class="Symbol">)</a>
<a id="1581" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1587" class="Symbol">(</a><a id="1588" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="1590" class="Symbol">(</a><a id="1591" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="1593" class="Symbol">_))</a> <a id="1597" class="Symbol">=</a> <a id="1599" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1602" class="Symbol">λ</a> <a id="1604" class="Symbol">()</a>
<a id="1607" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1613" class="Symbol">(</a><a id="1614" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="1616" class="Symbol">(_</a> <a id="1619" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="1621" class="Symbol">_))</a> <a id="1625" class="Symbol">=</a> <a id="1627" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1630" class="Symbol">λ</a> <a id="1632" class="Symbol">()</a>
<a id="1635" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1641" class="Symbol">(</a><a id="1642" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="1644" class="Symbol">(_</a> <a id="1647" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="1649" class="Symbol">_))</a> <a id="1653" class="Symbol">=</a> <a id="1655" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1658" class="Symbol">λ</a> <a id="1660" class="Symbol">()</a>
<a id="1663" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1669" class="Symbol">(</a><a id="1670" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="1672" class="Symbol">(_</a> <a id="1675" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="1677" class="Symbol">_))</a> <a id="1681" class="Symbol">=</a> <a id="1683" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1686" class="Symbol">λ</a> <a id="1688" class="Symbol">()</a>
<a id="1691" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1697" class="Symbol">(</a><a id="1698" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="1700" class="Symbol">(_</a> <a id="1703" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="1705" class="Symbol">_))</a> <a id="1709" class="Symbol">=</a> <a id="1711" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1714" class="Symbol">λ</a> <a id="1716" class="Symbol">()</a>

<a id="1720" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1726" class="Symbol">(</a><a id="1727" href="/lia/part1/NormalForms/#1727" class="Bound">φ</a> <a id="1729" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="1731" href="/lia/part1/NormalForms/#1731" class="Bound">ψ</a><a id="1732" class="Symbol">)</a>
  <a id="1736" class="Keyword">with</a> <a id="1741" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1747" href="/lia/part1/NormalForms/#1727" class="Bound">φ</a> <a id="1749" class="Symbol">|</a>
       <a id="1758" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1764" href="/lia/part1/NormalForms/#1731" class="Bound">ψ</a>
<a id="1766" class="Symbol">...</a> <a id="1770" class="Symbol">|</a> <a id="1772" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1776" href="/lia/part1/NormalForms/#1776" class="Bound">wnnfφ</a> <a id="1782" class="Symbol">|</a> <a id="1784" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1788" href="/lia/part1/NormalForms/#1788" class="Bound">wnnfψ</a> <a id="1794" class="Symbol">=</a> <a id="1796" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1800" class="Symbol">(</a><a id="1801" href="/lia/part1/NormalForms/#1776" class="Bound">wnnfφ</a> <a id="1807" href="/lia/part1/NormalForms/#985" class="InductiveConstructor Operator">∨</a> <a id="1809" href="/lia/part1/NormalForms/#1788" class="Bound">wnnfψ</a><a id="1814" class="Symbol">)</a>
<a id="1816" class="Symbol">...</a> <a id="1820" class="Symbol">|</a> <a id="1822" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1825" href="/lia/part1/NormalForms/#1825" class="Bound">¬wnnfφ</a> <a id="1832" class="Symbol">|</a> <a id="1834" class="Symbol">_</a> <a id="1836" class="Symbol">=</a> <a id="1838" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1841" class="Symbol">λ{</a> <a id="1844" class="Symbol">(</a><a id="1845" href="/lia/part1/NormalForms/#1845" class="Bound">wnnfφ</a> <a id="1851" href="/lia/part1/NormalForms/#985" class="InductiveConstructor Operator">∨</a> <a id="1853" class="Symbol">_)</a> <a id="1856" class="Symbol">→</a> <a id="1858" href="/lia/part1/NormalForms/#1825" class="Bound">¬wnnfφ</a> <a id="1865" href="/lia/part1/NormalForms/#1845" class="Bound">wnnfφ</a><a id="1870" class="Symbol">}</a>
<a id="1872" class="CatchallClause Symbol">...</a><a id="1875" class="CatchallClause"> </a><a id="1876" class="CatchallClause Symbol">|</a><a id="1877" class="CatchallClause"> </a><a id="1878" class="CatchallClause Symbol">_</a><a id="1879" class="CatchallClause"> </a><a id="1880" class="CatchallClause Symbol">|</a><a id="1881" class="CatchallClause"> </a><a id="1882" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="1884" class="CatchallClause"> </a><a id="1885" href="/lia/part1/NormalForms/#1885" class="CatchallClause Bound">¬wnnfψ</a> <a id="1892" class="Symbol">=</a> <a id="1894" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1897" class="Symbol">λ{</a> <a id="1900" class="Symbol">(_</a> <a id="1903" href="/lia/part1/NormalForms/#985" class="InductiveConstructor Operator">∨</a> <a id="1905" href="/lia/part1/NormalForms/#1905" class="Bound">wnnfψ</a><a id="1910" class="Symbol">)</a> <a id="1912" class="Symbol">→</a> <a id="1914" href="/lia/part1/NormalForms/#1885" class="Bound">¬wnnfψ</a> <a id="1921" href="/lia/part1/NormalForms/#1905" class="Bound">wnnfψ</a><a id="1926" class="Symbol">}</a>

<a id="1929" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1935" class="Symbol">(</a><a id="1936" href="/lia/part1/NormalForms/#1936" class="Bound">φ</a> <a id="1938" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="1940" href="/lia/part1/NormalForms/#1940" class="Bound">ψ</a><a id="1941" class="Symbol">)</a>
  <a id="1945" class="Keyword">with</a> <a id="1950" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1956" href="/lia/part1/NormalForms/#1936" class="Bound">φ</a> <a id="1958" class="Symbol">|</a>
       <a id="1967" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1973" href="/lia/part1/NormalForms/#1940" class="Bound">ψ</a>
<a id="1975" class="Symbol">...</a> <a id="1979" class="Symbol">|</a> <a id="1981" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1985" href="/lia/part1/NormalForms/#1985" class="Bound">wnnfφ</a> <a id="1991" class="Symbol">|</a> <a id="1993" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1997" href="/lia/part1/NormalForms/#1997" class="Bound">wnnfψ</a> <a id="2003" class="Symbol">=</a> <a id="2005" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2009" class="Symbol">(</a><a id="2010" href="/lia/part1/NormalForms/#1985" class="Bound">wnnfφ</a> <a id="2016" href="/lia/part1/NormalForms/#946" class="InductiveConstructor Operator">∧</a> <a id="2018" href="/lia/part1/NormalForms/#1997" class="Bound">wnnfψ</a><a id="2023" class="Symbol">)</a>
<a id="2025" class="Symbol">...</a> <a id="2029" class="Symbol">|</a> <a id="2031" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2034" href="/lia/part1/NormalForms/#2034" class="Bound">¬wnnfφ</a> <a id="2041" class="Symbol">|</a> <a id="2043" class="Symbol">_</a> <a id="2045" class="Symbol">=</a> <a id="2047" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2050" class="Symbol">λ{</a> <a id="2053" class="Symbol">(</a><a id="2054" href="/lia/part1/NormalForms/#2054" class="Bound">wnnfφ</a> <a id="2060" href="/lia/part1/NormalForms/#946" class="InductiveConstructor Operator">∧</a> <a id="2062" class="Symbol">_)</a> <a id="2065" class="Symbol">→</a> <a id="2067" href="/lia/part1/NormalForms/#2034" class="Bound">¬wnnfφ</a> <a id="2074" href="/lia/part1/NormalForms/#2054" class="Bound">wnnfφ</a><a id="2079" class="Symbol">}</a>
<a id="2081" class="CatchallClause Symbol">...</a><a id="2084" class="CatchallClause"> </a><a id="2085" class="CatchallClause Symbol">|</a><a id="2086" class="CatchallClause"> </a><a id="2087" class="CatchallClause Symbol">_</a><a id="2088" class="CatchallClause"> </a><a id="2089" class="CatchallClause Symbol">|</a><a id="2090" class="CatchallClause"> </a><a id="2091" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="2093" class="CatchallClause"> </a><a id="2094" href="/lia/part1/NormalForms/#2094" class="CatchallClause Bound">¬wnnfψ</a> <a id="2101" class="Symbol">=</a> <a id="2103" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2106" class="Symbol">λ{</a> <a id="2109" class="Symbol">(_</a> <a id="2112" href="/lia/part1/NormalForms/#946" class="InductiveConstructor Operator">∧</a> <a id="2114" href="/lia/part1/NormalForms/#2114" class="Bound">wnnfψ</a><a id="2119" class="Symbol">)</a> <a id="2121" class="Symbol">→</a> <a id="2123" href="/lia/part1/NormalForms/#2094" class="Bound">¬wnnfψ</a> <a id="2130" href="/lia/part1/NormalForms/#2114" class="Bound">wnnfψ</a><a id="2135" class="Symbol">}</a>

<a id="2138" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="2144" class="Symbol">(</a><a id="2145" href="/lia/part1/NormalForms/#2145" class="Bound">φ</a> <a id="2147" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="2149" href="/lia/part1/NormalForms/#2149" class="Bound">ψ</a><a id="2150" class="Symbol">)</a>
  <a id="2154" class="Keyword">with</a> <a id="2159" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="2165" href="/lia/part1/NormalForms/#2145" class="Bound">φ</a> <a id="2167" class="Symbol">|</a>
       <a id="2176" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="2182" href="/lia/part1/NormalForms/#2149" class="Bound">ψ</a>
<a id="2184" class="Symbol">...</a> <a id="2188" class="Symbol">|</a> <a id="2190" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2194" href="/lia/part1/NormalForms/#2194" class="Bound">wnnfφ</a> <a id="2200" class="Symbol">|</a> <a id="2202" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2206" href="/lia/part1/NormalForms/#2206" class="Bound">wnnfψ</a> <a id="2212" class="Symbol">=</a> <a id="2214" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2218" class="Symbol">(</a><a id="2219" href="/lia/part1/NormalForms/#2194" class="Bound">wnnfφ</a> <a id="2225" href="/lia/part1/NormalForms/#1024" class="InductiveConstructor Operator">⇒</a> <a id="2227" href="/lia/part1/NormalForms/#2206" class="Bound">wnnfψ</a><a id="2232" class="Symbol">)</a>
<a id="2234" class="Symbol">...</a> <a id="2238" class="Symbol">|</a> <a id="2240" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2243" href="/lia/part1/NormalForms/#2243" class="Bound">¬wnnfφ</a> <a id="2250" class="Symbol">|</a> <a id="2252" class="Symbol">_</a> <a id="2254" class="Symbol">=</a> <a id="2256" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2259" class="Symbol">λ{</a> <a id="2262" class="Symbol">(</a><a id="2263" href="/lia/part1/NormalForms/#2263" class="Bound">wnnfφ</a> <a id="2269" href="/lia/part1/NormalForms/#1024" class="InductiveConstructor Operator">⇒</a> <a id="2271" class="Symbol">_)</a> <a id="2274" class="Symbol">→</a> <a id="2276" href="/lia/part1/NormalForms/#2243" class="Bound">¬wnnfφ</a> <a id="2283" href="/lia/part1/NormalForms/#2263" class="Bound">wnnfφ</a><a id="2288" class="Symbol">}</a>
<a id="2290" class="CatchallClause Symbol">...</a><a id="2293" class="CatchallClause"> </a><a id="2294" class="CatchallClause Symbol">|</a><a id="2295" class="CatchallClause"> </a><a id="2296" class="CatchallClause Symbol">_</a><a id="2297" class="CatchallClause"> </a><a id="2298" class="CatchallClause Symbol">|</a><a id="2299" class="CatchallClause"> </a><a id="2300" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="2302" class="CatchallClause"> </a><a id="2303" href="/lia/part1/NormalForms/#2303" class="CatchallClause Bound">¬wnnfψ</a> <a id="2310" class="Symbol">=</a> <a id="2312" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2315" class="Symbol">λ{</a> <a id="2318" class="Symbol">(_</a> <a id="2321" href="/lia/part1/NormalForms/#1024" class="InductiveConstructor Operator">⇒</a> <a id="2323" href="/lia/part1/NormalForms/#2323" class="Bound">wnnfψ</a><a id="2328" class="Symbol">)</a> <a id="2330" class="Symbol">→</a> <a id="2332" href="/lia/part1/NormalForms/#2303" class="Bound">¬wnnfψ</a> <a id="2339" href="/lia/part1/NormalForms/#2323" class="Bound">wnnfψ</a><a id="2344" class="Symbol">}</a>

<a id="2347" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="2353" class="Symbol">(</a><a id="2354" href="/lia/part1/NormalForms/#2354" class="Bound">φ</a> <a id="2356" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="2358" href="/lia/part1/NormalForms/#2358" class="Bound">ψ</a><a id="2359" class="Symbol">)</a>
  <a id="2363" class="Keyword">with</a> <a id="2368" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="2374" href="/lia/part1/NormalForms/#2354" class="Bound">φ</a> <a id="2376" class="Symbol">|</a>
       <a id="2385" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="2391" href="/lia/part1/NormalForms/#2358" class="Bound">ψ</a>
<a id="2393" class="Symbol">...</a> <a id="2397" class="Symbol">|</a> <a id="2399" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2403" href="/lia/part1/NormalForms/#2403" class="Bound">wnnfφ</a> <a id="2409" class="Symbol">|</a> <a id="2411" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2415" href="/lia/part1/NormalForms/#2415" class="Bound">wnnfψ</a> <a id="2421" class="Symbol">=</a> <a id="2423" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2427" class="Symbol">(</a><a id="2428" href="/lia/part1/NormalForms/#2403" class="Bound">wnnfφ</a> <a id="2434" href="/lia/part1/NormalForms/#1063" class="InductiveConstructor Operator">⇔</a> <a id="2436" href="/lia/part1/NormalForms/#2415" class="Bound">wnnfψ</a><a id="2441" class="Symbol">)</a>
<a id="2443" class="Symbol">...</a> <a id="2447" class="Symbol">|</a> <a id="2449" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2452" href="/lia/part1/NormalForms/#2452" class="Bound">¬wnnfφ</a> <a id="2459" class="Symbol">|</a> <a id="2461" class="Symbol">_</a> <a id="2463" class="Symbol">=</a> <a id="2465" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2468" class="Symbol">λ{</a> <a id="2471" class="Symbol">(</a><a id="2472" href="/lia/part1/NormalForms/#2472" class="Bound">wnnfφ</a> <a id="2478" href="/lia/part1/NormalForms/#1063" class="InductiveConstructor Operator">⇔</a> <a id="2480" class="Symbol">_)</a> <a id="2483" class="Symbol">→</a> <a id="2485" href="/lia/part1/NormalForms/#2452" class="Bound">¬wnnfφ</a> <a id="2492" href="/lia/part1/NormalForms/#2472" class="Bound">wnnfφ</a><a id="2497" class="Symbol">}</a>
<a id="2499" class="CatchallClause Symbol">...</a><a id="2502" class="CatchallClause"> </a><a id="2503" class="CatchallClause Symbol">|</a><a id="2504" class="CatchallClause"> </a><a id="2505" class="CatchallClause Symbol">_</a><a id="2506" class="CatchallClause"> </a><a id="2507" class="CatchallClause Symbol">|</a><a id="2508" class="CatchallClause"> </a><a id="2509" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="2511" class="CatchallClause"> </a><a id="2512" href="/lia/part1/NormalForms/#2512" class="CatchallClause Bound">¬wnnfψ</a> <a id="2519" class="Symbol">=</a> <a id="2521" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2524" class="Symbol">λ{</a> <a id="2527" class="Symbol">(_</a> <a id="2530" href="/lia/part1/NormalForms/#1063" class="InductiveConstructor Operator">⇔</a> <a id="2532" href="/lia/part1/NormalForms/#2532" class="Bound">wnnfψ</a><a id="2537" class="Symbol">)</a> <a id="2539" class="Symbol">→</a> <a id="2541" href="/lia/part1/NormalForms/#2512" class="Bound">¬wnnfψ</a> <a id="2548" href="/lia/part1/NormalForms/#2532" class="Bound">wnnfψ</a><a id="2553" class="Symbol">}</a></pre>

</div>

<pre class="Agda"><a id="ψ₀"></a><a id="2569" href="/lia/part1/NormalForms/#2569" class="Function">ψ₀</a> <a id="ψ₁"></a><a id="2572" href="/lia/part1/NormalForms/#2572" class="Function">ψ₁</a> <a id="ψ₂"></a><a id="2575" href="/lia/part1/NormalForms/#2575" class="Function">ψ₂</a> <a id="ψ₃"></a><a id="2578" href="/lia/part1/NormalForms/#2578" class="Function">ψ₃</a> <a id="ψ₄"></a><a id="2581" href="/lia/part1/NormalForms/#2581" class="Function">ψ₄</a> <a id="ψ₅"></a><a id="2584" href="/lia/part1/NormalForms/#2584" class="Function">ψ₅</a> <a id="ψ₇"></a><a id="2587" href="/lia/part1/NormalForms/#2587" class="Function">ψ₇</a> <a id="ψ₈"></a><a id="2590" href="/lia/part1/NormalForms/#2590" class="Function">ψ₈</a> <a id="2593" class="Symbol">:</a> <a id="2595" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a></pre>

<div class="inlinecode">

  <p>For instance, the formulas</p>
  <pre class="Agda"><a id="2668" href="/lia/part1/NormalForms/#2569" class="Function">ψ₀</a> <a id="2671" class="Symbol">=</a> <a id="2673" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a></pre>
  <p>,</p>
  <pre class="Agda"><a id="2685" href="/lia/part1/NormalForms/#2572" class="Function">ψ₁</a> <a id="2688" class="Symbol">=</a> <a id="2690" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="2692" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="2694" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="2697" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="2699" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="2701" href="/lia/part1/Semantics/#1197" class="Function">p₁</a></pre>
  <p>, and</p>
  <pre class="Agda"><a id="2718" href="/lia/part1/NormalForms/#2575" class="Function">ψ₂</a> <a id="2721" class="Symbol">=</a> <a id="2723" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="2725" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="2727" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="2730" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="2732" class="Symbol">(</a><a id="2733" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="2735" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="2738" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="2740" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="2742" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="2744" href="/lia/part1/Semantics/#1200" class="Function">p₂</a><a id="2746" class="Symbol">)</a></pre>
  <p>are in WNNF, while the formulas</p>
  <pre class="Agda"><a id="2788" href="/lia/part1/NormalForms/#2578" class="Function">ψ₃</a> <a id="2791" class="Symbol">=</a> <a id="2793" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="2795" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a></pre>
  <p>,</p>
  <pre class="Agda"><a id="2807" href="/lia/part1/NormalForms/#2581" class="Function">ψ₄</a> <a id="2810" class="Symbol">=</a> <a id="2812" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="2814" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="2816" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="2818" href="/lia/part1/Semantics/#1194" class="Function">p₀</a></pre>
  <p>, and</p>
  <pre class="Agda"><a id="2835" href="/lia/part1/NormalForms/#2584" class="Function">ψ₅</a> <a id="2838" class="Symbol">=</a> <a id="2840" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="2842" class="Symbol">(</a><a id="2843" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="2845" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="2848" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="2850" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="2852" href="/lia/part1/Semantics/#1197" class="Function">p₁</a><a id="2854" class="Symbol">)</a></pre>

  <p>are not in WNNF (negation not in front of a propositional variable),
which we can automaticalally check thanks to <a href="#WNNF?"><code class="language-plaintext highlighter-rouge">WNNF?</code></a> :</p>

</div>

<pre class="Agda"><a id="3007" href="/lia/part1/NormalForms/#3007" class="Function">_</a> <a id="3009" class="Symbol">:</a> <a id="3011" href="/lia/part0/List/#10524" class="Function">All?</a> <a id="3016" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="3022" class="Symbol">(</a><a id="3023" href="/lia/part0/List/#1763" class="Function">[</a> <a id="3025" href="/lia/part1/NormalForms/#2569" class="Function">ψ₀</a> <a id="3028" href="/lia/part1/NormalForms/#2572" class="Function">ψ₁</a> <a id="3031" href="/lia/part1/NormalForms/#2575" class="Function">ψ₂</a> <a id="3034" href="/lia/part0/List/#2014" class="Function Operator">]</a><a id="3035" class="Symbol">)</a> <a id="3037" href="/lia/part0/Decidable/#628" class="Function Operator">×?</a> <a id="3040" href="/lia/part0/List/#10524" class="Function">All?</a> <a id="3045" class="Symbol">(</a><a id="3046" href="/lia/part0/Decidable/#1262" class="Function Operator">~?_</a> <a id="3050" href="/lia/part0/Utils/#638" class="Function Operator">∘</a> <a id="3052" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a><a id="3057" class="Symbol">)</a> <a id="3059" class="Symbol">(</a><a id="3060" href="/lia/part0/List/#1763" class="Function">[</a> <a id="3062" href="/lia/part1/NormalForms/#2578" class="Function">ψ₃</a> <a id="3065" href="/lia/part1/NormalForms/#2581" class="Function">ψ₄</a> <a id="3068" href="/lia/part1/NormalForms/#2584" class="Function">ψ₅</a> <a id="3071" href="/lia/part0/List/#2014" class="Function Operator">]</a><a id="3072" class="Symbol">)</a> <a id="3074" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="3076" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="3080" class="Symbol">_</a>
<a id="3082" class="Symbol">_</a> <a id="3084" class="Symbol">=</a> <a id="3086" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<h2 id="transformation">
<a class="anchor" href="#transformation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Transformation</h2>

<p>The transformation of a formula to WNNF operates by “pushing inside”
negations. This is achieved by the function</p>

<pre class="Agda"><a id="wnnf"></a><a id="3233" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3238" class="Symbol">:</a> <a id="3240" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a> <a id="3248" class="Symbol">→</a> <a id="3250" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a></pre>

<p>which is defined as follows:</p>

<ul>
  <li>In the atomic cases the formula is unchanged:</li>
</ul>

<pre class="Agda"><a id="3346" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3351" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="3353" class="Symbol">=</a> <a id="3355" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a>
<a id="3357" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3362" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="3364" class="Symbol">=</a> <a id="3366" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a>
<a id="3368" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3373" class="Symbol">(</a><a id="3374" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="3376" href="/lia/part1/NormalForms/#3376" class="Bound">p</a><a id="3377" class="Symbol">)</a> <a id="3379" class="Symbol">=</a> <a id="3381" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="3383" href="/lia/part1/NormalForms/#3376" class="Bound">p</a></pre>

<ul>
  <li>In the case of binary connectives we just proceed recursively on the
subformulas:</li>
</ul>

<pre class="Agda"><a id="3479" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3484" class="Symbol">(</a><a id="3485" href="/lia/part1/NormalForms/#3485" class="Bound">φ</a> <a id="3487" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="3489" href="/lia/part1/NormalForms/#3489" class="Bound">ψ</a><a id="3490" class="Symbol">)</a> <a id="3492" class="Symbol">=</a> <a id="3494" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3499" href="/lia/part1/NormalForms/#3485" class="Bound">φ</a> <a id="3501" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="3503" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3508" href="/lia/part1/NormalForms/#3489" class="Bound">ψ</a>
<a id="3510" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3515" class="Symbol">(</a><a id="3516" href="/lia/part1/NormalForms/#3516" class="Bound">φ</a> <a id="3518" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="3520" href="/lia/part1/NormalForms/#3520" class="Bound">ψ</a><a id="3521" class="Symbol">)</a> <a id="3523" class="Symbol">=</a> <a id="3525" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3530" href="/lia/part1/NormalForms/#3516" class="Bound">φ</a> <a id="3532" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="3534" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3539" href="/lia/part1/NormalForms/#3520" class="Bound">ψ</a>
<a id="3541" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3546" class="Symbol">(</a><a id="3547" href="/lia/part1/NormalForms/#3547" class="Bound">φ</a> <a id="3549" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="3551" href="/lia/part1/NormalForms/#3551" class="Bound">ψ</a><a id="3552" class="Symbol">)</a> <a id="3554" class="Symbol">=</a> <a id="3556" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3561" href="/lia/part1/NormalForms/#3547" class="Bound">φ</a> <a id="3563" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="3565" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3570" href="/lia/part1/NormalForms/#3551" class="Bound">ψ</a>
<a id="3572" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3577" class="Symbol">(</a><a id="3578" href="/lia/part1/NormalForms/#3578" class="Bound">φ</a> <a id="3580" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="3582" href="/lia/part1/NormalForms/#3582" class="Bound">ψ</a><a id="3583" class="Symbol">)</a> <a id="3585" class="Symbol">=</a> <a id="3587" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3592" href="/lia/part1/NormalForms/#3578" class="Bound">φ</a> <a id="3594" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="3596" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3601" href="/lia/part1/NormalForms/#3582" class="Bound">ψ</a></pre>

<ul>
  <li>In the case of a negation, we push it inside. If it is in front of
the constants <a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> and
<a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> , then we just flip it to the
other constant:</li>
</ul>

<pre class="Agda"><a id="3827" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3832" class="Symbol">(</a><a id="3833" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="3835" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a><a id="3836" class="Symbol">)</a> <a id="3838" class="Symbol">=</a> <a id="3840" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a>
<a id="3842" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3847" class="Symbol">(</a><a id="3848" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="3850" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a><a id="3851" class="Symbol">)</a> <a id="3853" class="Symbol">=</a> <a id="3855" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a></pre>

<ul>
  <li>If it is in front of a propositional variable, then we leave it
unchanged:</li>
</ul>

<pre class="Agda"><a id="3944" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3949" class="Symbol">(</a><a id="3950" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="3952" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="3954" href="/lia/part1/NormalForms/#3954" class="Bound">p</a><a id="3955" class="Symbol">)</a> <a id="3957" class="Symbol">=</a> <a id="3959" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="3961" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="3963" href="/lia/part1/NormalForms/#3954" class="Bound">p</a></pre>

<ul>
  <li>Double negations are just removed (thanks to the law of double
negation):</li>
</ul>

<pre class="Agda"><a id="4053" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4058" class="Symbol">(</a><a id="4059" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4061" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4063" href="/lia/part1/NormalForms/#4063" class="Bound">φ</a><a id="4064" class="Symbol">)</a> <a id="4066" class="Symbol">=</a> <a id="4068" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4073" href="/lia/part1/NormalForms/#4063" class="Bound">φ</a></pre>

<ul>
  <li>If negation is in front of a binary connective, then we push it
inside according to the corresponding de Morgan’s law:</li>
</ul>

<pre class="Agda"><a id="4208" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4213" class="Symbol">(</a><a id="4214" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4216" class="Symbol">(</a><a id="4217" href="/lia/part1/NormalForms/#4217" class="Bound">φ</a> <a id="4219" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="4221" href="/lia/part1/NormalForms/#4221" class="Bound">ψ</a><a id="4222" class="Symbol">))</a> <a id="4225" class="Symbol">=</a> <a id="4227" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4232" class="Symbol">(</a><a id="4233" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4235" href="/lia/part1/NormalForms/#4217" class="Bound">φ</a><a id="4236" class="Symbol">)</a> <a id="4238" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="4240" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4245" class="Symbol">(</a><a id="4246" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4248" href="/lia/part1/NormalForms/#4221" class="Bound">ψ</a><a id="4249" class="Symbol">)</a>
<a id="4251" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4256" class="Symbol">(</a><a id="4257" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4259" class="Symbol">(</a><a id="4260" href="/lia/part1/NormalForms/#4260" class="Bound">φ</a> <a id="4262" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="4264" href="/lia/part1/NormalForms/#4264" class="Bound">ψ</a><a id="4265" class="Symbol">))</a> <a id="4268" class="Symbol">=</a> <a id="4270" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4275" class="Symbol">(</a><a id="4276" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4278" href="/lia/part1/NormalForms/#4260" class="Bound">φ</a><a id="4279" class="Symbol">)</a> <a id="4281" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="4283" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4288" class="Symbol">(</a><a id="4289" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4291" href="/lia/part1/NormalForms/#4264" class="Bound">ψ</a><a id="4292" class="Symbol">)</a>
<a id="4294" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4299" class="Symbol">(</a><a id="4300" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4302" class="Symbol">(</a><a id="4303" href="/lia/part1/NormalForms/#4303" class="Bound">φ</a> <a id="4305" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="4307" href="/lia/part1/NormalForms/#4307" class="Bound">ψ</a><a id="4308" class="Symbol">))</a> <a id="4311" class="Symbol">=</a> <a id="4313" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4318" href="/lia/part1/NormalForms/#4303" class="Bound">φ</a> <a id="4320" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="4322" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4327" class="Symbol">(</a><a id="4328" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4330" href="/lia/part1/NormalForms/#4307" class="Bound">ψ</a><a id="4331" class="Symbol">)</a>
<a id="4333" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4338" class="Symbol">(</a><a id="4339" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4341" class="Symbol">(</a><a id="4342" href="/lia/part1/NormalForms/#4342" class="Bound">φ</a> <a id="4344" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="4346" href="/lia/part1/NormalForms/#4346" class="Bound">ψ</a><a id="4347" class="Symbol">))</a> <a id="4350" class="Symbol">=</a> <a id="4352" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4357" href="/lia/part1/NormalForms/#4342" class="Bound">φ</a> <a id="4359" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="4361" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4366" class="Symbol">(</a><a id="4367" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4369" href="/lia/part1/NormalForms/#4346" class="Bound">ψ</a><a id="4370" class="Symbol">)</a></pre>

<div class="introbox">

  <div class="inlinecode">

    <p>For example, the WNNF of</p>
    <pre class="Agda"><a id="4445" href="/lia/part1/NormalForms/#2587" class="Function">ψ₇</a> <a id="4448" class="Symbol">=</a> <a id="4450" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4452" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4454" class="Symbol">(</a><a id="4455" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="4457" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="4460" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="4462" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4464" class="Symbol">(</a><a id="4465" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="4467" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="4470" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="4472" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="4474" href="/lia/part1/Semantics/#1200" class="Function">p₂</a><a id="4476" class="Symbol">))</a></pre>
    <p>is</p>
    <pre class="Agda"><a id="4490" href="/lia/part1/NormalForms/#2590" class="Function">ψ₈</a> <a id="4493" class="Symbol">=</a> <a id="4495" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="4497" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="4500" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="4502" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4504" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="4506" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="4509" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="4511" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4513" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="4515" href="/lia/part1/Semantics/#1200" class="Function">p₂</a></pre>
    <p>as we can automatically check.</p>

  </div>

  <p><button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="4580" href="/lia/part1/NormalForms/#4580" class="Function">_</a> <a id="4582" class="Symbol">:</a> <a id="4584" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4589" href="/lia/part1/NormalForms/#2587" class="Function">ψ₇</a> <a id="4592" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="4594" href="/lia/part1/NormalForms/#2590" class="Function">ψ₈</a>
<a id="4597" class="Symbol">_</a> <a id="4599" class="Symbol">=</a> <a id="4601" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

</div>

<h2 id="correctness">
<a class="anchor" href="#correctness" aria-hidden="true"><span class="octicon octicon-link"></span></a>Correctness</h2>

<p>Now that we have a tentative definition of a function <a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a>
purportedly transforming a formula to an equivalent one in WNNF, we have
to prove that this is the case. There are two things that we need to
prove. First, we need to prove that <code class="language-plaintext highlighter-rouge">wnnf φ</code> is indeed in WNNF, and
second that it is logically equivalent to <code class="language-plaintext highlighter-rouge">φ</code>.</p>

<h3 id="structure">Structure</h3>

<div class="introbox">

  <pre class="Agda"><a id="wnnf-WNNF"></a><a id="4994" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5004" class="Symbol">:</a> <a id="5006" class="Symbol">∀</a> <a id="5008" href="/lia/part1/NormalForms/#5008" class="Bound">φ</a> <a id="5010" class="Symbol">→</a> <a id="5012" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="5017" class="Symbol">(</a><a id="5018" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="5023" href="/lia/part1/NormalForms/#5008" class="Bound">φ</a><a id="5024" class="Symbol">)</a></pre>

  <p>The proof that <code class="language-plaintext highlighter-rouge">wnnf φ</code> is in WNNF is by a customary structural
induction, where in the case <code class="language-plaintext highlighter-rouge">φ = ¬ (</code>
p)<code class="language-plaintext highlighter-rouge">the [`` WNNF ``](#WNNF)  given by the constructor `` ¬</code> p
`<code class="language-plaintext highlighter-rouge">(no space between</code>¬` and the following backtick character).
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="5274" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5284" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="5286" class="Symbol">=</a> <a id="5288" href="/lia/part1/NormalForms/#860" class="InductiveConstructor">⊥</a>
<a id="5290" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5300" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="5302" class="Symbol">=</a> <a id="5304" href="/lia/part1/NormalForms/#847" class="InductiveConstructor">⊤</a>
<a id="5306" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5316" class="Symbol">(</a><a id="5317" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="5319" href="/lia/part1/NormalForms/#5319" class="Bound">p</a><a id="5320" class="Symbol">)</a> <a id="5322" class="Symbol">=</a> <a id="5324" href="/lia/part1/NormalForms/#873" class="InductiveConstructor Operator">`</a> <a id="5326" href="/lia/part1/NormalForms/#5319" class="Bound">p</a>
<a id="5328" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5338" class="Symbol">(</a><a id="5339" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5341" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a><a id="5342" class="Symbol">)</a> <a id="5344" class="Symbol">=</a> <a id="5346" href="/lia/part1/NormalForms/#847" class="InductiveConstructor">⊤</a>
<a id="5348" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5358" class="Symbol">(</a><a id="5359" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5361" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a><a id="5362" class="Symbol">)</a> <a id="5364" class="Symbol">=</a> <a id="5366" href="/lia/part1/NormalForms/#860" class="InductiveConstructor">⊥</a>
<a id="5368" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5378" class="Symbol">(</a><a id="5379" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5381" class="Symbol">(</a><a id="5382" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="5384" href="/lia/part1/NormalForms/#5384" class="Bound">p</a><a id="5385" class="Symbol">))</a> <a id="5388" class="Symbol">=</a> <a id="5390" href="/lia/part1/NormalForms/#908" class="InductiveConstructor Operator">¬`</a> <a id="5393" href="/lia/part1/NormalForms/#5384" class="Bound">p</a>
<a id="5395" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5405" class="Symbol">(</a><a id="5406" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5408" class="Symbol">(</a><a id="5409" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5411" href="/lia/part1/NormalForms/#5411" class="Bound">φ</a><a id="5412" class="Symbol">))</a> <a id="5415" class="Symbol">=</a> <a id="5417" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5427" href="/lia/part1/NormalForms/#5411" class="Bound">φ</a>
<a id="5429" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5439" class="Symbol">(</a><a id="5440" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5442" class="Symbol">(</a><a id="5443" href="/lia/part1/NormalForms/#5443" class="Bound">φ</a> <a id="5445" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="5447" href="/lia/part1/NormalForms/#5447" class="Bound">ψ</a><a id="5448" class="Symbol">))</a> <a id="5451" class="Symbol">=</a> <a id="5453" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5463" class="Symbol">(</a><a id="5464" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5466" href="/lia/part1/NormalForms/#5443" class="Bound">φ</a><a id="5467" class="Symbol">)</a> <a id="5469" href="/lia/part1/NormalForms/#946" class="InductiveConstructor Operator">∧</a> <a id="5471" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5481" class="Symbol">(</a><a id="5482" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5484" href="/lia/part1/NormalForms/#5447" class="Bound">ψ</a><a id="5485" class="Symbol">)</a>
<a id="5487" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5497" class="Symbol">(</a><a id="5498" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5500" class="Symbol">(</a><a id="5501" href="/lia/part1/NormalForms/#5501" class="Bound">φ</a> <a id="5503" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="5505" href="/lia/part1/NormalForms/#5505" class="Bound">ψ</a><a id="5506" class="Symbol">))</a> <a id="5509" class="Symbol">=</a> <a id="5511" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5521" class="Symbol">(</a><a id="5522" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5524" href="/lia/part1/NormalForms/#5501" class="Bound">φ</a><a id="5525" class="Symbol">)</a> <a id="5527" href="/lia/part1/NormalForms/#985" class="InductiveConstructor Operator">∨</a> <a id="5529" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5539" class="Symbol">(</a><a id="5540" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5542" href="/lia/part1/NormalForms/#5505" class="Bound">ψ</a><a id="5543" class="Symbol">)</a>
<a id="5545" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5555" class="Symbol">(</a><a id="5556" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5558" class="Symbol">(</a><a id="5559" href="/lia/part1/NormalForms/#5559" class="Bound">φ</a> <a id="5561" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="5563" href="/lia/part1/NormalForms/#5563" class="Bound">ψ</a><a id="5564" class="Symbol">))</a> <a id="5567" class="Symbol">=</a> <a id="5569" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5579" href="/lia/part1/NormalForms/#5559" class="Bound">φ</a> <a id="5581" href="/lia/part1/NormalForms/#946" class="InductiveConstructor Operator">∧</a> <a id="5583" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5593" class="Symbol">(</a><a id="5594" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5596" href="/lia/part1/NormalForms/#5563" class="Bound">ψ</a><a id="5597" class="Symbol">)</a>
<a id="5599" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5609" class="Symbol">(</a><a id="5610" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5612" class="Symbol">(</a><a id="5613" href="/lia/part1/NormalForms/#5613" class="Bound">φ</a> <a id="5615" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="5617" href="/lia/part1/NormalForms/#5617" class="Bound">ψ</a><a id="5618" class="Symbol">))</a> <a id="5621" class="Symbol">=</a> <a id="5623" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5633" href="/lia/part1/NormalForms/#5613" class="Bound">φ</a> <a id="5635" href="/lia/part1/NormalForms/#1063" class="InductiveConstructor Operator">⇔</a> <a id="5637" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5647" class="Symbol">(</a><a id="5648" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5650" href="/lia/part1/NormalForms/#5617" class="Bound">ψ</a><a id="5651" class="Symbol">)</a>
<a id="5653" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5663" class="Symbol">(</a><a id="5664" href="/lia/part1/NormalForms/#5664" class="Bound">φ</a> <a id="5666" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="5668" href="/lia/part1/NormalForms/#5668" class="Bound">ψ</a><a id="5669" class="Symbol">)</a> <a id="5671" class="Symbol">=</a> <a id="5673" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5683" href="/lia/part1/NormalForms/#5664" class="Bound">φ</a> <a id="5685" href="/lia/part1/NormalForms/#985" class="InductiveConstructor Operator">∨</a> <a id="5687" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5697" href="/lia/part1/NormalForms/#5668" class="Bound">ψ</a>
<a id="5699" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5709" class="Symbol">(</a><a id="5710" href="/lia/part1/NormalForms/#5710" class="Bound">φ</a> <a id="5712" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="5714" href="/lia/part1/NormalForms/#5714" class="Bound">ψ</a><a id="5715" class="Symbol">)</a> <a id="5717" class="Symbol">=</a> <a id="5719" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5729" href="/lia/part1/NormalForms/#5710" class="Bound">φ</a> <a id="5731" href="/lia/part1/NormalForms/#946" class="InductiveConstructor Operator">∧</a> <a id="5733" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5743" href="/lia/part1/NormalForms/#5714" class="Bound">ψ</a>
<a id="5745" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5755" class="Symbol">(</a><a id="5756" href="/lia/part1/NormalForms/#5756" class="Bound">φ</a> <a id="5758" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="5760" href="/lia/part1/NormalForms/#5760" class="Bound">ψ</a><a id="5761" class="Symbol">)</a> <a id="5763" class="Symbol">=</a> <a id="5765" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5775" href="/lia/part1/NormalForms/#5756" class="Bound">φ</a> <a id="5777" href="/lia/part1/NormalForms/#1024" class="InductiveConstructor Operator">⇒</a> <a id="5779" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5789" href="/lia/part1/NormalForms/#5760" class="Bound">ψ</a>
<a id="5791" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5801" class="Symbol">(</a><a id="5802" href="/lia/part1/NormalForms/#5802" class="Bound">φ</a> <a id="5804" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="5806" href="/lia/part1/NormalForms/#5806" class="Bound">ψ</a><a id="5807" class="Symbol">)</a> <a id="5809" class="Symbol">=</a> <a id="5811" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5821" href="/lia/part1/NormalForms/#5802" class="Bound">φ</a> <a id="5823" href="/lia/part1/NormalForms/#1063" class="InductiveConstructor Operator">⇔</a> <a id="5825" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5835" href="/lia/part1/NormalForms/#5806" class="Bound">ψ</a></pre>

</div>

<h3 id="soundness">Soundness</h3>

<p>The proof of soundess is conceptually simple and it is based on the
double negation and de Morgan’s laws. The only difficulty is posed by
the termination checker.</p>

<p>The most immediate way to prove soundness would be to mimick the
recursive structure of <a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a> as follows:</p>

<pre class="Agda"><a id="6147" class="Symbol">{-#</a> <a id="6151" class="Keyword">TERMINATING</a> <a id="6163" class="Symbol">#-}</a>
<a id="wnnf-sound'"></a><a id="6167" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6179" class="Symbol">:</a> <a id="6181" class="Symbol">∀</a> <a id="6183" href="/lia/part1/NormalForms/#6183" class="Bound">φ</a> <a id="6185" class="Symbol">→</a> <a id="6187" href="/lia/part1/NormalForms/#6183" class="Bound">φ</a> <a id="6189" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="6191" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="6196" href="/lia/part1/NormalForms/#6183" class="Bound">φ</a>

<a id="6199" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6211" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="6213" href="/lia/part1/NormalForms/#6213" class="Bound">ϱ</a> <a id="6215" class="Symbol">=</a> <a id="6217" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="6222" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6234" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="6236" href="/lia/part1/NormalForms/#6236" class="Bound">ϱ</a> <a id="6238" class="Symbol">=</a> <a id="6240" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="6245" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6257" class="Symbol">(</a><a id="6258" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="6260" href="/lia/part1/NormalForms/#6260" class="Bound">p</a><a id="6261" class="Symbol">)</a> <a id="6263" href="/lia/part1/NormalForms/#6263" class="Bound">ϱ</a> <a id="6265" class="Symbol">=</a> <a id="6267" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="6272" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6284" class="Symbol">(</a><a id="6285" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="6287" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a><a id="6288" class="Symbol">)</a> <a id="6290" href="/lia/part1/NormalForms/#6290" class="Bound">ϱ</a> <a id="6292" class="Symbol">=</a> <a id="6294" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="6299" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6311" class="Symbol">(</a><a id="6312" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="6314" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a><a id="6315" class="Symbol">)</a> <a id="6317" href="/lia/part1/NormalForms/#6317" class="Bound">ϱ</a> <a id="6319" class="Symbol">=</a> <a id="6321" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="6326" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6338" class="Symbol">(</a><a id="6339" href="/lia/part1/NormalForms/#6339" class="Bound">φ</a> <a id="6341" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="6343" href="/lia/part1/NormalForms/#6343" class="Bound">ψ</a><a id="6344" class="Symbol">)</a> <a id="6346" href="/lia/part1/NormalForms/#6346" class="Bound">ϱ</a>
  <a id="6350" class="Keyword">rewrite</a> <a id="6358" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6370" href="/lia/part1/NormalForms/#6339" class="Bound">φ</a> <a id="6372" href="/lia/part1/NormalForms/#6346" class="Bound">ϱ</a> <a id="6374" class="Symbol">|</a>
          <a id="6386" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6398" href="/lia/part1/NormalForms/#6343" class="Bound">ψ</a> <a id="6400" href="/lia/part1/NormalForms/#6346" class="Bound">ϱ</a> <a id="6402" class="Symbol">=</a> <a id="6404" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
          
<a id="6420" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6432" class="Symbol">(</a><a id="6433" href="/lia/part1/NormalForms/#6433" class="Bound">φ</a> <a id="6435" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="6437" href="/lia/part1/NormalForms/#6437" class="Bound">ψ</a><a id="6438" class="Symbol">)</a> <a id="6440" href="/lia/part1/NormalForms/#6440" class="Bound">ϱ</a>
  <a id="6444" class="Keyword">rewrite</a> <a id="6452" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6464" href="/lia/part1/NormalForms/#6433" class="Bound">φ</a> <a id="6466" href="/lia/part1/NormalForms/#6440" class="Bound">ϱ</a> <a id="6468" class="Symbol">|</a>
          <a id="6480" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6492" href="/lia/part1/NormalForms/#6437" class="Bound">ψ</a> <a id="6494" href="/lia/part1/NormalForms/#6440" class="Bound">ϱ</a> <a id="6496" class="Symbol">=</a> <a id="6498" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
          
<a id="6514" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6526" class="Symbol">(</a><a id="6527" href="/lia/part1/NormalForms/#6527" class="Bound">φ</a> <a id="6529" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="6531" href="/lia/part1/NormalForms/#6531" class="Bound">ψ</a><a id="6532" class="Symbol">)</a> <a id="6534" href="/lia/part1/NormalForms/#6534" class="Bound">ϱ</a>
  <a id="6538" class="Keyword">rewrite</a> <a id="6546" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6558" href="/lia/part1/NormalForms/#6527" class="Bound">φ</a> <a id="6560" href="/lia/part1/NormalForms/#6534" class="Bound">ϱ</a> <a id="6562" class="Symbol">|</a>
          <a id="6574" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6586" href="/lia/part1/NormalForms/#6531" class="Bound">ψ</a> <a id="6588" href="/lia/part1/NormalForms/#6534" class="Bound">ϱ</a> <a id="6590" class="Symbol">=</a> <a id="6592" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
          
<a id="6608" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6620" class="Symbol">(</a><a id="6621" href="/lia/part1/NormalForms/#6621" class="Bound">φ</a> <a id="6623" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="6625" href="/lia/part1/NormalForms/#6625" class="Bound">ψ</a><a id="6626" class="Symbol">)</a> <a id="6628" href="/lia/part1/NormalForms/#6628" class="Bound">ϱ</a>
  <a id="6632" class="Keyword">rewrite</a> <a id="6640" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6652" href="/lia/part1/NormalForms/#6621" class="Bound">φ</a> <a id="6654" href="/lia/part1/NormalForms/#6628" class="Bound">ϱ</a> <a id="6656" class="Symbol">|</a>
          <a id="6668" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6680" href="/lia/part1/NormalForms/#6625" class="Bound">ψ</a> <a id="6682" href="/lia/part1/NormalForms/#6628" class="Bound">ϱ</a> <a id="6684" class="Symbol">=</a> <a id="6686" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
          
<a id="6702" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6714" class="Symbol">(</a><a id="6715" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="6717" class="Symbol">(</a><a id="6718" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="6720" href="/lia/part1/NormalForms/#6720" class="Bound">p</a><a id="6721" class="Symbol">))</a> <a id="6724" href="/lia/part1/NormalForms/#6724" class="Bound">ϱ</a> <a id="6726" class="Symbol">=</a> <a id="6728" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="6733" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6745" class="Symbol">(</a><a id="6746" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="6748" class="Symbol">(</a><a id="6749" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="6751" href="/lia/part1/NormalForms/#6751" class="Bound">φ</a><a id="6752" class="Symbol">))</a> <a id="6755" href="/lia/part1/NormalForms/#6755" class="Bound">ϱ</a>
  <a id="6759" class="Keyword">rewrite</a> <a id="6767" href="/lia/part1/Semantics/#31215" class="Function">doubleNegationLaw</a> <a id="6785" href="/lia/part1/NormalForms/#6751" class="Bound">φ</a> <a id="6787" href="/lia/part1/NormalForms/#6755" class="Bound">ϱ</a> <a id="6789" class="Symbol">|</a>
          <a id="6801" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6813" href="/lia/part1/NormalForms/#6751" class="Bound">φ</a> <a id="6815" href="/lia/part1/NormalForms/#6755" class="Bound">ϱ</a> <a id="6817" class="Symbol">=</a> <a id="6819" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="6827" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6839" class="Symbol">(</a><a id="6840" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="6842" class="Symbol">(</a><a id="6843" href="/lia/part1/NormalForms/#6843" class="Bound">φ</a> <a id="6845" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="6847" href="/lia/part1/NormalForms/#6847" class="Bound">ψ</a><a id="6848" class="Symbol">))</a> <a id="6851" href="/lia/part1/NormalForms/#6851" class="Bound">ϱ</a>
   <a id="6856" class="Keyword">rewrite</a> <a id="6864" href="/lia/part1/Semantics/#31295" class="Function">deMorganOr</a> <a id="6875" href="/lia/part1/NormalForms/#6843" class="Bound">φ</a> <a id="6877" href="/lia/part1/NormalForms/#6847" class="Bound">ψ</a> <a id="6879" href="/lia/part1/NormalForms/#6851" class="Bound">ϱ</a> <a id="6881" class="Symbol">|</a>
           <a id="6894" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6906" class="Symbol">(</a><a id="6907" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="6909" href="/lia/part1/NormalForms/#6843" class="Bound">φ</a><a id="6910" class="Symbol">)</a> <a id="6912" href="/lia/part1/NormalForms/#6851" class="Bound">ϱ</a> <a id="6914" class="Symbol">|</a>
           <a id="6927" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6939" class="Symbol">(</a><a id="6940" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="6942" href="/lia/part1/NormalForms/#6847" class="Bound">ψ</a><a id="6943" class="Symbol">)</a> <a id="6945" href="/lia/part1/NormalForms/#6851" class="Bound">ϱ</a> <a id="6947" class="Symbol">=</a> <a id="6949" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a> <a id="6954" class="Comment">-- termination issue (*)</a>
           
<a id="6991" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="7003" class="Symbol">(</a><a id="7004" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="7006" class="Symbol">(</a><a id="7007" href="/lia/part1/NormalForms/#7007" class="Bound">φ</a> <a id="7009" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="7011" href="/lia/part1/NormalForms/#7011" class="Bound">ψ</a><a id="7012" class="Symbol">))</a> <a id="7015" href="/lia/part1/NormalForms/#7015" class="Bound">ϱ</a>
   <a id="7020" class="Keyword">rewrite</a> <a id="7028" href="/lia/part1/Semantics/#31251" class="Function">deMorganAnd</a> <a id="7040" href="/lia/part1/NormalForms/#7007" class="Bound">φ</a> <a id="7042" href="/lia/part1/NormalForms/#7011" class="Bound">ψ</a> <a id="7044" href="/lia/part1/NormalForms/#7015" class="Bound">ϱ</a> <a id="7046" class="Symbol">|</a>
           <a id="7059" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="7071" class="Symbol">(</a><a id="7072" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="7074" href="/lia/part1/NormalForms/#7007" class="Bound">φ</a><a id="7075" class="Symbol">)</a> <a id="7077" href="/lia/part1/NormalForms/#7015" class="Bound">ϱ</a> <a id="7079" class="Symbol">|</a>
           <a id="7092" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="7104" class="Symbol">(</a><a id="7105" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="7107" href="/lia/part1/NormalForms/#7011" class="Bound">ψ</a><a id="7108" class="Symbol">)</a> <a id="7110" href="/lia/part1/NormalForms/#7015" class="Bound">ϱ</a> <a id="7112" class="Symbol">=</a> <a id="7114" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="7120" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="7132" class="Symbol">(</a><a id="7133" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="7135" class="Symbol">(</a><a id="7136" href="/lia/part1/NormalForms/#7136" class="Bound">φ</a> <a id="7138" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="7140" href="/lia/part1/NormalForms/#7140" class="Bound">ψ</a><a id="7141" class="Symbol">))</a> <a id="7144" href="/lia/part1/NormalForms/#7144" class="Bound">ϱ</a>
   <a id="7149" class="Keyword">rewrite</a> <a id="7157" href="/lia/part1/Semantics/#31385" class="Function">deMorganImplies</a> <a id="7173" href="/lia/part1/NormalForms/#7136" class="Bound">φ</a> <a id="7175" href="/lia/part1/NormalForms/#7140" class="Bound">ψ</a> <a id="7177" href="/lia/part1/NormalForms/#7144" class="Bound">ϱ</a> <a id="7179" class="Symbol">|</a>
           <a id="7192" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="7204" href="/lia/part1/NormalForms/#7136" class="Bound">φ</a> <a id="7206" href="/lia/part1/NormalForms/#7144" class="Bound">ϱ</a> <a id="7208" class="Symbol">|</a>
           <a id="7221" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="7233" class="Symbol">(</a><a id="7234" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="7236" href="/lia/part1/NormalForms/#7140" class="Bound">ψ</a><a id="7237" class="Symbol">)</a> <a id="7239" href="/lia/part1/NormalForms/#7144" class="Bound">ϱ</a> <a id="7241" class="Symbol">=</a> <a id="7243" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="7249" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="7261" class="Symbol">(</a><a id="7262" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="7264" class="Symbol">(</a><a id="7265" href="/lia/part1/NormalForms/#7265" class="Bound">φ</a> <a id="7267" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="7269" href="/lia/part1/NormalForms/#7269" class="Bound">ψ</a><a id="7270" class="Symbol">))</a> <a id="7273" href="/lia/part1/NormalForms/#7273" class="Bound">ϱ</a>
   <a id="7278" class="Keyword">rewrite</a> <a id="7286" href="/lia/part1/Semantics/#31478" class="Function">deMorganIff-right</a> <a id="7304" href="/lia/part1/NormalForms/#7265" class="Bound">φ</a> <a id="7306" href="/lia/part1/NormalForms/#7269" class="Bound">ψ</a> <a id="7308" href="/lia/part1/NormalForms/#7273" class="Bound">ϱ</a> <a id="7310" class="Symbol">|</a>
           <a id="7323" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="7335" href="/lia/part1/NormalForms/#7265" class="Bound">φ</a> <a id="7337" href="/lia/part1/NormalForms/#7273" class="Bound">ϱ</a> <a id="7339" class="Symbol">|</a>
           <a id="7352" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="7364" class="Symbol">(</a><a id="7365" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="7367" href="/lia/part1/NormalForms/#7269" class="Bound">ψ</a><a id="7368" class="Symbol">)</a> <a id="7370" href="/lia/part1/NormalForms/#7273" class="Bound">ϱ</a> <a id="7372" class="Symbol">=</a> <a id="7374" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<p>The <code class="language-plaintext highlighter-rouge">TERMINATING</code> pragma instructs Agda to accept this definition even
if it is not proved terminating by the termination checker. (In this way
we do not need to comment out the code.) This can be verified by
commenting out the pragma, wereby the termination checker will complain
about the recursive invocation marked by <code class="language-plaintext highlighter-rouge">(*)</code> above. It is surprising
that the termination checker cannot establish that
<a href="#wnnf-sound'"><code class="language-plaintext highlighter-rouge">wnnf-sound'</code></a> is terminating (which indeed it is), since
it has the same recursive structure as <a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a> , which is
established terminating.</p>

<p>We need to find a way to convince the termination checker. A simple
work-around with negligible notational overhead is to split the
soundness proof in two parts:</p>

<pre class="Agda"><a id="wnnf-sound"></a><a id="8102" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8113" class="Symbol">:</a> <a id="8115" class="Symbol">∀</a> <a id="8117" href="/lia/part1/NormalForms/#8117" class="Bound">φ</a> <a id="8119" class="Symbol">→</a> <a id="8121" href="/lia/part1/NormalForms/#8117" class="Bound">φ</a> <a id="8123" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="8125" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="8130" href="/lia/part1/NormalForms/#8117" class="Bound">φ</a>
<a id="wnnf¬-sound"></a><a id="8132" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="8144" class="Symbol">:</a> <a id="8146" class="Symbol">∀</a> <a id="8148" href="/lia/part1/NormalForms/#8148" class="Bound">φ</a> <a id="8150" class="Symbol">→</a> <a id="8152" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="8154" href="/lia/part1/NormalForms/#8148" class="Bound">φ</a> <a id="8156" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="8158" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="8163" class="Symbol">(</a><a id="8164" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="8166" href="/lia/part1/NormalForms/#8148" class="Bound">φ</a><a id="8167" class="Symbol">)</a></pre>

<p>where the second part takes care of negated formulas. With this
“division of duties” approach, we can comfortably write the following
mutually recursive definitions:</p>

<pre class="Agda"><a id="8345" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8356" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="8358" href="/lia/part1/NormalForms/#8358" class="Bound">ϱ</a> <a id="8360" class="Symbol">=</a> <a id="8362" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8367" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8378" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="8380" href="/lia/part1/NormalForms/#8380" class="Bound">ϱ</a> <a id="8382" class="Symbol">=</a> <a id="8384" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8389" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8400" class="Symbol">(</a><a id="8401" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="8403" href="/lia/part1/NormalForms/#8403" class="Bound">p</a><a id="8404" class="Symbol">)</a> <a id="8406" href="/lia/part1/NormalForms/#8406" class="Bound">ϱ</a> <a id="8408" class="Symbol">=</a> <a id="8410" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8415" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8426" class="Symbol">(</a><a id="8427" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="8429" href="/lia/part1/NormalForms/#8429" class="Bound">φ</a><a id="8430" class="Symbol">)</a> <a id="8432" class="Symbol">=</a> <a id="8434" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="8446" href="/lia/part1/NormalForms/#8429" class="Bound">φ</a>
<a id="8448" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8459" class="Symbol">(</a><a id="8460" href="/lia/part1/NormalForms/#8460" class="Bound">φ</a> <a id="8462" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="8464" href="/lia/part1/NormalForms/#8464" class="Bound">ψ</a><a id="8465" class="Symbol">)</a> <a id="8467" href="/lia/part1/NormalForms/#8467" class="Bound">ϱ</a>
  <a id="8471" class="Keyword">rewrite</a> <a id="8479" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8490" href="/lia/part1/NormalForms/#8460" class="Bound">φ</a> <a id="8492" href="/lia/part1/NormalForms/#8467" class="Bound">ϱ</a> <a id="8494" class="Symbol">|</a>
          <a id="8506" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8517" href="/lia/part1/NormalForms/#8464" class="Bound">ψ</a> <a id="8519" href="/lia/part1/NormalForms/#8467" class="Bound">ϱ</a> <a id="8521" class="Symbol">=</a> <a id="8523" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8528" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8539" class="Symbol">(</a><a id="8540" href="/lia/part1/NormalForms/#8540" class="Bound">φ</a> <a id="8542" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="8544" href="/lia/part1/NormalForms/#8544" class="Bound">ψ</a><a id="8545" class="Symbol">)</a> <a id="8547" href="/lia/part1/NormalForms/#8547" class="Bound">ϱ</a>
  <a id="8551" class="Keyword">rewrite</a> <a id="8559" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8570" href="/lia/part1/NormalForms/#8540" class="Bound">φ</a> <a id="8572" href="/lia/part1/NormalForms/#8547" class="Bound">ϱ</a> <a id="8574" class="Symbol">|</a>
          <a id="8586" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8597" href="/lia/part1/NormalForms/#8544" class="Bound">ψ</a> <a id="8599" href="/lia/part1/NormalForms/#8547" class="Bound">ϱ</a> <a id="8601" class="Symbol">=</a> <a id="8603" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8608" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8619" class="Symbol">(</a><a id="8620" href="/lia/part1/NormalForms/#8620" class="Bound">φ</a> <a id="8622" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="8624" href="/lia/part1/NormalForms/#8624" class="Bound">ψ</a><a id="8625" class="Symbol">)</a> <a id="8627" href="/lia/part1/NormalForms/#8627" class="Bound">ϱ</a>
  <a id="8631" class="Keyword">rewrite</a> <a id="8639" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8650" href="/lia/part1/NormalForms/#8620" class="Bound">φ</a> <a id="8652" href="/lia/part1/NormalForms/#8627" class="Bound">ϱ</a> <a id="8654" class="Symbol">|</a>
          <a id="8666" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8677" href="/lia/part1/NormalForms/#8624" class="Bound">ψ</a> <a id="8679" href="/lia/part1/NormalForms/#8627" class="Bound">ϱ</a> <a id="8681" class="Symbol">=</a> <a id="8683" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8688" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8699" class="Symbol">(</a><a id="8700" href="/lia/part1/NormalForms/#8700" class="Bound">φ</a> <a id="8702" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="8704" href="/lia/part1/NormalForms/#8704" class="Bound">ψ</a><a id="8705" class="Symbol">)</a> <a id="8707" href="/lia/part1/NormalForms/#8707" class="Bound">ϱ</a>
  <a id="8711" class="Keyword">rewrite</a> <a id="8719" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8730" href="/lia/part1/NormalForms/#8700" class="Bound">φ</a> <a id="8732" href="/lia/part1/NormalForms/#8707" class="Bound">ϱ</a> <a id="8734" class="Symbol">|</a>
          <a id="8746" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8757" href="/lia/part1/NormalForms/#8704" class="Bound">ψ</a> <a id="8759" href="/lia/part1/NormalForms/#8707" class="Bound">ϱ</a> <a id="8761" class="Symbol">=</a> <a id="8763" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<p>and</p>

<pre class="Agda"><a id="8782" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="8794" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="8796" href="/lia/part1/NormalForms/#8796" class="Bound">ϱ</a> <a id="8798" class="Symbol">=</a> <a id="8800" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8805" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="8817" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="8819" href="/lia/part1/NormalForms/#8819" class="Bound">ϱ</a> <a id="8821" class="Symbol">=</a> <a id="8823" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8828" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="8840" class="Symbol">(</a><a id="8841" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="8843" href="/lia/part1/NormalForms/#8843" class="Bound">p</a><a id="8844" class="Symbol">)</a> <a id="8846" href="/lia/part1/NormalForms/#8846" class="Bound">ϱ</a> <a id="8848" class="Symbol">=</a> <a id="8850" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8855" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="8867" class="Symbol">(</a><a id="8868" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="8870" href="/lia/part1/NormalForms/#8870" class="Bound">φ</a><a id="8871" class="Symbol">)</a> <a id="8873" href="/lia/part1/NormalForms/#8873" class="Bound">ϱ</a> 
  <a id="8878" class="Keyword">rewrite</a> <a id="8886" href="/lia/part1/Semantics/#31215" class="Function">doubleNegationLaw</a> <a id="8904" href="/lia/part1/NormalForms/#8870" class="Bound">φ</a> <a id="8906" href="/lia/part1/NormalForms/#8873" class="Bound">ϱ</a> <a id="8908" class="Symbol">|</a>
          <a id="8920" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8931" href="/lia/part1/NormalForms/#8870" class="Bound">φ</a> <a id="8933" href="/lia/part1/NormalForms/#8873" class="Bound">ϱ</a> <a id="8935" class="Symbol">=</a> <a id="8937" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="8945" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="8957" class="Symbol">(</a><a id="8958" href="/lia/part1/NormalForms/#8958" class="Bound">φ</a> <a id="8960" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="8962" href="/lia/part1/NormalForms/#8962" class="Bound">ψ</a><a id="8963" class="Symbol">)</a> <a id="8965" href="/lia/part1/NormalForms/#8965" class="Bound">ϱ</a>
  <a id="8969" class="Keyword">rewrite</a> <a id="8977" href="/lia/part1/Semantics/#31295" class="Function">deMorganOr</a> <a id="8988" href="/lia/part1/NormalForms/#8958" class="Bound">φ</a> <a id="8990" href="/lia/part1/NormalForms/#8962" class="Bound">ψ</a> <a id="8992" href="/lia/part1/NormalForms/#8965" class="Bound">ϱ</a> <a id="8994" class="Symbol">|</a>
          <a id="9006" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="9018" href="/lia/part1/NormalForms/#8958" class="Bound">φ</a> <a id="9020" href="/lia/part1/NormalForms/#8965" class="Bound">ϱ</a> <a id="9022" class="Symbol">|</a>
          <a id="9034" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="9046" href="/lia/part1/NormalForms/#8962" class="Bound">ψ</a> <a id="9048" href="/lia/part1/NormalForms/#8965" class="Bound">ϱ</a> <a id="9050" class="Symbol">=</a> <a id="9052" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
          
<a id="9068" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="9080" class="Symbol">(</a><a id="9081" href="/lia/part1/NormalForms/#9081" class="Bound">φ</a> <a id="9083" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="9085" href="/lia/part1/NormalForms/#9085" class="Bound">ψ</a><a id="9086" class="Symbol">)</a> <a id="9088" href="/lia/part1/NormalForms/#9088" class="Bound">ϱ</a>
  <a id="9092" class="Keyword">rewrite</a> <a id="9100" href="/lia/part1/Semantics/#31251" class="Function">deMorganAnd</a> <a id="9112" href="/lia/part1/NormalForms/#9081" class="Bound">φ</a> <a id="9114" href="/lia/part1/NormalForms/#9085" class="Bound">ψ</a> <a id="9116" href="/lia/part1/NormalForms/#9088" class="Bound">ϱ</a> <a id="9118" class="Symbol">|</a>
          <a id="9130" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="9142" href="/lia/part1/NormalForms/#9081" class="Bound">φ</a> <a id="9144" href="/lia/part1/NormalForms/#9088" class="Bound">ϱ</a> <a id="9146" class="Symbol">|</a>
          <a id="9158" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="9170" href="/lia/part1/NormalForms/#9085" class="Bound">ψ</a> <a id="9172" href="/lia/part1/NormalForms/#9088" class="Bound">ϱ</a> <a id="9174" class="Symbol">=</a> <a id="9176" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="9182" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="9194" class="Symbol">(</a><a id="9195" href="/lia/part1/NormalForms/#9195" class="Bound">φ</a> <a id="9197" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="9199" href="/lia/part1/NormalForms/#9199" class="Bound">ψ</a><a id="9200" class="Symbol">)</a> <a id="9202" href="/lia/part1/NormalForms/#9202" class="Bound">ϱ</a>
  <a id="9206" class="Keyword">rewrite</a> <a id="9214" href="/lia/part1/Semantics/#31385" class="Function">deMorganImplies</a> <a id="9230" href="/lia/part1/NormalForms/#9195" class="Bound">φ</a> <a id="9232" href="/lia/part1/NormalForms/#9199" class="Bound">ψ</a> <a id="9234" href="/lia/part1/NormalForms/#9202" class="Bound">ϱ</a> <a id="9236" class="Symbol">|</a>
          <a id="9248" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="9259" href="/lia/part1/NormalForms/#9195" class="Bound">φ</a> <a id="9261" href="/lia/part1/NormalForms/#9202" class="Bound">ϱ</a> <a id="9263" class="Symbol">|</a>
          <a id="9275" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="9287" href="/lia/part1/NormalForms/#9199" class="Bound">ψ</a> <a id="9289" href="/lia/part1/NormalForms/#9202" class="Bound">ϱ</a> <a id="9291" class="Symbol">=</a> <a id="9293" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="9299" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="9311" class="Symbol">(</a><a id="9312" href="/lia/part1/NormalForms/#9312" class="Bound">φ</a> <a id="9314" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="9316" href="/lia/part1/NormalForms/#9316" class="Bound">ψ</a><a id="9317" class="Symbol">)</a> <a id="9319" href="/lia/part1/NormalForms/#9319" class="Bound">ϱ</a>
  <a id="9323" class="Keyword">rewrite</a> <a id="9331" href="/lia/part1/Semantics/#31478" class="Function">deMorganIff-right</a> <a id="9349" href="/lia/part1/NormalForms/#9312" class="Bound">φ</a> <a id="9351" href="/lia/part1/NormalForms/#9316" class="Bound">ψ</a> <a id="9353" href="/lia/part1/NormalForms/#9319" class="Bound">ϱ</a> <a id="9355" class="Symbol">|</a>
          <a id="9367" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="9378" href="/lia/part1/NormalForms/#9312" class="Bound">φ</a> <a id="9380" href="/lia/part1/NormalForms/#9319" class="Bound">ϱ</a> <a id="9382" class="Symbol">|</a>
          <a id="9394" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="9406" href="/lia/part1/NormalForms/#9316" class="Bound">ψ</a> <a id="9408" href="/lia/part1/NormalForms/#9319" class="Bound">ϱ</a> <a id="9410" class="Symbol">=</a> <a id="9412" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<h2 id="internal-verification">
<a class="anchor" href="#internal-verification" aria-hidden="true"><span class="octicon octicon-link"></span></a>Internal verification</h2>

<p>An alternative approach is to the define the WNNF transformation and its
correctness proof as a single recursive definition:</p>

<pre class="Agda"><a id="wnnf′"></a><a id="9578" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="9584" class="Symbol">:</a> <a id="9586" href="/lia/part0/Logic/#216" class="Function">∀[</a> <a id="9589" href="/lia/part1/NormalForms/#9589" class="Bound">φ</a> <a id="9591" href="/lia/part0/Logic/#216" class="Function">]</a> <a id="9593" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="9596" href="/lia/part1/NormalForms/#9596" class="Bound">ψ</a> <a id="9598" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="9600" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="9605" href="/lia/part1/NormalForms/#9596" class="Bound">ψ</a> <a id="9607" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="9609" href="/lia/part1/NormalForms/#9589" class="Bound">φ</a> <a id="9611" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="9613" href="/lia/part1/NormalForms/#9596" class="Bound">ψ</a></pre>

<div class="introbox">

  <p>This has the advantage of solving the termination problem highlighted
above. One disadvantage is that in contexts where we need just the WNNF
formula, but not its correctness proof, we cannot write just <code class="language-plaintext highlighter-rouge">wnnf φ</code>,
but we would need to write the less transparent <code class="language-plaintext highlighter-rouge">dfst (wnnf' φ)</code>. For
this reason, in this section we have preferred an approach where the
definition of WNNF and its correctness proof are given separately,
however it is interesting to compare it to the case where they are given
together. This style of programming is sometimes called <em>internal
verification</em>. <button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="10218" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10224" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="10226" class="Symbol">=</a> <a id="10228" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="10230" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10232" href="/lia/part1/NormalForms/#860" class="InductiveConstructor">⊥</a> <a id="10234" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10236" class="Symbol">λ</a> <a id="10238" href="/lia/part1/NormalForms/#10238" class="Bound">ϱ</a> <a id="10240" class="Symbol">→</a> <a id="10242" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="10247" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10253" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="10255" class="Symbol">=</a> <a id="10257" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="10259" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10261" href="/lia/part1/NormalForms/#847" class="InductiveConstructor">⊤</a> <a id="10263" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10265" class="Symbol">λ</a> <a id="10267" href="/lia/part1/NormalForms/#10267" class="Bound">ϱ</a> <a id="10269" class="Symbol">→</a> <a id="10271" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="10276" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10282" class="Symbol">(</a><a id="10283" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="10285" href="/lia/part1/NormalForms/#10285" class="Bound">p</a><a id="10286" class="Symbol">)</a> <a id="10288" class="Symbol">=</a> <a id="10290" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="10292" href="/lia/part1/NormalForms/#10285" class="Bound">p</a> <a id="10294" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10296" href="/lia/part1/NormalForms/#873" class="InductiveConstructor Operator">`</a> <a id="10298" href="/lia/part1/NormalForms/#10285" class="Bound">p</a> <a id="10300" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10302" class="Symbol">λ</a> <a id="10304" href="/lia/part1/NormalForms/#10304" class="Bound">ϱ</a> <a id="10306" class="Symbol">→</a> <a id="10308" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="10313" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10319" class="Symbol">(</a><a id="10320" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10322" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a><a id="10323" class="Symbol">)</a> <a id="10325" class="Symbol">=</a> <a id="10327" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="10329" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10331" href="/lia/part1/NormalForms/#847" class="InductiveConstructor">⊤</a> <a id="10333" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10335" class="Symbol">λ</a> <a id="10337" href="/lia/part1/NormalForms/#10337" class="Bound">ϱ</a> <a id="10339" class="Symbol">→</a> <a id="10341" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="10346" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10352" class="Symbol">(</a><a id="10353" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10355" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a><a id="10356" class="Symbol">)</a> <a id="10358" class="Symbol">=</a> <a id="10360" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="10362" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10364" href="/lia/part1/NormalForms/#860" class="InductiveConstructor">⊥</a> <a id="10366" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10368" class="Symbol">λ</a> <a id="10370" href="/lia/part1/NormalForms/#10370" class="Bound">ϱ</a> <a id="10372" class="Symbol">→</a> <a id="10374" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="10379" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10385" class="Symbol">(</a><a id="10386" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10388" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="10390" href="/lia/part1/NormalForms/#10390" class="Bound">p</a><a id="10391" class="Symbol">)</a> <a id="10393" class="Symbol">=</a> <a id="10395" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10397" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="10399" href="/lia/part1/NormalForms/#10390" class="Bound">p</a> <a id="10401" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10403" href="/lia/part1/NormalForms/#908" class="InductiveConstructor Operator">¬`</a> <a id="10406" href="/lia/part1/NormalForms/#10390" class="Bound">p</a> <a id="10408" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10410" class="Symbol">λ</a> <a id="10412" href="/lia/part1/NormalForms/#10412" class="Bound">ϱ</a> <a id="10414" class="Symbol">→</a> <a id="10416" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="10422" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10428" class="Symbol">(</a><a id="10429" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10431" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10433" href="/lia/part1/NormalForms/#10433" class="Bound">φ</a><a id="10434" class="Symbol">)</a> <a id="10436" class="Keyword">with</a> <a id="10441" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10447" href="/lia/part1/NormalForms/#10433" class="Bound">φ</a>
<a id="10449" class="Symbol">...</a> <a id="10453" class="Symbol">|</a> <a id="10455" href="/lia/part1/NormalForms/#10455" class="Bound">ψ</a> <a id="10457" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10459" href="/lia/part1/NormalForms/#10459" class="Bound">WNNFψ</a> <a id="10465" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10467" href="/lia/part1/NormalForms/#10467" class="Bound">φ⟺ψ</a> <a id="10471" class="Symbol">=</a> <a id="10473" href="/lia/part1/NormalForms/#10455" class="Bound">ψ</a> <a id="10475" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10477" href="/lia/part1/NormalForms/#10459" class="Bound">WNNFψ</a> <a id="10483" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10485" href="/lia/part1/NormalForms/#10506" class="Function">correctness</a> <a id="10497" class="Keyword">where</a>

  <a id="10506" href="/lia/part1/NormalForms/#10506" class="Function">correctness</a> <a id="10518" class="Symbol">:</a> <a id="10520" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10522" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10524" class="Bound">φ</a> <a id="10526" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="10528" href="/lia/part1/NormalForms/#10455" class="Bound">ψ</a>
  <a id="10532" href="/lia/part1/NormalForms/#10506" class="Function">correctness</a> <a id="10544" href="/lia/part1/NormalForms/#10544" class="Bound">ϱ</a> <a id="10546" class="Keyword">rewrite</a> <a id="10554" href="/lia/part1/Semantics/#31215" class="Function">doubleNegationLaw</a> <a id="10572" class="Bound">φ</a> <a id="10574" href="/lia/part1/NormalForms/#10544" class="Bound">ϱ</a> <a id="10576" class="Symbol">|</a>
                        <a id="10602" href="/lia/part1/NormalForms/#10467" class="Bound">φ⟺ψ</a> <a id="10606" href="/lia/part1/NormalForms/#10544" class="Bound">ϱ</a> <a id="10608" class="Symbol">=</a> <a id="10610" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="10616" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10622" class="Symbol">(</a><a id="10623" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10625" class="Symbol">(</a><a id="10626" href="/lia/part1/NormalForms/#10626" class="Bound">φ₀</a> <a id="10629" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="10631" href="/lia/part1/NormalForms/#10631" class="Bound">φ₁</a><a id="10633" class="Symbol">))</a> <a id="10636" class="Keyword">with</a> <a id="10641" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10647" class="Symbol">(</a><a id="10648" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10650" href="/lia/part1/NormalForms/#10626" class="Bound">φ₀</a><a id="10652" class="Symbol">)</a> <a id="10654" class="Symbol">|</a> <a id="10656" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10662" class="Symbol">(</a><a id="10663" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10665" href="/lia/part1/NormalForms/#10631" class="Bound">φ₁</a><a id="10667" class="Symbol">)</a>
<a id="10669" class="Symbol">...</a> <a id="10673" class="Symbol">|</a> <a id="10675" href="/lia/part1/NormalForms/#10675" class="Bound">ψ₀</a> <a id="10678" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10680" href="/lia/part1/NormalForms/#10680" class="Bound">WNNFψ₀</a> <a id="10687" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10689" href="/lia/part1/NormalForms/#10689" class="Bound">φ₀⟺ψ₀</a>
    <a id="10699" class="Symbol">|</a> <a id="10701" href="/lia/part1/NormalForms/#10701" class="Bound">ψ₁</a> <a id="10704" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10706" href="/lia/part1/NormalForms/#10706" class="Bound">WNNFψ₁</a> <a id="10713" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10715" href="/lia/part1/NormalForms/#10715" class="Bound">φ₁⟺ψ₁</a> <a id="10721" class="Symbol">=</a> <a id="10723" href="/lia/part1/NormalForms/#10675" class="Bound">ψ₀</a> <a id="10726" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="10728" href="/lia/part1/NormalForms/#10701" class="Bound">ψ₁</a> <a id="10731" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10733" href="/lia/part1/NormalForms/#10680" class="Bound">WNNFψ₀</a> <a id="10740" href="/lia/part1/NormalForms/#946" class="InductiveConstructor Operator">∧</a> <a id="10742" href="/lia/part1/NormalForms/#10706" class="Bound">WNNFψ₁</a> <a id="10749" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10751" href="/lia/part1/NormalForms/#10772" class="Function">correctness</a> <a id="10763" class="Keyword">where</a>

  <a id="10772" href="/lia/part1/NormalForms/#10772" class="Function">correctness</a> <a id="10784" class="Symbol">:</a> <a id="10786" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10788" class="Symbol">(</a><a id="10789" class="Bound">φ₀</a> <a id="10792" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="10794" class="Bound">φ₁</a><a id="10796" class="Symbol">)</a> <a id="10798" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="10800" href="/lia/part1/NormalForms/#10675" class="Bound">ψ₀</a> <a id="10803" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="10805" href="/lia/part1/NormalForms/#10701" class="Bound">ψ₁</a>
  <a id="10810" href="/lia/part1/NormalForms/#10772" class="Function">correctness</a> <a id="10822" href="/lia/part1/NormalForms/#10822" class="Bound">ϱ</a> <a id="10824" class="Keyword">rewrite</a> <a id="10832" href="/lia/part1/Semantics/#31295" class="Function">deMorganOr</a> <a id="10843" class="Bound">φ₀</a> <a id="10846" class="Bound">φ₁</a> <a id="10849" href="/lia/part1/NormalForms/#10822" class="Bound">ϱ</a> <a id="10851" class="Symbol">|</a>
                        <a id="10877" href="/lia/part1/NormalForms/#10689" class="Bound">φ₀⟺ψ₀</a> <a id="10883" href="/lia/part1/NormalForms/#10822" class="Bound">ϱ</a> <a id="10885" class="Symbol">|</a>
                        <a id="10911" href="/lia/part1/NormalForms/#10715" class="Bound">φ₁⟺ψ₁</a> <a id="10917" href="/lia/part1/NormalForms/#10822" class="Bound">ϱ</a> <a id="10919" class="Symbol">=</a> <a id="10921" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="10927" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10933" class="Symbol">(</a><a id="10934" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10936" class="Symbol">(</a><a id="10937" href="/lia/part1/NormalForms/#10937" class="Bound">φ₀</a> <a id="10940" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="10942" href="/lia/part1/NormalForms/#10942" class="Bound">φ₁</a><a id="10944" class="Symbol">))</a> <a id="10947" class="Keyword">with</a> <a id="10952" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10958" class="Symbol">(</a><a id="10959" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10961" href="/lia/part1/NormalForms/#10937" class="Bound">φ₀</a><a id="10963" class="Symbol">)</a> <a id="10965" class="Symbol">|</a> <a id="10967" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10973" class="Symbol">(</a><a id="10974" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10976" href="/lia/part1/NormalForms/#10942" class="Bound">φ₁</a><a id="10978" class="Symbol">)</a>
<a id="10980" class="Symbol">...</a> <a id="10984" class="Symbol">|</a> <a id="10986" href="/lia/part1/NormalForms/#10986" class="Bound">ψ₀</a> <a id="10989" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10991" href="/lia/part1/NormalForms/#10991" class="Bound">WNNFψ₀</a> <a id="10998" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11000" href="/lia/part1/NormalForms/#11000" class="Bound">φ₀⟺ψ₀</a>
    <a id="11010" class="Symbol">|</a> <a id="11012" href="/lia/part1/NormalForms/#11012" class="Bound">ψ₁</a> <a id="11015" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11017" href="/lia/part1/NormalForms/#11017" class="Bound">WNNFψ₁</a> <a id="11024" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11026" href="/lia/part1/NormalForms/#11026" class="Bound">φ₁⟺ψ₁</a> <a id="11032" class="Symbol">=</a> <a id="11034" href="/lia/part1/NormalForms/#10986" class="Bound">ψ₀</a> <a id="11037" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="11039" href="/lia/part1/NormalForms/#11012" class="Bound">ψ₁</a> <a id="11042" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11044" href="/lia/part1/NormalForms/#10991" class="Bound">WNNFψ₀</a> <a id="11051" href="/lia/part1/NormalForms/#985" class="InductiveConstructor Operator">∨</a> <a id="11053" href="/lia/part1/NormalForms/#11017" class="Bound">WNNFψ₁</a> <a id="11060" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11062" href="/lia/part1/NormalForms/#11083" class="Function">correctness</a> <a id="11074" class="Keyword">where</a>

  <a id="11083" href="/lia/part1/NormalForms/#11083" class="Function">correctness</a> <a id="11095" class="Symbol">:</a> <a id="11097" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="11099" class="Symbol">(</a><a id="11100" class="Bound">φ₀</a> <a id="11103" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="11105" class="Bound">φ₁</a><a id="11107" class="Symbol">)</a> <a id="11109" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="11111" href="/lia/part1/NormalForms/#10986" class="Bound">ψ₀</a> <a id="11114" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="11116" href="/lia/part1/NormalForms/#11012" class="Bound">ψ₁</a>
  <a id="11121" href="/lia/part1/NormalForms/#11083" class="Function">correctness</a> <a id="11133" href="/lia/part1/NormalForms/#11133" class="Bound">ϱ</a> <a id="11135" class="Keyword">rewrite</a> <a id="11143" href="/lia/part1/Semantics/#31251" class="Function">deMorganAnd</a> <a id="11155" class="Bound">φ₀</a> <a id="11158" class="Bound">φ₁</a> <a id="11161" href="/lia/part1/NormalForms/#11133" class="Bound">ϱ</a> <a id="11163" class="Symbol">|</a>
                        <a id="11189" href="/lia/part1/NormalForms/#11000" class="Bound">φ₀⟺ψ₀</a> <a id="11195" href="/lia/part1/NormalForms/#11133" class="Bound">ϱ</a> <a id="11197" class="Symbol">|</a>
                        <a id="11223" href="/lia/part1/NormalForms/#11026" class="Bound">φ₁⟺ψ₁</a> <a id="11229" href="/lia/part1/NormalForms/#11133" class="Bound">ϱ</a> <a id="11231" class="Symbol">=</a> <a id="11233" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
            
<a id="11251" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="11257" class="Symbol">(</a><a id="11258" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="11260" class="Symbol">(</a><a id="11261" href="/lia/part1/NormalForms/#11261" class="Bound">φ₀</a> <a id="11264" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="11266" href="/lia/part1/NormalForms/#11266" class="Bound">φ₁</a><a id="11268" class="Symbol">))</a> <a id="11271" class="Keyword">with</a> <a id="11276" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="11282" href="/lia/part1/NormalForms/#11261" class="Bound">φ₀</a> <a id="11285" class="Symbol">|</a> <a id="11287" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="11293" class="Symbol">(</a><a id="11294" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="11296" href="/lia/part1/NormalForms/#11266" class="Bound">φ₁</a><a id="11298" class="Symbol">)</a>
<a id="11300" class="Symbol">...</a> <a id="11304" class="Symbol">|</a> <a id="11306" href="/lia/part1/NormalForms/#11306" class="Bound">ψ₀</a> <a id="11309" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11311" href="/lia/part1/NormalForms/#11311" class="Bound">WNNFψ₀</a> <a id="11318" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11320" href="/lia/part1/NormalForms/#11320" class="Bound">φ₀⟺ψ₀</a>
    <a id="11330" class="Symbol">|</a> <a id="11332" href="/lia/part1/NormalForms/#11332" class="Bound">ψ₁</a> <a id="11335" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11337" href="/lia/part1/NormalForms/#11337" class="Bound">WNNFψ₁</a> <a id="11344" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11346" href="/lia/part1/NormalForms/#11346" class="Bound">φ₁⟺ψ₁</a> <a id="11352" class="Symbol">=</a> <a id="11354" href="/lia/part1/NormalForms/#11306" class="Bound">ψ₀</a> <a id="11357" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="11359" href="/lia/part1/NormalForms/#11332" class="Bound">ψ₁</a> <a id="11362" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11364" href="/lia/part1/NormalForms/#11311" class="Bound">WNNFψ₀</a> <a id="11371" href="/lia/part1/NormalForms/#946" class="InductiveConstructor Operator">∧</a> <a id="11373" href="/lia/part1/NormalForms/#11337" class="Bound">WNNFψ₁</a> <a id="11380" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11382" href="/lia/part1/NormalForms/#11403" class="Function">correctness</a> <a id="11394" class="Keyword">where</a>

  <a id="11403" href="/lia/part1/NormalForms/#11403" class="Function">correctness</a> <a id="11415" class="Symbol">:</a> <a id="11417" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="11419" class="Symbol">(</a><a id="11420" class="Bound">φ₀</a> <a id="11423" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="11425" class="Bound">φ₁</a><a id="11427" class="Symbol">)</a> <a id="11429" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="11431" href="/lia/part1/NormalForms/#11306" class="Bound">ψ₀</a> <a id="11434" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="11436" href="/lia/part1/NormalForms/#11332" class="Bound">ψ₁</a>
  <a id="11441" href="/lia/part1/NormalForms/#11403" class="Function">correctness</a> <a id="11453" href="/lia/part1/NormalForms/#11453" class="Bound">ϱ</a> <a id="11455" class="Keyword">rewrite</a> <a id="11463" href="/lia/part1/Semantics/#31385" class="Function">deMorganImplies</a> <a id="11479" class="Bound">φ₀</a> <a id="11482" class="Bound">φ₁</a> <a id="11485" href="/lia/part1/NormalForms/#11453" class="Bound">ϱ</a> <a id="11487" class="Symbol">|</a>
                        <a id="11513" href="/lia/part1/NormalForms/#11320" class="Bound">φ₀⟺ψ₀</a> <a id="11519" href="/lia/part1/NormalForms/#11453" class="Bound">ϱ</a> <a id="11521" class="Symbol">|</a>
                        <a id="11547" href="/lia/part1/NormalForms/#11346" class="Bound">φ₁⟺ψ₁</a> <a id="11553" href="/lia/part1/NormalForms/#11453" class="Bound">ϱ</a> <a id="11555" class="Symbol">=</a> <a id="11557" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
            
<a id="11575" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="11581" class="Symbol">(</a><a id="11582" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="11584" class="Symbol">(</a><a id="11585" href="/lia/part1/NormalForms/#11585" class="Bound">φ₀</a> <a id="11588" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="11590" href="/lia/part1/NormalForms/#11590" class="Bound">φ₁</a><a id="11592" class="Symbol">))</a> <a id="11595" class="Keyword">with</a> <a id="11600" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="11606" href="/lia/part1/NormalForms/#11585" class="Bound">φ₀</a> <a id="11609" class="Symbol">|</a> <a id="11611" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="11617" class="Symbol">(</a><a id="11618" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="11620" href="/lia/part1/NormalForms/#11590" class="Bound">φ₁</a><a id="11622" class="Symbol">)</a>
<a id="11624" class="Symbol">...</a> <a id="11628" class="Symbol">|</a> <a id="11630" href="/lia/part1/NormalForms/#11630" class="Bound">ψ₀</a> <a id="11633" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11635" href="/lia/part1/NormalForms/#11635" class="Bound">WNNFψ₀</a> <a id="11642" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11644" href="/lia/part1/NormalForms/#11644" class="Bound">φ₀⟺ψ₀</a>
    <a id="11654" class="Symbol">|</a> <a id="11656" href="/lia/part1/NormalForms/#11656" class="Bound">ψ₁</a> <a id="11659" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11661" href="/lia/part1/NormalForms/#11661" class="Bound">WNNFψ₁</a> <a id="11668" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11670" href="/lia/part1/NormalForms/#11670" class="Bound">φ₁⟺ψ₁</a> <a id="11676" class="Symbol">=</a> <a id="11678" href="/lia/part1/NormalForms/#11630" class="Bound">ψ₀</a> <a id="11681" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="11683" href="/lia/part1/NormalForms/#11656" class="Bound">ψ₁</a> <a id="11686" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11688" href="/lia/part1/NormalForms/#11635" class="Bound">WNNFψ₀</a> <a id="11695" href="/lia/part1/NormalForms/#1063" class="InductiveConstructor Operator">⇔</a> <a id="11697" href="/lia/part1/NormalForms/#11661" class="Bound">WNNFψ₁</a> <a id="11704" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11706" href="/lia/part1/NormalForms/#11727" class="Function">correctness</a> <a id="11718" class="Keyword">where</a>

  <a id="11727" href="/lia/part1/NormalForms/#11727" class="Function">correctness</a> <a id="11739" class="Symbol">:</a> <a id="11741" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="11743" class="Symbol">(</a><a id="11744" class="Bound">φ₀</a> <a id="11747" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="11749" class="Bound">φ₁</a><a id="11751" class="Symbol">)</a> <a id="11753" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="11755" href="/lia/part1/NormalForms/#11630" class="Bound">ψ₀</a> <a id="11758" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="11760" href="/lia/part1/NormalForms/#11656" class="Bound">ψ₁</a>
  <a id="11765" href="/lia/part1/NormalForms/#11727" class="Function">correctness</a> <a id="11777" href="/lia/part1/NormalForms/#11777" class="Bound">ϱ</a> <a id="11779" class="Keyword">rewrite</a> <a id="11787" href="/lia/part1/Semantics/#31478" class="Function">deMorganIff-right</a> <a id="11805" class="Bound">φ₀</a> <a id="11808" class="Bound">φ₁</a> <a id="11811" href="/lia/part1/NormalForms/#11777" class="Bound">ϱ</a> <a id="11813" class="Symbol">|</a>
                        <a id="11839" href="/lia/part1/NormalForms/#11644" class="Bound">φ₀⟺ψ₀</a> <a id="11845" href="/lia/part1/NormalForms/#11777" class="Bound">ϱ</a> <a id="11847" class="Symbol">|</a>
                        <a id="11873" href="/lia/part1/NormalForms/#11670" class="Bound">φ₁⟺ψ₁</a> <a id="11879" href="/lia/part1/NormalForms/#11777" class="Bound">ϱ</a> <a id="11881" class="Symbol">=</a> <a id="11883" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
            
<a id="11901" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="11907" class="Symbol">(</a><a id="11908" href="/lia/part1/NormalForms/#11908" class="Bound">φ₀</a> <a id="11911" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="11913" href="/lia/part1/NormalForms/#11913" class="Bound">φ₁</a><a id="11915" class="Symbol">)</a> <a id="11917" class="Keyword">with</a> <a id="11922" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="11928" href="/lia/part1/NormalForms/#11908" class="Bound">φ₀</a> <a id="11931" class="Symbol">|</a> <a id="11933" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="11939" href="/lia/part1/NormalForms/#11913" class="Bound">φ₁</a>
<a id="11942" class="Symbol">...</a> <a id="11946" class="Symbol">|</a> <a id="11948" href="/lia/part1/NormalForms/#11948" class="Bound">ψ₀</a> <a id="11951" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11953" href="/lia/part1/NormalForms/#11953" class="Bound">WNNFψ₀</a> <a id="11960" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11962" href="/lia/part1/NormalForms/#11962" class="Bound">φ₀⟺ψ₀</a>
    <a id="11972" class="Symbol">|</a> <a id="11974" href="/lia/part1/NormalForms/#11974" class="Bound">ψ₁</a> <a id="11977" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11979" href="/lia/part1/NormalForms/#11979" class="Bound">WNNFψ₁</a> <a id="11986" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11988" href="/lia/part1/NormalForms/#11988" class="Bound">φ₁⟺ψ₁</a> <a id="11994" class="Symbol">=</a> <a id="11996" href="/lia/part1/NormalForms/#11948" class="Bound">ψ₀</a> <a id="11999" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="12001" href="/lia/part1/NormalForms/#11974" class="Bound">ψ₁</a> <a id="12004" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12006" href="/lia/part1/NormalForms/#11953" class="Bound">WNNFψ₀</a> <a id="12013" href="/lia/part1/NormalForms/#985" class="InductiveConstructor Operator">∨</a> <a id="12015" href="/lia/part1/NormalForms/#11979" class="Bound">WNNFψ₁</a> <a id="12022" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12024" href="/lia/part1/NormalForms/#12045" class="Function">correctness</a> <a id="12036" class="Keyword">where</a>

  <a id="12045" href="/lia/part1/NormalForms/#12045" class="Function">correctness</a> <a id="12057" class="Symbol">:</a> <a id="12059" class="Bound">φ₀</a> <a id="12062" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="12064" class="Bound">φ₁</a> <a id="12067" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="12069" href="/lia/part1/NormalForms/#11948" class="Bound">ψ₀</a> <a id="12072" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="12074" href="/lia/part1/NormalForms/#11974" class="Bound">ψ₁</a>
  <a id="12079" href="/lia/part1/NormalForms/#12045" class="Function">correctness</a> <a id="12091" href="/lia/part1/NormalForms/#12091" class="Bound">ϱ</a> <a id="12093" class="Keyword">rewrite</a> <a id="12101" href="/lia/part1/NormalForms/#11962" class="Bound">φ₀⟺ψ₀</a> <a id="12107" href="/lia/part1/NormalForms/#12091" class="Bound">ϱ</a> <a id="12109" class="Symbol">|</a>
                        <a id="12135" href="/lia/part1/NormalForms/#11988" class="Bound">φ₁⟺ψ₁</a> <a id="12141" href="/lia/part1/NormalForms/#12091" class="Bound">ϱ</a> <a id="12143" class="Symbol">=</a> <a id="12145" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="12151" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="12157" class="Symbol">(</a><a id="12158" href="/lia/part1/NormalForms/#12158" class="Bound">φ₀</a> <a id="12161" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="12163" href="/lia/part1/NormalForms/#12163" class="Bound">φ₁</a><a id="12165" class="Symbol">)</a> <a id="12167" class="Keyword">with</a> <a id="12172" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="12178" href="/lia/part1/NormalForms/#12158" class="Bound">φ₀</a> <a id="12181" class="Symbol">|</a> <a id="12183" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="12189" href="/lia/part1/NormalForms/#12163" class="Bound">φ₁</a>
<a id="12192" class="Symbol">...</a> <a id="12196" class="Symbol">|</a> <a id="12198" href="/lia/part1/NormalForms/#12198" class="Bound">ψ₀</a> <a id="12201" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12203" href="/lia/part1/NormalForms/#12203" class="Bound">WNNFψ₀</a> <a id="12210" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12212" href="/lia/part1/NormalForms/#12212" class="Bound">φ₀⟺ψ₀</a>
    <a id="12222" class="Symbol">|</a> <a id="12224" href="/lia/part1/NormalForms/#12224" class="Bound">ψ₁</a> <a id="12227" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12229" href="/lia/part1/NormalForms/#12229" class="Bound">WNNFψ₁</a> <a id="12236" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12238" href="/lia/part1/NormalForms/#12238" class="Bound">φ₁⟺ψ₁</a> <a id="12244" class="Symbol">=</a> <a id="12246" href="/lia/part1/NormalForms/#12198" class="Bound">ψ₀</a> <a id="12249" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="12251" href="/lia/part1/NormalForms/#12224" class="Bound">ψ₁</a> <a id="12254" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12256" href="/lia/part1/NormalForms/#12203" class="Bound">WNNFψ₀</a> <a id="12263" href="/lia/part1/NormalForms/#946" class="InductiveConstructor Operator">∧</a> <a id="12265" href="/lia/part1/NormalForms/#12229" class="Bound">WNNFψ₁</a> <a id="12272" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12274" href="/lia/part1/NormalForms/#12295" class="Function">correctness</a> <a id="12286" class="Keyword">where</a>

  <a id="12295" href="/lia/part1/NormalForms/#12295" class="Function">correctness</a> <a id="12307" class="Symbol">:</a> <a id="12309" class="Bound">φ₀</a> <a id="12312" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="12314" class="Bound">φ₁</a> <a id="12317" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="12319" href="/lia/part1/NormalForms/#12198" class="Bound">ψ₀</a> <a id="12322" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="12324" href="/lia/part1/NormalForms/#12224" class="Bound">ψ₁</a>
  <a id="12329" href="/lia/part1/NormalForms/#12295" class="Function">correctness</a> <a id="12341" href="/lia/part1/NormalForms/#12341" class="Bound">ϱ</a> <a id="12343" class="Keyword">rewrite</a> <a id="12351" href="/lia/part1/NormalForms/#12212" class="Bound">φ₀⟺ψ₀</a> <a id="12357" href="/lia/part1/NormalForms/#12341" class="Bound">ϱ</a> <a id="12359" class="Symbol">|</a>
                        <a id="12385" href="/lia/part1/NormalForms/#12238" class="Bound">φ₁⟺ψ₁</a> <a id="12391" href="/lia/part1/NormalForms/#12341" class="Bound">ϱ</a> <a id="12393" class="Symbol">=</a> <a id="12395" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="12401" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="12407" class="Symbol">(</a><a id="12408" href="/lia/part1/NormalForms/#12408" class="Bound">φ₀</a> <a id="12411" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="12413" href="/lia/part1/NormalForms/#12413" class="Bound">φ₁</a><a id="12415" class="Symbol">)</a> <a id="12417" class="Keyword">with</a> <a id="12422" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="12428" href="/lia/part1/NormalForms/#12408" class="Bound">φ₀</a> <a id="12431" class="Symbol">|</a> <a id="12433" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="12439" href="/lia/part1/NormalForms/#12413" class="Bound">φ₁</a>
<a id="12442" class="Symbol">...</a> <a id="12446" class="Symbol">|</a> <a id="12448" href="/lia/part1/NormalForms/#12448" class="Bound">ψ₀</a> <a id="12451" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12453" href="/lia/part1/NormalForms/#12453" class="Bound">WNNFψ₀</a> <a id="12460" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12462" href="/lia/part1/NormalForms/#12462" class="Bound">φ₀⟺ψ₀</a>
    <a id="12472" class="Symbol">|</a> <a id="12474" href="/lia/part1/NormalForms/#12474" class="Bound">ψ₁</a> <a id="12477" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12479" href="/lia/part1/NormalForms/#12479" class="Bound">WNNFψ₁</a> <a id="12486" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12488" href="/lia/part1/NormalForms/#12488" class="Bound">φ₁⟺ψ₁</a> <a id="12494" class="Symbol">=</a> <a id="12496" href="/lia/part1/NormalForms/#12448" class="Bound">ψ₀</a> <a id="12499" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="12501" href="/lia/part1/NormalForms/#12474" class="Bound">ψ₁</a> <a id="12504" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12506" href="/lia/part1/NormalForms/#12453" class="Bound">WNNFψ₀</a> <a id="12513" href="/lia/part1/NormalForms/#1024" class="InductiveConstructor Operator">⇒</a> <a id="12515" href="/lia/part1/NormalForms/#12479" class="Bound">WNNFψ₁</a> <a id="12522" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12524" href="/lia/part1/NormalForms/#12545" class="Function">correctness</a> <a id="12536" class="Keyword">where</a>

  <a id="12545" href="/lia/part1/NormalForms/#12545" class="Function">correctness</a> <a id="12557" class="Symbol">:</a> <a id="12559" class="Bound">φ₀</a> <a id="12562" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="12564" class="Bound">φ₁</a> <a id="12567" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="12569" href="/lia/part1/NormalForms/#12448" class="Bound">ψ₀</a> <a id="12572" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="12574" href="/lia/part1/NormalForms/#12474" class="Bound">ψ₁</a>
  <a id="12579" href="/lia/part1/NormalForms/#12545" class="Function">correctness</a> <a id="12591" href="/lia/part1/NormalForms/#12591" class="Bound">ϱ</a> <a id="12593" class="Keyword">rewrite</a> <a id="12601" href="/lia/part1/NormalForms/#12462" class="Bound">φ₀⟺ψ₀</a> <a id="12607" href="/lia/part1/NormalForms/#12591" class="Bound">ϱ</a> <a id="12609" class="Symbol">|</a>
                        <a id="12635" href="/lia/part1/NormalForms/#12488" class="Bound">φ₁⟺ψ₁</a> <a id="12641" href="/lia/part1/NormalForms/#12591" class="Bound">ϱ</a> <a id="12643" class="Symbol">=</a> <a id="12645" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="12651" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="12657" class="Symbol">(</a><a id="12658" href="/lia/part1/NormalForms/#12658" class="Bound">φ₀</a> <a id="12661" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="12663" href="/lia/part1/NormalForms/#12663" class="Bound">φ₁</a><a id="12665" class="Symbol">)</a> <a id="12667" class="Keyword">with</a> <a id="12672" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="12678" href="/lia/part1/NormalForms/#12658" class="Bound">φ₀</a> <a id="12681" class="Symbol">|</a> <a id="12683" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="12689" href="/lia/part1/NormalForms/#12663" class="Bound">φ₁</a>
<a id="12692" class="Symbol">...</a> <a id="12696" class="Symbol">|</a> <a id="12698" href="/lia/part1/NormalForms/#12698" class="Bound">ψ₀</a> <a id="12701" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12703" href="/lia/part1/NormalForms/#12703" class="Bound">WNNFψ₀</a> <a id="12710" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12712" href="/lia/part1/NormalForms/#12712" class="Bound">φ₀⟺ψ₀</a>
    <a id="12722" class="Symbol">|</a> <a id="12724" href="/lia/part1/NormalForms/#12724" class="Bound">ψ₁</a> <a id="12727" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12729" href="/lia/part1/NormalForms/#12729" class="Bound">WNNFψ₁</a> <a id="12736" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12738" href="/lia/part1/NormalForms/#12738" class="Bound">φ₁⟺ψ₁</a> <a id="12744" class="Symbol">=</a> <a id="12746" href="/lia/part1/NormalForms/#12698" class="Bound">ψ₀</a> <a id="12749" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="12751" href="/lia/part1/NormalForms/#12724" class="Bound">ψ₁</a> <a id="12754" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12756" href="/lia/part1/NormalForms/#12703" class="Bound">WNNFψ₀</a> <a id="12763" href="/lia/part1/NormalForms/#1063" class="InductiveConstructor Operator">⇔</a> <a id="12765" href="/lia/part1/NormalForms/#12729" class="Bound">WNNFψ₁</a> <a id="12772" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12774" href="/lia/part1/NormalForms/#12795" class="Function">correctness</a> <a id="12786" class="Keyword">where</a>

  <a id="12795" href="/lia/part1/NormalForms/#12795" class="Function">correctness</a> <a id="12807" class="Symbol">:</a> <a id="12809" class="Bound">φ₀</a> <a id="12812" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="12814" class="Bound">φ₁</a> <a id="12817" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="12819" href="/lia/part1/NormalForms/#12698" class="Bound">ψ₀</a> <a id="12822" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="12824" href="/lia/part1/NormalForms/#12724" class="Bound">ψ₁</a>
  <a id="12829" href="/lia/part1/NormalForms/#12795" class="Function">correctness</a> <a id="12841" href="/lia/part1/NormalForms/#12841" class="Bound">ϱ</a> <a id="12843" class="Keyword">rewrite</a> <a id="12851" href="/lia/part1/NormalForms/#12712" class="Bound">φ₀⟺ψ₀</a> <a id="12857" href="/lia/part1/NormalForms/#12841" class="Bound">ϱ</a> <a id="12859" class="Symbol">|</a>
                        <a id="12885" href="/lia/part1/NormalForms/#12738" class="Bound">φ₁⟺ψ₁</a> <a id="12891" href="/lia/part1/NormalForms/#12841" class="Bound">ϱ</a> <a id="12893" class="Symbol">=</a> <a id="12895" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

</div>

<h2 id="formula-size">
<a class="anchor" href="#formula-size" aria-hidden="true"><span class="octicon octicon-link"></span></a>Formula size</h2>

<p>One of the advantages of the <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> is to simplify the
structure of the formula w.r.t. negation without negatively (pun not
intended) impacting its size. As we will see, stronger normal forms such
as <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> , <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> , and <a href="#CNF"><code class="language-plaintext highlighter-rouge">CNF</code></a> unavoidably cause
an exponential blowup in the formula size.</p>

<p>There are many ways to assign a size to a formula. We assign size one to
atomic formulas <a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> ,
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> , and
<a href="../../part1/Semantics#Formula.%60_"><code class="language-plaintext highlighter-rouge">`_</code></a> , and the size of
non-atomic formulas is the sum of the sizes of their immediate
subformulas increased by one:</p>

<pre class="Agda"><a id="size"></a><a id="13563" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13568" class="Symbol">:</a> <a id="13570" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a> <a id="13578" class="Symbol">→</a> <a id="13580" href="/lia/part0/Naturals/#177" class="Datatype">ℕ</a>
<a id="13582" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13587" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="13589" class="Symbol">=</a> <a id="13591" class="Number">1</a>
<a id="13593" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13598" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="13600" class="Symbol">=</a> <a id="13602" class="Number">1</a>
<a id="13604" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13609" class="Symbol">(</a><a id="13610" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="13612" class="Symbol">_)</a> <a id="13615" class="Symbol">=</a> <a id="13617" class="Number">1</a>
<a id="13619" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13624" class="Symbol">(</a><a id="13625" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="13627" href="/lia/part1/NormalForms/#13627" class="Bound">φ</a><a id="13628" class="Symbol">)</a> <a id="13630" class="Symbol">=</a> <a id="13632" class="Number">1</a> <a id="13634" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="13636" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13641" href="/lia/part1/NormalForms/#13627" class="Bound">φ</a>
<a id="13643" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13648" class="Symbol">(</a><a id="13649" href="/lia/part1/NormalForms/#13649" class="Bound">φ</a> <a id="13651" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="13653" href="/lia/part1/NormalForms/#13653" class="Bound">ψ</a><a id="13654" class="Symbol">)</a> <a id="13656" class="Symbol">=</a> <a id="13658" class="Number">1</a> <a id="13660" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="13662" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13667" href="/lia/part1/NormalForms/#13649" class="Bound">φ</a> <a id="13669" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="13671" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13676" href="/lia/part1/NormalForms/#13653" class="Bound">ψ</a>
<a id="13678" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13683" class="Symbol">(</a><a id="13684" href="/lia/part1/NormalForms/#13684" class="Bound">φ</a> <a id="13686" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="13688" href="/lia/part1/NormalForms/#13688" class="Bound">ψ</a><a id="13689" class="Symbol">)</a> <a id="13691" class="Symbol">=</a> <a id="13693" class="Number">1</a> <a id="13695" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="13697" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13702" href="/lia/part1/NormalForms/#13684" class="Bound">φ</a> <a id="13704" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="13706" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13711" href="/lia/part1/NormalForms/#13688" class="Bound">ψ</a>
<a id="13713" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13718" class="Symbol">(</a><a id="13719" href="/lia/part1/NormalForms/#13719" class="Bound">φ</a> <a id="13721" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="13723" href="/lia/part1/NormalForms/#13723" class="Bound">ψ</a><a id="13724" class="Symbol">)</a> <a id="13726" class="Symbol">=</a> <a id="13728" class="Number">1</a> <a id="13730" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="13732" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13737" href="/lia/part1/NormalForms/#13719" class="Bound">φ</a> <a id="13739" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="13741" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13746" href="/lia/part1/NormalForms/#13723" class="Bound">ψ</a>
<a id="13748" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13753" class="Symbol">(</a><a id="13754" href="/lia/part1/NormalForms/#13754" class="Bound">φ</a> <a id="13756" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="13758" href="/lia/part1/NormalForms/#13758" class="Bound">ψ</a><a id="13759" class="Symbol">)</a> <a id="13761" class="Symbol">=</a> <a id="13763" class="Number">1</a> <a id="13765" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="13767" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13772" href="/lia/part1/NormalForms/#13754" class="Bound">φ</a> <a id="13774" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="13776" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13781" href="/lia/part1/NormalForms/#13758" class="Bound">ψ</a></pre>

<p>In other words, the formula size is the number of nodes of the formula
seen as a tree.</p>

<div class="examplebox">

  <dl>
    <dt><span id="example:size" class="pandoc-numbering-text example"><strong>Example 1</strong></span></dt>
    <dd>The size of the previous formula <code class="language-plaintext highlighter-rouge">ψ₂ = ¬ ` p₀ ⇒ (` p₁ ⇔ ¬ ` p₂)</code>
is <code class="language-plaintext highlighter-rouge">7</code>:</dd>
  </dl>

  <pre class="Agda"><a id="14015" href="/lia/part1/NormalForms/#14015" class="Function">_</a> <a id="14017" class="Symbol">:</a> <a id="14019" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="14024" href="/lia/part1/NormalForms/#2575" class="Function">ψ₂</a> <a id="14027" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="14029" class="Number">7</a>
<a id="14031" class="Symbol">_</a> <a id="14033" class="Symbol">=</a> <a id="14035" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

  <p><span class="hidden">∎</span><span class="right-aligned">∎</span></p>

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:size-neg" class="pandoc-numbering-text exercise"><strong>Exercise 1</strong> <em>(<code class="language-plaintext highlighter-rouge">size-¬</code>)</em></span></dt>
    <dd>Prove that <a href="#size"><code class="language-plaintext highlighter-rouge">size</code></a> satisfies the following inequality:</dd>
  </dl>

  <pre class="Agda"><a id="size-¬"></a><a id="14217" href="/lia/part1/NormalForms/#14217" class="Function">size-¬</a> <a id="14224" class="Symbol">:</a> <a id="14226" class="Symbol">∀</a> <a id="14228" href="/lia/part1/NormalForms/#14228" class="Bound">φ</a> <a id="14230" class="Symbol">→</a> <a id="14232" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="14237" href="/lia/part1/NormalForms/#14228" class="Bound">φ</a> <a id="14239" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="14241" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="14246" class="Symbol">(</a><a id="14247" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="14249" href="/lia/part1/NormalForms/#14228" class="Bound">φ</a><a id="14250" class="Symbol">)</a></pre>

  <p>(This will be used below.) <span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:size-neg-solution)
:::::::
-->

</div>

<p>We need to find an estimate of the formula size blowup incurred by
<a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a> . First of all, an equality of the form
<code class="language-plaintext highlighter-rouge">size (wnnf φ) ≡ e</code> where <code class="language-plaintext highlighter-rouge">e</code> is some simple arithmetic function of
<code class="language-plaintext highlighter-rouge">size φ</code> will not work, since there are formulas of the same size for
which the size of their <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> differ, such as <code class="language-plaintext highlighter-rouge">¬ ¬ ` p₀</code>
and <code class="language-plaintext highlighter-rouge">` p₀ ∧ ` p₁</code> (both of size 3), whose <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> have size
1 and, resp., 3.</p>

<p>We thus need to guess an inequality <code class="language-plaintext highlighter-rouge">size (wnnf φ) ≤ e</code>. We make an
“educated guess” and assume that the <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> satisfies an
inequality of the form</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>size (wnnf φ) ≤ a * size φ + b,
</code></pre></div></div>

<p>where <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">b</code> are integer parameters whose values have to be found.
We now setup some constraints on <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">b</code> based on the shape of <code class="language-plaintext highlighter-rouge">φ</code>.
When <code class="language-plaintext highlighter-rouge">φ ≡ ⊥</code> is an atomic formula, we have
<code class="language-plaintext highlighter-rouge">size (wnnf ⊥) ≤ a * size ⊥ + b</code>, yielding the constraint (since
<code class="language-plaintext highlighter-rouge">wnnf ⊥ ≡ ⊥</code> and <code class="language-plaintext highlighter-rouge">size ⊥ ≡ 1</code>)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1 ≤ a + b.
</code></pre></div></div>

<p>The same constraint is obtained for the cases <code class="language-plaintext highlighter-rouge">φ ≡ ⊤</code> and <code class="language-plaintext highlighter-rouge">φ ≡ ` p</code>.
When <code class="language-plaintext highlighter-rouge">φ ≡ ψ ∨ ξ</code> is a disjunction, for the l.h.s. we have
<code class="language-plaintext highlighter-rouge">size (wnnf (ψ ∨ ξ)) ≡ size (wnnf ψ ∨ wnnf ξ) ≡ 1 + size (wnnf ψ) + size (wnnf ξ)</code>
which by inductive assumption is
<code class="language-plaintext highlighter-rouge">≤ 1 + (a * size ψ + b) + (a * size ξ + b)</code>, and for the r.h.s. we have
<code class="language-plaintext highlighter-rouge">a * size (ψ ∨ ξ) + b ≡ a * (1 + size ψ + size ξ) + b</code>. Putting the two
together we must have
<code class="language-plaintext highlighter-rouge">1 + (a * size ψ + b) + (a * size ξ + b) ≤ a * (1 + size ψ + size ξ) + b</code>,
which after some simplification yields</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1 + b ≤ a.
</code></pre></div></div>

<p>The same constraint is obtained for the other binary connectives. When
<code class="language-plaintext highlighter-rouge">φ ≡ ¬ ¬ ψ</code>, for the l.h.s. we have
<code class="language-plaintext highlighter-rouge">size (wnnf (¬ ¬ ψ)) ≡ size (wnnf ψ)</code> which by inductive assumption is
<code class="language-plaintext highlighter-rouge">≤ a * size ψ + b</code>, and for the r.h.s. we have
<code class="language-plaintext highlighter-rouge">a * size (¬ ¬ ψ) + b ≡ a * (2 + size ψ) + b</code>. Putting the two together
we must have <code class="language-plaintext highlighter-rouge">a * size ψ + b ≤ a * (2 + size ψ) + b</code>, which after some
simplification yields</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0 ≤ a * 2.
</code></pre></div></div>

<p>When <code class="language-plaintext highlighter-rouge">φ ≡ ¬ (ψ ∨ ξ)</code>, for the l.h.s. we have
<code class="language-plaintext highlighter-rouge">size (wnnf (¬ (ψ ∨ ξ))) ≡ size (wnnf (¬ ψ) ∧ wnnf (¬ ξ)) ≡ 1 + size (wnnf (¬ ψ)) + size (wnnf (¬ ξ))</code>
which by inductive assumption is
<code class="language-plaintext highlighter-rouge">≤ 1 + (a * (1 + size ψ) + b) + (a * (1 + size ξ) + b)</code>, and for the
r.h.s. we have
<code class="language-plaintext highlighter-rouge">a * size (¬ (ψ ∨ ξ)) + b ≡ a * (2 + size ψ + size ξ) + b</code>. Putting the
two together we must have
<code class="language-plaintext highlighter-rouge">1 + (a * (1 + size ψ) + b) + (a * (1 + size ξ) + b) ≤ a * (2 + size ψ + size ξ) + b</code>,
which after some simplification yields</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1 + b ≤ 0.
</code></pre></div></div>

<p>The same constraint is obtained in the dual case <code class="language-plaintext highlighter-rouge">φ ≡ ¬ (ψ ∧ ξ)</code>. When
<code class="language-plaintext highlighter-rouge">φ ≡ ¬ (ψ ⇒ ξ)</code>, for the l.h.s. we have
<code class="language-plaintext highlighter-rouge">size (wnnf (¬ (ψ ⇒ ξ))) ≡ size (wnnf ψ ∧ wnnf (¬ ξ)) ≡ 1 + size (wnnf ψ) + size (wnnf (¬ ξ))</code>
which by inductive assumption is
<code class="language-plaintext highlighter-rouge">≤ 1 + (a * size ψ + b) + (a * (1 + size ξ) + b)</code>, and for the r.h.s. we
have <code class="language-plaintext highlighter-rouge">a * size (¬ (ψ ⇒ ξ)) + b ≡ a * (2 + size ψ + size ξ) + b</code>. Putting
the two together we must have
<code class="language-plaintext highlighter-rouge">1 + (a * size ψ + b) + (a * (1 + size ξ) + b) ≤ a * (2 + size ψ + size ξ) + b</code>,
which after some simplification yields</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1 + b ≤ a.
</code></pre></div></div>

<p>The same constraint is obtained in the case <code class="language-plaintext highlighter-rouge">φ ≡ ¬ (ψ ⇔ ξ)</code>. The optimal
solution for all the constraints above is <code class="language-plaintext highlighter-rouge">a ≡ 2</code> and <code class="language-plaintext highlighter-rouge">b ≡ - 1</code>. An
analogous analysis for negated formulas can be carried out. Altogether,
this yields the following inductive statements:</p>

<pre class="Agda"><a id="wnnf-size"></a><a id="17635" href="/lia/part1/NormalForms/#17635" class="Function">wnnf-size</a> <a id="17645" class="Symbol">:</a> <a id="17647" class="Symbol">∀</a> <a id="17649" href="/lia/part1/NormalForms/#17649" class="Bound">φ</a> <a id="17651" class="Symbol">→</a> <a id="17653" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="17658" class="Symbol">(</a><a id="17659" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="17664" href="/lia/part1/NormalForms/#17649" class="Bound">φ</a><a id="17665" class="Symbol">)</a> <a id="17667" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="17669" class="Number">2</a> <a id="17671" href="/lia/part0/Naturals/#4274" class="Function Operator">*</a> <a id="17673" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="17678" href="/lia/part1/NormalForms/#17649" class="Bound">φ</a> <a id="17680" href="/lia/part0/Naturals/#4823" class="Function Operator">∸</a> <a id="17682" class="Number">1</a>
<a id="wnnf-size-¬"></a><a id="17684" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size-¬</a> <a id="17696" class="Symbol">:</a> <a id="17698" class="Symbol">∀</a> <a id="17700" href="/lia/part1/NormalForms/#17700" class="Bound">φ</a> <a id="17702" class="Symbol">→</a> <a id="17704" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="17709" class="Symbol">(</a><a id="17710" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="17715" class="Symbol">(</a><a id="17716" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="17718" href="/lia/part1/NormalForms/#17700" class="Bound">φ</a><a id="17719" class="Symbol">))</a> <a id="17722" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="17724" class="Number">2</a> <a id="17726" href="/lia/part0/Naturals/#4274" class="Function Operator">*</a> <a id="17728" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="17733" href="/lia/part1/NormalForms/#17700" class="Bound">φ</a></pre>

<div class="introbox">

  <p>For negated formulas, <a href="#wnnf-size-%C2%AC"><code class="language-plaintext highlighter-rouge">wnnf-size-¬</code></a> provides an upper
bound stronger than <a href="#wnnf-size"><code class="language-plaintext highlighter-rouge">wnnf-size</code></a> . The proof proceeds by
structural induction using some elementary arithmetical facts.
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="17945" class="Keyword">postulate</a>
  <a id="size-reasoning"></a><a id="17957" href="/lia/part1/NormalForms/#17957" class="Postulate">size-reasoning</a> <a id="17972" class="Symbol">:</a> <a id="17974" class="Symbol">∀</a> <a id="17976" class="Symbol">{</a><a id="17977" href="/lia/part1/NormalForms/#17977" class="Bound">a</a> <a id="17979" href="/lia/part1/NormalForms/#17979" class="Bound">b</a><a id="17980" class="Symbol">}</a> <a id="17982" href="/lia/part1/NormalForms/#17982" class="Bound">c</a> <a id="17984" href="/lia/part1/NormalForms/#17984" class="Bound">d</a> <a id="17986" class="Symbol">→</a>
    <a id="17992" href="/lia/part1/NormalForms/#17977" class="Bound">a</a> <a id="17994" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="17996" class="Number">2</a> <a id="17998" href="/lia/part0/Naturals/#4274" class="Function Operator">*</a> <a id="18000" href="/lia/part1/NormalForms/#17982" class="Bound">c</a> <a id="18002" href="/lia/part0/Naturals/#4823" class="Function Operator">∸</a> <a id="18004" class="Number">1</a> <a id="18006" class="Symbol">→</a>
    <a id="18012" href="/lia/part1/NormalForms/#17979" class="Bound">b</a> <a id="18014" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="18016" class="Number">2</a> <a id="18018" href="/lia/part0/Naturals/#4274" class="Function Operator">*</a> <a id="18020" href="/lia/part1/NormalForms/#17984" class="Bound">d</a> <a id="18022" href="/lia/part0/Naturals/#4823" class="Function Operator">∸</a> <a id="18024" class="Number">1</a> <a id="18026" class="Symbol">→</a>
    <a id="18032" class="Comment">-------------------------------</a>
    <a id="18068" class="Number">1</a> <a id="18070" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="18072" href="/lia/part1/NormalForms/#17977" class="Bound">a</a> <a id="18074" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="18076" href="/lia/part1/NormalForms/#17979" class="Bound">b</a> <a id="18078" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="18080" class="Number">2</a> <a id="18082" href="/lia/part0/Naturals/#4274" class="Function Operator">*</a> <a id="18084" class="Symbol">(</a><a id="18085" class="Number">1</a> <a id="18087" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="18089" href="/lia/part1/NormalForms/#17982" class="Bound">c</a> <a id="18091" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="18093" href="/lia/part1/NormalForms/#17984" class="Bound">d</a><a id="18094" class="Symbol">)</a> <a id="18096" href="/lia/part0/Naturals/#4823" class="Function Operator">∸</a> <a id="18098" class="Number">1</a>

  <a id="size-reasoning-¬1"></a><a id="18103" href="/lia/part1/NormalForms/#18103" class="Postulate">size-reasoning-¬1</a> <a id="18121" class="Symbol">:</a> <a id="18123" class="Symbol">∀</a> <a id="18125" class="Symbol">{</a><a id="18126" href="/lia/part1/NormalForms/#18126" class="Bound">a</a> <a id="18128" href="/lia/part1/NormalForms/#18128" class="Bound">b</a><a id="18129" class="Symbol">}</a> <a id="18131" href="/lia/part1/NormalForms/#18131" class="Bound">c</a> <a id="18133" href="/lia/part1/NormalForms/#18133" class="Bound">d</a> <a id="18135" class="Symbol">→</a>
    <a id="18141" href="/lia/part1/NormalForms/#18126" class="Bound">a</a> <a id="18143" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="18145" class="Number">2</a> <a id="18147" href="/lia/part0/Naturals/#4274" class="Function Operator">*</a> <a id="18149" href="/lia/part1/NormalForms/#18131" class="Bound">c</a> <a id="18151" class="Symbol">→</a>
    <a id="18157" href="/lia/part1/NormalForms/#18128" class="Bound">b</a> <a id="18159" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="18161" class="Number">2</a> <a id="18163" href="/lia/part0/Naturals/#4274" class="Function Operator">*</a> <a id="18165" href="/lia/part1/NormalForms/#18133" class="Bound">d</a> <a id="18167" class="Symbol">→</a>
    <a id="18173" class="Comment">---------------------------</a>
    <a id="18205" class="Number">1</a> <a id="18207" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="18209" href="/lia/part1/NormalForms/#18126" class="Bound">a</a> <a id="18211" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="18213" href="/lia/part1/NormalForms/#18128" class="Bound">b</a> <a id="18215" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="18217" class="Number">2</a> <a id="18219" href="/lia/part0/Naturals/#4274" class="Function Operator">*</a> <a id="18221" class="Symbol">(</a><a id="18222" class="Number">1</a> <a id="18224" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="18226" href="/lia/part1/NormalForms/#18131" class="Bound">c</a> <a id="18228" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="18230" href="/lia/part1/NormalForms/#18133" class="Bound">d</a><a id="18231" class="Symbol">)</a>

  <a id="size-reasoning-¬2"></a><a id="18236" href="/lia/part1/NormalForms/#18236" class="Postulate">size-reasoning-¬2</a> <a id="18254" class="Symbol">:</a> <a id="18256" class="Symbol">∀</a> <a id="18258" class="Symbol">{</a><a id="18259" href="/lia/part1/NormalForms/#18259" class="Bound">a</a> <a id="18261" href="/lia/part1/NormalForms/#18261" class="Bound">b</a><a id="18262" class="Symbol">}</a> <a id="18264" href="/lia/part1/NormalForms/#18264" class="Bound">c</a> <a id="18266" href="/lia/part1/NormalForms/#18266" class="Bound">d</a> <a id="18268" class="Symbol">→</a>
    <a id="18274" href="/lia/part1/NormalForms/#18259" class="Bound">a</a> <a id="18276" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="18278" class="Number">2</a> <a id="18280" href="/lia/part0/Naturals/#4274" class="Function Operator">*</a> <a id="18282" href="/lia/part1/NormalForms/#18264" class="Bound">c</a> <a id="18284" href="/lia/part0/Naturals/#4823" class="Function Operator">∸</a> <a id="18286" class="Number">1</a> <a id="18288" class="Symbol">→</a>
    <a id="18294" href="/lia/part1/NormalForms/#18261" class="Bound">b</a> <a id="18296" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="18298" class="Number">2</a> <a id="18300" href="/lia/part0/Naturals/#4274" class="Function Operator">*</a> <a id="18302" href="/lia/part1/NormalForms/#18266" class="Bound">d</a> <a id="18304" class="Symbol">→</a>
    <a id="18310" class="Comment">---------------------------</a>
    <a id="18342" class="Number">1</a> <a id="18344" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="18346" href="/lia/part1/NormalForms/#18259" class="Bound">a</a> <a id="18348" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="18350" href="/lia/part1/NormalForms/#18261" class="Bound">b</a> <a id="18352" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="18354" class="Number">2</a> <a id="18356" href="/lia/part0/Naturals/#4274" class="Function Operator">*</a> <a id="18358" class="Symbol">(</a><a id="18359" class="Number">1</a> <a id="18361" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="18363" href="/lia/part1/NormalForms/#18264" class="Bound">c</a> <a id="18365" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="18367" href="/lia/part1/NormalForms/#18266" class="Bound">d</a><a id="18368" class="Symbol">)</a></pre>

  <p>The base cases for <a href="#wnnf-size"><code class="language-plaintext highlighter-rouge">wnnf-size</code></a> are immediate:</p>

  <pre class="Agda"><a id="18430" href="/lia/part1/NormalForms/#17635" class="Function">wnnf-size</a> <a id="18440" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="18442" class="Symbol">=</a> <a id="18444" href="/lia/part0/Naturals/#662" class="InductiveConstructor">s≤s</a> <a id="18448" href="/lia/part0/Naturals/#633" class="InductiveConstructor">0≤n</a>
<a id="18452" href="/lia/part1/NormalForms/#17635" class="Function">wnnf-size</a> <a id="18462" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="18464" class="Symbol">=</a> <a id="18466" href="/lia/part0/Naturals/#662" class="InductiveConstructor">s≤s</a> <a id="18470" href="/lia/part0/Naturals/#633" class="InductiveConstructor">0≤n</a>
<a id="18474" href="/lia/part1/NormalForms/#17635" class="Function">wnnf-size</a> <a id="18484" class="Symbol">(</a><a id="18485" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="18487" href="/lia/part1/NormalForms/#18487" class="Bound">p</a><a id="18488" class="Symbol">)</a> <a id="18490" class="Symbol">=</a> <a id="18492" href="/lia/part0/Naturals/#662" class="InductiveConstructor">s≤s</a> <a id="18496" href="/lia/part0/Naturals/#633" class="InductiveConstructor">0≤n</a></pre>

  <p>In the case of negation, we rely on <a href="#wnnf-size-%C2%AC"><code class="language-plaintext highlighter-rouge">wnnf-size-¬</code></a> :</p>

  <pre class="Agda"><a id="18565" href="/lia/part1/NormalForms/#17635" class="Function">wnnf-size</a> <a id="18575" class="Symbol">(</a><a id="18576" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="18578" href="/lia/part1/NormalForms/#18578" class="Bound">φ</a><a id="18579" class="Symbol">)</a>
  <a id="18583" class="Keyword">with</a> <a id="18588" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size-¬</a> <a id="18600" href="/lia/part1/NormalForms/#18578" class="Bound">φ</a>
<a id="18602" class="Symbol">...</a> <a id="18606" class="Symbol">|</a> <a id="18608" href="/lia/part1/NormalForms/#18608" class="Bound">ind¬φ</a> <a id="18614" class="Symbol">=</a> <a id="18616" href="/lia/part0/Naturals/#2483" class="Function Operator">begin≤</a>
  <a id="18625" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="18630" class="Symbol">(</a><a id="18631" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="18636" class="Symbol">(</a><a id="18637" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="18639" class="Bound">φ</a><a id="18640" class="Symbol">))</a> <a id="18643" href="/lia/part0/Naturals/#2750" class="Function Operator">≤⟨</a> <a id="18646" href="/lia/part1/NormalForms/#18608" class="Bound">ind¬φ</a> <a id="18652" href="/lia/part0/Naturals/#2750" class="Function Operator">⟩</a>
  <a id="18656" class="Number">2</a> <a id="18658" href="/lia/part0/Naturals/#4274" class="Function Operator">*</a> <a id="18660" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="18665" class="Bound">φ</a> <a id="18667" href="/lia/part0/Naturals/#2750" class="Function Operator">≤⟨</a> <a id="18670" href="/lia/part0/Naturals/#1272" class="Function">n≤sucn</a> <a id="18677" href="/lia/part0/Naturals/#2750" class="Function Operator">⟩</a>
  <a id="18681" href="/lia/part0/Naturals/#204" class="InductiveConstructor">suc</a> <a id="18685" class="Symbol">(</a><a id="18686" class="Number">2</a> <a id="18688" href="/lia/part0/Naturals/#4274" class="Function Operator">*</a> <a id="18690" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="18695" class="Bound">φ</a><a id="18696" class="Symbol">)</a> <a id="18698" href="/lia/part0/Naturals/#3182" class="Function Operator">≤≡⟨</a> <a id="18702" href="/lia/part0/Naturals/#4045" class="Postulate">sucm+n≡m+sucn</a> <a id="18716" class="Symbol">{</a><a id="18717" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="18722" class="Bound">φ</a><a id="18723" class="Symbol">}</a> <a id="18725" class="Symbol">{</a><a id="18726" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="18731" class="Bound">φ</a><a id="18732" class="Symbol">}</a> <a id="18734" href="/lia/part0/Naturals/#3182" class="Function Operator">⟩</a>
  <a id="18738" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="18743" class="Bound">φ</a> <a id="18745" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="18747" href="/lia/part0/Naturals/#204" class="InductiveConstructor">suc</a> <a id="18751" class="Symbol">(</a><a id="18752" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="18757" class="Bound">φ</a><a id="18758" class="Symbol">)</a> <a id="18760" href="/lia/part0/Naturals/#3296" class="Function Operator">∎≤</a></pre>

  <p>For disjunctions, we provide a complete analysis:</p>

  <pre class="Agda"><a id="18823" href="/lia/part1/NormalForms/#17635" class="Function">wnnf-size</a> <a id="18833" class="Symbol">(</a><a id="18834" href="/lia/part1/NormalForms/#18834" class="Bound">φ</a> <a id="18836" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="18838" href="/lia/part1/NormalForms/#18838" class="Bound">ψ</a><a id="18839" class="Symbol">)</a>
  <a id="18843" class="Keyword">with</a> <a id="18848" href="/lia/part1/NormalForms/#17635" class="Function">wnnf-size</a> <a id="18858" href="/lia/part1/NormalForms/#18834" class="Bound">φ</a> <a id="18860" class="Symbol">|</a> <a id="18862" href="/lia/part1/NormalForms/#17635" class="Function">wnnf-size</a> <a id="18872" href="/lia/part1/NormalForms/#18838" class="Bound">ψ</a>
<a id="18874" class="Symbol">...</a> <a id="18878" class="Symbol">|</a> <a id="18880" href="/lia/part1/NormalForms/#18880" class="Bound">indφ</a> <a id="18885" class="Symbol">|</a> <a id="18887" href="/lia/part1/NormalForms/#18887" class="Bound">indψ</a> <a id="18892" class="Symbol">=</a> <a id="18894" href="/lia/part0/Naturals/#2483" class="Function Operator">begin≤</a>
   <a id="18904" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="18909" class="Symbol">(</a><a id="18910" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="18915" class="Symbol">(</a><a id="18916" class="Bound">φ</a> <a id="18918" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="18920" class="Bound">ψ</a><a id="18921" class="Symbol">))</a> <a id="18924" href="/lia/part0/Naturals/#2583" class="Function Operator">≤⟨⟩</a>
   <a id="18931" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="18936" class="Symbol">(</a><a id="18937" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="18942" class="Bound">φ</a> <a id="18944" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="18946" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="18951" class="Bound">ψ</a><a id="18952" class="Symbol">)</a> <a id="18954" href="/lia/part0/Naturals/#2583" class="Function Operator">≤⟨⟩</a>
   <a id="18961" class="Number">1</a> <a id="18963" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="18965" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="18970" class="Symbol">(</a><a id="18971" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="18976" class="Bound">φ</a><a id="18977" class="Symbol">)</a> <a id="18979" href="/lia/part0/Naturals/#3664" class="Function Operator">+</a> <a id="18981" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="18986" class="Symbol">(</a><a id="18987" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="18992" class="Bound">ψ</a><a id="18993" class="Symbol">)</a> <a id="18995" href="/lia/part0/Naturals/#2750" class="Function Operator">≤⟨</a> <a id="18998" href="/lia/part1/NormalForms/#17957" class="Postulate">size-reasoning</a> <a id="19013" class="Symbol">(</a><a id="19014" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19019" class="Bound">φ</a><a id="19020" class="Symbol">)</a> <a id="19022" class="Symbol">(</a><a id="19023" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19028" class="Bound">ψ</a><a id="19029" class="Symbol">)</a> <a id="19031" href="/lia/part1/NormalForms/#18880" class="Bound">indφ</a> <a id="19036" href="/lia/part1/NormalForms/#18887" class="Bound">indψ</a> <a id="19041" href="/lia/part0/Naturals/#2750" class="Function Operator">⟩</a>
   <a id="19046" class="Number">2</a> <a id="19048" href="/lia/part0/Naturals/#4274" class="Function Operator">*</a> <a id="19050" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19055" class="Symbol">(</a><a id="19056" class="Bound">φ</a> <a id="19058" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="19060" class="Bound">ψ</a><a id="19061" class="Symbol">)</a> <a id="19063" href="/lia/part0/Naturals/#4823" class="Function Operator">∸</a> <a id="19065" class="Number">1</a> <a id="19067" href="/lia/part0/Naturals/#3296" class="Function Operator">∎≤</a></pre>

  <p>The last three cases are similar and we give them in a shortened form:</p>

  <pre class="Agda"><a id="19151" href="/lia/part1/NormalForms/#17635" class="Function">wnnf-size</a> <a id="19161" class="Symbol">(</a><a id="19162" href="/lia/part1/NormalForms/#19162" class="Bound">φ</a> <a id="19164" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="19166" href="/lia/part1/NormalForms/#19166" class="Bound">ψ</a><a id="19167" class="Symbol">)</a> <a id="19169" class="Symbol">=</a> <a id="19171" href="/lia/part1/NormalForms/#17957" class="Postulate">size-reasoning</a> <a id="19186" class="Symbol">(</a><a id="19187" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19192" href="/lia/part1/NormalForms/#19162" class="Bound">φ</a><a id="19193" class="Symbol">)</a> <a id="19195" class="Symbol">(</a><a id="19196" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19201" href="/lia/part1/NormalForms/#19166" class="Bound">ψ</a><a id="19202" class="Symbol">)</a> <a id="19204" class="Symbol">(</a><a id="19205" href="/lia/part1/NormalForms/#17635" class="Function">wnnf-size</a> <a id="19215" href="/lia/part1/NormalForms/#19162" class="Bound">φ</a><a id="19216" class="Symbol">)</a> <a id="19218" class="Symbol">(</a><a id="19219" href="/lia/part1/NormalForms/#17635" class="Function">wnnf-size</a> <a id="19229" href="/lia/part1/NormalForms/#19166" class="Bound">ψ</a><a id="19230" class="Symbol">)</a>
<a id="19232" href="/lia/part1/NormalForms/#17635" class="Function">wnnf-size</a> <a id="19242" class="Symbol">(</a><a id="19243" href="/lia/part1/NormalForms/#19243" class="Bound">φ</a> <a id="19245" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="19247" href="/lia/part1/NormalForms/#19247" class="Bound">ψ</a><a id="19248" class="Symbol">)</a> <a id="19250" class="Symbol">=</a> <a id="19252" href="/lia/part1/NormalForms/#17957" class="Postulate">size-reasoning</a> <a id="19267" class="Symbol">(</a><a id="19268" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19273" href="/lia/part1/NormalForms/#19243" class="Bound">φ</a><a id="19274" class="Symbol">)</a> <a id="19276" class="Symbol">(</a><a id="19277" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19282" href="/lia/part1/NormalForms/#19247" class="Bound">ψ</a><a id="19283" class="Symbol">)</a> <a id="19285" class="Symbol">(</a><a id="19286" href="/lia/part1/NormalForms/#17635" class="Function">wnnf-size</a> <a id="19296" href="/lia/part1/NormalForms/#19243" class="Bound">φ</a><a id="19297" class="Symbol">)</a> <a id="19299" class="Symbol">(</a><a id="19300" href="/lia/part1/NormalForms/#17635" class="Function">wnnf-size</a> <a id="19310" href="/lia/part1/NormalForms/#19247" class="Bound">ψ</a><a id="19311" class="Symbol">)</a>
<a id="19313" href="/lia/part1/NormalForms/#17635" class="Function">wnnf-size</a> <a id="19323" class="Symbol">(</a><a id="19324" href="/lia/part1/NormalForms/#19324" class="Bound">φ</a> <a id="19326" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="19328" href="/lia/part1/NormalForms/#19328" class="Bound">ψ</a><a id="19329" class="Symbol">)</a> <a id="19331" class="Symbol">=</a> <a id="19333" href="/lia/part1/NormalForms/#17957" class="Postulate">size-reasoning</a> <a id="19348" class="Symbol">(</a><a id="19349" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19354" href="/lia/part1/NormalForms/#19324" class="Bound">φ</a><a id="19355" class="Symbol">)</a> <a id="19357" class="Symbol">(</a><a id="19358" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19363" href="/lia/part1/NormalForms/#19328" class="Bound">ψ</a><a id="19364" class="Symbol">)</a> <a id="19366" class="Symbol">(</a><a id="19367" href="/lia/part1/NormalForms/#17635" class="Function">wnnf-size</a> <a id="19377" href="/lia/part1/NormalForms/#19324" class="Bound">φ</a><a id="19378" class="Symbol">)</a> <a id="19380" class="Symbol">(</a><a id="19381" href="/lia/part1/NormalForms/#17635" class="Function">wnnf-size</a> <a id="19391" href="/lia/part1/NormalForms/#19328" class="Bound">ψ</a><a id="19392" class="Symbol">)</a></pre>

  <p>The base cases for <a href="#wnnf-size-%C2%AC"><code class="language-plaintext highlighter-rouge">wnnf-size-¬</code></a> are immediate:</p>

  <pre class="Agda"><a id="19456" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size-¬</a> <a id="19468" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="19470" class="Symbol">=</a> <a id="19472" href="/lia/part0/Naturals/#662" class="InductiveConstructor">s≤s</a> <a id="19476" href="/lia/part0/Naturals/#633" class="InductiveConstructor">0≤n</a>
<a id="19480" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size-¬</a> <a id="19492" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="19494" class="Symbol">=</a> <a id="19496" href="/lia/part0/Naturals/#662" class="InductiveConstructor">s≤s</a> <a id="19500" href="/lia/part0/Naturals/#633" class="InductiveConstructor">0≤n</a>
<a id="19504" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size-¬</a> <a id="19516" class="Symbol">(</a><a id="19517" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="19519" href="/lia/part1/NormalForms/#19519" class="Bound">p</a><a id="19520" class="Symbol">)</a> <a id="19522" class="Symbol">=</a> <a id="19524" href="/lia/part0/Naturals/#662" class="InductiveConstructor">s≤s</a> <a id="19528" class="Symbol">(</a><a id="19529" href="/lia/part0/Naturals/#662" class="InductiveConstructor">s≤s</a> <a id="19533" href="/lia/part0/Naturals/#633" class="InductiveConstructor">0≤n</a><a id="19536" class="Symbol">)</a></pre>

  <p>In the case of negation, since a double negation is eliminated, we rely
on <a href="#wnnf-size"><code class="language-plaintext highlighter-rouge">wnnf-size</code></a> :</p>

  <pre class="Agda"><a id="19640" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size-¬</a> <a id="19652" class="Symbol">(</a><a id="19653" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="19655" href="/lia/part1/NormalForms/#19655" class="Bound">φ</a><a id="19656" class="Symbol">)</a>
  <a id="19660" class="Keyword">with</a> <a id="19665" href="/lia/part1/NormalForms/#17635" class="Function">wnnf-size</a> <a id="19675" href="/lia/part1/NormalForms/#19655" class="Bound">φ</a>
<a id="19677" class="Symbol">...</a> <a id="19681" class="Symbol">|</a> <a id="19683" href="/lia/part1/NormalForms/#19683" class="Bound">indφ</a> <a id="19688" class="Symbol">=</a> <a id="19690" href="/lia/part0/Naturals/#2483" class="Function Operator">begin≤</a>
  <a id="19699" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19704" class="Symbol">(</a><a id="19705" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="19710" class="Bound">φ</a><a id="19711" class="Symbol">)</a> <a id="19713" href="/lia/part0/Naturals/#2750" class="Function Operator">≤⟨</a> <a id="19716" href="/lia/part1/NormalForms/#19683" class="Bound">indφ</a> <a id="19721" href="/lia/part0/Naturals/#2750" class="Function Operator">⟩</a>
  <a id="19725" class="Number">2</a> <a id="19727" href="/lia/part0/Naturals/#4274" class="Function Operator">*</a> <a id="19729" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19734" class="Bound">φ</a> <a id="19736" href="/lia/part0/Naturals/#4823" class="Function Operator">∸</a> <a id="19738" class="Number">1</a> <a id="19740" href="/lia/part0/Naturals/#2750" class="Function Operator">≤⟨</a> <a id="19743" href="/lia/part0/Naturals/#5175" class="Function">m∸n≤m</a> <a id="19749" class="Symbol">(</a><a id="19750" class="Number">2</a> <a id="19752" href="/lia/part0/Naturals/#4274" class="Function Operator">*</a> <a id="19754" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19759" class="Bound">φ</a><a id="19760" class="Symbol">)</a> <a id="19762" class="Number">1</a> <a id="19764" href="/lia/part0/Naturals/#2750" class="Function Operator">⟩</a>
  <a id="19768" class="Number">2</a> <a id="19770" href="/lia/part0/Naturals/#4274" class="Function Operator">*</a> <a id="19772" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19777" class="Bound">φ</a> <a id="19779" href="/lia/part0/Naturals/#2750" class="Function Operator">≤⟨</a> <a id="19782" href="/lia/part0/Naturals/#6260" class="Postulate">cong-≤</a> <a id="19789" class="Symbol">(</a><a id="19790" href="/lia/part0/Naturals/#5753" class="InductiveConstructor">Num</a> <a id="19794" class="Number">2</a> <a id="19796" href="/lia/part0/Naturals/#5818" class="InductiveConstructor Operator">*C</a> <a id="19799" href="/lia/part0/Naturals/#5742" class="InductiveConstructor">□</a><a id="19800" class="Symbol">)</a> <a id="19802" class="Symbol">(</a><a id="19803" href="/lia/part1/NormalForms/#14217" class="Function">size-¬</a> <a id="19810" class="Bound">φ</a><a id="19811" class="Symbol">)</a> <a id="19813" href="/lia/part0/Naturals/#2750" class="Function Operator">⟩</a>
  <a id="19817" class="Number">2</a> <a id="19819" href="/lia/part0/Naturals/#4274" class="Function Operator">*</a> <a id="19821" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19826" class="Symbol">(</a><a id="19827" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="19829" class="Bound">φ</a><a id="19830" class="Symbol">)</a> <a id="19832" href="/lia/part0/Naturals/#3296" class="Function Operator">∎≤</a></pre>

  <p>The cases of binary connectives are also simple:</p>

  <pre class="Agda"><a id="19894" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size-¬</a> <a id="19906" class="Symbol">(</a><a id="19907" href="/lia/part1/NormalForms/#19907" class="Bound">φ</a> <a id="19909" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="19911" href="/lia/part1/NormalForms/#19911" class="Bound">ψ</a><a id="19912" class="Symbol">)</a> <a id="19914" class="Symbol">=</a> <a id="19916" href="/lia/part1/NormalForms/#18103" class="Postulate">size-reasoning-¬1</a> <a id="19934" class="Symbol">(</a><a id="19935" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19940" href="/lia/part1/NormalForms/#19907" class="Bound">φ</a><a id="19941" class="Symbol">)</a> <a id="19943" class="Symbol">(</a><a id="19944" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19949" href="/lia/part1/NormalForms/#19911" class="Bound">ψ</a><a id="19950" class="Symbol">)</a> <a id="19952" class="Symbol">(</a><a id="19953" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size-¬</a> <a id="19965" href="/lia/part1/NormalForms/#19907" class="Bound">φ</a><a id="19966" class="Symbol">)</a> <a id="19968" class="Symbol">(</a><a id="19969" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size-¬</a> <a id="19981" href="/lia/part1/NormalForms/#19911" class="Bound">ψ</a><a id="19982" class="Symbol">)</a>
<a id="19984" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size-¬</a> <a id="19996" class="Symbol">(</a><a id="19997" href="/lia/part1/NormalForms/#19997" class="Bound">φ</a> <a id="19999" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="20001" href="/lia/part1/NormalForms/#20001" class="Bound">ψ</a><a id="20002" class="Symbol">)</a> <a id="20004" class="Symbol">=</a> <a id="20006" href="/lia/part1/NormalForms/#18103" class="Postulate">size-reasoning-¬1</a> <a id="20024" class="Symbol">(</a><a id="20025" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="20030" href="/lia/part1/NormalForms/#19997" class="Bound">φ</a><a id="20031" class="Symbol">)</a> <a id="20033" class="Symbol">(</a><a id="20034" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="20039" href="/lia/part1/NormalForms/#20001" class="Bound">ψ</a><a id="20040" class="Symbol">)</a> <a id="20042" class="Symbol">(</a><a id="20043" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size-¬</a> <a id="20055" href="/lia/part1/NormalForms/#19997" class="Bound">φ</a><a id="20056" class="Symbol">)</a> <a id="20058" class="Symbol">(</a><a id="20059" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size-¬</a> <a id="20071" href="/lia/part1/NormalForms/#20001" class="Bound">ψ</a><a id="20072" class="Symbol">)</a>
<a id="20074" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size-¬</a> <a id="20086" class="Symbol">(</a><a id="20087" href="/lia/part1/NormalForms/#20087" class="Bound">φ</a> <a id="20089" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="20091" href="/lia/part1/NormalForms/#20091" class="Bound">ψ</a><a id="20092" class="Symbol">)</a> <a id="20094" class="Symbol">=</a> <a id="20096" href="/lia/part1/NormalForms/#18236" class="Postulate">size-reasoning-¬2</a> <a id="20114" class="Symbol">(</a><a id="20115" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="20120" href="/lia/part1/NormalForms/#20087" class="Bound">φ</a><a id="20121" class="Symbol">)</a> <a id="20123" class="Symbol">(</a><a id="20124" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="20129" href="/lia/part1/NormalForms/#20091" class="Bound">ψ</a><a id="20130" class="Symbol">)</a> <a id="20132" class="Symbol">(</a><a id="20133" href="/lia/part1/NormalForms/#17635" class="Function">wnnf-size</a> <a id="20143" href="/lia/part1/NormalForms/#20087" class="Bound">φ</a><a id="20144" class="Symbol">)</a> <a id="20146" class="Symbol">(</a><a id="20147" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size-¬</a> <a id="20159" href="/lia/part1/NormalForms/#20091" class="Bound">ψ</a><a id="20160" class="Symbol">)</a>
<a id="20162" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size-¬</a> <a id="20174" class="Symbol">(</a><a id="20175" href="/lia/part1/NormalForms/#20175" class="Bound">φ</a> <a id="20177" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="20179" href="/lia/part1/NormalForms/#20179" class="Bound">ψ</a><a id="20180" class="Symbol">)</a> <a id="20182" class="Symbol">=</a> <a id="20184" href="/lia/part1/NormalForms/#18236" class="Postulate">size-reasoning-¬2</a> <a id="20202" class="Symbol">(</a><a id="20203" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="20208" href="/lia/part1/NormalForms/#20175" class="Bound">φ</a><a id="20209" class="Symbol">)</a> <a id="20211" class="Symbol">(</a><a id="20212" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="20217" href="/lia/part1/NormalForms/#20179" class="Bound">ψ</a><a id="20218" class="Symbol">)</a> <a id="20220" class="Symbol">(</a><a id="20221" href="/lia/part1/NormalForms/#17635" class="Function">wnnf-size</a> <a id="20231" href="/lia/part1/NormalForms/#20175" class="Bound">φ</a><a id="20232" class="Symbol">)</a> <a id="20234" class="Symbol">(</a><a id="20235" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size-¬</a> <a id="20247" href="/lia/part1/NormalForms/#20179" class="Bound">ψ</a><a id="20248" class="Symbol">)</a></pre>

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:wnnf-tight" class="pandoc-numbering-text exercise"><strong>Exercise 2</strong></span></dt>
    <dd>On which kind of formulas does the <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> translation
performed by <a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a> achieve maximal blow-up? Is the bound
provided by <a href="#wnnf-size-%C2%AC"><code class="language-plaintext highlighter-rouge">wnnf-size-¬</code></a> tight? <span class="hidden">∎</span> <span class="right-aligned">∎</span>
</dd>
  </dl>

  <!--
::::::: {.solutionlink}
[solution](#exercise:wnnf-tight-solution)
:::::::
-->

</div>

<h1 id="NNF">
<a class="anchor" href="#NNF" aria-hidden="true"><span class="octicon octicon-link"></span></a>Negation normal form</h1>

<p>A propositional formula <code class="language-plaintext highlighter-rouge">φ</code> is in <em>negation normal form</em> (NNF) if it
uses only the connectives <a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> ,
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> ,
<a href="../../part1/Semantics#Formula.%C2%AC_"><code class="language-plaintext highlighter-rouge">¬_</code></a> ,
<a href="../../part1/Semantics#Formula._%E2%88%A8_"><code class="language-plaintext highlighter-rouge">_∨_</code></a> , and
<a href="../../part1/Semantics#Formula._%E2%88%A7_"><code class="language-plaintext highlighter-rouge">_∧_</code></a> , and negation appears only
in front of propositional variables, i.e., inside literals. In other
words, a NNF formula is a <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> without the implication
<a href="../../part1/Semantics#Formula._%E2%87%92_"><code class="language-plaintext highlighter-rouge">_⇒_</code></a> and bi-implication
<a href="../../part1/Semantics#Formula._%E2%87%94_"><code class="language-plaintext highlighter-rouge">_⇔_</code></a> connectives. This is captured
by the following definition<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote">1</a></sup>:</p>

<pre class="Agda"><a id="22398" class="Keyword">data</a> <a id="NNF"></a><a id="22403" href="/lia/part1/NormalForms/#22403" class="Datatype">NNF</a> <a id="22407" class="Symbol">:</a> <a id="22409" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a> <a id="22417" class="Symbol">→</a> <a id="22419" class="PrimitiveType">Set</a> <a id="22423" class="Keyword">where</a>
  <a id="NNF.⊤"></a><a id="22431" href="/lia/part1/NormalForms/#22431" class="InductiveConstructor">⊤</a> <a id="22433" class="Symbol">:</a> <a id="22435" href="/lia/part1/NormalForms/#22403" class="Datatype">NNF</a> <a id="22439" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a>
  <a id="NNF.⊥"></a><a id="22443" href="/lia/part1/NormalForms/#22443" class="InductiveConstructor">⊥</a> <a id="22445" class="Symbol">:</a> <a id="22447" href="/lia/part1/NormalForms/#22403" class="Datatype">NNF</a> <a id="22451" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a>
  <a id="NNF.`_"></a><a id="22455" href="/lia/part1/NormalForms/#22455" class="InductiveConstructor Operator">`_</a> <a id="22458" class="Symbol">:</a> <a id="22460" class="Symbol">(</a><a id="22461" href="/lia/part1/NormalForms/#22461" class="Bound">p</a> <a id="22463" class="Symbol">:</a> <a id="22465" href="/lia/part1/Semantics/#1069" class="Function">PropName</a><a id="22473" class="Symbol">)</a> <a id="22475" class="Symbol">→</a> <a id="22477" href="/lia/part1/NormalForms/#22403" class="Datatype">NNF</a> <a id="22481" class="Symbol">(</a><a id="22482" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="22484" href="/lia/part1/NormalForms/#22461" class="Bound">p</a><a id="22485" class="Symbol">)</a>
  <a id="NNF.¬`_"></a><a id="22489" href="/lia/part1/NormalForms/#22489" class="InductiveConstructor Operator">¬`_</a> <a id="22493" class="Symbol">:</a> <a id="22495" class="Symbol">(</a><a id="22496" href="/lia/part1/NormalForms/#22496" class="Bound">p</a> <a id="22498" class="Symbol">:</a> <a id="22500" href="/lia/part1/Semantics/#1069" class="Function">PropName</a><a id="22508" class="Symbol">)</a> <a id="22510" class="Symbol">→</a> <a id="22512" href="/lia/part1/NormalForms/#22403" class="Datatype">NNF</a> <a id="22516" class="Symbol">(</a><a id="22517" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="22519" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="22521" href="/lia/part1/NormalForms/#22496" class="Bound">p</a><a id="22522" class="Symbol">)</a>
  <a id="NNF._∧_"></a><a id="22526" href="/lia/part1/NormalForms/#22526" class="InductiveConstructor Operator">_∧_</a> <a id="22530" class="Symbol">:</a> <a id="22532" href="/lia/part1/NormalForms/#22403" class="Datatype">NNF</a> <a id="22536" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="22538" class="Symbol">→</a> <a id="22540" href="/lia/part1/NormalForms/#22403" class="Datatype">NNF</a> <a id="22544" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a> <a id="22546" class="Symbol">→</a> <a id="22548" href="/lia/part1/NormalForms/#22403" class="Datatype">NNF</a> <a id="22552" class="Symbol">(</a><a id="22553" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="22555" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="22557" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a><a id="22558" class="Symbol">)</a>
  <a id="NNF._∨_"></a><a id="22562" href="/lia/part1/NormalForms/#22562" class="InductiveConstructor Operator">_∨_</a> <a id="22566" class="Symbol">:</a> <a id="22568" href="/lia/part1/NormalForms/#22403" class="Datatype">NNF</a> <a id="22572" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="22574" class="Symbol">→</a> <a id="22576" href="/lia/part1/NormalForms/#22403" class="Datatype">NNF</a> <a id="22580" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a> <a id="22582" class="Symbol">→</a> <a id="22584" href="/lia/part1/NormalForms/#22403" class="Datatype">NNF</a> <a id="22588" class="Symbol">(</a><a id="22589" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="22591" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="22593" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a><a id="22594" class="Symbol">)</a></pre>

<p>Given a formula <code class="language-plaintext highlighter-rouge">φ</code>, we can decide whether it is in <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> or
not:</p>

<pre class="Agda"><a id="NNF?"></a><a id="22676" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="22681" class="Symbol">:</a> <a id="22683" class="Symbol">∀</a> <a id="22685" href="/lia/part1/NormalForms/#22685" class="Bound">φ</a> <a id="22687" class="Symbol">→</a> <a id="22689" href="/lia/part0/Decidable/#150" class="Datatype">Dec</a> <a id="22693" class="Symbol">(</a><a id="22694" href="/lia/part1/NormalForms/#22403" class="Datatype">NNF</a> <a id="22698" href="/lia/part1/NormalForms/#22685" class="Bound">φ</a><a id="22699" class="Symbol">)</a></pre>

<div class="introbox">

  <p>The proof works by inspecting <code class="language-plaintext highlighter-rouge">φ</code> sufficiently deeply.
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="22783" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="22788" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="22790" class="Symbol">=</a> <a id="22792" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="22796" href="/lia/part1/NormalForms/#22443" class="InductiveConstructor">⊥</a>
<a id="22798" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="22803" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="22805" class="Symbol">=</a> <a id="22807" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="22811" href="/lia/part1/NormalForms/#22431" class="InductiveConstructor">⊤</a>
<a id="22813" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="22818" class="Symbol">(</a><a id="22819" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="22821" href="/lia/part1/NormalForms/#22821" class="Bound">p</a><a id="22822" class="Symbol">)</a> <a id="22824" class="Symbol">=</a> <a id="22826" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="22830" class="Symbol">(</a><a id="22831" href="/lia/part1/NormalForms/#22455" class="InductiveConstructor Operator">`</a> <a id="22833" href="/lia/part1/NormalForms/#22821" class="Bound">p</a><a id="22834" class="Symbol">)</a>

<a id="22837" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="22842" class="Symbol">(</a><a id="22843" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="22845" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a><a id="22846" class="Symbol">)</a> <a id="22848" class="Symbol">=</a> <a id="22850" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="22853" class="Symbol">λ</a> <a id="22855" class="Symbol">()</a>
<a id="22858" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="22863" class="Symbol">(</a><a id="22864" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="22866" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a><a id="22867" class="Symbol">)</a> <a id="22869" class="Symbol">=</a> <a id="22871" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="22874" class="Symbol">λ</a> <a id="22876" class="Symbol">()</a>
<a id="22879" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="22884" class="Symbol">(</a><a id="22885" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="22887" class="Symbol">(</a><a id="22888" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="22890" href="/lia/part1/NormalForms/#22890" class="Bound">p</a><a id="22891" class="Symbol">))</a> <a id="22894" class="Symbol">=</a> <a id="22896" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="22900" class="Symbol">(</a><a id="22901" href="/lia/part1/NormalForms/#22489" class="InductiveConstructor Operator">¬`</a> <a id="22904" href="/lia/part1/NormalForms/#22890" class="Bound">p</a><a id="22905" class="Symbol">)</a>
<a id="22907" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="22912" class="Symbol">(</a><a id="22913" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="22915" class="Symbol">(</a><a id="22916" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="22918" class="Symbol">_))</a> <a id="22922" class="Symbol">=</a> <a id="22924" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="22927" class="Symbol">λ</a> <a id="22929" class="Symbol">()</a>
<a id="22932" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="22937" class="Symbol">(</a><a id="22938" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="22940" class="Symbol">(_</a> <a id="22943" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="22945" class="Symbol">_))</a> <a id="22949" class="Symbol">=</a> <a id="22951" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="22954" class="Symbol">λ</a> <a id="22956" class="Symbol">()</a>
<a id="22959" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="22964" class="Symbol">(</a><a id="22965" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="22967" class="Symbol">(_</a> <a id="22970" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="22972" class="Symbol">_))</a> <a id="22976" class="Symbol">=</a> <a id="22978" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="22981" class="Symbol">λ</a> <a id="22983" class="Symbol">()</a>
<a id="22986" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="22991" class="Symbol">(</a><a id="22992" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="22994" class="Symbol">(_</a> <a id="22997" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="22999" class="Symbol">_))</a> <a id="23003" class="Symbol">=</a> <a id="23005" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23008" class="Symbol">λ</a> <a id="23010" class="Symbol">()</a>
<a id="23013" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="23018" class="Symbol">(</a><a id="23019" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="23021" class="Symbol">(_</a> <a id="23024" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="23026" class="Symbol">_))</a> <a id="23030" class="Symbol">=</a> <a id="23032" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23035" class="Symbol">λ</a> <a id="23037" class="Symbol">()</a>

<a id="23041" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="23046" class="Symbol">(</a><a id="23047" href="/lia/part1/NormalForms/#23047" class="Bound">φ</a> <a id="23049" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="23051" href="/lia/part1/NormalForms/#23051" class="Bound">ψ</a><a id="23052" class="Symbol">)</a>
  <a id="23056" class="Keyword">with</a> <a id="23061" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="23066" href="/lia/part1/NormalForms/#23047" class="Bound">φ</a> <a id="23068" class="Symbol">|</a>
       <a id="23077" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="23082" href="/lia/part1/NormalForms/#23051" class="Bound">ψ</a>
<a id="23084" class="Symbol">...</a> <a id="23088" class="Symbol">|</a> <a id="23090" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="23094" href="/lia/part1/NormalForms/#23094" class="Bound">nnfφ</a> <a id="23099" class="Symbol">|</a> <a id="23101" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="23105" href="/lia/part1/NormalForms/#23105" class="Bound">nnfψ</a> <a id="23110" class="Symbol">=</a> <a id="23112" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="23116" class="Symbol">(</a><a id="23117" href="/lia/part1/NormalForms/#23094" class="Bound">nnfφ</a> <a id="23122" href="/lia/part1/NormalForms/#22562" class="InductiveConstructor Operator">∨</a> <a id="23124" href="/lia/part1/NormalForms/#23105" class="Bound">nnfψ</a><a id="23128" class="Symbol">)</a>
<a id="23130" class="Symbol">...</a> <a id="23134" class="Symbol">|</a> <a id="23136" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23139" href="/lia/part1/NormalForms/#23139" class="Bound">¬nnfφ</a> <a id="23145" class="Symbol">|</a> <a id="23147" class="Symbol">_</a> <a id="23149" class="Symbol">=</a> <a id="23151" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23154" class="Symbol">λ{</a> <a id="23157" class="Symbol">(</a><a id="23158" href="/lia/part1/NormalForms/#23158" class="Bound">nnfφ</a> <a id="23163" href="/lia/part1/NormalForms/#22562" class="InductiveConstructor Operator">∨</a> <a id="23165" class="Symbol">_)</a> <a id="23168" class="Symbol">→</a> <a id="23170" href="/lia/part1/NormalForms/#23139" class="Bound">¬nnfφ</a> <a id="23176" href="/lia/part1/NormalForms/#23158" class="Bound">nnfφ</a><a id="23180" class="Symbol">}</a>
<a id="23182" class="CatchallClause Symbol">...</a><a id="23185" class="CatchallClause"> </a><a id="23186" class="CatchallClause Symbol">|</a><a id="23187" class="CatchallClause"> </a><a id="23188" class="CatchallClause Symbol">_</a><a id="23189" class="CatchallClause"> </a><a id="23190" class="CatchallClause Symbol">|</a><a id="23191" class="CatchallClause"> </a><a id="23192" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="23194" class="CatchallClause"> </a><a id="23195" href="/lia/part1/NormalForms/#23195" class="CatchallClause Bound">¬nnfψ</a> <a id="23201" class="Symbol">=</a> <a id="23203" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23206" class="Symbol">λ{</a> <a id="23209" class="Symbol">(_</a> <a id="23212" href="/lia/part1/NormalForms/#22562" class="InductiveConstructor Operator">∨</a> <a id="23214" href="/lia/part1/NormalForms/#23214" class="Bound">nnfψ</a><a id="23218" class="Symbol">)</a> <a id="23220" class="Symbol">→</a> <a id="23222" href="/lia/part1/NormalForms/#23195" class="Bound">¬nnfψ</a> <a id="23228" href="/lia/part1/NormalForms/#23214" class="Bound">nnfψ</a><a id="23232" class="Symbol">}</a>

<a id="23235" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="23240" class="Symbol">(</a><a id="23241" href="/lia/part1/NormalForms/#23241" class="Bound">φ</a> <a id="23243" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="23245" href="/lia/part1/NormalForms/#23245" class="Bound">ψ</a><a id="23246" class="Symbol">)</a>
  <a id="23250" class="Keyword">with</a> <a id="23255" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="23260" href="/lia/part1/NormalForms/#23241" class="Bound">φ</a> <a id="23262" class="Symbol">|</a>
       <a id="23271" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="23276" href="/lia/part1/NormalForms/#23245" class="Bound">ψ</a>
<a id="23278" class="Symbol">...</a> <a id="23282" class="Symbol">|</a> <a id="23284" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="23288" href="/lia/part1/NormalForms/#23288" class="Bound">nnfφ</a> <a id="23293" class="Symbol">|</a> <a id="23295" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="23299" href="/lia/part1/NormalForms/#23299" class="Bound">nnfψ</a> <a id="23304" class="Symbol">=</a> <a id="23306" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="23310" class="Symbol">(</a><a id="23311" href="/lia/part1/NormalForms/#23288" class="Bound">nnfφ</a> <a id="23316" href="/lia/part1/NormalForms/#22526" class="InductiveConstructor Operator">∧</a> <a id="23318" href="/lia/part1/NormalForms/#23299" class="Bound">nnfψ</a><a id="23322" class="Symbol">)</a>
<a id="23324" class="Symbol">...</a> <a id="23328" class="Symbol">|</a> <a id="23330" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23333" href="/lia/part1/NormalForms/#23333" class="Bound">¬nnfφ</a> <a id="23339" class="Symbol">|</a> <a id="23341" class="Symbol">_</a> <a id="23343" class="Symbol">=</a> <a id="23345" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23348" class="Symbol">λ{</a> <a id="23351" class="Symbol">(</a><a id="23352" href="/lia/part1/NormalForms/#23352" class="Bound">nnfφ</a> <a id="23357" href="/lia/part1/NormalForms/#22526" class="InductiveConstructor Operator">∧</a> <a id="23359" class="Symbol">_)</a> <a id="23362" class="Symbol">→</a> <a id="23364" href="/lia/part1/NormalForms/#23333" class="Bound">¬nnfφ</a> <a id="23370" href="/lia/part1/NormalForms/#23352" class="Bound">nnfφ</a><a id="23374" class="Symbol">}</a>
<a id="23376" class="CatchallClause Symbol">...</a><a id="23379" class="CatchallClause"> </a><a id="23380" class="CatchallClause Symbol">|</a><a id="23381" class="CatchallClause"> </a><a id="23382" class="CatchallClause Symbol">_</a><a id="23383" class="CatchallClause"> </a><a id="23384" class="CatchallClause Symbol">|</a><a id="23385" class="CatchallClause"> </a><a id="23386" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="23388" class="CatchallClause"> </a><a id="23389" href="/lia/part1/NormalForms/#23389" class="CatchallClause Bound">¬nnfψ</a> <a id="23395" class="Symbol">=</a> <a id="23397" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23400" class="Symbol">λ{</a> <a id="23403" class="Symbol">(_</a> <a id="23406" href="/lia/part1/NormalForms/#22526" class="InductiveConstructor Operator">∧</a> <a id="23408" href="/lia/part1/NormalForms/#23408" class="Bound">nnfψ</a><a id="23412" class="Symbol">)</a> <a id="23414" class="Symbol">→</a> <a id="23416" href="/lia/part1/NormalForms/#23389" class="Bound">¬nnfψ</a> <a id="23422" href="/lia/part1/NormalForms/#23408" class="Bound">nnfψ</a><a id="23426" class="Symbol">}</a>

<a id="23429" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="23434" class="Symbol">(_</a> <a id="23437" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="23439" class="Symbol">_)</a> <a id="23442" class="Symbol">=</a> <a id="23444" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23447" class="Symbol">λ</a> <a id="23449" class="Symbol">()</a>
<a id="23452" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="23457" class="Symbol">(_</a> <a id="23460" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="23462" class="Symbol">_)</a> <a id="23465" class="Symbol">=</a> <a id="23467" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23470" class="Symbol">λ</a> <a id="23472" class="Symbol">()</a></pre>

</div>

<pre class="Agda"><a id="ξ₀"></a><a id="23488" href="/lia/part1/NormalForms/#23488" class="Function">ξ₀</a> <a id="ξ₁"></a><a id="23491" href="/lia/part1/NormalForms/#23491" class="Function">ξ₁</a> <a id="ξ₂"></a><a id="23494" href="/lia/part1/NormalForms/#23494" class="Function">ξ₂</a> <a id="ξ₃"></a><a id="23497" href="/lia/part1/NormalForms/#23497" class="Function">ξ₃</a> <a id="ξ₄"></a><a id="23500" href="/lia/part1/NormalForms/#23500" class="Function">ξ₄</a> <a id="ξ₅"></a><a id="23503" href="/lia/part1/NormalForms/#23503" class="Function">ξ₅</a> <a id="23506" class="Symbol">:</a> <a id="23508" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a></pre>

<div class="inlinecode">

  <p>For instance, the formulas</p>
  <pre class="Agda"><a id="23581" href="/lia/part1/NormalForms/#23488" class="Function">ξ₀</a> <a id="23584" class="Symbol">=</a> <a id="23586" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a></pre>
  <p>and</p>
  <pre class="Agda"><a id="23600" href="/lia/part1/NormalForms/#23491" class="Function">ξ₁</a> <a id="23603" class="Symbol">=</a> <a id="23605" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="23607" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="23609" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="23612" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="23614" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="23616" href="/lia/part1/Semantics/#1197" class="Function">p₁</a></pre>
  <p>are in <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> , while the following formulas are not:</p>
  <pre class="Agda"><a id="23683" href="/lia/part1/NormalForms/#23494" class="Function">ξ₂</a> <a id="23686" class="Symbol">=</a> <a id="23688" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="23690" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a></pre>
  <p>(negation not in front of a propositional variable) and</p>
  <pre class="Agda"><a id="23756" href="/lia/part1/NormalForms/#23497" class="Function">ξ₃</a> <a id="23759" class="Symbol">=</a> <a id="23761" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="23763" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="23766" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="23768" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="23770" href="/lia/part1/Semantics/#1197" class="Function">p₁</a></pre>

  <p>(it contains an implication connective), as we automatically check:</p>

</div>

<pre class="Agda"><a id="23865" href="/lia/part1/NormalForms/#23865" class="Function">_</a> <a id="23867" class="Symbol">:</a> <a id="23869" href="/lia/part0/List/#10524" class="Function">All?</a> <a id="23874" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="23879" class="Symbol">(</a><a id="23880" href="/lia/part0/List/#1763" class="Function">[</a> <a id="23882" href="/lia/part1/NormalForms/#23488" class="Function">ξ₀</a> <a id="23885" href="/lia/part1/NormalForms/#23491" class="Function">ξ₁</a> <a id="23888" href="/lia/part0/List/#2014" class="Function Operator">]</a><a id="23889" class="Symbol">)</a> <a id="23891" href="/lia/part0/Decidable/#628" class="Function Operator">×?</a> <a id="23894" href="/lia/part0/List/#10524" class="Function">All?</a> <a id="23899" class="Symbol">(</a><a id="23900" href="/lia/part0/Decidable/#1262" class="Function Operator">~?_</a> <a id="23904" href="/lia/part0/Utils/#638" class="Function Operator">∘</a> <a id="23906" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a><a id="23910" class="Symbol">)</a> <a id="23912" class="Symbol">(</a><a id="23913" href="/lia/part0/List/#1763" class="Function">[</a> <a id="23915" href="/lia/part1/NormalForms/#23494" class="Function">ξ₂</a> <a id="23918" href="/lia/part1/NormalForms/#23497" class="Function">ξ₃</a> <a id="23921" href="/lia/part0/List/#2014" class="Function Operator">]</a><a id="23922" class="Symbol">)</a> <a id="23924" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="23926" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="23930" class="Symbol">_</a>
<a id="23932" class="Symbol">_</a> <a id="23934" class="Symbol">=</a> <a id="23936" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<div class="introbox">

  <p>The only difference between <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> and <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> is that in
the latter we addionally forbid implications and bi-implications.
Moreover, if a formula does not contain implications/bi-implications in
the first place, then <a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a> does not introduce them and thus
it produces an <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> formula:</p>

  <pre class="Agda"><a id="wnnf-impFree"></a><a id="24263" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24276" class="Symbol">:</a> <a id="24278" href="/lia/part1/Semantics/#58416" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="24297" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="24299" class="Symbol">→</a> <a id="24301" href="/lia/part1/NormalForms/#22403" class="Datatype">NNF</a> <a id="24305" class="Symbol">(</a><a id="24306" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="24311" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a><a id="24312" class="Symbol">)</a></pre>

  <p>The proof proceeds by induction on the evidence that the formula is in
the <code class="language-plaintext highlighter-rouge">Formula[⊥,⊤,¬,∨,∧]</code> form.
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="24433" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24446" href="/lia/part1/Semantics/#58459" class="InductiveConstructor">⊥</a> <a id="24448" class="Symbol">=</a> <a id="24450" href="/lia/part1/NormalForms/#22443" class="InductiveConstructor">⊥</a>
<a id="24452" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24465" href="/lia/part1/Semantics/#58486" class="InductiveConstructor">⊤</a> <a id="24467" class="Symbol">=</a> <a id="24469" href="/lia/part1/NormalForms/#22431" class="InductiveConstructor">⊤</a>
<a id="24471" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24484" class="Symbol">(</a><a id="24485" href="/lia/part1/Semantics/#58513" class="InductiveConstructor Operator">`</a> <a id="24487" href="/lia/part1/NormalForms/#24487" class="Bound">p</a><a id="24488" class="Symbol">)</a> <a id="24490" class="Symbol">=</a> <a id="24492" href="/lia/part1/NormalForms/#22455" class="InductiveConstructor Operator">`</a> <a id="24494" href="/lia/part1/NormalForms/#24487" class="Bound">p</a>
<a id="24496" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24509" class="Symbol">(</a><a id="24510" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="24512" href="/lia/part1/Semantics/#58459" class="InductiveConstructor">⊥</a><a id="24513" class="Symbol">)</a> <a id="24515" class="Symbol">=</a> <a id="24517" href="/lia/part1/NormalForms/#22431" class="InductiveConstructor">⊤</a>
<a id="24519" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24532" class="Symbol">(</a><a id="24533" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="24535" href="/lia/part1/Semantics/#58486" class="InductiveConstructor">⊤</a><a id="24536" class="Symbol">)</a> <a id="24538" class="Symbol">=</a> <a id="24540" href="/lia/part1/NormalForms/#22443" class="InductiveConstructor">⊥</a>
<a id="24542" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24555" class="Symbol">(</a><a id="24556" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="24558" href="/lia/part1/Semantics/#58513" class="InductiveConstructor Operator">`</a> <a id="24560" href="/lia/part1/NormalForms/#24560" class="Bound">p</a><a id="24561" class="Symbol">)</a> <a id="24563" class="Symbol">=</a> <a id="24565" href="/lia/part1/NormalForms/#22489" class="InductiveConstructor Operator">¬`</a> <a id="24568" href="/lia/part1/NormalForms/#24560" class="Bound">p</a>
<a id="24570" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24583" class="Symbol">(</a><a id="24584" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="24586" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="24588" href="/lia/part1/NormalForms/#24588" class="Bound">view-φ</a><a id="24594" class="Symbol">)</a> <a id="24596" class="Symbol">=</a> <a id="24598" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24611" href="/lia/part1/NormalForms/#24588" class="Bound">view-φ</a>
<a id="24618" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24631" class="Symbol">(</a><a id="24632" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="24634" class="Symbol">(</a><a id="24635" href="/lia/part1/NormalForms/#24635" class="Bound">view-φ</a> <a id="24642" href="/lia/part1/Semantics/#58614" class="InductiveConstructor Operator">∨</a> <a id="24644" href="/lia/part1/NormalForms/#24644" class="Bound">view-ψ</a><a id="24650" class="Symbol">))</a> <a id="24653" class="Symbol">=</a> <a id="24655" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24668" class="Symbol">(</a><a id="24669" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="24671" href="/lia/part1/NormalForms/#24635" class="Bound">view-φ</a><a id="24677" class="Symbol">)</a> <a id="24679" href="/lia/part1/NormalForms/#22526" class="InductiveConstructor Operator">∧</a> <a id="24681" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24694" class="Symbol">(</a><a id="24695" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="24697" href="/lia/part1/NormalForms/#24644" class="Bound">view-ψ</a><a id="24703" class="Symbol">)</a>
<a id="24705" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24718" class="Symbol">(</a><a id="24719" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="24721" class="Symbol">(</a><a id="24722" href="/lia/part1/NormalForms/#24722" class="Bound">view-φ</a> <a id="24729" href="/lia/part1/Semantics/#58709" class="InductiveConstructor Operator">∧</a> <a id="24731" href="/lia/part1/NormalForms/#24731" class="Bound">view-ψ</a><a id="24737" class="Symbol">))</a> <a id="24740" class="Symbol">=</a> <a id="24742" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24755" class="Symbol">(</a><a id="24756" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="24758" href="/lia/part1/NormalForms/#24722" class="Bound">view-φ</a><a id="24764" class="Symbol">)</a> <a id="24766" href="/lia/part1/NormalForms/#22562" class="InductiveConstructor Operator">∨</a> <a id="24768" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24781" class="Symbol">(</a><a id="24782" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="24784" href="/lia/part1/NormalForms/#24731" class="Bound">view-ψ</a><a id="24790" class="Symbol">)</a>
<a id="24792" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24805" class="Symbol">(</a><a id="24806" href="/lia/part1/NormalForms/#24806" class="Bound">view-φ</a> <a id="24813" href="/lia/part1/Semantics/#58614" class="InductiveConstructor Operator">∨</a> <a id="24815" href="/lia/part1/NormalForms/#24815" class="Bound">view-ψ</a><a id="24821" class="Symbol">)</a> <a id="24823" class="Symbol">=</a> <a id="24825" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24838" href="/lia/part1/NormalForms/#24806" class="Bound">view-φ</a> <a id="24845" href="/lia/part1/NormalForms/#22562" class="InductiveConstructor Operator">∨</a> <a id="24847" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24860" href="/lia/part1/NormalForms/#24815" class="Bound">view-ψ</a>
<a id="24867" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24880" class="Symbol">(</a><a id="24881" href="/lia/part1/NormalForms/#24881" class="Bound">view-φ</a> <a id="24888" href="/lia/part1/Semantics/#58709" class="InductiveConstructor Operator">∧</a> <a id="24890" href="/lia/part1/NormalForms/#24890" class="Bound">view-ψ</a><a id="24896" class="Symbol">)</a> <a id="24898" class="Symbol">=</a> <a id="24900" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24913" href="/lia/part1/NormalForms/#24881" class="Bound">view-φ</a> <a id="24920" href="/lia/part1/NormalForms/#22526" class="InductiveConstructor Operator">∧</a> <a id="24922" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="24935" href="/lia/part1/NormalForms/#24890" class="Bound">view-ψ</a></pre>

</div>

<p>In order to transform a formula to <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> we can</p>

<ol>
  <li>Remove implications and bi-implications, and</li>
  <li>Transform the formula to <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> .</li>
</ol>

<p>The second step is achieved by <a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a> . In the next section we
focus on the first step.</p>

<h2 id="remove-implications-and-bi-implications">
<a class="anchor" href="#remove-implications-and-bi-implications" aria-hidden="true"><span class="octicon octicon-link"></span></a>Remove implications and bi-implications</h2>

<p>The function <a href="#removeImp"><code class="language-plaintext highlighter-rouge">removeImp</code></a> below removes implications and
bi-implications by expanding them according to the tautologies (c.f.
<a href="../../part1/Semantics#expandImplies"><code class="language-plaintext highlighter-rouge">expandImplies</code></a> , resp.,
<a href="../../part1/Semantics#expandIff"><code class="language-plaintext highlighter-rouge">expandIff</code></a> ):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>φ ⇒ ψ ⟺ ¬ φ ∨ ψ
φ ⇔ ψ ⟺ (¬ φ ∨ ψ) ∧ (φ ∨ ¬ ψ)
</code></pre></div></div>

<div class="introbox">

  <pre class="Agda"><a id="removeImp"></a><a id="25523" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="25533" class="Symbol">:</a> <a id="25535" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a> <a id="25543" class="Symbol">→</a> <a id="25545" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a>
<a id="removeImp-sound"></a><a id="25553" href="/lia/part1/NormalForms/#25553" class="Function">removeImp-sound</a> <a id="25569" class="Symbol">:</a> <a id="25571" class="Symbol">∀</a> <a id="25573" href="/lia/part1/NormalForms/#25573" class="Bound">φ</a> <a id="25575" class="Symbol">→</a> <a id="25577" href="/lia/part1/NormalForms/#25573" class="Bound">φ</a> <a id="25579" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="25581" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="25591" href="/lia/part1/NormalForms/#25573" class="Bound">φ</a></pre>

  <p>Both <a href="#removeImp"><code class="language-plaintext highlighter-rouge">removeImp</code></a> and its soundness proof
<a href="#removeImp-sound"><code class="language-plaintext highlighter-rouge">removeImp-sound</code></a> are defined by a customary
structural induction.
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="25727" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="25737" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="25739" class="Symbol">=</a> <a id="25741" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a>
<a id="25743" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="25753" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="25755" class="Symbol">=</a> <a id="25757" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a>
<a id="25759" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="25769" class="Symbol">(</a><a id="25770" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="25772" href="/lia/part1/NormalForms/#25772" class="Bound">p</a><a id="25773" class="Symbol">)</a> <a id="25775" class="Symbol">=</a> <a id="25777" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="25779" href="/lia/part1/NormalForms/#25772" class="Bound">p</a>
<a id="25781" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="25791" class="Symbol">(</a><a id="25792" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="25794" href="/lia/part1/NormalForms/#25794" class="Bound">φ</a><a id="25795" class="Symbol">)</a> <a id="25797" class="Symbol">=</a> <a id="25799" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="25801" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="25811" href="/lia/part1/NormalForms/#25794" class="Bound">φ</a>
<a id="25813" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="25823" class="Symbol">(</a><a id="25824" href="/lia/part1/NormalForms/#25824" class="Bound">φ</a> <a id="25826" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="25828" href="/lia/part1/NormalForms/#25828" class="Bound">ψ</a><a id="25829" class="Symbol">)</a> <a id="25831" class="Symbol">=</a> <a id="25833" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="25843" href="/lia/part1/NormalForms/#25824" class="Bound">φ</a> <a id="25845" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="25847" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="25857" href="/lia/part1/NormalForms/#25828" class="Bound">ψ</a>
<a id="25859" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="25869" class="Symbol">(</a><a id="25870" href="/lia/part1/NormalForms/#25870" class="Bound">φ</a> <a id="25872" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="25874" href="/lia/part1/NormalForms/#25874" class="Bound">ψ</a><a id="25875" class="Symbol">)</a> <a id="25877" class="Symbol">=</a> <a id="25879" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="25889" href="/lia/part1/NormalForms/#25870" class="Bound">φ</a> <a id="25891" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="25893" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="25903" href="/lia/part1/NormalForms/#25874" class="Bound">ψ</a>
<a id="25905" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="25915" class="Symbol">(</a><a id="25916" href="/lia/part1/NormalForms/#25916" class="Bound">φ</a> <a id="25918" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="25920" href="/lia/part1/NormalForms/#25920" class="Bound">ψ</a><a id="25921" class="Symbol">)</a> <a id="25923" class="Symbol">=</a> <a id="25925" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="25927" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="25937" href="/lia/part1/NormalForms/#25916" class="Bound">φ</a> <a id="25939" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="25941" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="25951" href="/lia/part1/NormalForms/#25920" class="Bound">ψ</a>
<a id="25953" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="25963" class="Symbol">(</a><a id="25964" href="/lia/part1/NormalForms/#25964" class="Bound">φ</a> <a id="25966" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="25968" href="/lia/part1/NormalForms/#25968" class="Bound">ψ</a><a id="25969" class="Symbol">)</a>
  <a id="25973" class="Keyword">with</a> <a id="25978" href="/lia/part1/NormalForms/#25978" class="Bound">φ́</a> ← <a id="25983" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="25993" href="/lia/part1/NormalForms/#25964" class="Bound">φ</a> <a id="25995" class="Symbol">|</a> <a id="25997" href="/lia/part1/NormalForms/#25997" class="Bound">ψ́</a> ← <a id="26002" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="26012" href="/lia/part1/NormalForms/#25968" class="Bound">ψ</a>
  <a id="26016" class="Symbol">=</a> <a id="26018" class="Symbol">(</a><a id="26019" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="26021" href="/lia/part1/NormalForms/#25978" class="Bound">φ́</a> <a id="26024" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="26026" href="/lia/part1/NormalForms/#25997" class="Bound">ψ́</a><a id="26028" class="Symbol">)</a> <a id="26030" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="26032" class="Symbol">(</a><a id="26033" href="/lia/part1/NormalForms/#25978" class="Bound">φ́</a> <a id="26036" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="26038" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="26040" href="/lia/part1/NormalForms/#25997" class="Bound">ψ́</a><a id="26042" class="Symbol">)</a></pre>
  <pre class="Agda"><a id="26053" href="/lia/part1/NormalForms/#25553" class="Function">removeImp-sound</a> <a id="26069" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="26071" href="/lia/part1/NormalForms/#26071" class="Bound">ϱ</a> <a id="26073" class="Symbol">=</a> <a id="26075" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="26080" href="/lia/part1/NormalForms/#25553" class="Function">removeImp-sound</a> <a id="26096" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="26098" href="/lia/part1/NormalForms/#26098" class="Bound">ϱ</a> <a id="26100" class="Symbol">=</a> <a id="26102" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="26107" href="/lia/part1/NormalForms/#25553" class="Function">removeImp-sound</a> <a id="26123" class="Symbol">(</a><a id="26124" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="26126" href="/lia/part1/NormalForms/#26126" class="Bound">p</a><a id="26127" class="Symbol">)</a> <a id="26129" href="/lia/part1/NormalForms/#26129" class="Bound">ϱ</a> <a id="26131" class="Symbol">=</a> <a id="26133" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="26138" href="/lia/part1/NormalForms/#25553" class="Function">removeImp-sound</a> <a id="26154" class="Symbol">(</a><a id="26155" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="26157" href="/lia/part1/NormalForms/#26157" class="Bound">φ</a><a id="26158" class="Symbol">)</a> <a id="26160" href="/lia/part1/NormalForms/#26160" class="Bound">ϱ</a>
  <a id="26164" class="Keyword">rewrite</a> <a id="26172" href="/lia/part1/NormalForms/#25553" class="Function">removeImp-sound</a> <a id="26188" href="/lia/part1/NormalForms/#26157" class="Bound">φ</a> <a id="26190" href="/lia/part1/NormalForms/#26160" class="Bound">ϱ</a> <a id="26192" class="Symbol">=</a> <a id="26194" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="26199" href="/lia/part1/NormalForms/#25553" class="Function">removeImp-sound</a> <a id="26215" class="Symbol">(</a><a id="26216" href="/lia/part1/NormalForms/#26216" class="Bound">φ</a> <a id="26218" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="26220" href="/lia/part1/NormalForms/#26220" class="Bound">ψ</a><a id="26221" class="Symbol">)</a> <a id="26223" href="/lia/part1/NormalForms/#26223" class="Bound">ϱ</a>
  <a id="26227" class="Keyword">rewrite</a> <a id="26235" href="/lia/part1/NormalForms/#25553" class="Function">removeImp-sound</a> <a id="26251" href="/lia/part1/NormalForms/#26216" class="Bound">φ</a> <a id="26253" href="/lia/part1/NormalForms/#26223" class="Bound">ϱ</a> <a id="26255" class="Symbol">|</a>
          <a id="26267" href="/lia/part1/NormalForms/#25553" class="Function">removeImp-sound</a> <a id="26283" href="/lia/part1/NormalForms/#26220" class="Bound">ψ</a> <a id="26285" href="/lia/part1/NormalForms/#26223" class="Bound">ϱ</a> <a id="26287" class="Symbol">=</a> <a id="26289" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="26294" href="/lia/part1/NormalForms/#25553" class="Function">removeImp-sound</a> <a id="26310" class="Symbol">(</a><a id="26311" href="/lia/part1/NormalForms/#26311" class="Bound">φ</a> <a id="26313" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="26315" href="/lia/part1/NormalForms/#26315" class="Bound">ψ</a><a id="26316" class="Symbol">)</a> <a id="26318" href="/lia/part1/NormalForms/#26318" class="Bound">ϱ</a>
  <a id="26322" class="Keyword">rewrite</a> <a id="26330" href="/lia/part1/NormalForms/#25553" class="Function">removeImp-sound</a> <a id="26346" href="/lia/part1/NormalForms/#26311" class="Bound">φ</a> <a id="26348" href="/lia/part1/NormalForms/#26318" class="Bound">ϱ</a> <a id="26350" class="Symbol">|</a>
          <a id="26362" href="/lia/part1/NormalForms/#25553" class="Function">removeImp-sound</a> <a id="26378" href="/lia/part1/NormalForms/#26315" class="Bound">ψ</a> <a id="26380" href="/lia/part1/NormalForms/#26318" class="Bound">ϱ</a> <a id="26382" class="Symbol">=</a> <a id="26384" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="26389" href="/lia/part1/NormalForms/#25553" class="Function">removeImp-sound</a> <a id="26405" class="Symbol">(</a><a id="26406" href="/lia/part1/NormalForms/#26406" class="Bound">φ</a> <a id="26408" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="26410" href="/lia/part1/NormalForms/#26410" class="Bound">ψ</a><a id="26411" class="Symbol">)</a> <a id="26413" href="/lia/part1/NormalForms/#26413" class="Bound">ϱ</a>
  <a id="26417" class="Keyword">rewrite</a> <a id="26425" href="/lia/part1/NormalForms/#25553" class="Function">removeImp-sound</a> <a id="26441" href="/lia/part1/NormalForms/#26406" class="Bound">φ</a> <a id="26443" href="/lia/part1/NormalForms/#26413" class="Bound">ϱ</a> <a id="26445" class="Symbol">|</a>
          <a id="26457" href="/lia/part1/NormalForms/#25553" class="Function">removeImp-sound</a> <a id="26473" href="/lia/part1/NormalForms/#26410" class="Bound">ψ</a> <a id="26475" href="/lia/part1/NormalForms/#26413" class="Bound">ϱ</a> <a id="26477" class="Symbol">|</a>
          <a id="26489" href="/lia/part1/Semantics/#31125" class="Function">expandImplies</a> <a id="26503" class="Symbol">(</a><a id="26504" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="26514" href="/lia/part1/NormalForms/#26406" class="Bound">φ</a><a id="26515" class="Symbol">)</a> <a id="26517" class="Symbol">(</a><a id="26518" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="26528" href="/lia/part1/NormalForms/#26410" class="Bound">ψ</a><a id="26529" class="Symbol">)</a> <a id="26531" href="/lia/part1/NormalForms/#26413" class="Bound">ϱ</a> <a id="26533" class="Symbol">=</a> <a id="26535" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="26540" href="/lia/part1/NormalForms/#25553" class="Function">removeImp-sound</a> <a id="26556" class="Symbol">(</a><a id="26557" href="/lia/part1/NormalForms/#26557" class="Bound">φ</a> <a id="26559" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="26561" href="/lia/part1/NormalForms/#26561" class="Bound">ψ</a><a id="26562" class="Symbol">)</a> <a id="26564" href="/lia/part1/NormalForms/#26564" class="Bound">ϱ</a>
  <a id="26568" class="Keyword">rewrite</a> <a id="26576" href="/lia/part1/NormalForms/#25553" class="Function">removeImp-sound</a> <a id="26592" href="/lia/part1/NormalForms/#26557" class="Bound">φ</a> <a id="26594" href="/lia/part1/NormalForms/#26564" class="Bound">ϱ</a> <a id="26596" class="Symbol">|</a>
          <a id="26608" href="/lia/part1/NormalForms/#25553" class="Function">removeImp-sound</a> <a id="26624" href="/lia/part1/NormalForms/#26561" class="Bound">ψ</a> <a id="26626" href="/lia/part1/NormalForms/#26564" class="Bound">ϱ</a> <a id="26628" class="Symbol">|</a>
          <a id="26640" href="/lia/part1/Semantics/#31165" class="Function">expandIff</a> <a id="26650" class="Symbol">(</a><a id="26651" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="26661" href="/lia/part1/NormalForms/#26557" class="Bound">φ</a><a id="26662" class="Symbol">)</a> <a id="26664" class="Symbol">(</a><a id="26665" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="26675" href="/lia/part1/NormalForms/#26561" class="Bound">ψ</a><a id="26676" class="Symbol">)</a> <a id="26678" href="/lia/part1/NormalForms/#26564" class="Bound">ϱ</a> <a id="26680" class="Symbol">=</a> <a id="26682" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

</div>

<div class="introbox">

  <p>Unsurprisingly but importantly, <code class="language-plaintext highlighter-rouge">removeImp φ</code> does not contain either
implications or bi-implications</p>
  <pre class="Agda"><a id="removeImp-impFree"></a><a id="26814" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="26832" class="Symbol">:</a> <a id="26834" class="Symbol">∀</a> <a id="26836" href="/lia/part1/NormalForms/#26836" class="Bound">φ</a> <a id="26838" class="Symbol">→</a> <a id="26840" href="/lia/part1/Semantics/#58416" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="26859" class="Symbol">(</a><a id="26860" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="26870" href="/lia/part1/NormalForms/#26836" class="Bound">φ</a><a id="26871" class="Symbol">)</a></pre>

  <p><button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="26891" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="26909" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="26911" class="Symbol">=</a> <a id="26913" href="/lia/part1/Semantics/#58459" class="InductiveConstructor">⊥</a>
<a id="26915" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="26933" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="26935" class="Symbol">=</a> <a id="26937" href="/lia/part1/Semantics/#58486" class="InductiveConstructor">⊤</a>
<a id="26939" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="26957" class="Symbol">(</a><a id="26958" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="26960" href="/lia/part1/NormalForms/#26960" class="Bound">p</a><a id="26961" class="Symbol">)</a> <a id="26963" class="Symbol">=</a> <a id="26965" href="/lia/part1/Semantics/#58513" class="InductiveConstructor Operator">`</a> <a id="26967" href="/lia/part1/NormalForms/#26960" class="Bound">p</a>
<a id="26969" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="26987" class="Symbol">(</a><a id="26988" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="26990" href="/lia/part1/NormalForms/#26990" class="Bound">φ</a><a id="26991" class="Symbol">)</a> <a id="26993" class="Symbol">=</a> <a id="26995" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="26997" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="27015" href="/lia/part1/NormalForms/#26990" class="Bound">φ</a>
<a id="27017" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="27035" class="Symbol">(</a><a id="27036" href="/lia/part1/NormalForms/#27036" class="Bound">φ</a> <a id="27038" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="27040" href="/lia/part1/NormalForms/#27040" class="Bound">ψ</a><a id="27041" class="Symbol">)</a> <a id="27043" class="Symbol">=</a> <a id="27045" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="27063" href="/lia/part1/NormalForms/#27036" class="Bound">φ</a> <a id="27065" href="/lia/part1/Semantics/#58614" class="InductiveConstructor Operator">∨</a> <a id="27067" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="27085" href="/lia/part1/NormalForms/#27040" class="Bound">ψ</a>
<a id="27087" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="27105" class="Symbol">(</a><a id="27106" href="/lia/part1/NormalForms/#27106" class="Bound">φ</a> <a id="27108" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="27110" href="/lia/part1/NormalForms/#27110" class="Bound">ψ</a><a id="27111" class="Symbol">)</a> <a id="27113" class="Symbol">=</a> <a id="27115" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="27133" href="/lia/part1/NormalForms/#27106" class="Bound">φ</a> <a id="27135" href="/lia/part1/Semantics/#58709" class="InductiveConstructor Operator">∧</a> <a id="27137" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="27155" href="/lia/part1/NormalForms/#27110" class="Bound">ψ</a>
<a id="27157" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="27175" class="Symbol">(</a><a id="27176" href="/lia/part1/NormalForms/#27176" class="Bound">φ</a> <a id="27178" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="27180" href="/lia/part1/NormalForms/#27180" class="Bound">ψ</a><a id="27181" class="Symbol">)</a> <a id="27183" class="Symbol">=</a> <a id="27185" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="27187" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="27205" href="/lia/part1/NormalForms/#27176" class="Bound">φ</a> <a id="27207" href="/lia/part1/Semantics/#58614" class="InductiveConstructor Operator">∨</a> <a id="27209" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="27227" href="/lia/part1/NormalForms/#27180" class="Bound">ψ</a>
<a id="27229" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="27247" class="Symbol">(</a><a id="27248" href="/lia/part1/NormalForms/#27248" class="Bound">φ</a> <a id="27250" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="27252" href="/lia/part1/NormalForms/#27252" class="Bound">ψ</a><a id="27253" class="Symbol">)</a> <a id="27255" class="Symbol">=</a> <a id="27257" class="Symbol">(</a><a id="27258" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="27260" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="27278" href="/lia/part1/NormalForms/#27248" class="Bound">φ</a> <a id="27280" href="/lia/part1/Semantics/#58614" class="InductiveConstructor Operator">∨</a> <a id="27282" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="27300" href="/lia/part1/NormalForms/#27252" class="Bound">ψ</a><a id="27301" class="Symbol">)</a> <a id="27303" href="/lia/part1/Semantics/#58709" class="InductiveConstructor Operator">∧</a>
                              <a id="27335" class="Symbol">(</a><a id="27336" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="27354" href="/lia/part1/NormalForms/#27248" class="Bound">φ</a> <a id="27356" href="/lia/part1/Semantics/#58614" class="InductiveConstructor Operator">∨</a> <a id="27358" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="27360" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="27378" href="/lia/part1/NormalForms/#27252" class="Bound">ψ</a><a id="27379" class="Symbol">)</a></pre>

</div>

<h2 id="transformation-to-nnf">
<a class="anchor" href="#transformation-to-nnf" aria-hidden="true"><span class="octicon octicon-link"></span></a>Transformation to <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a>
</h2>

<p>We are now ready to put the pieces together. The transformation to
<a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> proceeds by simplifying the formula (this removes the
zero-ary connectives <code class="language-plaintext highlighter-rouge">⊤</code> and <code class="language-plaintext highlighter-rouge">⊥</code>, even though we won’t formally prove
this is the case), by removing implications/bi-implications, and by
transforming to <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> :</p>

<pre class="Agda"><a id="nnf"></a><a id="27725" href="/lia/part1/NormalForms/#27725" class="Function">nnf</a> <a id="27729" class="Symbol">:</a> <a id="27731" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a> <a id="27739" class="Symbol">→</a> <a id="27741" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a>
<a id="27749" href="/lia/part1/NormalForms/#27725" class="Function">nnf</a> <a id="27753" class="Symbol">=</a> <a id="27755" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="27760" href="/lia/part0/Utils/#638" class="Function Operator">∘</a> <a id="27762" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="27772" href="/lia/part0/Utils/#638" class="Function Operator">∘</a> <a id="27774" href="/lia/part1/Semantics/#52591" class="Function">simplify</a></pre>

<div class="inlinecode">

  <p>For example, the formula</p>
  <pre class="Agda"><a id="27846" href="/lia/part1/NormalForms/#23500" class="Function">ξ₄</a> <a id="27849" class="Symbol">=</a> <a id="27851" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="27853" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="27855" class="Symbol">(</a><a id="27856" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="27858" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="27861" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="27863" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="27865" class="Symbol">(</a><a id="27866" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="27868" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="27871" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="27873" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="27875" href="/lia/part1/Semantics/#1200" class="Function">p₂</a> <a id="27878" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="27880" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a><a id="27881" class="Symbol">))</a></pre>
  <p>is transformed to the <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> formula</p>
  <pre class="Agda"><a id="27932" href="/lia/part1/NormalForms/#23503" class="Function">ξ₅</a> <a id="27935" class="Symbol">=</a> <a id="27937" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="27939" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="27941" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="27944" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="27946" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="27948" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="27950" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="27953" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="27955" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="27957" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="27959" href="/lia/part1/Semantics/#1200" class="Function">p₂</a></pre>

  <p>as proved below:</p>

</div>

<pre class="Agda"><a id="28003" href="/lia/part1/NormalForms/#28003" class="Function">_</a> <a id="28005" class="Symbol">:</a> <a id="28007" href="/lia/part1/NormalForms/#27725" class="Function">nnf</a> <a id="28011" href="/lia/part1/NormalForms/#23500" class="Function">ξ₄</a> <a id="28014" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="28016" href="/lia/part1/NormalForms/#23503" class="Function">ξ₅</a> <a id="28019" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="28021" href="/lia/part1/NormalForms/#22676" class="Function">NNF?</a> <a id="28026" href="/lia/part1/NormalForms/#23503" class="Function">ξ₅</a> <a id="28029" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="28031" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="28035" class="Symbol">_</a>
<a id="28037" class="Symbol">_</a> <a id="28039" class="Symbol">=</a> <a id="28041" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a> <a id="28046" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="28048" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:nnf-complexity" class="pandoc-numbering-text exercise"><strong>Exercise 3</strong></span></dt>
    <dd>What is the size blowup of <a href="#nnf"><code class="language-plaintext highlighter-rouge">nnf</code></a> ? On which kind of formulas
is it achieved? <span class="hidden">∎</span> <span class="right-aligned">∎</span>
</dd>
  </dl>

  <!--
::::::: {.solutionlink}
[solution](#exercise:nnf-complexity-solution)
:::::::
-->

</div>

<h2 id="correctness-1">
<a class="anchor" href="#correctness-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Correctness</h2>

<p>The correctness of the <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> translation follows from the
previous considerations:</p>

<pre class="Agda"><a id="nnf-NNF"></a><a id="28709" href="/lia/part1/NormalForms/#28709" class="Function">nnf-NNF</a> <a id="28717" class="Symbol">:</a> <a id="28719" class="Symbol">∀</a> <a id="28721" href="/lia/part1/NormalForms/#28721" class="Bound">φ</a> <a id="28723" class="Symbol">→</a> <a id="28725" href="/lia/part1/NormalForms/#22403" class="Datatype">NNF</a> <a id="28729" class="Symbol">(</a><a id="28730" href="/lia/part1/NormalForms/#27725" class="Function">nnf</a> <a id="28734" href="/lia/part1/NormalForms/#28721" class="Bound">φ</a><a id="28735" class="Symbol">)</a>
<a id="28737" href="/lia/part1/NormalForms/#28709" class="Function">nnf-NNF</a> <a id="28745" href="/lia/part1/NormalForms/#28745" class="Bound">φ</a> <a id="28747" class="Symbol">=</a> <a id="28749" href="/lia/part1/NormalForms/#24263" class="Function">wnnf-impFree</a> <a id="28762" class="Symbol">(</a><a id="28763" href="/lia/part1/NormalForms/#26814" class="Function">removeImp-impFree</a> <a id="28781" class="Symbol">(</a><a id="28782" href="/lia/part1/Semantics/#52591" class="Function">simplify</a> <a id="28791" href="/lia/part1/NormalForms/#28745" class="Bound">φ</a><a id="28792" class="Symbol">))</a></pre>
<pre class="Agda"><a id="nnf-sound"></a><a id="28804" href="/lia/part1/NormalForms/#28804" class="Function">nnf-sound</a> <a id="28814" class="Symbol">:</a> <a id="28816" class="Symbol">∀</a> <a id="28818" href="/lia/part1/NormalForms/#28818" class="Bound">φ</a> <a id="28820" class="Symbol">→</a> <a id="28822" href="/lia/part1/NormalForms/#28818" class="Bound">φ</a> <a id="28824" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="28826" href="/lia/part1/NormalForms/#27725" class="Function">nnf</a> <a id="28830" href="/lia/part1/NormalForms/#28818" class="Bound">φ</a>
<a id="28832" href="/lia/part1/NormalForms/#28804" class="Function">nnf-sound</a> <a id="28842" href="/lia/part1/NormalForms/#28842" class="Bound">φ</a> <a id="28844" href="/lia/part1/NormalForms/#28844" class="Bound">ϱ</a>
  <a id="28848" class="Keyword">rewrite</a> <a id="28856" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="28860" class="Symbol">(</a><a id="28861" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="28872" class="Symbol">(</a><a id="28873" href="/lia/part1/NormalForms/#25523" class="Function">removeImp</a> <a id="28883" class="Symbol">(</a><a id="28884" href="/lia/part1/Semantics/#52591" class="Function">simplify</a> <a id="28893" href="/lia/part1/NormalForms/#28842" class="Bound">φ</a><a id="28894" class="Symbol">))</a> <a id="28897" href="/lia/part1/NormalForms/#28844" class="Bound">ϱ</a><a id="28898" class="Symbol">)</a> <a id="28900" class="Symbol">|</a>
          <a id="28912" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="28916" class="Symbol">(</a><a id="28917" href="/lia/part1/NormalForms/#25553" class="Function">removeImp-sound</a> <a id="28933" class="Symbol">(</a><a id="28934" href="/lia/part1/Semantics/#52591" class="Function">simplify</a> <a id="28943" href="/lia/part1/NormalForms/#28842" class="Bound">φ</a><a id="28944" class="Symbol">)</a> <a id="28946" href="/lia/part1/NormalForms/#28844" class="Bound">ϱ</a><a id="28947" class="Symbol">)</a> <a id="28949" class="Symbol">|</a>
          <a id="28961" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="28965" class="Symbol">(</a><a id="28966" href="/lia/part1/Semantics/#54122" class="Function">simplify-sound</a> <a id="28981" href="/lia/part1/NormalForms/#28842" class="Bound">φ</a> <a id="28983" href="/lia/part1/NormalForms/#28844" class="Bound">ϱ</a><a id="28984" class="Symbol">)</a> <a id="28986" class="Symbol">=</a> <a id="28988" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<p>The <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> is the most basic normal form of interest. In the
following sections we will study stronger normal forms.</p>

<h1 id="DNF">
<a class="anchor" href="#DNF" aria-hidden="true"><span class="octicon octicon-link"></span></a>Disjunctive normal form</h1>

<p>A <em>clause</em> <code class="language-plaintext highlighter-rouge">C</code> is a conjunction of literals <code class="language-plaintext highlighter-rouge">l1 ∧ ⋯ ∧ lm</code>. A formula is
in <em>disjunctive normal form</em> (DNF) if it is a disjunction of clauses
<code class="language-plaintext highlighter-rouge">C1 ∨ ⋯ ∨ Cn</code>.</p>

<pre class="Agda"><a id="29315" class="Keyword">data</a> <a id="Literal"></a><a id="29320" href="/lia/part1/NormalForms/#29320" class="Datatype">Literal</a> <a id="29328" class="Symbol">:</a> <a id="29330" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a> <a id="29338" class="Symbol">→</a> <a id="29340" class="PrimitiveType">Set</a> <a id="29344" class="Keyword">where</a>
  <a id="Literal.Pos"></a><a id="29352" href="/lia/part1/NormalForms/#29352" class="InductiveConstructor">Pos</a> <a id="29356" class="Symbol">:</a> <a id="29358" class="Symbol">(</a><a id="29359" href="/lia/part1/NormalForms/#29359" class="Bound">p</a> <a id="29361" class="Symbol">:</a> <a id="29363" href="/lia/part1/Semantics/#1069" class="Function">PropName</a><a id="29371" class="Symbol">)</a> <a id="29373" class="Symbol">→</a> <a id="29375" href="/lia/part1/NormalForms/#29320" class="Datatype">Literal</a> <a id="29383" class="Symbol">(</a><a id="29384" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="29386" href="/lia/part1/NormalForms/#29359" class="Bound">p</a><a id="29387" class="Symbol">)</a>
  <a id="Literal.Neg"></a><a id="29391" href="/lia/part1/NormalForms/#29391" class="InductiveConstructor">Neg</a> <a id="29395" class="Symbol">:</a> <a id="29397" class="Symbol">(</a><a id="29398" href="/lia/part1/NormalForms/#29398" class="Bound">p</a> <a id="29400" class="Symbol">:</a> <a id="29402" href="/lia/part1/Semantics/#1069" class="Function">PropName</a><a id="29410" class="Symbol">)</a> <a id="29412" class="Symbol">→</a> <a id="29414" href="/lia/part1/NormalForms/#29320" class="Datatype">Literal</a> <a id="29422" class="Symbol">(</a><a id="29423" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="29425" class="Symbol">(</a><a id="29426" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="29428" href="/lia/part1/NormalForms/#29398" class="Bound">p</a><a id="29429" class="Symbol">))</a>
  
<a id="29435" class="Keyword">data</a> <a id="DNFClause"></a><a id="29440" href="/lia/part1/NormalForms/#29440" class="Datatype">DNFClause</a> <a id="29450" class="Symbol">:</a> <a id="29452" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a> <a id="29460" class="Symbol">→</a> <a id="29462" class="PrimitiveType">Set</a> <a id="29466" class="Keyword">where</a>
  <a id="DNFClause.∅"></a><a id="29474" href="/lia/part1/NormalForms/#29474" class="InductiveConstructor">∅</a> <a id="29476" class="Symbol">:</a> <a id="29478" href="/lia/part1/NormalForms/#29440" class="Datatype">DNFClause</a> <a id="29488" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a>
  <a id="DNFClause._,_"></a><a id="29492" href="/lia/part1/NormalForms/#29492" class="InductiveConstructor Operator">_,_</a> <a id="29496" class="Symbol">:</a> <a id="29498" class="Symbol">∀</a> <a id="29500" class="Symbol">{</a><a id="29501" href="/lia/part1/NormalForms/#29501" class="Bound">φ</a> <a id="29503" href="/lia/part1/NormalForms/#29503" class="Bound">ψ</a><a id="29504" class="Symbol">}</a> <a id="29506" class="Symbol">→</a> <a id="29508" href="/lia/part1/NormalForms/#29320" class="Datatype">Literal</a> <a id="29516" href="/lia/part1/NormalForms/#29501" class="Bound">φ</a> <a id="29518" class="Symbol">→</a> <a id="29520" href="/lia/part1/NormalForms/#29440" class="Datatype">DNFClause</a> <a id="29530" href="/lia/part1/NormalForms/#29503" class="Bound">ψ</a> <a id="29532" class="Symbol">→</a> <a id="29534" href="/lia/part1/NormalForms/#29440" class="Datatype">DNFClause</a> <a id="29544" class="Symbol">(</a><a id="29545" href="/lia/part1/NormalForms/#29501" class="Bound">φ</a> <a id="29547" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="29549" href="/lia/part1/NormalForms/#29503" class="Bound">ψ</a><a id="29550" class="Symbol">)</a>

<a id="29553" class="Keyword">data</a> <a id="DNF"></a><a id="29558" href="/lia/part1/NormalForms/#29558" class="Datatype">DNF</a> <a id="29562" class="Symbol">:</a> <a id="29564" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a>  <a id="29573" class="Symbol">→</a> <a id="29575" class="PrimitiveType">Set</a> <a id="29579" class="Keyword">where</a>
  <a id="DNF.∅"></a><a id="29587" href="/lia/part1/NormalForms/#29587" class="InductiveConstructor">∅</a> <a id="29589" class="Symbol">:</a> <a id="29591" href="/lia/part1/NormalForms/#29558" class="Datatype">DNF</a> <a id="29595" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a>
  <a id="DNF._,_"></a><a id="29599" href="/lia/part1/NormalForms/#29599" class="InductiveConstructor Operator">_,_</a> <a id="29603" class="Symbol">:</a> <a id="29605" class="Symbol">∀</a> <a id="29607" class="Symbol">{</a><a id="29608" href="/lia/part1/NormalForms/#29608" class="Bound">φ</a> <a id="29610" href="/lia/part1/NormalForms/#29610" class="Bound">ψ</a><a id="29611" class="Symbol">}</a> <a id="29613" class="Symbol">→</a> <a id="29615" href="/lia/part1/NormalForms/#29440" class="Datatype">DNFClause</a> <a id="29625" href="/lia/part1/NormalForms/#29608" class="Bound">φ</a> <a id="29627" class="Symbol">→</a> <a id="29629" href="/lia/part1/NormalForms/#29558" class="Datatype">DNF</a> <a id="29633" href="/lia/part1/NormalForms/#29610" class="Bound">ψ</a> <a id="29635" class="Symbol">→</a> <a id="29637" href="/lia/part1/NormalForms/#29558" class="Datatype">DNF</a> <a id="29641" class="Symbol">(</a><a id="29642" href="/lia/part1/NormalForms/#29608" class="Bound">φ</a> <a id="29644" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="29646" href="/lia/part1/NormalForms/#29610" class="Bound">ψ</a><a id="29647" class="Symbol">)</a></pre>

<p>We warm up and show how we can merge two clauses while preserving the
semantics. This is essentially list concatenation, with additional code
showing that it is semantics-preserving for formulas.</p>

<pre class="Agda"><a id="merge"></a><a id="29855" href="/lia/part1/NormalForms/#29855" class="Function">merge</a> <a id="29861" class="Symbol">:</a> <a id="29863" class="Symbol">∀</a> <a id="29865" class="Symbol">{</a><a id="29866" href="/lia/part1/NormalForms/#29866" class="Bound">φ</a> <a id="29868" href="/lia/part1/NormalForms/#29868" class="Bound">ψ</a><a id="29869" class="Symbol">}</a> <a id="29871" class="Symbol">→</a> <a id="29873" href="/lia/part1/NormalForms/#29440" class="Datatype">DNFClause</a> <a id="29883" href="/lia/part1/NormalForms/#29866" class="Bound">φ</a> <a id="29885" class="Symbol">→</a> <a id="29887" href="/lia/part1/NormalForms/#29440" class="Datatype">DNFClause</a> <a id="29897" href="/lia/part1/NormalForms/#29868" class="Bound">ψ</a> <a id="29899" class="Symbol">→</a> <a id="29901" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="29904" href="/lia/part1/NormalForms/#29904" class="Bound">ξ</a> <a id="29906" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="29908" href="/lia/part1/NormalForms/#29440" class="Datatype">DNFClause</a> <a id="29918" href="/lia/part1/NormalForms/#29904" class="Bound">ξ</a> <a id="29920" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="29922" href="/lia/part1/NormalForms/#29904" class="Bound">ξ</a> <a id="29924" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="29926" href="/lia/part1/NormalForms/#29866" class="Bound">φ</a> <a id="29928" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="29930" href="/lia/part1/NormalForms/#29868" class="Bound">ψ</a>
<a id="29932" href="/lia/part1/NormalForms/#29855" class="Function">merge</a> <a id="29938" class="Symbol">{</a><a id="29939" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a><a id="29940" class="Symbol">}</a> <a id="29942" class="Symbol">{</a><a id="29943" href="/lia/part1/NormalForms/#29943" class="Bound">ψ</a><a id="29944" class="Symbol">}</a> <a id="29946" href="/lia/part1/NormalForms/#29474" class="InductiveConstructor">∅</a> <a id="29948" href="/lia/part1/NormalForms/#29948" class="Bound">Cψ</a> <a id="29951" class="Symbol">=</a> <a id="29953" href="/lia/part1/NormalForms/#29943" class="Bound">ψ</a> <a id="29955" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="29957" href="/lia/part1/NormalForms/#29948" class="Bound">Cψ</a> <a id="29960" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="29962" href="/lia/part1/NormalForms/#29983" class="Function">correctness</a> <a id="29974" class="Keyword">where</a>

  <a id="29983" href="/lia/part1/NormalForms/#29983" class="Function">correctness</a> <a id="29995" class="Symbol">:</a> <a id="29997" href="/lia/part1/NormalForms/#29943" class="Bound">ψ</a> <a id="29999" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="30001" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="30003" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="30005" href="/lia/part1/NormalForms/#29943" class="Bound">ψ</a>
  <a id="30009" href="/lia/part1/NormalForms/#29983" class="Function">correctness</a> <a id="30021" href="/lia/part1/NormalForms/#30021" class="Bound">ρ</a> <a id="30023" class="Keyword">with</a> <a id="30028" href="/lia/part1/Semantics/#12118" class="Function Operator">⟦</a> <a id="30030" href="/lia/part1/NormalForms/#29943" class="Bound">ψ</a> <a id="30032" href="/lia/part1/Semantics/#12118" class="Function Operator">⟧</a> <a id="30034" href="/lia/part1/NormalForms/#30021" class="Bound">ρ</a>
  <a id="30038" class="Symbol">...</a> <a id="30042" class="Symbol">|</a> <a id="30044" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="30047" class="Symbol">=</a> <a id="30049" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  <a id="30056" class="Symbol">...</a> <a id="30060" class="Symbol">|</a> <a id="30062" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="30065" class="Symbol">=</a> <a id="30067" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="30075" href="/lia/part1/NormalForms/#29855" class="Function">merge</a> <a id="30081" class="Symbol">{</a><a id="30082" href="/lia/part1/NormalForms/#30082" class="Bound">φ</a> <a id="30084" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="30086" href="/lia/part1/NormalForms/#30086" class="Bound">φ'</a><a id="30088" class="Symbol">}</a> <a id="30090" class="Symbol">{</a><a id="30091" href="/lia/part1/NormalForms/#30091" class="Bound">ψ</a><a id="30092" class="Symbol">}</a> <a id="30094" class="Symbol">(</a><a id="30095" href="/lia/part1/NormalForms/#30095" class="Bound">Lφ</a> <a id="30098" href="/lia/part1/NormalForms/#29492" class="InductiveConstructor Operator">,</a> <a id="30100" href="/lia/part1/NormalForms/#30100" class="Bound">Cφ'</a><a id="30103" class="Symbol">)</a> <a id="30105" href="/lia/part1/NormalForms/#30105" class="Bound">Cψ</a> <a id="30108" class="Keyword">with</a> <a id="30113" href="/lia/part1/NormalForms/#29855" class="Function">merge</a> <a id="30119" href="/lia/part1/NormalForms/#30100" class="Bound">Cφ'</a> <a id="30123" href="/lia/part1/NormalForms/#30105" class="Bound">Cψ</a>
<a id="30126" class="Symbol">...</a> <a id="30130" class="Symbol">|</a> <a id="30132" href="/lia/part1/NormalForms/#30132" class="Bound">ξ</a> <a id="30134" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="30136" href="/lia/part1/NormalForms/#30136" class="Bound">Cξ</a> <a id="30139" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="30141" href="/lia/part1/NormalForms/#30141" class="Bound">ξ⟺φ'∧ψ</a> <a id="30148" class="Symbol">=</a> <a id="30150" class="Bound">φ</a> <a id="30152" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="30154" href="/lia/part1/NormalForms/#30132" class="Bound">ξ</a> <a id="30156" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="30158" class="Symbol">(</a><a id="30159" class="Bound">Lφ</a> <a id="30162" href="/lia/part1/NormalForms/#29492" class="InductiveConstructor Operator">,</a> <a id="30164" href="/lia/part1/NormalForms/#30136" class="Bound">Cξ</a><a id="30166" class="Symbol">)</a> <a id="30168" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="30170" href="/lia/part1/NormalForms/#30191" class="Function">correctness</a> <a id="30182" class="Keyword">where</a>

  <a id="30191" href="/lia/part1/NormalForms/#30191" class="Function">correctness</a> <a id="30203" class="Symbol">:</a> <a id="30205" class="Bound">φ</a> <a id="30207" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="30209" href="/lia/part1/NormalForms/#30132" class="Bound">ξ</a> <a id="30211" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="30213" class="Symbol">(</a><a id="30214" class="Bound">φ</a> <a id="30216" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="30218" class="Bound">φ'</a><a id="30220" class="Symbol">)</a> <a id="30222" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="30224" class="Bound">ψ</a>
  <a id="30228" href="/lia/part1/NormalForms/#30191" class="Function">correctness</a> <a id="30240" href="/lia/part1/NormalForms/#30240" class="Bound">ρ</a> <a id="30242" class="Keyword">rewrite</a> <a id="30250" href="/lia/part1/NormalForms/#30141" class="Bound">ξ⟺φ'∧ψ</a> <a id="30257" href="/lia/part1/NormalForms/#30240" class="Bound">ρ</a> <a id="30259" class="Symbol">=</a> <a id="30261" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="30265" class="Symbol">(</a><a id="30266" href="/lia/part0/Booleans/#4069" class="UnsolvedMeta UnsolvedConstraint Function">assoc-∧𝔹</a><a id="30274" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="30275" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="30276" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="30277" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="30278" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="30279" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="30280" class="Symbol">)</a></pre>

<h2 id="case-1-dnf-of-a-disjunction">
<a class="anchor" href="#case-1-dnf-of-a-disjunction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Case 1: DNF of a disjunction</h2>

<pre class="Agda"><a id="DNF-∨"></a><a id="30324" href="/lia/part1/NormalForms/#30324" class="Function">DNF-∨</a> <a id="30330" class="Symbol">:</a> <a id="30332" class="Symbol">∀</a> <a id="30334" class="Symbol">{</a><a id="30335" href="/lia/part1/NormalForms/#30335" class="Bound">φ</a> <a id="30337" href="/lia/part1/NormalForms/#30337" class="Bound">ψ</a><a id="30338" class="Symbol">}</a> <a id="30340" class="Symbol">→</a> <a id="30342" href="/lia/part1/NormalForms/#29558" class="Datatype">DNF</a> <a id="30346" href="/lia/part1/NormalForms/#30335" class="Bound">φ</a> <a id="30348" class="Symbol">→</a> <a id="30350" href="/lia/part1/NormalForms/#29558" class="Datatype">DNF</a> <a id="30354" href="/lia/part1/NormalForms/#30337" class="Bound">ψ</a> <a id="30356" class="Symbol">→</a> <a id="30358" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="30361" href="/lia/part1/NormalForms/#30361" class="Bound">ξ</a> <a id="30363" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="30365" href="/lia/part1/NormalForms/#29558" class="Datatype">DNF</a> <a id="30369" href="/lia/part1/NormalForms/#30361" class="Bound">ξ</a> <a id="30371" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="30373" href="/lia/part1/NormalForms/#30361" class="Bound">ξ</a> <a id="30375" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="30377" href="/lia/part1/NormalForms/#30335" class="Bound">φ</a> <a id="30379" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="30381" href="/lia/part1/NormalForms/#30337" class="Bound">ψ</a>

<a id="30384" href="/lia/part1/NormalForms/#30324" class="Function">DNF-∨</a> <a id="30390" class="Symbol">{</a><a id="30391" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a><a id="30392" class="Symbol">}</a> <a id="30394" class="Symbol">{</a><a id="30395" href="/lia/part1/NormalForms/#30395" class="Bound">ψ</a><a id="30396" class="Symbol">}</a> <a id="30398" href="/lia/part1/NormalForms/#29587" class="InductiveConstructor">∅</a> <a id="30400" href="/lia/part1/NormalForms/#30400" class="Bound">DNFψ</a> <a id="30405" class="Symbol">=</a> <a id="30407" href="/lia/part1/NormalForms/#30395" class="Bound">ψ</a> <a id="30409" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="30411" href="/lia/part1/NormalForms/#30400" class="Bound">DNFψ</a> <a id="30416" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="30418" href="/lia/part1/NormalForms/#30439" class="Function">correctness</a> <a id="30430" class="Keyword">where</a>

  <a id="30439" href="/lia/part1/NormalForms/#30439" class="Function">correctness</a> <a id="30451" class="Symbol">:</a> <a id="30453" href="/lia/part1/NormalForms/#30395" class="Bound">ψ</a> <a id="30455" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="30457" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="30459" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="30461" href="/lia/part1/NormalForms/#30395" class="Bound">ψ</a>
  <a id="30465" href="/lia/part1/NormalForms/#30439" class="Function">correctness</a> <a id="30477" href="/lia/part1/NormalForms/#30477" class="Bound">ρ</a> <a id="30479" class="Keyword">with</a> <a id="30484" href="/lia/part1/Semantics/#12118" class="Function Operator">⟦</a> <a id="30486" href="/lia/part1/NormalForms/#30395" class="Bound">ψ</a> <a id="30488" href="/lia/part1/Semantics/#12118" class="Function Operator">⟧</a> <a id="30490" href="/lia/part1/NormalForms/#30477" class="Bound">ρ</a>
  <a id="30494" class="Symbol">...</a> <a id="30498" class="Symbol">|</a> <a id="30500" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="30503" class="Symbol">=</a> <a id="30505" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  <a id="30512" class="Symbol">...</a> <a id="30516" class="Symbol">|</a> <a id="30518" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="30521" class="Symbol">=</a> <a id="30523" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="30529" href="/lia/part1/NormalForms/#30324" class="Function">DNF-∨</a> <a id="30535" class="Symbol">{</a><a id="30536" href="/lia/part1/NormalForms/#30536" class="Bound">φ</a> <a id="30538" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="30540" href="/lia/part1/NormalForms/#30540" class="Bound">ψ</a><a id="30541" class="Symbol">}</a> <a id="30543" class="Symbol">{</a><a id="30544" href="/lia/part1/NormalForms/#30544" class="Bound">ξ</a><a id="30545" class="Symbol">}</a> <a id="30547" class="Symbol">(</a><a id="30548" href="/lia/part1/NormalForms/#30548" class="Bound">Cφ</a> <a id="30551" href="/lia/part1/NormalForms/#29599" class="InductiveConstructor Operator">,</a> <a id="30553" href="/lia/part1/NormalForms/#30553" class="Bound">DNFψ</a><a id="30557" class="Symbol">)</a> <a id="30559" href="/lia/part1/NormalForms/#30559" class="Bound">DNFξ</a> <a id="30564" class="Keyword">with</a> <a id="30569" href="/lia/part1/NormalForms/#30324" class="Function">DNF-∨</a> <a id="30575" href="/lia/part1/NormalForms/#30553" class="Bound">DNFψ</a> <a id="30580" href="/lia/part1/NormalForms/#30559" class="Bound">DNFξ</a>
<a id="30585" class="Symbol">...</a> <a id="30589" class="Symbol">|</a> <a id="30591" href="/lia/part1/NormalForms/#30591" class="Bound">η</a> <a id="30593" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="30595" href="/lia/part1/NormalForms/#30595" class="Bound">DNFη</a> <a id="30600" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="30602" href="/lia/part1/NormalForms/#30602" class="Bound">η⟺ψ∨ξ</a> <a id="30608" class="Symbol">=</a> <a id="30610" class="Bound">φ</a> <a id="30612" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="30614" href="/lia/part1/NormalForms/#30591" class="Bound">η</a> <a id="30616" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="30618" class="Symbol">(</a><a id="30619" class="Bound">Cφ</a> <a id="30622" href="/lia/part1/NormalForms/#29599" class="InductiveConstructor Operator">,</a> <a id="30624" href="/lia/part1/NormalForms/#30595" class="Bound">DNFη</a><a id="30628" class="Symbol">)</a> <a id="30630" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="30632" href="/lia/part1/NormalForms/#30653" class="Function">correctness</a> <a id="30644" class="Keyword">where</a>

  <a id="30653" href="/lia/part1/NormalForms/#30653" class="Function">correctness</a> <a id="30665" class="Symbol">:</a> <a id="30667" class="Bound">φ</a> <a id="30669" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="30671" href="/lia/part1/NormalForms/#30591" class="Bound">η</a> <a id="30673" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="30675" class="Symbol">(</a><a id="30676" class="Bound">φ</a> <a id="30678" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="30680" class="Bound">ψ</a><a id="30681" class="Symbol">)</a> <a id="30683" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="30685" class="Bound">ξ</a> 
  <a id="30690" href="/lia/part1/NormalForms/#30653" class="Function">correctness</a> <a id="30702" href="/lia/part1/NormalForms/#30702" class="Bound">ρ</a> <a id="30704" class="Keyword">rewrite</a> <a id="30712" href="/lia/part1/NormalForms/#30602" class="Bound">η⟺ψ∨ξ</a> <a id="30718" href="/lia/part1/NormalForms/#30702" class="Bound">ρ</a> <a id="30720" class="Symbol">=</a> <a id="30722" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="30726" class="Symbol">(</a><a id="30727" href="/lia/part0/Booleans/#3811" class="UnsolvedMeta UnsolvedConstraint Function">assoc-∨𝔹</a><a id="30735" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="30736" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="30737" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="30738" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="30739" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="30740" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="30741" class="Symbol">)</a></pre>

<h2 id="case-2-dnf-of-a-conjunction">
<a class="anchor" href="#case-2-dnf-of-a-conjunction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Case 2: DNF of a conjunction</h2>

<ul>
  <li>We first show how to add a single clause.</li>
</ul>

<pre class="Agda"><a id="DNF-∧-DNFClause"></a><a id="30830" href="/lia/part1/NormalForms/#30830" class="Function">DNF-∧-DNFClause</a> <a id="30846" class="Symbol">:</a> <a id="30848" class="Symbol">∀</a> <a id="30850" class="Symbol">{</a><a id="30851" href="/lia/part1/NormalForms/#30851" class="Bound">φ</a> <a id="30853" href="/lia/part1/NormalForms/#30853" class="Bound">ψ</a><a id="30854" class="Symbol">}</a> <a id="30856" class="Symbol">→</a> <a id="30858" href="/lia/part1/NormalForms/#29440" class="Datatype">DNFClause</a> <a id="30868" href="/lia/part1/NormalForms/#30851" class="Bound">φ</a> <a id="30870" class="Symbol">→</a> <a id="30872" href="/lia/part1/NormalForms/#29558" class="Datatype">DNF</a> <a id="30876" href="/lia/part1/NormalForms/#30853" class="Bound">ψ</a> <a id="30878" class="Symbol">→</a> <a id="30880" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="30883" href="/lia/part1/NormalForms/#30883" class="Bound">ξ</a> <a id="30885" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="30887" href="/lia/part1/NormalForms/#29558" class="Datatype">DNF</a> <a id="30891" href="/lia/part1/NormalForms/#30883" class="Bound">ξ</a> <a id="30893" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="30895" href="/lia/part1/NormalForms/#30883" class="Bound">ξ</a> <a id="30897" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="30899" href="/lia/part1/NormalForms/#30851" class="Bound">φ</a> <a id="30901" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="30903" href="/lia/part1/NormalForms/#30853" class="Bound">ψ</a>
<a id="30905" href="/lia/part1/NormalForms/#30830" class="Function">DNF-∧-DNFClause</a> <a id="30921" class="Symbol">{</a><a id="30922" href="/lia/part1/NormalForms/#30922" class="Bound">φ</a><a id="30923" class="Symbol">}</a> <a id="30925" class="Symbol">{</a><a id="30926" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a><a id="30927" class="Symbol">}</a> <a id="30929" href="/lia/part1/NormalForms/#30929" class="Bound">Cφ</a> <a id="30932" href="/lia/part1/NormalForms/#29587" class="InductiveConstructor">∅</a> <a id="30934" class="Symbol">=</a>  <a id="30937" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="30939" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="30941" href="/lia/part1/NormalForms/#29587" class="InductiveConstructor">∅</a> <a id="30943" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="30945" href="/lia/part1/NormalForms/#30966" class="Function">correctness</a> <a id="30957" class="Keyword">where</a>

  <a id="30966" href="/lia/part1/NormalForms/#30966" class="Function">correctness</a> <a id="30978" class="Symbol">:</a> <a id="30980" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="30982" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="30984" href="/lia/part1/NormalForms/#30922" class="Bound">φ</a> <a id="30986" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="30988" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a>
  <a id="30992" href="/lia/part1/NormalForms/#30966" class="Function">correctness</a> <a id="31004" href="/lia/part1/NormalForms/#31004" class="Bound">ρ</a> <a id="31006" class="Keyword">with</a> <a id="31011" href="/lia/part1/Semantics/#12118" class="Function Operator">⟦</a> <a id="31013" href="/lia/part1/NormalForms/#30922" class="Bound">φ</a> <a id="31015" href="/lia/part1/Semantics/#12118" class="Function Operator">⟧</a> <a id="31017" href="/lia/part1/NormalForms/#31004" class="Bound">ρ</a>
  <a id="31021" class="Symbol">...</a> <a id="31025" class="Symbol">|</a> <a id="31027" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="31030" class="Symbol">=</a> <a id="31032" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  <a id="31039" class="Symbol">...</a> <a id="31043" class="Symbol">|</a> <a id="31045" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="31048" class="Symbol">=</a> <a id="31050" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="31058" href="/lia/part1/NormalForms/#30830" class="Function">DNF-∧-DNFClause</a> <a id="31074" class="Symbol">{</a><a id="31075" href="/lia/part1/NormalForms/#31075" class="Bound">φ</a><a id="31076" class="Symbol">}</a> <a id="31078" class="Symbol">{</a><a id="31079" href="/lia/part1/NormalForms/#31079" class="Bound">ψ</a> <a id="31081" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="31083" href="/lia/part1/NormalForms/#31083" class="Bound">ξ</a><a id="31084" class="Symbol">}</a> <a id="31086" href="/lia/part1/NormalForms/#31086" class="Bound">Cφ</a> <a id="31089" class="Symbol">(</a><a id="31090" href="/lia/part1/NormalForms/#31090" class="Bound">Cψ</a> <a id="31093" href="/lia/part1/NormalForms/#29599" class="InductiveConstructor Operator">,</a> <a id="31095" href="/lia/part1/NormalForms/#31095" class="Bound">DNFξ</a><a id="31099" class="Symbol">)</a> <a id="31101" class="Keyword">with</a> <a id="31106" href="/lia/part1/NormalForms/#29855" class="Function">merge</a> <a id="31112" href="/lia/part1/NormalForms/#31086" class="Bound">Cφ</a> <a id="31115" href="/lia/part1/NormalForms/#31090" class="Bound">Cψ</a>
<a id="31118" class="Symbol">...</a> <a id="31122" class="Symbol">|</a> <a id="31124" href="/lia/part1/NormalForms/#31124" class="Bound">φψ</a> <a id="31127" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="31129" href="/lia/part1/NormalForms/#31129" class="Bound">Cφψ</a> <a id="31133" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="31135" href="/lia/part1/NormalForms/#31135" class="Bound">φψ⟺φ∧ψ</a> <a id="31142" class="Keyword">with</a> <a id="31147" href="/lia/part1/NormalForms/#30830" class="Function">DNF-∧-DNFClause</a> <a id="31163" class="Bound">Cφ</a> <a id="31166" class="Bound">DNFξ</a>
<a id="31171" class="Symbol">...</a> <a id="31175" class="Symbol">|</a> <a id="31177" href="/lia/part1/NormalForms/#31177" class="Bound">η</a> <a id="31179" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="31181" href="/lia/part1/NormalForms/#31181" class="Bound">DNFη</a> <a id="31186" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="31188" href="/lia/part1/NormalForms/#31188" class="Bound">η⟺φ∧ξ</a> <a id="31194" class="Symbol">=</a> <a id="31196" class="Bound">φψ</a> <a id="31199" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="31201" href="/lia/part1/NormalForms/#31177" class="Bound">η</a> <a id="31203" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="31205" class="Symbol">(</a><a id="31206" class="Bound">Cφψ</a> <a id="31210" href="/lia/part1/NormalForms/#29599" class="InductiveConstructor Operator">,</a> <a id="31212" href="/lia/part1/NormalForms/#31181" class="Bound">DNFη</a><a id="31216" class="Symbol">)</a> <a id="31218" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="31220" href="/lia/part1/NormalForms/#31241" class="Function">correctness</a> <a id="31232" class="Keyword">where</a>

  <a id="31241" href="/lia/part1/NormalForms/#31241" class="Function">correctness</a> <a id="31253" class="Symbol">:</a> <a id="31255" class="Bound">φψ</a> <a id="31258" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="31260" href="/lia/part1/NormalForms/#31177" class="Bound">η</a> <a id="31262" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="31264" class="Bound">φ</a> <a id="31266" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="31268" class="Symbol">(</a><a id="31269" class="Bound">ψ</a> <a id="31271" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="31273" class="Bound">ξ</a><a id="31274" class="Symbol">)</a> <a id="31276" class="Comment">-- crucial use of distributivity goes here</a>
  <a id="31321" href="/lia/part1/NormalForms/#31241" class="Function">correctness</a> <a id="31333" href="/lia/part1/NormalForms/#31333" class="Bound">ρ</a> <a id="31335" class="Keyword">rewrite</a> <a id="31343" class="Bound">φψ⟺φ∧ψ</a> <a id="31350" href="/lia/part1/NormalForms/#31333" class="Bound">ρ</a> <a id="31352" class="Symbol">|</a> <a id="31354" href="/lia/part1/NormalForms/#31188" class="Bound">η⟺φ∧ξ</a> <a id="31360" href="/lia/part1/NormalForms/#31333" class="Bound">ρ</a> <a id="31362" class="Symbol">=</a> <a id="31364" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="31368" class="Symbol">(</a><a id="31369" href="/lia/part0/Booleans/#4347" class="UnsolvedMeta UnsolvedConstraint Function">distr-left-∧∨𝔹</a><a id="31383" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="31384" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="31385" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="31386" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="31387" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="31388" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="31389" class="Symbol">)</a></pre>

<ul>
  <li>We now show how to distribute.</li>
</ul>

<pre class="Agda"><a id="DNF-∧"></a><a id="31434" href="/lia/part1/NormalForms/#31434" class="Function">DNF-∧</a> <a id="31440" class="Symbol">:</a> <a id="31442" class="Symbol">∀</a> <a id="31444" class="Symbol">{</a><a id="31445" href="/lia/part1/NormalForms/#31445" class="Bound">φ</a> <a id="31447" href="/lia/part1/NormalForms/#31447" class="Bound">ψ</a><a id="31448" class="Symbol">}</a> <a id="31450" class="Symbol">→</a> <a id="31452" href="/lia/part1/NormalForms/#29558" class="Datatype">DNF</a> <a id="31456" href="/lia/part1/NormalForms/#31445" class="Bound">φ</a> <a id="31458" class="Symbol">→</a> <a id="31460" href="/lia/part1/NormalForms/#29558" class="Datatype">DNF</a> <a id="31464" href="/lia/part1/NormalForms/#31447" class="Bound">ψ</a> <a id="31466" class="Symbol">→</a> <a id="31468" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="31471" href="/lia/part1/NormalForms/#31471" class="Bound">ξ</a> <a id="31473" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="31475" href="/lia/part1/NormalForms/#29558" class="Datatype">DNF</a> <a id="31479" href="/lia/part1/NormalForms/#31471" class="Bound">ξ</a> <a id="31481" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="31483" href="/lia/part1/NormalForms/#31471" class="Bound">ξ</a> <a id="31485" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="31487" href="/lia/part1/NormalForms/#31445" class="Bound">φ</a> <a id="31489" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="31491" href="/lia/part1/NormalForms/#31447" class="Bound">ψ</a>
<a id="31493" href="/lia/part1/NormalForms/#31434" class="Function">DNF-∧</a> <a id="31499" class="Symbol">{</a><a id="31500" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a><a id="31501" class="Symbol">}</a> <a id="31503" class="Symbol">{</a><a id="31504" href="/lia/part1/NormalForms/#31504" class="Bound">ψ</a><a id="31505" class="Symbol">}</a> <a id="31507" href="/lia/part1/NormalForms/#29587" class="InductiveConstructor">∅</a> <a id="31509" href="/lia/part1/NormalForms/#31509" class="Bound">DNFψ</a> <a id="31514" class="Symbol">=</a> <a id="31516" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="31518" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="31520" href="/lia/part1/NormalForms/#29587" class="InductiveConstructor">∅</a> <a id="31522" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="31524" href="/lia/part1/NormalForms/#31545" class="Function">correctness</a> <a id="31536" class="Keyword">where</a>

  <a id="31545" href="/lia/part1/NormalForms/#31545" class="Function">correctness</a> <a id="31557" class="Symbol">:</a> <a id="31559" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="31561" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="31563" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="31565" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="31567" href="/lia/part1/NormalForms/#31504" class="Bound">ψ</a>
  <a id="31571" href="/lia/part1/NormalForms/#31545" class="Function">correctness</a> <a id="31583" href="/lia/part1/NormalForms/#31583" class="Bound">ρ</a> <a id="31585" class="Symbol">=</a> <a id="31587" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="31595" href="/lia/part1/NormalForms/#31434" class="Function">DNF-∧</a> <a id="31601" class="Symbol">{</a><a id="31602" href="/lia/part1/NormalForms/#31602" class="Bound">φ</a> <a id="31604" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="31606" href="/lia/part1/NormalForms/#31606" class="Bound">φ'</a><a id="31608" class="Symbol">}</a> <a id="31610" class="Symbol">{</a><a id="31611" href="/lia/part1/NormalForms/#31611" class="Bound">ψ</a><a id="31612" class="Symbol">}</a> <a id="31614" class="Symbol">(</a><a id="31615" href="/lia/part1/NormalForms/#31615" class="Bound">Cφ</a> <a id="31618" href="/lia/part1/NormalForms/#29599" class="InductiveConstructor Operator">,</a> <a id="31620" href="/lia/part1/NormalForms/#31620" class="Bound">DNFφ'</a><a id="31625" class="Symbol">)</a> <a id="31627" href="/lia/part1/NormalForms/#31627" class="Bound">DNFψ</a> <a id="31632" class="Keyword">with</a> <a id="31637" href="/lia/part1/NormalForms/#30830" class="Function">DNF-∧-DNFClause</a> <a id="31653" href="/lia/part1/NormalForms/#31615" class="Bound">Cφ</a> <a id="31656" href="/lia/part1/NormalForms/#31627" class="Bound">DNFψ</a> <a id="31661" class="Symbol">|</a> <a id="31663" href="/lia/part1/NormalForms/#31434" class="Function">DNF-∧</a> <a id="31669" href="/lia/part1/NormalForms/#31620" class="Bound">DNFφ'</a> <a id="31675" href="/lia/part1/NormalForms/#31627" class="Bound">DNFψ</a>
<a id="31680" class="Symbol">...</a> <a id="31684" class="Symbol">|</a> <a id="31686" href="/lia/part1/NormalForms/#31686" class="Bound">ξ</a> <a id="31688" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="31690" href="/lia/part1/NormalForms/#31690" class="Bound">DNFξ</a> <a id="31695" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="31697" href="/lia/part1/NormalForms/#31697" class="Bound">ξ⟺φ∧ψ</a> <a id="31703" class="Symbol">|</a> <a id="31705" href="/lia/part1/NormalForms/#31705" class="Bound">η</a> <a id="31707" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="31709" href="/lia/part1/NormalForms/#31709" class="Bound">DNFη</a> <a id="31714" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="31716" href="/lia/part1/NormalForms/#31716" class="Bound">η⟺φ'∧ψ</a> <a id="31723" class="Keyword">with</a> <a id="31728" href="/lia/part1/NormalForms/#30324" class="Function">DNF-∨</a> <a id="31734" href="/lia/part1/NormalForms/#31690" class="Bound">DNFξ</a> <a id="31739" href="/lia/part1/NormalForms/#31709" class="Bound">DNFη</a>
<a id="31744" class="Symbol">...</a> <a id="31748" class="Symbol">|</a> <a id="31750" href="/lia/part1/NormalForms/#31750" class="Bound">μ</a> <a id="31752" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="31754" href="/lia/part1/NormalForms/#31754" class="Bound">DNFμ</a> <a id="31759" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="31761" href="/lia/part1/NormalForms/#31761" class="Bound">μ⟺ξ∨η</a> <a id="31767" class="Symbol">=</a> <a id="31769" href="/lia/part1/NormalForms/#31750" class="Bound">μ</a> <a id="31771" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="31773" href="/lia/part1/NormalForms/#31754" class="Bound">DNFμ</a> <a id="31778" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="31780" href="/lia/part1/NormalForms/#31801" class="Function">correctness</a> <a id="31792" class="Keyword">where</a>

  <a id="31801" href="/lia/part1/NormalForms/#31801" class="Function">correctness</a> <a id="31813" class="Symbol">:</a> <a id="31815" href="/lia/part1/NormalForms/#31750" class="Bound">μ</a> <a id="31817" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="31819" class="Symbol">(</a><a id="31820" class="Bound">φ</a> <a id="31822" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="31824" class="Bound">φ'</a><a id="31826" class="Symbol">)</a> <a id="31828" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="31830" class="Bound">ψ</a>
  <a id="31834" href="/lia/part1/NormalForms/#31801" class="Function">correctness</a> <a id="31846" href="/lia/part1/NormalForms/#31846" class="Bound">ρ</a> <a id="31848" class="Keyword">rewrite</a> <a id="31856" href="/lia/part1/NormalForms/#31761" class="Bound">μ⟺ξ∨η</a> <a id="31862" href="/lia/part1/NormalForms/#31846" class="Bound">ρ</a> <a id="31864" class="Symbol">|</a> <a id="31866" class="Bound">η⟺φ'∧ψ</a> <a id="31873" href="/lia/part1/NormalForms/#31846" class="Bound">ρ</a> <a id="31875" class="Symbol">|</a> <a id="31877" class="Bound">ξ⟺φ∧ψ</a> <a id="31883" href="/lia/part1/NormalForms/#31846" class="Bound">ρ</a> <a id="31885" class="Symbol">=</a> <a id="31887" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="31891" class="Symbol">(</a><a id="31892" href="/lia/part0/Booleans/#4656" class="UnsolvedMeta UnsolvedConstraint Function">distr-right-∧∨𝔹</a><a id="31907" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="31908" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="31909" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="31910" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="31911" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="31912" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="31913" class="Symbol">)</a></pre>

<p>We show that every formula of classical propositional logic can be
transformed into an equivalent DNF formula. We assume an input in NNF.</p>

<pre class="Agda"><a id="dnf"></a><a id="32063" href="/lia/part1/NormalForms/#32063" class="Function">dnf</a> <a id="32067" class="Symbol">:</a> <a id="32069" class="Symbol">∀</a> <a id="32071" class="Symbol">{</a><a id="32072" href="/lia/part1/NormalForms/#32072" class="Bound">φ</a><a id="32073" class="Symbol">}</a> <a id="32075" class="Symbol">→</a> <a id="32077" href="/lia/part1/NormalForms/#22403" class="Datatype">NNF</a> <a id="32081" href="/lia/part1/NormalForms/#32072" class="Bound">φ</a> <a id="32083" class="Symbol">→</a> <a id="32085" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="32088" href="/lia/part1/NormalForms/#32088" class="Bound">ψ</a> <a id="32090" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="32092" href="/lia/part1/NormalForms/#29558" class="Datatype">DNF</a> <a id="32096" href="/lia/part1/NormalForms/#32088" class="Bound">ψ</a> <a id="32098" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="32100" href="/lia/part1/NormalForms/#32088" class="Bound">ψ</a> <a id="32102" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="32104" href="/lia/part1/NormalForms/#32072" class="Bound">φ</a>
<a id="32106" href="/lia/part1/NormalForms/#32063" class="Function">dnf</a> <a id="32110" href="/lia/part1/NormalForms/#22431" class="InductiveConstructor">⊤</a> <a id="32112" class="Symbol">=</a> <a id="32114" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="32116" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="32118" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="32120" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="32122" class="Symbol">(</a><a id="32123" href="/lia/part1/NormalForms/#29474" class="InductiveConstructor">∅</a> <a id="32125" href="/lia/part1/NormalForms/#29599" class="InductiveConstructor Operator">,</a> <a id="32127" href="/lia/part1/NormalForms/#29587" class="InductiveConstructor">∅</a><a id="32128" class="Symbol">)</a> <a id="32130" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="32132" href="/lia/part1/NormalForms/#32153" class="Function">correctness</a> <a id="32144" class="Keyword">where</a>

  <a id="32153" href="/lia/part1/NormalForms/#32153" class="Function">correctness</a> <a id="32165" class="Symbol">:</a> <a id="32167" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="32169" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="32171" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="32173" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="32175" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a>
  <a id="32179" href="/lia/part1/NormalForms/#32153" class="Function">correctness</a> <a id="32191" href="/lia/part1/NormalForms/#32191" class="Bound">ρ</a> <a id="32193" class="Symbol">=</a> <a id="32195" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="32203" href="/lia/part1/NormalForms/#32063" class="Function">dnf</a> <a id="32207" href="/lia/part1/NormalForms/#22443" class="InductiveConstructor">⊥</a> <a id="32209" class="Symbol">=</a> <a id="32211" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="32213" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="32215" href="/lia/part1/NormalForms/#29587" class="InductiveConstructor">∅</a> <a id="32217" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="32219" href="/lia/part1/NormalForms/#32240" class="Function">correctness</a> <a id="32231" class="Keyword">where</a>

  <a id="32240" href="/lia/part1/NormalForms/#32240" class="Function">correctness</a> <a id="32252" class="Symbol">:</a> <a id="32254" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="32256" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="32258" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a>
  <a id="32262" href="/lia/part1/NormalForms/#32240" class="Function">correctness</a> <a id="32274" href="/lia/part1/NormalForms/#32274" class="Bound">ρ</a> <a id="32276" class="Symbol">=</a> <a id="32278" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="32286" href="/lia/part1/NormalForms/#32063" class="Function">dnf</a> <a id="32290" class="Symbol">(</a><a id="32291" href="/lia/part1/NormalForms/#22455" class="InductiveConstructor Operator">`</a> <a id="32293" href="/lia/part1/NormalForms/#32293" class="Bound">p</a><a id="32294" class="Symbol">)</a> <a id="32296" class="Symbol">=</a> <a id="32298" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="32300" href="/lia/part1/NormalForms/#32293" class="Bound">p</a> <a id="32302" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="32304" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="32306" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="32308" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="32310" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="32312" class="Symbol">((</a><a id="32314" href="/lia/part1/NormalForms/#29352" class="InductiveConstructor">Pos</a> <a id="32318" href="/lia/part1/NormalForms/#32293" class="Bound">p</a> <a id="32320" href="/lia/part1/NormalForms/#29492" class="InductiveConstructor Operator">,</a> <a id="32322" href="/lia/part1/NormalForms/#29474" class="InductiveConstructor">∅</a><a id="32323" class="Symbol">)</a> <a id="32325" href="/lia/part1/NormalForms/#29599" class="InductiveConstructor Operator">,</a> <a id="32327" href="/lia/part1/NormalForms/#29587" class="InductiveConstructor">∅</a><a id="32328" class="Symbol">)</a> <a id="32330" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="32332" href="/lia/part1/NormalForms/#32353" class="Function">correctness</a> <a id="32344" class="Keyword">where</a>

  <a id="32353" href="/lia/part1/NormalForms/#32353" class="Function">correctness</a> <a id="32365" class="Symbol">:</a> <a id="32367" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="32369" href="/lia/part1/NormalForms/#32293" class="Bound">p</a> <a id="32371" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="32373" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="32375" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="32377" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="32379" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="32381" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="32383" href="/lia/part1/NormalForms/#32293" class="Bound">p</a>
  <a id="32387" href="/lia/part1/NormalForms/#32353" class="Function">correctness</a> <a id="32399" href="/lia/part1/NormalForms/#32399" class="Bound">ρ</a> <a id="32401" class="Keyword">with</a> <a id="32406" href="/lia/part1/NormalForms/#32399" class="Bound">ρ</a> <a id="32408" href="/lia/part1/NormalForms/#32293" class="Bound">p</a>
  <a id="32412" class="Symbol">...</a> <a id="32416" class="Symbol">|</a> <a id="32418" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="32421" class="Symbol">=</a> <a id="32423" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  <a id="32430" class="Symbol">...</a> <a id="32434" class="Symbol">|</a> <a id="32436" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="32439" class="Symbol">=</a> <a id="32441" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="32449" href="/lia/part1/NormalForms/#32063" class="Function">dnf</a> <a id="32453" class="Symbol">(</a><a id="32454" href="/lia/part1/NormalForms/#22489" class="InductiveConstructor Operator">¬`</a> <a id="32457" href="/lia/part1/NormalForms/#32457" class="Bound">p</a><a id="32458" class="Symbol">)</a> <a id="32460" class="Symbol">=</a> <a id="32462" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="32464" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="32466" href="/lia/part1/NormalForms/#32457" class="Bound">p</a> <a id="32468" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="32470" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="32472" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="32474" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="32476" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="32478" class="Symbol">((</a><a id="32480" href="/lia/part1/NormalForms/#29391" class="InductiveConstructor">Neg</a> <a id="32484" href="/lia/part1/NormalForms/#32457" class="Bound">p</a> <a id="32486" href="/lia/part1/NormalForms/#29492" class="InductiveConstructor Operator">,</a> <a id="32488" href="/lia/part1/NormalForms/#29474" class="InductiveConstructor">∅</a><a id="32489" class="Symbol">)</a> <a id="32491" href="/lia/part1/NormalForms/#29599" class="InductiveConstructor Operator">,</a> <a id="32493" href="/lia/part1/NormalForms/#29587" class="InductiveConstructor">∅</a><a id="32494" class="Symbol">)</a> <a id="32496" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="32498" href="/lia/part1/NormalForms/#32519" class="Function">correctness</a> <a id="32510" class="Keyword">where</a>

  <a id="32519" href="/lia/part1/NormalForms/#32519" class="Function">correctness</a> <a id="32531" class="Symbol">:</a> <a id="32533" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="32535" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="32537" href="/lia/part1/NormalForms/#32457" class="Bound">p</a> <a id="32539" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="32541" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="32543" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="32545" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="32547" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="32549" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="32551" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="32553" href="/lia/part1/NormalForms/#32457" class="Bound">p</a>
  <a id="32557" href="/lia/part1/NormalForms/#32519" class="Function">correctness</a> <a id="32569" href="/lia/part1/NormalForms/#32569" class="Bound">ρ</a> <a id="32571" class="Keyword">with</a> <a id="32576" href="/lia/part1/NormalForms/#32569" class="Bound">ρ</a> <a id="32578" href="/lia/part1/NormalForms/#32457" class="Bound">p</a>
  <a id="32582" class="Symbol">...</a> <a id="32586" class="Symbol">|</a> <a id="32588" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="32591" class="Symbol">=</a> <a id="32593" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  <a id="32600" class="Symbol">...</a> <a id="32604" class="Symbol">|</a> <a id="32606" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="32609" class="Symbol">=</a> <a id="32611" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="32617" href="/lia/part1/NormalForms/#32063" class="Function">dnf</a> <a id="32621" class="Symbol">{</a><a id="32622" href="/lia/part1/NormalForms/#32622" class="Bound">φ</a> <a id="32624" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="32626" href="/lia/part1/NormalForms/#32626" class="Bound">ψ</a><a id="32627" class="Symbol">}</a> <a id="32629" class="Symbol">(</a><a id="32630" href="/lia/part1/NormalForms/#32630" class="Bound">NNFφ</a> <a id="32635" href="/lia/part1/NormalForms/#22526" class="InductiveConstructor Operator">∧</a> <a id="32637" href="/lia/part1/NormalForms/#32637" class="Bound">NNFψ</a><a id="32641" class="Symbol">)</a> <a id="32643" class="Keyword">with</a> <a id="32648" href="/lia/part1/NormalForms/#32063" class="Function">dnf</a> <a id="32652" href="/lia/part1/NormalForms/#32630" class="Bound">NNFφ</a> <a id="32657" class="Symbol">|</a> <a id="32659" href="/lia/part1/NormalForms/#32063" class="Function">dnf</a> <a id="32663" href="/lia/part1/NormalForms/#32637" class="Bound">NNFψ</a>
<a id="32668" class="Symbol">...</a> <a id="32672" class="Symbol">|</a> <a id="32674" href="/lia/part1/NormalForms/#32674" class="Bound">φ'</a> <a id="32677" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="32679" href="/lia/part1/NormalForms/#32679" class="Bound">DNFφ'</a> <a id="32685" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="32687" href="/lia/part1/NormalForms/#32687" class="Bound">φ'⟺φ</a> <a id="32692" class="Symbol">|</a> <a id="32694" href="/lia/part1/NormalForms/#32694" class="Bound">ψ'</a> <a id="32697" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="32699" href="/lia/part1/NormalForms/#32699" class="Bound">DNFψ'</a> <a id="32705" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="32707" href="/lia/part1/NormalForms/#32707" class="Bound">ψ'⟺ψ</a> <a id="32712" class="Keyword">with</a> <a id="32717" href="/lia/part1/NormalForms/#31434" class="Function">DNF-∧</a> <a id="32723" href="/lia/part1/NormalForms/#32679" class="Bound">DNFφ'</a> <a id="32729" href="/lia/part1/NormalForms/#32699" class="Bound">DNFψ'</a>
<a id="32735" class="Symbol">...</a> <a id="32739" class="Symbol">|</a> <a id="32741" href="/lia/part1/NormalForms/#32741" class="Bound">ξ</a> <a id="32743" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="32745" href="/lia/part1/NormalForms/#32745" class="Bound">DNFξ</a> <a id="32750" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="32752" href="/lia/part1/NormalForms/#32752" class="Bound">ξ⟺φ'∧ψ'</a> <a id="32760" class="Symbol">=</a> <a id="32762" href="/lia/part1/NormalForms/#32741" class="Bound">ξ</a> <a id="32764" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="32766" href="/lia/part1/NormalForms/#32745" class="Bound">DNFξ</a> <a id="32771" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="32773" href="/lia/part1/NormalForms/#32794" class="Function">correctness</a> <a id="32785" class="Keyword">where</a>

  <a id="32794" href="/lia/part1/NormalForms/#32794" class="Function">correctness</a> <a id="32806" class="Symbol">:</a> <a id="32808" href="/lia/part1/NormalForms/#32741" class="Bound">ξ</a> <a id="32810" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="32812" class="Bound">φ</a> <a id="32814" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="32816" class="Bound">ψ</a>
  <a id="32820" href="/lia/part1/NormalForms/#32794" class="Function">correctness</a> <a id="32832" href="/lia/part1/NormalForms/#32832" class="Bound">ρ</a> <a id="32834" class="Keyword">rewrite</a> <a id="32842" href="/lia/part1/NormalForms/#32752" class="Bound">ξ⟺φ'∧ψ'</a> <a id="32850" href="/lia/part1/NormalForms/#32832" class="Bound">ρ</a> <a id="32852" class="Symbol">|</a> <a id="32854" class="Bound">φ'⟺φ</a> <a id="32859" href="/lia/part1/NormalForms/#32832" class="Bound">ρ</a> <a id="32861" class="Symbol">|</a> <a id="32863" class="Bound">ψ'⟺ψ</a> <a id="32868" href="/lia/part1/NormalForms/#32832" class="Bound">ρ</a> <a id="32870" class="Symbol">=</a> <a id="32872" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="32878" href="/lia/part1/NormalForms/#32063" class="Function">dnf</a> <a id="32882" class="Symbol">{</a><a id="32883" href="/lia/part1/NormalForms/#32883" class="Bound">φ</a> <a id="32885" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="32887" href="/lia/part1/NormalForms/#32887" class="Bound">ψ</a><a id="32888" class="Symbol">}</a> <a id="32890" class="Symbol">(</a><a id="32891" href="/lia/part1/NormalForms/#32891" class="Bound">NNFφ</a> <a id="32896" href="/lia/part1/NormalForms/#22562" class="InductiveConstructor Operator">∨</a> <a id="32898" href="/lia/part1/NormalForms/#32898" class="Bound">NNFψ</a><a id="32902" class="Symbol">)</a> <a id="32904" class="Keyword">with</a> <a id="32909" href="/lia/part1/NormalForms/#32063" class="Function">dnf</a> <a id="32913" href="/lia/part1/NormalForms/#32891" class="Bound">NNFφ</a> <a id="32918" class="Symbol">|</a> <a id="32920" href="/lia/part1/NormalForms/#32063" class="Function">dnf</a> <a id="32924" href="/lia/part1/NormalForms/#32898" class="Bound">NNFψ</a>
<a id="32929" class="Symbol">...</a> <a id="32933" class="Symbol">|</a> <a id="32935" href="/lia/part1/NormalForms/#32935" class="Bound">φ'</a> <a id="32938" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="32940" href="/lia/part1/NormalForms/#32940" class="Bound">DNFφ'</a> <a id="32946" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="32948" href="/lia/part1/NormalForms/#32948" class="Bound">φ'⟺φ</a> <a id="32953" class="Symbol">|</a> <a id="32955" href="/lia/part1/NormalForms/#32955" class="Bound">ψ'</a> <a id="32958" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="32960" href="/lia/part1/NormalForms/#32960" class="Bound">DNFψ'</a> <a id="32966" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="32968" href="/lia/part1/NormalForms/#32968" class="Bound">ψ'⟺ψ</a> <a id="32973" class="Keyword">with</a> <a id="32978" href="/lia/part1/NormalForms/#30324" class="Function">DNF-∨</a> <a id="32984" href="/lia/part1/NormalForms/#32940" class="Bound">DNFφ'</a> <a id="32990" href="/lia/part1/NormalForms/#32960" class="Bound">DNFψ'</a>
<a id="32996" class="Symbol">...</a> <a id="33000" class="Symbol">|</a> <a id="33002" href="/lia/part1/NormalForms/#33002" class="Bound">ξ</a> <a id="33004" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="33006" href="/lia/part1/NormalForms/#33006" class="Bound">DNFξ</a> <a id="33011" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="33013" href="/lia/part1/NormalForms/#33013" class="Bound">ξ⟺φ'∨ψ'</a> <a id="33021" class="Symbol">=</a> <a id="33023" href="/lia/part1/NormalForms/#33002" class="Bound">ξ</a> <a id="33025" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="33027" href="/lia/part1/NormalForms/#33006" class="Bound">DNFξ</a> <a id="33032" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="33034" href="/lia/part1/NormalForms/#33055" class="Function">correctness</a> <a id="33046" class="Keyword">where</a>

  <a id="33055" href="/lia/part1/NormalForms/#33055" class="Function">correctness</a> <a id="33067" class="Symbol">:</a> <a id="33069" href="/lia/part1/NormalForms/#33002" class="Bound">ξ</a> <a id="33071" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="33073" class="Bound">φ</a> <a id="33075" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="33077" class="Bound">ψ</a>
  <a id="33081" href="/lia/part1/NormalForms/#33055" class="Function">correctness</a> <a id="33093" href="/lia/part1/NormalForms/#33093" class="Bound">ρ</a> <a id="33095" class="Keyword">rewrite</a> <a id="33103" href="/lia/part1/NormalForms/#33013" class="Bound">ξ⟺φ'∨ψ'</a> <a id="33111" href="/lia/part1/NormalForms/#33093" class="Bound">ρ</a> <a id="33113" class="Symbol">|</a> <a id="33115" class="Bound">φ'⟺φ</a> <a id="33120" href="/lia/part1/NormalForms/#33093" class="Bound">ρ</a> <a id="33122" class="Symbol">|</a> <a id="33124" class="Bound">ψ'⟺ψ</a> <a id="33129" href="/lia/part1/NormalForms/#33093" class="Bound">ρ</a> <a id="33131" class="Symbol">=</a> <a id="33133" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<h1 id="CNF">
<a class="anchor" href="#CNF" aria-hidden="true"><span class="octicon octicon-link"></span></a>Conjunctive normal form</h1>

<p>CNF is dual to DNF. Is the exponential CNF transformation useful
anywhere?</p>

<pre class="Agda"><a id="33257" class="Keyword">data</a> <a id="CNFClause"></a><a id="33262" href="/lia/part1/NormalForms/#33262" class="Datatype">CNFClause</a> <a id="33272" class="Symbol">:</a> <a id="33274" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a> <a id="33282" class="Symbol">→</a> <a id="33284" class="PrimitiveType">Set</a> <a id="33288" class="Keyword">where</a>
  <a id="CNFClause.∅"></a><a id="33296" href="/lia/part1/NormalForms/#33296" class="InductiveConstructor">∅</a> <a id="33298" class="Symbol">:</a> <a id="33300" href="/lia/part1/NormalForms/#33262" class="Datatype">CNFClause</a> <a id="33310" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a>
  <a id="CNFClause._,_"></a><a id="33314" href="/lia/part1/NormalForms/#33314" class="InductiveConstructor Operator">_,_</a> <a id="33318" class="Symbol">:</a> <a id="33320" class="Symbol">∀</a> <a id="33322" class="Symbol">{</a><a id="33323" href="/lia/part1/NormalForms/#33323" class="Bound">φ</a> <a id="33325" href="/lia/part1/NormalForms/#33325" class="Bound">ψ</a><a id="33326" class="Symbol">}</a> <a id="33328" class="Symbol">→</a> <a id="33330" href="/lia/part1/NormalForms/#29320" class="Datatype">Literal</a> <a id="33338" href="/lia/part1/NormalForms/#33323" class="Bound">φ</a> <a id="33340" class="Symbol">→</a> <a id="33342" href="/lia/part1/NormalForms/#33262" class="Datatype">CNFClause</a> <a id="33352" href="/lia/part1/NormalForms/#33325" class="Bound">ψ</a> <a id="33354" class="Symbol">→</a> <a id="33356" href="/lia/part1/NormalForms/#33262" class="Datatype">CNFClause</a> <a id="33366" class="Symbol">(</a><a id="33367" href="/lia/part1/NormalForms/#33323" class="Bound">φ</a> <a id="33369" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="33371" href="/lia/part1/NormalForms/#33325" class="Bound">ψ</a><a id="33372" class="Symbol">)</a>

<a id="33375" class="Keyword">data</a> <a id="CNF"></a><a id="33380" href="/lia/part1/NormalForms/#33380" class="Datatype">CNF</a> <a id="33384" class="Symbol">:</a> <a id="33386" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a> <a id="33394" class="Symbol">→</a> <a id="33396" class="PrimitiveType">Set</a> <a id="33400" class="Keyword">where</a>
  <a id="CNF.∅"></a><a id="33408" href="/lia/part1/NormalForms/#33408" class="InductiveConstructor">∅</a> <a id="33410" class="Symbol">:</a> <a id="33412" href="/lia/part1/NormalForms/#33380" class="Datatype">CNF</a> <a id="33416" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a>
  <a id="CNF._,_"></a><a id="33420" href="/lia/part1/NormalForms/#33420" class="InductiveConstructor Operator">_,_</a> <a id="33424" class="Symbol">:</a> <a id="33426" class="Symbol">∀</a> <a id="33428" class="Symbol">{</a><a id="33429" href="/lia/part1/NormalForms/#33429" class="Bound">φ</a> <a id="33431" href="/lia/part1/NormalForms/#33431" class="Bound">ψ</a><a id="33432" class="Symbol">}</a> <a id="33434" class="Symbol">→</a> <a id="33436" href="/lia/part1/NormalForms/#33262" class="Datatype">CNFClause</a> <a id="33446" href="/lia/part1/NormalForms/#33429" class="Bound">φ</a> <a id="33448" class="Symbol">→</a> <a id="33450" href="/lia/part1/NormalForms/#33380" class="Datatype">CNF</a> <a id="33454" href="/lia/part1/NormalForms/#33431" class="Bound">ψ</a> <a id="33456" class="Symbol">→</a> <a id="33458" href="/lia/part1/NormalForms/#33380" class="Datatype">CNF</a> <a id="33462" class="Symbol">(</a><a id="33463" href="/lia/part1/NormalForms/#33429" class="Bound">φ</a> <a id="33465" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="33467" href="/lia/part1/NormalForms/#33431" class="Bound">ψ</a><a id="33468" class="Symbol">)</a></pre>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>We slightly depart from a more standard definition of NNF, whereby
<a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> and
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> are not allowed as proper
subformulas of an NNF formula. In other words, according to our
definition <code class="language-plaintext highlighter-rouge">` p₀ ∨ ⊥</code> is in NNF, while it is not according to
the more restrictive one. By applying
<a href="../../part1/Semantics#simplify"><code class="language-plaintext highlighter-rouge">simplify</code></a> as a preprocessing step
we can remove such occurrences of
<a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> ,
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> . Formally proving that the
resulting formulas do not contain
<a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> ,
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> as proper subformulas, while
possible, would introduce an extra overhead obscuring the main point
about NNF, which is the handling of negation. For this reason, we
stick here to our slightly more relaxed NNF definition. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
  </ol>
</div>

    </div>
  
    <p style="text-align:center;">
    
    
    
    <a alt="Part" href="/lia/part1/index/">Part</a>
    &bullet;
    
    
    <a alt="Source code" href="https://github.com/lclem/lia/blob/main/src/part1/NormalForms.lagda.md">Source</a>
    
    
    
</p>

    <p class="p-name"> Last-modified: Nov 21 08:03:38 2020 </p>
  </article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/lia/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Logic in Agda</h2><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Lorenzo Clemente</li>
          <li><a class="u-email" href="mailto:clementelorenzo@gmail.com">clementelorenzo@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/lclem"><svg class="svg-icon"><use xlink:href="/lia/assets/minima-social-icons.svg#github"></use></svg> <span class="username">lclem</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
  </div>
</footer>

<!-- Parse the Latex divs with Katex
<script type="text/javascript">
  $("script[type='math/tex']").replaceWith(
    function(){
      var tex = $(this).text();
      return katex.renderToString(tex, {displayMode: false});
  });
  
  $("script[type='math/tex; mode=display']").replaceWith(
    function(){
      var tex = $(this).text();
      return katex.renderToString(tex.replace(/%.*/g, ''), {displayMode: true});
  });
</script>
-->

<script type="text/javascript" src="/lia/assets/hidebox.js"></script>
</body>

</html>
