<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Normal forms 🚧 | Logic in Agda</title><!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Normal forms 🚧" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Propositional and fist-order logic developed with the proof assistant Agda." />
<meta property="og:description" content="Propositional and fist-order logic developed with the proof assistant Agda." />
<link rel="canonical" href="/lia/part1/NormalForms/" />
<meta property="og:url" content="/lia/part1/NormalForms/" />
<meta property="og:site_name" content="Logic in Agda" />
<script type="application/ld+json">
{"url":"/lia/part1/NormalForms/","headline":"Normal forms 🚧","description":"Propositional and fist-order logic developed with the proof assistant Agda.","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/lia/assets/main.css">
  <!-- <link rel="stylesheet" href="/lia/assets/custom.css"> --><!-- Mathjax Support -->
  <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  <!-- Load KaTeX -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.js"></script>

<script type="text/x-thebe-config">
  {
    bootstrap: true,
    requestKernel: true,
    runAllCells: false,
    selector: "[data-executable]",
    predefinedOutput: false,
    codeMirrorConfig: {
        //theme: "idea",
        language: "agda",
        readOnly: false,
        lineNumbers: true,
        keyMap: "default",
    },
    kernelOptions: {
        name: "agda",
        kernelName: "agda",
        path: "src/",
        loadFromStore: true,
        persistent: true,
        // notebook server configuration; not needed with binder
        serverSettings: {
              baseUrl: "http://127.0.0.1:8888",
              token: "test-secret",
            },
    },
    binderOptions: {
      repo: "lclem/lia", // need to put here the actual github repo (if it is a fork)
      ref: "main",
      binderUrl: "https://mybinder.org",
      repoProvider: "github",
      savedSession: {
        enabled: true,
        maxAge: 86400, // the max age in seconds to consider re-using a session
        storagePrefix: "thebe-binder-lia-"
      },
    },
  }
</script>

<!-- <script type="text/javascript" src="https://unpkg.com/thebelab@latest"></script> -->

<!-- our own version of the thebe library: -->
<script type="text/javascript" src="/lia/thebe/lib/index.js"></script>

<!-- highlighting for Agda -->
<script src="/lia/codemirror-agda/lib/index.js"></script>

</head>
<body><header class="site-header">

    <div class="wrapper">

        <a class="site-title" href="/lia/">Logic in Agda</a>

        <nav class="site-nav">
            <!-- <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                    <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                    <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                    <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
                </svg>
            </span> -->

            <div class="trigger">
                <a class="page-link" href="/lia/part0/index/">Part 0</a>
                <a class="page-link" href="/lia/part1/index/">Part 1</a>
                <a class="page-link" href="/lia/part2/index/">Part 2</a>
                <a class="page-link" href="/lia/part3/index/">Part 3</a>
                <a class="page-link" href="/lia/part4/index/">Part 4</a>
                <span class="kernel-status">
                    <button class="kernel-status-button" onclick="kernel_status_clicked()" title="kernel status"></button>
                    <span id="kernel-messages" class="kernel-messages"></span>
                </span>
                <div id="connection_options" class="options sidebar" style="text-align: left; line-height: normal; max-width: 800px; padding: 10px; border-radius: 15px;">
                    <!-- display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: space-between; -->
                    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
                    <div>
                        <label for="username" style="color: white;">User:</label>
                        <input type="text" placeholder="github username" id="username" name="username">
                        <label for="password" style="color: white;">Password:</label>
                        <input type="password" placeholder="password" id="password" name="password">
                    </div>
                    <div>
                        <label for="baseUrl" style="color: white;">Base URL:</label>
                        <input type="text" placeholder="baseUrl" id="baseUrl" name="baseUrl" value="http://127.0.0.1:8888">
                        <label for="token" style="color: white;">Token:</label>
                        <input type="text" placeholder="token" id="token" name="token" value="test-secret">
                    </div>
                    <div>
                        <label for="repository" style="color: white;">Use binder:</label>
                        <label class="switch" style="vertical-align: middle; margin: 10px;">
                            <input type="checkbox" id="useBinder" name="useBinder">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div>
                        <label for="repository" style="color: white;">Github repo:</label>
                        <input type="text" placeholder="repository" id="repository" name="repository" value="">

                        <label for="ref" style="color: white;">Branch:</label>
                        <input type="text" placeholder="ref" id="ref" name="ref" value="main">

                        <label for="binderUrl" style="color: white;">Binder URL:</label>                        
                        <input type="text" placeholder="binderUrl" id="binderUrl" name="binderUrl" value="https://mybinder.org">
                    </div>
                </div>
            </div>

            <style>
                .switch {
                    position: relative;
                    display: inline-block;
                    width: 40px;
                    height: 20px;
                }

                /* Hide default HTML checkbox */
                .switch input {
                    opacity: 0;
                    width: 0;
                    height: 0;
                }

                /* The slider */
                .slider {
                    position: absolute;
                    cursor: pointer;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background-color: #ccc;
                    -webkit-transition: .4s;
                    transition: .4s;
                }

                .slider:before {
                    position: absolute;
                    content: "";
                    height: 16px;
                    width: 16px;
                    left: 2px;
                    /* right: 4px; */
                    bottom: 2px;
                    top: 2px;
                    background-color: white;
                    -webkit-transition: .4s;
                    transition: .4s;
                }

                input:checked + .slider {
                    background-color: #2196F3;
                }

                input:focus + .slider {
                    box-shadow: 0 0 1px #2196F3;
                }

                input:checked + .slider:before {
                    -webkit-transform: translateX(18px);
                    -ms-transform: translateX(18px);
                    transform: translateX(18px);
                }

                /* Rounded sliders */
                .slider.round {
                    border-radius: 30px;
                }

                .slider.round:before {
                border-radius: 50%;
                }

                .sidebar input[type=text] {
                    padding: 6px;
                    margin-top: 8px;
                    /* font-size: 17px; */
                    border: none;
                    /* width: 150px; */
                }

                .sidebar {
                    /* height: 100%; */
                    width: 0;
                    position: fixed;
                    z-index: 1000;
                    top: 0;
                    right: 20px;
                    background-color: rgba(17, 17, 17, 0.637);
                    /* overflow-x: hidden; */
                    transition: 0.5s;
                    padding-top: 60px;
                    display: none;
                    margin-top: 60px;
                }

                .sidebar .closebtn {
                    position: absolute;
                    color: white;
                    top: 0;
                    right: 10px;
                    font-size: 24px;
                    margin-left: 20px;
                }

            </style>

            <script>
                //  var storedUsername = localStorage.getItem("username");
                //  localStorage.setItem("username", storedUsername.value);
            
                function persistInput(input) {
                    var key = "input-" + input.id;
                    var storedValue = localStorage.getItem(key);
                
                    console.info("Persisting input: ", input);
                
                    if (storedValue) {

                        console.info("restoring value ", storedValue, " for ", input);

                        if(input.type == "checkbox") {
                            if(storedValue=="yes") {
                                input.setAttribute("checked", "");
                            }
                            else {
                                input.removeAttribute("checked");
                            }
                        }
                        else {
                            input.value = storedValue;
                        }
                    }

                    input.addEventListener('input', function () {
                        console.info("input changed: key = ", key, "; value = ", input);

                        if(input.type == "checkbox") {

                            var checked = localStorage.getItem(key);

                            if (checked == "yes") {
                                localStorage.setItem(key, "no");
                            }
                            else {
                                localStorage.setItem(key, "yes");
                            }

                            console.info("checked: ", localStorage.getItem(key));
                        }
                        else {
                            console.info("value: ", input.value);
                            localStorage.setItem(key, input.value);
                        }
                    });
                    }
                
                    persistInput(document.getElementById("username"));
                    persistInput(document.getElementById("password"));

                    persistInput(document.getElementById("baseUrl"));
                    persistInput(document.getElementById("token"));

                    persistInput(document.getElementById("useBinder"));
                    persistInput(document.getElementById("repository"));
                    persistInput(document.getElementById("ref"));
                    persistInput(document.getElementById("binderUrl"));

                    // init
                    document.getElementById("connection_options").style.display = "none";

                    function kernel_status_clicked() {
                
                        console.info("Clicked kernel status");

                        document.getElementById("kernel-messages").style.display="none";

                        document.getElementById("connection_options").style.width = "750px";
                        document.getElementById("connection_options").style.display = "block";
                        //document.getElementById("header").style.marginLeft = "250px";

                    }

                    function closeNav() {

                        document.getElementById("kernel-messages").style.display="inline";

                        document.getElementById("connection_options").style.width = "0";
                        document.getElementById("connection_options").style.display = "none";
                        //document.getElementById("header").style.marginLeft= "0";
                    }

            </script>
            
        </nav>

    </div>

</header><main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

    <header class="post-header">
        <h1 class="post-title">Normal forms 🚧</h1>
    </header>
  
    <header class="nav-header">
    <p style="text-align:center;">
        
        
        
        <a alt="Part" href="/lia/part1/index/">Part</a>
        &bullet;
        
        
        <a alt="Source code" href="https://github.com/lclem/lia/blob/main/src/part1/NormalForms.lagda.md">Source</a>
        
        
        
    </p>
</header>

  
    <div class="post-content">
        <h2>Contents</h2>    
        <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#WNNF">Weak negation normal form</a>
<ul>
<li class="toc-entry toc-h2"><a href="#transformation">Transformation</a></li>
<li class="toc-entry toc-h2"><a href="#correctness">Correctness</a></li>
<li class="toc-entry toc-h2"><a href="#internal-verification">Internal verification</a></li>
<li class="toc-entry toc-h2"><a href="#formula-size">Formula size</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#NNF">Negation normal form</a>
<ul>
<li class="toc-entry toc-h2"><a href="#remove-implications-and-bi-implications">Remove implications and bi-implications</a></li>
<li class="toc-entry toc-h2"><a href="#transformation-1">Transformation</a></li>
<li class="toc-entry toc-h2"><a href="#correctness-1">Correctness</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#DNF">Disjunctive normal form</a>
<ul>
<li class="toc-entry toc-h2"><a href="#basic-transformation">Basic transformation</a></li>
<li class="toc-entry toc-h2"><a href="#simplification">Simplification</a></li>
<li class="toc-entry toc-h2"><a href="#complete-transformation">Complete transformation</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#CNF">Conjunctive normal form</a>
<ul>
<li class="toc-entry toc-h2"><a href="#transformation-2">Transformation</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#references">References</a></li>
<li class="toc-entry toc-h1"><a href="#solutions">Solutions</a></li>
</ul><pre class="Agda"><a id="38" class="Symbol">{-#</a> <a id="42" class="Keyword">OPTIONS</a> <a id="50" class="Pragma">--allow-unsolved-metas</a> <a id="73" class="Pragma">--inversion-max-depth=100</a> <a id="99" class="Pragma">--rewriting</a> <a id="111" class="Pragma">--confluence-check</a> <a id="130" class="Symbol">#-}</a>
<a id="134" class="Keyword">open</a> <a id="139" class="Keyword">import</a> <a id="146" href="/lia/part0/index/" class="Module">part0.index</a>

<a id="159" class="Keyword">module</a> <a id="166" href="/lia/part1/NormalForms/" class="Module">part1.NormalForms</a> <a id="184" class="Symbol">(</a><a id="185" href="/lia/part1/NormalForms/#185" class="Bound">n</a> <a id="187" class="Symbol">:</a> <a id="189" href="/lia/part0/Naturals/#193" class="Datatype">ℕ</a><a id="190" class="Symbol">)</a> <a id="192" class="Keyword">where</a>
<a id="198" class="Keyword">open</a> <a id="203" class="Keyword">import</a> <a id="210" href="/lia/part1/Semantics/" class="Module">part1.Semantics</a> <a id="226" href="/lia/part1/NormalForms/#185" class="Bound">n</a> <a id="228" class="Keyword">hiding</a> <a id="235" class="Symbol">(</a>∅<a id="237" class="Symbol">)</a>
 
<a id="241" class="Keyword">private</a>
  <a id="251" class="Keyword">variable</a>
    <a id="264" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="266" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="268" href="/lia/part1/NormalForms/#268" class="Generalizable">ξ</a> <a id="270" class="Symbol">:</a> <a id="272" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a></pre>

<p>In this chapter we study normal forms for classical propositional logic,
namely</p>

<ul>
  <li>
<a href="#WNNF">weak negation normal form (WNNF)</a>,</li>
  <li>
<a href="#NNF">negation normal form (NNF)</a>,</li>
  <li>
<a href="#DNF">disjunctive normal form (DNF)</a>, and its dual</li>
  <li>
<a href="#CNF">conjunctive normal form (CNF)</a>.</li>
</ul>

<h1 id="WNNF">
<a class="anchor" href="#WNNF" aria-hidden="true"><span class="octicon octicon-link"></span></a>Weak negation normal form</h1>

<p>A <em>literal</em> is either a propositional variable <code class="language-plaintext highlighter-rouge">p</code> (positive literal) or
a negation <code class="language-plaintext highlighter-rouge">¬ p</code> thereof (negative literal). A formula is in <em>weak
negation normal form</em> (WNNF) if negation can appear only in literals,
i.e., in front of propositional variables:</p>

<pre class="Agda"><a id="840" class="Keyword">data</a> <a id="WNNF"></a><a id="845" href="/lia/part1/NormalForms/#845" class="Datatype">WNNF</a> <a id="850" class="Symbol">:</a> <a id="852" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="860" class="Symbol">→</a> <a id="862" class="PrimitiveType">Set</a> <a id="866" class="Keyword">where</a>
  <a id="WNNF.⊤"></a><a id="874" href="/lia/part1/NormalForms/#874" class="InductiveConstructor">⊤</a> <a id="876" class="Symbol">:</a> <a id="878" href="/lia/part1/NormalForms/#845" class="Datatype">WNNF</a> <a id="883" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>
  <a id="WNNF.⊥"></a><a id="887" href="/lia/part1/NormalForms/#887" class="InductiveConstructor">⊥</a> <a id="889" class="Symbol">:</a> <a id="891" href="/lia/part1/NormalForms/#845" class="Datatype">WNNF</a> <a id="896" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a>
  <a id="WNNF.`_"></a><a id="900" href="/lia/part1/NormalForms/#900" class="InductiveConstructor Operator">`_</a> <a id="903" class="Symbol">:</a> <a id="905" class="Symbol">(</a><a id="906" href="/lia/part1/NormalForms/#906" class="Bound">p</a> <a id="908" class="Symbol">:</a> <a id="910" href="/lia/part1/Semantics/#1069" class="Function">PropName</a><a id="918" class="Symbol">)</a> <a id="920" class="Symbol">→</a> <a id="922" href="/lia/part1/NormalForms/#845" class="Datatype">WNNF</a> <a id="927" class="Symbol">(</a><a id="928" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="930" href="/lia/part1/NormalForms/#906" class="Bound">p</a><a id="931" class="Symbol">)</a>
  <a id="WNNF.¬`_"></a><a id="935" href="/lia/part1/NormalForms/#935" class="InductiveConstructor Operator">¬`_</a> <a id="939" class="Symbol">:</a> <a id="941" class="Symbol">(</a><a id="942" href="/lia/part1/NormalForms/#942" class="Bound">p</a> <a id="944" class="Symbol">:</a> <a id="946" href="/lia/part1/Semantics/#1069" class="Function">PropName</a><a id="954" class="Symbol">)</a> <a id="956" class="Symbol">→</a> <a id="958" href="/lia/part1/NormalForms/#845" class="Datatype">WNNF</a> <a id="963" class="Symbol">(</a><a id="964" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="966" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="968" href="/lia/part1/NormalForms/#942" class="Bound">p</a><a id="969" class="Symbol">)</a>
  <a id="WNNF._∧_"></a><a id="973" href="/lia/part1/NormalForms/#973" class="InductiveConstructor Operator">_∧_</a> <a id="977" class="Symbol">:</a> <a id="979" href="/lia/part1/NormalForms/#845" class="Datatype">WNNF</a> <a id="984" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="986" class="Symbol">→</a> <a id="988" href="/lia/part1/NormalForms/#845" class="Datatype">WNNF</a> <a id="993" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="995" class="Symbol">→</a> <a id="997" href="/lia/part1/NormalForms/#845" class="Datatype">WNNF</a> <a id="1002" class="Symbol">(</a><a id="1003" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="1005" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="1007" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a><a id="1008" class="Symbol">)</a>
  <a id="WNNF._∨_"></a><a id="1012" href="/lia/part1/NormalForms/#1012" class="InductiveConstructor Operator">_∨_</a> <a id="1016" class="Symbol">:</a> <a id="1018" href="/lia/part1/NormalForms/#845" class="Datatype">WNNF</a> <a id="1023" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="1025" class="Symbol">→</a> <a id="1027" href="/lia/part1/NormalForms/#845" class="Datatype">WNNF</a> <a id="1032" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="1034" class="Symbol">→</a> <a id="1036" href="/lia/part1/NormalForms/#845" class="Datatype">WNNF</a> <a id="1041" class="Symbol">(</a><a id="1042" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="1044" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="1046" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a><a id="1047" class="Symbol">)</a>
  <a id="WNNF._⇒_"></a><a id="1051" href="/lia/part1/NormalForms/#1051" class="InductiveConstructor Operator">_⇒_</a> <a id="1055" class="Symbol">:</a> <a id="1057" href="/lia/part1/NormalForms/#845" class="Datatype">WNNF</a> <a id="1062" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="1064" class="Symbol">→</a> <a id="1066" href="/lia/part1/NormalForms/#845" class="Datatype">WNNF</a> <a id="1071" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="1073" class="Symbol">→</a> <a id="1075" href="/lia/part1/NormalForms/#845" class="Datatype">WNNF</a> <a id="1080" class="Symbol">(</a><a id="1081" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="1083" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="1085" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a><a id="1086" class="Symbol">)</a>
  <a id="WNNF._⇔_"></a><a id="1090" href="/lia/part1/NormalForms/#1090" class="InductiveConstructor Operator">_⇔_</a> <a id="1094" class="Symbol">:</a> <a id="1096" href="/lia/part1/NormalForms/#845" class="Datatype">WNNF</a> <a id="1101" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="1103" class="Symbol">→</a> <a id="1105" href="/lia/part1/NormalForms/#845" class="Datatype">WNNF</a> <a id="1110" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="1112" class="Symbol">→</a> <a id="1114" href="/lia/part1/NormalForms/#845" class="Datatype">WNNF</a> <a id="1119" class="Symbol">(</a><a id="1120" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="1122" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="1124" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a><a id="1125" class="Symbol">)</a>

<a id="1128" class="Keyword">infix</a> <a id="1134" class="Number">100</a> <a id="1138" href="/lia/part1/NormalForms/#22504" class="InductiveConstructor Operator">`_</a>
<a id="1141" class="Keyword">infix</a> <a id="1147" class="Number">99</a> <a id="1150" href="/lia/part1/NormalForms/#22538" class="InductiveConstructor Operator">¬`_</a>
<a id="1154" class="Keyword">infixr</a> <a id="1161" class="Number">98</a> <a id="1164" href="/lia/part1/NormalForms/#22575" class="InductiveConstructor Operator">_∧_</a>
<a id="1168" class="Keyword">infixr</a> <a id="1175" class="Number">97</a> <a id="1178" href="/lia/part1/NormalForms/#22611" class="InductiveConstructor Operator">_∨_</a> <a id="1182" href="/lia/part1/NormalForms/#1051" class="InductiveConstructor Operator">_⇒_</a>
<a id="1186" class="Keyword">infixr</a> <a id="1193" class="Number">96</a> <a id="1196" href="/lia/part1/NormalForms/#1090" class="InductiveConstructor Operator">_⇔_</a></pre>

<p>In this section we show that every formula can be transformed to a
logically equivalent formula in WNNF. This is a preparatory step towards
the stronger <a href="#NNF">NNF</a>.</p>

<p>Given a formula <code class="language-plaintext highlighter-rouge">φ</code>, we can decide whether it is in WNNF or not:</p>

<pre class="Agda"><a id="WNNF?"></a><a id="1442" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="1448" class="Symbol">:</a> <a id="1450" class="Symbol">∀</a> <a id="1452" href="/lia/part1/NormalForms/#1452" class="Bound">φ</a> <a id="1454" class="Symbol">→</a> <a id="1456" href="/lia/part0/Decidable/#150" class="Datatype">Dec</a> <a id="1460" class="Symbol">(</a><a id="1461" href="/lia/part1/NormalForms/#845" class="Datatype">WNNF</a> <a id="1466" href="/lia/part1/NormalForms/#1452" class="Bound">φ</a><a id="1467" class="Symbol">)</a></pre>

<div class="introbox">

  <p>The proof works by inspecting <code class="language-plaintext highlighter-rouge">φ</code> sufficiently deeply.
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="1551" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="1557" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="1559" class="Symbol">=</a> <a id="1561" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1565" href="/lia/part1/NormalForms/#887" class="InductiveConstructor">⊥</a>
<a id="1567" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="1573" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="1575" class="Symbol">=</a> <a id="1577" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1581" href="/lia/part1/NormalForms/#874" class="InductiveConstructor">⊤</a>
<a id="1583" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="1589" class="Symbol">(</a><a id="1590" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="1592" href="/lia/part1/NormalForms/#1592" class="Bound">p</a><a id="1593" class="Symbol">)</a> <a id="1595" class="Symbol">=</a> <a id="1597" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1601" class="Symbol">(</a><a id="1602" href="/lia/part1/NormalForms/#900" class="InductiveConstructor Operator">`</a> <a id="1604" href="/lia/part1/NormalForms/#1592" class="Bound">p</a><a id="1605" class="Symbol">)</a>

<a id="1608" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="1614" class="Symbol">(</a><a id="1615" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="1617" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a><a id="1618" class="Symbol">)</a> <a id="1620" class="Symbol">=</a> <a id="1622" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1625" class="Symbol">λ</a> <a id="1627" class="Symbol">()</a>
<a id="1630" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="1636" class="Symbol">(</a><a id="1637" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="1639" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a><a id="1640" class="Symbol">)</a> <a id="1642" class="Symbol">=</a> <a id="1644" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1647" class="Symbol">λ</a> <a id="1649" class="Symbol">()</a>
<a id="1652" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="1658" class="Symbol">(</a><a id="1659" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="1661" class="Symbol">(</a><a id="1662" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="1664" href="/lia/part1/NormalForms/#1664" class="Bound">p</a><a id="1665" class="Symbol">))</a> <a id="1668" class="Symbol">=</a> <a id="1670" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1674" class="Symbol">(</a><a id="1675" href="/lia/part1/NormalForms/#935" class="InductiveConstructor Operator">¬`</a> <a id="1678" href="/lia/part1/NormalForms/#1664" class="Bound">p</a><a id="1679" class="Symbol">)</a>
<a id="1681" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="1687" class="Symbol">(</a><a id="1688" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="1690" class="Symbol">(</a><a id="1691" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="1693" class="Symbol">_))</a> <a id="1697" class="Symbol">=</a> <a id="1699" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1702" class="Symbol">λ</a> <a id="1704" class="Symbol">()</a>
<a id="1707" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="1713" class="Symbol">(</a><a id="1714" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="1716" class="Symbol">(_</a> <a id="1719" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="1721" class="Symbol">_))</a> <a id="1725" class="Symbol">=</a> <a id="1727" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1730" class="Symbol">λ</a> <a id="1732" class="Symbol">()</a>
<a id="1735" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="1741" class="Symbol">(</a><a id="1742" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="1744" class="Symbol">(_</a> <a id="1747" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="1749" class="Symbol">_))</a> <a id="1753" class="Symbol">=</a> <a id="1755" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1758" class="Symbol">λ</a> <a id="1760" class="Symbol">()</a>
<a id="1763" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="1769" class="Symbol">(</a><a id="1770" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="1772" class="Symbol">(_</a> <a id="1775" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="1777" class="Symbol">_))</a> <a id="1781" class="Symbol">=</a> <a id="1783" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1786" class="Symbol">λ</a> <a id="1788" class="Symbol">()</a>
<a id="1791" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="1797" class="Symbol">(</a><a id="1798" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="1800" class="Symbol">(_</a> <a id="1803" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="1805" class="Symbol">_))</a> <a id="1809" class="Symbol">=</a> <a id="1811" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1814" class="Symbol">λ</a> <a id="1816" class="Symbol">()</a>

<a id="1820" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="1826" class="Symbol">(</a><a id="1827" href="/lia/part1/NormalForms/#1827" class="Bound">φ</a> <a id="1829" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="1831" href="/lia/part1/NormalForms/#1831" class="Bound">ψ</a><a id="1832" class="Symbol">)</a>
  <a id="1836" class="Keyword">with</a> <a id="1841" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="1847" href="/lia/part1/NormalForms/#1827" class="Bound">φ</a> <a id="1849" class="Symbol">|</a>
       <a id="1858" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="1864" href="/lia/part1/NormalForms/#1831" class="Bound">ψ</a>
<a id="1866" class="Symbol">...</a> <a id="1870" class="Symbol">|</a> <a id="1872" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1876" href="/lia/part1/NormalForms/#1876" class="Bound">wnnfφ</a> <a id="1882" class="Symbol">|</a> <a id="1884" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1888" href="/lia/part1/NormalForms/#1888" class="Bound">wnnfψ</a> <a id="1894" class="Symbol">=</a> <a id="1896" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1900" class="Symbol">(</a><a id="1901" href="/lia/part1/NormalForms/#1876" class="Bound">wnnfφ</a> <a id="1907" href="/lia/part1/NormalForms/#1012" class="InductiveConstructor Operator">∨</a> <a id="1909" href="/lia/part1/NormalForms/#1888" class="Bound">wnnfψ</a><a id="1914" class="Symbol">)</a>
<a id="1916" class="Symbol">...</a> <a id="1920" class="Symbol">|</a> <a id="1922" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1925" href="/lia/part1/NormalForms/#1925" class="Bound">¬wnnfφ</a> <a id="1932" class="Symbol">|</a> <a id="1934" class="Symbol">_</a> <a id="1936" class="Symbol">=</a> <a id="1938" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1941" class="Symbol">λ{</a> <a id="1944" class="Symbol">(</a><a id="1945" href="/lia/part1/NormalForms/#1945" class="Bound">wnnfφ</a> <a id="1951" href="/lia/part1/NormalForms/#1012" class="InductiveConstructor Operator">∨</a> <a id="1953" class="Symbol">_)</a> <a id="1956" class="Symbol">→</a> <a id="1958" href="/lia/part1/NormalForms/#1925" class="Bound">¬wnnfφ</a> <a id="1965" href="/lia/part1/NormalForms/#1945" class="Bound">wnnfφ</a><a id="1970" class="Symbol">}</a>
<a id="1972" class="CatchallClause Symbol">...</a><a id="1975" class="CatchallClause"> </a><a id="1976" class="CatchallClause Symbol">|</a><a id="1977" class="CatchallClause"> </a><a id="1978" class="CatchallClause Symbol">_</a><a id="1979" class="CatchallClause"> </a><a id="1980" class="CatchallClause Symbol">|</a><a id="1981" class="CatchallClause"> </a><a id="1982" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="1984" class="CatchallClause"> </a><a id="1985" href="/lia/part1/NormalForms/#1985" class="CatchallClause Bound">¬wnnfψ</a> <a id="1992" class="Symbol">=</a> <a id="1994" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1997" class="Symbol">λ{</a> <a id="2000" class="Symbol">(_</a> <a id="2003" href="/lia/part1/NormalForms/#1012" class="InductiveConstructor Operator">∨</a> <a id="2005" href="/lia/part1/NormalForms/#2005" class="Bound">wnnfψ</a><a id="2010" class="Symbol">)</a> <a id="2012" class="Symbol">→</a> <a id="2014" href="/lia/part1/NormalForms/#1985" class="Bound">¬wnnfψ</a> <a id="2021" href="/lia/part1/NormalForms/#2005" class="Bound">wnnfψ</a><a id="2026" class="Symbol">}</a>

<a id="2029" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="2035" class="Symbol">(</a><a id="2036" href="/lia/part1/NormalForms/#2036" class="Bound">φ</a> <a id="2038" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="2040" href="/lia/part1/NormalForms/#2040" class="Bound">ψ</a><a id="2041" class="Symbol">)</a>
  <a id="2045" class="Keyword">with</a> <a id="2050" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="2056" href="/lia/part1/NormalForms/#2036" class="Bound">φ</a> <a id="2058" class="Symbol">|</a>
       <a id="2067" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="2073" href="/lia/part1/NormalForms/#2040" class="Bound">ψ</a>
<a id="2075" class="Symbol">...</a> <a id="2079" class="Symbol">|</a> <a id="2081" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2085" href="/lia/part1/NormalForms/#2085" class="Bound">wnnfφ</a> <a id="2091" class="Symbol">|</a> <a id="2093" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2097" href="/lia/part1/NormalForms/#2097" class="Bound">wnnfψ</a> <a id="2103" class="Symbol">=</a> <a id="2105" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2109" class="Symbol">(</a><a id="2110" href="/lia/part1/NormalForms/#2085" class="Bound">wnnfφ</a> <a id="2116" href="/lia/part1/NormalForms/#973" class="InductiveConstructor Operator">∧</a> <a id="2118" href="/lia/part1/NormalForms/#2097" class="Bound">wnnfψ</a><a id="2123" class="Symbol">)</a>
<a id="2125" class="Symbol">...</a> <a id="2129" class="Symbol">|</a> <a id="2131" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2134" href="/lia/part1/NormalForms/#2134" class="Bound">¬wnnfφ</a> <a id="2141" class="Symbol">|</a> <a id="2143" class="Symbol">_</a> <a id="2145" class="Symbol">=</a> <a id="2147" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2150" class="Symbol">λ{</a> <a id="2153" class="Symbol">(</a><a id="2154" href="/lia/part1/NormalForms/#2154" class="Bound">wnnfφ</a> <a id="2160" href="/lia/part1/NormalForms/#973" class="InductiveConstructor Operator">∧</a> <a id="2162" class="Symbol">_)</a> <a id="2165" class="Symbol">→</a> <a id="2167" href="/lia/part1/NormalForms/#2134" class="Bound">¬wnnfφ</a> <a id="2174" href="/lia/part1/NormalForms/#2154" class="Bound">wnnfφ</a><a id="2179" class="Symbol">}</a>
<a id="2181" class="CatchallClause Symbol">...</a><a id="2184" class="CatchallClause"> </a><a id="2185" class="CatchallClause Symbol">|</a><a id="2186" class="CatchallClause"> </a><a id="2187" class="CatchallClause Symbol">_</a><a id="2188" class="CatchallClause"> </a><a id="2189" class="CatchallClause Symbol">|</a><a id="2190" class="CatchallClause"> </a><a id="2191" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="2193" class="CatchallClause"> </a><a id="2194" href="/lia/part1/NormalForms/#2194" class="CatchallClause Bound">¬wnnfψ</a> <a id="2201" class="Symbol">=</a> <a id="2203" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2206" class="Symbol">λ{</a> <a id="2209" class="Symbol">(_</a> <a id="2212" href="/lia/part1/NormalForms/#973" class="InductiveConstructor Operator">∧</a> <a id="2214" href="/lia/part1/NormalForms/#2214" class="Bound">wnnfψ</a><a id="2219" class="Symbol">)</a> <a id="2221" class="Symbol">→</a> <a id="2223" href="/lia/part1/NormalForms/#2194" class="Bound">¬wnnfψ</a> <a id="2230" href="/lia/part1/NormalForms/#2214" class="Bound">wnnfψ</a><a id="2235" class="Symbol">}</a>

<a id="2238" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="2244" class="Symbol">(</a><a id="2245" href="/lia/part1/NormalForms/#2245" class="Bound">φ</a> <a id="2247" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="2249" href="/lia/part1/NormalForms/#2249" class="Bound">ψ</a><a id="2250" class="Symbol">)</a>
  <a id="2254" class="Keyword">with</a> <a id="2259" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="2265" href="/lia/part1/NormalForms/#2245" class="Bound">φ</a> <a id="2267" class="Symbol">|</a>
       <a id="2276" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="2282" href="/lia/part1/NormalForms/#2249" class="Bound">ψ</a>
<a id="2284" class="Symbol">...</a> <a id="2288" class="Symbol">|</a> <a id="2290" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2294" href="/lia/part1/NormalForms/#2294" class="Bound">wnnfφ</a> <a id="2300" class="Symbol">|</a> <a id="2302" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2306" href="/lia/part1/NormalForms/#2306" class="Bound">wnnfψ</a> <a id="2312" class="Symbol">=</a> <a id="2314" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2318" class="Symbol">(</a><a id="2319" href="/lia/part1/NormalForms/#2294" class="Bound">wnnfφ</a> <a id="2325" href="/lia/part1/NormalForms/#1051" class="InductiveConstructor Operator">⇒</a> <a id="2327" href="/lia/part1/NormalForms/#2306" class="Bound">wnnfψ</a><a id="2332" class="Symbol">)</a>
<a id="2334" class="Symbol">...</a> <a id="2338" class="Symbol">|</a> <a id="2340" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2343" href="/lia/part1/NormalForms/#2343" class="Bound">¬wnnfφ</a> <a id="2350" class="Symbol">|</a> <a id="2352" class="Symbol">_</a> <a id="2354" class="Symbol">=</a> <a id="2356" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2359" class="Symbol">λ{</a> <a id="2362" class="Symbol">(</a><a id="2363" href="/lia/part1/NormalForms/#2363" class="Bound">wnnfφ</a> <a id="2369" href="/lia/part1/NormalForms/#1051" class="InductiveConstructor Operator">⇒</a> <a id="2371" class="Symbol">_)</a> <a id="2374" class="Symbol">→</a> <a id="2376" href="/lia/part1/NormalForms/#2343" class="Bound">¬wnnfφ</a> <a id="2383" href="/lia/part1/NormalForms/#2363" class="Bound">wnnfφ</a><a id="2388" class="Symbol">}</a>
<a id="2390" class="CatchallClause Symbol">...</a><a id="2393" class="CatchallClause"> </a><a id="2394" class="CatchallClause Symbol">|</a><a id="2395" class="CatchallClause"> </a><a id="2396" class="CatchallClause Symbol">_</a><a id="2397" class="CatchallClause"> </a><a id="2398" class="CatchallClause Symbol">|</a><a id="2399" class="CatchallClause"> </a><a id="2400" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="2402" class="CatchallClause"> </a><a id="2403" href="/lia/part1/NormalForms/#2403" class="CatchallClause Bound">¬wnnfψ</a> <a id="2410" class="Symbol">=</a> <a id="2412" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2415" class="Symbol">λ{</a> <a id="2418" class="Symbol">(_</a> <a id="2421" href="/lia/part1/NormalForms/#1051" class="InductiveConstructor Operator">⇒</a> <a id="2423" href="/lia/part1/NormalForms/#2423" class="Bound">wnnfψ</a><a id="2428" class="Symbol">)</a> <a id="2430" class="Symbol">→</a> <a id="2432" href="/lia/part1/NormalForms/#2403" class="Bound">¬wnnfψ</a> <a id="2439" href="/lia/part1/NormalForms/#2423" class="Bound">wnnfψ</a><a id="2444" class="Symbol">}</a>

<a id="2447" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="2453" class="Symbol">(</a><a id="2454" href="/lia/part1/NormalForms/#2454" class="Bound">φ</a> <a id="2456" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="2458" href="/lia/part1/NormalForms/#2458" class="Bound">ψ</a><a id="2459" class="Symbol">)</a>
  <a id="2463" class="Keyword">with</a> <a id="2468" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="2474" href="/lia/part1/NormalForms/#2454" class="Bound">φ</a> <a id="2476" class="Symbol">|</a>
       <a id="2485" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="2491" href="/lia/part1/NormalForms/#2458" class="Bound">ψ</a>
<a id="2493" class="Symbol">...</a> <a id="2497" class="Symbol">|</a> <a id="2499" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2503" href="/lia/part1/NormalForms/#2503" class="Bound">wnnfφ</a> <a id="2509" class="Symbol">|</a> <a id="2511" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2515" href="/lia/part1/NormalForms/#2515" class="Bound">wnnfψ</a> <a id="2521" class="Symbol">=</a> <a id="2523" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2527" class="Symbol">(</a><a id="2528" href="/lia/part1/NormalForms/#2503" class="Bound">wnnfφ</a> <a id="2534" href="/lia/part1/NormalForms/#1090" class="InductiveConstructor Operator">⇔</a> <a id="2536" href="/lia/part1/NormalForms/#2515" class="Bound">wnnfψ</a><a id="2541" class="Symbol">)</a>
<a id="2543" class="Symbol">...</a> <a id="2547" class="Symbol">|</a> <a id="2549" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2552" href="/lia/part1/NormalForms/#2552" class="Bound">¬wnnfφ</a> <a id="2559" class="Symbol">|</a> <a id="2561" class="Symbol">_</a> <a id="2563" class="Symbol">=</a> <a id="2565" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2568" class="Symbol">λ{</a> <a id="2571" class="Symbol">(</a><a id="2572" href="/lia/part1/NormalForms/#2572" class="Bound">wnnfφ</a> <a id="2578" href="/lia/part1/NormalForms/#1090" class="InductiveConstructor Operator">⇔</a> <a id="2580" class="Symbol">_)</a> <a id="2583" class="Symbol">→</a> <a id="2585" href="/lia/part1/NormalForms/#2552" class="Bound">¬wnnfφ</a> <a id="2592" href="/lia/part1/NormalForms/#2572" class="Bound">wnnfφ</a><a id="2597" class="Symbol">}</a>
<a id="2599" class="CatchallClause Symbol">...</a><a id="2602" class="CatchallClause"> </a><a id="2603" class="CatchallClause Symbol">|</a><a id="2604" class="CatchallClause"> </a><a id="2605" class="CatchallClause Symbol">_</a><a id="2606" class="CatchallClause"> </a><a id="2607" class="CatchallClause Symbol">|</a><a id="2608" class="CatchallClause"> </a><a id="2609" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="2611" class="CatchallClause"> </a><a id="2612" href="/lia/part1/NormalForms/#2612" class="CatchallClause Bound">¬wnnfψ</a> <a id="2619" class="Symbol">=</a> <a id="2621" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2624" class="Symbol">λ{</a> <a id="2627" class="Symbol">(_</a> <a id="2630" href="/lia/part1/NormalForms/#1090" class="InductiveConstructor Operator">⇔</a> <a id="2632" href="/lia/part1/NormalForms/#2632" class="Bound">wnnfψ</a><a id="2637" class="Symbol">)</a> <a id="2639" class="Symbol">→</a> <a id="2641" href="/lia/part1/NormalForms/#2612" class="Bound">¬wnnfψ</a> <a id="2648" href="/lia/part1/NormalForms/#2632" class="Bound">wnnfψ</a><a id="2653" class="Symbol">}</a></pre>

</div>

<pre class="Agda"><a id="ψ₀"></a><a id="2669" href="/lia/part1/NormalForms/#2669" class="Function">ψ₀</a> <a id="ψ₁"></a><a id="2672" href="/lia/part1/NormalForms/#2672" class="Function">ψ₁</a> <a id="ψ₂"></a><a id="2675" href="/lia/part1/NormalForms/#2675" class="Function">ψ₂</a> <a id="ψ₃"></a><a id="2678" href="/lia/part1/NormalForms/#2678" class="Function">ψ₃</a> <a id="ψ₄"></a><a id="2681" href="/lia/part1/NormalForms/#2681" class="Function">ψ₄</a> <a id="ψ₅"></a><a id="2684" href="/lia/part1/NormalForms/#2684" class="Function">ψ₅</a> <a id="ψ₇"></a><a id="2687" href="/lia/part1/NormalForms/#2687" class="Function">ψ₇</a> <a id="ψ₈"></a><a id="2690" href="/lia/part1/NormalForms/#2690" class="Function">ψ₈</a> <a id="2693" class="Symbol">:</a> <a id="2695" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a></pre>

<div class="inlinecode">

  <p>For instance, the formulas</p>
  <pre class="Agda"><a id="2768" href="/lia/part1/NormalForms/#2669" class="Function">ψ₀</a> <a id="2771" class="Symbol">=</a> <a id="2773" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a></pre>
  <p>,</p>
  <pre class="Agda"><a id="2785" href="/lia/part1/NormalForms/#2672" class="Function">ψ₁</a> <a id="2788" class="Symbol">=</a> <a id="2790" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="2792" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="2794" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="2797" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="2799" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="2801" href="/lia/part1/Semantics/#1197" class="Function">p₁</a></pre>
  <p>, and</p>
  <pre class="Agda"><a id="2818" href="/lia/part1/NormalForms/#2675" class="Function">ψ₂</a> <a id="2821" class="Symbol">=</a> <a id="2823" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="2825" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="2827" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="2830" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="2832" class="Symbol">(</a><a id="2833" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="2835" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="2838" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="2840" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="2842" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="2844" href="/lia/part1/Semantics/#1200" class="Function">p₂</a><a id="2846" class="Symbol">)</a></pre>
  <p>are in WNNF, while the formulas</p>
  <pre class="Agda"><a id="2888" href="/lia/part1/NormalForms/#2678" class="Function">ψ₃</a> <a id="2891" class="Symbol">=</a> <a id="2893" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="2895" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a></pre>
  <p>,</p>
  <pre class="Agda"><a id="2907" href="/lia/part1/NormalForms/#2681" class="Function">ψ₄</a> <a id="2910" class="Symbol">=</a> <a id="2912" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="2914" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="2916" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="2918" href="/lia/part1/Semantics/#1194" class="Function">p₀</a></pre>
  <p>, and</p>
  <pre class="Agda"><a id="2935" href="/lia/part1/NormalForms/#2684" class="Function">ψ₅</a> <a id="2938" class="Symbol">=</a> <a id="2940" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="2942" class="Symbol">(</a><a id="2943" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="2945" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="2948" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="2950" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="2952" href="/lia/part1/Semantics/#1197" class="Function">p₁</a><a id="2954" class="Symbol">)</a></pre>

  <p>are not in WNNF (negation not in front of a propositional variable),
which we can automatically check thanks to <a href="#WNNF?"><code class="language-plaintext highlighter-rouge">WNNF?</code></a> :</p>

</div>

<pre class="Agda"><a id="3105" href="/lia/part1/NormalForms/#3105" class="Function">_</a> <a id="3107" class="Symbol">:</a> <a id="3109" href="/lia/part0/List/#11360" class="Function">All?</a> <a id="3114" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a> <a id="3120" class="Symbol">(</a><a id="3121" href="/lia/part0/List/#1792" class="Function">[</a> <a id="3123" href="/lia/part1/NormalForms/#2669" class="Function">ψ₀</a> <a id="3126" href="/lia/part1/NormalForms/#2672" class="Function">ψ₁</a> <a id="3129" href="/lia/part1/NormalForms/#2675" class="Function">ψ₂</a> <a id="3132" href="/lia/part0/List/#2043" class="Function Operator">]</a><a id="3133" class="Symbol">)</a> <a id="3135" href="/lia/part0/Decidable/#628" class="Function Operator">×?</a> <a id="3138" href="/lia/part0/List/#11360" class="Function">All?</a> <a id="3143" class="Symbol">(</a><a id="3144" href="/lia/part0/Decidable/#1262" class="Function Operator">~?_</a> <a id="3148" href="/lia/part0/Utils/#686" class="Function Operator">∘</a> <a id="3150" href="/lia/part1/NormalForms/#1442" class="Function">WNNF?</a><a id="3155" class="Symbol">)</a> <a id="3157" class="Symbol">(</a><a id="3158" href="/lia/part0/List/#1792" class="Function">[</a> <a id="3160" href="/lia/part1/NormalForms/#2678" class="Function">ψ₃</a> <a id="3163" href="/lia/part1/NormalForms/#2681" class="Function">ψ₄</a> <a id="3166" href="/lia/part1/NormalForms/#2684" class="Function">ψ₅</a> <a id="3169" href="/lia/part0/List/#2043" class="Function Operator">]</a><a id="3170" class="Symbol">)</a> <a id="3172" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="3174" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="3178" class="Symbol">_</a>
<a id="3180" class="Symbol">_</a> <a id="3182" class="Symbol">=</a> <a id="3184" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<h2 id="transformation">
<a class="anchor" href="#transformation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Transformation</h2>

<p>The transformation of a formula to WNNF operates by “pushing inside”
negations. This is achieved by the function</p>

<pre class="Agda"><a id="wnnf"></a><a id="3331" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="3336" class="Symbol">:</a> <a id="3338" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="3346" class="Symbol">→</a> <a id="3348" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a></pre>

<p>which is defined as follows:</p>

<ul>
  <li>In the atomic cases the formula is unchanged:</li>
</ul>

<pre class="Agda"><a id="3444" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="3449" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="3451" class="Symbol">=</a> <a id="3453" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a>
<a id="3455" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="3460" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="3462" class="Symbol">=</a> <a id="3464" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>
<a id="3466" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="3471" class="Symbol">(</a><a id="3472" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="3474" href="/lia/part1/NormalForms/#3474" class="Bound">p</a><a id="3475" class="Symbol">)</a> <a id="3477" class="Symbol">=</a> <a id="3479" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="3481" href="/lia/part1/NormalForms/#3474" class="Bound">p</a></pre>

<ul>
  <li>In the case of binary connectives we just proceed recursively on the
subformulas:</li>
</ul>

<pre class="Agda"><a id="3577" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="3582" class="Symbol">(</a><a id="3583" href="/lia/part1/NormalForms/#3583" class="Bound">φ</a> <a id="3585" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="3587" href="/lia/part1/NormalForms/#3587" class="Bound">ψ</a><a id="3588" class="Symbol">)</a> <a id="3590" class="Symbol">=</a> <a id="3592" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="3597" href="/lia/part1/NormalForms/#3583" class="Bound">φ</a> <a id="3599" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="3601" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="3606" href="/lia/part1/NormalForms/#3587" class="Bound">ψ</a>
<a id="3608" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="3613" class="Symbol">(</a><a id="3614" href="/lia/part1/NormalForms/#3614" class="Bound">φ</a> <a id="3616" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="3618" href="/lia/part1/NormalForms/#3618" class="Bound">ψ</a><a id="3619" class="Symbol">)</a> <a id="3621" class="Symbol">=</a> <a id="3623" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="3628" href="/lia/part1/NormalForms/#3614" class="Bound">φ</a> <a id="3630" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="3632" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="3637" href="/lia/part1/NormalForms/#3618" class="Bound">ψ</a>
<a id="3639" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="3644" class="Symbol">(</a><a id="3645" href="/lia/part1/NormalForms/#3645" class="Bound">φ</a> <a id="3647" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="3649" href="/lia/part1/NormalForms/#3649" class="Bound">ψ</a><a id="3650" class="Symbol">)</a> <a id="3652" class="Symbol">=</a> <a id="3654" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="3659" href="/lia/part1/NormalForms/#3645" class="Bound">φ</a> <a id="3661" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="3663" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="3668" href="/lia/part1/NormalForms/#3649" class="Bound">ψ</a>
<a id="3670" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="3675" class="Symbol">(</a><a id="3676" href="/lia/part1/NormalForms/#3676" class="Bound">φ</a> <a id="3678" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="3680" href="/lia/part1/NormalForms/#3680" class="Bound">ψ</a><a id="3681" class="Symbol">)</a> <a id="3683" class="Symbol">=</a> <a id="3685" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="3690" href="/lia/part1/NormalForms/#3676" class="Bound">φ</a> <a id="3692" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="3694" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="3699" href="/lia/part1/NormalForms/#3680" class="Bound">ψ</a></pre>

<ul>
  <li>In the case of a negation, we push it inside. If it is in front of
the constants <a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> and
<a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> , then we just flip it to the
other constant:</li>
</ul>

<pre class="Agda"><a id="3925" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="3930" class="Symbol">(</a><a id="3931" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="3933" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a><a id="3934" class="Symbol">)</a> <a id="3936" class="Symbol">=</a> <a id="3938" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>
<a id="3940" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="3945" class="Symbol">(</a><a id="3946" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="3948" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a><a id="3949" class="Symbol">)</a> <a id="3951" class="Symbol">=</a> <a id="3953" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a></pre>

<ul>
  <li>If it is in front of a propositional variable, then we leave it
unchanged:</li>
</ul>

<pre class="Agda"><a id="4042" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="4047" class="Symbol">(</a><a id="4048" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4050" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="4052" href="/lia/part1/NormalForms/#4052" class="Bound">p</a><a id="4053" class="Symbol">)</a> <a id="4055" class="Symbol">=</a> <a id="4057" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4059" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="4061" href="/lia/part1/NormalForms/#4052" class="Bound">p</a></pre>

<ul>
  <li>Double negations are just removed (thanks to the law of double
negation):</li>
</ul>

<pre class="Agda"><a id="4151" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="4156" class="Symbol">(</a><a id="4157" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4159" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4161" href="/lia/part1/NormalForms/#4161" class="Bound">φ</a><a id="4162" class="Symbol">)</a> <a id="4164" class="Symbol">=</a> <a id="4166" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="4171" href="/lia/part1/NormalForms/#4161" class="Bound">φ</a></pre>

<ul>
  <li>If negation is in front of a binary connective, then we push it
inside according to the corresponding de Morgan’s law:</li>
</ul>

<pre class="Agda"><a id="4306" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="4311" class="Symbol">(</a><a id="4312" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4314" class="Symbol">(</a><a id="4315" href="/lia/part1/NormalForms/#4315" class="Bound">φ</a> <a id="4317" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="4319" href="/lia/part1/NormalForms/#4319" class="Bound">ψ</a><a id="4320" class="Symbol">))</a> <a id="4323" class="Symbol">=</a> <a id="4325" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="4330" class="Symbol">(</a><a id="4331" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4333" href="/lia/part1/NormalForms/#4315" class="Bound">φ</a><a id="4334" class="Symbol">)</a> <a id="4336" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="4338" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="4343" class="Symbol">(</a><a id="4344" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4346" href="/lia/part1/NormalForms/#4319" class="Bound">ψ</a><a id="4347" class="Symbol">)</a>
<a id="4349" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="4354" class="Symbol">(</a><a id="4355" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4357" class="Symbol">(</a><a id="4358" href="/lia/part1/NormalForms/#4358" class="Bound">φ</a> <a id="4360" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="4362" href="/lia/part1/NormalForms/#4362" class="Bound">ψ</a><a id="4363" class="Symbol">))</a> <a id="4366" class="Symbol">=</a> <a id="4368" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="4373" class="Symbol">(</a><a id="4374" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4376" href="/lia/part1/NormalForms/#4358" class="Bound">φ</a><a id="4377" class="Symbol">)</a> <a id="4379" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="4381" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="4386" class="Symbol">(</a><a id="4387" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4389" href="/lia/part1/NormalForms/#4362" class="Bound">ψ</a><a id="4390" class="Symbol">)</a>
<a id="4392" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="4397" class="Symbol">(</a><a id="4398" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4400" class="Symbol">(</a><a id="4401" href="/lia/part1/NormalForms/#4401" class="Bound">φ</a> <a id="4403" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="4405" href="/lia/part1/NormalForms/#4405" class="Bound">ψ</a><a id="4406" class="Symbol">))</a> <a id="4409" class="Symbol">=</a> <a id="4411" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="4416" href="/lia/part1/NormalForms/#4401" class="Bound">φ</a> <a id="4418" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="4420" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="4425" class="Symbol">(</a><a id="4426" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4428" href="/lia/part1/NormalForms/#4405" class="Bound">ψ</a><a id="4429" class="Symbol">)</a>
<a id="4431" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="4436" class="Symbol">(</a><a id="4437" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4439" class="Symbol">(</a><a id="4440" href="/lia/part1/NormalForms/#4440" class="Bound">φ</a> <a id="4442" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="4444" href="/lia/part1/NormalForms/#4444" class="Bound">ψ</a><a id="4445" class="Symbol">))</a> <a id="4448" class="Symbol">=</a> <a id="4450" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="4455" href="/lia/part1/NormalForms/#4440" class="Bound">φ</a> <a id="4457" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="4459" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="4464" class="Symbol">(</a><a id="4465" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4467" href="/lia/part1/NormalForms/#4444" class="Bound">ψ</a><a id="4468" class="Symbol">)</a></pre>

<div class="introbox">

  <div class="inlinecode">

    <p>For example, the WNNF of</p>
    <pre class="Agda"><a id="4543" href="/lia/part1/NormalForms/#2687" class="Function">ψ₇</a> <a id="4546" class="Symbol">=</a> <a id="4548" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4550" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4552" class="Symbol">(</a><a id="4553" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="4555" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="4558" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="4560" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4562" class="Symbol">(</a><a id="4563" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="4565" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="4568" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="4570" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="4572" href="/lia/part1/Semantics/#1200" class="Function">p₂</a><a id="4574" class="Symbol">))</a></pre>
    <p>is</p>
    <pre class="Agda"><a id="4588" href="/lia/part1/NormalForms/#2690" class="Function">ψ₈</a> <a id="4591" class="Symbol">=</a> <a id="4593" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="4595" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="4598" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="4600" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4602" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="4604" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="4607" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="4609" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4611" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="4613" href="/lia/part1/Semantics/#1200" class="Function">p₂</a></pre>
    <p>as we can automatically check.</p>

  </div>

  <p><button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="4678" href="/lia/part1/NormalForms/#4678" class="Function">_</a> <a id="4680" class="Symbol">:</a> <a id="4682" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="4687" href="/lia/part1/NormalForms/#2687" class="Function">ψ₇</a> <a id="4690" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="4692" href="/lia/part1/NormalForms/#2690" class="Function">ψ₈</a>
<a id="4695" class="Symbol">_</a> <a id="4697" class="Symbol">=</a> <a id="4699" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

</div>

<h2 id="correctness">
<a class="anchor" href="#correctness" aria-hidden="true"><span class="octicon octicon-link"></span></a>Correctness</h2>

<p>Now that we have a tentative definition of a function <a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a>
purportedly transforming a formula to an equivalent one in WNNF, we have
to prove that this is the case. There are two things that we need to
prove. First, we need to prove that <code class="language-plaintext highlighter-rouge">wnnf φ</code> is indeed in WNNF, and
second that it is logically equivalent to <code class="language-plaintext highlighter-rouge">φ</code>.</p>

<h3 id="structure">Structure</h3>

<div class="introbox">

  <pre class="Agda"><a id="wnnf-WNNF"></a><a id="5092" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5102" class="Symbol">:</a> <a id="5104" class="Symbol">∀</a> <a id="5106" href="/lia/part1/NormalForms/#5106" class="Bound">φ</a> <a id="5108" class="Symbol">→</a> <a id="5110" href="/lia/part1/NormalForms/#845" class="Datatype">WNNF</a> <a id="5115" class="Symbol">(</a><a id="5116" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="5121" href="/lia/part1/NormalForms/#5106" class="Bound">φ</a><a id="5122" class="Symbol">)</a></pre>

  <p>The proof that <code class="language-plaintext highlighter-rouge">wnnf φ</code> is in WNNF is by a customary structural
induction, where in the case <code class="language-plaintext highlighter-rouge">φ = ¬ (</code>
p)<code class="language-plaintext highlighter-rouge">the [`` WNNF ``](#WNNF)  given by the constructor `` ¬</code> p
`<code class="language-plaintext highlighter-rouge">(no space between</code>¬` and the following backtick character).
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="5372" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5382" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="5384" class="Symbol">=</a> <a id="5386" href="/lia/part1/NormalForms/#887" class="InductiveConstructor">⊥</a>
<a id="5388" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5398" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="5400" class="Symbol">=</a> <a id="5402" href="/lia/part1/NormalForms/#874" class="InductiveConstructor">⊤</a>
<a id="5404" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5414" class="Symbol">(</a><a id="5415" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="5417" href="/lia/part1/NormalForms/#5417" class="Bound">p</a><a id="5418" class="Symbol">)</a> <a id="5420" class="Symbol">=</a> <a id="5422" href="/lia/part1/NormalForms/#900" class="InductiveConstructor Operator">`</a> <a id="5424" href="/lia/part1/NormalForms/#5417" class="Bound">p</a>
<a id="5426" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5436" class="Symbol">(</a><a id="5437" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="5439" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a><a id="5440" class="Symbol">)</a> <a id="5442" class="Symbol">=</a> <a id="5444" href="/lia/part1/NormalForms/#874" class="InductiveConstructor">⊤</a>
<a id="5446" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5456" class="Symbol">(</a><a id="5457" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="5459" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a><a id="5460" class="Symbol">)</a> <a id="5462" class="Symbol">=</a> <a id="5464" href="/lia/part1/NormalForms/#887" class="InductiveConstructor">⊥</a>
<a id="5466" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5476" class="Symbol">(</a><a id="5477" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="5479" class="Symbol">(</a><a id="5480" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="5482" href="/lia/part1/NormalForms/#5482" class="Bound">p</a><a id="5483" class="Symbol">))</a> <a id="5486" class="Symbol">=</a> <a id="5488" href="/lia/part1/NormalForms/#935" class="InductiveConstructor Operator">¬`</a> <a id="5491" href="/lia/part1/NormalForms/#5482" class="Bound">p</a>
<a id="5493" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5503" class="Symbol">(</a><a id="5504" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="5506" class="Symbol">(</a><a id="5507" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="5509" href="/lia/part1/NormalForms/#5509" class="Bound">φ</a><a id="5510" class="Symbol">))</a> <a id="5513" class="Symbol">=</a> <a id="5515" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5525" href="/lia/part1/NormalForms/#5509" class="Bound">φ</a>
<a id="5527" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5537" class="Symbol">(</a><a id="5538" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="5540" class="Symbol">(</a><a id="5541" href="/lia/part1/NormalForms/#5541" class="Bound">φ</a> <a id="5543" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="5545" href="/lia/part1/NormalForms/#5545" class="Bound">ψ</a><a id="5546" class="Symbol">))</a> <a id="5549" class="Symbol">=</a> <a id="5551" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5561" class="Symbol">(</a><a id="5562" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="5564" href="/lia/part1/NormalForms/#5541" class="Bound">φ</a><a id="5565" class="Symbol">)</a> <a id="5567" href="/lia/part1/NormalForms/#973" class="InductiveConstructor Operator">∧</a> <a id="5569" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5579" class="Symbol">(</a><a id="5580" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="5582" href="/lia/part1/NormalForms/#5545" class="Bound">ψ</a><a id="5583" class="Symbol">)</a>
<a id="5585" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5595" class="Symbol">(</a><a id="5596" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="5598" class="Symbol">(</a><a id="5599" href="/lia/part1/NormalForms/#5599" class="Bound">φ</a> <a id="5601" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="5603" href="/lia/part1/NormalForms/#5603" class="Bound">ψ</a><a id="5604" class="Symbol">))</a> <a id="5607" class="Symbol">=</a> <a id="5609" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5619" class="Symbol">(</a><a id="5620" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="5622" href="/lia/part1/NormalForms/#5599" class="Bound">φ</a><a id="5623" class="Symbol">)</a> <a id="5625" href="/lia/part1/NormalForms/#1012" class="InductiveConstructor Operator">∨</a> <a id="5627" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5637" class="Symbol">(</a><a id="5638" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="5640" href="/lia/part1/NormalForms/#5603" class="Bound">ψ</a><a id="5641" class="Symbol">)</a>
<a id="5643" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5653" class="Symbol">(</a><a id="5654" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="5656" class="Symbol">(</a><a id="5657" href="/lia/part1/NormalForms/#5657" class="Bound">φ</a> <a id="5659" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="5661" href="/lia/part1/NormalForms/#5661" class="Bound">ψ</a><a id="5662" class="Symbol">))</a> <a id="5665" class="Symbol">=</a> <a id="5667" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5677" href="/lia/part1/NormalForms/#5657" class="Bound">φ</a> <a id="5679" href="/lia/part1/NormalForms/#973" class="InductiveConstructor Operator">∧</a> <a id="5681" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5691" class="Symbol">(</a><a id="5692" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="5694" href="/lia/part1/NormalForms/#5661" class="Bound">ψ</a><a id="5695" class="Symbol">)</a>
<a id="5697" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5707" class="Symbol">(</a><a id="5708" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="5710" class="Symbol">(</a><a id="5711" href="/lia/part1/NormalForms/#5711" class="Bound">φ</a> <a id="5713" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="5715" href="/lia/part1/NormalForms/#5715" class="Bound">ψ</a><a id="5716" class="Symbol">))</a> <a id="5719" class="Symbol">=</a> <a id="5721" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5731" href="/lia/part1/NormalForms/#5711" class="Bound">φ</a> <a id="5733" href="/lia/part1/NormalForms/#1090" class="InductiveConstructor Operator">⇔</a> <a id="5735" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5745" class="Symbol">(</a><a id="5746" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="5748" href="/lia/part1/NormalForms/#5715" class="Bound">ψ</a><a id="5749" class="Symbol">)</a>
<a id="5751" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5761" class="Symbol">(</a><a id="5762" href="/lia/part1/NormalForms/#5762" class="Bound">φ</a> <a id="5764" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="5766" href="/lia/part1/NormalForms/#5766" class="Bound">ψ</a><a id="5767" class="Symbol">)</a> <a id="5769" class="Symbol">=</a> <a id="5771" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5781" href="/lia/part1/NormalForms/#5762" class="Bound">φ</a> <a id="5783" href="/lia/part1/NormalForms/#1012" class="InductiveConstructor Operator">∨</a> <a id="5785" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5795" href="/lia/part1/NormalForms/#5766" class="Bound">ψ</a>
<a id="5797" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5807" class="Symbol">(</a><a id="5808" href="/lia/part1/NormalForms/#5808" class="Bound">φ</a> <a id="5810" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="5812" href="/lia/part1/NormalForms/#5812" class="Bound">ψ</a><a id="5813" class="Symbol">)</a> <a id="5815" class="Symbol">=</a> <a id="5817" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5827" href="/lia/part1/NormalForms/#5808" class="Bound">φ</a> <a id="5829" href="/lia/part1/NormalForms/#973" class="InductiveConstructor Operator">∧</a> <a id="5831" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5841" href="/lia/part1/NormalForms/#5812" class="Bound">ψ</a>
<a id="5843" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5853" class="Symbol">(</a><a id="5854" href="/lia/part1/NormalForms/#5854" class="Bound">φ</a> <a id="5856" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="5858" href="/lia/part1/NormalForms/#5858" class="Bound">ψ</a><a id="5859" class="Symbol">)</a> <a id="5861" class="Symbol">=</a> <a id="5863" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5873" href="/lia/part1/NormalForms/#5854" class="Bound">φ</a> <a id="5875" href="/lia/part1/NormalForms/#1051" class="InductiveConstructor Operator">⇒</a> <a id="5877" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5887" href="/lia/part1/NormalForms/#5858" class="Bound">ψ</a>
<a id="5889" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5899" class="Symbol">(</a><a id="5900" href="/lia/part1/NormalForms/#5900" class="Bound">φ</a> <a id="5902" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="5904" href="/lia/part1/NormalForms/#5904" class="Bound">ψ</a><a id="5905" class="Symbol">)</a> <a id="5907" class="Symbol">=</a> <a id="5909" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5919" href="/lia/part1/NormalForms/#5900" class="Bound">φ</a> <a id="5921" href="/lia/part1/NormalForms/#1090" class="InductiveConstructor Operator">⇔</a> <a id="5923" href="/lia/part1/NormalForms/#5092" class="Function">wnnf-WNNF</a> <a id="5933" href="/lia/part1/NormalForms/#5904" class="Bound">ψ</a></pre>

</div>

<h3 id="soundness">Soundness</h3>

<p>The proof of soundness is conceptually simple and it is based on the
double negation and de Morgan’s laws. The only difficulty is posed by
the termination checker.</p>

<p>The most immediate way to prove soundness would be to mimic the
recursive structure of <a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a> as follows:</p>

<pre class="Agda"><a id="6245" class="Symbol">{-#</a> <a id="6249" class="Keyword">TERMINATING</a> <a id="6261" class="Symbol">#-}</a>
<a id="wnnf-sound'"></a><a id="6265" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6277" class="Symbol">:</a> <a id="6279" class="Symbol">∀</a> <a id="6281" href="/lia/part1/NormalForms/#6281" class="Bound">φ</a> <a id="6283" class="Symbol">→</a> <a id="6285" href="/lia/part1/NormalForms/#6281" class="Bound">φ</a> <a id="6287" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="6289" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="6294" href="/lia/part1/NormalForms/#6281" class="Bound">φ</a>

<a id="6297" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6309" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="6311" href="/lia/part1/NormalForms/#6311" class="Bound">ϱ</a> <a id="6313" class="Symbol">=</a> <a id="6315" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="6320" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6332" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="6334" href="/lia/part1/NormalForms/#6334" class="Bound">ϱ</a> <a id="6336" class="Symbol">=</a> <a id="6338" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="6343" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6355" class="Symbol">(</a><a id="6356" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="6358" href="/lia/part1/NormalForms/#6358" class="Bound">p</a><a id="6359" class="Symbol">)</a> <a id="6361" href="/lia/part1/NormalForms/#6361" class="Bound">ϱ</a> <a id="6363" class="Symbol">=</a> <a id="6365" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="6370" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6382" class="Symbol">(</a><a id="6383" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="6385" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a><a id="6386" class="Symbol">)</a> <a id="6388" href="/lia/part1/NormalForms/#6388" class="Bound">ϱ</a> <a id="6390" class="Symbol">=</a> <a id="6392" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="6397" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6409" class="Symbol">(</a><a id="6410" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="6412" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a><a id="6413" class="Symbol">)</a> <a id="6415" href="/lia/part1/NormalForms/#6415" class="Bound">ϱ</a> <a id="6417" class="Symbol">=</a> <a id="6419" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="6424" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6436" class="Symbol">(</a><a id="6437" href="/lia/part1/NormalForms/#6437" class="Bound">φ</a> <a id="6439" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="6441" href="/lia/part1/NormalForms/#6441" class="Bound">ψ</a><a id="6442" class="Symbol">)</a> <a id="6444" href="/lia/part1/NormalForms/#6444" class="Bound">ϱ</a>
  <a id="6448" class="Keyword">rewrite</a> <a id="6456" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6468" href="/lia/part1/NormalForms/#6437" class="Bound">φ</a> <a id="6470" href="/lia/part1/NormalForms/#6444" class="Bound">ϱ</a> <a id="6472" class="Symbol">|</a>
          <a id="6484" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6496" href="/lia/part1/NormalForms/#6441" class="Bound">ψ</a> <a id="6498" href="/lia/part1/NormalForms/#6444" class="Bound">ϱ</a> <a id="6500" class="Symbol">=</a> <a id="6502" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
          
<a id="6518" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6530" class="Symbol">(</a><a id="6531" href="/lia/part1/NormalForms/#6531" class="Bound">φ</a> <a id="6533" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="6535" href="/lia/part1/NormalForms/#6535" class="Bound">ψ</a><a id="6536" class="Symbol">)</a> <a id="6538" href="/lia/part1/NormalForms/#6538" class="Bound">ϱ</a>
  <a id="6542" class="Keyword">rewrite</a> <a id="6550" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6562" href="/lia/part1/NormalForms/#6531" class="Bound">φ</a> <a id="6564" href="/lia/part1/NormalForms/#6538" class="Bound">ϱ</a> <a id="6566" class="Symbol">|</a>
          <a id="6578" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6590" href="/lia/part1/NormalForms/#6535" class="Bound">ψ</a> <a id="6592" href="/lia/part1/NormalForms/#6538" class="Bound">ϱ</a> <a id="6594" class="Symbol">=</a> <a id="6596" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
          
<a id="6612" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6624" class="Symbol">(</a><a id="6625" href="/lia/part1/NormalForms/#6625" class="Bound">φ</a> <a id="6627" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="6629" href="/lia/part1/NormalForms/#6629" class="Bound">ψ</a><a id="6630" class="Symbol">)</a> <a id="6632" href="/lia/part1/NormalForms/#6632" class="Bound">ϱ</a>
  <a id="6636" class="Keyword">rewrite</a> <a id="6644" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6656" href="/lia/part1/NormalForms/#6625" class="Bound">φ</a> <a id="6658" href="/lia/part1/NormalForms/#6632" class="Bound">ϱ</a> <a id="6660" class="Symbol">|</a>
          <a id="6672" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6684" href="/lia/part1/NormalForms/#6629" class="Bound">ψ</a> <a id="6686" href="/lia/part1/NormalForms/#6632" class="Bound">ϱ</a> <a id="6688" class="Symbol">=</a> <a id="6690" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
          
<a id="6706" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6718" class="Symbol">(</a><a id="6719" href="/lia/part1/NormalForms/#6719" class="Bound">φ</a> <a id="6721" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="6723" href="/lia/part1/NormalForms/#6723" class="Bound">ψ</a><a id="6724" class="Symbol">)</a> <a id="6726" href="/lia/part1/NormalForms/#6726" class="Bound">ϱ</a>
  <a id="6730" class="Keyword">rewrite</a> <a id="6738" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6750" href="/lia/part1/NormalForms/#6719" class="Bound">φ</a> <a id="6752" href="/lia/part1/NormalForms/#6726" class="Bound">ϱ</a> <a id="6754" class="Symbol">|</a>
          <a id="6766" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6778" href="/lia/part1/NormalForms/#6723" class="Bound">ψ</a> <a id="6780" href="/lia/part1/NormalForms/#6726" class="Bound">ϱ</a> <a id="6782" class="Symbol">=</a> <a id="6784" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
          
<a id="6800" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6812" class="Symbol">(</a><a id="6813" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="6815" class="Symbol">(</a><a id="6816" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="6818" href="/lia/part1/NormalForms/#6818" class="Bound">p</a><a id="6819" class="Symbol">))</a> <a id="6822" href="/lia/part1/NormalForms/#6822" class="Bound">ϱ</a> <a id="6824" class="Symbol">=</a> <a id="6826" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="6831" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6843" class="Symbol">(</a><a id="6844" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="6846" class="Symbol">(</a><a id="6847" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="6849" href="/lia/part1/NormalForms/#6849" class="Bound">φ</a><a id="6850" class="Symbol">))</a> <a id="6853" href="/lia/part1/NormalForms/#6853" class="Bound">ϱ</a>
  <a id="6857" class="Keyword">rewrite</a> <a id="6865" href="/lia/part1/Semantics/#31938" class="Function">doubleNegationLaw</a> <a id="6883" href="/lia/part1/NormalForms/#6849" class="Bound">φ</a> <a id="6885" href="/lia/part1/NormalForms/#6853" class="Bound">ϱ</a> <a id="6887" class="Symbol">|</a>
          <a id="6899" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6911" href="/lia/part1/NormalForms/#6849" class="Bound">φ</a> <a id="6913" href="/lia/part1/NormalForms/#6853" class="Bound">ϱ</a> <a id="6915" class="Symbol">=</a> <a id="6917" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
  
<a id="6925" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="6937" class="Symbol">(</a><a id="6938" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="6940" class="Symbol">(</a><a id="6941" href="/lia/part1/NormalForms/#6941" class="Bound">φ</a> <a id="6943" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="6945" href="/lia/part1/NormalForms/#6945" class="Bound">ψ</a><a id="6946" class="Symbol">))</a> <a id="6949" href="/lia/part1/NormalForms/#6949" class="Bound">ϱ</a>
   <a id="6954" class="Keyword">rewrite</a> <a id="6962" href="/lia/part1/Semantics/#32018" class="Function">deMorganOr</a> <a id="6973" href="/lia/part1/NormalForms/#6941" class="Bound">φ</a> <a id="6975" href="/lia/part1/NormalForms/#6945" class="Bound">ψ</a> <a id="6977" href="/lia/part1/NormalForms/#6949" class="Bound">ϱ</a> <a id="6979" class="Symbol">|</a>
           <a id="6992" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="7004" class="Symbol">(</a><a id="7005" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="7007" href="/lia/part1/NormalForms/#6941" class="Bound">φ</a><a id="7008" class="Symbol">)</a> <a id="7010" href="/lia/part1/NormalForms/#6949" class="Bound">ϱ</a> <a id="7012" class="Symbol">|</a>
           <a id="7025" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="7037" class="Symbol">(</a><a id="7038" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="7040" href="/lia/part1/NormalForms/#6945" class="Bound">ψ</a><a id="7041" class="Symbol">)</a> <a id="7043" href="/lia/part1/NormalForms/#6949" class="Bound">ϱ</a> <a id="7045" class="Symbol">=</a> <a id="7047" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a> <a id="7052" class="Comment">-- termination issue (*)</a>
           
<a id="7089" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="7101" class="Symbol">(</a><a id="7102" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="7104" class="Symbol">(</a><a id="7105" href="/lia/part1/NormalForms/#7105" class="Bound">φ</a> <a id="7107" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="7109" href="/lia/part1/NormalForms/#7109" class="Bound">ψ</a><a id="7110" class="Symbol">))</a> <a id="7113" href="/lia/part1/NormalForms/#7113" class="Bound">ϱ</a>
   <a id="7118" class="Keyword">rewrite</a> <a id="7126" href="/lia/part1/Semantics/#31974" class="Function">deMorganAnd</a> <a id="7138" href="/lia/part1/NormalForms/#7105" class="Bound">φ</a> <a id="7140" href="/lia/part1/NormalForms/#7109" class="Bound">ψ</a> <a id="7142" href="/lia/part1/NormalForms/#7113" class="Bound">ϱ</a> <a id="7144" class="Symbol">|</a>
           <a id="7157" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="7169" class="Symbol">(</a><a id="7170" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="7172" href="/lia/part1/NormalForms/#7105" class="Bound">φ</a><a id="7173" class="Symbol">)</a> <a id="7175" href="/lia/part1/NormalForms/#7113" class="Bound">ϱ</a> <a id="7177" class="Symbol">|</a>
           <a id="7190" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="7202" class="Symbol">(</a><a id="7203" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="7205" href="/lia/part1/NormalForms/#7109" class="Bound">ψ</a><a id="7206" class="Symbol">)</a> <a id="7208" href="/lia/part1/NormalForms/#7113" class="Bound">ϱ</a> <a id="7210" class="Symbol">=</a> <a id="7212" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>

<a id="7218" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="7230" class="Symbol">(</a><a id="7231" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="7233" class="Symbol">(</a><a id="7234" href="/lia/part1/NormalForms/#7234" class="Bound">φ</a> <a id="7236" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="7238" href="/lia/part1/NormalForms/#7238" class="Bound">ψ</a><a id="7239" class="Symbol">))</a> <a id="7242" href="/lia/part1/NormalForms/#7242" class="Bound">ϱ</a>
   <a id="7247" class="Keyword">rewrite</a> <a id="7255" href="/lia/part1/Semantics/#32108" class="Function">deMorganImplies</a> <a id="7271" href="/lia/part1/NormalForms/#7234" class="Bound">φ</a> <a id="7273" href="/lia/part1/NormalForms/#7238" class="Bound">ψ</a> <a id="7275" href="/lia/part1/NormalForms/#7242" class="Bound">ϱ</a> <a id="7277" class="Symbol">|</a>
           <a id="7290" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="7302" href="/lia/part1/NormalForms/#7234" class="Bound">φ</a> <a id="7304" href="/lia/part1/NormalForms/#7242" class="Bound">ϱ</a> <a id="7306" class="Symbol">|</a>
           <a id="7319" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="7331" class="Symbol">(</a><a id="7332" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="7334" href="/lia/part1/NormalForms/#7238" class="Bound">ψ</a><a id="7335" class="Symbol">)</a> <a id="7337" href="/lia/part1/NormalForms/#7242" class="Bound">ϱ</a> <a id="7339" class="Symbol">=</a> <a id="7341" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>

<a id="7347" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="7359" class="Symbol">(</a><a id="7360" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="7362" class="Symbol">(</a><a id="7363" href="/lia/part1/NormalForms/#7363" class="Bound">φ</a> <a id="7365" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="7367" href="/lia/part1/NormalForms/#7367" class="Bound">ψ</a><a id="7368" class="Symbol">))</a> <a id="7371" href="/lia/part1/NormalForms/#7371" class="Bound">ϱ</a>
   <a id="7376" class="Keyword">rewrite</a> <a id="7384" href="/lia/part1/Semantics/#32201" class="Function">deMorganIff-right</a> <a id="7402" href="/lia/part1/NormalForms/#7363" class="Bound">φ</a> <a id="7404" href="/lia/part1/NormalForms/#7367" class="Bound">ψ</a> <a id="7406" href="/lia/part1/NormalForms/#7371" class="Bound">ϱ</a> <a id="7408" class="Symbol">|</a>
           <a id="7421" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="7433" href="/lia/part1/NormalForms/#7363" class="Bound">φ</a> <a id="7435" href="/lia/part1/NormalForms/#7371" class="Bound">ϱ</a> <a id="7437" class="Symbol">|</a>
           <a id="7450" href="/lia/part1/NormalForms/#6265" class="Function">wnnf-sound'</a> <a id="7462" class="Symbol">(</a><a id="7463" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="7465" href="/lia/part1/NormalForms/#7367" class="Bound">ψ</a><a id="7466" class="Symbol">)</a> <a id="7468" href="/lia/part1/NormalForms/#7371" class="Bound">ϱ</a> <a id="7470" class="Symbol">=</a> <a id="7472" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>The <code class="language-plaintext highlighter-rouge">TERMINATING</code> pragma instructs Agda to accept this definition even
if it is not proved terminating by the termination checker. (In this way
we do not need to comment out the code.) This can be verified by
commenting out the pragma, whereby the termination checker will complain
about the recursive invocation marked by <code class="language-plaintext highlighter-rouge">(*)</code> above. It is surprising
that the termination checker cannot establish that
<a href="#wnnf-sound'"><code class="language-plaintext highlighter-rouge">wnnf-sound'</code></a> is terminating (which indeed it is), since
it has the same recursive structure as <a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a> , which is
established terminating.</p>

<p>We need to find a way to convince the termination checker. A simple
work-around with negligible notational overhead is to split the
soundness proof in two parts:</p>

<pre class="Agda"><a id="wnnf-sound"></a><a id="8201" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="8212" class="Symbol">:</a> <a id="8214" class="Symbol">∀</a> <a id="8216" href="/lia/part1/NormalForms/#8216" class="Bound">φ</a> <a id="8218" class="Symbol">→</a> <a id="8220" href="/lia/part1/NormalForms/#8216" class="Bound">φ</a> <a id="8222" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="8224" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="8229" href="/lia/part1/NormalForms/#8216" class="Bound">φ</a>
<a id="wnnf¬-sound"></a><a id="8231" href="/lia/part1/NormalForms/#8231" class="Function">wnnf¬-sound</a> <a id="8243" class="Symbol">:</a> <a id="8245" class="Symbol">∀</a> <a id="8247" href="/lia/part1/NormalForms/#8247" class="Bound">φ</a> <a id="8249" class="Symbol">→</a> <a id="8251" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="8253" href="/lia/part1/NormalForms/#8247" class="Bound">φ</a> <a id="8255" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="8257" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="8262" class="Symbol">(</a><a id="8263" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="8265" href="/lia/part1/NormalForms/#8247" class="Bound">φ</a><a id="8266" class="Symbol">)</a></pre>

<p>where the second part takes care of negated formulas. With this
“division of duties” approach, we can comfortably write the following
mutually recursive definitions:</p>

<pre class="Agda"><a id="8444" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="8455" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="8457" href="/lia/part1/NormalForms/#8457" class="Bound">ϱ</a> <a id="8459" class="Symbol">=</a> <a id="8461" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="8466" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="8477" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="8479" href="/lia/part1/NormalForms/#8479" class="Bound">ϱ</a> <a id="8481" class="Symbol">=</a> <a id="8483" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="8488" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="8499" class="Symbol">(</a><a id="8500" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="8502" href="/lia/part1/NormalForms/#8502" class="Bound">p</a><a id="8503" class="Symbol">)</a> <a id="8505" href="/lia/part1/NormalForms/#8505" class="Bound">ϱ</a> <a id="8507" class="Symbol">=</a> <a id="8509" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="8514" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="8525" class="Symbol">(</a><a id="8526" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="8528" href="/lia/part1/NormalForms/#8528" class="Bound">φ</a><a id="8529" class="Symbol">)</a> <a id="8531" class="Symbol">=</a> <a id="8533" href="/lia/part1/NormalForms/#8231" class="Function">wnnf¬-sound</a> <a id="8545" href="/lia/part1/NormalForms/#8528" class="Bound">φ</a>
<a id="8547" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="8558" class="Symbol">(</a><a id="8559" href="/lia/part1/NormalForms/#8559" class="Bound">φ</a> <a id="8561" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="8563" href="/lia/part1/NormalForms/#8563" class="Bound">ψ</a><a id="8564" class="Symbol">)</a> <a id="8566" href="/lia/part1/NormalForms/#8566" class="Bound">ϱ</a>
  <a id="8570" class="Keyword">rewrite</a> <a id="8578" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="8589" href="/lia/part1/NormalForms/#8559" class="Bound">φ</a> <a id="8591" href="/lia/part1/NormalForms/#8566" class="Bound">ϱ</a> <a id="8593" class="Symbol">|</a>
          <a id="8605" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="8616" href="/lia/part1/NormalForms/#8563" class="Bound">ψ</a> <a id="8618" href="/lia/part1/NormalForms/#8566" class="Bound">ϱ</a> <a id="8620" class="Symbol">=</a> <a id="8622" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="8627" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="8638" class="Symbol">(</a><a id="8639" href="/lia/part1/NormalForms/#8639" class="Bound">φ</a> <a id="8641" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="8643" href="/lia/part1/NormalForms/#8643" class="Bound">ψ</a><a id="8644" class="Symbol">)</a> <a id="8646" href="/lia/part1/NormalForms/#8646" class="Bound">ϱ</a>
  <a id="8650" class="Keyword">rewrite</a> <a id="8658" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="8669" href="/lia/part1/NormalForms/#8639" class="Bound">φ</a> <a id="8671" href="/lia/part1/NormalForms/#8646" class="Bound">ϱ</a> <a id="8673" class="Symbol">|</a>
          <a id="8685" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="8696" href="/lia/part1/NormalForms/#8643" class="Bound">ψ</a> <a id="8698" href="/lia/part1/NormalForms/#8646" class="Bound">ϱ</a> <a id="8700" class="Symbol">=</a> <a id="8702" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="8707" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="8718" class="Symbol">(</a><a id="8719" href="/lia/part1/NormalForms/#8719" class="Bound">φ</a> <a id="8721" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="8723" href="/lia/part1/NormalForms/#8723" class="Bound">ψ</a><a id="8724" class="Symbol">)</a> <a id="8726" href="/lia/part1/NormalForms/#8726" class="Bound">ϱ</a>
  <a id="8730" class="Keyword">rewrite</a> <a id="8738" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="8749" href="/lia/part1/NormalForms/#8719" class="Bound">φ</a> <a id="8751" href="/lia/part1/NormalForms/#8726" class="Bound">ϱ</a> <a id="8753" class="Symbol">|</a>
          <a id="8765" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="8776" href="/lia/part1/NormalForms/#8723" class="Bound">ψ</a> <a id="8778" href="/lia/part1/NormalForms/#8726" class="Bound">ϱ</a> <a id="8780" class="Symbol">=</a> <a id="8782" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="8787" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="8798" class="Symbol">(</a><a id="8799" href="/lia/part1/NormalForms/#8799" class="Bound">φ</a> <a id="8801" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="8803" href="/lia/part1/NormalForms/#8803" class="Bound">ψ</a><a id="8804" class="Symbol">)</a> <a id="8806" href="/lia/part1/NormalForms/#8806" class="Bound">ϱ</a>
  <a id="8810" class="Keyword">rewrite</a> <a id="8818" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="8829" href="/lia/part1/NormalForms/#8799" class="Bound">φ</a> <a id="8831" href="/lia/part1/NormalForms/#8806" class="Bound">ϱ</a> <a id="8833" class="Symbol">|</a>
          <a id="8845" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="8856" href="/lia/part1/NormalForms/#8803" class="Bound">ψ</a> <a id="8858" href="/lia/part1/NormalForms/#8806" class="Bound">ϱ</a> <a id="8860" class="Symbol">=</a> <a id="8862" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>and</p>

<pre class="Agda"><a id="8881" href="/lia/part1/NormalForms/#8231" class="Function">wnnf¬-sound</a> <a id="8893" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="8895" href="/lia/part1/NormalForms/#8895" class="Bound">ϱ</a> <a id="8897" class="Symbol">=</a> <a id="8899" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="8904" href="/lia/part1/NormalForms/#8231" class="Function">wnnf¬-sound</a> <a id="8916" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="8918" href="/lia/part1/NormalForms/#8918" class="Bound">ϱ</a> <a id="8920" class="Symbol">=</a> <a id="8922" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="8927" href="/lia/part1/NormalForms/#8231" class="Function">wnnf¬-sound</a> <a id="8939" class="Symbol">(</a><a id="8940" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="8942" href="/lia/part1/NormalForms/#8942" class="Bound">p</a><a id="8943" class="Symbol">)</a> <a id="8945" href="/lia/part1/NormalForms/#8945" class="Bound">ϱ</a> <a id="8947" class="Symbol">=</a> <a id="8949" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="8954" href="/lia/part1/NormalForms/#8231" class="Function">wnnf¬-sound</a> <a id="8966" class="Symbol">(</a><a id="8967" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="8969" href="/lia/part1/NormalForms/#8969" class="Bound">φ</a><a id="8970" class="Symbol">)</a> <a id="8972" href="/lia/part1/NormalForms/#8972" class="Bound">ϱ</a> 
  <a id="8977" class="Keyword">rewrite</a> <a id="8985" href="/lia/part1/Semantics/#31938" class="Function">doubleNegationLaw</a> <a id="9003" href="/lia/part1/NormalForms/#8969" class="Bound">φ</a> <a id="9005" href="/lia/part1/NormalForms/#8972" class="Bound">ϱ</a> <a id="9007" class="Symbol">|</a>
          <a id="9019" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="9030" href="/lia/part1/NormalForms/#8969" class="Bound">φ</a> <a id="9032" href="/lia/part1/NormalForms/#8972" class="Bound">ϱ</a> <a id="9034" class="Symbol">=</a> <a id="9036" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
  
<a id="9044" href="/lia/part1/NormalForms/#8231" class="Function">wnnf¬-sound</a> <a id="9056" class="Symbol">(</a><a id="9057" href="/lia/part1/NormalForms/#9057" class="Bound">φ</a> <a id="9059" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="9061" href="/lia/part1/NormalForms/#9061" class="Bound">ψ</a><a id="9062" class="Symbol">)</a> <a id="9064" href="/lia/part1/NormalForms/#9064" class="Bound">ϱ</a>
  <a id="9068" class="Keyword">rewrite</a> <a id="9076" href="/lia/part1/Semantics/#32018" class="Function">deMorganOr</a> <a id="9087" href="/lia/part1/NormalForms/#9057" class="Bound">φ</a> <a id="9089" href="/lia/part1/NormalForms/#9061" class="Bound">ψ</a> <a id="9091" href="/lia/part1/NormalForms/#9064" class="Bound">ϱ</a> <a id="9093" class="Symbol">|</a>
          <a id="9105" href="/lia/part1/NormalForms/#8231" class="Function">wnnf¬-sound</a> <a id="9117" href="/lia/part1/NormalForms/#9057" class="Bound">φ</a> <a id="9119" href="/lia/part1/NormalForms/#9064" class="Bound">ϱ</a> <a id="9121" class="Symbol">|</a>
          <a id="9133" href="/lia/part1/NormalForms/#8231" class="Function">wnnf¬-sound</a> <a id="9145" href="/lia/part1/NormalForms/#9061" class="Bound">ψ</a> <a id="9147" href="/lia/part1/NormalForms/#9064" class="Bound">ϱ</a> <a id="9149" class="Symbol">=</a> <a id="9151" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
          
<a id="9167" href="/lia/part1/NormalForms/#8231" class="Function">wnnf¬-sound</a> <a id="9179" class="Symbol">(</a><a id="9180" href="/lia/part1/NormalForms/#9180" class="Bound">φ</a> <a id="9182" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="9184" href="/lia/part1/NormalForms/#9184" class="Bound">ψ</a><a id="9185" class="Symbol">)</a> <a id="9187" href="/lia/part1/NormalForms/#9187" class="Bound">ϱ</a>
  <a id="9191" class="Keyword">rewrite</a> <a id="9199" href="/lia/part1/Semantics/#31974" class="Function">deMorganAnd</a> <a id="9211" href="/lia/part1/NormalForms/#9180" class="Bound">φ</a> <a id="9213" href="/lia/part1/NormalForms/#9184" class="Bound">ψ</a> <a id="9215" href="/lia/part1/NormalForms/#9187" class="Bound">ϱ</a> <a id="9217" class="Symbol">|</a>
          <a id="9229" href="/lia/part1/NormalForms/#8231" class="Function">wnnf¬-sound</a> <a id="9241" href="/lia/part1/NormalForms/#9180" class="Bound">φ</a> <a id="9243" href="/lia/part1/NormalForms/#9187" class="Bound">ϱ</a> <a id="9245" class="Symbol">|</a>
          <a id="9257" href="/lia/part1/NormalForms/#8231" class="Function">wnnf¬-sound</a> <a id="9269" href="/lia/part1/NormalForms/#9184" class="Bound">ψ</a> <a id="9271" href="/lia/part1/NormalForms/#9187" class="Bound">ϱ</a> <a id="9273" class="Symbol">=</a> <a id="9275" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>

<a id="9281" href="/lia/part1/NormalForms/#8231" class="Function">wnnf¬-sound</a> <a id="9293" class="Symbol">(</a><a id="9294" href="/lia/part1/NormalForms/#9294" class="Bound">φ</a> <a id="9296" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="9298" href="/lia/part1/NormalForms/#9298" class="Bound">ψ</a><a id="9299" class="Symbol">)</a> <a id="9301" href="/lia/part1/NormalForms/#9301" class="Bound">ϱ</a>
  <a id="9305" class="Keyword">rewrite</a> <a id="9313" href="/lia/part1/Semantics/#32108" class="Function">deMorganImplies</a> <a id="9329" href="/lia/part1/NormalForms/#9294" class="Bound">φ</a> <a id="9331" href="/lia/part1/NormalForms/#9298" class="Bound">ψ</a> <a id="9333" href="/lia/part1/NormalForms/#9301" class="Bound">ϱ</a> <a id="9335" class="Symbol">|</a>
          <a id="9347" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="9358" href="/lia/part1/NormalForms/#9294" class="Bound">φ</a> <a id="9360" href="/lia/part1/NormalForms/#9301" class="Bound">ϱ</a> <a id="9362" class="Symbol">|</a>
          <a id="9374" href="/lia/part1/NormalForms/#8231" class="Function">wnnf¬-sound</a> <a id="9386" href="/lia/part1/NormalForms/#9298" class="Bound">ψ</a> <a id="9388" href="/lia/part1/NormalForms/#9301" class="Bound">ϱ</a> <a id="9390" class="Symbol">=</a> <a id="9392" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>

<a id="9398" href="/lia/part1/NormalForms/#8231" class="Function">wnnf¬-sound</a> <a id="9410" class="Symbol">(</a><a id="9411" href="/lia/part1/NormalForms/#9411" class="Bound">φ</a> <a id="9413" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="9415" href="/lia/part1/NormalForms/#9415" class="Bound">ψ</a><a id="9416" class="Symbol">)</a> <a id="9418" href="/lia/part1/NormalForms/#9418" class="Bound">ϱ</a>
  <a id="9422" class="Keyword">rewrite</a> <a id="9430" href="/lia/part1/Semantics/#32201" class="Function">deMorganIff-right</a> <a id="9448" href="/lia/part1/NormalForms/#9411" class="Bound">φ</a> <a id="9450" href="/lia/part1/NormalForms/#9415" class="Bound">ψ</a> <a id="9452" href="/lia/part1/NormalForms/#9418" class="Bound">ϱ</a> <a id="9454" class="Symbol">|</a>
          <a id="9466" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="9477" href="/lia/part1/NormalForms/#9411" class="Bound">φ</a> <a id="9479" href="/lia/part1/NormalForms/#9418" class="Bound">ϱ</a> <a id="9481" class="Symbol">|</a>
          <a id="9493" href="/lia/part1/NormalForms/#8231" class="Function">wnnf¬-sound</a> <a id="9505" href="/lia/part1/NormalForms/#9415" class="Bound">ψ</a> <a id="9507" href="/lia/part1/NormalForms/#9418" class="Bound">ϱ</a> <a id="9509" class="Symbol">=</a> <a id="9511" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<h2 id="internal-verification">
<a class="anchor" href="#internal-verification" aria-hidden="true"><span class="octicon octicon-link"></span></a>Internal verification</h2>

<p>An alternative approach is to the define the WNNF transformation and its
correctness proof as a single recursive definition:</p>

<pre class="Agda"><a id="wnnf′"></a><a id="9677" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="9683" class="Symbol">:</a> <a id="9685" href="/lia/part0/Logic/#216" class="Function">∀[</a> <a id="9688" href="/lia/part1/NormalForms/#9688" class="Bound">φ</a> <a id="9690" href="/lia/part0/Logic/#216" class="Function">]</a> <a id="9692" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="9695" href="/lia/part1/NormalForms/#9695" class="Bound">ψ</a> <a id="9697" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="9699" href="/lia/part1/NormalForms/#845" class="Datatype">WNNF</a> <a id="9704" href="/lia/part1/NormalForms/#9695" class="Bound">ψ</a> <a id="9706" href="/lia/part0/Logic/#1770" class="Record Operator">×</a> <a id="9708" href="/lia/part1/NormalForms/#9688" class="Bound">φ</a> <a id="9710" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="9712" href="/lia/part1/NormalForms/#9695" class="Bound">ψ</a></pre>

<div class="introbox">

  <p>This has the advantage of solving the termination problem highlighted
above. One disadvantage is that in contexts where we need just the WNNF
formula, but not its correctness proof, we cannot write just <code class="language-plaintext highlighter-rouge">wnnf φ</code>,
but we would need to write the less transparent <code class="language-plaintext highlighter-rouge">dfst (wnnf' φ)</code>. For
this reason, in this section we have preferred an approach where the
definition of WNNF and its correctness proof are given separately,
however it is interesting to compare it to the case where they are given
together. This style of programming is sometimes called <em>internal
verification</em>. <button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="10317" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="10323" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="10325" class="Symbol">=</a> <a id="10327" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="10329" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10331" href="/lia/part1/NormalForms/#887" class="InductiveConstructor">⊥</a> <a id="10333" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="10335" class="Symbol">λ</a> <a id="10337" href="/lia/part1/NormalForms/#10337" class="Bound">ϱ</a> <a id="10339" class="Symbol">→</a> <a id="10341" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="10346" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="10352" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="10354" class="Symbol">=</a> <a id="10356" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="10358" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10360" href="/lia/part1/NormalForms/#874" class="InductiveConstructor">⊤</a> <a id="10362" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="10364" class="Symbol">λ</a> <a id="10366" href="/lia/part1/NormalForms/#10366" class="Bound">ϱ</a> <a id="10368" class="Symbol">→</a> <a id="10370" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="10375" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="10381" class="Symbol">(</a><a id="10382" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="10384" href="/lia/part1/NormalForms/#10384" class="Bound">p</a><a id="10385" class="Symbol">)</a> <a id="10387" class="Symbol">=</a> <a id="10389" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="10391" href="/lia/part1/NormalForms/#10384" class="Bound">p</a> <a id="10393" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10395" href="/lia/part1/NormalForms/#900" class="InductiveConstructor Operator">`</a> <a id="10397" href="/lia/part1/NormalForms/#10384" class="Bound">p</a> <a id="10399" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="10401" class="Symbol">λ</a> <a id="10403" href="/lia/part1/NormalForms/#10403" class="Bound">ϱ</a> <a id="10405" class="Symbol">→</a> <a id="10407" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="10412" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="10418" class="Symbol">(</a><a id="10419" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="10421" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a><a id="10422" class="Symbol">)</a> <a id="10424" class="Symbol">=</a> <a id="10426" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="10428" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10430" href="/lia/part1/NormalForms/#874" class="InductiveConstructor">⊤</a> <a id="10432" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="10434" class="Symbol">λ</a> <a id="10436" href="/lia/part1/NormalForms/#10436" class="Bound">ϱ</a> <a id="10438" class="Symbol">→</a> <a id="10440" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="10445" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="10451" class="Symbol">(</a><a id="10452" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="10454" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a><a id="10455" class="Symbol">)</a> <a id="10457" class="Symbol">=</a> <a id="10459" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="10461" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10463" href="/lia/part1/NormalForms/#887" class="InductiveConstructor">⊥</a> <a id="10465" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="10467" class="Symbol">λ</a> <a id="10469" href="/lia/part1/NormalForms/#10469" class="Bound">ϱ</a> <a id="10471" class="Symbol">→</a> <a id="10473" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="10478" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="10484" class="Symbol">(</a><a id="10485" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="10487" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="10489" href="/lia/part1/NormalForms/#10489" class="Bound">p</a><a id="10490" class="Symbol">)</a> <a id="10492" class="Symbol">=</a> <a id="10494" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="10496" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="10498" href="/lia/part1/NormalForms/#10489" class="Bound">p</a> <a id="10500" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10502" href="/lia/part1/NormalForms/#935" class="InductiveConstructor Operator">¬`</a> <a id="10505" href="/lia/part1/NormalForms/#10489" class="Bound">p</a> <a id="10507" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="10509" class="Symbol">λ</a> <a id="10511" href="/lia/part1/NormalForms/#10511" class="Bound">ϱ</a> <a id="10513" class="Symbol">→</a> <a id="10515" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>

<a id="10521" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="10527" class="Symbol">(</a><a id="10528" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="10530" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="10532" href="/lia/part1/NormalForms/#10532" class="Bound">φ</a><a id="10533" class="Symbol">)</a> <a id="10535" class="Keyword">with</a> <a id="10540" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="10546" href="/lia/part1/NormalForms/#10532" class="Bound">φ</a>
<a id="10548" class="Symbol">...</a> <a id="10552" class="Symbol">|</a> <a id="10554" href="/lia/part1/NormalForms/#10554" class="Bound">ψ</a> <a id="10556" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10558" href="/lia/part1/NormalForms/#10558" class="Bound">WNNFψ</a> <a id="10564" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="10566" href="/lia/part1/NormalForms/#10566" class="Bound">φ⟺ψ</a> <a id="10570" class="Symbol">=</a> <a id="10572" href="/lia/part1/NormalForms/#10554" class="Bound">ψ</a> <a id="10574" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10576" href="/lia/part1/NormalForms/#10558" class="Bound">WNNFψ</a> <a id="10582" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="10584" href="/lia/part1/NormalForms/#10605" class="Function">correctness</a> <a id="10596" class="Keyword">where</a>

  <a id="10605" href="/lia/part1/NormalForms/#10605" class="Function">correctness</a> <a id="10617" class="Symbol">:</a> <a id="10619" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="10621" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="10623" class="Bound">φ</a> <a id="10625" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="10627" href="/lia/part1/NormalForms/#10554" class="Bound">ψ</a>
  <a id="10631" href="/lia/part1/NormalForms/#10605" class="Function">correctness</a> <a id="10643" href="/lia/part1/NormalForms/#10643" class="Bound">ϱ</a> <a id="10645" class="Keyword">rewrite</a> <a id="10653" href="/lia/part1/Semantics/#31938" class="Function">doubleNegationLaw</a> <a id="10671" class="Bound">φ</a> <a id="10673" href="/lia/part1/NormalForms/#10643" class="Bound">ϱ</a> <a id="10675" class="Symbol">|</a>
                        <a id="10701" href="/lia/part1/NormalForms/#10566" class="Bound">φ⟺ψ</a> <a id="10705" href="/lia/part1/NormalForms/#10643" class="Bound">ϱ</a> <a id="10707" class="Symbol">=</a> <a id="10709" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>

<a id="10715" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="10721" class="Symbol">(</a><a id="10722" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="10724" class="Symbol">(</a><a id="10725" href="/lia/part1/NormalForms/#10725" class="Bound">φ₀</a> <a id="10728" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="10730" href="/lia/part1/NormalForms/#10730" class="Bound">φ₁</a><a id="10732" class="Symbol">))</a> <a id="10735" class="Keyword">with</a> <a id="10740" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="10746" class="Symbol">(</a><a id="10747" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="10749" href="/lia/part1/NormalForms/#10725" class="Bound">φ₀</a><a id="10751" class="Symbol">)</a> <a id="10753" class="Symbol">|</a> <a id="10755" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="10761" class="Symbol">(</a><a id="10762" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="10764" href="/lia/part1/NormalForms/#10730" class="Bound">φ₁</a><a id="10766" class="Symbol">)</a>
<a id="10768" class="Symbol">...</a> <a id="10772" class="Symbol">|</a> <a id="10774" href="/lia/part1/NormalForms/#10774" class="Bound">ψ₀</a> <a id="10777" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10779" href="/lia/part1/NormalForms/#10779" class="Bound">WNNFψ₀</a> <a id="10786" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="10788" href="/lia/part1/NormalForms/#10788" class="Bound">φ₀⟺ψ₀</a>
    <a id="10798" class="Symbol">|</a> <a id="10800" href="/lia/part1/NormalForms/#10800" class="Bound">ψ₁</a> <a id="10803" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10805" href="/lia/part1/NormalForms/#10805" class="Bound">WNNFψ₁</a> <a id="10812" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="10814" href="/lia/part1/NormalForms/#10814" class="Bound">φ₁⟺ψ₁</a> <a id="10820" class="Symbol">=</a> <a id="10822" href="/lia/part1/NormalForms/#10774" class="Bound">ψ₀</a> <a id="10825" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="10827" href="/lia/part1/NormalForms/#10800" class="Bound">ψ₁</a> <a id="10830" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10832" href="/lia/part1/NormalForms/#10779" class="Bound">WNNFψ₀</a> <a id="10839" href="/lia/part1/NormalForms/#973" class="InductiveConstructor Operator">∧</a> <a id="10841" href="/lia/part1/NormalForms/#10805" class="Bound">WNNFψ₁</a> <a id="10848" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="10850" href="/lia/part1/NormalForms/#10871" class="Function">correctness</a> <a id="10862" class="Keyword">where</a>

  <a id="10871" href="/lia/part1/NormalForms/#10871" class="Function">correctness</a> <a id="10883" class="Symbol">:</a> <a id="10885" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="10887" class="Symbol">(</a><a id="10888" class="Bound">φ₀</a> <a id="10891" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="10893" class="Bound">φ₁</a><a id="10895" class="Symbol">)</a> <a id="10897" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="10899" href="/lia/part1/NormalForms/#10774" class="Bound">ψ₀</a> <a id="10902" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="10904" href="/lia/part1/NormalForms/#10800" class="Bound">ψ₁</a>
  <a id="10909" href="/lia/part1/NormalForms/#10871" class="Function">correctness</a> <a id="10921" href="/lia/part1/NormalForms/#10921" class="Bound">ϱ</a> <a id="10923" class="Keyword">rewrite</a> <a id="10931" href="/lia/part1/Semantics/#32018" class="Function">deMorganOr</a> <a id="10942" class="Bound">φ₀</a> <a id="10945" class="Bound">φ₁</a> <a id="10948" href="/lia/part1/NormalForms/#10921" class="Bound">ϱ</a> <a id="10950" class="Symbol">|</a>
                        <a id="10976" href="/lia/part1/NormalForms/#10788" class="Bound">φ₀⟺ψ₀</a> <a id="10982" href="/lia/part1/NormalForms/#10921" class="Bound">ϱ</a> <a id="10984" class="Symbol">|</a>
                        <a id="11010" href="/lia/part1/NormalForms/#10814" class="Bound">φ₁⟺ψ₁</a> <a id="11016" href="/lia/part1/NormalForms/#10921" class="Bound">ϱ</a> <a id="11018" class="Symbol">=</a> <a id="11020" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>

<a id="11026" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="11032" class="Symbol">(</a><a id="11033" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="11035" class="Symbol">(</a><a id="11036" href="/lia/part1/NormalForms/#11036" class="Bound">φ₀</a> <a id="11039" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="11041" href="/lia/part1/NormalForms/#11041" class="Bound">φ₁</a><a id="11043" class="Symbol">))</a> <a id="11046" class="Keyword">with</a> <a id="11051" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="11057" class="Symbol">(</a><a id="11058" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="11060" href="/lia/part1/NormalForms/#11036" class="Bound">φ₀</a><a id="11062" class="Symbol">)</a> <a id="11064" class="Symbol">|</a> <a id="11066" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="11072" class="Symbol">(</a><a id="11073" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="11075" href="/lia/part1/NormalForms/#11041" class="Bound">φ₁</a><a id="11077" class="Symbol">)</a>
<a id="11079" class="Symbol">...</a> <a id="11083" class="Symbol">|</a> <a id="11085" href="/lia/part1/NormalForms/#11085" class="Bound">ψ₀</a> <a id="11088" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11090" href="/lia/part1/NormalForms/#11090" class="Bound">WNNFψ₀</a> <a id="11097" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="11099" href="/lia/part1/NormalForms/#11099" class="Bound">φ₀⟺ψ₀</a>
    <a id="11109" class="Symbol">|</a> <a id="11111" href="/lia/part1/NormalForms/#11111" class="Bound">ψ₁</a> <a id="11114" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11116" href="/lia/part1/NormalForms/#11116" class="Bound">WNNFψ₁</a> <a id="11123" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="11125" href="/lia/part1/NormalForms/#11125" class="Bound">φ₁⟺ψ₁</a> <a id="11131" class="Symbol">=</a> <a id="11133" href="/lia/part1/NormalForms/#11085" class="Bound">ψ₀</a> <a id="11136" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="11138" href="/lia/part1/NormalForms/#11111" class="Bound">ψ₁</a> <a id="11141" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11143" href="/lia/part1/NormalForms/#11090" class="Bound">WNNFψ₀</a> <a id="11150" href="/lia/part1/NormalForms/#1012" class="InductiveConstructor Operator">∨</a> <a id="11152" href="/lia/part1/NormalForms/#11116" class="Bound">WNNFψ₁</a> <a id="11159" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="11161" href="/lia/part1/NormalForms/#11182" class="Function">correctness</a> <a id="11173" class="Keyword">where</a>

  <a id="11182" href="/lia/part1/NormalForms/#11182" class="Function">correctness</a> <a id="11194" class="Symbol">:</a> <a id="11196" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="11198" class="Symbol">(</a><a id="11199" class="Bound">φ₀</a> <a id="11202" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="11204" class="Bound">φ₁</a><a id="11206" class="Symbol">)</a> <a id="11208" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="11210" href="/lia/part1/NormalForms/#11085" class="Bound">ψ₀</a> <a id="11213" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="11215" href="/lia/part1/NormalForms/#11111" class="Bound">ψ₁</a>
  <a id="11220" href="/lia/part1/NormalForms/#11182" class="Function">correctness</a> <a id="11232" href="/lia/part1/NormalForms/#11232" class="Bound">ϱ</a> <a id="11234" class="Keyword">rewrite</a> <a id="11242" href="/lia/part1/Semantics/#31974" class="Function">deMorganAnd</a> <a id="11254" class="Bound">φ₀</a> <a id="11257" class="Bound">φ₁</a> <a id="11260" href="/lia/part1/NormalForms/#11232" class="Bound">ϱ</a> <a id="11262" class="Symbol">|</a>
                        <a id="11288" href="/lia/part1/NormalForms/#11099" class="Bound">φ₀⟺ψ₀</a> <a id="11294" href="/lia/part1/NormalForms/#11232" class="Bound">ϱ</a> <a id="11296" class="Symbol">|</a>
                        <a id="11322" href="/lia/part1/NormalForms/#11125" class="Bound">φ₁⟺ψ₁</a> <a id="11328" href="/lia/part1/NormalForms/#11232" class="Bound">ϱ</a> <a id="11330" class="Symbol">=</a> <a id="11332" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
            
<a id="11350" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="11356" class="Symbol">(</a><a id="11357" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="11359" class="Symbol">(</a><a id="11360" href="/lia/part1/NormalForms/#11360" class="Bound">φ₀</a> <a id="11363" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="11365" href="/lia/part1/NormalForms/#11365" class="Bound">φ₁</a><a id="11367" class="Symbol">))</a> <a id="11370" class="Keyword">with</a> <a id="11375" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="11381" href="/lia/part1/NormalForms/#11360" class="Bound">φ₀</a> <a id="11384" class="Symbol">|</a> <a id="11386" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="11392" class="Symbol">(</a><a id="11393" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="11395" href="/lia/part1/NormalForms/#11365" class="Bound">φ₁</a><a id="11397" class="Symbol">)</a>
<a id="11399" class="Symbol">...</a> <a id="11403" class="Symbol">|</a> <a id="11405" href="/lia/part1/NormalForms/#11405" class="Bound">ψ₀</a> <a id="11408" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11410" href="/lia/part1/NormalForms/#11410" class="Bound">WNNFψ₀</a> <a id="11417" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="11419" href="/lia/part1/NormalForms/#11419" class="Bound">φ₀⟺ψ₀</a>
    <a id="11429" class="Symbol">|</a> <a id="11431" href="/lia/part1/NormalForms/#11431" class="Bound">ψ₁</a> <a id="11434" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11436" href="/lia/part1/NormalForms/#11436" class="Bound">WNNFψ₁</a> <a id="11443" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="11445" href="/lia/part1/NormalForms/#11445" class="Bound">φ₁⟺ψ₁</a> <a id="11451" class="Symbol">=</a> <a id="11453" href="/lia/part1/NormalForms/#11405" class="Bound">ψ₀</a> <a id="11456" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="11458" href="/lia/part1/NormalForms/#11431" class="Bound">ψ₁</a> <a id="11461" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11463" href="/lia/part1/NormalForms/#11410" class="Bound">WNNFψ₀</a> <a id="11470" href="/lia/part1/NormalForms/#973" class="InductiveConstructor Operator">∧</a> <a id="11472" href="/lia/part1/NormalForms/#11436" class="Bound">WNNFψ₁</a> <a id="11479" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="11481" href="/lia/part1/NormalForms/#11502" class="Function">correctness</a> <a id="11493" class="Keyword">where</a>

  <a id="11502" href="/lia/part1/NormalForms/#11502" class="Function">correctness</a> <a id="11514" class="Symbol">:</a> <a id="11516" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="11518" class="Symbol">(</a><a id="11519" class="Bound">φ₀</a> <a id="11522" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="11524" class="Bound">φ₁</a><a id="11526" class="Symbol">)</a> <a id="11528" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="11530" href="/lia/part1/NormalForms/#11405" class="Bound">ψ₀</a> <a id="11533" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="11535" href="/lia/part1/NormalForms/#11431" class="Bound">ψ₁</a>
  <a id="11540" href="/lia/part1/NormalForms/#11502" class="Function">correctness</a> <a id="11552" href="/lia/part1/NormalForms/#11552" class="Bound">ϱ</a> <a id="11554" class="Keyword">rewrite</a> <a id="11562" href="/lia/part1/Semantics/#32108" class="Function">deMorganImplies</a> <a id="11578" class="Bound">φ₀</a> <a id="11581" class="Bound">φ₁</a> <a id="11584" href="/lia/part1/NormalForms/#11552" class="Bound">ϱ</a> <a id="11586" class="Symbol">|</a>
                        <a id="11612" href="/lia/part1/NormalForms/#11419" class="Bound">φ₀⟺ψ₀</a> <a id="11618" href="/lia/part1/NormalForms/#11552" class="Bound">ϱ</a> <a id="11620" class="Symbol">|</a>
                        <a id="11646" href="/lia/part1/NormalForms/#11445" class="Bound">φ₁⟺ψ₁</a> <a id="11652" href="/lia/part1/NormalForms/#11552" class="Bound">ϱ</a> <a id="11654" class="Symbol">=</a> <a id="11656" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
            
<a id="11674" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="11680" class="Symbol">(</a><a id="11681" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="11683" class="Symbol">(</a><a id="11684" href="/lia/part1/NormalForms/#11684" class="Bound">φ₀</a> <a id="11687" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="11689" href="/lia/part1/NormalForms/#11689" class="Bound">φ₁</a><a id="11691" class="Symbol">))</a> <a id="11694" class="Keyword">with</a> <a id="11699" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="11705" href="/lia/part1/NormalForms/#11684" class="Bound">φ₀</a> <a id="11708" class="Symbol">|</a> <a id="11710" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="11716" class="Symbol">(</a><a id="11717" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="11719" href="/lia/part1/NormalForms/#11689" class="Bound">φ₁</a><a id="11721" class="Symbol">)</a>
<a id="11723" class="Symbol">...</a> <a id="11727" class="Symbol">|</a> <a id="11729" href="/lia/part1/NormalForms/#11729" class="Bound">ψ₀</a> <a id="11732" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11734" href="/lia/part1/NormalForms/#11734" class="Bound">WNNFψ₀</a> <a id="11741" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="11743" href="/lia/part1/NormalForms/#11743" class="Bound">φ₀⟺ψ₀</a>
    <a id="11753" class="Symbol">|</a> <a id="11755" href="/lia/part1/NormalForms/#11755" class="Bound">ψ₁</a> <a id="11758" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11760" href="/lia/part1/NormalForms/#11760" class="Bound">WNNFψ₁</a> <a id="11767" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="11769" href="/lia/part1/NormalForms/#11769" class="Bound">φ₁⟺ψ₁</a> <a id="11775" class="Symbol">=</a> <a id="11777" href="/lia/part1/NormalForms/#11729" class="Bound">ψ₀</a> <a id="11780" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="11782" href="/lia/part1/NormalForms/#11755" class="Bound">ψ₁</a> <a id="11785" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11787" href="/lia/part1/NormalForms/#11734" class="Bound">WNNFψ₀</a> <a id="11794" href="/lia/part1/NormalForms/#1090" class="InductiveConstructor Operator">⇔</a> <a id="11796" href="/lia/part1/NormalForms/#11760" class="Bound">WNNFψ₁</a> <a id="11803" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="11805" href="/lia/part1/NormalForms/#11826" class="Function">correctness</a> <a id="11817" class="Keyword">where</a>

  <a id="11826" href="/lia/part1/NormalForms/#11826" class="Function">correctness</a> <a id="11838" class="Symbol">:</a> <a id="11840" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="11842" class="Symbol">(</a><a id="11843" class="Bound">φ₀</a> <a id="11846" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="11848" class="Bound">φ₁</a><a id="11850" class="Symbol">)</a> <a id="11852" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="11854" href="/lia/part1/NormalForms/#11729" class="Bound">ψ₀</a> <a id="11857" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="11859" href="/lia/part1/NormalForms/#11755" class="Bound">ψ₁</a>
  <a id="11864" href="/lia/part1/NormalForms/#11826" class="Function">correctness</a> <a id="11876" href="/lia/part1/NormalForms/#11876" class="Bound">ϱ</a> <a id="11878" class="Keyword">rewrite</a> <a id="11886" href="/lia/part1/Semantics/#32201" class="Function">deMorganIff-right</a> <a id="11904" class="Bound">φ₀</a> <a id="11907" class="Bound">φ₁</a> <a id="11910" href="/lia/part1/NormalForms/#11876" class="Bound">ϱ</a> <a id="11912" class="Symbol">|</a>
                        <a id="11938" href="/lia/part1/NormalForms/#11743" class="Bound">φ₀⟺ψ₀</a> <a id="11944" href="/lia/part1/NormalForms/#11876" class="Bound">ϱ</a> <a id="11946" class="Symbol">|</a>
                        <a id="11972" href="/lia/part1/NormalForms/#11769" class="Bound">φ₁⟺ψ₁</a> <a id="11978" href="/lia/part1/NormalForms/#11876" class="Bound">ϱ</a> <a id="11980" class="Symbol">=</a> <a id="11982" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
            
<a id="12000" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="12006" class="Symbol">(</a><a id="12007" href="/lia/part1/NormalForms/#12007" class="Bound">φ₀</a> <a id="12010" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="12012" href="/lia/part1/NormalForms/#12012" class="Bound">φ₁</a><a id="12014" class="Symbol">)</a> <a id="12016" class="Keyword">with</a> <a id="12021" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="12027" href="/lia/part1/NormalForms/#12007" class="Bound">φ₀</a> <a id="12030" class="Symbol">|</a> <a id="12032" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="12038" href="/lia/part1/NormalForms/#12012" class="Bound">φ₁</a>
<a id="12041" class="Symbol">...</a> <a id="12045" class="Symbol">|</a> <a id="12047" href="/lia/part1/NormalForms/#12047" class="Bound">ψ₀</a> <a id="12050" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12052" href="/lia/part1/NormalForms/#12052" class="Bound">WNNFψ₀</a> <a id="12059" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="12061" href="/lia/part1/NormalForms/#12061" class="Bound">φ₀⟺ψ₀</a>
    <a id="12071" class="Symbol">|</a> <a id="12073" href="/lia/part1/NormalForms/#12073" class="Bound">ψ₁</a> <a id="12076" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12078" href="/lia/part1/NormalForms/#12078" class="Bound">WNNFψ₁</a> <a id="12085" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="12087" href="/lia/part1/NormalForms/#12087" class="Bound">φ₁⟺ψ₁</a> <a id="12093" class="Symbol">=</a> <a id="12095" href="/lia/part1/NormalForms/#12047" class="Bound">ψ₀</a> <a id="12098" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="12100" href="/lia/part1/NormalForms/#12073" class="Bound">ψ₁</a> <a id="12103" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12105" href="/lia/part1/NormalForms/#12052" class="Bound">WNNFψ₀</a> <a id="12112" href="/lia/part1/NormalForms/#1012" class="InductiveConstructor Operator">∨</a> <a id="12114" href="/lia/part1/NormalForms/#12078" class="Bound">WNNFψ₁</a> <a id="12121" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="12123" href="/lia/part1/NormalForms/#12144" class="Function">correctness</a> <a id="12135" class="Keyword">where</a>

  <a id="12144" href="/lia/part1/NormalForms/#12144" class="Function">correctness</a> <a id="12156" class="Symbol">:</a> <a id="12158" class="Bound">φ₀</a> <a id="12161" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="12163" class="Bound">φ₁</a> <a id="12166" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="12168" href="/lia/part1/NormalForms/#12047" class="Bound">ψ₀</a> <a id="12171" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="12173" href="/lia/part1/NormalForms/#12073" class="Bound">ψ₁</a>
  <a id="12178" href="/lia/part1/NormalForms/#12144" class="Function">correctness</a> <a id="12190" href="/lia/part1/NormalForms/#12190" class="Bound">ϱ</a> <a id="12192" class="Keyword">rewrite</a> <a id="12200" href="/lia/part1/NormalForms/#12061" class="Bound">φ₀⟺ψ₀</a> <a id="12206" href="/lia/part1/NormalForms/#12190" class="Bound">ϱ</a> <a id="12208" class="Symbol">|</a>
                        <a id="12234" href="/lia/part1/NormalForms/#12087" class="Bound">φ₁⟺ψ₁</a> <a id="12240" href="/lia/part1/NormalForms/#12190" class="Bound">ϱ</a> <a id="12242" class="Symbol">=</a> <a id="12244" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>

<a id="12250" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="12256" class="Symbol">(</a><a id="12257" href="/lia/part1/NormalForms/#12257" class="Bound">φ₀</a> <a id="12260" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="12262" href="/lia/part1/NormalForms/#12262" class="Bound">φ₁</a><a id="12264" class="Symbol">)</a> <a id="12266" class="Keyword">with</a> <a id="12271" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="12277" href="/lia/part1/NormalForms/#12257" class="Bound">φ₀</a> <a id="12280" class="Symbol">|</a> <a id="12282" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="12288" href="/lia/part1/NormalForms/#12262" class="Bound">φ₁</a>
<a id="12291" class="Symbol">...</a> <a id="12295" class="Symbol">|</a> <a id="12297" href="/lia/part1/NormalForms/#12297" class="Bound">ψ₀</a> <a id="12300" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12302" href="/lia/part1/NormalForms/#12302" class="Bound">WNNFψ₀</a> <a id="12309" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="12311" href="/lia/part1/NormalForms/#12311" class="Bound">φ₀⟺ψ₀</a>
    <a id="12321" class="Symbol">|</a> <a id="12323" href="/lia/part1/NormalForms/#12323" class="Bound">ψ₁</a> <a id="12326" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12328" href="/lia/part1/NormalForms/#12328" class="Bound">WNNFψ₁</a> <a id="12335" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="12337" href="/lia/part1/NormalForms/#12337" class="Bound">φ₁⟺ψ₁</a> <a id="12343" class="Symbol">=</a> <a id="12345" href="/lia/part1/NormalForms/#12297" class="Bound">ψ₀</a> <a id="12348" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="12350" href="/lia/part1/NormalForms/#12323" class="Bound">ψ₁</a> <a id="12353" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12355" href="/lia/part1/NormalForms/#12302" class="Bound">WNNFψ₀</a> <a id="12362" href="/lia/part1/NormalForms/#973" class="InductiveConstructor Operator">∧</a> <a id="12364" href="/lia/part1/NormalForms/#12328" class="Bound">WNNFψ₁</a> <a id="12371" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="12373" href="/lia/part1/NormalForms/#12394" class="Function">correctness</a> <a id="12385" class="Keyword">where</a>

  <a id="12394" href="/lia/part1/NormalForms/#12394" class="Function">correctness</a> <a id="12406" class="Symbol">:</a> <a id="12408" class="Bound">φ₀</a> <a id="12411" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="12413" class="Bound">φ₁</a> <a id="12416" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="12418" href="/lia/part1/NormalForms/#12297" class="Bound">ψ₀</a> <a id="12421" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="12423" href="/lia/part1/NormalForms/#12323" class="Bound">ψ₁</a>
  <a id="12428" href="/lia/part1/NormalForms/#12394" class="Function">correctness</a> <a id="12440" href="/lia/part1/NormalForms/#12440" class="Bound">ϱ</a> <a id="12442" class="Keyword">rewrite</a> <a id="12450" href="/lia/part1/NormalForms/#12311" class="Bound">φ₀⟺ψ₀</a> <a id="12456" href="/lia/part1/NormalForms/#12440" class="Bound">ϱ</a> <a id="12458" class="Symbol">|</a>
                        <a id="12484" href="/lia/part1/NormalForms/#12337" class="Bound">φ₁⟺ψ₁</a> <a id="12490" href="/lia/part1/NormalForms/#12440" class="Bound">ϱ</a> <a id="12492" class="Symbol">=</a> <a id="12494" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>

<a id="12500" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="12506" class="Symbol">(</a><a id="12507" href="/lia/part1/NormalForms/#12507" class="Bound">φ₀</a> <a id="12510" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="12512" href="/lia/part1/NormalForms/#12512" class="Bound">φ₁</a><a id="12514" class="Symbol">)</a> <a id="12516" class="Keyword">with</a> <a id="12521" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="12527" href="/lia/part1/NormalForms/#12507" class="Bound">φ₀</a> <a id="12530" class="Symbol">|</a> <a id="12532" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="12538" href="/lia/part1/NormalForms/#12512" class="Bound">φ₁</a>
<a id="12541" class="Symbol">...</a> <a id="12545" class="Symbol">|</a> <a id="12547" href="/lia/part1/NormalForms/#12547" class="Bound">ψ₀</a> <a id="12550" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12552" href="/lia/part1/NormalForms/#12552" class="Bound">WNNFψ₀</a> <a id="12559" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="12561" href="/lia/part1/NormalForms/#12561" class="Bound">φ₀⟺ψ₀</a>
    <a id="12571" class="Symbol">|</a> <a id="12573" href="/lia/part1/NormalForms/#12573" class="Bound">ψ₁</a> <a id="12576" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12578" href="/lia/part1/NormalForms/#12578" class="Bound">WNNFψ₁</a> <a id="12585" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="12587" href="/lia/part1/NormalForms/#12587" class="Bound">φ₁⟺ψ₁</a> <a id="12593" class="Symbol">=</a> <a id="12595" href="/lia/part1/NormalForms/#12547" class="Bound">ψ₀</a> <a id="12598" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="12600" href="/lia/part1/NormalForms/#12573" class="Bound">ψ₁</a> <a id="12603" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12605" href="/lia/part1/NormalForms/#12552" class="Bound">WNNFψ₀</a> <a id="12612" href="/lia/part1/NormalForms/#1051" class="InductiveConstructor Operator">⇒</a> <a id="12614" href="/lia/part1/NormalForms/#12578" class="Bound">WNNFψ₁</a> <a id="12621" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="12623" href="/lia/part1/NormalForms/#12644" class="Function">correctness</a> <a id="12635" class="Keyword">where</a>

  <a id="12644" href="/lia/part1/NormalForms/#12644" class="Function">correctness</a> <a id="12656" class="Symbol">:</a> <a id="12658" class="Bound">φ₀</a> <a id="12661" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="12663" class="Bound">φ₁</a> <a id="12666" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="12668" href="/lia/part1/NormalForms/#12547" class="Bound">ψ₀</a> <a id="12671" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="12673" href="/lia/part1/NormalForms/#12573" class="Bound">ψ₁</a>
  <a id="12678" href="/lia/part1/NormalForms/#12644" class="Function">correctness</a> <a id="12690" href="/lia/part1/NormalForms/#12690" class="Bound">ϱ</a> <a id="12692" class="Keyword">rewrite</a> <a id="12700" href="/lia/part1/NormalForms/#12561" class="Bound">φ₀⟺ψ₀</a> <a id="12706" href="/lia/part1/NormalForms/#12690" class="Bound">ϱ</a> <a id="12708" class="Symbol">|</a>
                        <a id="12734" href="/lia/part1/NormalForms/#12587" class="Bound">φ₁⟺ψ₁</a> <a id="12740" href="/lia/part1/NormalForms/#12690" class="Bound">ϱ</a> <a id="12742" class="Symbol">=</a> <a id="12744" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>

<a id="12750" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="12756" class="Symbol">(</a><a id="12757" href="/lia/part1/NormalForms/#12757" class="Bound">φ₀</a> <a id="12760" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="12762" href="/lia/part1/NormalForms/#12762" class="Bound">φ₁</a><a id="12764" class="Symbol">)</a> <a id="12766" class="Keyword">with</a> <a id="12771" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="12777" href="/lia/part1/NormalForms/#12757" class="Bound">φ₀</a> <a id="12780" class="Symbol">|</a> <a id="12782" href="/lia/part1/NormalForms/#9677" class="Function">wnnf′</a> <a id="12788" href="/lia/part1/NormalForms/#12762" class="Bound">φ₁</a>
<a id="12791" class="Symbol">...</a> <a id="12795" class="Symbol">|</a> <a id="12797" href="/lia/part1/NormalForms/#12797" class="Bound">ψ₀</a> <a id="12800" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12802" href="/lia/part1/NormalForms/#12802" class="Bound">WNNFψ₀</a> <a id="12809" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="12811" href="/lia/part1/NormalForms/#12811" class="Bound">φ₀⟺ψ₀</a>
    <a id="12821" class="Symbol">|</a> <a id="12823" href="/lia/part1/NormalForms/#12823" class="Bound">ψ₁</a> <a id="12826" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12828" href="/lia/part1/NormalForms/#12828" class="Bound">WNNFψ₁</a> <a id="12835" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="12837" href="/lia/part1/NormalForms/#12837" class="Bound">φ₁⟺ψ₁</a> <a id="12843" class="Symbol">=</a> <a id="12845" href="/lia/part1/NormalForms/#12797" class="Bound">ψ₀</a> <a id="12848" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="12850" href="/lia/part1/NormalForms/#12823" class="Bound">ψ₁</a> <a id="12853" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12855" href="/lia/part1/NormalForms/#12802" class="Bound">WNNFψ₀</a> <a id="12862" href="/lia/part1/NormalForms/#1090" class="InductiveConstructor Operator">⇔</a> <a id="12864" href="/lia/part1/NormalForms/#12828" class="Bound">WNNFψ₁</a> <a id="12871" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="12873" href="/lia/part1/NormalForms/#12894" class="Function">correctness</a> <a id="12885" class="Keyword">where</a>

  <a id="12894" href="/lia/part1/NormalForms/#12894" class="Function">correctness</a> <a id="12906" class="Symbol">:</a> <a id="12908" class="Bound">φ₀</a> <a id="12911" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="12913" class="Bound">φ₁</a> <a id="12916" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="12918" href="/lia/part1/NormalForms/#12797" class="Bound">ψ₀</a> <a id="12921" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="12923" href="/lia/part1/NormalForms/#12823" class="Bound">ψ₁</a>
  <a id="12928" href="/lia/part1/NormalForms/#12894" class="Function">correctness</a> <a id="12940" href="/lia/part1/NormalForms/#12940" class="Bound">ϱ</a> <a id="12942" class="Keyword">rewrite</a> <a id="12950" href="/lia/part1/NormalForms/#12811" class="Bound">φ₀⟺ψ₀</a> <a id="12956" href="/lia/part1/NormalForms/#12940" class="Bound">ϱ</a> <a id="12958" class="Symbol">|</a>
                        <a id="12984" href="/lia/part1/NormalForms/#12837" class="Bound">φ₁⟺ψ₁</a> <a id="12990" href="/lia/part1/NormalForms/#12940" class="Bound">ϱ</a> <a id="12992" class="Symbol">=</a> <a id="12994" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

</div>

<h2 id="formula-size">
<a class="anchor" href="#formula-size" aria-hidden="true"><span class="octicon octicon-link"></span></a>Formula size</h2>

<p>One of the advantages of the <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> is to simplify the
structure of the formula w.r.t. negation without negatively (pun not
intended) impacting its size. As we will see, stronger normal forms such
as <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> , <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> , and <a href="#CNF"><code class="language-plaintext highlighter-rouge">CNF</code></a> unavoidably cause
an exponential blowup in the formula size.</p>

<p>There are many ways to assign a size to a formula. We assign size one to
atomic formulas <a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> ,
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> , and
<a href="../../part1/Semantics#Formula.%60_"><code class="language-plaintext highlighter-rouge">`_</code></a> , and the size of
non-atomic formulas is the sum of the sizes of their immediate
subformulas increased by one:</p>

<pre class="Agda"><a id="size"></a><a id="13662" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="13667" class="Symbol">:</a> <a id="13669" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="13677" class="Symbol">→</a> <a id="13679" href="/lia/part0/Naturals/#193" class="Datatype">ℕ</a>
<a id="13681" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="13686" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="13688" class="Symbol">=</a> <a id="13690" class="Number">1</a>
<a id="13692" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="13697" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="13699" class="Symbol">=</a> <a id="13701" class="Number">1</a>
<a id="13703" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="13708" class="Symbol">(</a><a id="13709" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="13711" class="Symbol">_)</a> <a id="13714" class="Symbol">=</a> <a id="13716" class="Number">1</a>
<a id="13718" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="13723" class="Symbol">(</a><a id="13724" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="13726" href="/lia/part1/NormalForms/#13726" class="Bound">φ</a><a id="13727" class="Symbol">)</a> <a id="13729" class="Symbol">=</a> <a id="13731" class="Number">1</a> <a id="13733" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="13735" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="13740" href="/lia/part1/NormalForms/#13726" class="Bound">φ</a>
<a id="13742" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="13747" class="Symbol">(</a><a id="13748" href="/lia/part1/NormalForms/#13748" class="Bound">φ</a> <a id="13750" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="13752" href="/lia/part1/NormalForms/#13752" class="Bound">ψ</a><a id="13753" class="Symbol">)</a> <a id="13755" class="Symbol">=</a> <a id="13757" class="Number">1</a> <a id="13759" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="13761" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="13766" href="/lia/part1/NormalForms/#13748" class="Bound">φ</a> <a id="13768" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="13770" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="13775" href="/lia/part1/NormalForms/#13752" class="Bound">ψ</a>
<a id="13777" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="13782" class="Symbol">(</a><a id="13783" href="/lia/part1/NormalForms/#13783" class="Bound">φ</a> <a id="13785" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="13787" href="/lia/part1/NormalForms/#13787" class="Bound">ψ</a><a id="13788" class="Symbol">)</a> <a id="13790" class="Symbol">=</a> <a id="13792" class="Number">1</a> <a id="13794" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="13796" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="13801" href="/lia/part1/NormalForms/#13783" class="Bound">φ</a> <a id="13803" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="13805" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="13810" href="/lia/part1/NormalForms/#13787" class="Bound">ψ</a>
<a id="13812" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="13817" class="Symbol">(</a><a id="13818" href="/lia/part1/NormalForms/#13818" class="Bound">φ</a> <a id="13820" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="13822" href="/lia/part1/NormalForms/#13822" class="Bound">ψ</a><a id="13823" class="Symbol">)</a> <a id="13825" class="Symbol">=</a> <a id="13827" class="Number">1</a> <a id="13829" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="13831" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="13836" href="/lia/part1/NormalForms/#13818" class="Bound">φ</a> <a id="13838" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="13840" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="13845" href="/lia/part1/NormalForms/#13822" class="Bound">ψ</a>
<a id="13847" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="13852" class="Symbol">(</a><a id="13853" href="/lia/part1/NormalForms/#13853" class="Bound">φ</a> <a id="13855" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="13857" href="/lia/part1/NormalForms/#13857" class="Bound">ψ</a><a id="13858" class="Symbol">)</a> <a id="13860" class="Symbol">=</a> <a id="13862" class="Number">1</a> <a id="13864" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="13866" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="13871" href="/lia/part1/NormalForms/#13853" class="Bound">φ</a> <a id="13873" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="13875" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="13880" href="/lia/part1/NormalForms/#13857" class="Bound">ψ</a></pre>

<p>In other words, the formula size is the number of nodes of the formula
seen as a tree.</p>

<div class="examplebox">

  <dl>
    <dt><span id="example:size" class="pandoc-numbering-text example"><strong>Example 1</strong></span></dt>
    <dd>The size of the previous formula <code class="language-plaintext highlighter-rouge">ψ₂ = ¬ ` p₀ ⇒ (` p₁ ⇔ ¬ ` p₂)</code>
is <code class="language-plaintext highlighter-rouge">7</code>:</dd>
  </dl>

  <pre class="Agda"><a id="14114" href="/lia/part1/NormalForms/#14114" class="Function">_</a> <a id="14116" class="Symbol">:</a> <a id="14118" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="14123" href="/lia/part1/NormalForms/#2675" class="Function">ψ₂</a> <a id="14126" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="14128" class="Number">7</a>
<a id="14130" class="Symbol">_</a> <a id="14132" class="Symbol">=</a> <a id="14134" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

  <p><span class="hidden">∎</span><span class="right-aligned">∎</span></p>

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:size-neg" class="pandoc-numbering-text exercise"><strong>Exercise 1</strong> <em>(<code class="language-plaintext highlighter-rouge">size-¬</code>)</em></span></dt>
    <dd>Prove that <a href="#size"><code class="language-plaintext highlighter-rouge">size</code></a> satisfies the following inequality:</dd>
  </dl>

  <pre class="Agda"><a id="size-¬"></a><a id="14316" href="/lia/part1/NormalForms/#14316" class="Function">size-¬</a> <a id="14323" class="Symbol">:</a> <a id="14325" class="Symbol">∀</a> <a id="14327" href="/lia/part1/NormalForms/#14327" class="Bound">φ</a> <a id="14329" class="Symbol">→</a> <a id="14331" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="14336" href="/lia/part1/NormalForms/#14327" class="Bound">φ</a> <a id="14338" href="/lia/part0/Naturals/#657" class="Datatype Operator">≤</a> <a id="14340" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="14345" class="Symbol">(</a><a id="14346" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="14348" href="/lia/part1/NormalForms/#14327" class="Bound">φ</a><a id="14349" class="Symbol">)</a></pre>

  <p>(This will be used below.) <span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:size-neg-solution)
:::::::
-->

</div>

<p>We need to find an estimate of the formula size blowup incurred by
<a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a> . First of all, an equality of the form
<code class="language-plaintext highlighter-rouge">size (wnnf φ) ≡ e</code> where <code class="language-plaintext highlighter-rouge">e</code> is some simple arithmetic function of
<code class="language-plaintext highlighter-rouge">size φ</code> will not work, since there are formulas of the same size for
which the size of their <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> differ, such as <code class="language-plaintext highlighter-rouge">¬ ¬ ` p₀</code>
and <code class="language-plaintext highlighter-rouge">` p₀ ∧ ` p₁</code> (both of size 3), whose <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> have size
1 and, resp., 3.</p>

<p>We thus need to guess an inequality <code class="language-plaintext highlighter-rouge">size (wnnf φ) ≤ e</code>. We make an
“educated guess” and assume that the <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> satisfies an
inequality of the form</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>size (wnnf φ) ≤ a * size φ + b,
</code></pre></div></div>

<p>where <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">b</code> are integer parameters whose values have to be found.
We now setup some constraints on <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">b</code> based on the shape of <code class="language-plaintext highlighter-rouge">φ</code>.
When <code class="language-plaintext highlighter-rouge">φ ≡ ⊥</code> is an atomic formula, we have
<code class="language-plaintext highlighter-rouge">size (wnnf ⊥) ≤ a * size ⊥ + b</code>, yielding the constraint (since
<code class="language-plaintext highlighter-rouge">wnnf ⊥ ≡ ⊥</code> and <code class="language-plaintext highlighter-rouge">size ⊥ ≡ 1</code>)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1 ≤ a + b.
</code></pre></div></div>

<p>The same constraint is obtained for the cases <code class="language-plaintext highlighter-rouge">φ ≡ ⊤</code> and <code class="language-plaintext highlighter-rouge">φ ≡ ` p</code>.
When <code class="language-plaintext highlighter-rouge">φ ≡ ψ ∨ ξ</code> is a disjunction, for the l.h.s. we have
<code class="language-plaintext highlighter-rouge">size (wnnf (ψ ∨ ξ)) ≡ size (wnnf ψ ∨ wnnf ξ) ≡ 1 + size (wnnf ψ) + size (wnnf ξ)</code>
which by inductive assumption is
<code class="language-plaintext highlighter-rouge">≤ 1 + (a * size ψ + b) + (a * size ξ + b)</code>, and for the r.h.s. we have
<code class="language-plaintext highlighter-rouge">a * size (ψ ∨ ξ) + b ≡ a * (1 + size ψ + size ξ) + b</code>. Putting the two
together we must have
<code class="language-plaintext highlighter-rouge">1 + (a * size ψ + b) + (a * size ξ + b) ≤ a * (1 + size ψ + size ξ) + b</code>,
which after some simplification yields</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1 + b ≤ a.
</code></pre></div></div>

<p>The same constraint is obtained for the other binary connectives. When
<code class="language-plaintext highlighter-rouge">φ ≡ ¬ ¬ ψ</code>, for the l.h.s. we have
<code class="language-plaintext highlighter-rouge">size (wnnf (¬ ¬ ψ)) ≡ size (wnnf ψ)</code> which by inductive assumption is
<code class="language-plaintext highlighter-rouge">≤ a * size ψ + b</code>, and for the r.h.s. we have
<code class="language-plaintext highlighter-rouge">a * size (¬ ¬ ψ) + b ≡ a * (2 + size ψ) + b</code>. Putting the two together
we must have <code class="language-plaintext highlighter-rouge">a * size ψ + b ≤ a * (2 + size ψ) + b</code>, which after some
simplification yields</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0 ≤ a * 2.
</code></pre></div></div>

<p>When <code class="language-plaintext highlighter-rouge">φ ≡ ¬ (ψ ∨ ξ)</code>, for the l.h.s. we have
<code class="language-plaintext highlighter-rouge">size (wnnf (¬ (ψ ∨ ξ))) ≡ size (wnnf (¬ ψ) ∧ wnnf (¬ ξ)) ≡ 1 + size (wnnf (¬ ψ)) + size (wnnf (¬ ξ))</code>
which by inductive assumption is
<code class="language-plaintext highlighter-rouge">≤ 1 + (a * (1 + size ψ) + b) + (a * (1 + size ξ) + b)</code>, and for the
r.h.s. we have
<code class="language-plaintext highlighter-rouge">a * size (¬ (ψ ∨ ξ)) + b ≡ a * (2 + size ψ + size ξ) + b</code>. Putting the
two together we must have
<code class="language-plaintext highlighter-rouge">1 + (a * (1 + size ψ) + b) + (a * (1 + size ξ) + b) ≤ a * (2 + size ψ + size ξ) + b</code>,
which after some simplification yields</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1 + b ≤ 0.
</code></pre></div></div>

<p>The same constraint is obtained in the dual case <code class="language-plaintext highlighter-rouge">φ ≡ ¬ (ψ ∧ ξ)</code>. When
<code class="language-plaintext highlighter-rouge">φ ≡ ¬ (ψ ⇒ ξ)</code>, for the l.h.s. we have
<code class="language-plaintext highlighter-rouge">size (wnnf (¬ (ψ ⇒ ξ))) ≡ size (wnnf ψ ∧ wnnf (¬ ξ)) ≡ 1 + size (wnnf ψ) + size (wnnf (¬ ξ))</code>
which by inductive assumption is
<code class="language-plaintext highlighter-rouge">≤ 1 + (a * size ψ + b) + (a * (1 + size ξ) + b)</code>, and for the r.h.s. we
have <code class="language-plaintext highlighter-rouge">a * size (¬ (ψ ⇒ ξ)) + b ≡ a * (2 + size ψ + size ξ) + b</code>. Putting
the two together we must have
<code class="language-plaintext highlighter-rouge">1 + (a * size ψ + b) + (a * (1 + size ξ) + b) ≤ a * (2 + size ψ + size ξ) + b</code>,
which after some simplification yields</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1 + b ≤ a.
</code></pre></div></div>

<p>The same constraint is obtained in the case <code class="language-plaintext highlighter-rouge">φ ≡ ¬ (ψ ⇔ ξ)</code>. The optimal
solution for all the constraints above is <code class="language-plaintext highlighter-rouge">a ≡ 2</code> and <code class="language-plaintext highlighter-rouge">b ≡ - 1</code>. An
analogous analysis for negated formulas can be carried out. Altogether,
this yields the following inductive statements:</p>

<pre class="Agda"><a id="wnnf-size"></a><a id="17684" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size</a> <a id="17694" class="Symbol">:</a> <a id="17696" class="Symbol">∀</a> <a id="17698" href="/lia/part1/NormalForms/#17698" class="Bound">φ</a> <a id="17700" class="Symbol">→</a> <a id="17702" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="17707" class="Symbol">(</a><a id="17708" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="17713" href="/lia/part1/NormalForms/#17698" class="Bound">φ</a><a id="17714" class="Symbol">)</a> <a id="17716" href="/lia/part0/Naturals/#657" class="Datatype Operator">≤</a> <a id="17718" class="Number">2</a> <a id="17720" href="/lia/part0/Naturals/#5489" class="Function Operator">*</a> <a id="17722" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="17727" href="/lia/part1/NormalForms/#17698" class="Bound">φ</a> <a id="17729" href="/lia/part0/Naturals/#6192" class="Function Operator">∸</a> <a id="17731" class="Number">1</a>
<a id="wnnf-size-¬"></a><a id="17733" href="/lia/part1/NormalForms/#17733" class="Function">wnnf-size-¬</a> <a id="17745" class="Symbol">:</a> <a id="17747" class="Symbol">∀</a> <a id="17749" href="/lia/part1/NormalForms/#17749" class="Bound">φ</a> <a id="17751" class="Symbol">→</a> <a id="17753" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="17758" class="Symbol">(</a><a id="17759" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="17764" class="Symbol">(</a><a id="17765" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="17767" href="/lia/part1/NormalForms/#17749" class="Bound">φ</a><a id="17768" class="Symbol">))</a> <a id="17771" href="/lia/part0/Naturals/#657" class="Datatype Operator">≤</a> <a id="17773" class="Number">2</a> <a id="17775" href="/lia/part0/Naturals/#5489" class="Function Operator">*</a> <a id="17777" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="17782" href="/lia/part1/NormalForms/#17749" class="Bound">φ</a></pre>

<div class="introbox">

  <p>For negated formulas, <a href="#wnnf-size-%C2%AC"><code class="language-plaintext highlighter-rouge">wnnf-size-¬</code></a> provides an upper
bound stronger than <a href="#wnnf-size"><code class="language-plaintext highlighter-rouge">wnnf-size</code></a> . The proof proceeds by
structural induction using some elementary arithmetical facts.
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="17994" class="Keyword">postulate</a>
  <a id="size-reasoning"></a><a id="18006" href="/lia/part1/NormalForms/#18006" class="Postulate">size-reasoning</a> <a id="18021" class="Symbol">:</a> <a id="18023" class="Symbol">∀</a> <a id="18025" class="Symbol">{</a><a id="18026" href="/lia/part1/NormalForms/#18026" class="Bound">a</a> <a id="18028" href="/lia/part1/NormalForms/#18028" class="Bound">b</a><a id="18029" class="Symbol">}</a> <a id="18031" href="/lia/part1/NormalForms/#18031" class="Bound">c</a> <a id="18033" href="/lia/part1/NormalForms/#18033" class="Bound">d</a> <a id="18035" class="Symbol">→</a>
    <a id="18041" href="/lia/part1/NormalForms/#18026" class="Bound">a</a> <a id="18043" href="/lia/part0/Naturals/#657" class="Datatype Operator">≤</a> <a id="18045" class="Number">2</a> <a id="18047" href="/lia/part0/Naturals/#5489" class="Function Operator">*</a> <a id="18049" href="/lia/part1/NormalForms/#18031" class="Bound">c</a> <a id="18051" href="/lia/part0/Naturals/#6192" class="Function Operator">∸</a> <a id="18053" class="Number">1</a> <a id="18055" class="Symbol">→</a>
    <a id="18061" href="/lia/part1/NormalForms/#18028" class="Bound">b</a> <a id="18063" href="/lia/part0/Naturals/#657" class="Datatype Operator">≤</a> <a id="18065" class="Number">2</a> <a id="18067" href="/lia/part0/Naturals/#5489" class="Function Operator">*</a> <a id="18069" href="/lia/part1/NormalForms/#18033" class="Bound">d</a> <a id="18071" href="/lia/part0/Naturals/#6192" class="Function Operator">∸</a> <a id="18073" class="Number">1</a> <a id="18075" class="Symbol">→</a>
    <a id="18081" class="Comment">-------------------------------</a>
    <a id="18117" class="Number">1</a> <a id="18119" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="18121" href="/lia/part1/NormalForms/#18026" class="Bound">a</a> <a id="18123" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="18125" href="/lia/part1/NormalForms/#18028" class="Bound">b</a> <a id="18127" href="/lia/part0/Naturals/#657" class="Datatype Operator">≤</a> <a id="18129" class="Number">2</a> <a id="18131" href="/lia/part0/Naturals/#5489" class="Function Operator">*</a> <a id="18133" class="Symbol">(</a><a id="18134" class="Number">1</a> <a id="18136" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="18138" href="/lia/part1/NormalForms/#18031" class="Bound">c</a> <a id="18140" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="18142" href="/lia/part1/NormalForms/#18033" class="Bound">d</a><a id="18143" class="Symbol">)</a> <a id="18145" href="/lia/part0/Naturals/#6192" class="Function Operator">∸</a> <a id="18147" class="Number">1</a>

  <a id="size-reasoning-¬1"></a><a id="18152" href="/lia/part1/NormalForms/#18152" class="Postulate">size-reasoning-¬1</a> <a id="18170" class="Symbol">:</a> <a id="18172" class="Symbol">∀</a> <a id="18174" class="Symbol">{</a><a id="18175" href="/lia/part1/NormalForms/#18175" class="Bound">a</a> <a id="18177" href="/lia/part1/NormalForms/#18177" class="Bound">b</a><a id="18178" class="Symbol">}</a> <a id="18180" href="/lia/part1/NormalForms/#18180" class="Bound">c</a> <a id="18182" href="/lia/part1/NormalForms/#18182" class="Bound">d</a> <a id="18184" class="Symbol">→</a>
    <a id="18190" href="/lia/part1/NormalForms/#18175" class="Bound">a</a> <a id="18192" href="/lia/part0/Naturals/#657" class="Datatype Operator">≤</a> <a id="18194" class="Number">2</a> <a id="18196" href="/lia/part0/Naturals/#5489" class="Function Operator">*</a> <a id="18198" href="/lia/part1/NormalForms/#18180" class="Bound">c</a> <a id="18200" class="Symbol">→</a>
    <a id="18206" href="/lia/part1/NormalForms/#18177" class="Bound">b</a> <a id="18208" href="/lia/part0/Naturals/#657" class="Datatype Operator">≤</a> <a id="18210" class="Number">2</a> <a id="18212" href="/lia/part0/Naturals/#5489" class="Function Operator">*</a> <a id="18214" href="/lia/part1/NormalForms/#18182" class="Bound">d</a> <a id="18216" class="Symbol">→</a>
    <a id="18222" class="Comment">---------------------------</a>
    <a id="18254" class="Number">1</a> <a id="18256" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="18258" href="/lia/part1/NormalForms/#18175" class="Bound">a</a> <a id="18260" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="18262" href="/lia/part1/NormalForms/#18177" class="Bound">b</a> <a id="18264" href="/lia/part0/Naturals/#657" class="Datatype Operator">≤</a> <a id="18266" class="Number">2</a> <a id="18268" href="/lia/part0/Naturals/#5489" class="Function Operator">*</a> <a id="18270" class="Symbol">(</a><a id="18271" class="Number">1</a> <a id="18273" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="18275" href="/lia/part1/NormalForms/#18180" class="Bound">c</a> <a id="18277" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="18279" href="/lia/part1/NormalForms/#18182" class="Bound">d</a><a id="18280" class="Symbol">)</a>

  <a id="size-reasoning-¬2"></a><a id="18285" href="/lia/part1/NormalForms/#18285" class="Postulate">size-reasoning-¬2</a> <a id="18303" class="Symbol">:</a> <a id="18305" class="Symbol">∀</a> <a id="18307" class="Symbol">{</a><a id="18308" href="/lia/part1/NormalForms/#18308" class="Bound">a</a> <a id="18310" href="/lia/part1/NormalForms/#18310" class="Bound">b</a><a id="18311" class="Symbol">}</a> <a id="18313" href="/lia/part1/NormalForms/#18313" class="Bound">c</a> <a id="18315" href="/lia/part1/NormalForms/#18315" class="Bound">d</a> <a id="18317" class="Symbol">→</a>
    <a id="18323" href="/lia/part1/NormalForms/#18308" class="Bound">a</a> <a id="18325" href="/lia/part0/Naturals/#657" class="Datatype Operator">≤</a> <a id="18327" class="Number">2</a> <a id="18329" href="/lia/part0/Naturals/#5489" class="Function Operator">*</a> <a id="18331" href="/lia/part1/NormalForms/#18313" class="Bound">c</a> <a id="18333" href="/lia/part0/Naturals/#6192" class="Function Operator">∸</a> <a id="18335" class="Number">1</a> <a id="18337" class="Symbol">→</a>
    <a id="18343" href="/lia/part1/NormalForms/#18310" class="Bound">b</a> <a id="18345" href="/lia/part0/Naturals/#657" class="Datatype Operator">≤</a> <a id="18347" class="Number">2</a> <a id="18349" href="/lia/part0/Naturals/#5489" class="Function Operator">*</a> <a id="18351" href="/lia/part1/NormalForms/#18315" class="Bound">d</a> <a id="18353" class="Symbol">→</a>
    <a id="18359" class="Comment">---------------------------</a>
    <a id="18391" class="Number">1</a> <a id="18393" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="18395" href="/lia/part1/NormalForms/#18308" class="Bound">a</a> <a id="18397" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="18399" href="/lia/part1/NormalForms/#18310" class="Bound">b</a> <a id="18401" href="/lia/part0/Naturals/#657" class="Datatype Operator">≤</a> <a id="18403" class="Number">2</a> <a id="18405" href="/lia/part0/Naturals/#5489" class="Function Operator">*</a> <a id="18407" class="Symbol">(</a><a id="18408" class="Number">1</a> <a id="18410" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="18412" href="/lia/part1/NormalForms/#18313" class="Bound">c</a> <a id="18414" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="18416" href="/lia/part1/NormalForms/#18315" class="Bound">d</a><a id="18417" class="Symbol">)</a></pre>

  <p>The base cases for <a href="#wnnf-size"><code class="language-plaintext highlighter-rouge">wnnf-size</code></a> are immediate:</p>

  <pre class="Agda"><a id="18479" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size</a> <a id="18489" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="18491" class="Symbol">=</a> <a id="18493" href="/lia/part0/Naturals/#721" class="InductiveConstructor">s≤s</a> <a id="18497" href="/lia/part0/Naturals/#692" class="InductiveConstructor">0≤n</a>
<a id="18501" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size</a> <a id="18511" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="18513" class="Symbol">=</a> <a id="18515" href="/lia/part0/Naturals/#721" class="InductiveConstructor">s≤s</a> <a id="18519" href="/lia/part0/Naturals/#692" class="InductiveConstructor">0≤n</a>
<a id="18523" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size</a> <a id="18533" class="Symbol">(</a><a id="18534" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="18536" href="/lia/part1/NormalForms/#18536" class="Bound">p</a><a id="18537" class="Symbol">)</a> <a id="18539" class="Symbol">=</a> <a id="18541" href="/lia/part0/Naturals/#721" class="InductiveConstructor">s≤s</a> <a id="18545" href="/lia/part0/Naturals/#692" class="InductiveConstructor">0≤n</a></pre>

  <p>In the case of negation, we rely on <a href="#wnnf-size-%C2%AC"><code class="language-plaintext highlighter-rouge">wnnf-size-¬</code></a> :</p>

  <pre class="Agda"><a id="18614" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size</a> <a id="18624" class="Symbol">(</a><a id="18625" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="18627" href="/lia/part1/NormalForms/#18627" class="Bound">φ</a><a id="18628" class="Symbol">)</a>
  <a id="18632" class="Keyword">with</a> <a id="18637" href="/lia/part1/NormalForms/#17733" class="Function">wnnf-size-¬</a> <a id="18649" href="/lia/part1/NormalForms/#18627" class="Bound">φ</a>
<a id="18651" class="Symbol">...</a> <a id="18655" class="Symbol">|</a> <a id="18657" href="/lia/part1/NormalForms/#18657" class="Bound">ind¬φ</a> <a id="18663" class="Symbol">=</a> <a id="18665" href="/lia/part0/Naturals/#3686" class="Function Operator">begin≤</a>
  <a id="18674" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="18679" class="Symbol">(</a><a id="18680" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="18685" class="Symbol">(</a><a id="18686" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="18688" class="Bound">φ</a><a id="18689" class="Symbol">))</a> <a id="18692" href="/lia/part0/Naturals/#3953" class="Function Operator">≤⟨</a> <a id="18695" href="/lia/part1/NormalForms/#18657" class="Bound">ind¬φ</a> <a id="18701" href="/lia/part0/Naturals/#3953" class="Function Operator">⟩</a>
  <a id="18705" class="Number">2</a> <a id="18707" href="/lia/part0/Naturals/#5489" class="Function Operator">*</a> <a id="18709" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="18714" class="Bound">φ</a> <a id="18716" href="/lia/part0/Naturals/#3953" class="Function Operator">≤⟨</a> <a id="18719" href="/lia/part0/Naturals/#1437" class="Function">n≤sucn</a> <a id="18726" href="/lia/part0/Naturals/#3953" class="Function Operator">⟩</a>
  <a id="18730" href="/lia/part0/Naturals/#220" class="InductiveConstructor">suc</a> <a id="18734" class="Symbol">(</a><a id="18735" class="Number">2</a> <a id="18737" href="/lia/part0/Naturals/#5489" class="Function Operator">*</a> <a id="18739" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="18744" class="Bound">φ</a><a id="18745" class="Symbol">)</a> <a id="18747" href="/lia/part0/Naturals/#4385" class="Function Operator">≤≡⟨</a> <a id="18751" href="/lia/part0/Naturals/#5249" class="Postulate">sucm+n≡m+sucn</a> <a id="18765" class="Symbol">{</a><a id="18766" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="18771" class="Bound">φ</a><a id="18772" class="Symbol">}</a> <a id="18774" class="Symbol">{</a><a id="18775" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="18780" class="Bound">φ</a><a id="18781" class="Symbol">}</a> <a id="18783" href="/lia/part0/Naturals/#4385" class="Function Operator">⟩</a>
  <a id="18787" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="18792" class="Bound">φ</a> <a id="18794" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="18796" href="/lia/part0/Naturals/#220" class="InductiveConstructor">suc</a> <a id="18800" class="Symbol">(</a><a id="18801" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="18806" class="Bound">φ</a><a id="18807" class="Symbol">)</a> <a id="18809" href="/lia/part0/Naturals/#4499" class="Function Operator">∎≤</a></pre>

  <p>For disjunctions, we provide a complete analysis:</p>

  <pre class="Agda"><a id="18872" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size</a> <a id="18882" class="Symbol">(</a><a id="18883" href="/lia/part1/NormalForms/#18883" class="Bound">φ</a> <a id="18885" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="18887" href="/lia/part1/NormalForms/#18887" class="Bound">ψ</a><a id="18888" class="Symbol">)</a>
  <a id="18892" class="Keyword">with</a> <a id="18897" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size</a> <a id="18907" href="/lia/part1/NormalForms/#18883" class="Bound">φ</a> <a id="18909" class="Symbol">|</a> <a id="18911" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size</a> <a id="18921" href="/lia/part1/NormalForms/#18887" class="Bound">ψ</a>
<a id="18923" class="Symbol">...</a> <a id="18927" class="Symbol">|</a> <a id="18929" href="/lia/part1/NormalForms/#18929" class="Bound">indφ</a> <a id="18934" class="Symbol">|</a> <a id="18936" href="/lia/part1/NormalForms/#18936" class="Bound">indψ</a> <a id="18941" class="Symbol">=</a> <a id="18943" href="/lia/part0/Naturals/#3686" class="Function Operator">begin≤</a>
   <a id="18953" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="18958" class="Symbol">(</a><a id="18959" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="18964" class="Symbol">(</a><a id="18965" class="Bound">φ</a> <a id="18967" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="18969" class="Bound">ψ</a><a id="18970" class="Symbol">))</a> <a id="18973" href="/lia/part0/Naturals/#3786" class="Function Operator">≤⟨⟩</a>
   <a id="18980" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="18985" class="Symbol">(</a><a id="18986" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="18991" class="Bound">φ</a> <a id="18993" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="18995" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="19000" class="Bound">ψ</a><a id="19001" class="Symbol">)</a> <a id="19003" href="/lia/part0/Naturals/#3786" class="Function Operator">≤⟨⟩</a>
   <a id="19010" class="Number">1</a> <a id="19012" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="19014" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="19019" class="Symbol">(</a><a id="19020" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="19025" class="Bound">φ</a><a id="19026" class="Symbol">)</a> <a id="19028" href="/lia/part0/Naturals/#4868" class="Function Operator">+</a> <a id="19030" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="19035" class="Symbol">(</a><a id="19036" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="19041" class="Bound">ψ</a><a id="19042" class="Symbol">)</a> <a id="19044" href="/lia/part0/Naturals/#3953" class="Function Operator">≤⟨</a> <a id="19047" href="/lia/part1/NormalForms/#18006" class="Postulate">size-reasoning</a> <a id="19062" class="Symbol">(</a><a id="19063" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="19068" class="Bound">φ</a><a id="19069" class="Symbol">)</a> <a id="19071" class="Symbol">(</a><a id="19072" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="19077" class="Bound">ψ</a><a id="19078" class="Symbol">)</a> <a id="19080" href="/lia/part1/NormalForms/#18929" class="Bound">indφ</a> <a id="19085" href="/lia/part1/NormalForms/#18936" class="Bound">indψ</a> <a id="19090" href="/lia/part0/Naturals/#3953" class="Function Operator">⟩</a>
   <a id="19095" class="Number">2</a> <a id="19097" href="/lia/part0/Naturals/#5489" class="Function Operator">*</a> <a id="19099" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="19104" class="Symbol">(</a><a id="19105" class="Bound">φ</a> <a id="19107" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="19109" class="Bound">ψ</a><a id="19110" class="Symbol">)</a> <a id="19112" href="/lia/part0/Naturals/#6192" class="Function Operator">∸</a> <a id="19114" class="Number">1</a> <a id="19116" href="/lia/part0/Naturals/#4499" class="Function Operator">∎≤</a></pre>

  <p>The last three cases are similar and we give them in a shortened form:</p>

  <pre class="Agda"><a id="19200" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size</a> <a id="19210" class="Symbol">(</a><a id="19211" href="/lia/part1/NormalForms/#19211" class="Bound">φ</a> <a id="19213" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="19215" href="/lia/part1/NormalForms/#19215" class="Bound">ψ</a><a id="19216" class="Symbol">)</a> <a id="19218" class="Symbol">=</a> <a id="19220" href="/lia/part1/NormalForms/#18006" class="Postulate">size-reasoning</a> <a id="19235" class="Symbol">(</a><a id="19236" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="19241" href="/lia/part1/NormalForms/#19211" class="Bound">φ</a><a id="19242" class="Symbol">)</a> <a id="19244" class="Symbol">(</a><a id="19245" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="19250" href="/lia/part1/NormalForms/#19215" class="Bound">ψ</a><a id="19251" class="Symbol">)</a> <a id="19253" class="Symbol">(</a><a id="19254" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size</a> <a id="19264" href="/lia/part1/NormalForms/#19211" class="Bound">φ</a><a id="19265" class="Symbol">)</a> <a id="19267" class="Symbol">(</a><a id="19268" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size</a> <a id="19278" href="/lia/part1/NormalForms/#19215" class="Bound">ψ</a><a id="19279" class="Symbol">)</a>
<a id="19281" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size</a> <a id="19291" class="Symbol">(</a><a id="19292" href="/lia/part1/NormalForms/#19292" class="Bound">φ</a> <a id="19294" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="19296" href="/lia/part1/NormalForms/#19296" class="Bound">ψ</a><a id="19297" class="Symbol">)</a> <a id="19299" class="Symbol">=</a> <a id="19301" href="/lia/part1/NormalForms/#18006" class="Postulate">size-reasoning</a> <a id="19316" class="Symbol">(</a><a id="19317" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="19322" href="/lia/part1/NormalForms/#19292" class="Bound">φ</a><a id="19323" class="Symbol">)</a> <a id="19325" class="Symbol">(</a><a id="19326" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="19331" href="/lia/part1/NormalForms/#19296" class="Bound">ψ</a><a id="19332" class="Symbol">)</a> <a id="19334" class="Symbol">(</a><a id="19335" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size</a> <a id="19345" href="/lia/part1/NormalForms/#19292" class="Bound">φ</a><a id="19346" class="Symbol">)</a> <a id="19348" class="Symbol">(</a><a id="19349" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size</a> <a id="19359" href="/lia/part1/NormalForms/#19296" class="Bound">ψ</a><a id="19360" class="Symbol">)</a>
<a id="19362" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size</a> <a id="19372" class="Symbol">(</a><a id="19373" href="/lia/part1/NormalForms/#19373" class="Bound">φ</a> <a id="19375" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="19377" href="/lia/part1/NormalForms/#19377" class="Bound">ψ</a><a id="19378" class="Symbol">)</a> <a id="19380" class="Symbol">=</a> <a id="19382" href="/lia/part1/NormalForms/#18006" class="Postulate">size-reasoning</a> <a id="19397" class="Symbol">(</a><a id="19398" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="19403" href="/lia/part1/NormalForms/#19373" class="Bound">φ</a><a id="19404" class="Symbol">)</a> <a id="19406" class="Symbol">(</a><a id="19407" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="19412" href="/lia/part1/NormalForms/#19377" class="Bound">ψ</a><a id="19413" class="Symbol">)</a> <a id="19415" class="Symbol">(</a><a id="19416" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size</a> <a id="19426" href="/lia/part1/NormalForms/#19373" class="Bound">φ</a><a id="19427" class="Symbol">)</a> <a id="19429" class="Symbol">(</a><a id="19430" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size</a> <a id="19440" href="/lia/part1/NormalForms/#19377" class="Bound">ψ</a><a id="19441" class="Symbol">)</a></pre>

  <p>The base cases for <a href="#wnnf-size-%C2%AC"><code class="language-plaintext highlighter-rouge">wnnf-size-¬</code></a> are immediate:</p>

  <pre class="Agda"><a id="19505" href="/lia/part1/NormalForms/#17733" class="Function">wnnf-size-¬</a> <a id="19517" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="19519" class="Symbol">=</a> <a id="19521" href="/lia/part0/Naturals/#721" class="InductiveConstructor">s≤s</a> <a id="19525" href="/lia/part0/Naturals/#692" class="InductiveConstructor">0≤n</a>
<a id="19529" href="/lia/part1/NormalForms/#17733" class="Function">wnnf-size-¬</a> <a id="19541" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="19543" class="Symbol">=</a> <a id="19545" href="/lia/part0/Naturals/#721" class="InductiveConstructor">s≤s</a> <a id="19549" href="/lia/part0/Naturals/#692" class="InductiveConstructor">0≤n</a>
<a id="19553" href="/lia/part1/NormalForms/#17733" class="Function">wnnf-size-¬</a> <a id="19565" class="Symbol">(</a><a id="19566" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="19568" href="/lia/part1/NormalForms/#19568" class="Bound">p</a><a id="19569" class="Symbol">)</a> <a id="19571" class="Symbol">=</a> <a id="19573" href="/lia/part0/Naturals/#721" class="InductiveConstructor">s≤s</a> <a id="19577" class="Symbol">(</a><a id="19578" href="/lia/part0/Naturals/#721" class="InductiveConstructor">s≤s</a> <a id="19582" href="/lia/part0/Naturals/#692" class="InductiveConstructor">0≤n</a><a id="19585" class="Symbol">)</a></pre>

  <p>In the case of negation, since a double negation is eliminated, we rely
on <a href="#wnnf-size"><code class="language-plaintext highlighter-rouge">wnnf-size</code></a> :</p>

  <pre class="Agda"><a id="19689" href="/lia/part1/NormalForms/#17733" class="Function">wnnf-size-¬</a> <a id="19701" class="Symbol">(</a><a id="19702" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="19704" href="/lia/part1/NormalForms/#19704" class="Bound">φ</a><a id="19705" class="Symbol">)</a>
  <a id="19709" class="Keyword">with</a> <a id="19714" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size</a> <a id="19724" href="/lia/part1/NormalForms/#19704" class="Bound">φ</a>
<a id="19726" class="Symbol">...</a> <a id="19730" class="Symbol">|</a> <a id="19732" href="/lia/part1/NormalForms/#19732" class="Bound">indφ</a> <a id="19737" class="Symbol">=</a> <a id="19739" href="/lia/part0/Naturals/#3686" class="Function Operator">begin≤</a>
  <a id="19748" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="19753" class="Symbol">(</a><a id="19754" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="19759" class="Bound">φ</a><a id="19760" class="Symbol">)</a> <a id="19762" href="/lia/part0/Naturals/#3953" class="Function Operator">≤⟨</a> <a id="19765" href="/lia/part1/NormalForms/#19732" class="Bound">indφ</a> <a id="19770" href="/lia/part0/Naturals/#3953" class="Function Operator">⟩</a>
  <a id="19774" class="Number">2</a> <a id="19776" href="/lia/part0/Naturals/#5489" class="Function Operator">*</a> <a id="19778" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="19783" class="Bound">φ</a> <a id="19785" href="/lia/part0/Naturals/#6192" class="Function Operator">∸</a> <a id="19787" class="Number">1</a> <a id="19789" href="/lia/part0/Naturals/#3953" class="Function Operator">≤⟨</a> <a id="19792" href="/lia/part0/Naturals/#6544" class="Function">m∸n≤m</a> <a id="19798" class="Symbol">(</a><a id="19799" class="Number">2</a> <a id="19801" href="/lia/part0/Naturals/#5489" class="Function Operator">*</a> <a id="19803" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="19808" class="Bound">φ</a><a id="19809" class="Symbol">)</a> <a id="19811" class="Number">1</a> <a id="19813" href="/lia/part0/Naturals/#3953" class="Function Operator">⟩</a>
  <a id="19817" class="Number">2</a> <a id="19819" href="/lia/part0/Naturals/#5489" class="Function Operator">*</a> <a id="19821" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="19826" class="Bound">φ</a> <a id="19828" href="/lia/part0/Naturals/#3953" class="Function Operator">≤⟨</a> <a id="19831" href="/lia/part0/Naturals/#7629" class="Postulate">cong-≤</a> <a id="19838" class="Symbol">(</a><a id="19839" href="/lia/part0/Naturals/#7122" class="InductiveConstructor">Num</a> <a id="19843" class="Number">2</a> <a id="19845" href="/lia/part0/Naturals/#7187" class="InductiveConstructor Operator">*C</a> <a id="19848" href="/lia/part0/Naturals/#7111" class="InductiveConstructor">□</a><a id="19849" class="Symbol">)</a> <a id="19851" class="Symbol">(</a><a id="19852" href="/lia/part1/NormalForms/#14316" class="Function">size-¬</a> <a id="19859" class="Bound">φ</a><a id="19860" class="Symbol">)</a> <a id="19862" href="/lia/part0/Naturals/#3953" class="Function Operator">⟩</a>
  <a id="19866" class="Number">2</a> <a id="19868" href="/lia/part0/Naturals/#5489" class="Function Operator">*</a> <a id="19870" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="19875" class="Symbol">(</a><a id="19876" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="19878" class="Bound">φ</a><a id="19879" class="Symbol">)</a> <a id="19881" href="/lia/part0/Naturals/#4499" class="Function Operator">∎≤</a></pre>

  <p>The cases of binary connectives are also simple:</p>

  <pre class="Agda"><a id="19943" href="/lia/part1/NormalForms/#17733" class="Function">wnnf-size-¬</a> <a id="19955" class="Symbol">(</a><a id="19956" href="/lia/part1/NormalForms/#19956" class="Bound">φ</a> <a id="19958" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="19960" href="/lia/part1/NormalForms/#19960" class="Bound">ψ</a><a id="19961" class="Symbol">)</a> <a id="19963" class="Symbol">=</a> <a id="19965" href="/lia/part1/NormalForms/#18152" class="Postulate">size-reasoning-¬1</a> <a id="19983" class="Symbol">(</a><a id="19984" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="19989" href="/lia/part1/NormalForms/#19956" class="Bound">φ</a><a id="19990" class="Symbol">)</a> <a id="19992" class="Symbol">(</a><a id="19993" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="19998" href="/lia/part1/NormalForms/#19960" class="Bound">ψ</a><a id="19999" class="Symbol">)</a> <a id="20001" class="Symbol">(</a><a id="20002" href="/lia/part1/NormalForms/#17733" class="Function">wnnf-size-¬</a> <a id="20014" href="/lia/part1/NormalForms/#19956" class="Bound">φ</a><a id="20015" class="Symbol">)</a> <a id="20017" class="Symbol">(</a><a id="20018" href="/lia/part1/NormalForms/#17733" class="Function">wnnf-size-¬</a> <a id="20030" href="/lia/part1/NormalForms/#19960" class="Bound">ψ</a><a id="20031" class="Symbol">)</a>
<a id="20033" href="/lia/part1/NormalForms/#17733" class="Function">wnnf-size-¬</a> <a id="20045" class="Symbol">(</a><a id="20046" href="/lia/part1/NormalForms/#20046" class="Bound">φ</a> <a id="20048" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="20050" href="/lia/part1/NormalForms/#20050" class="Bound">ψ</a><a id="20051" class="Symbol">)</a> <a id="20053" class="Symbol">=</a> <a id="20055" href="/lia/part1/NormalForms/#18152" class="Postulate">size-reasoning-¬1</a> <a id="20073" class="Symbol">(</a><a id="20074" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="20079" href="/lia/part1/NormalForms/#20046" class="Bound">φ</a><a id="20080" class="Symbol">)</a> <a id="20082" class="Symbol">(</a><a id="20083" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="20088" href="/lia/part1/NormalForms/#20050" class="Bound">ψ</a><a id="20089" class="Symbol">)</a> <a id="20091" class="Symbol">(</a><a id="20092" href="/lia/part1/NormalForms/#17733" class="Function">wnnf-size-¬</a> <a id="20104" href="/lia/part1/NormalForms/#20046" class="Bound">φ</a><a id="20105" class="Symbol">)</a> <a id="20107" class="Symbol">(</a><a id="20108" href="/lia/part1/NormalForms/#17733" class="Function">wnnf-size-¬</a> <a id="20120" href="/lia/part1/NormalForms/#20050" class="Bound">ψ</a><a id="20121" class="Symbol">)</a>
<a id="20123" href="/lia/part1/NormalForms/#17733" class="Function">wnnf-size-¬</a> <a id="20135" class="Symbol">(</a><a id="20136" href="/lia/part1/NormalForms/#20136" class="Bound">φ</a> <a id="20138" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="20140" href="/lia/part1/NormalForms/#20140" class="Bound">ψ</a><a id="20141" class="Symbol">)</a> <a id="20143" class="Symbol">=</a> <a id="20145" href="/lia/part1/NormalForms/#18285" class="Postulate">size-reasoning-¬2</a> <a id="20163" class="Symbol">(</a><a id="20164" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="20169" href="/lia/part1/NormalForms/#20136" class="Bound">φ</a><a id="20170" class="Symbol">)</a> <a id="20172" class="Symbol">(</a><a id="20173" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="20178" href="/lia/part1/NormalForms/#20140" class="Bound">ψ</a><a id="20179" class="Symbol">)</a> <a id="20181" class="Symbol">(</a><a id="20182" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size</a> <a id="20192" href="/lia/part1/NormalForms/#20136" class="Bound">φ</a><a id="20193" class="Symbol">)</a> <a id="20195" class="Symbol">(</a><a id="20196" href="/lia/part1/NormalForms/#17733" class="Function">wnnf-size-¬</a> <a id="20208" href="/lia/part1/NormalForms/#20140" class="Bound">ψ</a><a id="20209" class="Symbol">)</a>
<a id="20211" href="/lia/part1/NormalForms/#17733" class="Function">wnnf-size-¬</a> <a id="20223" class="Symbol">(</a><a id="20224" href="/lia/part1/NormalForms/#20224" class="Bound">φ</a> <a id="20226" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="20228" href="/lia/part1/NormalForms/#20228" class="Bound">ψ</a><a id="20229" class="Symbol">)</a> <a id="20231" class="Symbol">=</a> <a id="20233" href="/lia/part1/NormalForms/#18285" class="Postulate">size-reasoning-¬2</a> <a id="20251" class="Symbol">(</a><a id="20252" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="20257" href="/lia/part1/NormalForms/#20224" class="Bound">φ</a><a id="20258" class="Symbol">)</a> <a id="20260" class="Symbol">(</a><a id="20261" href="/lia/part1/NormalForms/#13662" class="Function">size</a> <a id="20266" href="/lia/part1/NormalForms/#20228" class="Bound">ψ</a><a id="20267" class="Symbol">)</a> <a id="20269" class="Symbol">(</a><a id="20270" href="/lia/part1/NormalForms/#17684" class="Function">wnnf-size</a> <a id="20280" href="/lia/part1/NormalForms/#20224" class="Bound">φ</a><a id="20281" class="Symbol">)</a> <a id="20283" class="Symbol">(</a><a id="20284" href="/lia/part1/NormalForms/#17733" class="Function">wnnf-size-¬</a> <a id="20296" href="/lia/part1/NormalForms/#20228" class="Bound">ψ</a><a id="20297" class="Symbol">)</a></pre>

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:wnnf-tight" class="pandoc-numbering-text exercise"><strong>Exercise 2</strong></span></dt>
    <dd>On which kind of formulas does the <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> translation
performed by <a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a> achieve maximal blow-up? Is the bound
provided by <a href="#wnnf-size-%C2%AC"><code class="language-plaintext highlighter-rouge">wnnf-size-¬</code></a> tight? <span class="hidden">∎</span> <span class="right-aligned">∎</span>
</dd>
  </dl>

  <!--
::::::: {.solutionlink}
[solution](#exercise:wnnf-tight-solution)
:::::::
-->

</div>

<h1 id="NNF">
<a class="anchor" href="#NNF" aria-hidden="true"><span class="octicon octicon-link"></span></a>Negation normal form</h1>

<p>A propositional formula <code class="language-plaintext highlighter-rouge">φ</code> is in <em>negation normal form</em> (NNF) if it
uses only the connectives <a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> ,
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> ,
<a href="../../part1/Semantics#Formula.%C2%AC_"><code class="language-plaintext highlighter-rouge">¬_</code></a> ,
<a href="../../part1/Semantics#Formula._%E2%88%A8_"><code class="language-plaintext highlighter-rouge">_∨_</code></a> , and
<a href="../../part1/Semantics#Formula._%E2%88%A7_"><code class="language-plaintext highlighter-rouge">_∧_</code></a> , and negation appears only
in front of propositional variables, i.e., inside literals. In other
words, a NNF formula is a <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> without the implication
<a href="../../part1/Semantics#Formula._%E2%87%92_"><code class="language-plaintext highlighter-rouge">_⇒_</code></a> and bi-implication
<a href="../../part1/Semantics#Formula._%E2%87%94_"><code class="language-plaintext highlighter-rouge">_⇔_</code></a> connectives. This is captured
by the following definition<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote">1</a></sup>:</p>

<pre class="Agda"><a id="22447" class="Keyword">data</a> <a id="NNF"></a><a id="22452" href="/lia/part1/NormalForms/#22452" class="Datatype">NNF</a> <a id="22456" class="Symbol">:</a> <a id="22458" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="22466" class="Symbol">→</a> <a id="22468" class="PrimitiveType">Set</a> <a id="22472" class="Keyword">where</a>
  <a id="NNF.⊤"></a><a id="22480" href="/lia/part1/NormalForms/#22480" class="InductiveConstructor">⊤</a> <a id="22482" class="Symbol">:</a> <a id="22484" href="/lia/part1/NormalForms/#22452" class="Datatype">NNF</a> <a id="22488" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>
  <a id="NNF.⊥"></a><a id="22492" href="/lia/part1/NormalForms/#22492" class="InductiveConstructor">⊥</a> <a id="22494" class="Symbol">:</a> <a id="22496" href="/lia/part1/NormalForms/#22452" class="Datatype">NNF</a> <a id="22500" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a>
  <a id="NNF.`_"></a><a id="22504" href="/lia/part1/NormalForms/#22504" class="InductiveConstructor Operator">`_</a> <a id="22507" class="Symbol">:</a> <a id="22509" class="Symbol">(</a><a id="22510" href="/lia/part1/NormalForms/#22510" class="Bound">p</a> <a id="22512" class="Symbol">:</a> <a id="22514" href="/lia/part1/Semantics/#1069" class="Function">PropName</a><a id="22522" class="Symbol">)</a> <a id="22524" class="Symbol">→</a> <a id="22526" href="/lia/part1/NormalForms/#22452" class="Datatype">NNF</a> <a id="22530" class="Symbol">(</a><a id="22531" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="22533" href="/lia/part1/NormalForms/#22510" class="Bound">p</a><a id="22534" class="Symbol">)</a>
  <a id="NNF.¬`_"></a><a id="22538" href="/lia/part1/NormalForms/#22538" class="InductiveConstructor Operator">¬`_</a> <a id="22542" class="Symbol">:</a> <a id="22544" class="Symbol">(</a><a id="22545" href="/lia/part1/NormalForms/#22545" class="Bound">p</a> <a id="22547" class="Symbol">:</a> <a id="22549" href="/lia/part1/Semantics/#1069" class="Function">PropName</a><a id="22557" class="Symbol">)</a> <a id="22559" class="Symbol">→</a> <a id="22561" href="/lia/part1/NormalForms/#22452" class="Datatype">NNF</a> <a id="22565" class="Symbol">(</a><a id="22566" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="22568" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="22570" href="/lia/part1/NormalForms/#22545" class="Bound">p</a><a id="22571" class="Symbol">)</a>
  <a id="NNF._∧_"></a><a id="22575" href="/lia/part1/NormalForms/#22575" class="InductiveConstructor Operator">_∧_</a> <a id="22579" class="Symbol">:</a> <a id="22581" href="/lia/part1/NormalForms/#22452" class="Datatype">NNF</a> <a id="22585" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="22587" class="Symbol">→</a> <a id="22589" href="/lia/part1/NormalForms/#22452" class="Datatype">NNF</a> <a id="22593" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="22595" class="Symbol">→</a> <a id="22597" href="/lia/part1/NormalForms/#22452" class="Datatype">NNF</a> <a id="22601" class="Symbol">(</a><a id="22602" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="22604" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="22606" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a><a id="22607" class="Symbol">)</a>
  <a id="NNF._∨_"></a><a id="22611" href="/lia/part1/NormalForms/#22611" class="InductiveConstructor Operator">_∨_</a> <a id="22615" class="Symbol">:</a> <a id="22617" href="/lia/part1/NormalForms/#22452" class="Datatype">NNF</a> <a id="22621" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="22623" class="Symbol">→</a> <a id="22625" href="/lia/part1/NormalForms/#22452" class="Datatype">NNF</a> <a id="22629" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="22631" class="Symbol">→</a> <a id="22633" href="/lia/part1/NormalForms/#22452" class="Datatype">NNF</a> <a id="22637" class="Symbol">(</a><a id="22638" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="22640" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="22642" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a><a id="22643" class="Symbol">)</a></pre>

<p>Given a formula <code class="language-plaintext highlighter-rouge">φ</code>, we can decide whether it is in <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> or
not:</p>

<pre class="Agda"><a id="NNF?"></a><a id="22725" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="22730" class="Symbol">:</a> <a id="22732" class="Symbol">∀</a> <a id="22734" href="/lia/part1/NormalForms/#22734" class="Bound">φ</a> <a id="22736" class="Symbol">→</a> <a id="22738" href="/lia/part0/Decidable/#150" class="Datatype">Dec</a> <a id="22742" class="Symbol">(</a><a id="22743" href="/lia/part1/NormalForms/#22452" class="Datatype">NNF</a> <a id="22747" href="/lia/part1/NormalForms/#22734" class="Bound">φ</a><a id="22748" class="Symbol">)</a></pre>

<div class="introbox">

  <p>The proof works by inspecting <code class="language-plaintext highlighter-rouge">φ</code> sufficiently deeply.
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="22832" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="22837" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="22839" class="Symbol">=</a> <a id="22841" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="22845" href="/lia/part1/NormalForms/#22492" class="InductiveConstructor">⊥</a>
<a id="22847" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="22852" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="22854" class="Symbol">=</a> <a id="22856" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="22860" href="/lia/part1/NormalForms/#22480" class="InductiveConstructor">⊤</a>
<a id="22862" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="22867" class="Symbol">(</a><a id="22868" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="22870" href="/lia/part1/NormalForms/#22870" class="Bound">p</a><a id="22871" class="Symbol">)</a> <a id="22873" class="Symbol">=</a> <a id="22875" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="22879" class="Symbol">(</a><a id="22880" href="/lia/part1/NormalForms/#22504" class="InductiveConstructor Operator">`</a> <a id="22882" href="/lia/part1/NormalForms/#22870" class="Bound">p</a><a id="22883" class="Symbol">)</a>

<a id="22886" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="22891" class="Symbol">(</a><a id="22892" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="22894" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a><a id="22895" class="Symbol">)</a> <a id="22897" class="Symbol">=</a> <a id="22899" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="22902" class="Symbol">λ</a> <a id="22904" class="Symbol">()</a>
<a id="22907" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="22912" class="Symbol">(</a><a id="22913" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="22915" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a><a id="22916" class="Symbol">)</a> <a id="22918" class="Symbol">=</a> <a id="22920" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="22923" class="Symbol">λ</a> <a id="22925" class="Symbol">()</a>
<a id="22928" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="22933" class="Symbol">(</a><a id="22934" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="22936" class="Symbol">(</a><a id="22937" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="22939" href="/lia/part1/NormalForms/#22939" class="Bound">p</a><a id="22940" class="Symbol">))</a> <a id="22943" class="Symbol">=</a> <a id="22945" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="22949" class="Symbol">(</a><a id="22950" href="/lia/part1/NormalForms/#22538" class="InductiveConstructor Operator">¬`</a> <a id="22953" href="/lia/part1/NormalForms/#22939" class="Bound">p</a><a id="22954" class="Symbol">)</a>
<a id="22956" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="22961" class="Symbol">(</a><a id="22962" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="22964" class="Symbol">(</a><a id="22965" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="22967" class="Symbol">_))</a> <a id="22971" class="Symbol">=</a> <a id="22973" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="22976" class="Symbol">λ</a> <a id="22978" class="Symbol">()</a>
<a id="22981" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="22986" class="Symbol">(</a><a id="22987" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="22989" class="Symbol">(_</a> <a id="22992" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="22994" class="Symbol">_))</a> <a id="22998" class="Symbol">=</a> <a id="23000" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23003" class="Symbol">λ</a> <a id="23005" class="Symbol">()</a>
<a id="23008" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="23013" class="Symbol">(</a><a id="23014" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="23016" class="Symbol">(_</a> <a id="23019" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="23021" class="Symbol">_))</a> <a id="23025" class="Symbol">=</a> <a id="23027" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23030" class="Symbol">λ</a> <a id="23032" class="Symbol">()</a>
<a id="23035" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="23040" class="Symbol">(</a><a id="23041" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="23043" class="Symbol">(_</a> <a id="23046" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="23048" class="Symbol">_))</a> <a id="23052" class="Symbol">=</a> <a id="23054" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23057" class="Symbol">λ</a> <a id="23059" class="Symbol">()</a>
<a id="23062" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="23067" class="Symbol">(</a><a id="23068" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="23070" class="Symbol">(_</a> <a id="23073" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="23075" class="Symbol">_))</a> <a id="23079" class="Symbol">=</a> <a id="23081" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23084" class="Symbol">λ</a> <a id="23086" class="Symbol">()</a>

<a id="23090" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="23095" class="Symbol">(</a><a id="23096" href="/lia/part1/NormalForms/#23096" class="Bound">φ</a> <a id="23098" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="23100" href="/lia/part1/NormalForms/#23100" class="Bound">ψ</a><a id="23101" class="Symbol">)</a>
  <a id="23105" class="Keyword">with</a> <a id="23110" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="23115" href="/lia/part1/NormalForms/#23096" class="Bound">φ</a> <a id="23117" class="Symbol">|</a>
       <a id="23126" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="23131" href="/lia/part1/NormalForms/#23100" class="Bound">ψ</a>
<a id="23133" class="Symbol">...</a> <a id="23137" class="Symbol">|</a> <a id="23139" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="23143" href="/lia/part1/NormalForms/#23143" class="Bound">nnfφ</a> <a id="23148" class="Symbol">|</a> <a id="23150" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="23154" href="/lia/part1/NormalForms/#23154" class="Bound">nnfψ</a> <a id="23159" class="Symbol">=</a> <a id="23161" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="23165" class="Symbol">(</a><a id="23166" href="/lia/part1/NormalForms/#23143" class="Bound">nnfφ</a> <a id="23171" href="/lia/part1/NormalForms/#22611" class="InductiveConstructor Operator">∨</a> <a id="23173" href="/lia/part1/NormalForms/#23154" class="Bound">nnfψ</a><a id="23177" class="Symbol">)</a>
<a id="23179" class="Symbol">...</a> <a id="23183" class="Symbol">|</a> <a id="23185" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23188" href="/lia/part1/NormalForms/#23188" class="Bound">¬nnfφ</a> <a id="23194" class="Symbol">|</a> <a id="23196" class="Symbol">_</a> <a id="23198" class="Symbol">=</a> <a id="23200" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23203" class="Symbol">λ{</a> <a id="23206" class="Symbol">(</a><a id="23207" href="/lia/part1/NormalForms/#23207" class="Bound">nnfφ</a> <a id="23212" href="/lia/part1/NormalForms/#22611" class="InductiveConstructor Operator">∨</a> <a id="23214" class="Symbol">_)</a> <a id="23217" class="Symbol">→</a> <a id="23219" href="/lia/part1/NormalForms/#23188" class="Bound">¬nnfφ</a> <a id="23225" href="/lia/part1/NormalForms/#23207" class="Bound">nnfφ</a><a id="23229" class="Symbol">}</a>
<a id="23231" class="CatchallClause Symbol">...</a><a id="23234" class="CatchallClause"> </a><a id="23235" class="CatchallClause Symbol">|</a><a id="23236" class="CatchallClause"> </a><a id="23237" class="CatchallClause Symbol">_</a><a id="23238" class="CatchallClause"> </a><a id="23239" class="CatchallClause Symbol">|</a><a id="23240" class="CatchallClause"> </a><a id="23241" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="23243" class="CatchallClause"> </a><a id="23244" href="/lia/part1/NormalForms/#23244" class="CatchallClause Bound">¬nnfψ</a> <a id="23250" class="Symbol">=</a> <a id="23252" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23255" class="Symbol">λ{</a> <a id="23258" class="Symbol">(_</a> <a id="23261" href="/lia/part1/NormalForms/#22611" class="InductiveConstructor Operator">∨</a> <a id="23263" href="/lia/part1/NormalForms/#23263" class="Bound">nnfψ</a><a id="23267" class="Symbol">)</a> <a id="23269" class="Symbol">→</a> <a id="23271" href="/lia/part1/NormalForms/#23244" class="Bound">¬nnfψ</a> <a id="23277" href="/lia/part1/NormalForms/#23263" class="Bound">nnfψ</a><a id="23281" class="Symbol">}</a>

<a id="23284" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="23289" class="Symbol">(</a><a id="23290" href="/lia/part1/NormalForms/#23290" class="Bound">φ</a> <a id="23292" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="23294" href="/lia/part1/NormalForms/#23294" class="Bound">ψ</a><a id="23295" class="Symbol">)</a>
  <a id="23299" class="Keyword">with</a> <a id="23304" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="23309" href="/lia/part1/NormalForms/#23290" class="Bound">φ</a> <a id="23311" class="Symbol">|</a>
       <a id="23320" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="23325" href="/lia/part1/NormalForms/#23294" class="Bound">ψ</a>
<a id="23327" class="Symbol">...</a> <a id="23331" class="Symbol">|</a> <a id="23333" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="23337" href="/lia/part1/NormalForms/#23337" class="Bound">nnfφ</a> <a id="23342" class="Symbol">|</a> <a id="23344" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="23348" href="/lia/part1/NormalForms/#23348" class="Bound">nnfψ</a> <a id="23353" class="Symbol">=</a> <a id="23355" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="23359" class="Symbol">(</a><a id="23360" href="/lia/part1/NormalForms/#23337" class="Bound">nnfφ</a> <a id="23365" href="/lia/part1/NormalForms/#22575" class="InductiveConstructor Operator">∧</a> <a id="23367" href="/lia/part1/NormalForms/#23348" class="Bound">nnfψ</a><a id="23371" class="Symbol">)</a>
<a id="23373" class="Symbol">...</a> <a id="23377" class="Symbol">|</a> <a id="23379" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23382" href="/lia/part1/NormalForms/#23382" class="Bound">¬nnfφ</a> <a id="23388" class="Symbol">|</a> <a id="23390" class="Symbol">_</a> <a id="23392" class="Symbol">=</a> <a id="23394" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23397" class="Symbol">λ{</a> <a id="23400" class="Symbol">(</a><a id="23401" href="/lia/part1/NormalForms/#23401" class="Bound">nnfφ</a> <a id="23406" href="/lia/part1/NormalForms/#22575" class="InductiveConstructor Operator">∧</a> <a id="23408" class="Symbol">_)</a> <a id="23411" class="Symbol">→</a> <a id="23413" href="/lia/part1/NormalForms/#23382" class="Bound">¬nnfφ</a> <a id="23419" href="/lia/part1/NormalForms/#23401" class="Bound">nnfφ</a><a id="23423" class="Symbol">}</a>
<a id="23425" class="CatchallClause Symbol">...</a><a id="23428" class="CatchallClause"> </a><a id="23429" class="CatchallClause Symbol">|</a><a id="23430" class="CatchallClause"> </a><a id="23431" class="CatchallClause Symbol">_</a><a id="23432" class="CatchallClause"> </a><a id="23433" class="CatchallClause Symbol">|</a><a id="23434" class="CatchallClause"> </a><a id="23435" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="23437" class="CatchallClause"> </a><a id="23438" href="/lia/part1/NormalForms/#23438" class="CatchallClause Bound">¬nnfψ</a> <a id="23444" class="Symbol">=</a> <a id="23446" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23449" class="Symbol">λ{</a> <a id="23452" class="Symbol">(_</a> <a id="23455" href="/lia/part1/NormalForms/#22575" class="InductiveConstructor Operator">∧</a> <a id="23457" href="/lia/part1/NormalForms/#23457" class="Bound">nnfψ</a><a id="23461" class="Symbol">)</a> <a id="23463" class="Symbol">→</a> <a id="23465" href="/lia/part1/NormalForms/#23438" class="Bound">¬nnfψ</a> <a id="23471" href="/lia/part1/NormalForms/#23457" class="Bound">nnfψ</a><a id="23475" class="Symbol">}</a>

<a id="23478" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="23483" class="Symbol">(_</a> <a id="23486" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="23488" class="Symbol">_)</a> <a id="23491" class="Symbol">=</a> <a id="23493" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23496" class="Symbol">λ</a> <a id="23498" class="Symbol">()</a>
<a id="23501" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="23506" class="Symbol">(_</a> <a id="23509" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="23511" class="Symbol">_)</a> <a id="23514" class="Symbol">=</a> <a id="23516" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="23519" class="Symbol">λ</a> <a id="23521" class="Symbol">()</a></pre>

</div>

<pre class="Agda"><a id="ξ₀"></a><a id="23537" href="/lia/part1/NormalForms/#23537" class="Function">ξ₀</a> <a id="ξ₁"></a><a id="23540" href="/lia/part1/NormalForms/#23540" class="Function">ξ₁</a> <a id="ξ₂"></a><a id="23543" href="/lia/part1/NormalForms/#23543" class="Function">ξ₂</a> <a id="ξ₃"></a><a id="23546" href="/lia/part1/NormalForms/#23546" class="Function">ξ₃</a> <a id="ξ₄"></a><a id="23549" href="/lia/part1/NormalForms/#23549" class="Function">ξ₄</a> <a id="ξ₅"></a><a id="23552" href="/lia/part1/NormalForms/#23552" class="Function">ξ₅</a> <a id="23555" class="Symbol">:</a> <a id="23557" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a></pre>

<div class="inlinecode">

  <p>For instance, the formulas</p>
  <pre class="Agda"><a id="23630" href="/lia/part1/NormalForms/#23537" class="Function">ξ₀</a> <a id="23633" class="Symbol">=</a> <a id="23635" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a></pre>
  <p>and</p>
  <pre class="Agda"><a id="23649" href="/lia/part1/NormalForms/#23540" class="Function">ξ₁</a> <a id="23652" class="Symbol">=</a> <a id="23654" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="23656" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="23658" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="23661" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="23663" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="23665" href="/lia/part1/Semantics/#1197" class="Function">p₁</a></pre>
  <p>are in <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> , while the following formulas are not:</p>
  <pre class="Agda"><a id="23732" href="/lia/part1/NormalForms/#23543" class="Function">ξ₂</a> <a id="23735" class="Symbol">=</a> <a id="23737" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="23739" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a></pre>
  <p>(negation not in front of a propositional variable) and</p>
  <pre class="Agda"><a id="23805" href="/lia/part1/NormalForms/#23546" class="Function">ξ₃</a> <a id="23808" class="Symbol">=</a> <a id="23810" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="23812" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="23815" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="23817" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="23819" href="/lia/part1/Semantics/#1197" class="Function">p₁</a></pre>

  <p>(it contains an implication connective), as we automatically check:</p>

</div>

<pre class="Agda"><a id="23914" href="/lia/part1/NormalForms/#23914" class="Function">_</a> <a id="23916" class="Symbol">:</a> <a id="23918" href="/lia/part0/List/#11360" class="Function">All?</a> <a id="23923" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="23928" class="Symbol">(</a><a id="23929" href="/lia/part0/List/#1792" class="Function">[</a> <a id="23931" href="/lia/part1/NormalForms/#23537" class="Function">ξ₀</a> <a id="23934" href="/lia/part1/NormalForms/#23540" class="Function">ξ₁</a> <a id="23937" href="/lia/part0/List/#2043" class="Function Operator">]</a><a id="23938" class="Symbol">)</a> <a id="23940" href="/lia/part0/Decidable/#628" class="Function Operator">×?</a> <a id="23943" href="/lia/part0/List/#11360" class="Function">All?</a> <a id="23948" class="Symbol">(</a><a id="23949" href="/lia/part0/Decidable/#1262" class="Function Operator">~?_</a> <a id="23953" href="/lia/part0/Utils/#686" class="Function Operator">∘</a> <a id="23955" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a><a id="23959" class="Symbol">)</a> <a id="23961" class="Symbol">(</a><a id="23962" href="/lia/part0/List/#1792" class="Function">[</a> <a id="23964" href="/lia/part1/NormalForms/#23543" class="Function">ξ₂</a> <a id="23967" href="/lia/part1/NormalForms/#23546" class="Function">ξ₃</a> <a id="23970" href="/lia/part0/List/#2043" class="Function Operator">]</a><a id="23971" class="Symbol">)</a> <a id="23973" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="23975" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="23979" class="Symbol">_</a>
<a id="23981" class="Symbol">_</a> <a id="23983" class="Symbol">=</a> <a id="23985" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<div class="introbox">

  <p>It is an easy observation that <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> formulas are in the
<code class="language-plaintext highlighter-rouge">Formula[⊥,⊤,¬,∨,∧]</code> form:</p>

  <pre class="Agda"><a id="NNF-Formula[⊥,⊤,¬,∨,∧]"></a><a id="24098" href="/lia/part1/NormalForms/#24098" class="Function">NNF-Formula[⊥,⊤,¬,∨,∧]</a> <a id="24121" class="Symbol">:</a> <a id="24123" href="/lia/part1/NormalForms/#22452" class="Datatype">NNF</a> <a id="24127" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="24129" class="Symbol">→</a> <a id="24131" href="/lia/part1/Semantics/#62569" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="24150" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a></pre>

  <p><button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="24168" href="/lia/part1/NormalForms/#24098" class="Function">NNF-Formula[⊥,⊤,¬,∨,∧]</a> <a id="24191" href="/lia/part1/NormalForms/#22480" class="InductiveConstructor">⊤</a> <a id="24193" class="Symbol">=</a> <a id="24195" href="/lia/part1/Semantics/#62639" class="InductiveConstructor">⊤</a>
<a id="24197" href="/lia/part1/NormalForms/#24098" class="Function">NNF-Formula[⊥,⊤,¬,∨,∧]</a> <a id="24220" href="/lia/part1/NormalForms/#22492" class="InductiveConstructor">⊥</a> <a id="24222" class="Symbol">=</a> <a id="24224" href="/lia/part1/Semantics/#62612" class="InductiveConstructor">⊥</a>
<a id="24226" href="/lia/part1/NormalForms/#24098" class="Function">NNF-Formula[⊥,⊤,¬,∨,∧]</a> <a id="24249" class="Symbol">(</a><a id="24250" href="/lia/part1/NormalForms/#22504" class="InductiveConstructor Operator">`</a> <a id="24252" href="/lia/part1/NormalForms/#24252" class="Bound">p</a><a id="24253" class="Symbol">)</a> <a id="24255" class="Symbol">=</a> <a id="24257" href="/lia/part1/Semantics/#62666" class="InductiveConstructor Operator">`</a> <a id="24259" href="/lia/part1/NormalForms/#24252" class="Bound">p</a>
<a id="24261" href="/lia/part1/NormalForms/#24098" class="Function">NNF-Formula[⊥,⊤,¬,∨,∧]</a> <a id="24284" class="Symbol">(</a><a id="24285" href="/lia/part1/NormalForms/#22538" class="InductiveConstructor Operator">¬`</a> <a id="24288" href="/lia/part1/NormalForms/#24288" class="Bound">p</a><a id="24289" class="Symbol">)</a> <a id="24291" class="Symbol">=</a> <a id="24293" href="/lia/part1/Semantics/#62704" class="InductiveConstructor Operator">¬</a> <a id="24295" href="/lia/part1/Semantics/#62666" class="InductiveConstructor Operator">`</a> <a id="24297" href="/lia/part1/NormalForms/#24288" class="Bound">p</a>
<a id="24299" href="/lia/part1/NormalForms/#24098" class="Function">NNF-Formula[⊥,⊤,¬,∨,∧]</a> <a id="24322" class="Symbol">(</a><a id="24323" href="/lia/part1/NormalForms/#24323" class="Bound">φ</a> <a id="24325" href="/lia/part1/NormalForms/#22575" class="InductiveConstructor Operator">∧</a> <a id="24327" href="/lia/part1/NormalForms/#24327" class="Bound">ψ</a><a id="24328" class="Symbol">)</a> <a id="24330" class="Symbol">=</a> <a id="24332" href="/lia/part1/NormalForms/#24098" class="Function">NNF-Formula[⊥,⊤,¬,∨,∧]</a> <a id="24355" href="/lia/part1/NormalForms/#24323" class="Bound">φ</a> <a id="24357" href="/lia/part1/Semantics/#62862" class="InductiveConstructor Operator">∧</a> <a id="24359" href="/lia/part1/NormalForms/#24098" class="Function">NNF-Formula[⊥,⊤,¬,∨,∧]</a> <a id="24382" href="/lia/part1/NormalForms/#24327" class="Bound">ψ</a>
<a id="24384" href="/lia/part1/NormalForms/#24098" class="Function">NNF-Formula[⊥,⊤,¬,∨,∧]</a> <a id="24407" class="Symbol">(</a><a id="24408" href="/lia/part1/NormalForms/#24408" class="Bound">φ</a> <a id="24410" href="/lia/part1/NormalForms/#22611" class="InductiveConstructor Operator">∨</a> <a id="24412" href="/lia/part1/NormalForms/#24412" class="Bound">ψ</a><a id="24413" class="Symbol">)</a> <a id="24415" class="Symbol">=</a> <a id="24417" href="/lia/part1/NormalForms/#24098" class="Function">NNF-Formula[⊥,⊤,¬,∨,∧]</a> <a id="24440" href="/lia/part1/NormalForms/#24408" class="Bound">φ</a> <a id="24442" href="/lia/part1/Semantics/#62767" class="InductiveConstructor Operator">∨</a> <a id="24444" href="/lia/part1/NormalForms/#24098" class="Function">NNF-Formula[⊥,⊤,¬,∨,∧]</a> <a id="24467" href="/lia/part1/NormalForms/#24412" class="Bound">ψ</a></pre>

</div>

<div class="introbox">

  <p>Conversely, while a <code class="language-plaintext highlighter-rouge">Formula[⊥,⊤,¬,∨,∧]</code> formula in general is not in
<a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> , its <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> is in <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> :</p>

  <pre class="Agda"><a id="wnnf-impFree"></a><a id="24606" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="24619" class="Symbol">:</a> <a id="24621" href="/lia/part1/Semantics/#62569" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="24640" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="24642" class="Symbol">→</a> <a id="24644" href="/lia/part1/NormalForms/#22452" class="Datatype">NNF</a> <a id="24648" class="Symbol">(</a><a id="24649" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="24654" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a><a id="24655" class="Symbol">)</a></pre>

  <p>The only difference between <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> and <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> is that in
the latter we addionally forbid implications and bi-implications. If a
formula does not contain implications/bi-implications in the first
place, then <a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a> does not introduce them and thus it produces
an <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> formula: The proof proceeds by induction on the
evidence that the formula is in the <code class="language-plaintext highlighter-rouge">Formula[⊥,⊤,¬,∨,∧]</code> form.
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="25068" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="25081" href="/lia/part1/Semantics/#62612" class="InductiveConstructor">⊥</a> <a id="25083" class="Symbol">=</a> <a id="25085" href="/lia/part1/NormalForms/#22492" class="InductiveConstructor">⊥</a>
<a id="25087" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="25100" href="/lia/part1/Semantics/#62639" class="InductiveConstructor">⊤</a> <a id="25102" class="Symbol">=</a> <a id="25104" href="/lia/part1/NormalForms/#22480" class="InductiveConstructor">⊤</a>
<a id="25106" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="25119" class="Symbol">(</a><a id="25120" href="/lia/part1/Semantics/#62666" class="InductiveConstructor Operator">`</a> <a id="25122" href="/lia/part1/NormalForms/#25122" class="Bound">p</a><a id="25123" class="Symbol">)</a> <a id="25125" class="Symbol">=</a> <a id="25127" href="/lia/part1/NormalForms/#22504" class="InductiveConstructor Operator">`</a> <a id="25129" href="/lia/part1/NormalForms/#25122" class="Bound">p</a>
<a id="25131" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="25144" class="Symbol">(</a><a id="25145" href="/lia/part1/Semantics/#62704" class="InductiveConstructor Operator">¬</a> <a id="25147" href="/lia/part1/Semantics/#62612" class="InductiveConstructor">⊥</a><a id="25148" class="Symbol">)</a> <a id="25150" class="Symbol">=</a> <a id="25152" href="/lia/part1/NormalForms/#22480" class="InductiveConstructor">⊤</a>
<a id="25154" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="25167" class="Symbol">(</a><a id="25168" href="/lia/part1/Semantics/#62704" class="InductiveConstructor Operator">¬</a> <a id="25170" href="/lia/part1/Semantics/#62639" class="InductiveConstructor">⊤</a><a id="25171" class="Symbol">)</a> <a id="25173" class="Symbol">=</a> <a id="25175" href="/lia/part1/NormalForms/#22492" class="InductiveConstructor">⊥</a>
<a id="25177" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="25190" class="Symbol">(</a><a id="25191" href="/lia/part1/Semantics/#62704" class="InductiveConstructor Operator">¬</a> <a id="25193" href="/lia/part1/Semantics/#62666" class="InductiveConstructor Operator">`</a> <a id="25195" href="/lia/part1/NormalForms/#25195" class="Bound">p</a><a id="25196" class="Symbol">)</a> <a id="25198" class="Symbol">=</a> <a id="25200" href="/lia/part1/NormalForms/#22538" class="InductiveConstructor Operator">¬`</a> <a id="25203" href="/lia/part1/NormalForms/#25195" class="Bound">p</a>
<a id="25205" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="25218" class="Symbol">(</a><a id="25219" href="/lia/part1/Semantics/#62704" class="InductiveConstructor Operator">¬</a> <a id="25221" href="/lia/part1/Semantics/#62704" class="InductiveConstructor Operator">¬</a> <a id="25223" href="/lia/part1/NormalForms/#25223" class="Bound">view-φ</a><a id="25229" class="Symbol">)</a> <a id="25231" class="Symbol">=</a> <a id="25233" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="25246" href="/lia/part1/NormalForms/#25223" class="Bound">view-φ</a>
<a id="25253" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="25266" class="Symbol">(</a><a id="25267" href="/lia/part1/Semantics/#62704" class="InductiveConstructor Operator">¬</a> <a id="25269" class="Symbol">(</a><a id="25270" href="/lia/part1/NormalForms/#25270" class="Bound">view-φ</a> <a id="25277" href="/lia/part1/Semantics/#62767" class="InductiveConstructor Operator">∨</a> <a id="25279" href="/lia/part1/NormalForms/#25279" class="Bound">view-ψ</a><a id="25285" class="Symbol">))</a> <a id="25288" class="Symbol">=</a> <a id="25290" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="25303" class="Symbol">(</a><a id="25304" href="/lia/part1/Semantics/#62704" class="InductiveConstructor Operator">¬</a> <a id="25306" href="/lia/part1/NormalForms/#25270" class="Bound">view-φ</a><a id="25312" class="Symbol">)</a> <a id="25314" href="/lia/part1/NormalForms/#22575" class="InductiveConstructor Operator">∧</a> <a id="25316" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="25329" class="Symbol">(</a><a id="25330" href="/lia/part1/Semantics/#62704" class="InductiveConstructor Operator">¬</a> <a id="25332" href="/lia/part1/NormalForms/#25279" class="Bound">view-ψ</a><a id="25338" class="Symbol">)</a>
<a id="25340" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="25353" class="Symbol">(</a><a id="25354" href="/lia/part1/Semantics/#62704" class="InductiveConstructor Operator">¬</a> <a id="25356" class="Symbol">(</a><a id="25357" href="/lia/part1/NormalForms/#25357" class="Bound">view-φ</a> <a id="25364" href="/lia/part1/Semantics/#62862" class="InductiveConstructor Operator">∧</a> <a id="25366" href="/lia/part1/NormalForms/#25366" class="Bound">view-ψ</a><a id="25372" class="Symbol">))</a> <a id="25375" class="Symbol">=</a> <a id="25377" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="25390" class="Symbol">(</a><a id="25391" href="/lia/part1/Semantics/#62704" class="InductiveConstructor Operator">¬</a> <a id="25393" href="/lia/part1/NormalForms/#25357" class="Bound">view-φ</a><a id="25399" class="Symbol">)</a> <a id="25401" href="/lia/part1/NormalForms/#22611" class="InductiveConstructor Operator">∨</a> <a id="25403" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="25416" class="Symbol">(</a><a id="25417" href="/lia/part1/Semantics/#62704" class="InductiveConstructor Operator">¬</a> <a id="25419" href="/lia/part1/NormalForms/#25366" class="Bound">view-ψ</a><a id="25425" class="Symbol">)</a>
<a id="25427" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="25440" class="Symbol">(</a><a id="25441" href="/lia/part1/NormalForms/#25441" class="Bound">view-φ</a> <a id="25448" href="/lia/part1/Semantics/#62767" class="InductiveConstructor Operator">∨</a> <a id="25450" href="/lia/part1/NormalForms/#25450" class="Bound">view-ψ</a><a id="25456" class="Symbol">)</a> <a id="25458" class="Symbol">=</a> <a id="25460" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="25473" href="/lia/part1/NormalForms/#25441" class="Bound">view-φ</a> <a id="25480" href="/lia/part1/NormalForms/#22611" class="InductiveConstructor Operator">∨</a> <a id="25482" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="25495" href="/lia/part1/NormalForms/#25450" class="Bound">view-ψ</a>
<a id="25502" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="25515" class="Symbol">(</a><a id="25516" href="/lia/part1/NormalForms/#25516" class="Bound">view-φ</a> <a id="25523" href="/lia/part1/Semantics/#62862" class="InductiveConstructor Operator">∧</a> <a id="25525" href="/lia/part1/NormalForms/#25525" class="Bound">view-ψ</a><a id="25531" class="Symbol">)</a> <a id="25533" class="Symbol">=</a> <a id="25535" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="25548" href="/lia/part1/NormalForms/#25516" class="Bound">view-φ</a> <a id="25555" href="/lia/part1/NormalForms/#22575" class="InductiveConstructor Operator">∧</a> <a id="25557" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="25570" href="/lia/part1/NormalForms/#25525" class="Bound">view-ψ</a></pre>

</div>

<p>In order to transform a formula to <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> we can</p>

<ol>
  <li>Remove implications and bi-implications, and</li>
  <li>Transform the formula to <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> .</li>
</ol>

<p>The second step is achieved by <a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a> . In the next section we
focus on the first step.</p>

<h2 id="remove-implications-and-bi-implications">
<a class="anchor" href="#remove-implications-and-bi-implications" aria-hidden="true"><span class="octicon octicon-link"></span></a>Remove implications and bi-implications</h2>

<p>The function <a href="#removeImp"><code class="language-plaintext highlighter-rouge">removeImp</code></a> below removes implications and
bi-implications by expanding them according to the tautologies (c.f.
<a href="../../part1/Semantics#expandImplies"><code class="language-plaintext highlighter-rouge">expandImplies</code></a> , resp.,
<a href="../../part1/Semantics#expandIff"><code class="language-plaintext highlighter-rouge">expandIff</code></a> ):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>φ ⇒ ψ ⟺ ¬ φ ∨ ψ
φ ⇔ ψ ⟺ (¬ φ ∨ ψ) ∧ (φ ∨ ¬ ψ)
</code></pre></div></div>

<div class="introbox">

  <pre class="Agda"><a id="removeImp"></a><a id="26158" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="26168" class="Symbol">:</a> <a id="26170" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="26178" class="Symbol">→</a> <a id="26180" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a>
<a id="removeImp-sound"></a><a id="26188" href="/lia/part1/NormalForms/#26188" class="Function">removeImp-sound</a> <a id="26204" class="Symbol">:</a> <a id="26206" class="Symbol">∀</a> <a id="26208" href="/lia/part1/NormalForms/#26208" class="Bound">φ</a> <a id="26210" class="Symbol">→</a> <a id="26212" href="/lia/part1/NormalForms/#26208" class="Bound">φ</a> <a id="26214" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="26216" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="26226" href="/lia/part1/NormalForms/#26208" class="Bound">φ</a></pre>

  <p>Both <a href="#removeImp"><code class="language-plaintext highlighter-rouge">removeImp</code></a> and its soundness proof
<a href="#removeImp-sound"><code class="language-plaintext highlighter-rouge">removeImp-sound</code></a> are defined by a customary
structural induction.
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="26362" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="26372" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="26374" class="Symbol">=</a> <a id="26376" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a>
<a id="26378" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="26388" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="26390" class="Symbol">=</a> <a id="26392" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>
<a id="26394" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="26404" class="Symbol">(</a><a id="26405" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="26407" href="/lia/part1/NormalForms/#26407" class="Bound">p</a><a id="26408" class="Symbol">)</a> <a id="26410" class="Symbol">=</a> <a id="26412" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="26414" href="/lia/part1/NormalForms/#26407" class="Bound">p</a>
<a id="26416" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="26426" class="Symbol">(</a><a id="26427" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="26429" href="/lia/part1/NormalForms/#26429" class="Bound">φ</a><a id="26430" class="Symbol">)</a> <a id="26432" class="Symbol">=</a> <a id="26434" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="26436" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="26446" href="/lia/part1/NormalForms/#26429" class="Bound">φ</a>
<a id="26448" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="26458" class="Symbol">(</a><a id="26459" href="/lia/part1/NormalForms/#26459" class="Bound">φ</a> <a id="26461" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="26463" href="/lia/part1/NormalForms/#26463" class="Bound">ψ</a><a id="26464" class="Symbol">)</a> <a id="26466" class="Symbol">=</a> <a id="26468" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="26478" href="/lia/part1/NormalForms/#26459" class="Bound">φ</a> <a id="26480" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="26482" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="26492" href="/lia/part1/NormalForms/#26463" class="Bound">ψ</a>
<a id="26494" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="26504" class="Symbol">(</a><a id="26505" href="/lia/part1/NormalForms/#26505" class="Bound">φ</a> <a id="26507" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="26509" href="/lia/part1/NormalForms/#26509" class="Bound">ψ</a><a id="26510" class="Symbol">)</a> <a id="26512" class="Symbol">=</a> <a id="26514" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="26524" href="/lia/part1/NormalForms/#26505" class="Bound">φ</a> <a id="26526" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="26528" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="26538" href="/lia/part1/NormalForms/#26509" class="Bound">ψ</a>
<a id="26540" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="26550" class="Symbol">(</a><a id="26551" href="/lia/part1/NormalForms/#26551" class="Bound">φ</a> <a id="26553" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="26555" href="/lia/part1/NormalForms/#26555" class="Bound">ψ</a><a id="26556" class="Symbol">)</a> <a id="26558" class="Symbol">=</a> <a id="26560" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="26562" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="26572" href="/lia/part1/NormalForms/#26551" class="Bound">φ</a> <a id="26574" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="26576" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="26586" href="/lia/part1/NormalForms/#26555" class="Bound">ψ</a>
<a id="26588" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="26598" class="Symbol">(</a><a id="26599" href="/lia/part1/NormalForms/#26599" class="Bound">φ</a> <a id="26601" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="26603" href="/lia/part1/NormalForms/#26603" class="Bound">ψ</a><a id="26604" class="Symbol">)</a>
  <a id="26608" class="Keyword">with</a> <a id="26613" href="/lia/part1/NormalForms/#26613" class="Bound">φ́</a> ← <a id="26618" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="26628" href="/lia/part1/NormalForms/#26599" class="Bound">φ</a> <a id="26630" class="Symbol">|</a> <a id="26632" href="/lia/part1/NormalForms/#26632" class="Bound">ψ́</a> ← <a id="26637" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="26647" href="/lia/part1/NormalForms/#26603" class="Bound">ψ</a>
  <a id="26651" class="Symbol">=</a> <a id="26653" class="Symbol">(</a><a id="26654" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="26656" href="/lia/part1/NormalForms/#26613" class="Bound">φ́</a> <a id="26659" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="26661" href="/lia/part1/NormalForms/#26632" class="Bound">ψ́</a><a id="26663" class="Symbol">)</a> <a id="26665" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="26667" class="Symbol">(</a><a id="26668" href="/lia/part1/NormalForms/#26613" class="Bound">φ́</a> <a id="26671" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="26673" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="26675" href="/lia/part1/NormalForms/#26632" class="Bound">ψ́</a><a id="26677" class="Symbol">)</a></pre>
  <pre class="Agda"><a id="26688" href="/lia/part1/NormalForms/#26188" class="Function">removeImp-sound</a> <a id="26704" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="26706" href="/lia/part1/NormalForms/#26706" class="Bound">ϱ</a> <a id="26708" class="Symbol">=</a> <a id="26710" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="26715" href="/lia/part1/NormalForms/#26188" class="Function">removeImp-sound</a> <a id="26731" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="26733" href="/lia/part1/NormalForms/#26733" class="Bound">ϱ</a> <a id="26735" class="Symbol">=</a> <a id="26737" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="26742" href="/lia/part1/NormalForms/#26188" class="Function">removeImp-sound</a> <a id="26758" class="Symbol">(</a><a id="26759" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="26761" href="/lia/part1/NormalForms/#26761" class="Bound">p</a><a id="26762" class="Symbol">)</a> <a id="26764" href="/lia/part1/NormalForms/#26764" class="Bound">ϱ</a> <a id="26766" class="Symbol">=</a> <a id="26768" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="26773" href="/lia/part1/NormalForms/#26188" class="Function">removeImp-sound</a> <a id="26789" class="Symbol">(</a><a id="26790" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="26792" href="/lia/part1/NormalForms/#26792" class="Bound">φ</a><a id="26793" class="Symbol">)</a> <a id="26795" href="/lia/part1/NormalForms/#26795" class="Bound">ϱ</a>
  <a id="26799" class="Keyword">rewrite</a> <a id="26807" href="/lia/part1/NormalForms/#26188" class="Function">removeImp-sound</a> <a id="26823" href="/lia/part1/NormalForms/#26792" class="Bound">φ</a> <a id="26825" href="/lia/part1/NormalForms/#26795" class="Bound">ϱ</a> <a id="26827" class="Symbol">=</a> <a id="26829" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="26834" href="/lia/part1/NormalForms/#26188" class="Function">removeImp-sound</a> <a id="26850" class="Symbol">(</a><a id="26851" href="/lia/part1/NormalForms/#26851" class="Bound">φ</a> <a id="26853" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="26855" href="/lia/part1/NormalForms/#26855" class="Bound">ψ</a><a id="26856" class="Symbol">)</a> <a id="26858" href="/lia/part1/NormalForms/#26858" class="Bound">ϱ</a>
  <a id="26862" class="Keyword">rewrite</a> <a id="26870" href="/lia/part1/NormalForms/#26188" class="Function">removeImp-sound</a> <a id="26886" href="/lia/part1/NormalForms/#26851" class="Bound">φ</a> <a id="26888" href="/lia/part1/NormalForms/#26858" class="Bound">ϱ</a> <a id="26890" class="Symbol">|</a>
          <a id="26902" href="/lia/part1/NormalForms/#26188" class="Function">removeImp-sound</a> <a id="26918" href="/lia/part1/NormalForms/#26855" class="Bound">ψ</a> <a id="26920" href="/lia/part1/NormalForms/#26858" class="Bound">ϱ</a> <a id="26922" class="Symbol">=</a> <a id="26924" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="26929" href="/lia/part1/NormalForms/#26188" class="Function">removeImp-sound</a> <a id="26945" class="Symbol">(</a><a id="26946" href="/lia/part1/NormalForms/#26946" class="Bound">φ</a> <a id="26948" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="26950" href="/lia/part1/NormalForms/#26950" class="Bound">ψ</a><a id="26951" class="Symbol">)</a> <a id="26953" href="/lia/part1/NormalForms/#26953" class="Bound">ϱ</a>
  <a id="26957" class="Keyword">rewrite</a> <a id="26965" href="/lia/part1/NormalForms/#26188" class="Function">removeImp-sound</a> <a id="26981" href="/lia/part1/NormalForms/#26946" class="Bound">φ</a> <a id="26983" href="/lia/part1/NormalForms/#26953" class="Bound">ϱ</a> <a id="26985" class="Symbol">|</a>
          <a id="26997" href="/lia/part1/NormalForms/#26188" class="Function">removeImp-sound</a> <a id="27013" href="/lia/part1/NormalForms/#26950" class="Bound">ψ</a> <a id="27015" href="/lia/part1/NormalForms/#26953" class="Bound">ϱ</a> <a id="27017" class="Symbol">=</a> <a id="27019" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="27024" href="/lia/part1/NormalForms/#26188" class="Function">removeImp-sound</a> <a id="27040" class="Symbol">(</a><a id="27041" href="/lia/part1/NormalForms/#27041" class="Bound">φ</a> <a id="27043" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="27045" href="/lia/part1/NormalForms/#27045" class="Bound">ψ</a><a id="27046" class="Symbol">)</a> <a id="27048" href="/lia/part1/NormalForms/#27048" class="Bound">ϱ</a>
  <a id="27052" class="Keyword">rewrite</a> <a id="27060" href="/lia/part1/NormalForms/#26188" class="Function">removeImp-sound</a> <a id="27076" href="/lia/part1/NormalForms/#27041" class="Bound">φ</a> <a id="27078" href="/lia/part1/NormalForms/#27048" class="Bound">ϱ</a> <a id="27080" class="Symbol">|</a>
          <a id="27092" href="/lia/part1/NormalForms/#26188" class="Function">removeImp-sound</a> <a id="27108" href="/lia/part1/NormalForms/#27045" class="Bound">ψ</a> <a id="27110" href="/lia/part1/NormalForms/#27048" class="Bound">ϱ</a> <a id="27112" class="Symbol">|</a>
          <a id="27124" href="/lia/part1/Semantics/#31847" class="Function">expandImplies</a> <a id="27138" class="Symbol">(</a><a id="27139" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="27149" href="/lia/part1/NormalForms/#27041" class="Bound">φ</a><a id="27150" class="Symbol">)</a> <a id="27152" class="Symbol">(</a><a id="27153" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="27163" href="/lia/part1/NormalForms/#27045" class="Bound">ψ</a><a id="27164" class="Symbol">)</a> <a id="27166" href="/lia/part1/NormalForms/#27048" class="Bound">ϱ</a> <a id="27168" class="Symbol">=</a> <a id="27170" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="27175" href="/lia/part1/NormalForms/#26188" class="Function">removeImp-sound</a> <a id="27191" class="Symbol">(</a><a id="27192" href="/lia/part1/NormalForms/#27192" class="Bound">φ</a> <a id="27194" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="27196" href="/lia/part1/NormalForms/#27196" class="Bound">ψ</a><a id="27197" class="Symbol">)</a> <a id="27199" href="/lia/part1/NormalForms/#27199" class="Bound">ϱ</a>
  <a id="27203" class="Keyword">rewrite</a> <a id="27211" href="/lia/part1/NormalForms/#26188" class="Function">removeImp-sound</a> <a id="27227" href="/lia/part1/NormalForms/#27192" class="Bound">φ</a> <a id="27229" href="/lia/part1/NormalForms/#27199" class="Bound">ϱ</a> <a id="27231" class="Symbol">|</a>
          <a id="27243" href="/lia/part1/NormalForms/#26188" class="Function">removeImp-sound</a> <a id="27259" href="/lia/part1/NormalForms/#27196" class="Bound">ψ</a> <a id="27261" href="/lia/part1/NormalForms/#27199" class="Bound">ϱ</a> <a id="27263" class="Symbol">|</a>
          <a id="27275" href="/lia/part1/Semantics/#31887" class="Function">expandIff</a> <a id="27285" class="Symbol">(</a><a id="27286" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="27296" href="/lia/part1/NormalForms/#27192" class="Bound">φ</a><a id="27297" class="Symbol">)</a> <a id="27299" class="Symbol">(</a><a id="27300" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="27310" href="/lia/part1/NormalForms/#27196" class="Bound">ψ</a><a id="27311" class="Symbol">)</a> <a id="27313" href="/lia/part1/NormalForms/#27199" class="Bound">ϱ</a> <a id="27315" class="Symbol">=</a> <a id="27317" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

</div>

<div class="introbox">

  <p>Unsurprisingly but importantly, <code class="language-plaintext highlighter-rouge">removeImp φ</code> does not contain either
implications or bi-implications</p>
  <pre class="Agda"><a id="removeImp-impFree"></a><a id="27449" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="27467" class="Symbol">:</a> <a id="27469" class="Symbol">∀</a> <a id="27471" href="/lia/part1/NormalForms/#27471" class="Bound">φ</a> <a id="27473" class="Symbol">→</a> <a id="27475" href="/lia/part1/Semantics/#62569" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="27494" class="Symbol">(</a><a id="27495" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="27505" href="/lia/part1/NormalForms/#27471" class="Bound">φ</a><a id="27506" class="Symbol">)</a></pre>

  <p><button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="27526" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="27544" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="27546" class="Symbol">=</a> <a id="27548" href="/lia/part1/Semantics/#62612" class="InductiveConstructor">⊥</a>
<a id="27550" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="27568" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="27570" class="Symbol">=</a> <a id="27572" href="/lia/part1/Semantics/#62639" class="InductiveConstructor">⊤</a>
<a id="27574" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="27592" class="Symbol">(</a><a id="27593" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="27595" href="/lia/part1/NormalForms/#27595" class="Bound">p</a><a id="27596" class="Symbol">)</a> <a id="27598" class="Symbol">=</a> <a id="27600" href="/lia/part1/Semantics/#62666" class="InductiveConstructor Operator">`</a> <a id="27602" href="/lia/part1/NormalForms/#27595" class="Bound">p</a>
<a id="27604" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="27622" class="Symbol">(</a><a id="27623" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27625" href="/lia/part1/NormalForms/#27625" class="Bound">φ</a><a id="27626" class="Symbol">)</a> <a id="27628" class="Symbol">=</a> <a id="27630" href="/lia/part1/Semantics/#62704" class="InductiveConstructor Operator">¬</a> <a id="27632" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="27650" href="/lia/part1/NormalForms/#27625" class="Bound">φ</a>
<a id="27652" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="27670" class="Symbol">(</a><a id="27671" href="/lia/part1/NormalForms/#27671" class="Bound">φ</a> <a id="27673" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="27675" href="/lia/part1/NormalForms/#27675" class="Bound">ψ</a><a id="27676" class="Symbol">)</a> <a id="27678" class="Symbol">=</a> <a id="27680" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="27698" href="/lia/part1/NormalForms/#27671" class="Bound">φ</a> <a id="27700" href="/lia/part1/Semantics/#62767" class="InductiveConstructor Operator">∨</a> <a id="27702" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="27720" href="/lia/part1/NormalForms/#27675" class="Bound">ψ</a>
<a id="27722" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="27740" class="Symbol">(</a><a id="27741" href="/lia/part1/NormalForms/#27741" class="Bound">φ</a> <a id="27743" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="27745" href="/lia/part1/NormalForms/#27745" class="Bound">ψ</a><a id="27746" class="Symbol">)</a> <a id="27748" class="Symbol">=</a> <a id="27750" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="27768" href="/lia/part1/NormalForms/#27741" class="Bound">φ</a> <a id="27770" href="/lia/part1/Semantics/#62862" class="InductiveConstructor Operator">∧</a> <a id="27772" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="27790" href="/lia/part1/NormalForms/#27745" class="Bound">ψ</a>
<a id="27792" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="27810" class="Symbol">(</a><a id="27811" href="/lia/part1/NormalForms/#27811" class="Bound">φ</a> <a id="27813" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="27815" href="/lia/part1/NormalForms/#27815" class="Bound">ψ</a><a id="27816" class="Symbol">)</a> <a id="27818" class="Symbol">=</a> <a id="27820" href="/lia/part1/Semantics/#62704" class="InductiveConstructor Operator">¬</a> <a id="27822" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="27840" href="/lia/part1/NormalForms/#27811" class="Bound">φ</a> <a id="27842" href="/lia/part1/Semantics/#62767" class="InductiveConstructor Operator">∨</a> <a id="27844" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="27862" href="/lia/part1/NormalForms/#27815" class="Bound">ψ</a>
<a id="27864" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="27882" class="Symbol">(</a><a id="27883" href="/lia/part1/NormalForms/#27883" class="Bound">φ</a> <a id="27885" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="27887" href="/lia/part1/NormalForms/#27887" class="Bound">ψ</a><a id="27888" class="Symbol">)</a> <a id="27890" class="Symbol">=</a> <a id="27892" class="Symbol">(</a><a id="27893" href="/lia/part1/Semantics/#62704" class="InductiveConstructor Operator">¬</a> <a id="27895" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="27913" href="/lia/part1/NormalForms/#27883" class="Bound">φ</a> <a id="27915" href="/lia/part1/Semantics/#62767" class="InductiveConstructor Operator">∨</a> <a id="27917" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="27935" href="/lia/part1/NormalForms/#27887" class="Bound">ψ</a><a id="27936" class="Symbol">)</a> <a id="27938" href="/lia/part1/Semantics/#62862" class="InductiveConstructor Operator">∧</a>
                              <a id="27970" class="Symbol">(</a><a id="27971" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="27989" href="/lia/part1/NormalForms/#27883" class="Bound">φ</a> <a id="27991" href="/lia/part1/Semantics/#62767" class="InductiveConstructor Operator">∨</a> <a id="27993" href="/lia/part1/Semantics/#62704" class="InductiveConstructor Operator">¬</a> <a id="27995" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="28013" href="/lia/part1/NormalForms/#27887" class="Bound">ψ</a><a id="28014" class="Symbol">)</a></pre>

</div>

<h2 id="transformation-1">
<a class="anchor" href="#transformation-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Transformation</h2>

<p>We are now ready to put the pieces together. The transformation to
<a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> proceeds by simplifying the formula (this removes the
zero-ary connectives <code class="language-plaintext highlighter-rouge">⊤</code> and <code class="language-plaintext highlighter-rouge">⊥</code>, even though we won’t formally prove
this is the case), by removing implications/bi-implications, and by
transforming to <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> :</p>

<pre class="Agda"><a id="nnf"></a><a id="28347" href="/lia/part1/NormalForms/#28347" class="Function">nnf</a> <a id="28351" class="Symbol">:</a> <a id="28353" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="28361" class="Symbol">→</a> <a id="28363" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a>
<a id="28371" href="/lia/part1/NormalForms/#28347" class="Function">nnf</a> <a id="28375" class="Symbol">=</a> <a id="28377" href="/lia/part1/NormalForms/#3331" class="Function">wnnf</a> <a id="28382" href="/lia/part0/Utils/#686" class="Function Operator">∘</a> <a id="28384" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="28394" href="/lia/part0/Utils/#686" class="Function Operator">∘</a> <a id="28396" href="/lia/part1/Semantics/#56744" class="Function">simplify</a></pre>

<div class="inlinecode">

  <p>For example, the formula</p>
  <pre class="Agda"><a id="28468" href="/lia/part1/NormalForms/#23549" class="Function">ξ₄</a> <a id="28471" class="Symbol">=</a> <a id="28473" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="28475" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="28477" class="Symbol">(</a><a id="28478" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="28480" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="28483" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="28485" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="28487" class="Symbol">(</a><a id="28488" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="28490" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="28493" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="28495" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="28497" href="/lia/part1/Semantics/#1200" class="Function">p₂</a> <a id="28500" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="28502" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a><a id="28503" class="Symbol">))</a></pre>
  <p>is transformed to the <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> formula</p>
  <pre class="Agda"><a id="28554" href="/lia/part1/NormalForms/#23552" class="Function">ξ₅</a> <a id="28557" class="Symbol">=</a> <a id="28559" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="28561" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="28563" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="28566" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="28568" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="28570" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="28572" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="28575" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="28577" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="28579" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="28581" href="/lia/part1/Semantics/#1200" class="Function">p₂</a></pre>

  <p>as proved below:</p>

</div>

<pre class="Agda"><a id="28625" href="/lia/part1/NormalForms/#28625" class="Function">_</a> <a id="28627" class="Symbol">:</a> <a id="28629" href="/lia/part1/NormalForms/#28347" class="Function">nnf</a> <a id="28633" href="/lia/part1/NormalForms/#23549" class="Function">ξ₄</a> <a id="28636" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="28638" href="/lia/part1/NormalForms/#23552" class="Function">ξ₅</a> <a id="28641" href="/lia/part0/Logic/#1770" class="Record Operator">×</a> <a id="28643" href="/lia/part1/NormalForms/#22725" class="Function">NNF?</a> <a id="28648" href="/lia/part1/NormalForms/#23552" class="Function">ξ₅</a> <a id="28651" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="28653" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="28657" class="Symbol">_</a>
<a id="28659" class="Symbol">_</a> <a id="28661" class="Symbol">=</a> <a id="28663" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a> <a id="28668" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="28670" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:nnf-complexity" class="pandoc-numbering-text exercise"><strong>Exercise 3</strong></span></dt>
    <dd>What is the size blowup of <a href="#nnf"><code class="language-plaintext highlighter-rouge">nnf</code></a> ? On which kind of formulas
is it achieved? <span class="hidden">∎</span> <span class="right-aligned">∎</span>
</dd>
  </dl>

  <!--
::::::: {.solutionlink}
[solution](#exercise:nnf-complexity-solution)
:::::::
-->

</div>

<h2 id="correctness-1">
<a class="anchor" href="#correctness-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Correctness</h2>

<p>The correctness of the <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> translation follows from the
previous considerations:</p>

<pre class="Agda"><a id="nnf-NNF"></a><a id="29330" href="/lia/part1/NormalForms/#29330" class="Function">nnf-NNF</a> <a id="29338" class="Symbol">:</a> <a id="29340" class="Symbol">∀</a> <a id="29342" href="/lia/part1/NormalForms/#29342" class="Bound">φ</a> <a id="29344" class="Symbol">→</a> <a id="29346" href="/lia/part1/NormalForms/#22452" class="Datatype">NNF</a> <a id="29350" class="Symbol">(</a><a id="29351" href="/lia/part1/NormalForms/#28347" class="Function">nnf</a> <a id="29355" href="/lia/part1/NormalForms/#29342" class="Bound">φ</a><a id="29356" class="Symbol">)</a>
<a id="29358" href="/lia/part1/NormalForms/#29330" class="Function">nnf-NNF</a> <a id="29366" href="/lia/part1/NormalForms/#29366" class="Bound">φ</a> <a id="29368" class="Symbol">=</a> <a id="29370" href="/lia/part1/NormalForms/#24606" class="Function">wnnf-impFree</a> <a id="29383" class="Symbol">(</a><a id="29384" href="/lia/part1/NormalForms/#27449" class="Function">removeImp-impFree</a> <a id="29402" class="Symbol">(</a><a id="29403" href="/lia/part1/Semantics/#56744" class="Function">simplify</a> <a id="29412" href="/lia/part1/NormalForms/#29366" class="Bound">φ</a><a id="29413" class="Symbol">))</a></pre>
<pre class="Agda"><a id="nnf-sound"></a><a id="29425" href="/lia/part1/NormalForms/#29425" class="Function">nnf-sound</a> <a id="29435" class="Symbol">:</a> <a id="29437" class="Symbol">∀</a> <a id="29439" href="/lia/part1/NormalForms/#29439" class="Bound">φ</a> <a id="29441" class="Symbol">→</a> <a id="29443" href="/lia/part1/NormalForms/#29439" class="Bound">φ</a> <a id="29445" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="29447" href="/lia/part1/NormalForms/#28347" class="Function">nnf</a> <a id="29451" href="/lia/part1/NormalForms/#29439" class="Bound">φ</a>
<a id="29453" href="/lia/part1/NormalForms/#29425" class="Function">nnf-sound</a> <a id="29463" href="/lia/part1/NormalForms/#29463" class="Bound">φ</a> <a id="29465" href="/lia/part1/NormalForms/#29465" class="Bound">ϱ</a>
  <a id="29469" class="Keyword">rewrite</a> <a id="29477" href="/lia/part0/Equality/#405" class="Function">sym</a> <a id="29481" class="Symbol">(</a><a id="29482" href="/lia/part1/NormalForms/#8201" class="Function">wnnf-sound</a> <a id="29493" class="Symbol">(</a><a id="29494" href="/lia/part1/NormalForms/#26158" class="Function">removeImp</a> <a id="29504" class="Symbol">(</a><a id="29505" href="/lia/part1/Semantics/#56744" class="Function">simplify</a> <a id="29514" href="/lia/part1/NormalForms/#29463" class="Bound">φ</a><a id="29515" class="Symbol">))</a> <a id="29518" href="/lia/part1/NormalForms/#29465" class="Bound">ϱ</a><a id="29519" class="Symbol">)</a> <a id="29521" class="Symbol">|</a>
          <a id="29533" href="/lia/part0/Equality/#405" class="Function">sym</a> <a id="29537" class="Symbol">(</a><a id="29538" href="/lia/part1/NormalForms/#26188" class="Function">removeImp-sound</a> <a id="29554" class="Symbol">(</a><a id="29555" href="/lia/part1/Semantics/#56744" class="Function">simplify</a> <a id="29564" href="/lia/part1/NormalForms/#29463" class="Bound">φ</a><a id="29565" class="Symbol">)</a> <a id="29567" href="/lia/part1/NormalForms/#29465" class="Bound">ϱ</a><a id="29568" class="Symbol">)</a> <a id="29570" class="Symbol">|</a>
          <a id="29582" href="/lia/part0/Equality/#405" class="Function">sym</a> <a id="29586" class="Symbol">(</a><a id="29587" href="/lia/part1/Semantics/#58275" class="Function">simplify-sound</a> <a id="29602" href="/lia/part1/NormalForms/#29463" class="Bound">φ</a> <a id="29604" href="/lia/part1/NormalForms/#29465" class="Bound">ϱ</a><a id="29605" class="Symbol">)</a> <a id="29607" class="Symbol">=</a> <a id="29609" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>The <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> is the most basic normal form of interest. In the
following sections we will study stronger normal forms.</p>

<h1 id="DNF">
<a class="anchor" href="#DNF" aria-hidden="true"><span class="octicon octicon-link"></span></a>Disjunctive normal form</h1>

<p>Recall that a literal is either a variable or the negation of a
variable:</p>

<pre class="Agda"><a id="29853" class="Keyword">data</a> <a id="Literal"></a><a id="29858" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="29866" class="Symbol">:</a> <a id="29868" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="29876" class="Symbol">→</a> <a id="29878" class="PrimitiveType">Set</a> <a id="29882" class="Keyword">where</a>
  <a id="Literal.Pos"></a><a id="29890" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="29894" class="Symbol">:</a> <a id="29896" class="Symbol">(</a><a id="29897" href="/lia/part1/NormalForms/#29897" class="Bound">p</a> <a id="29899" class="Symbol">:</a> <a id="29901" href="/lia/part1/Semantics/#1069" class="Function">PropName</a><a id="29909" class="Symbol">)</a> <a id="29911" class="Symbol">→</a> <a id="29913" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="29921" class="Symbol">(</a><a id="29922" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="29924" href="/lia/part1/NormalForms/#29897" class="Bound">p</a><a id="29925" class="Symbol">)</a>
  <a id="Literal.Neg"></a><a id="29929" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="29933" class="Symbol">:</a> <a id="29935" class="Symbol">(</a><a id="29936" href="/lia/part1/NormalForms/#29936" class="Bound">p</a> <a id="29938" class="Symbol">:</a> <a id="29940" href="/lia/part1/Semantics/#1069" class="Function">PropName</a><a id="29948" class="Symbol">)</a> <a id="29950" class="Symbol">→</a> <a id="29952" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="29960" class="Symbol">(</a><a id="29961" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="29963" class="Symbol">(</a><a id="29964" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="29966" href="/lia/part1/NormalForms/#29936" class="Bound">p</a><a id="29967" class="Symbol">))</a></pre>

<p>A <em>clause</em> <code class="language-plaintext highlighter-rouge">C</code> is a non-empty conjunction of literals <code class="language-plaintext highlighter-rouge">l1 ∧ ⋯ ∧ lm</code>. It
is customary (and more convenient) to represent a clause as a non-empty
sequence of literals:</p>

<pre class="Agda"><a id="30146" class="Keyword">data</a> <a id="DNFClause"></a><a id="30151" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="30161" class="Symbol">:</a> <a id="30163" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="30171" class="Symbol">→</a> <a id="30173" class="PrimitiveType">Set</a> <a id="30177" class="Keyword">where</a>
  <a id="DNFClause._∙"></a><a id="30185" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">_∙</a> <a id="30188" class="Symbol">:</a> <a id="30190" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="30198" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="30200" class="Symbol">→</a> <a id="30202" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="30212" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a>
  <a id="DNFClause._,_"></a><a id="30216" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">_,_</a> <a id="30220" class="Symbol">:</a> <a id="30222" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="30230" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="30232" class="Symbol">→</a> <a id="30234" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="30244" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="30246" class="Symbol">→</a> <a id="30248" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="30258" class="Symbol">(</a><a id="30259" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="30261" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="30263" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a><a id="30264" class="Symbol">)</a></pre>

<p>A formula is in <em>disjunctive normal form</em> (DNF) if it is a disjunction
of clauses <code class="language-plaintext highlighter-rouge">C1 ∨ ⋯ ∨ Cn</code>:</p>

<pre class="Agda"><a id="30373" class="Keyword">data</a> <a id="DNF"></a><a id="30378" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="30382" class="Symbol">:</a> <a id="30384" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a>  <a id="30393" class="Symbol">→</a> <a id="30395" class="PrimitiveType">Set</a> <a id="30399" class="Keyword">where</a>
  <a id="DNF._∙"></a><a id="30407" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">_∙</a> <a id="30410" class="Symbol">:</a> <a id="30412" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="30422" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="30424" class="Symbol">→</a> <a id="30426" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="30430" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a>
  <a id="DNF._,_"></a><a id="30434" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">_,_</a> <a id="30438" class="Symbol">:</a> <a id="30440" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="30450" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="30452" class="Symbol">→</a> <a id="30454" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="30458" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="30460" class="Symbol">→</a> <a id="30462" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="30466" class="Symbol">(</a><a id="30467" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="30469" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="30471" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a><a id="30472" class="Symbol">)</a>

<a id="30475" class="Keyword">infix</a> <a id="30481" class="Number">11</a> <a id="30484" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">_∙</a></pre>

<div class="introbox">

  <p>All the notions of <a href="#Literal"><code class="language-plaintext highlighter-rouge">Literal</code></a> , <a href="#DNFClause"><code class="language-plaintext highlighter-rouge">DNFClause</code></a> ,
and <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> are decidable (proved by a standard inductive
argument):</p>

  <pre class="Agda"><a id="Literal?"></a><a id="30629" href="/lia/part1/NormalForms/#30629" class="Function">Literal?</a> <a id="30638" class="Symbol">:</a> <a id="30640" class="Symbol">∀</a> <a id="30642" href="/lia/part1/NormalForms/#30642" class="Bound">φ</a> <a id="30644" class="Symbol">→</a> <a id="30646" href="/lia/part0/Decidable/#150" class="Datatype">Dec</a> <a id="30650" class="Symbol">(</a><a id="30651" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="30659" href="/lia/part1/NormalForms/#30642" class="Bound">φ</a><a id="30660" class="Symbol">)</a>
<a id="DNFClause?"></a><a id="30662" href="/lia/part1/NormalForms/#30662" class="Function">DNFClause?</a> <a id="30673" class="Symbol">:</a> <a id="30675" class="Symbol">∀</a> <a id="30677" href="/lia/part1/NormalForms/#30677" class="Bound">φ</a> <a id="30679" class="Symbol">→</a> <a id="30681" href="/lia/part0/Decidable/#150" class="Datatype">Dec</a> <a id="30685" class="Symbol">(</a><a id="30686" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="30696" href="/lia/part1/NormalForms/#30677" class="Bound">φ</a><a id="30697" class="Symbol">)</a>
<a id="DNF?"></a><a id="30699" href="/lia/part1/NormalForms/#30699" class="Function">DNF?</a> <a id="30704" class="Symbol">:</a> <a id="30706" class="Symbol">∀</a> <a id="30708" href="/lia/part1/NormalForms/#30708" class="Bound">φ</a> <a id="30710" class="Symbol">→</a> <a id="30712" href="/lia/part0/Decidable/#150" class="Datatype">Dec</a> <a id="30716" class="Symbol">(</a><a id="30717" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="30721" href="/lia/part1/NormalForms/#30708" class="Bound">φ</a><a id="30722" class="Symbol">)</a></pre>

  <p><button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="30740" href="/lia/part1/NormalForms/#30629" class="Function">Literal?</a> <a id="30749" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="30751" class="Symbol">=</a> <a id="30753" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="30756" class="Symbol">λ</a> <a id="30758" class="Symbol">()</a>
<a id="30761" href="/lia/part1/NormalForms/#30629" class="Function">Literal?</a> <a id="30770" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="30772" class="Symbol">=</a> <a id="30774" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="30777" class="Symbol">λ</a> <a id="30779" class="Symbol">()</a>
<a id="30782" href="/lia/part1/NormalForms/#30629" class="Function">Literal?</a> <a id="30791" class="Symbol">(</a><a id="30792" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="30794" href="/lia/part1/NormalForms/#30794" class="Bound">p</a><a id="30795" class="Symbol">)</a> <a id="30797" class="Symbol">=</a> <a id="30799" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="30803" class="Symbol">(</a><a id="30804" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="30808" href="/lia/part1/NormalForms/#30794" class="Bound">p</a><a id="30809" class="Symbol">)</a>
<a id="30811" href="/lia/part1/NormalForms/#30629" class="Function">Literal?</a> <a id="30820" class="Symbol">(</a><a id="30821" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="30823" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a><a id="30824" class="Symbol">)</a> <a id="30826" class="Symbol">=</a> <a id="30828" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="30831" class="Symbol">λ</a> <a id="30833" class="Symbol">()</a>
<a id="30836" href="/lia/part1/NormalForms/#30629" class="Function">Literal?</a> <a id="30845" class="Symbol">(</a><a id="30846" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="30848" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a><a id="30849" class="Symbol">)</a> <a id="30851" class="Symbol">=</a> <a id="30853" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="30856" class="Symbol">λ</a> <a id="30858" class="Symbol">()</a>
<a id="30861" href="/lia/part1/NormalForms/#30629" class="Function">Literal?</a> <a id="30870" class="Symbol">(</a><a id="30871" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="30873" class="Symbol">(</a><a id="30874" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="30876" href="/lia/part1/NormalForms/#30876" class="Bound">p</a><a id="30877" class="Symbol">))</a> <a id="30880" class="Symbol">=</a> <a id="30882" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="30886" class="Symbol">(</a><a id="30887" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="30891" href="/lia/part1/NormalForms/#30876" class="Bound">p</a><a id="30892" class="Symbol">)</a>
<a id="30894" href="/lia/part1/NormalForms/#30629" class="Function">Literal?</a> <a id="30903" class="Symbol">(</a><a id="30904" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="30906" class="Symbol">(</a><a id="30907" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="30909" href="/lia/part1/NormalForms/#30909" class="Bound">φ</a><a id="30910" class="Symbol">))</a> <a id="30913" class="Symbol">=</a> <a id="30915" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="30918" class="Symbol">λ</a> <a id="30920" class="Symbol">()</a>
<a id="30923" href="/lia/part1/NormalForms/#30629" class="Function">Literal?</a> <a id="30932" class="Symbol">(</a><a id="30933" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="30935" class="Symbol">(</a><a id="30936" href="/lia/part1/NormalForms/#30936" class="Bound">φ</a> <a id="30938" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="30940" href="/lia/part1/NormalForms/#30940" class="Bound">ψ</a><a id="30941" class="Symbol">))</a> <a id="30944" class="Symbol">=</a> <a id="30946" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="30949" class="Symbol">λ</a> <a id="30951" class="Symbol">()</a>
<a id="30954" href="/lia/part1/NormalForms/#30629" class="Function">Literal?</a> <a id="30963" class="Symbol">(</a><a id="30964" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="30966" class="Symbol">(</a><a id="30967" href="/lia/part1/NormalForms/#30967" class="Bound">φ</a> <a id="30969" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="30971" href="/lia/part1/NormalForms/#30971" class="Bound">ψ</a><a id="30972" class="Symbol">))</a> <a id="30975" class="Symbol">=</a> <a id="30977" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="30980" class="Symbol">λ</a> <a id="30982" class="Symbol">()</a>
<a id="30985" href="/lia/part1/NormalForms/#30629" class="Function">Literal?</a> <a id="30994" class="Symbol">(</a><a id="30995" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="30997" class="Symbol">(</a><a id="30998" href="/lia/part1/NormalForms/#30998" class="Bound">φ</a> <a id="31000" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="31002" href="/lia/part1/NormalForms/#31002" class="Bound">ψ</a><a id="31003" class="Symbol">))</a> <a id="31006" class="Symbol">=</a> <a id="31008" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31011" class="Symbol">λ</a> <a id="31013" class="Symbol">()</a>
<a id="31016" href="/lia/part1/NormalForms/#30629" class="Function">Literal?</a> <a id="31025" class="Symbol">(</a><a id="31026" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="31028" class="Symbol">(</a><a id="31029" href="/lia/part1/NormalForms/#31029" class="Bound">φ</a> <a id="31031" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="31033" href="/lia/part1/NormalForms/#31033" class="Bound">ψ</a><a id="31034" class="Symbol">))</a> <a id="31037" class="Symbol">=</a> <a id="31039" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31042" class="Symbol">λ</a> <a id="31044" class="Symbol">()</a>
<a id="31047" href="/lia/part1/NormalForms/#30629" class="Function">Literal?</a> <a id="31056" class="Symbol">(</a><a id="31057" href="/lia/part1/NormalForms/#31057" class="Bound">φ</a> <a id="31059" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="31061" href="/lia/part1/NormalForms/#31061" class="Bound">ψ</a><a id="31062" class="Symbol">)</a> <a id="31064" class="Symbol">=</a> <a id="31066" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31069" class="Symbol">λ</a> <a id="31071" class="Symbol">()</a>
<a id="31074" href="/lia/part1/NormalForms/#30629" class="Function">Literal?</a> <a id="31083" class="Symbol">(</a><a id="31084" href="/lia/part1/NormalForms/#31084" class="Bound">φ</a> <a id="31086" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="31088" href="/lia/part1/NormalForms/#31088" class="Bound">ψ</a><a id="31089" class="Symbol">)</a> <a id="31091" class="Symbol">=</a> <a id="31093" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31096" class="Symbol">λ</a> <a id="31098" class="Symbol">()</a>
<a id="31101" href="/lia/part1/NormalForms/#30629" class="Function">Literal?</a> <a id="31110" class="Symbol">(</a><a id="31111" href="/lia/part1/NormalForms/#31111" class="Bound">φ</a> <a id="31113" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="31115" href="/lia/part1/NormalForms/#31115" class="Bound">ψ</a><a id="31116" class="Symbol">)</a> <a id="31118" class="Symbol">=</a> <a id="31120" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31123" class="Symbol">λ</a> <a id="31125" class="Symbol">()</a>
<a id="31128" href="/lia/part1/NormalForms/#30629" class="Function">Literal?</a> <a id="31137" class="Symbol">(</a><a id="31138" href="/lia/part1/NormalForms/#31138" class="Bound">φ</a> <a id="31140" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="31142" href="/lia/part1/NormalForms/#31142" class="Bound">ψ</a><a id="31143" class="Symbol">)</a> <a id="31145" class="Symbol">=</a> <a id="31147" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31150" class="Symbol">λ</a> <a id="31152" class="Symbol">()</a></pre>
  <pre class="Agda"><a id="31164" href="/lia/part1/NormalForms/#30662" class="Function">DNFClause?</a> <a id="31175" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="31177" class="Symbol">=</a> <a id="31179" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31182" class="Symbol">λ{(()</a> <a id="31188" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="31189" class="Symbol">)}</a>
<a id="31192" href="/lia/part1/NormalForms/#30662" class="Function">DNFClause?</a> <a id="31203" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="31205" class="Symbol">=</a> <a id="31207" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31210" class="Symbol">λ{(()</a> <a id="31216" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="31217" class="Symbol">)}</a>
<a id="31220" href="/lia/part1/NormalForms/#30662" class="Function">DNFClause?</a> <a id="31231" class="Symbol">(</a><a id="31232" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="31234" href="/lia/part1/NormalForms/#31234" class="Bound">p</a><a id="31235" class="Symbol">)</a> <a id="31237" class="Symbol">=</a> <a id="31239" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="31243" class="Symbol">(</a><a id="31244" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="31248" href="/lia/part1/NormalForms/#31234" class="Bound">p</a> <a id="31250" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="31251" class="Symbol">)</a>

<a id="31254" href="/lia/part1/NormalForms/#30662" class="Function">DNFClause?</a> <a id="31265" class="Symbol">(</a><a id="31266" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="31268" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a><a id="31269" class="Symbol">)</a> <a id="31271" class="Symbol">=</a> <a id="31273" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31276" class="Symbol">λ{(()</a> <a id="31282" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="31283" class="Symbol">)}</a>
<a id="31286" href="/lia/part1/NormalForms/#30662" class="Function">DNFClause?</a> <a id="31297" class="Symbol">(</a><a id="31298" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="31300" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a><a id="31301" class="Symbol">)</a> <a id="31303" class="Symbol">=</a> <a id="31305" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31308" class="Symbol">λ{(()</a> <a id="31314" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="31315" class="Symbol">)}</a>
<a id="31318" href="/lia/part1/NormalForms/#30662" class="Function">DNFClause?</a> <a id="31329" class="Symbol">(</a><a id="31330" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="31332" class="Symbol">(</a><a id="31333" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="31335" href="/lia/part1/NormalForms/#31335" class="Bound">p</a><a id="31336" class="Symbol">))</a> <a id="31339" class="Symbol">=</a> <a id="31341" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="31345" class="Symbol">(</a><a id="31346" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="31350" href="/lia/part1/NormalForms/#31335" class="Bound">p</a> <a id="31352" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="31353" class="Symbol">)</a>
<a id="31355" href="/lia/part1/NormalForms/#30662" class="Function">DNFClause?</a> <a id="31366" class="Symbol">(</a><a id="31367" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="31369" class="Symbol">(</a><a id="31370" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="31372" href="/lia/part1/NormalForms/#31372" class="Bound">φ</a><a id="31373" class="Symbol">))</a> <a id="31376" class="Symbol">=</a> <a id="31378" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31381" class="Symbol">λ{(()</a> <a id="31387" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="31388" class="Symbol">)}</a>
<a id="31391" href="/lia/part1/NormalForms/#30662" class="Function">DNFClause?</a> <a id="31402" class="Symbol">(</a><a id="31403" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="31405" class="Symbol">(</a><a id="31406" href="/lia/part1/NormalForms/#31406" class="Bound">φ</a> <a id="31408" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="31410" href="/lia/part1/NormalForms/#31410" class="Bound">ψ</a><a id="31411" class="Symbol">))</a> <a id="31414" class="Symbol">=</a> <a id="31416" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31419" class="Symbol">λ{(()</a> <a id="31425" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="31426" class="Symbol">)}</a>
<a id="31429" href="/lia/part1/NormalForms/#30662" class="Function">DNFClause?</a> <a id="31440" class="Symbol">(</a><a id="31441" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="31443" class="Symbol">(</a><a id="31444" href="/lia/part1/NormalForms/#31444" class="Bound">φ</a> <a id="31446" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="31448" href="/lia/part1/NormalForms/#31448" class="Bound">ψ</a><a id="31449" class="Symbol">))</a> <a id="31452" class="Symbol">=</a> <a id="31454" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31457" class="Symbol">λ{(()</a> <a id="31463" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="31464" class="Symbol">)}</a>
<a id="31467" href="/lia/part1/NormalForms/#30662" class="Function">DNFClause?</a> <a id="31478" class="Symbol">(</a><a id="31479" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="31481" class="Symbol">(</a><a id="31482" href="/lia/part1/NormalForms/#31482" class="Bound">φ</a> <a id="31484" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="31486" href="/lia/part1/NormalForms/#31486" class="Bound">ψ</a><a id="31487" class="Symbol">))</a> <a id="31490" class="Symbol">=</a> <a id="31492" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31495" class="Symbol">λ{(()</a> <a id="31501" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="31502" class="Symbol">)}</a>
<a id="31505" href="/lia/part1/NormalForms/#30662" class="Function">DNFClause?</a> <a id="31516" class="Symbol">(</a><a id="31517" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="31519" class="Symbol">(</a><a id="31520" href="/lia/part1/NormalForms/#31520" class="Bound">φ</a> <a id="31522" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="31524" href="/lia/part1/NormalForms/#31524" class="Bound">ψ</a><a id="31525" class="Symbol">))</a> <a id="31528" class="Symbol">=</a> <a id="31530" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31533" class="Symbol">λ{(()</a> <a id="31539" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="31540" class="Symbol">)}</a>

<a id="31544" href="/lia/part1/NormalForms/#30662" class="Function">DNFClause?</a> <a id="31555" class="Symbol">(</a><a id="31556" href="/lia/part1/NormalForms/#31556" class="Bound">φ</a> <a id="31558" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="31560" href="/lia/part1/NormalForms/#31560" class="Bound">ψ</a><a id="31561" class="Symbol">)</a> <a id="31563" class="Symbol">=</a> <a id="31565" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31568" class="Symbol">λ{(()</a> <a id="31574" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="31575" class="Symbol">)}</a>

<a id="31579" href="/lia/part1/NormalForms/#30662" class="Function">DNFClause?</a> <a id="31590" class="Symbol">(</a><a id="31591" href="/lia/part1/NormalForms/#31591" class="Bound">φ</a> <a id="31593" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="31595" href="/lia/part1/NormalForms/#31595" class="Bound">ψ</a><a id="31596" class="Symbol">)</a>
  <a id="31600" class="Keyword">with</a> <a id="31605" href="/lia/part1/NormalForms/#30629" class="Function">Literal?</a> <a id="31614" href="/lia/part1/NormalForms/#31591" class="Bound">φ</a> <a id="31616" class="Symbol">|</a> <a id="31618" href="/lia/part1/NormalForms/#30662" class="Function">DNFClause?</a> <a id="31629" href="/lia/part1/NormalForms/#31595" class="Bound">ψ</a>
<a id="31631" class="Symbol">...</a> <a id="31635" class="Symbol">|</a> <a id="31637" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="31641" href="/lia/part1/NormalForms/#31641" class="Bound">Literalφ</a> <a id="31650" class="Symbol">|</a> <a id="31652" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="31656" href="/lia/part1/NormalForms/#31656" class="Bound">DNFClauseψ</a> <a id="31667" class="Symbol">=</a> <a id="31669" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="31673" class="Symbol">(</a><a id="31674" href="/lia/part1/NormalForms/#31641" class="Bound">Literalφ</a> <a id="31683" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="31685" href="/lia/part1/NormalForms/#31656" class="Bound">DNFClauseψ</a><a id="31695" class="Symbol">)</a>
<a id="31697" class="Symbol">...</a> <a id="31701" class="Symbol">|</a> <a id="31703" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="31707" class="Symbol">_</a> <a id="31709" class="Symbol">|</a> <a id="31711" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31714" href="/lia/part1/NormalForms/#31714" class="Bound">~DNFClauseψ</a> <a id="31726" class="Symbol">=</a> <a id="31728" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31731" class="Symbol">λ{(_</a> <a id="31736" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="31738" href="/lia/part1/NormalForms/#31738" class="Bound">DNFClauseψ</a><a id="31748" class="Symbol">)</a> <a id="31750" class="Symbol">→</a> <a id="31752" href="/lia/part1/NormalForms/#31714" class="Bound">~DNFClauseψ</a> <a id="31764" href="/lia/part1/NormalForms/#31738" class="Bound">DNFClauseψ</a><a id="31774" class="Symbol">}</a>
<a id="31776" class="Symbol">...</a> <a id="31780" class="Symbol">|</a> <a id="31782" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31785" href="/lia/part1/NormalForms/#31785" class="Bound">~Literalφ</a> <a id="31795" class="Symbol">|</a> <a id="31797" class="Symbol">_</a> <a id="31799" class="Symbol">=</a> <a id="31801" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31804" class="Symbol">λ{(</a><a id="31807" href="/lia/part1/NormalForms/#31807" class="Bound">Literalφ</a> <a id="31816" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="31818" class="Symbol">_)</a> <a id="31821" class="Symbol">→</a> <a id="31823" href="/lia/part1/NormalForms/#31785" class="Bound">~Literalφ</a> <a id="31833" href="/lia/part1/NormalForms/#31807" class="Bound">Literalφ</a><a id="31841" class="Symbol">}</a>

<a id="31844" href="/lia/part1/NormalForms/#30662" class="Function">DNFClause?</a> <a id="31855" class="Symbol">(</a><a id="31856" href="/lia/part1/NormalForms/#31856" class="Bound">φ</a> <a id="31858" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="31860" href="/lia/part1/NormalForms/#31860" class="Bound">ψ</a><a id="31861" class="Symbol">)</a> <a id="31863" class="Symbol">=</a> <a id="31865" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31868" class="Symbol">λ{(()</a> <a id="31874" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="31875" class="Symbol">)}</a>
<a id="31878" href="/lia/part1/NormalForms/#30662" class="Function">DNFClause?</a> <a id="31889" class="Symbol">(</a><a id="31890" href="/lia/part1/NormalForms/#31890" class="Bound">φ</a> <a id="31892" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="31894" href="/lia/part1/NormalForms/#31894" class="Bound">ψ</a><a id="31895" class="Symbol">)</a> <a id="31897" class="Symbol">=</a> <a id="31899" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31902" class="Symbol">λ{(()</a> <a id="31908" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="31909" class="Symbol">)}</a></pre>
  <pre class="Agda"><a id="31921" href="/lia/part1/NormalForms/#30699" class="Function">DNF?</a> <a id="31926" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="31928" class="Symbol">=</a> <a id="31930" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31933" class="Symbol">λ{((()</a> <a id="31940" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="31941" class="Symbol">)</a> <a id="31943" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="31944" class="Symbol">)}</a>
<a id="31947" href="/lia/part1/NormalForms/#30699" class="Function">DNF?</a> <a id="31952" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="31954" class="Symbol">=</a> <a id="31956" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31959" class="Symbol">λ{((()</a> <a id="31966" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="31967" class="Symbol">)</a> <a id="31969" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="31970" class="Symbol">)}</a>
<a id="31973" href="/lia/part1/NormalForms/#30699" class="Function">DNF?</a> <a id="31978" class="Symbol">(</a><a id="31979" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="31981" href="/lia/part1/NormalForms/#31981" class="Bound">p</a><a id="31982" class="Symbol">)</a> <a id="31984" class="Symbol">=</a> <a id="31986" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="31990" class="Symbol">(</a><a id="31991" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="31995" href="/lia/part1/NormalForms/#31981" class="Bound">p</a> <a id="31997" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="31999" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="32000" class="Symbol">)</a>
<a id="32002" href="/lia/part1/NormalForms/#30699" class="Function">DNF?</a> <a id="32007" class="Symbol">(</a><a id="32008" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="32010" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a><a id="32011" class="Symbol">)</a> <a id="32013" class="Symbol">=</a> <a id="32015" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="32018" class="Symbol">λ{(()</a> <a id="32024" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="32026" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="32027" class="Symbol">)}</a>
<a id="32030" href="/lia/part1/NormalForms/#30699" class="Function">DNF?</a> <a id="32035" class="Symbol">(</a><a id="32036" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="32038" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a><a id="32039" class="Symbol">)</a> <a id="32041" class="Symbol">=</a> <a id="32043" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="32046" class="Symbol">λ{(()</a> <a id="32052" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="32054" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="32055" class="Symbol">)}</a>
<a id="32058" href="/lia/part1/NormalForms/#30699" class="Function">DNF?</a> <a id="32063" class="Symbol">(</a><a id="32064" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="32066" class="Symbol">(</a><a id="32067" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="32069" href="/lia/part1/NormalForms/#32069" class="Bound">p</a><a id="32070" class="Symbol">))</a> <a id="32073" class="Symbol">=</a> <a id="32075" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="32079" class="Symbol">(</a><a id="32080" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="32084" href="/lia/part1/NormalForms/#32069" class="Bound">p</a> <a id="32086" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="32088" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="32089" class="Symbol">)</a>
<a id="32091" href="/lia/part1/NormalForms/#30699" class="Function">DNF?</a> <a id="32096" class="Symbol">(</a><a id="32097" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="32099" class="Symbol">(</a><a id="32100" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="32102" href="/lia/part1/NormalForms/#32102" class="Bound">φ</a><a id="32103" class="Symbol">))</a> <a id="32106" class="Symbol">=</a> <a id="32108" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="32111" class="Symbol">λ{(()</a> <a id="32117" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="32119" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="32120" class="Symbol">)}</a>
<a id="32123" href="/lia/part1/NormalForms/#30699" class="Function">DNF?</a> <a id="32128" class="Symbol">(</a><a id="32129" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="32131" class="Symbol">(</a><a id="32132" href="/lia/part1/NormalForms/#32132" class="Bound">φ</a> <a id="32134" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="32136" href="/lia/part1/NormalForms/#32136" class="Bound">ψ</a><a id="32137" class="Symbol">))</a> <a id="32140" class="Symbol">=</a> <a id="32142" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="32145" class="Symbol">λ{(()</a> <a id="32151" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="32153" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="32154" class="Symbol">)}</a>
<a id="32157" href="/lia/part1/NormalForms/#30699" class="Function">DNF?</a> <a id="32162" class="Symbol">(</a><a id="32163" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="32165" class="Symbol">(</a><a id="32166" href="/lia/part1/NormalForms/#32166" class="Bound">φ</a> <a id="32168" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="32170" href="/lia/part1/NormalForms/#32170" class="Bound">ψ</a><a id="32171" class="Symbol">))</a> <a id="32174" class="Symbol">=</a> <a id="32176" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="32179" class="Symbol">λ{(()</a> <a id="32185" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="32187" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="32188" class="Symbol">)}</a>
<a id="32191" href="/lia/part1/NormalForms/#30699" class="Function">DNF?</a> <a id="32196" class="Symbol">(</a><a id="32197" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="32199" class="Symbol">(</a><a id="32200" href="/lia/part1/NormalForms/#32200" class="Bound">φ</a> <a id="32202" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="32204" href="/lia/part1/NormalForms/#32204" class="Bound">ψ</a><a id="32205" class="Symbol">))</a> <a id="32208" class="Symbol">=</a> <a id="32210" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="32213" class="Symbol">λ{(()</a> <a id="32219" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="32221" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="32222" class="Symbol">)}</a>
<a id="32225" href="/lia/part1/NormalForms/#30699" class="Function">DNF?</a> <a id="32230" class="Symbol">(</a><a id="32231" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="32233" class="Symbol">(</a><a id="32234" href="/lia/part1/NormalForms/#32234" class="Bound">φ</a> <a id="32236" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="32238" href="/lia/part1/NormalForms/#32238" class="Bound">ψ</a><a id="32239" class="Symbol">))</a> <a id="32242" class="Symbol">=</a> <a id="32244" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="32247" class="Symbol">λ{(()</a> <a id="32253" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="32255" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="32256" class="Symbol">)}</a>

<a id="32260" href="/lia/part1/NormalForms/#30699" class="Function">DNF?</a> <a id="32265" class="Symbol">(</a><a id="32266" href="/lia/part1/NormalForms/#32266" class="Bound">φ</a> <a id="32268" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="32270" href="/lia/part1/NormalForms/#32270" class="Bound">ψ</a><a id="32271" class="Symbol">)</a>
  <a id="32275" class="Keyword">with</a> <a id="32280" href="/lia/part1/NormalForms/#30662" class="Function">DNFClause?</a> <a id="32291" href="/lia/part1/NormalForms/#32266" class="Bound">φ</a> <a id="32293" class="Symbol">|</a> <a id="32295" href="/lia/part1/NormalForms/#30699" class="Function">DNF?</a> <a id="32300" href="/lia/part1/NormalForms/#32270" class="Bound">ψ</a>
<a id="32302" class="Symbol">...</a> <a id="32306" class="Symbol">|</a> <a id="32308" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="32312" href="/lia/part1/NormalForms/#32312" class="Bound">DNFClauseφ</a> <a id="32323" class="Symbol">|</a> <a id="32325" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="32329" href="/lia/part1/NormalForms/#32329" class="Bound">DNFψ</a> <a id="32334" class="Symbol">=</a> <a id="32336" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="32340" class="Symbol">(</a><a id="32341" href="/lia/part1/NormalForms/#32312" class="Bound">DNFClauseφ</a> <a id="32352" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="32354" href="/lia/part1/NormalForms/#32329" class="Bound">DNFψ</a><a id="32358" class="Symbol">)</a>
<a id="32360" class="Symbol">...</a> <a id="32364" class="Symbol">|</a> <a id="32366" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="32370" class="Symbol">_</a> <a id="32372" class="Symbol">|</a> <a id="32374" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="32377" href="/lia/part1/NormalForms/#32377" class="Bound">~DNFψ</a> <a id="32383" class="Symbol">=</a> <a id="32385" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="32388" class="Symbol">λ{</a> <a id="32391" class="Symbol">(()</a> <a id="32395" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="32397" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="32398" class="Symbol">);</a> <a id="32401" class="Symbol">(_</a> <a id="32404" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="32406" href="/lia/part1/NormalForms/#32406" class="Bound">DNFψ</a><a id="32410" class="Symbol">)</a> <a id="32412" class="Symbol">→</a> <a id="32414" href="/lia/part1/NormalForms/#32377" class="Bound">~DNFψ</a> <a id="32420" href="/lia/part1/NormalForms/#32406" class="Bound">DNFψ</a><a id="32424" class="Symbol">}</a>
<a id="32426" class="Symbol">...</a> <a id="32430" class="Symbol">|</a> <a id="32432" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="32435" href="/lia/part1/NormalForms/#32435" class="Bound">~DNFClauseφ</a> <a id="32447" class="Symbol">|</a> <a id="32449" class="Symbol">_</a> <a id="32451" class="Symbol">=</a> <a id="32453" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="32456" class="Symbol">λ{</a> <a id="32459" class="Symbol">(()</a> <a id="32463" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="32465" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="32466" class="Symbol">);</a> <a id="32469" class="Symbol">(</a><a id="32470" href="/lia/part1/NormalForms/#32470" class="Bound">DNFClauseφ</a> <a id="32481" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="32483" class="Symbol">_)</a> <a id="32486" class="Symbol">→</a> <a id="32488" href="/lia/part1/NormalForms/#32435" class="Bound">~DNFClauseφ</a> <a id="32500" href="/lia/part1/NormalForms/#32470" class="Bound">DNFClauseφ</a><a id="32510" class="Symbol">}</a>
  
<a id="32515" href="/lia/part1/NormalForms/#30699" class="Function">DNF?</a> <a id="32520" class="Symbol">(</a><a id="32521" href="/lia/part1/NormalForms/#32521" class="Bound">φ</a> <a id="32523" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="32525" href="/lia/part1/NormalForms/#32525" class="Bound">ψ</a><a id="32526" class="Symbol">)</a> <a id="32528" class="Keyword">with</a> <a id="32533" href="/lia/part1/NormalForms/#30662" class="Function">DNFClause?</a> <a id="32544" class="Symbol">(</a><a id="32545" href="/lia/part1/NormalForms/#32521" class="Bound">φ</a> <a id="32547" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="32549" href="/lia/part1/NormalForms/#32525" class="Bound">ψ</a><a id="32550" class="Symbol">)</a>
<a id="32552" class="Symbol">...</a> <a id="32556" class="Symbol">|</a> <a id="32558" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="32562" href="/lia/part1/NormalForms/#32562" class="Bound">DNFClause</a> <a id="32572" class="Symbol">=</a> <a id="32574" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="32578" class="Symbol">(</a><a id="32579" href="/lia/part1/NormalForms/#32562" class="Bound">DNFClause</a> <a id="32589" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="32590" class="Symbol">)</a>
<a id="32592" class="Symbol">...</a> <a id="32596" class="Symbol">|</a> <a id="32598" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="32601" href="/lia/part1/NormalForms/#32601" class="Bound">~DNFClause</a> <a id="32612" class="Symbol">=</a> <a id="32614" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="32617" class="Symbol">λ{</a> <a id="32620" class="Symbol">(</a><a id="32621" href="/lia/part1/NormalForms/#32621" class="Bound">DNFClause</a> <a id="32631" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="32632" class="Symbol">)</a> <a id="32634" class="Symbol">→</a> <a id="32636" href="/lia/part1/NormalForms/#32601" class="Bound">~DNFClause</a> <a id="32647" href="/lia/part1/NormalForms/#32621" class="Bound">DNFClause</a><a id="32656" class="Symbol">}</a>

<a id="32659" href="/lia/part1/NormalForms/#30699" class="Function">DNF?</a> <a id="32664" class="Symbol">(</a><a id="32665" href="/lia/part1/NormalForms/#32665" class="Bound">φ</a> <a id="32667" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="32669" href="/lia/part1/NormalForms/#32669" class="Bound">ψ</a><a id="32670" class="Symbol">)</a> <a id="32672" class="Symbol">=</a> <a id="32674" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="32677" class="Symbol">λ{(()</a> <a id="32683" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="32685" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="32686" class="Symbol">)}</a>
<a id="32689" href="/lia/part1/NormalForms/#30699" class="Function">DNF?</a> <a id="32694" class="Symbol">(</a><a id="32695" href="/lia/part1/NormalForms/#32695" class="Bound">φ</a> <a id="32697" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="32699" href="/lia/part1/NormalForms/#32699" class="Bound">ψ</a><a id="32700" class="Symbol">)</a> <a id="32702" class="Symbol">=</a> <a id="32704" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="32707" class="Symbol">λ{(()</a> <a id="32713" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="32715" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="32716" class="Symbol">)}</a>

<a id="ζ₀"></a><a id="32720" href="/lia/part1/NormalForms/#32720" class="Function">ζ₀</a> <a id="ζ₁"></a><a id="32723" href="/lia/part1/NormalForms/#32723" class="Function">ζ₁</a> <a id="ζ₂"></a><a id="32726" href="/lia/part1/NormalForms/#32726" class="Function">ζ₂</a> <a id="32729" class="Symbol">:</a> <a id="32731" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a></pre>

</div>

<div class="inlinecode">

  <p>Thus a <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> formula is an <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> formula where we
further constrain the way <a href="../../part0/Semantics#Formula._%E2%88%A8_"><code class="language-plaintext highlighter-rouge">_∨_</code></a> and
<a href="../../part0/Semantics#Formula._%E2%88%A7_"><code class="language-plaintext highlighter-rouge">_∧_</code></a> nest: While in <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a>
there is no restriction on nesting, in <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> we demand that the
formula is a “disjunction of conjunctions.” For example,</p>
  <pre class="Agda"><a id="33106" href="/lia/part1/NormalForms/#32720" class="Function">ζ₀</a> <a id="33109" class="Symbol">=</a> <a id="33111" class="Symbol">(</a><a id="33112" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="33114" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="33117" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="33119" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="33121" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="33123" href="/lia/part1/Semantics/#1197" class="Function">p₁</a><a id="33125" class="Symbol">)</a> <a id="33127" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="33129" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="33131" href="/lia/part1/Semantics/#1200" class="Function">p₂</a></pre>
  <p>is in <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> , but the following formulas are not:</p>
  <pre class="Agda"><a id="33195" href="/lia/part1/NormalForms/#32723" class="Function">ζ₁</a> <a id="33198" class="Symbol">=</a> <a id="33200" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="33202" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="33204" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="33206" href="/lia/part1/Semantics/#1200" class="Function">p₂</a></pre>
  <p>(double negation, not even in <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> ),</p>
  <pre class="Agda"><a id="33259" href="/lia/part1/NormalForms/#32726" class="Function">ζ₂</a> <a id="33262" class="Symbol">=</a> <a id="33264" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="33266" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="33269" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="33271" class="Symbol">(</a><a id="33272" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="33274" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="33277" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="33279" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="33281" href="/lia/part1/Semantics/#1200" class="Function">p₂</a><a id="33283" class="Symbol">)</a></pre>

  <p>(disjunction inside a conjunction).</p>

</div>

<pre class="Agda"><a id="33345" href="/lia/part1/NormalForms/#33345" class="Function">_</a> <a id="33347" class="Symbol">:</a> <a id="33349" href="/lia/part1/NormalForms/#30699" class="Function">DNF?</a> <a id="33354" href="/lia/part1/NormalForms/#32720" class="Function">ζ₀</a> <a id="33357" href="/lia/part0/Decidable/#628" class="Function Operator">×?</a> <a id="33360" href="/lia/part0/List/#11360" class="Function">All?</a> <a id="33365" class="Symbol">(</a><a id="33366" href="/lia/part0/Decidable/#1262" class="Function Operator">~?_</a> <a id="33370" href="/lia/part0/Utils/#686" class="Function Operator">∘</a> <a id="33372" href="/lia/part1/NormalForms/#30699" class="Function">DNF?</a><a id="33376" class="Symbol">)</a> <a id="33378" class="Symbol">(</a><a id="33379" href="/lia/part0/List/#1792" class="Function">[</a> <a id="33381" href="/lia/part1/NormalForms/#32723" class="Function">ζ₁</a> <a id="33384" href="/lia/part1/NormalForms/#32726" class="Function">ζ₂</a> <a id="33387" href="/lia/part0/List/#2043" class="Function Operator">]</a><a id="33388" class="Symbol">)</a> <a id="33390" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="33392" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="33396" class="Symbol">_</a>
<a id="33398" class="Symbol">_</a> <a id="33400" class="Symbol">=</a> <a id="33402" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:DNF-fragment" class="pandoc-numbering-text exercise"><strong>Exercise 4</strong></span></dt>
    <dd>Show that a <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> formula is in the <code class="language-plaintext highlighter-rouge">Formula[⊥,⊤,¬,∨,∧]</code>
fragment:</dd>
  </dl>

  <pre class="Agda"><a id="DNF-Formula[⊥,⊤,¬,∨,∧]"></a><a id="33526" href="/lia/part1/NormalForms/#33526" class="Function">DNF-Formula[⊥,⊤,¬,∨,∧]</a> <a id="33549" class="Symbol">:</a> <a id="33551" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="33555" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="33557" class="Symbol">→</a> <a id="33559" href="/lia/part1/Semantics/#62569" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="33578" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a></pre>

  <p><em>Hint</em>: It can be helpful to first prove that literals and clauses are
in the fragment. <span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:DNF-fragment-solution)
:::::::
-->

</div>

<p>In the rest of the section we show how to convert an arbitrary formula
to an equivalent one in <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> . In fact, we have already seen a
method achieving this: When discussing functional completeness for the
fragment containing only <a href="../../part1/CharacteristicFormulas#sec:fragmentOrAndNeg">conjunction, disjunction, and
negation</a> we
have shown such a method based on characteristic formulas. This was
performed by
<a href="../../part1/CharacteristicFormulas#funCompl%5B%C2%AC%E2%88%A8%E2%88%A7%5D"><code class="language-plaintext highlighter-rouge">funCompl[¬∨∧]</code></a>
and as a matter of fact it produces a formula in <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> , even
though we have not proved this. The drawback is that the method based on
characteristic formulas essentially relies on enumerating all satisfying
valuations and thus 1) it always takes exponential time to produce the
output formula, and 2) it produces <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> formulas which are as
big as the number of their satisfying valuations. For instance, in the
extreme case of a tautology such as <code class="language-plaintext highlighter-rouge">⊤</code> (which is already in
<a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> !), this will produce a formula of exponential size.</p>

<p>While in general an exponential blow-up is unavoidable when translating
a formula to <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> , we will explore here a syntactical approach
which avoids the blow-up at least in some “easy” cases.</p>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:merge-DNF-clauses" class="pandoc-numbering-text exercise"><strong>Exercise 5</strong></span></dt>
    <dd>As a warm up, show that we can “conjunctively merge” two clauses,
and similarly “disjunctively merge” two DNF’s (as in list
concatenation), while preserving the semantics:</dd>
  </dl>

  <pre class="Agda"><a id="_+∧+_"></a><a id="35883" href="/lia/part1/NormalForms/#35883" class="Function Operator">_+∧+_</a> <a id="35889" class="Symbol">:</a> <a id="35891" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="35901" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="35903" class="Symbol">→</a>
          <a id="35915" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="35925" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="35927" class="Symbol">→</a>
          <a id="35939" class="Comment">-------------------------------</a>
          <a id="35981" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="35984" href="/lia/part1/NormalForms/#35984" class="Bound">ξ</a> <a id="35986" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="35988" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="35998" href="/lia/part1/NormalForms/#35984" class="Bound">ξ</a> <a id="36000" href="/lia/part0/Logic/#1770" class="Record Operator">×</a> <a id="36002" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="36004" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="36006" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="36008" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="36010" href="/lia/part1/NormalForms/#35984" class="Bound">ξ</a>
          
<a id="_+++∨+++_"></a><a id="36023" href="/lia/part1/NormalForms/#36023" class="Function Operator">_+++∨+++_</a> <a id="36033" class="Symbol">:</a> <a id="36035" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="36039" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="36041" class="Symbol">→</a>
          <a id="36053" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="36057" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="36059" class="Symbol">→</a>
          <a id="36071" class="Comment">-------------------------</a>
          <a id="36107" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="36110" href="/lia/part1/NormalForms/#36110" class="Bound">ξ</a> <a id="36112" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="36114" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="36118" href="/lia/part1/NormalForms/#36110" class="Bound">ξ</a> <a id="36120" href="/lia/part0/Logic/#1770" class="Record Operator">×</a> <a id="36122" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="36124" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="36126" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="36128" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="36130" href="/lia/part1/NormalForms/#36110" class="Bound">ξ</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:merge-DNF-clauses-solution)
:::::::
-->

</div>

<p>We build <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> formulas using the distributivity of conjunction
over disjunction. In the case of a formula distributing over the
disjunction of two formulas, we have the <em>left distributivity rule</em>
(c.f. <a href="../../part1/Semantics#distrAndOr-left"><code class="language-plaintext highlighter-rouge">distrAndOr-left</code></a> ):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>φ ∧ (ψ ∨ ξ) ⟺ φ ∧ ψ ∨ φ ∧ ξ.
</code></pre></div></div>

<p>When <code class="language-plaintext highlighter-rouge">φ</code> and <code class="language-plaintext highlighter-rouge">ψ</code> are two clauses and <code class="language-plaintext highlighter-rouge">ξ</code> is a DNF, this gives us a
recipe to inductively construct a DNF whose first clause is <code class="language-plaintext highlighter-rouge">φ ∧ ψ</code>
(obtained by joining together two clauses with <a href="#_+%E2%88%A7+_"><code class="language-plaintext highlighter-rouge">_+∧+_</code></a> and the
rest of the DNF is recursively obtained by examining <code class="language-plaintext highlighter-rouge">φ ∧ ξ</code>:</p>

<pre class="Agda"><a id="37433" class="Keyword">infixr</a> <a id="37440" class="Number">9</a> <a id="37442" href="/lia/part1/NormalForms/#37450" class="Function Operator">_++∧++_</a>
<a id="_++∧++_"></a><a id="37450" href="/lia/part1/NormalForms/#37450" class="Function Operator">_++∧++_</a> <a id="37458" class="Symbol">:</a> <a id="37460" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="37470" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="37472" class="Symbol">→</a> <a id="37474" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="37478" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="37480" class="Symbol">→</a> <a id="37482" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="37485" href="/lia/part1/NormalForms/#37485" class="Bound">ξ</a> <a id="37487" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="37489" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="37493" href="/lia/part1/NormalForms/#37485" class="Bound">ξ</a> <a id="37495" href="/lia/part0/Logic/#1770" class="Record Operator">×</a> <a id="37497" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="37499" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="37501" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="37503" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="37505" href="/lia/part1/NormalForms/#37485" class="Bound">ξ</a>
<a id="37507" href="/lia/part1/NormalForms/#37450" class="Function Operator">_++∧++_</a> <a id="37515" class="Symbol">{</a><a id="37516" href="/lia/part1/NormalForms/#37516" class="Bound">φ</a><a id="37517" class="Symbol">}</a> <a id="37519" class="Symbol">{</a><a id="37520" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a><a id="37521" class="Symbol">}</a> <a id="37523" href="/lia/part1/NormalForms/#37523" class="Bound">Cφ</a> <a id="37526" href="/lia/part1/NormalForms/#37526" class="Bound">∅</a> <a id="37528" class="Symbol">=</a> <a id="37530" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="37532" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="37534" href="/lia/part1/NormalForms/#37526" class="Bound">∅</a> <a id="37536" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="37538" class="Symbol">λ</a> <a id="37540" href="/lia/part1/NormalForms/#37540" class="Bound">ϱ</a> <a id="37542" class="Symbol">→</a> <a id="37544" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>

<a id="37550" href="/lia/part1/NormalForms/#37450" class="CatchallClause Function Operator">_++∧++_</a><a id="37557" class="CatchallClause"> </a><a id="37558" class="CatchallClause Symbol">{</a><a id="37559" href="/lia/part1/NormalForms/#37559" class="CatchallClause Bound">φ</a><a id="37560" class="CatchallClause Symbol">}</a><a id="37561" class="CatchallClause"> </a><a id="37562" class="CatchallClause Symbol">{</a><a id="37563" href="/lia/part1/NormalForms/#37563" class="CatchallClause Bound">ψ</a><a id="37564" class="CatchallClause Symbol">}</a><a id="37565" class="CatchallClause"> </a><a id="37566" href="/lia/part1/NormalForms/#37566" class="CatchallClause Bound">Cφ</a><a id="37568" class="CatchallClause"> </a><a id="37569" class="CatchallClause Symbol">(</a><a id="37570" href="/lia/part1/NormalForms/#37570" class="CatchallClause Bound">Cψ</a><a id="37572" class="CatchallClause"> </a><a id="37573" href="/lia/part1/NormalForms/#30407" class="CatchallClause InductiveConstructor Operator">∙</a><a id="37574" class="CatchallClause Symbol">)</a>
  <a id="37578" class="Keyword">with</a> <a id="37583" href="/lia/part1/NormalForms/#37566" class="Bound">Cφ</a> <a id="37586" href="/lia/part1/NormalForms/#35883" class="Function Operator">+∧+</a> <a id="37590" href="/lia/part1/NormalForms/#37570" class="Bound">Cψ</a>
<a id="37593" class="Symbol">...</a> <a id="37597" class="Symbol">|</a> <a id="37599" href="/lia/part1/NormalForms/#37599" class="Bound">φψ</a> <a id="37602" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="37604" href="/lia/part1/NormalForms/#37604" class="Bound">Cφψ</a> <a id="37608" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="37610" href="/lia/part1/NormalForms/#37610" class="Bound">φ∧ψ⟺φψ</a> <a id="37617" class="Symbol">=</a> <a id="37619" href="/lia/part1/NormalForms/#37599" class="Bound">φψ</a> <a id="37622" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="37624" href="/lia/part1/NormalForms/#37604" class="Bound">Cφψ</a> <a id="37628" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a> <a id="37630" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="37632" href="/lia/part1/NormalForms/#37610" class="Bound">φ∧ψ⟺φψ</a>

<a id="37640" href="/lia/part1/NormalForms/#37450" class="Function Operator">_++∧++_</a> <a id="37648" class="Symbol">{</a><a id="37649" href="/lia/part1/NormalForms/#37649" class="Bound">φ</a><a id="37650" class="Symbol">}</a> <a id="37652" class="Symbol">{</a><a id="37653" href="/lia/part1/NormalForms/#37653" class="Bound">ψ</a> <a id="37655" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="37657" href="/lia/part1/NormalForms/#37657" class="Bound">ξ</a><a id="37658" class="Symbol">}</a> <a id="37660" href="/lia/part1/NormalForms/#37660" class="Bound">Cφ</a> <a id="37663" class="Symbol">(</a><a id="37664" href="/lia/part1/NormalForms/#37664" class="Bound">Cψ</a> <a id="37667" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="37669" href="/lia/part1/NormalForms/#37669" class="Bound">DNFξ</a><a id="37673" class="Symbol">)</a>
  <a id="37677" class="Keyword">with</a> <a id="37682" href="/lia/part1/NormalForms/#37660" class="Bound">Cφ</a> <a id="37685" href="/lia/part1/NormalForms/#35883" class="Function Operator">+∧+</a> <a id="37689" href="/lia/part1/NormalForms/#37664" class="Bound">Cψ</a> <a id="37692" class="Symbol">|</a>
       <a id="37701" href="/lia/part1/NormalForms/#37660" class="Bound">Cφ</a> <a id="37704" href="/lia/part1/NormalForms/#37450" class="Function Operator">++∧++</a> <a id="37710" href="/lia/part1/NormalForms/#37669" class="Bound">DNFξ</a>
<a id="37715" class="Symbol">...</a> <a id="37719" class="Symbol">|</a> <a id="37721" href="/lia/part1/NormalForms/#37721" class="Bound">φψ</a> <a id="37724" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="37726" href="/lia/part1/NormalForms/#37726" class="Bound">Cφψ</a> <a id="37730" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="37732" href="/lia/part1/NormalForms/#37732" class="Bound">φ∧ψ⟺φψ</a>
    <a id="37743" class="Symbol">|</a> <a id="37745" href="/lia/part1/NormalForms/#37745" class="Bound">η</a> <a id="37747" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="37749" href="/lia/part1/NormalForms/#37749" class="Bound">DNFη</a> <a id="37754" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="37756" href="/lia/part1/NormalForms/#37756" class="Bound">φ∧ξ⟺η</a> <a id="37762" class="Symbol">=</a> <a id="37764" href="/lia/part1/NormalForms/#37721" class="Bound">φψ</a> <a id="37767" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="37769" href="/lia/part1/NormalForms/#37745" class="Bound">η</a> <a id="37771" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="37773" class="Symbol">(</a><a id="37774" href="/lia/part1/NormalForms/#37726" class="Bound">Cφψ</a> <a id="37778" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="37780" href="/lia/part1/NormalForms/#37749" class="Bound">DNFη</a><a id="37784" class="Symbol">)</a> <a id="37786" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="37788" href="/lia/part1/NormalForms/#37809" class="Function">correctness</a> <a id="37800" class="Keyword">where</a>

  <a id="37809" href="/lia/part1/NormalForms/#37809" class="Function">correctness</a> <a id="37821" class="Symbol">:</a> <a id="37823" class="Bound">φ</a> <a id="37825" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="37827" class="Symbol">(</a><a id="37828" class="Bound">ψ</a> <a id="37830" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="37832" class="Bound">ξ</a><a id="37833" class="Symbol">)</a> <a id="37835" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="37837" href="/lia/part1/NormalForms/#37721" class="Bound">φψ</a> <a id="37840" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="37842" href="/lia/part1/NormalForms/#37745" class="Bound">η</a>
  <a id="37846" href="/lia/part1/NormalForms/#37809" class="Function">correctness</a> <a id="37858" href="/lia/part1/NormalForms/#37858" class="Bound">ϱ</a> <a id="37860" class="Keyword">rewrite</a> <a id="37868" href="/lia/part1/Semantics/#31733" class="Function">distrAndOr-left</a> <a id="37884" class="Bound">φ</a> <a id="37886" class="Bound">ψ</a> <a id="37888" class="Bound">ξ</a> <a id="37890" href="/lia/part1/NormalForms/#37858" class="Bound">ϱ</a> <a id="37892" class="Symbol">|</a>
                        <a id="37918" href="/lia/part1/NormalForms/#37732" class="Bound">φ∧ψ⟺φψ</a> <a id="37925" href="/lia/part1/NormalForms/#37858" class="Bound">ϱ</a> <a id="37927" class="Symbol">|</a>
                        <a id="37953" href="/lia/part1/NormalForms/#37756" class="Bound">φ∧ξ⟺η</a> <a id="37959" href="/lia/part1/NormalForms/#37858" class="Bound">ϱ</a> <a id="37961" class="Symbol">=</a> <a id="37963" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>For instance,</p>

<pre class="Agda"><a id="37992" href="/lia/part1/NormalForms/#37992" class="Function">_</a> <a id="37994" class="Symbol">:</a> <a id="37996" href="/lia/part0/Logic/#416" class="Field">dfst</a> <a id="38001" class="Symbol">(</a><a id="38002" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="38006" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="38009" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="38011" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="38015" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="38018" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="38020" href="/lia/part1/NormalForms/#37450" class="Function Operator">++∧++</a> <a id="38026" class="Symbol">(</a><a id="38027" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="38031" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="38034" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="38036" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="38040" href="/lia/part1/Semantics/#1200" class="Function">p₂</a> <a id="38043" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="38044" class="Symbol">)</a> <a id="38046" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="38048" class="Symbol">(</a><a id="38049" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="38053" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="38056" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="38058" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="38062" href="/lia/part1/Semantics/#1200" class="Function">p₂</a> <a id="38065" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="38066" class="Symbol">)</a> <a id="38068" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="38069" class="Symbol">)</a> <a id="38071" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a>
    <a id="38077" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="38079" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="38082" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="38084" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="38086" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="38088" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="38091" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="38093" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="38095" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="38098" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="38100" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="38102" href="/lia/part1/Semantics/#1200" class="Function">p₂</a> <a id="38105" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="38107" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="38109" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="38112" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="38114" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="38116" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="38118" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="38121" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="38123" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="38125" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="38127" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="38130" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="38132" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="38134" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="38136" href="/lia/part1/Semantics/#1200" class="Function">p₂</a>
<a id="38139" class="Symbol">_</a> <a id="38141" class="Symbol">=</a> <a id="38143" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>We want to “upgrade” the previous procedure in order to construct the
<a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> for the conjunction of two DNFs. This is achieved by the
following <em>right distributivity rule</em> (c.f.
<a href="../../part1/Semantics#distrAndOr-right"><code class="language-plaintext highlighter-rouge">distrAndOr-right</code></a> ):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(φ ∨ ψ) ∧ ξ ⟺ φ ∧ ξc ∨ ψ ∧ ξ,
</code></pre></div></div>

<p>where <code class="language-plaintext highlighter-rouge">φ</code> is a clause and <code class="language-plaintext highlighter-rouge">ψ</code>, <code class="language-plaintext highlighter-rouge">ξ</code> are DNFs. The rule above gives us a
recipe to transform the conjunction of the two DNFs <code class="language-plaintext highlighter-rouge">φ ∨ ψ</code> and <code class="language-plaintext highlighter-rouge">ξ</code> into
a DNF whose first disjunct is <code class="language-plaintext highlighter-rouge">φ ∨ ψ</code> (computed according to
<a href="#_++%E2%88%A7++_"><code class="language-plaintext highlighter-rouge">_++∧++_</code></a> ) and the rest of which is recursively computed by
examining <code class="language-plaintext highlighter-rouge">ψ ∧ ξ</code>:</p>

<pre class="Agda"><a id="_+++∧+++_"></a><a id="38715" href="/lia/part1/NormalForms/#38715" class="Function Operator">_+++∧+++_</a> <a id="38725" class="Symbol">:</a> <a id="38727" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="38731" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="38733" class="Symbol">→</a> <a id="38735" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="38739" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="38741" class="Symbol">→</a> <a id="38743" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="38746" href="/lia/part1/NormalForms/#38746" class="Bound">ξ</a> <a id="38748" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="38750" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="38754" href="/lia/part1/NormalForms/#38746" class="Bound">ξ</a> <a id="38756" href="/lia/part0/Logic/#1770" class="Record Operator">×</a> <a id="38758" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="38760" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="38762" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="38764" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="38766" href="/lia/part1/NormalForms/#38746" class="Bound">ξ</a>
<a id="38768" href="/lia/part1/NormalForms/#38715" class="Function Operator">_+++∧+++_</a> <a id="38778" class="Symbol">{</a><a id="38779" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a><a id="38780" class="Symbol">}</a> <a id="38782" class="Symbol">{</a><a id="38783" href="/lia/part1/NormalForms/#38783" class="Bound">ψ</a><a id="38784" class="Symbol">}</a> <a id="38786" href="/lia/part1/NormalForms/#38786" class="Bound">∅</a> <a id="38788" href="/lia/part1/NormalForms/#38788" class="Bound">DNFψ</a> <a id="38793" class="Symbol">=</a> <a id="38795" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="38797" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="38799" href="/lia/part1/NormalForms/#38786" class="Bound">∅</a> <a id="38801" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="38803" class="Symbol">λ</a> <a id="38805" href="/lia/part1/NormalForms/#38805" class="Bound">ϱ</a> <a id="38807" class="Symbol">→</a> <a id="38809" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>

<a id="38815" href="/lia/part1/NormalForms/#38715" class="CatchallClause Function Operator">_+++∧+++_</a><a id="38824" class="CatchallClause"> </a><a id="38825" class="CatchallClause Symbol">{</a><a id="38826" href="/lia/part1/NormalForms/#38826" class="CatchallClause Bound">φ</a><a id="38827" class="CatchallClause Symbol">}</a><a id="38828" class="CatchallClause"> </a><a id="38829" class="CatchallClause Symbol">{</a><a id="38830" href="/lia/part1/NormalForms/#38830" class="CatchallClause Bound">ψ</a><a id="38831" class="CatchallClause Symbol">}</a><a id="38832" class="CatchallClause"> </a><a id="38833" class="CatchallClause Symbol">(</a><a id="38834" href="/lia/part1/NormalForms/#38834" class="CatchallClause Bound">Cφ</a><a id="38836" class="CatchallClause"> </a><a id="38837" href="/lia/part1/NormalForms/#30407" class="CatchallClause InductiveConstructor Operator">∙</a><a id="38838" class="CatchallClause Symbol">)</a><a id="38839" class="CatchallClause"> </a><a id="38840" href="/lia/part1/NormalForms/#38840" class="CatchallClause Bound">DNFψ</a> <a id="38845" class="Symbol">=</a> <a id="38847" href="/lia/part1/NormalForms/#38834" class="Bound">Cφ</a> <a id="38850" href="/lia/part1/NormalForms/#37450" class="Function Operator">++∧++</a> <a id="38856" href="/lia/part1/NormalForms/#38840" class="Bound">DNFψ</a>

<a id="38862" href="/lia/part1/NormalForms/#38715" class="Function Operator">_+++∧+++_</a> <a id="38872" class="Symbol">{</a><a id="38873" href="/lia/part1/NormalForms/#38873" class="Bound">φ</a> <a id="38875" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="38877" href="/lia/part1/NormalForms/#38877" class="Bound">φ'</a><a id="38879" class="Symbol">}</a> <a id="38881" class="Symbol">{</a><a id="38882" href="/lia/part1/NormalForms/#38882" class="Bound">ψ</a><a id="38883" class="Symbol">}</a> <a id="38885" class="Symbol">(</a><a id="38886" href="/lia/part1/NormalForms/#38886" class="Bound">Cφ</a> <a id="38889" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="38891" href="/lia/part1/NormalForms/#38891" class="Bound">DNFφ'</a><a id="38896" class="Symbol">)</a> <a id="38898" href="/lia/part1/NormalForms/#38898" class="Bound">DNFψ</a>
  <a id="38905" class="Keyword">with</a> <a id="38910" href="/lia/part1/NormalForms/#38886" class="Bound">Cφ</a> <a id="38913" href="/lia/part1/NormalForms/#37450" class="Function Operator">++∧++</a> <a id="38919" href="/lia/part1/NormalForms/#38898" class="Bound">DNFψ</a>    <a id="38927" class="Symbol">|</a> <a id="38929" href="/lia/part1/NormalForms/#38891" class="Bound">DNFφ'</a> <a id="38935" href="/lia/part1/NormalForms/#38715" class="Function Operator">+++∧+++</a> <a id="38943" href="/lia/part1/NormalForms/#38898" class="Bound">DNFψ</a>
<a id="38948" class="Symbol">...</a> <a id="38952" class="Symbol">|</a> <a id="38954" href="/lia/part1/NormalForms/#38954" class="Bound">ξ</a> <a id="38956" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="38958" href="/lia/part1/NormalForms/#38958" class="Bound">DNFξ</a> <a id="38963" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="38965" href="/lia/part1/NormalForms/#38965" class="Bound">φ∧ψ⟺ξ</a> <a id="38971" class="Symbol">|</a> <a id="38973" href="/lia/part1/NormalForms/#38973" class="Bound">η</a> <a id="38975" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="38977" href="/lia/part1/NormalForms/#38977" class="Bound">DNFη</a> <a id="38982" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="38984" href="/lia/part1/NormalForms/#38984" class="Bound">φ'∧ψ⟺η</a>
  <a id="38993" class="Keyword">with</a> <a id="38998" href="/lia/part1/NormalForms/#38958" class="Bound">DNFξ</a> <a id="39003" href="/lia/part1/NormalForms/#36023" class="Function Operator">+++∨+++</a> <a id="39011" href="/lia/part1/NormalForms/#38977" class="Bound">DNFη</a>
<a id="39016" class="Symbol">...</a> <a id="39020" class="Symbol">|</a> <a id="39022" href="/lia/part1/NormalForms/#39022" class="Bound">μ</a> <a id="39024" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="39026" href="/lia/part1/NormalForms/#39026" class="Bound">DNFμ</a> <a id="39031" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="39033" href="/lia/part1/NormalForms/#39033" class="Bound">ξ∨η⟺μ</a> <a id="39039" class="Symbol">=</a> <a id="39041" href="/lia/part1/NormalForms/#39022" class="Bound">μ</a> <a id="39043" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="39045" href="/lia/part1/NormalForms/#39026" class="Bound">DNFμ</a> <a id="39050" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="39052" href="/lia/part1/NormalForms/#39073" class="Function">correctness</a> <a id="39064" class="Keyword">where</a>

  <a id="39073" href="/lia/part1/NormalForms/#39073" class="Function">correctness</a> <a id="39085" class="Symbol">:</a> <a id="39087" class="Symbol">(</a><a id="39088" class="Bound">φ</a> <a id="39090" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="39092" class="Bound">φ'</a><a id="39094" class="Symbol">)</a> <a id="39096" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="39098" class="Bound">ψ</a> <a id="39100" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="39102" href="/lia/part1/NormalForms/#39022" class="Bound">μ</a>
  <a id="39106" href="/lia/part1/NormalForms/#39073" class="Function">correctness</a> <a id="39118" href="/lia/part1/NormalForms/#39118" class="Bound">ϱ</a> <a id="39120" class="Keyword">rewrite</a>
    <a id="39132" href="/lia/part1/Semantics/#31789" class="Function">distrAndOr-right</a> <a id="39149" class="Bound">φ</a> <a id="39151" class="Bound">φ'</a> <a id="39154" class="Bound">ψ</a> <a id="39156" href="/lia/part1/NormalForms/#39118" class="Bound">ϱ</a> <a id="39158" class="Symbol">|</a>
    <a id="39164" class="Bound">φ'∧ψ⟺η</a> <a id="39171" href="/lia/part1/NormalForms/#39118" class="Bound">ϱ</a> <a id="39173" class="Symbol">|</a>
    <a id="39179" class="Bound">φ∧ψ⟺ξ</a> <a id="39185" href="/lia/part1/NormalForms/#39118" class="Bound">ϱ</a> <a id="39187" class="Symbol">|</a>
    <a id="39193" href="/lia/part1/NormalForms/#39033" class="Bound">ξ∨η⟺μ</a> <a id="39199" href="/lia/part1/NormalForms/#39118" class="Bound">ϱ</a> <a id="39201" class="Symbol">=</a> <a id="39203" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<h2 id="basic-transformation">
<a class="anchor" href="#basic-transformation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Basic transformation</h2>

<p>We are now ready to present a translation from <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> formulas to
equivalent <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> ones.</p>

<pre class="Agda"><a id="dnf1"></a><a id="39339" href="/lia/part1/NormalForms/#39339" class="Function">dnf1</a> <a id="39344" class="Symbol">:</a> <a id="39346" href="/lia/part1/NormalForms/#22452" class="Datatype">NNF</a> <a id="39350" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="39352" class="Symbol">→</a> <a id="39354" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="39357" href="/lia/part1/NormalForms/#39357" class="Bound">ψ</a> <a id="39359" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="39361" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="39365" href="/lia/part1/NormalForms/#39357" class="Bound">ψ</a> <a id="39367" href="/lia/part0/Logic/#1770" class="Record Operator">×</a> <a id="39369" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="39371" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="39373" href="/lia/part1/NormalForms/#39357" class="Bound">ψ</a></pre>

<p>The base cases are immediate:</p>

<pre class="Agda"><a id="39415" href="/lia/part1/NormalForms/#39339" class="Function">dnf1</a> <a id="39420" href="/lia/part1/NormalForms/#22480" class="InductiveConstructor">⊤</a> <a id="39422" class="Symbol">=</a> <a id="39424" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="39426" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="39429" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="39431" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="39433" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="39435" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="39438" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="39440" class="Symbol">(</a><a id="39441" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="39445" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="39448" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="39450" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="39452" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="39456" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="39459" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="39461" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="39462" class="Symbol">)</a> <a id="39464" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="39466" class="Symbol">λ</a> <a id="39468" href="/lia/part1/NormalForms/#39468" class="Bound">ϱ</a> <a id="39470" class="Symbol">→</a> <a id="39472" href="/lia/part0/Equality/#405" class="Function">sym</a> <a id="39476" class="Symbol">(</a><a id="39477" href="/lia/part1/Semantics/#24710" class="Function">LEM</a> <a id="39481" href="/lia/part1/NormalForms/#39468" class="Bound">ϱ</a><a id="39482" class="Symbol">)</a>
<a id="39484" href="/lia/part1/NormalForms/#39339" class="Function">dnf1</a> <a id="39489" href="/lia/part1/NormalForms/#22492" class="InductiveConstructor">⊥</a> <a id="39491" class="Symbol">=</a> <a id="39493" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="39495" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="39498" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="39500" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="39502" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="39504" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="39507" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="39509" class="Symbol">(</a><a id="39510" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="39514" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="39517" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="39519" class="Symbol">(</a><a id="39520" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="39524" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="39527" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="39528" class="Symbol">)</a> <a id="39530" class="Symbol">)</a> <a id="39532" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a> <a id="39534" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="39536" class="Symbol">λ</a> <a id="39538" href="/lia/part1/NormalForms/#39538" class="Bound">ϱ</a> <a id="39540" class="Symbol">→</a> <a id="39542" href="/lia/part0/Equality/#405" class="Function">sym</a> <a id="39546" class="Symbol">(</a><a id="39547" href="/lia/part1/Semantics/#39747" class="Function">p∧¬p⟺⊥</a> <a id="39554" href="/lia/part1/NormalForms/#39538" class="Bound">ϱ</a><a id="39555" class="Symbol">)</a>
<a id="39557" href="/lia/part1/NormalForms/#39339" class="Function">dnf1</a> <a id="39562" class="Symbol">(</a><a id="39563" href="/lia/part1/NormalForms/#22504" class="InductiveConstructor Operator">`</a> <a id="39565" href="/lia/part1/NormalForms/#39565" class="Bound">p</a><a id="39566" class="Symbol">)</a> <a id="39568" class="Symbol">=</a> <a id="39570" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="39572" href="/lia/part1/NormalForms/#39565" class="Bound">p</a> <a id="39574" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="39576" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="39580" href="/lia/part1/NormalForms/#39565" class="Bound">p</a> <a id="39582" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="39584" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a> <a id="39586" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="39588" class="Symbol">λ</a> <a id="39590" href="/lia/part1/NormalForms/#39590" class="Bound">ϱ</a> <a id="39592" class="Symbol">→</a> <a id="39594" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="39599" href="/lia/part1/NormalForms/#39339" class="Function">dnf1</a> <a id="39604" class="Symbol">(</a><a id="39605" href="/lia/part1/NormalForms/#22538" class="InductiveConstructor Operator">¬`</a> <a id="39608" href="/lia/part1/NormalForms/#39608" class="Bound">p</a><a id="39609" class="Symbol">)</a> <a id="39611" class="Symbol">=</a> <a id="39613" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="39615" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="39617" href="/lia/part1/NormalForms/#39608" class="Bound">p</a> <a id="39619" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="39621" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="39625" href="/lia/part1/NormalForms/#39608" class="Bound">p</a> <a id="39627" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="39629" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a> <a id="39631" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="39633" class="Symbol">λ</a> <a id="39635" href="/lia/part1/NormalForms/#39635" class="Bound">ϱ</a> <a id="39637" class="Symbol">→</a> <a id="39639" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>In the inductive cases (disjunction or conjunction) we first recursively
compute the DNFs of the subformulas and then we combine them.
Disjunctions are easy since DNF formulas are closed under disjunction,
with no blowup (c.f. <a href="#_+++%E2%88%A8+++_"><code class="language-plaintext highlighter-rouge">_+++∨+++_</code></a> ):</p>

<pre class="Agda"><a id="39899" href="/lia/part1/NormalForms/#39339" class="Function">dnf1</a> <a id="39904" class="Symbol">{</a><a id="39905" href="/lia/part1/NormalForms/#39905" class="Bound">φ</a> <a id="39907" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="39909" href="/lia/part1/NormalForms/#39909" class="Bound">ψ</a><a id="39910" class="Symbol">}</a> <a id="39912" class="Symbol">(</a><a id="39913" href="/lia/part1/NormalForms/#39913" class="Bound">NNFφ</a> <a id="39918" href="/lia/part1/NormalForms/#22611" class="InductiveConstructor Operator">∨</a> <a id="39920" href="/lia/part1/NormalForms/#39920" class="Bound">NNFψ</a><a id="39924" class="Symbol">)</a>
  <a id="39928" class="Keyword">with</a> <a id="39933" href="/lia/part1/NormalForms/#39339" class="Function">dnf1</a> <a id="39938" href="/lia/part1/NormalForms/#39913" class="Bound">NNFφ</a>          <a id="39952" class="Symbol">|</a> <a id="39954" href="/lia/part1/NormalForms/#39339" class="Function">dnf1</a> <a id="39959" href="/lia/part1/NormalForms/#39920" class="Bound">NNFψ</a>
<a id="39964" class="Symbol">...</a> <a id="39968" class="Symbol">|</a> <a id="39970" href="/lia/part1/NormalForms/#39970" class="Bound">φ'</a> <a id="39973" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="39975" href="/lia/part1/NormalForms/#39975" class="Bound">DNFφ'</a> <a id="39981" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="39983" href="/lia/part1/NormalForms/#39983" class="Bound">φ⟺φ'</a> <a id="39988" class="Symbol">|</a> <a id="39990" href="/lia/part1/NormalForms/#39990" class="Bound">ψ'</a> <a id="39993" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="39995" href="/lia/part1/NormalForms/#39995" class="Bound">DNFψ'</a> <a id="40001" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="40003" href="/lia/part1/NormalForms/#40003" class="Bound">ψ⟺ψ'</a>
  <a id="40010" class="Keyword">with</a> <a id="40015" href="/lia/part1/NormalForms/#39975" class="Bound">DNFφ'</a> <a id="40021" href="/lia/part1/NormalForms/#36023" class="Function Operator">+++∨+++</a> <a id="40029" href="/lia/part1/NormalForms/#39995" class="Bound">DNFψ'</a>
<a id="40035" class="Symbol">...</a> <a id="40039" class="Symbol">|</a> <a id="40041" href="/lia/part1/NormalForms/#40041" class="Bound">ξ</a> <a id="40043" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="40045" href="/lia/part1/NormalForms/#40045" class="Bound">DNFξ</a> <a id="40050" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="40052" href="/lia/part1/NormalForms/#40052" class="Bound">φ'∨ψ'⟺ξ</a> <a id="40060" class="Symbol">=</a> <a id="40062" href="/lia/part1/NormalForms/#40041" class="Bound">ξ</a> <a id="40064" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="40066" href="/lia/part1/NormalForms/#40045" class="Bound">DNFξ</a> <a id="40071" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="40073" href="/lia/part1/NormalForms/#40094" class="Function">correctness</a> <a id="40085" class="Keyword">where</a>

  <a id="40094" href="/lia/part1/NormalForms/#40094" class="Function">correctness</a> <a id="40106" class="Symbol">:</a> <a id="40108" class="Bound">φ</a> <a id="40110" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="40112" class="Bound">ψ</a> <a id="40114" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="40116" href="/lia/part1/NormalForms/#40041" class="Bound">ξ</a>
  <a id="40120" href="/lia/part1/NormalForms/#40094" class="Function">correctness</a> <a id="40132" href="/lia/part1/NormalForms/#40132" class="Bound">ϱ</a> <a id="40134" class="Keyword">rewrite</a> <a id="40142" class="Bound">φ⟺φ'</a> <a id="40147" href="/lia/part1/NormalForms/#40132" class="Bound">ϱ</a> <a id="40149" class="Symbol">|</a> <a id="40151" class="Bound">ψ⟺ψ'</a> <a id="40156" href="/lia/part1/NormalForms/#40132" class="Bound">ϱ</a> <a id="40158" class="Symbol">|</a> <a id="40160" href="/lia/part1/NormalForms/#40052" class="Bound">φ'∨ψ'⟺ξ</a> <a id="40168" href="/lia/part1/NormalForms/#40132" class="Bound">ϱ</a> <a id="40170" class="Symbol">=</a> <a id="40172" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>Conjunctions are harder, but <a href="#_+++%E2%88%A7+++_"><code class="language-plaintext highlighter-rouge">_+++∧+++_</code></a> will do the
trick:</p>

<pre class="Agda"><a id="40251" href="/lia/part1/NormalForms/#39339" class="Function">dnf1</a> <a id="40256" class="Symbol">{</a><a id="40257" href="/lia/part1/NormalForms/#40257" class="Bound">φ</a> <a id="40259" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="40261" href="/lia/part1/NormalForms/#40261" class="Bound">ψ</a><a id="40262" class="Symbol">}</a> <a id="40264" class="Symbol">(</a><a id="40265" href="/lia/part1/NormalForms/#40265" class="Bound">NNFφ</a> <a id="40270" href="/lia/part1/NormalForms/#22575" class="InductiveConstructor Operator">∧</a> <a id="40272" href="/lia/part1/NormalForms/#40272" class="Bound">NNFψ</a><a id="40276" class="Symbol">)</a>
  <a id="40280" class="Keyword">with</a> <a id="40285" href="/lia/part1/NormalForms/#39339" class="Function">dnf1</a> <a id="40290" href="/lia/part1/NormalForms/#40265" class="Bound">NNFφ</a> <a id="40295" class="Symbol">|</a> <a id="40297" href="/lia/part1/NormalForms/#39339" class="Function">dnf1</a> <a id="40302" href="/lia/part1/NormalForms/#40272" class="Bound">NNFψ</a>
<a id="40307" class="Symbol">...</a> <a id="40311" class="Symbol">|</a> <a id="40313" href="/lia/part1/NormalForms/#40313" class="Bound">φ'</a> <a id="40316" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="40318" href="/lia/part1/NormalForms/#40318" class="Bound">DNFφ'</a> <a id="40324" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="40326" href="/lia/part1/NormalForms/#40326" class="Bound">φ⟺φ'</a> <a id="40331" class="Symbol">|</a> <a id="40333" href="/lia/part1/NormalForms/#40333" class="Bound">ψ'</a> <a id="40336" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="40338" href="/lia/part1/NormalForms/#40338" class="Bound">DNFψ'</a> <a id="40344" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="40346" href="/lia/part1/NormalForms/#40346" class="Bound">ψ⟺ψ'</a>
  <a id="40353" class="Keyword">with</a> <a id="40358" href="/lia/part1/NormalForms/#40318" class="Bound">DNFφ'</a> <a id="40364" href="/lia/part1/NormalForms/#38715" class="Function Operator">+++∧+++</a> <a id="40372" href="/lia/part1/NormalForms/#40338" class="Bound">DNFψ'</a>
<a id="40378" class="Symbol">...</a> <a id="40382" class="Symbol">|</a> <a id="40384" href="/lia/part1/NormalForms/#40384" class="Bound">ξ</a> <a id="40386" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="40388" href="/lia/part1/NormalForms/#40388" class="Bound">DNFξ</a> <a id="40393" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="40395" href="/lia/part1/NormalForms/#40395" class="Bound">φ'∧ψ'⟺ξ</a> <a id="40403" class="Symbol">=</a> <a id="40405" href="/lia/part1/NormalForms/#40384" class="Bound">ξ</a> <a id="40407" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="40409" href="/lia/part1/NormalForms/#40388" class="Bound">DNFξ</a> <a id="40414" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="40416" href="/lia/part1/NormalForms/#40437" class="Function">correctness</a> <a id="40428" class="Keyword">where</a>

  <a id="40437" href="/lia/part1/NormalForms/#40437" class="Function">correctness</a> <a id="40449" class="Symbol">:</a> <a id="40451" class="Bound">φ</a> <a id="40453" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="40455" class="Bound">ψ</a> <a id="40457" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="40459" href="/lia/part1/NormalForms/#40384" class="Bound">ξ</a>
  <a id="40463" href="/lia/part1/NormalForms/#40437" class="Function">correctness</a> <a id="40475" href="/lia/part1/NormalForms/#40475" class="Bound">ϱ</a> <a id="40477" class="Keyword">rewrite</a> <a id="40485" class="Bound">φ⟺φ'</a> <a id="40490" href="/lia/part1/NormalForms/#40475" class="Bound">ϱ</a> <a id="40492" class="Symbol">|</a> <a id="40494" class="Bound">ψ⟺ψ'</a> <a id="40499" href="/lia/part1/NormalForms/#40475" class="Bound">ϱ</a> <a id="40501" class="Symbol">|</a> <a id="40503" href="/lia/part1/NormalForms/#40395" class="Bound">φ'∧ψ'⟺ξ</a> <a id="40511" href="/lia/part1/NormalForms/#40475" class="Bound">ϱ</a> <a id="40513" class="Symbol">=</a> <a id="40515" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>For example,</p>

<pre class="Agda"><a id="40543" href="/lia/part1/NormalForms/#40543" class="Function">_</a> <a id="40545" class="Symbol">:</a> <a id="40547" href="/lia/part0/Logic/#416" class="Field">dfst</a> <a id="40552" class="Symbol">(</a><a id="40553" href="/lia/part1/NormalForms/#39339" class="Function">dnf1</a> <a id="40558" class="Symbol">(</a><a id="40559" href="/lia/part1/NormalForms/#22492" class="InductiveConstructor">⊥</a> <a id="40561" href="/lia/part1/NormalForms/#22575" class="InductiveConstructor Operator">∧</a> <a id="40563" href="/lia/part1/NormalForms/#22504" class="InductiveConstructor Operator">`</a> <a id="40565" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="40567" class="Symbol">))</a> <a id="40570" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="40572" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="40574" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="40577" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="40579" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="40581" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="40583" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="40586" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="40588" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="40590" href="/lia/part1/Semantics/#1194" class="Function">p₀</a>              <a id="40606" href="/lia/part0/Logic/#1770" class="Record Operator">×</a>
    <a id="40612" href="/lia/part0/Logic/#416" class="Field">dfst</a> <a id="40617" class="Symbol">(</a><a id="40618" href="/lia/part1/NormalForms/#39339" class="Function">dnf1</a> <a id="40623" class="Symbol">(</a><a id="40624" href="/lia/part1/NormalForms/#22480" class="InductiveConstructor">⊤</a> <a id="40626" href="/lia/part1/NormalForms/#22611" class="InductiveConstructor Operator">∨</a> <a id="40628" href="/lia/part1/NormalForms/#22504" class="InductiveConstructor Operator">`</a> <a id="40630" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="40632" class="Symbol">))</a> <a id="40635" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="40637" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="40639" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="40642" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="40644" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="40646" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="40648" href="/lia/part1/Semantics/#1194" class="Function">p₀</a>  <a id="40652" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="40654" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="40656" href="/lia/part1/Semantics/#1194" class="Function">p₀</a>           <a id="40669" href="/lia/part0/Logic/#1770" class="Record Operator">×</a>
    <a id="40675" href="/lia/part0/Logic/#416" class="Field">dfst</a> <a id="40680" class="Symbol">(</a><a id="40681" href="/lia/part1/NormalForms/#39339" class="Function">dnf1</a> <a id="40686" class="Symbol">(</a><a id="40687" href="/lia/part1/NormalForms/#22504" class="InductiveConstructor Operator">`</a> <a id="40689" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="40692" href="/lia/part1/NormalForms/#22575" class="InductiveConstructor Operator">∧</a> <a id="40694" href="/lia/part1/NormalForms/#22504" class="InductiveConstructor Operator">`</a> <a id="40696" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="40698" class="Symbol">))</a> <a id="40701" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="40703" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="40705" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="40708" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="40710" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="40712" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="40715" href="/lia/part0/Logic/#1770" class="Record Operator">×</a>
    <a id="40721" href="/lia/part0/Logic/#416" class="Field">dfst</a> <a id="40726" class="Symbol">(</a><a id="40727" href="/lia/part1/NormalForms/#39339" class="Function">dnf1</a> <a id="40732" class="Symbol">(</a><a id="40733" href="/lia/part1/NormalForms/#22504" class="InductiveConstructor Operator">`</a> <a id="40735" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="40738" href="/lia/part1/NormalForms/#22575" class="InductiveConstructor Operator">∧</a> <a id="40740" class="Symbol">(</a><a id="40741" href="/lia/part1/NormalForms/#22504" class="InductiveConstructor Operator">`</a> <a id="40743" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="40746" href="/lia/part1/NormalForms/#22611" class="InductiveConstructor Operator">∨</a> <a id="40748" href="/lia/part1/NormalForms/#22538" class="InductiveConstructor Operator">¬`</a> <a id="40751" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="40753" class="Symbol">)))</a> <a id="40757" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="40759" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="40761" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="40764" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="40766" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="40768" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="40771" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="40773" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="40775" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="40778" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="40780" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="40782" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="40784" href="/lia/part1/Semantics/#1194" class="Function">p₀</a>

<a id="40788" class="Symbol">_</a> <a id="40790" class="Symbol">=</a> <a id="40792" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a> <a id="40797" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="40799" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a> <a id="40804" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="40806" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a> <a id="40811" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="40813" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>TODO: adjust We can see that <a href="#dnf1"><code class="language-plaintext highlighter-rouge">dnf1</code></a> performs some rudimentary
form of simplification, e.g., by removing <code class="language-plaintext highlighter-rouge">⊥</code> in <code class="language-plaintext highlighter-rouge">⊥ ∧ ` p₀</code>, but not
all the simplifications we may desire. For instance <code class="language-plaintext highlighter-rouge">⊤ ∨ ` p₀</code>
should be transformed into <code class="language-plaintext highlighter-rouge">⊤</code> (which could be achieved by
<a href="../../part1/Semantics#simplify"><code class="language-plaintext highlighter-rouge">simplify</code></a> ). and More significantly,
<code class="language-plaintext highlighter-rouge">⊤ ∧ ` p₀ ∧ ` p₀</code> should be transformed to <code class="language-plaintext highlighter-rouge">` p₀</code> (by removing
one duplicate occurrence of <code class="language-plaintext highlighter-rouge">p₀</code>), and <code class="language-plaintext highlighter-rouge">` p₀ ∧ ` p₁ ∨ ` p₀ ∧ ¬ ` p₀</code>
to <code class="language-plaintext highlighter-rouge">` p₀ ∧ ` p₁</code> (by removing the unsatisfiable clause
<code class="language-plaintext highlighter-rouge">` p₀ ∧ ¬ ` p₀</code>). The latter kind of simplifications is specific to
the DNF form, and it will be handled in the next section.</p>

<h2 id="simplification">
<a class="anchor" href="#simplification" aria-hidden="true"><span class="octicon octicon-link"></span></a>Simplification</h2>

<p>The <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> structure allows us to simplify formulas to a stronger
extend that what is possible with the generic procedure
<a href="../../part1/Semantics#simplify"><code class="language-plaintext highlighter-rouge">simplify</code></a> . In this section we
explore a simplification procedure which exploits the DNF structure.</p>

<p>We will implement three kinds of simplifications. The first two are
based on the fact that a propositional variable should appear at most
once in a clause, and the third one is based on comparing different
clauses for subsumption:</p>

<ol>
  <li>If a literal appears multiple times in a clause, then its repeated
occurrences can be removed.</li>
  <li>If a literal appears positively and negatively in a clause, then the
clause is unsatisfiable and can be removed.</li>
  <li>A clause can be removed if a logically “weaker” clause is already in
the DNF.</li>
</ol>

<h3 id="case-1-repeated-literals">Case 1: Repeated literals</h3>

<p>We define a predicate <a href="#_IsInClause_"><code class="language-plaintext highlighter-rouge">_IsInClause_</code></a> capturing whether
a literal occurs in a clause:</p>

<pre class="Agda"><a id="42407" class="Keyword">infix</a> <a id="42413" class="Number">10</a> <a id="42416" href="/lia/part1/NormalForms/#42434" class="Datatype Operator">_IsInClause_</a>
<a id="42429" class="Keyword">data</a> <a id="_IsInClause_"></a><a id="42434" href="/lia/part1/NormalForms/#42434" class="Datatype Operator">_IsInClause_</a> <a id="42447" class="Symbol">:</a> <a id="42449" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="42457" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="42459" class="Symbol">→</a> <a id="42461" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="42471" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="42473" class="Symbol">→</a> <a id="42475" class="PrimitiveType">Set</a> <a id="42479" class="Keyword">where</a>
  <a id="_IsInClause_.stop1"></a><a id="42487" href="/lia/part1/NormalForms/#42487" class="InductiveConstructor">stop1</a> <a id="42493" class="Symbol">:</a> <a id="42495" class="Symbol">∀</a> <a id="42497" class="Symbol">{</a><a id="42498" href="/lia/part1/NormalForms/#42498" class="Bound">lit</a> <a id="42502" class="Symbol">:</a> <a id="42504" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="42512" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a><a id="42513" class="Symbol">}</a> <a id="42515" class="Symbol">→</a> <a id="42517" href="/lia/part1/NormalForms/#42498" class="Bound">lit</a> <a id="42521" href="/lia/part1/NormalForms/#42434" class="Datatype Operator">IsInClause</a> <a id="42532" class="Symbol">(</a><a id="42533" href="/lia/part1/NormalForms/#42498" class="Bound">lit</a> <a id="42537" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="42538" class="Symbol">)</a>
  <a id="_IsInClause_.stop2"></a><a id="42542" href="/lia/part1/NormalForms/#42542" class="InductiveConstructor">stop2</a> <a id="42548" class="Symbol">:</a> <a id="42550" class="Symbol">∀</a> <a id="42552" class="Symbol">{</a><a id="42553" href="/lia/part1/NormalForms/#42553" class="Bound">lit</a> <a id="42557" class="Symbol">:</a> <a id="42559" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="42567" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a><a id="42568" class="Symbol">}</a> <a id="42570" class="Symbol">{</a><a id="42571" href="/lia/part1/NormalForms/#42571" class="Bound">C</a> <a id="42573" class="Symbol">:</a> <a id="42575" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="42585" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a><a id="42586" class="Symbol">}</a> <a id="42588" class="Symbol">→</a> <a id="42590" href="/lia/part1/NormalForms/#42553" class="Bound">lit</a> <a id="42594" href="/lia/part1/NormalForms/#42434" class="Datatype Operator">IsInClause</a> <a id="42605" class="Symbol">(</a><a id="42606" href="/lia/part1/NormalForms/#42553" class="Bound">lit</a> <a id="42610" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="42612" href="/lia/part1/NormalForms/#42571" class="Bound">C</a><a id="42613" class="Symbol">)</a>
  <a id="_IsInClause_.skip"></a><a id="42617" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="42622" class="Symbol">:</a> <a id="42624" class="Symbol">∀</a> <a id="42626" class="Symbol">{</a><a id="42627" href="/lia/part1/NormalForms/#42627" class="Bound">lit</a> <a id="42631" class="Symbol">:</a> <a id="42633" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="42641" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a><a id="42642" class="Symbol">}</a> <a id="42644" class="Symbol">{</a><a id="42645" href="/lia/part1/NormalForms/#42645" class="Bound">lit'</a> <a id="42650" class="Symbol">:</a> <a id="42652" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="42660" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a><a id="42661" class="Symbol">}</a> <a id="42663" class="Symbol">{</a><a id="42664" href="/lia/part1/NormalForms/#42664" class="Bound">C</a> <a id="42666" class="Symbol">:</a> <a id="42668" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="42678" href="/lia/part1/NormalForms/#268" class="Generalizable">ξ</a><a id="42679" class="Symbol">}</a> <a id="42681" class="Symbol">→</a>
         <a id="42692" href="/lia/part1/NormalForms/#42627" class="Bound">lit</a> <a id="42696" href="/lia/part1/NormalForms/#42434" class="Datatype Operator">IsInClause</a> <a id="42707" href="/lia/part1/NormalForms/#42664" class="Bound">C</a> <a id="42709" class="Symbol">→</a> <a id="42711" href="/lia/part1/NormalForms/#42627" class="Bound">lit</a> <a id="42715" href="/lia/part1/NormalForms/#42434" class="Datatype Operator">IsInClause</a> <a id="42726" class="Symbol">(</a><a id="42727" href="/lia/part1/NormalForms/#42645" class="Bound">lit'</a> <a id="42732" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="42734" href="/lia/part1/NormalForms/#42664" class="Bound">C</a><a id="42735" class="Symbol">)</a></pre>

<p>(This is analogous to the list membership predicate
<a href="../../part0/List#_%E2%88%88_"><code class="language-plaintext highlighter-rouge">_∈_</code></a> , except that the type of
<a href="#DNFClause"><code class="language-plaintext highlighter-rouge">DNFClause</code></a> is more complex than a plain list, and
moreover we have two base cases <code class="language-plaintext highlighter-rouge">stop1</code> and <code class="language-plaintext highlighter-rouge">stop2</code>, instead of just
one.)</p>

<div class="introbox">

  <p>We need to be able to tell whether a given literal occurs somewhere
inside a given clause. For this reason we show that
<a href="#_IsInClause_"><code class="language-plaintext highlighter-rouge">_IsInClause_</code></a> is decidable:</p>

  <pre class="Agda"><a id="_IsInClause?_"></a><a id="43148" href="/lia/part1/NormalForms/#43148" class="Function Operator">_IsInClause?_</a> <a id="43162" class="Symbol">:</a> <a id="43164" class="Symbol">(</a><a id="43165" href="/lia/part1/NormalForms/#43165" class="Bound">lit</a> <a id="43169" class="Symbol">:</a> <a id="43171" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="43179" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a><a id="43180" class="Symbol">)</a> <a id="43182" class="Symbol">→</a> <a id="43184" class="Symbol">(</a><a id="43185" href="/lia/part1/NormalForms/#43185" class="Bound">C</a> <a id="43187" class="Symbol">:</a> <a id="43189" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="43199" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a><a id="43200" class="Symbol">)</a> <a id="43202" class="Symbol">→</a> <a id="43204" href="/lia/part0/Decidable/#150" class="Datatype">Dec</a> <a id="43208" class="Symbol">(</a><a id="43209" href="/lia/part1/NormalForms/#43165" class="Bound">lit</a> <a id="43213" href="/lia/part1/NormalForms/#42434" class="Datatype Operator">IsInClause</a> <a id="43224" href="/lia/part1/NormalForms/#43185" class="Bound">C</a><a id="43225" class="Symbol">)</a></pre>

  <p>The construction proceeds by scanning the clause, as in
<a href="../../part0/List#_%E2%88%88?_"><code class="language-plaintext highlighter-rouge">_∈?_</code></a> .
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="43333" href="/lia/part1/NormalForms/#43148" class="Function Operator">_IsInClause?_</a> <a id="43347" class="Symbol">{</a><a id="43348" href="/lia/part1/NormalForms/#43348" class="Bound">φ</a><a id="43349" class="Symbol">}</a> <a id="43351" class="Symbol">{</a><a id="43352" href="/lia/part1/NormalForms/#43352" class="Bound">ψ</a><a id="43353" class="Symbol">}</a> <a id="43355" href="/lia/part1/NormalForms/#43355" class="Bound">lit</a> <a id="43359" class="Symbol">(</a><a id="43360" href="/lia/part1/NormalForms/#43360" class="Bound">lit'</a> <a id="43365" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="43366" class="Symbol">)</a>
  <a id="43370" class="Keyword">with</a> <a id="43375" href="/lia/part1/NormalForms/#43348" class="Bound">φ</a> <a id="43377" href="/lia/part0/Equality/#2851" class="Field Operator">≡?</a> <a id="43380" href="/lia/part1/NormalForms/#43352" class="Bound">ψ</a>
<a id="43382" class="Symbol">...</a> <a id="43386" class="Symbol">|</a> <a id="43388" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="43391" href="/lia/part1/NormalForms/#43391" class="Bound">φ≢ψ</a> <a id="43395" class="Symbol">=</a> <a id="43397" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="43400" class="Symbol">λ{</a><a id="43402" href="/lia/part1/NormalForms/#42487" class="InductiveConstructor">stop1</a> <a id="43408" class="Symbol">→</a> <a id="43410" href="/lia/part1/NormalForms/#43391" class="Bound">φ≢ψ</a> <a id="43414" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a><a id="43418" class="Symbol">}</a>
<a id="43420" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="43424" href="/lia/part1/NormalForms/#43424" class="Bound">p</a> <a id="43426" href="/lia/part1/NormalForms/#43148" class="Function Operator">IsInClause?</a> <a id="43438" class="Symbol">(</a><a id="43439" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="43443" href="/lia/part1/NormalForms/#43424" class="Bound">p</a> <a id="43445" class="InductiveConstructor Operator">∙</a><a id="43446" class="Symbol">)</a> <a id="43448" class="Symbol">|</a> <a id="43450" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="43454" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a> <a id="43459" class="Symbol">=</a> <a id="43461" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="43465" href="/lia/part1/NormalForms/#42487" class="InductiveConstructor">stop1</a>
<a id="43471" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="43475" href="/lia/part1/NormalForms/#43475" class="Bound">p</a> <a id="43477" href="/lia/part1/NormalForms/#43148" class="Function Operator">IsInClause?</a> <a id="43489" class="Symbol">(</a><a id="43490" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="43494" href="/lia/part1/NormalForms/#43475" class="Bound">p</a> <a id="43496" class="InductiveConstructor Operator">∙</a><a id="43497" class="Symbol">)</a> <a id="43499" class="Symbol">|</a> <a id="43501" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="43505" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a> <a id="43510" class="Symbol">=</a> <a id="43512" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="43516" href="/lia/part1/NormalForms/#42487" class="InductiveConstructor">stop1</a>

<a id="43523" href="/lia/part1/NormalForms/#43148" class="Function Operator">_IsInClause?_</a> <a id="43537" class="Symbol">{</a><a id="43538" href="/lia/part1/NormalForms/#43538" class="Bound">φ</a><a id="43539" class="Symbol">}</a> <a id="43541" class="Symbol">{</a><a id="43542" href="/lia/part1/NormalForms/#43542" class="Bound">ψ</a> <a id="43544" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="43546" href="/lia/part1/NormalForms/#43546" class="Bound">ξ</a><a id="43547" class="Symbol">}</a> <a id="43549" href="/lia/part1/NormalForms/#43549" class="Bound">lit</a> <a id="43553" class="Symbol">(</a><a id="43554" href="/lia/part1/NormalForms/#43554" class="Bound">lit'</a> <a id="43559" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="43561" href="/lia/part1/NormalForms/#43561" class="Bound">C</a><a id="43562" class="Symbol">)</a>
  <a id="43566" class="Keyword">with</a> <a id="43571" href="/lia/part1/NormalForms/#43538" class="Bound">φ</a> <a id="43573" href="/lia/part0/Equality/#2851" class="Field Operator">≡?</a> <a id="43576" href="/lia/part1/NormalForms/#43542" class="Bound">ψ</a>
<a id="43578" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="43582" href="/lia/part1/NormalForms/#43582" class="Bound">p</a> <a id="43584" href="/lia/part1/NormalForms/#43148" class="Function Operator">IsInClause?</a> <a id="43596" class="Symbol">(</a><a id="43597" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="43601" href="/lia/part1/NormalForms/#43582" class="Bound">p</a> <a id="43603" class="InductiveConstructor Operator">,</a> <a id="43605" href="/lia/part1/NormalForms/#43605" class="Bound">C</a><a id="43606" class="Symbol">)</a> <a id="43608" class="Symbol">|</a> <a id="43610" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="43614" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a> <a id="43619" class="Symbol">=</a> <a id="43621" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="43625" href="/lia/part1/NormalForms/#42542" class="InductiveConstructor">stop2</a>
<a id="43631" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="43635" href="/lia/part1/NormalForms/#43635" class="Bound">p</a> <a id="43637" href="/lia/part1/NormalForms/#43148" class="Function Operator">IsInClause?</a> <a id="43649" class="Symbol">(</a><a id="43650" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="43654" href="/lia/part1/NormalForms/#43635" class="Bound">p</a> <a id="43656" class="InductiveConstructor Operator">,</a> <a id="43658" href="/lia/part1/NormalForms/#43658" class="Bound">C</a><a id="43659" class="Symbol">)</a> <a id="43661" class="Symbol">|</a> <a id="43663" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="43667" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a> <a id="43672" class="Symbol">=</a> <a id="43674" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="43678" href="/lia/part1/NormalForms/#42542" class="InductiveConstructor">stop2</a>
<a id="43684" href="/lia/part1/NormalForms/#43684" class="Bound">lit</a> <a id="43688" href="/lia/part1/NormalForms/#43148" class="Function Operator">IsInClause?</a> <a id="43700" class="Symbol">(</a><a id="43701" href="/lia/part1/NormalForms/#43701" class="Bound">lit'</a> <a id="43706" class="InductiveConstructor Operator">,</a> <a id="43708" href="/lia/part1/NormalForms/#43708" class="Bound">C</a><a id="43709" class="Symbol">)</a> <a id="43711" class="Symbol">|</a> <a id="43713" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="43716" href="/lia/part1/NormalForms/#43716" class="Bound">φ≢ψ</a>
  <a id="43722" class="Keyword">with</a> <a id="43727" href="/lia/part1/NormalForms/#43684" class="Bound">lit</a> <a id="43731" href="/lia/part1/NormalForms/#43148" class="Function Operator">IsInClause?</a> <a id="43743" href="/lia/part1/NormalForms/#43708" class="Bound">C</a>
<a id="43745" class="Symbol">...</a> <a id="43749" class="Symbol">|</a> <a id="43751" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="43755" href="/lia/part1/NormalForms/#43755" class="Bound">litInC</a> <a id="43762" class="Symbol">=</a> <a id="43764" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="43768" class="Symbol">(</a><a id="43769" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="43774" href="/lia/part1/NormalForms/#43755" class="Bound">litInC</a><a id="43780" class="Symbol">)</a>
<a id="43782" class="Symbol">...</a> <a id="43786" class="Symbol">|</a> <a id="43788" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="43791" href="/lia/part1/NormalForms/#43791" class="Bound">~litInC</a> <a id="43799" class="Symbol">=</a> <a id="43801" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="43804" class="Symbol">λ{</a><a id="43806" href="/lia/part1/NormalForms/#42542" class="InductiveConstructor">stop2</a> <a id="43812" class="Symbol">→</a> <a id="43814" class="Bound">φ≢ψ</a> <a id="43818" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a><a id="43822" class="Symbol">;</a> <a id="43824" class="Symbol">(</a><a id="43825" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="43830" href="/lia/part1/NormalForms/#43830" class="Bound">litInC</a><a id="43836" class="Symbol">)</a> <a id="43838" class="Symbol">→</a> <a id="43840" href="/lia/part1/NormalForms/#43791" class="Bound">~litInC</a> <a id="43848" href="/lia/part1/NormalForms/#43830" class="Bound">litInC</a><a id="43854" class="Symbol">}</a></pre>

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:litTwiceInClause" class="pandoc-numbering-text exercise"><strong>Exercise 6</strong></span></dt>
    <dd>Show that removing duplicated occurrences of the same literal
preserves the semantics:</dd>
  </dl>

  <pre class="Agda"><a id="litTwiceInClause"></a><a id="44000" href="/lia/part1/NormalForms/#44000" class="Function">litTwiceInClause</a> <a id="44017" class="Symbol">:</a> <a id="44019" class="Symbol">(</a><a id="44020" href="/lia/part1/NormalForms/#44020" class="Bound">lit</a> <a id="44024" class="Symbol">:</a> <a id="44026" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="44034" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a><a id="44035" class="Symbol">)</a> <a id="44037" class="Symbol">(</a><a id="44038" href="/lia/part1/NormalForms/#44038" class="Bound">C</a> <a id="44040" class="Symbol">:</a> <a id="44042" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="44052" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a><a id="44053" class="Symbol">)</a> <a id="44055" class="Symbol">→</a>
  <a id="44059" href="/lia/part1/NormalForms/#44020" class="Bound">lit</a> <a id="44063" href="/lia/part1/NormalForms/#42434" class="Datatype Operator">IsInClause</a> <a id="44074" href="/lia/part1/NormalForms/#44038" class="Bound">C</a> <a id="44076" class="Symbol">→</a>
  <a id="44080" class="Comment">------------------</a>
  <a id="44101" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="44103" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="44105" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="44107" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="44109" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a></pre>

  <p><em>Hint</em>: Use idempotence <a href="../../part1/Semantics#idempotAnd"><code class="language-plaintext highlighter-rouge">idempotAnd</code></a>
, commutativity <a href="../../part1/Semantics#commAnd"><code class="language-plaintext highlighter-rouge">commAnd</code></a> , and
associativity <a href="../../part1/Semantics#assocAnd"><code class="language-plaintext highlighter-rouge">assocAnd</code></a> of
conjunction. <span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:litTwiceInClause-solution)
:::::::
-->

</div>

<p>We are now ready to write a function which simplifies a clause by
removing repeated occurrences of the same literal. Correctness is
guaranteed by <a href="#litTwiceInClause"><code class="language-plaintext highlighter-rouge">litTwiceInClause</code></a> :</p>

<pre class="Agda"><a id="simplifyDNFClause"></a><a id="44891" href="/lia/part1/NormalForms/#44891" class="Function">simplifyDNFClause</a> <a id="44909" class="Symbol">:</a> <a id="44911" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="44921" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="44923" class="Symbol">→</a> <a id="44925" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="44928" href="/lia/part1/NormalForms/#44928" class="Bound">ψ</a> <a id="44930" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="44932" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="44942" href="/lia/part1/NormalForms/#44928" class="Bound">ψ</a> <a id="44944" href="/lia/part0/Logic/#1770" class="Record Operator">×</a> <a id="44946" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="44948" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="44950" href="/lia/part1/NormalForms/#44928" class="Bound">ψ</a>
<a id="44952" href="/lia/part1/NormalForms/#44891" class="Function">simplifyDNFClause</a> <a id="44970" class="Symbol">(</a><a id="44971" href="/lia/part1/NormalForms/#44971" class="Bound">lit</a> <a id="44975" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="44976" class="Symbol">)</a> <a id="44978" class="Symbol">=</a> <a id="44980" class="Symbol">_</a> <a id="44982" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="44984" href="/lia/part1/NormalForms/#44971" class="Bound">lit</a> <a id="44988" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="44990" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="44992" class="Symbol">λ</a> <a id="44994" href="/lia/part1/NormalForms/#44994" class="Bound">ϱ</a> <a id="44996" class="Symbol">→</a> <a id="44998" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="45003" href="/lia/part1/NormalForms/#44891" class="Function">simplifyDNFClause</a> <a id="45021" class="Symbol">{</a><a id="45022" href="/lia/part1/NormalForms/#45022" class="Bound">φ</a> <a id="45024" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="45026" href="/lia/part1/NormalForms/#45026" class="Bound">ψ</a><a id="45027" class="Symbol">}</a> <a id="45029" class="Symbol">(</a><a id="45030" href="/lia/part1/NormalForms/#45030" class="Bound">lit</a> <a id="45034" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="45036" href="/lia/part1/NormalForms/#45036" class="Bound">C</a><a id="45037" class="Symbol">)</a>
  <a id="45041" class="Keyword">with</a> <a id="45046" href="/lia/part1/NormalForms/#44891" class="Function">simplifyDNFClause</a> <a id="45064" href="/lia/part1/NormalForms/#45036" class="Bound">C</a>
<a id="45066" class="Symbol">...</a> <a id="45070" class="Symbol">|</a> <a id="45072" href="/lia/part1/NormalForms/#45072" class="Bound">ξ</a> <a id="45074" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="45076" href="/lia/part1/NormalForms/#45076" class="Bound">D</a> <a id="45078" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="45080" href="/lia/part1/NormalForms/#45080" class="Bound">ψ⟺ξ</a>
  <a id="45086" class="Keyword">with</a> <a id="45091" class="Bound">lit</a> <a id="45095" href="/lia/part1/NormalForms/#43148" class="Function Operator">IsInClause?</a> <a id="45107" class="Bound">C</a>
<a id="45109" class="Symbol">...</a> <a id="45113" class="Symbol">|</a> <a id="45115" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="45119" href="/lia/part1/NormalForms/#45119" class="Bound">litInC</a> <a id="45126" class="Symbol">=</a> <a id="45128" class="Symbol">_</a> <a id="45130" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="45132" class="Bound">D</a> <a id="45134" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="45136" href="/lia/part1/NormalForms/#45151" class="Function">sound</a> <a id="45142" class="Keyword">where</a>

  <a id="45151" href="/lia/part1/NormalForms/#45151" class="Function">sound</a> <a id="45157" class="Symbol">:</a> <a id="45159" class="Bound">φ</a> <a id="45161" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="45163" class="Bound">ψ</a> <a id="45165" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="45167" class="Bound">ξ</a>
  <a id="45171" href="/lia/part1/NormalForms/#45151" class="Function">sound</a> <a id="45177" href="/lia/part1/NormalForms/#45177" class="Bound">ϱ</a> <a id="45179" class="Keyword">rewrite</a> <a id="45187" href="/lia/part0/Equality/#405" class="Function">sym</a> <a id="45191" class="Symbol">(</a><a id="45192" class="Bound">ψ⟺ξ</a> <a id="45196" href="/lia/part1/NormalForms/#45177" class="Bound">ϱ</a><a id="45197" class="Symbol">)</a> <a id="45199" class="Symbol">=</a> <a id="45201" href="/lia/part1/NormalForms/#44000" class="Function">litTwiceInClause</a> <a id="45218" class="Bound">lit</a> <a id="45222" class="Bound">C</a> <a id="45224" href="/lia/part1/NormalForms/#45119" class="Bound">litInC</a> <a id="45231" href="/lia/part1/NormalForms/#45177" class="Bound">ϱ</a> 

<a id="45235" class="Symbol">...</a> <a id="45239" class="Symbol">|</a> <a id="45241" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="45244" href="/lia/part1/NormalForms/#45244" class="Bound">~litInC</a> <a id="45252" class="Symbol">=</a> <a id="45254" class="Symbol">_</a> <a id="45256" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="45258" class="Symbol">(</a><a id="45259" class="Bound">lit</a> <a id="45263" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="45265" class="Bound">D</a><a id="45266" class="Symbol">)</a> <a id="45268" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="45270" href="/lia/part1/NormalForms/#45285" class="Function">sound</a> <a id="45276" class="Keyword">where</a>

  <a id="45285" href="/lia/part1/NormalForms/#45285" class="Function">sound</a> <a id="45291" class="Symbol">:</a> <a id="45293" class="Bound">φ</a> <a id="45295" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="45297" class="Bound">ψ</a> <a id="45299" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="45301" class="Bound">φ</a> <a id="45303" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="45305" class="Bound">ξ</a>
  <a id="45309" href="/lia/part1/NormalForms/#45285" class="Function">sound</a> <a id="45315" href="/lia/part1/NormalForms/#45315" class="Bound">ϱ</a> <a id="45317" class="Keyword">rewrite</a> <a id="45325" class="Bound">ψ⟺ξ</a> <a id="45329" href="/lia/part1/NormalForms/#45315" class="Bound">ϱ</a> <a id="45331" class="Symbol">=</a> <a id="45333" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<h3 id="case-2-positive-and-negative-literal-occurrences">Case 2: Positive and negative literal occurrences</h3>

<p>The second simplification regards the case when the same literal appears
both positively and negatively. We would like to concisely capture the
notion of the dual of a literal. A first attempt would be the following:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>_° : Literal φ → Literal ?
Pos p ° = Neg p
Neg p ° = Pos p
</code></pre></div></div>

<p>However it is not clear what should be the expression to fill the hole
<code class="language-plaintext highlighter-rouge">?</code>.</p>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:dual" class="pandoc-numbering-text exercise"><strong>Exercise 7</strong></span></dt>
    <dd>Complete the definition of <code class="language-plaintext highlighter-rouge">_°</code>. <em>Hint</em>: Can one express the formula
in the hole as a function of <code class="language-plaintext highlighter-rouge">φ</code>? <span class="hidden">∎</span>
<span class="right-aligned">∎</span>
</dd>
  </dl>

  <!--
::::::: {.solutionlink}
[solution](#exercise:dual-solution)
:::::::
-->

</div>

<p>The following binary predicate expresses the fact that a literal and its
dual both appear in the same clause:</p>

<pre class="Agda"><a id="_andDualIsInClause_"></a><a id="46449" href="/lia/part1/NormalForms/#46449" class="Function Operator">_andDualIsInClause_</a> <a id="46469" class="Symbol">:</a> <a id="46471" class="Symbol">∀</a> <a id="46473" class="Symbol">{</a><a id="46474" href="/lia/part1/NormalForms/#46474" class="Bound">φ</a><a id="46475" class="Symbol">}</a> <a id="46477" class="Symbol">→</a> <a id="46479" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="46487" href="/lia/part1/NormalForms/#46474" class="Bound">φ</a> <a id="46489" class="Symbol">→</a> <a id="46491" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="46501" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="46503" class="Symbol">→</a> <a id="46505" class="PrimitiveType">Set</a>
<a id="46509" href="/lia/part1/NormalForms/#46509" class="Bound">lit</a> <a id="46513" href="/lia/part1/NormalForms/#46449" class="Function Operator">andDualIsInClause</a> <a id="46531" href="/lia/part1/NormalForms/#46531" class="Bound">C</a> <a id="46533" class="Symbol">=</a> <a id="46535" href="/lia/part1/NormalForms/#46509" class="Bound">lit</a> <a id="46539" href="/lia/part1/NormalForms/#42434" class="Datatype Operator">IsInClause</a> <a id="46550" href="/lia/part1/NormalForms/#46531" class="Bound">C</a> <a id="46552" href="/lia/part0/Logic/#1770" class="Record Operator">×</a> <a id="46554" href="/lia/part1/NormalForms/#46509" class="Bound">lit</a> <a id="46558" href="/lia/part1/NormalForms/#46259" class="Function Operator">°</a> <a id="46560" href="/lia/part1/NormalForms/#42434" class="Datatype Operator">IsInClause</a> <a id="46571" href="/lia/part1/NormalForms/#46531" class="Bound">C</a></pre>

<div class="introbox">

  <p>First of all, we can decide whether this is the case (by scanning all
literals, one at at time):</p>

  <pre class="Agda"><a id="someLitAndDualInClause"></a><a id="46690" href="/lia/part1/NormalForms/#46690" class="Function">someLitAndDualInClause</a> <a id="46713" class="Symbol">:</a>
  <a id="46717" class="Symbol">(</a><a id="46718" href="/lia/part1/NormalForms/#46718" class="Bound">C</a> <a id="46720" class="Symbol">:</a> <a id="46722" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="46732" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a><a id="46733" class="Symbol">)</a> <a id="46735" class="Symbol">→</a>
  <a id="46739" class="Comment">-------------------------------------------------</a>
  <a id="46791" href="/lia/part0/Decidable/#150" class="Datatype">Dec</a> <a id="46795" class="Symbol">(</a><a id="46796" href="/lia/part0/Logic/#1460" class="Function">∃P[</a> <a id="46800" href="/lia/part1/NormalForms/#46800" class="Bound">lit</a> <a id="46804" href="/lia/part0/Logic/#1460" class="Function">←</a> <a id="46806" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="46814" href="/lia/part0/Logic/#1460" class="Function">]</a> <a id="46816" href="/lia/part1/NormalForms/#46800" class="Bound">lit</a> <a id="46820" href="/lia/part1/NormalForms/#46449" class="Function Operator">andDualIsInClause</a> <a id="46838" href="/lia/part1/NormalForms/#46718" class="Bound">C</a><a id="46839" class="Symbol">)</a></pre>

  <p>(The <code class="language-plaintext highlighter-rouge">∃P</code>-notation is a convenient abbreviation for
<code class="language-plaintext highlighter-rouge">∃[ ψ ] Σ (Literal ψ) λ lit → lit andDualIsInClause C</code> when we do not
want to explicitly mention the underlying formula <code class="language-plaintext highlighter-rouge">ψ</code>.)
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="47036" class="Comment">-- it cannot be that lit can be both of the form Pos p and Neg p</a>
<a id="47101" href="/lia/part1/NormalForms/#46690" class="Function">someLitAndDualInClause</a> <a id="47124" class="Symbol">(</a><a id="47125" href="/lia/part1/NormalForms/#47125" class="Bound">lit</a> <a id="47129" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="47130" class="Symbol">)</a> <a id="47132" class="Symbol">=</a> <a id="47134" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="47137" class="Symbol">λ{(</a><a id="47140" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="47142" href="/lia/part1/NormalForms/#47142" class="Bound">p</a> <a id="47144" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47146" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="47150" href="/lia/part1/NormalForms/#47142" class="Bound">p</a> <a id="47152" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47154" href="/lia/part1/NormalForms/#42487" class="InductiveConstructor">stop1</a> <a id="47160" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="47162" class="Symbol">())}</a>

<a id="47168" href="/lia/part1/NormalForms/#46690" class="Function">someLitAndDualInClause</a> <a id="47191" class="Symbol">(</a><a id="47192" href="/lia/part1/NormalForms/#47192" class="Bound">lit</a> <a id="47196" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="47198" href="/lia/part1/NormalForms/#47198" class="Bound">C</a><a id="47199" class="Symbol">)</a>
  <a id="47203" class="Keyword">with</a> <a id="47208" href="/lia/part1/NormalForms/#47192" class="Bound">lit</a> <a id="47212" href="/lia/part1/NormalForms/#46259" class="Function Operator">°</a> <a id="47214" href="/lia/part1/NormalForms/#43148" class="Function Operator">IsInClause?</a> <a id="47226" href="/lia/part1/NormalForms/#47198" class="Bound">C</a>
<a id="47228" class="Symbol">...</a> <a id="47232" class="Symbol">|</a> <a id="47234" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="47238" href="/lia/part1/NormalForms/#47238" class="Bound">proof</a> <a id="47244" class="Symbol">=</a> <a id="47246" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="47250" class="Symbol">(_</a> <a id="47253" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47255" class="Bound">lit</a> <a id="47259" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47261" href="/lia/part1/NormalForms/#42542" class="InductiveConstructor">stop2</a> <a id="47267" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="47269" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="47274" href="/lia/part1/NormalForms/#47238" class="Bound">proof</a><a id="47279" class="Symbol">)</a>
<a id="47281" class="Symbol">...</a> <a id="47285" class="Symbol">|</a> <a id="47287" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="47290" href="/lia/part1/NormalForms/#47290" class="Bound">proof</a>
  <a id="47298" class="Keyword">with</a> <a id="47303" href="/lia/part1/NormalForms/#46690" class="Function">someLitAndDualInClause</a> <a id="47326" class="Bound">C</a>
<a id="47328" class="Symbol">...</a> <a id="47332" class="Symbol">|</a> <a id="47334" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="47338" class="Symbol">(_</a> <a id="47341" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47343" href="/lia/part1/NormalForms/#47343" class="Bound">lit'</a> <a id="47348" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47350" href="/lia/part1/NormalForms/#47350" class="Bound">lit'InC</a> <a id="47358" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="47360" href="/lia/part1/NormalForms/#47360" class="Bound">lit'°InC</a><a id="47368" class="Symbol">)</a> <a id="47370" class="Symbol">=</a> <a id="47372" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="47376" class="Symbol">(_</a> <a id="47379" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47381" href="/lia/part1/NormalForms/#47343" class="Bound">lit'</a> <a id="47386" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47388" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="47393" href="/lia/part1/NormalForms/#47350" class="Bound">lit'InC</a> <a id="47401" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="47403" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="47408" href="/lia/part1/NormalForms/#47360" class="Bound">lit'°InC</a><a id="47416" class="Symbol">)</a>
<a id="47418" class="Symbol">...</a> <a id="47422" class="Symbol">|</a> <a id="47424" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="47427" href="/lia/part1/NormalForms/#47427" class="Bound">proof'</a> <a id="47434" class="Symbol">=</a> <a id="47436" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="47439" class="Symbol">λ{</a>
  <a id="47444" class="Symbol">(_</a> <a id="47447" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47449" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="47453" href="/lia/part1/NormalForms/#47453" class="Bound">p</a> <a id="47455" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47457" href="/lia/part1/NormalForms/#42542" class="InductiveConstructor">stop2</a> <a id="47463" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="47465" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="47470" href="/lia/part1/NormalForms/#47470" class="Bound">NegpInC</a><a id="47477" class="Symbol">)</a> <a id="47479" class="Symbol">→</a> <a id="47481" class="Bound">proof</a> <a id="47487" href="/lia/part1/NormalForms/#47470" class="Bound">NegpInC</a><a id="47494" class="Symbol">;</a>
  <a id="47498" class="Symbol">(_</a> <a id="47501" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47503" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="47507" href="/lia/part1/NormalForms/#47507" class="Bound">p</a> <a id="47509" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47511" href="/lia/part1/NormalForms/#42542" class="InductiveConstructor">stop2</a> <a id="47517" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="47519" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="47524" href="/lia/part1/NormalForms/#47524" class="Bound">PospInC</a><a id="47531" class="Symbol">)</a> <a id="47533" class="Symbol">→</a> <a id="47535" class="Bound">proof</a> <a id="47541" href="/lia/part1/NormalForms/#47524" class="Bound">PospInC</a><a id="47548" class="Symbol">;</a>
  <a id="47552" class="Symbol">(_</a> <a id="47555" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47557" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="47561" href="/lia/part1/NormalForms/#47561" class="Bound">p</a> <a id="47563" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47565" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="47570" href="/lia/part1/NormalForms/#47570" class="Bound">PospInC</a> <a id="47578" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="47580" href="/lia/part1/NormalForms/#42542" class="InductiveConstructor">stop2</a><a id="47585" class="Symbol">)</a> <a id="47587" class="Symbol">→</a> <a id="47589" class="Bound">proof</a> <a id="47595" href="/lia/part1/NormalForms/#47570" class="Bound">PospInC</a><a id="47602" class="Symbol">;</a>
  <a id="47606" class="Symbol">(_</a> <a id="47609" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47611" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="47615" href="/lia/part1/NormalForms/#47615" class="Bound">p</a> <a id="47617" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47619" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="47624" href="/lia/part1/NormalForms/#47624" class="Bound">PospInC</a> <a id="47632" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="47634" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="47639" href="/lia/part1/NormalForms/#47639" class="Bound">NegpInC</a><a id="47646" class="Symbol">)</a> <a id="47648" class="Symbol">→</a> <a id="47650" href="/lia/part1/NormalForms/#47427" class="Bound">proof'</a> <a id="47657" class="Symbol">(_</a> <a id="47660" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47662" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="47666" href="/lia/part1/NormalForms/#47615" class="Bound">p</a> <a id="47668" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47670" href="/lia/part1/NormalForms/#47624" class="Bound">PospInC</a> <a id="47678" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="47680" href="/lia/part1/NormalForms/#47639" class="Bound">NegpInC</a><a id="47687" class="Symbol">);</a>
  <a id="47692" class="Symbol">(_</a> <a id="47695" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47697" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="47701" href="/lia/part1/NormalForms/#47701" class="Bound">p</a> <a id="47703" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47705" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="47710" href="/lia/part1/NormalForms/#47710" class="Bound">NegpInC</a> <a id="47718" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="47720" href="/lia/part1/NormalForms/#42542" class="InductiveConstructor">stop2</a><a id="47725" class="Symbol">)</a> <a id="47727" class="Symbol">→</a> <a id="47729" class="Bound">proof</a> <a id="47735" href="/lia/part1/NormalForms/#47710" class="Bound">NegpInC</a><a id="47742" class="Symbol">;</a>
  <a id="47746" class="Symbol">(_</a> <a id="47749" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47751" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="47755" href="/lia/part1/NormalForms/#47755" class="Bound">p</a> <a id="47757" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47759" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="47764" href="/lia/part1/NormalForms/#47764" class="Bound">NegpInC</a> <a id="47772" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="47774" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="47779" href="/lia/part1/NormalForms/#47779" class="Bound">PospInC</a><a id="47786" class="Symbol">)</a> <a id="47788" class="Symbol">→</a> <a id="47790" href="/lia/part1/NormalForms/#47427" class="Bound">proof'</a> <a id="47797" class="Symbol">(_</a> <a id="47800" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47802" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="47806" href="/lia/part1/NormalForms/#47755" class="Bound">p</a> <a id="47808" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="47810" href="/lia/part1/NormalForms/#47779" class="Bound">PospInC</a> <a id="47818" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="47820" href="/lia/part1/NormalForms/#47764" class="Bound">NegpInC</a><a id="47827" class="Symbol">)}</a></pre>

</div>

<div class="introbox">

  <p>If a clause contains a literal both positively and negatively, then it
is unsatisfiable:</p>

  <pre class="Agda"><a id="litAndDualInClause-sound"></a><a id="47943" href="/lia/part1/NormalForms/#47943" class="Function">litAndDualInClause-sound</a> <a id="47968" class="Symbol">:</a> <a id="47970" class="Symbol">{</a><a id="47971" href="/lia/part1/NormalForms/#47971" class="Bound">lit</a> <a id="47975" class="Symbol">:</a> <a id="47977" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="47985" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a><a id="47986" class="Symbol">}</a> <a id="47988" class="Symbol">{</a><a id="47989" href="/lia/part1/NormalForms/#47989" class="Bound">C</a> <a id="47991" class="Symbol">:</a> <a id="47993" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="48003" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a><a id="48004" class="Symbol">}</a> <a id="48006" class="Symbol">→</a>
  <a id="48010" href="/lia/part1/NormalForms/#47971" class="Bound">lit</a> <a id="48014" href="/lia/part1/NormalForms/#42434" class="Datatype Operator">IsInClause</a> <a id="48025" href="/lia/part1/NormalForms/#47989" class="Bound">C</a> <a id="48027" class="Symbol">→</a>
  <a id="48031" href="/lia/part1/NormalForms/#47971" class="Bound">lit</a> <a id="48035" href="/lia/part1/NormalForms/#46259" class="Function Operator">°</a> <a id="48037" href="/lia/part1/NormalForms/#42434" class="Datatype Operator">IsInClause</a> <a id="48048" href="/lia/part1/NormalForms/#47989" class="Bound">C</a> <a id="48050" class="Symbol">→</a>
  <a id="48054" class="Comment">--------------------</a>
  <a id="48077" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="48079" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="48081" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a></pre>

  <p>The proof of is by a nested induction on the evidence that <code class="language-plaintext highlighter-rouge">lit</code> and its
dual <code class="language-plaintext highlighter-rouge">lit °</code> are in <code class="language-plaintext highlighter-rouge">C</code>.
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <p>The following little fact about duals will be used several times in the
proof:</p>

  <pre class="Agda"><a id="φ∧dualφ⟺⊥"></a><a id="48278" href="/lia/part1/NormalForms/#48278" class="Function">φ∧dualφ⟺⊥</a> <a id="48288" class="Symbol">:</a> <a id="48290" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="48298" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="48300" class="Symbol">→</a> <a id="48302" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="48304" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="48306" href="/lia/part1/NormalForms/#45992" class="Function">dual</a> <a id="48311" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="48313" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="48315" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a>
<a id="48317" href="/lia/part1/NormalForms/#48278" class="Function">φ∧dualφ⟺⊥</a> <a id="48327" class="Symbol">(</a><a id="48328" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="48332" href="/lia/part1/NormalForms/#48332" class="Bound">p</a><a id="48333" class="Symbol">)</a> <a id="48335" href="/lia/part1/NormalForms/#48335" class="Bound">ϱ</a> <a id="48337" class="Keyword">rewrite</a> <a id="48345" href="/lia/part0/Booleans/#6866" class="Function">a∧𝔹¬𝔹a≡ff</a> <a id="48355" class="Symbol">(</a><a id="48356" href="/lia/part1/NormalForms/#48335" class="Bound">ϱ</a> <a id="48358" href="/lia/part1/NormalForms/#48332" class="Bound">p</a><a id="48359" class="Symbol">)</a> <a id="48361" class="Symbol">=</a> <a id="48363" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="48368" href="/lia/part1/NormalForms/#48278" class="Function">φ∧dualφ⟺⊥</a> <a id="48378" class="Symbol">(</a><a id="48379" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="48383" href="/lia/part1/NormalForms/#48383" class="Bound">p</a><a id="48384" class="Symbol">)</a> <a id="48386" href="/lia/part1/NormalForms/#48386" class="Bound">ϱ</a> <a id="48388" class="Keyword">rewrite</a> <a id="48396" href="/lia/part0/Booleans/#6866" class="Function">a∧𝔹¬𝔹a≡ff</a> <a id="48406" class="Symbol">(</a><a id="48407" href="/lia/part0/Booleans/#993" class="Function Operator">¬𝔹</a> <a id="48410" href="/lia/part1/NormalForms/#48386" class="Bound">ϱ</a> <a id="48412" href="/lia/part1/NormalForms/#48383" class="Bound">p</a><a id="48413" class="Symbol">)</a> <a id="48415" class="Symbol">=</a> <a id="48417" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

  <p>We now come to the proof of
<a href="#litAndDualInClause-sound"><code class="language-plaintext highlighter-rouge">litAndDualInClause-sound</code></a> . The first base
case cannot actually occur since if <code class="language-plaintext highlighter-rouge">C</code> is of the form <code class="language-plaintext highlighter-rouge">lit' ∙</code>, then
<code class="language-plaintext highlighter-rouge">lit'</code> cannot be simultaneously of the form <code class="language-plaintext highlighter-rouge">lit</code> and <code class="language-plaintext highlighter-rouge">lit °</code>:</p>

  <pre class="Agda"><a id="48640" href="/lia/part1/NormalForms/#47943" class="Function">litAndDualInClause-sound</a> <a id="48665" class="Symbol">{</a><a id="48666" class="Argument">lit</a> <a id="48670" class="Symbol">=</a> <a id="48672" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="48676" href="/lia/part1/NormalForms/#48676" class="Bound">p</a><a id="48677" class="Symbol">}</a> <a id="48679" href="/lia/part1/NormalForms/#42487" class="InductiveConstructor">stop1</a> <a id="48685" class="Symbol">()</a>
<a id="48688" href="/lia/part1/NormalForms/#47943" class="Function">litAndDualInClause-sound</a> <a id="48713" class="Symbol">{</a><a id="48714" class="Argument">lit</a> <a id="48718" class="Symbol">=</a> <a id="48720" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="48724" href="/lia/part1/NormalForms/#48724" class="Bound">p</a><a id="48725" class="Symbol">}</a> <a id="48727" href="/lia/part1/NormalForms/#42487" class="InductiveConstructor">stop1</a> <a id="48733" class="Symbol">()</a></pre>

  <p>In the second base case we have found the sought occurrence of <code class="language-plaintext highlighter-rouge">lit</code> in
<code class="language-plaintext highlighter-rouge">C</code>. The proof continues with a nested induction on the evidence that
its dual <code class="language-plaintext highlighter-rouge">lit °</code> is in <code class="language-plaintext highlighter-rouge">C</code> (and its occurrence is necessarily further
than <code class="language-plaintext highlighter-rouge">lit</code>):</p>

  <pre class="Agda"><a id="48971" href="/lia/part1/NormalForms/#47943" class="CatchallClause Function">litAndDualInClause-sound</a><a id="48995" class="CatchallClause"> </a><a id="48996" class="CatchallClause Symbol">{</a><a id="48997" href="/lia/part1/NormalForms/#48997" class="CatchallClause Bound">φ</a><a id="48998" class="CatchallClause Symbol">}</a><a id="48999" class="CatchallClause"> </a><a id="49000" class="CatchallClause Symbol">{</a><a id="49001" href="/lia/part1/NormalForms/#49001" class="CatchallClause Bound">ψ</a><a id="49002" class="CatchallClause Symbol">}</a><a id="49003" class="CatchallClause"> </a><a id="49004" class="CatchallClause Symbol">{</a><a id="49005" href="/lia/part1/NormalForms/#49005" class="CatchallClause Bound">lit</a><a id="49008" class="CatchallClause Symbol">}</a><a id="49009" class="CatchallClause"> </a><a id="49010" class="CatchallClause Symbol">{</a><a id="49011" href="/lia/part1/NormalForms/#49011" class="CatchallClause Bound">C</a><a id="49012" class="CatchallClause Symbol">}</a><a id="49013" class="CatchallClause"> </a><a id="49014" href="/lia/part1/NormalForms/#42542" class="CatchallClause InductiveConstructor">stop2</a><a id="49019" class="CatchallClause"> </a><a id="49020" class="CatchallClause Symbol">(</a><a id="49021" href="/lia/part1/NormalForms/#42617" class="CatchallClause InductiveConstructor">skip</a><a id="49025" class="CatchallClause"> </a><a id="49026" href="/lia/part1/NormalForms/#49026" class="CatchallClause Bound">lit°InC</a><a id="49033" class="CatchallClause Symbol">)</a> <a id="49035" class="Symbol">=</a> <a id="49037" href="/lia/part1/NormalForms/#49057" class="Function">go</a> <a id="49040" href="/lia/part1/NormalForms/#49026" class="Bound">lit°InC</a> <a id="49048" class="Keyword">where</a>

  <a id="49057" href="/lia/part1/NormalForms/#49057" class="Function">go</a> <a id="49060" class="Symbol">:</a> <a id="49062" class="Symbol">∀</a> <a id="49064" class="Symbol">{</a><a id="49065" href="/lia/part1/NormalForms/#49065" class="Bound">ψ</a><a id="49066" class="Symbol">}</a> <a id="49068" class="Symbol">{</a><a id="49069" href="/lia/part1/NormalForms/#49069" class="Bound">C</a> <a id="49071" class="Symbol">:</a> <a id="49073" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="49083" href="/lia/part1/NormalForms/#49065" class="Bound">ψ</a><a id="49084" class="Symbol">}</a> <a id="49086" class="Symbol">→</a> <a id="49088" href="/lia/part1/NormalForms/#49005" class="Bound">lit</a> <a id="49092" href="/lia/part1/NormalForms/#46259" class="Function Operator">°</a> <a id="49094" href="/lia/part1/NormalForms/#42434" class="Datatype Operator">IsInClause</a> <a id="49105" href="/lia/part1/NormalForms/#49069" class="Bound">C</a> <a id="49107" class="Symbol">→</a> <a id="49109" href="/lia/part1/NormalForms/#48997" class="Bound">φ</a> <a id="49111" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="49113" href="/lia/part1/NormalForms/#49065" class="Bound">ψ</a> <a id="49115" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="49117" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a>
  <a id="49121" href="/lia/part1/NormalForms/#49057" class="Function">go</a> <a id="49124" href="/lia/part1/NormalForms/#42487" class="InductiveConstructor">stop1</a> <a id="49130" class="Symbol">=</a> <a id="49132" href="/lia/part1/NormalForms/#48278" class="Function">φ∧dualφ⟺⊥</a> <a id="49142" href="/lia/part1/NormalForms/#49005" class="Bound">lit</a>
  <a id="49148" href="/lia/part1/NormalForms/#49057" class="Function">go</a> <a id="49151" class="Symbol">{</a><a id="49152" class="Argument">ψ</a> <a id="49154" class="Symbol">=</a> <a id="49156" class="Symbol">_</a> <a id="49158" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="49160" href="/lia/part1/NormalForms/#49160" class="Bound">ψ</a><a id="49161" class="Symbol">}</a> <a id="49163" href="/lia/part1/NormalForms/#42542" class="InductiveConstructor">stop2</a> <a id="49169" href="/lia/part1/NormalForms/#49169" class="Bound">ϱ</a>
    <a id="49175" class="Keyword">rewrite</a> <a id="49183" href="/lia/part0/Equality/#405" class="Function">sym</a> <a id="49187" class="Symbol">(</a><a id="49188" href="/lia/part1/Semantics/#31687" class="Function">assocAnd</a> <a id="49197" href="/lia/part1/NormalForms/#48997" class="Bound">φ</a> <a id="49199" class="Symbol">(</a><a id="49200" href="/lia/part1/NormalForms/#45992" class="Function">dual</a> <a id="49205" href="/lia/part1/NormalForms/#48997" class="Bound">φ</a><a id="49206" class="Symbol">)</a> <a id="49208" href="/lia/part1/NormalForms/#49160" class="Bound">ψ</a> <a id="49210" href="/lia/part1/NormalForms/#49169" class="Bound">ϱ</a><a id="49211" class="Symbol">)</a> <a id="49213" class="Symbol">|</a>
                <a id="49231" href="/lia/part1/NormalForms/#48278" class="Function">φ∧dualφ⟺⊥</a> <a id="49241" href="/lia/part1/NormalForms/#49005" class="Bound">lit</a> <a id="49245" href="/lia/part1/NormalForms/#49169" class="Bound">ϱ</a> <a id="49247" class="Symbol">=</a> <a id="49249" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
  <a id="49256" href="/lia/part1/NormalForms/#49057" class="Function">go</a> <a id="49259" class="Symbol">{</a><a id="49260" class="Argument">ψ</a> <a id="49262" class="Symbol">=</a> <a id="49264" class="Symbol">_</a> <a id="49266" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="49268" href="/lia/part1/NormalForms/#49268" class="Bound">ψ</a><a id="49269" class="Symbol">}</a> <a id="49271" class="Symbol">(</a><a id="49272" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="49277" class="Symbol">{</a><a id="49278" class="Argument">ψ</a> <a id="49280" class="Symbol">=</a> <a id="49282" href="/lia/part1/NormalForms/#49282" class="Bound">φ'</a><a id="49284" class="Symbol">}</a> <a id="49286" href="/lia/part1/NormalForms/#49286" class="Bound">lit°InC</a><a id="49293" class="Symbol">)</a> <a id="49295" href="/lia/part1/NormalForms/#49295" class="Bound">ϱ</a>
    <a id="49301" class="Keyword">with</a> <a id="49306" href="/lia/part1/NormalForms/#49057" class="Function">go</a> <a id="49309" href="/lia/part1/NormalForms/#49286" class="Bound">lit°InC</a>
  <a id="49319" class="Symbol">...</a> <a id="49323" class="Symbol">|</a> <a id="49325" href="/lia/part1/NormalForms/#49325" class="Bound">φ∧ψ⟺⊥</a> <a id="49331" class="Keyword">rewrite</a> <a id="49339" href="/lia/part0/Equality/#405" class="Function">sym</a> <a id="49343" class="Symbol">(</a><a id="49344" href="/lia/part1/Semantics/#31687" class="Function">assocAnd</a> <a id="49353" href="/lia/part1/NormalForms/#48997" class="Bound">φ</a> <a id="49355" class="Bound">φ'</a> <a id="49358" class="Bound">ψ</a> <a id="49360" class="Bound">ϱ</a><a id="49361" class="Symbol">)</a> <a id="49363" class="Symbol">|</a>
                       <a id="49388" href="/lia/part1/Semantics/#31579" class="Function">commAnd</a> <a id="49396" href="/lia/part1/NormalForms/#48997" class="Bound">φ</a> <a id="49398" class="Bound">φ'</a> <a id="49401" class="Bound">ϱ</a> <a id="49403" class="Symbol">|</a>
                       <a id="49428" href="/lia/part1/Semantics/#31687" class="Function">assocAnd</a> <a id="49437" class="Bound">φ'</a> <a id="49440" href="/lia/part1/NormalForms/#48997" class="Bound">φ</a> <a id="49442" class="Bound">ψ</a> <a id="49444" class="Bound">ϱ</a> <a id="49446" class="Symbol">|</a>
                       <a id="49471" href="/lia/part1/NormalForms/#49325" class="Bound">φ∧ψ⟺⊥</a> <a id="49477" class="Bound">ϱ</a> <a id="49479" class="Symbol">=</a> <a id="49481" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

  <p>The third base case is symmetric. We have found the occurrence of
<code class="language-plaintext highlighter-rouge">lit °</code> in <code class="language-plaintext highlighter-rouge">C</code> and we proceed by nested induction on the evidence that
its dual <code class="language-plaintext highlighter-rouge">lit</code> is in <code class="language-plaintext highlighter-rouge">C</code>:</p>

  <pre class="Agda"><a id="49659" href="/lia/part1/NormalForms/#47943" class="CatchallClause Function">litAndDualInClause-sound</a><a id="49683" class="CatchallClause"> </a><a id="49684" class="CatchallClause Symbol">{</a><a id="49685" href="/lia/part1/NormalForms/#49685" class="CatchallClause Bound">φ</a><a id="49686" class="CatchallClause Symbol">}</a><a id="49687" class="CatchallClause"> </a><a id="49688" class="CatchallClause Symbol">{</a><a id="49689" class="CatchallClause Argument">lit</a><a id="49692" class="CatchallClause"> </a><a id="49693" class="CatchallClause Symbol">=</a><a id="49694" class="CatchallClause"> </a><a id="49695" href="/lia/part1/NormalForms/#49695" class="CatchallClause Bound">lit</a><a id="49698" class="CatchallClause Symbol">}</a><a id="49699" class="CatchallClause"> </a><a id="49700" class="CatchallClause Symbol">(</a><a id="49701" href="/lia/part1/NormalForms/#42617" class="CatchallClause InductiveConstructor">skip</a><a id="49705" class="CatchallClause"> </a><a id="49706" href="/lia/part1/NormalForms/#49706" class="CatchallClause Bound">litInC</a><a id="49712" class="CatchallClause Symbol">)</a><a id="49713" class="CatchallClause"> </a><a id="49714" href="/lia/part1/NormalForms/#42542" class="CatchallClause InductiveConstructor">stop2</a> <a id="49720" class="Symbol">=</a> <a id="49722" href="/lia/part1/NormalForms/#49741" class="Function">go</a> <a id="49725" href="/lia/part1/NormalForms/#49706" class="Bound">litInC</a> <a id="49732" class="Keyword">where</a>

  <a id="49741" href="/lia/part1/NormalForms/#49741" class="Function">go</a> <a id="49744" class="Symbol">:</a> <a id="49746" class="Symbol">∀</a> <a id="49748" class="Symbol">{</a><a id="49749" href="/lia/part1/NormalForms/#49749" class="Bound">ψ</a><a id="49750" class="Symbol">}</a> <a id="49752" class="Symbol">{</a><a id="49753" href="/lia/part1/NormalForms/#49753" class="Bound">C</a> <a id="49755" class="Symbol">:</a> <a id="49757" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="49767" href="/lia/part1/NormalForms/#49749" class="Bound">ψ</a><a id="49768" class="Symbol">}</a> <a id="49770" class="Symbol">→</a> <a id="49772" href="/lia/part1/NormalForms/#49695" class="Bound">lit</a> <a id="49776" href="/lia/part1/NormalForms/#42434" class="Datatype Operator">IsInClause</a> <a id="49787" href="/lia/part1/NormalForms/#49753" class="Bound">C</a> <a id="49789" class="Symbol">→</a> <a id="49791" href="/lia/part1/NormalForms/#45992" class="Function">dual</a> <a id="49796" href="/lia/part1/NormalForms/#49685" class="Bound">φ</a> <a id="49798" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="49800" href="/lia/part1/NormalForms/#49749" class="Bound">ψ</a> <a id="49802" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="49804" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a>
  <a id="49808" href="/lia/part1/NormalForms/#49741" class="Function">go</a> <a id="49811" href="/lia/part1/NormalForms/#42487" class="InductiveConstructor">stop1</a> <a id="49817" href="/lia/part1/NormalForms/#49817" class="Bound">ϱ</a> <a id="49819" class="Keyword">rewrite</a> <a id="49827" href="/lia/part1/Semantics/#31579" class="Function">commAnd</a> <a id="49835" class="Symbol">(</a><a id="49836" href="/lia/part1/NormalForms/#45992" class="Function">dual</a> <a id="49841" href="/lia/part1/NormalForms/#49685" class="Bound">φ</a><a id="49842" class="Symbol">)</a> <a id="49844" href="/lia/part1/NormalForms/#49685" class="Bound">φ</a> <a id="49846" href="/lia/part1/NormalForms/#49817" class="Bound">ϱ</a> <a id="49848" class="Symbol">=</a> <a id="49850" href="/lia/part1/NormalForms/#48278" class="Function">φ∧dualφ⟺⊥</a> <a id="49860" href="/lia/part1/NormalForms/#49695" class="Bound">lit</a> <a id="49864" href="/lia/part1/NormalForms/#49817" class="Bound">ϱ</a>
  <a id="49868" href="/lia/part1/NormalForms/#49741" class="Function">go</a> <a id="49871" class="Symbol">{</a><a id="49872" class="Argument">ψ</a> <a id="49874" class="Symbol">=</a> <a id="49876" class="Symbol">_</a> <a id="49878" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="49880" href="/lia/part1/NormalForms/#49880" class="Bound">ψ</a><a id="49881" class="Symbol">}</a> <a id="49883" href="/lia/part1/NormalForms/#42542" class="InductiveConstructor">stop2</a> <a id="49889" href="/lia/part1/NormalForms/#49889" class="Bound">ϱ</a>
    <a id="49895" class="Keyword">rewrite</a> <a id="49903" href="/lia/part0/Equality/#405" class="Function">sym</a> <a id="49907" class="Symbol">(</a><a id="49908" href="/lia/part1/Semantics/#31687" class="Function">assocAnd</a> <a id="49917" class="Symbol">(</a><a id="49918" href="/lia/part1/NormalForms/#45992" class="Function">dual</a> <a id="49923" href="/lia/part1/NormalForms/#49685" class="Bound">φ</a><a id="49924" class="Symbol">)</a> <a id="49926" href="/lia/part1/NormalForms/#49685" class="Bound">φ</a> <a id="49928" href="/lia/part1/NormalForms/#49880" class="Bound">ψ</a> <a id="49930" href="/lia/part1/NormalForms/#49889" class="Bound">ϱ</a><a id="49931" class="Symbol">)</a> <a id="49933" class="Symbol">|</a>
            <a id="49947" href="/lia/part1/Semantics/#31579" class="Function">commAnd</a> <a id="49955" class="Symbol">(</a><a id="49956" href="/lia/part1/NormalForms/#45992" class="Function">dual</a> <a id="49961" href="/lia/part1/NormalForms/#49685" class="Bound">φ</a><a id="49962" class="Symbol">)</a> <a id="49964" href="/lia/part1/NormalForms/#49685" class="Bound">φ</a> <a id="49966" href="/lia/part1/NormalForms/#49889" class="Bound">ϱ</a> <a id="49968" class="Symbol">|</a>
            <a id="49982" href="/lia/part1/NormalForms/#48278" class="Function">φ∧dualφ⟺⊥</a> <a id="49992" href="/lia/part1/NormalForms/#49695" class="Bound">lit</a> <a id="49996" href="/lia/part1/NormalForms/#49889" class="Bound">ϱ</a> <a id="49998" class="Symbol">=</a> <a id="50000" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
  <a id="50007" href="/lia/part1/NormalForms/#49741" class="Function">go</a> <a id="50010" class="Symbol">{</a><a id="50011" class="Argument">ψ</a> <a id="50013" class="Symbol">=</a> <a id="50015" class="Symbol">_</a> <a id="50017" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="50019" href="/lia/part1/NormalForms/#50019" class="Bound">ψ</a><a id="50020" class="Symbol">}</a> <a id="50022" class="Symbol">(</a><a id="50023" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="50028" class="Symbol">{</a><a id="50029" class="Argument">ψ</a> <a id="50031" class="Symbol">=</a> <a id="50033" href="/lia/part1/NormalForms/#50033" class="Bound">φ'</a><a id="50035" class="Symbol">}</a> <a id="50037" href="/lia/part1/NormalForms/#50037" class="Bound">litInC</a><a id="50043" class="Symbol">)</a> <a id="50045" href="/lia/part1/NormalForms/#50045" class="Bound">ϱ</a>
    <a id="50051" class="Keyword">with</a> <a id="50056" href="/lia/part1/NormalForms/#49741" class="Function">go</a> <a id="50059" href="/lia/part1/NormalForms/#50037" class="Bound">litInC</a>
  <a id="50068" class="Symbol">...</a> <a id="50072" class="Symbol">|</a> <a id="50074" href="/lia/part1/NormalForms/#50074" class="Bound">dualφ∧ψ⟺⊥</a>
    <a id="50088" class="Keyword">rewrite</a> <a id="50096" href="/lia/part0/Equality/#405" class="Function">sym</a> <a id="50100" class="Symbol">(</a><a id="50101" href="/lia/part1/Semantics/#31687" class="Function">assocAnd</a> <a id="50110" class="Symbol">(</a><a id="50111" href="/lia/part1/NormalForms/#45992" class="Function">dual</a> <a id="50116" href="/lia/part1/NormalForms/#49685" class="Bound">φ</a><a id="50117" class="Symbol">)</a> <a id="50119" class="Bound">φ'</a> <a id="50122" class="Bound">ψ</a> <a id="50124" class="Bound">ϱ</a><a id="50125" class="Symbol">)</a> <a id="50127" class="Symbol">|</a>
            <a id="50141" href="/lia/part1/Semantics/#31579" class="Function">commAnd</a> <a id="50149" class="Symbol">(</a><a id="50150" href="/lia/part1/NormalForms/#45992" class="Function">dual</a> <a id="50155" href="/lia/part1/NormalForms/#49685" class="Bound">φ</a><a id="50156" class="Symbol">)</a> <a id="50158" class="Bound">φ'</a> <a id="50161" class="Bound">ϱ</a> <a id="50163" class="Symbol">|</a>
            <a id="50177" href="/lia/part1/Semantics/#31687" class="Function">assocAnd</a> <a id="50186" class="Bound">φ'</a> <a id="50189" class="Symbol">(</a><a id="50190" href="/lia/part1/NormalForms/#45992" class="Function">dual</a> <a id="50195" href="/lia/part1/NormalForms/#49685" class="Bound">φ</a><a id="50196" class="Symbol">)</a> <a id="50198" class="Bound">ψ</a> <a id="50200" class="Bound">ϱ</a> <a id="50202" class="Symbol">|</a>
            <a id="50216" href="/lia/part1/NormalForms/#50074" class="Bound">dualφ∧ψ⟺⊥</a> <a id="50226" class="Bound">ϱ</a> <a id="50228" class="Symbol">=</a> <a id="50230" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

  <p>Finally, in the inductive step we know that neither <code class="language-plaintext highlighter-rouge">lit</code> nor its dual
appear as the first literal in <code class="language-plaintext highlighter-rouge">C</code>, and we can thus appeal to recursion:</p>

  <pre class="Agda"><a id="50389" href="/lia/part1/NormalForms/#47943" class="CatchallClause Function">litAndDualInClause-sound</a><a id="50413" class="CatchallClause"> </a><a id="50414" class="CatchallClause Symbol">(</a><a id="50415" href="/lia/part1/NormalForms/#42617" class="CatchallClause InductiveConstructor">skip</a><a id="50419" class="CatchallClause"> </a><a id="50420" href="/lia/part1/NormalForms/#50420" class="CatchallClause Bound">litInC</a><a id="50426" class="CatchallClause Symbol">)</a><a id="50427" class="CatchallClause"> </a><a id="50428" class="CatchallClause Symbol">(</a><a id="50429" href="/lia/part1/NormalForms/#42617" class="CatchallClause InductiveConstructor">skip</a><a id="50433" class="CatchallClause"> </a><a id="50434" href="/lia/part1/NormalForms/#50434" class="CatchallClause Bound">lit°InC</a><a id="50441" class="CatchallClause Symbol">)</a><a id="50442" class="CatchallClause"> </a><a id="50443" href="/lia/part1/NormalForms/#50443" class="CatchallClause Bound">ϱ</a>
  <a id="50447" class="Keyword">with</a> <a id="50452" href="/lia/part1/NormalForms/#47943" class="Function">litAndDualInClause-sound</a> <a id="50477" href="/lia/part1/NormalForms/#50420" class="Bound">litInC</a> <a id="50484" href="/lia/part1/NormalForms/#50434" class="Bound">lit°InC</a>
<a id="50492" class="Symbol">...</a> <a id="50496" class="Symbol">|</a> <a id="50498" href="/lia/part1/NormalForms/#50498" class="Bound">ξ⟺⊥</a> <a id="50502" class="Keyword">rewrite</a> <a id="50510" href="/lia/part1/NormalForms/#50498" class="Bound">ξ⟺⊥</a> <a id="50514" class="Bound">ϱ</a> <a id="50516" class="Symbol">=</a> <a id="50518" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

</div>

<h3 id="case-3-clause-subsumption">Case 3: Clause subsumption</h3>

<p>In the previous section we have seen that we can remove a clause when it
is unsatisfiable. In this section we explore a way to remove a clause
whenever there is another clause which is “weaker” than this one.</p>

<p>For instance, consider the <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> formula</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>` p₀ ∨ ` p₀ ∧ ` p₁.
</code></pre></div></div>

<p>Since the second clause logically implies the first one, it can be
removed, and thus the formula above is logically equivalent to</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>` p₀.
</code></pre></div></div>

<p>We formally capture that a clause <code class="language-plaintext highlighter-rouge">C₁</code> is weaker than a clause <code class="language-plaintext highlighter-rouge">C₀</code> with
the following <em>subsumption relation</em>:</p>

<pre class="Agda"><a id="_≼_"></a><a id="51103" href="/lia/part1/NormalForms/#51103" class="Function Operator">_≼_</a> <a id="51107" class="Symbol">:</a> <a id="51109" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="51119" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="51121" class="Symbol">→</a> <a id="51123" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="51133" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="51135" class="Symbol">→</a> <a id="51137" class="PrimitiveType">Set</a>
<a id="51141" href="/lia/part1/NormalForms/#51141" class="Bound">C₀</a> <a id="51144" href="/lia/part1/NormalForms/#51103" class="Function Operator">≼</a> <a id="51146" href="/lia/part1/NormalForms/#51146" class="Bound">C₁</a> <a id="51149" class="Symbol">=</a> <a id="51151" class="Symbol">∀</a> <a id="51153" class="Symbol">{</a><a id="51154" href="/lia/part1/NormalForms/#51154" class="Bound">ξ</a><a id="51155" class="Symbol">}</a> <a id="51157" class="Symbol">{</a><a id="51158" href="/lia/part1/NormalForms/#51158" class="Bound">l</a> <a id="51160" class="Symbol">:</a> <a id="51162" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="51170" href="/lia/part1/NormalForms/#51154" class="Bound">ξ</a><a id="51171" class="Symbol">}</a> <a id="51173" class="Symbol">→</a> <a id="51175" href="/lia/part1/NormalForms/#51158" class="Bound">l</a> <a id="51177" href="/lia/part1/NormalForms/#42434" class="Datatype Operator">IsInClause</a> <a id="51188" href="/lia/part1/NormalForms/#51146" class="Bound">C₁</a> <a id="51191" class="Symbol">→</a> <a id="51193" href="/lia/part1/NormalForms/#51158" class="Bound">l</a> <a id="51195" href="/lia/part1/NormalForms/#42434" class="Datatype Operator">IsInClause</a> <a id="51206" href="/lia/part1/NormalForms/#51141" class="Bound">C₀</a></pre>

<div class="introbox">

  <p>In other words, every literal in the weaker (subsuming) clause <code class="language-plaintext highlighter-rouge">C₁</code> must
appear in the stronger (subsumed) clause <code class="language-plaintext highlighter-rouge">C₀</code> (which thus may contain
additional literals). We can of course decide whether a given clause is
subsumed by another:</p>

  <pre class="Agda"><a id="_≼?_"></a><a id="51465" href="/lia/part1/NormalForms/#51465" class="Function Operator">_≼?_</a> <a id="51470" class="Symbol">:</a> <a id="51472" class="Symbol">(</a><a id="51473" href="/lia/part1/NormalForms/#51473" class="Bound">C₀</a> <a id="51476" class="Symbol">:</a> <a id="51478" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="51488" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a><a id="51489" class="Symbol">)</a> <a id="51491" class="Symbol">(</a><a id="51492" href="/lia/part1/NormalForms/#51492" class="Bound">C₁</a> <a id="51495" class="Symbol">:</a> <a id="51497" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="51507" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a><a id="51508" class="Symbol">)</a> <a id="51510" class="Symbol">→</a> <a id="51512" href="/lia/part0/Decidable/#150" class="Datatype">Dec</a> <a id="51516" class="Symbol">(</a><a id="51517" href="/lia/part1/NormalForms/#51473" class="Bound">C₀</a> <a id="51520" href="/lia/part1/NormalForms/#51103" class="Function Operator">≼</a> <a id="51522" href="/lia/part1/NormalForms/#51492" class="Bound">C₁</a><a id="51524" class="Symbol">)</a></pre>

  <p><button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="51542" href="/lia/part1/NormalForms/#51542" class="Bound">C₀</a> <a id="51545" href="/lia/part1/NormalForms/#51465" class="Function Operator">≼?</a> <a id="51548" class="Symbol">(</a><a id="51549" href="/lia/part1/NormalForms/#51549" class="Bound">l</a> <a id="51551" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="51552" class="Symbol">)</a> <a id="51554" class="Keyword">with</a> <a id="51559" href="/lia/part1/NormalForms/#51549" class="Bound">l</a> <a id="51561" href="/lia/part1/NormalForms/#43148" class="Function Operator">IsInClause?</a> <a id="51573" href="/lia/part1/NormalForms/#51542" class="Bound">C₀</a>
<a id="51576" class="Symbol">...</a> <a id="51580" class="Symbol">|</a> <a id="51582" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="51585" href="/lia/part1/NormalForms/#51585" class="Bound">~lInC₀</a> <a id="51592" class="Symbol">=</a> <a id="51594" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="51597" class="Symbol">λ</a> <a id="51599" href="/lia/part1/NormalForms/#51599" class="Bound">C₀≼C₁</a> <a id="51605" class="Symbol">→</a> <a id="51607" href="/lia/part1/NormalForms/#51585" class="Bound">~lInC₀</a> <a id="51614" class="Symbol">(</a><a id="51615" href="/lia/part1/NormalForms/#51599" class="Bound">C₀≼C₁</a> <a id="51621" href="/lia/part1/NormalForms/#42487" class="InductiveConstructor">stop1</a><a id="51626" class="Symbol">)</a>
<a id="51628" class="Symbol">...</a> <a id="51632" class="Symbol">|</a> <a id="51634" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="51638" href="/lia/part1/NormalForms/#51638" class="Bound">lInC₀</a> <a id="51644" class="Symbol">=</a> <a id="51646" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="51650" class="Symbol">λ{</a><a id="51652" href="/lia/part1/NormalForms/#42487" class="InductiveConstructor">stop1</a> <a id="51658" class="Symbol">→</a> <a id="51660" href="/lia/part1/NormalForms/#51638" class="Bound">lInC₀</a><a id="51665" class="Symbol">}</a>
<a id="51667" href="/lia/part1/NormalForms/#51667" class="Bound">C₀</a> <a id="51670" href="/lia/part1/NormalForms/#51465" class="Function Operator">≼?</a> <a id="51673" class="Symbol">(</a><a id="51674" href="/lia/part1/NormalForms/#51674" class="Bound">l</a> <a id="51676" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="51678" href="/lia/part1/NormalForms/#51678" class="Bound">C₁</a><a id="51680" class="Symbol">)</a>  <a id="51683" class="Keyword">with</a> <a id="51688" href="/lia/part1/NormalForms/#51674" class="Bound">l</a> <a id="51690" href="/lia/part1/NormalForms/#43148" class="Function Operator">IsInClause?</a> <a id="51702" href="/lia/part1/NormalForms/#51667" class="Bound">C₀</a>
<a id="51705" class="Symbol">...</a> <a id="51709" class="Symbol">|</a> <a id="51711" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="51714" href="/lia/part1/NormalForms/#51714" class="Bound">~lInC₀</a> <a id="51721" class="Symbol">=</a> <a id="51723" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="51726" class="Symbol">λ</a> <a id="51728" href="/lia/part1/NormalForms/#51728" class="Bound">C₀≼l,C₁</a> <a id="51736" class="Symbol">→</a> <a id="51738" href="/lia/part1/NormalForms/#51714" class="Bound">~lInC₀</a> <a id="51745" class="Symbol">(</a><a id="51746" href="/lia/part1/NormalForms/#51728" class="Bound">C₀≼l,C₁</a> <a id="51754" href="/lia/part1/NormalForms/#42542" class="InductiveConstructor">stop2</a><a id="51759" class="Symbol">)</a>
<a id="51761" class="Symbol">...</a> <a id="51765" class="Symbol">|</a> <a id="51767" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="51771" href="/lia/part1/NormalForms/#51771" class="Bound">lInC₀</a> <a id="51777" class="Keyword">with</a> <a id="51782" class="Bound">C₀</a> <a id="51785" href="/lia/part1/NormalForms/#51465" class="Function Operator">≼?</a> <a id="51788" class="Bound">C₁</a>
<a id="51791" class="Symbol">...</a> <a id="51795" class="Symbol">|</a> <a id="51797" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="51800" href="/lia/part1/NormalForms/#51800" class="Bound">~C₀≼C₁</a> <a id="51807" class="Symbol">=</a> <a id="51809" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="51812" class="Symbol">λ</a> <a id="51814" href="/lia/part1/NormalForms/#51814" class="Bound">C₀≼l,C₁</a> <a id="51822" class="Symbol">→</a> <a id="51824" href="/lia/part1/NormalForms/#51800" class="Bound">~C₀≼C₁</a> <a id="51831" class="Symbol">λ</a> <a id="51833" href="/lia/part1/NormalForms/#51833" class="Bound">l'InC₁</a> <a id="51840" class="Symbol">→</a> <a id="51842" href="/lia/part1/NormalForms/#51814" class="Bound">C₀≼l,C₁</a> <a id="51850" class="Symbol">(</a><a id="51851" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="51856" href="/lia/part1/NormalForms/#51833" class="Bound">l'InC₁</a><a id="51862" class="Symbol">)</a>
<a id="51864" class="Symbol">...</a> <a id="51868" class="Symbol">|</a> <a id="51870" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="51874" href="/lia/part1/NormalForms/#51874" class="Bound">C₀≼C₁</a> <a id="51880" class="Symbol">=</a> <a id="51882" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="51886" class="Symbol">λ{</a><a id="51888" href="/lia/part1/NormalForms/#42542" class="InductiveConstructor">stop2</a> <a id="51894" class="Symbol">→</a> <a id="51896" class="Bound">lInC₀</a> <a id="51902" class="Symbol">;</a> <a id="51904" class="Symbol">(</a><a id="51905" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="51910" href="/lia/part1/NormalForms/#51910" class="Bound">x</a><a id="51911" class="Symbol">)</a> <a id="51913" class="Symbol">→</a> <a id="51915" href="/lia/part1/NormalForms/#51874" class="Bound">C₀≼C₁</a> <a id="51921" href="/lia/part1/NormalForms/#51910" class="Bound">x</a><a id="51922" class="Symbol">}</a>

<a id="51925" class="Keyword">infix</a> <a id="51931" class="Number">9</a> <a id="51933" href="/lia/part1/NormalForms/#51103" class="Function Operator">_≼_</a> <a id="51937" href="/lia/part1/NormalForms/#51465" class="Function Operator">_≼?_</a></pre>

</div>

<p>In the previous example, we can check that the first clause is subsumed
by the second one:</p>

<pre class="Agda"><a id="52047" href="/lia/part1/NormalForms/#52047" class="Function">_</a> <a id="52049" class="Symbol">:</a> <a id="52051" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="52055" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="52058" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="52060" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="52064" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="52067" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="52069" href="/lia/part1/NormalForms/#51465" class="Function Operator">≼?</a> <a id="52072" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="52076" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="52079" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a> <a id="52081" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="52083" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="52087" class="Symbol">_</a>
<a id="52089" class="Symbol">_</a> <a id="52091" class="Symbol">=</a> <a id="52093" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>The fundamental property of the subsumption relation <a href="#_%E2%89%BC_"><code class="language-plaintext highlighter-rouge">_≼_</code></a> is
that whenever the subsumed clause/formula is true, then so is the
subsuming one:</p>

<pre class="Agda"><a id="monotone-≼"></a><a id="52255" href="/lia/part1/NormalForms/#52255" class="Function">monotone-≼</a> <a id="52266" class="Symbol">:</a> <a id="52268" class="Symbol">∀</a> <a id="52270" class="Symbol">{</a><a id="52271" href="/lia/part1/NormalForms/#52271" class="Bound">C</a> <a id="52273" class="Symbol">:</a> <a id="52275" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="52285" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a><a id="52286" class="Symbol">}</a> <a id="52288" class="Symbol">{</a><a id="52289" href="/lia/part1/NormalForms/#52289" class="Bound">D</a> <a id="52291" class="Symbol">:</a> <a id="52293" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="52303" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a><a id="52304" class="Symbol">}</a> <a id="52306" class="Symbol">→</a>
  <a id="52310" href="/lia/part1/NormalForms/#52271" class="Bound">C</a> <a id="52312" href="/lia/part1/NormalForms/#51103" class="Function Operator">≼</a> <a id="52314" href="/lia/part1/NormalForms/#52289" class="Bound">D</a> <a id="52316" class="Symbol">→</a>
  <a id="52320" class="Comment">------------------------------------</a>
  <a id="52359" href="/lia/part0/Logic/#216" class="Function">∀[</a> <a id="52362" href="/lia/part1/NormalForms/#52362" class="Bound">ϱ</a> <a id="52364" href="/lia/part0/Logic/#216" class="Function">]</a> <a id="52366" class="Symbol">(</a><a id="52367" href="/lia/part1/Semantics/#12404" class="Function Operator">⟦</a> <a id="52369" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="52371" href="/lia/part1/Semantics/#12404" class="Function Operator">⟧</a> <a id="52373" href="/lia/part1/NormalForms/#52362" class="Bound">ϱ</a> <a id="52375" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="52377" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="52380" class="Symbol">→</a> <a id="52382" href="/lia/part1/Semantics/#12404" class="Function Operator">⟦</a> <a id="52384" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="52386" href="/lia/part1/Semantics/#12404" class="Function Operator">⟧</a> <a id="52388" href="/lia/part1/NormalForms/#52362" class="Bound">ϱ</a> <a id="52390" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="52392" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a><a id="52394" class="Symbol">)</a></pre>

<div class="introbox">

  <p>In order to prove this property, we first need to explain that a clause
is the same as a conjunction of a sequence of literals:</p>

  <pre class="Agda"><a id="DNFClause2List"></a><a id="52544" href="/lia/part1/NormalForms/#52544" class="Function">DNFClause2List</a> <a id="52559" class="Symbol">:</a> <a id="52561" class="Symbol">(</a><a id="52562" href="/lia/part1/NormalForms/#52562" class="Bound">C</a> <a id="52564" class="Symbol">:</a> <a id="52566" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="52576" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a><a id="52577" class="Symbol">)</a> <a id="52579" class="Symbol">→</a>
  <a id="52583" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="52586" href="/lia/part1/NormalForms/#52586" class="Bound">φs</a> <a id="52589" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="52591" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="52593" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="52595" href="/lia/part1/Semantics/#40101" class="Function Operator">⋀</a> <a id="52597" href="/lia/part1/NormalForms/#52586" class="Bound">φs</a> <a id="52600" href="/lia/part0/Logic/#1770" class="Record Operator">×</a>
  <a id="52604" class="Symbol">(</a><a id="52605" href="/lia/part0/List/#9607" class="Function">∀[</a> <a id="52608" href="/lia/part1/NormalForms/#52608" class="Bound">ξ</a> <a id="52610" href="/lia/part0/List/#9607" class="Function">∈</a> <a id="52612" href="/lia/part1/NormalForms/#52586" class="Bound">φs</a> <a id="52615" href="/lia/part0/List/#9607" class="Function">]</a> <a id="52617" href="/lia/part0/Logic/#324" class="Record">Σ</a> <a id="52619" class="Symbol">(</a><a id="52620" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="52628" href="/lia/part1/NormalForms/#52608" class="Bound">ξ</a><a id="52629" class="Symbol">)</a> <a id="52631" class="Symbol">λ</a> <a id="52633" href="/lia/part1/NormalForms/#52633" class="Bound">l</a> <a id="52635" class="Symbol">→</a> <a id="52637" href="/lia/part1/NormalForms/#52633" class="Bound">l</a> <a id="52639" href="/lia/part1/NormalForms/#42434" class="Datatype Operator">IsInClause</a> <a id="52650" href="/lia/part1/NormalForms/#52562" class="Bound">C</a><a id="52651" class="Symbol">)</a> <a id="52653" href="/lia/part0/Logic/#1770" class="Record Operator">×</a>
  <a id="52657" class="Symbol">(∀</a> <a id="52660" class="Symbol">{</a><a id="52661" href="/lia/part1/NormalForms/#52661" class="Bound">ξ</a><a id="52662" class="Symbol">}</a> <a id="52664" class="Symbol">(</a><a id="52665" href="/lia/part1/NormalForms/#52665" class="Bound">l</a> <a id="52667" class="Symbol">:</a> <a id="52669" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="52677" href="/lia/part1/NormalForms/#52661" class="Bound">ξ</a><a id="52678" class="Symbol">)</a> <a id="52680" class="Symbol">→</a> <a id="52682" href="/lia/part1/NormalForms/#52665" class="Bound">l</a> <a id="52684" href="/lia/part1/NormalForms/#42434" class="Datatype Operator">IsInClause</a> <a id="52695" href="/lia/part1/NormalForms/#52562" class="Bound">C</a> <a id="52697" class="Symbol">→</a> <a id="52699" href="/lia/part1/NormalForms/#52661" class="Bound">ξ</a> <a id="52701" href="/lia/part0/List/#7976" class="Datatype Operator">∈</a> <a id="52703" href="/lia/part1/NormalForms/#52586" class="Bound">φs</a><a id="52705" class="Symbol">)</a></pre>

  <p><button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <p>The proof is almost a standard structural induction, which the
difference that we need to split the inductive step in two separate case
since conjunctions <a href="../../part1/Semantics#%E2%8B%80_"><code class="language-plaintext highlighter-rouge">⋀_</code></a> are defined in terms
of <a href="../../part0/List#foldr1"><code class="language-plaintext highlighter-rouge">foldr1</code></a> , and thus we need to know
whether the clause <code class="language-plaintext highlighter-rouge">C</code> is just a literal <code class="language-plaintext highlighter-rouge">l' ∙</code> or compound <code class="language-plaintext highlighter-rouge">l' , C'</code>:</p>

  <pre class="Agda"><a id="53066" href="/lia/part1/NormalForms/#52544" class="Function">DNFClause2List</a> <a id="53081" class="Symbol">{</a><a id="53082" href="/lia/part1/NormalForms/#53082" class="Bound">φ</a><a id="53083" class="Symbol">}</a> <a id="53085" class="Symbol">(</a><a id="53086" href="/lia/part1/NormalForms/#53086" class="Bound">l</a> <a id="53088" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="53089" class="Symbol">)</a> <a id="53091" class="Symbol">=</a> <a id="53093" href="/lia/part0/List/#1792" class="Function">[</a> <a id="53095" href="/lia/part1/NormalForms/#53082" class="Bound">φ</a> <a id="53097" href="/lia/part0/List/#2043" class="Function Operator">]</a> <a id="53099" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="53101" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a> <a id="53106" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="53108" class="Symbol">(λ{</a> <a id="53112" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a> <a id="53117" class="Symbol">→</a> <a id="53119" href="/lia/part1/NormalForms/#53086" class="Bound">l</a> <a id="53121" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="53123" href="/lia/part1/NormalForms/#42487" class="InductiveConstructor">stop1</a><a id="53128" class="Symbol">})</a> <a id="53131" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="53133" class="Symbol">λ{</a><a id="53135" href="/lia/part1/NormalForms/#53135" class="Bound">l'</a> <a id="53138" href="/lia/part1/NormalForms/#42487" class="InductiveConstructor">stop1</a> <a id="53144" class="Symbol">→</a> <a id="53146" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a><a id="53150" class="Symbol">}</a>

<a id="53153" href="/lia/part1/NormalForms/#52544" class="Function">DNFClause2List</a> <a id="53168" class="Symbol">{</a><a id="53169" href="/lia/part1/NormalForms/#53169" class="Bound">φ</a> <a id="53171" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="53173" href="/lia/part1/NormalForms/#53173" class="Bound">φ'</a><a id="53175" class="Symbol">}</a> <a id="53177" class="Symbol">(</a><a id="53178" href="/lia/part1/NormalForms/#53178" class="Bound">l</a> <a id="53180" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="53182" href="/lia/part1/NormalForms/#53182" class="Bound">C</a><a id="53183" class="Symbol">@(</a><a id="53185" href="/lia/part1/NormalForms/#53185" class="Bound">l'</a> <a id="53188" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="53189" class="Symbol">))</a> <a id="53192" class="Symbol">=</a> <a id="53194" href="/lia/part1/NormalForms/#53169" class="Bound">φ</a> <a id="53196" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="53198" href="/lia/part1/NormalForms/#53173" class="Bound">φ'</a> <a id="53201" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="53203" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a> <a id="53205" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="53207" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a> <a id="53212" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a>
  <a id="53216" class="Symbol">(λ{</a> <a id="53220" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a> <a id="53225" class="Symbol">→</a> <a id="53227" href="/lia/part1/NormalForms/#53178" class="Bound">l</a> <a id="53229" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="53231" href="/lia/part1/NormalForms/#42542" class="InductiveConstructor">stop2</a> <a id="53237" class="Symbol">;</a> <a id="53239" class="Symbol">(</a><a id="53240" href="/lia/part0/List/#8065" class="InductiveConstructor">there</a> <a id="53246" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a><a id="53250" class="Symbol">)</a> <a id="53252" class="Symbol">→</a> <a id="53254" href="/lia/part1/NormalForms/#53185" class="Bound">l'</a> <a id="53257" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="53259" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="53264" href="/lia/part1/NormalForms/#42487" class="InductiveConstructor">stop1</a><a id="53269" class="Symbol">})</a> <a id="53272" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="53274" class="Symbol">λ{</a> <a id="53277" href="/lia/part1/NormalForms/#53277" class="Bound">l₁</a> <a id="53280" href="/lia/part1/NormalForms/#42542" class="InductiveConstructor">stop2</a> <a id="53286" class="Symbol">→</a> <a id="53288" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a> <a id="53293" class="Symbol">;</a> <a id="53295" href="/lia/part1/NormalForms/#53295" class="Bound">l₁</a> <a id="53298" class="Symbol">(</a><a id="53299" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="53304" href="/lia/part1/NormalForms/#42487" class="InductiveConstructor">stop1</a><a id="53309" class="Symbol">)</a> <a id="53311" class="Symbol">→</a> <a id="53313" href="/lia/part0/List/#8065" class="InductiveConstructor">there</a> <a id="53319" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a><a id="53323" class="Symbol">}</a>

<a id="53326" href="/lia/part1/NormalForms/#52544" class="Function">DNFClause2List</a> <a id="53341" class="Symbol">{</a><a id="53342" href="/lia/part1/NormalForms/#53342" class="Bound">φ</a> <a id="53344" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="53346" href="/lia/part1/NormalForms/#53346" class="Bound">ψ</a><a id="53347" class="Symbol">}</a> <a id="53349" class="Symbol">(</a><a id="53350" href="/lia/part1/NormalForms/#53350" class="Bound">l</a> <a id="53352" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="53354" href="/lia/part1/NormalForms/#53354" class="Bound">C</a><a id="53355" class="Symbol">@(</a><a id="53357" href="/lia/part1/NormalForms/#53357" class="Bound">l'</a> <a id="53360" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="53362" href="/lia/part1/NormalForms/#53362" class="Bound">C'</a><a id="53364" class="Symbol">))</a>
  <a id="53369" class="Keyword">with</a> <a id="53374" href="/lia/part1/NormalForms/#52544" class="Function">DNFClause2List</a> <a id="53389" href="/lia/part1/NormalForms/#53354" class="Bound">C</a>
  
<a id="53394" class="Symbol">...</a> <a id="53398" class="Symbol">|</a> <a id="53400" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a> <a id="53402" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="53404" href="/lia/part1/NormalForms/#53404" class="Bound">ψ≡⋀φs</a> <a id="53410" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="53412" href="/lia/part1/NormalForms/#53412" class="Bound">prop1</a> <a id="53418" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="53420" href="/lia/part1/NormalForms/#53420" class="Bound">prop2</a> <a id="53426" class="Keyword">with</a> <a id="53431" class="Symbol">()</a> ← <a id="53436" href="/lia/part1/NormalForms/#53420" class="Bound">prop2</a> <a id="53442" class="Symbol">_</a> <a id="53444" href="/lia/part1/NormalForms/#42542" class="InductiveConstructor">stop2</a>
  
<a id="53453" class="Symbol">...</a> <a id="53457" class="Symbol">|</a> <a id="53459" href="/lia/part1/NormalForms/#53459" class="Bound">φs</a><a id="53461" class="Symbol">@(</a><a id="53463" href="/lia/part1/NormalForms/#53463" class="Bound">φ'</a> <a id="53466" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="53468" href="/lia/part1/NormalForms/#53468" class="Bound">φs'</a><a id="53471" class="Symbol">)</a> <a id="53473" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="53475" href="/lia/part1/NormalForms/#53475" class="Bound">ψ≡⋀φs</a> <a id="53481" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="53483" href="/lia/part1/NormalForms/#53483" class="Bound">prop1</a> <a id="53489" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="53491" href="/lia/part1/NormalForms/#53491" class="Bound">prop2</a>
    <a id="53501" class="Symbol">=</a> <a id="53503" class="Bound">φ</a> <a id="53505" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="53507" href="/lia/part1/NormalForms/#53459" class="Bound">φs</a> <a id="53510" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="53512" href="/lia/part1/NormalForms/#53545" class="Function">goal1</a> <a id="53518" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="53520" href="/lia/part1/NormalForms/#53612" class="Function">goal2</a> <a id="53526" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="53528" href="/lia/part1/NormalForms/#53793" class="Function">goal3</a> <a id="53534" class="Keyword">where</a>

    <a id="53545" href="/lia/part1/NormalForms/#53545" class="Function">goal1</a> <a id="53551" class="Symbol">:</a> <a id="53553" class="Bound">φ</a> <a id="53555" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="53557" class="Bound">ψ</a> <a id="53559" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="53561" href="/lia/part1/Semantics/#40101" class="Function Operator">⋀</a> <a id="53563" class="Symbol">(</a><a id="53564" class="Bound">φ</a> <a id="53566" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="53568" href="/lia/part1/NormalForms/#53459" class="Bound">φs</a><a id="53570" class="Symbol">)</a>
    <a id="53576" href="/lia/part1/NormalForms/#53545" class="Function">goal1</a> <a id="53582" class="Keyword">rewrite</a> <a id="53590" href="/lia/part0/Equality/#405" class="Function">sym</a> <a id="53594" href="/lia/part1/NormalForms/#53475" class="Bound">ψ≡⋀φs</a> <a id="53600" class="Symbol">=</a> <a id="53602" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>

    <a id="53612" href="/lia/part1/NormalForms/#53612" class="Function">goal2</a> <a id="53618" class="Symbol">:</a> <a id="53620" href="/lia/part0/List/#9607" class="Function">∀[</a> <a id="53623" href="/lia/part1/NormalForms/#53623" class="Bound">ξ</a> <a id="53625" href="/lia/part0/List/#9607" class="Function">∈</a> <a id="53627" class="Bound">φ</a> <a id="53629" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="53631" href="/lia/part1/NormalForms/#53459" class="Bound">φs</a> <a id="53634" href="/lia/part0/List/#9607" class="Function">]</a> <a id="53636" href="/lia/part0/Logic/#324" class="Record">Σ</a> <a id="53638" class="Symbol">(</a><a id="53639" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="53647" href="/lia/part1/NormalForms/#53623" class="Bound">ξ</a><a id="53648" class="Symbol">)</a> <a id="53650" class="Symbol">λ</a> <a id="53652" href="/lia/part1/NormalForms/#53652" class="Bound">lit</a> <a id="53656" class="Symbol">→</a> <a id="53658" href="/lia/part1/NormalForms/#53652" class="Bound">lit</a> <a id="53662" href="/lia/part1/NormalForms/#42434" class="Datatype Operator">IsInClause</a> <a id="53673" class="Symbol">(</a><a id="53674" class="Bound">l</a> <a id="53676" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="53678" class="Bound">C</a><a id="53679" class="Symbol">)</a>
    <a id="53685" href="/lia/part1/NormalForms/#53612" class="Function">goal2</a> <a id="53691" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a> <a id="53696" class="Symbol">=</a> <a id="53698" class="Bound">l</a> <a id="53700" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="53702" href="/lia/part1/NormalForms/#42542" class="InductiveConstructor">stop2</a>
    <a id="53712" href="/lia/part1/NormalForms/#53612" class="Function">goal2</a> <a id="53718" class="Symbol">{</a><a id="53719" href="/lia/part1/NormalForms/#53719" class="Bound">ξ</a><a id="53720" class="Symbol">}</a> <a id="53722" class="Symbol">(</a><a id="53723" href="/lia/part0/List/#8065" class="InductiveConstructor">there</a> <a id="53729" href="/lia/part1/NormalForms/#53729" class="Bound">x</a><a id="53730" class="Symbol">)</a> <a id="53732" class="Keyword">with</a> <a id="53737" href="/lia/part1/NormalForms/#53483" class="Bound">prop1</a> <a id="53743" class="Symbol">{</a><a id="53744" href="/lia/part1/NormalForms/#53719" class="Bound">ξ</a><a id="53745" class="Symbol">}</a> <a id="53747" href="/lia/part1/NormalForms/#53729" class="Bound">x</a>
    <a id="53753" class="Symbol">...</a> <a id="53757" class="Symbol">|</a> <a id="53759" href="/lia/part1/NormalForms/#53759" class="Bound">lit</a> <a id="53763" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="53765" href="/lia/part1/NormalForms/#53765" class="Bound">have</a> <a id="53770" class="Symbol">=</a> <a id="53772" href="/lia/part1/NormalForms/#53759" class="Bound">lit</a> <a id="53776" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="53778" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="53783" href="/lia/part1/NormalForms/#53765" class="Bound">have</a>

    <a id="53793" href="/lia/part1/NormalForms/#53793" class="Function">goal3</a> <a id="53799" class="Symbol">:</a> <a id="53801" class="Symbol">∀</a> <a id="53803" class="Symbol">{</a><a id="53804" href="/lia/part1/NormalForms/#53804" class="Bound">ξ</a><a id="53805" class="Symbol">}</a> <a id="53807" class="Symbol">(</a><a id="53808" href="/lia/part1/NormalForms/#53808" class="Bound">lit</a> <a id="53812" class="Symbol">:</a> <a id="53814" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="53822" href="/lia/part1/NormalForms/#53804" class="Bound">ξ</a><a id="53823" class="Symbol">)</a> <a id="53825" class="Symbol">→</a> <a id="53827" href="/lia/part1/NormalForms/#53808" class="Bound">lit</a> <a id="53831" href="/lia/part1/NormalForms/#42434" class="Datatype Operator">IsInClause</a> <a id="53842" class="Symbol">(</a><a id="53843" class="Bound">l</a> <a id="53845" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="53847" class="Bound">C</a><a id="53848" class="Symbol">)</a> <a id="53850" class="Symbol">→</a> <a id="53852" href="/lia/part1/NormalForms/#53804" class="Bound">ξ</a> <a id="53854" href="/lia/part0/List/#7976" class="Datatype Operator">∈</a> <a id="53856" class="Bound">φ</a> <a id="53858" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="53860" href="/lia/part1/NormalForms/#53459" class="Bound">φs</a>
    <a id="53867" href="/lia/part1/NormalForms/#53793" class="Function">goal3</a> <a id="53873" href="/lia/part1/NormalForms/#53873" class="Bound">lit</a> <a id="53877" href="/lia/part1/NormalForms/#42542" class="InductiveConstructor">stop2</a> <a id="53883" class="Symbol">=</a> <a id="53885" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a>
    <a id="53894" href="/lia/part1/NormalForms/#53793" class="Function">goal3</a> <a id="53900" href="/lia/part1/NormalForms/#53900" class="Bound">lit</a> <a id="53904" class="Symbol">(</a><a id="53905" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="53910" href="/lia/part1/NormalForms/#53910" class="Bound">x</a><a id="53911" class="Symbol">)</a> <a id="53913" class="Symbol">=</a> <a id="53915" href="/lia/part0/List/#8065" class="InductiveConstructor">there</a> <a id="53921" class="Symbol">(</a><a id="53922" href="/lia/part1/NormalForms/#53491" class="Bound">prop2</a> <a id="53928" href="/lia/part1/NormalForms/#53900" class="Bound">lit</a> <a id="53932" href="/lia/part1/NormalForms/#53910" class="Bound">x</a><a id="53933" class="Symbol">)</a></pre>

</div>

<p>The proof of <a href="#monotone-%E2%89%BC"><code class="language-plaintext highlighter-rouge">monotone-≼</code></a> follows immediately from the
connection between clauses and conjunctions from
<a href="#DNFClause2List"><code class="language-plaintext highlighter-rouge">DNFClause2List</code></a> :</p>

<pre class="Agda"><a id="54079" href="/lia/part1/NormalForms/#52255" class="Function">monotone-≼</a> <a id="54090" class="Symbol">{</a><a id="54091" href="/lia/part1/NormalForms/#54091" class="Bound">φ</a><a id="54092" class="Symbol">}</a> <a id="54094" class="Symbol">{</a><a id="54095" href="/lia/part1/NormalForms/#54095" class="Bound">ψ</a><a id="54096" class="Symbol">}</a> <a id="54098" class="Symbol">{</a><a id="54099" href="/lia/part1/NormalForms/#54099" class="Bound">C</a><a id="54100" class="Symbol">}</a> <a id="54102" class="Symbol">{</a><a id="54103" href="/lia/part1/NormalForms/#54103" class="Bound">D</a><a id="54104" class="Symbol">}</a> <a id="54106" href="/lia/part1/NormalForms/#54106" class="Bound">C≼D</a> <a id="54110" href="/lia/part1/NormalForms/#54110" class="Bound">ϱ</a> <a id="54112" href="/lia/part1/NormalForms/#54112" class="Bound">⟦φ⟧ϱ≡tt</a>
  <a id="54122" class="Keyword">with</a> <a id="54127" href="/lia/part1/NormalForms/#52544" class="Function">DNFClause2List</a> <a id="54142" href="/lia/part1/NormalForms/#54099" class="Bound">C</a>
<a id="54144" class="Symbol">...</a> <a id="54148" class="Symbol">|</a> <a id="54150" href="/lia/part1/NormalForms/#54150" class="Bound">φs</a> <a id="54153" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="54155" href="/lia/part1/NormalForms/#54155" class="Bound">φ≡⋀φs</a> <a id="54161" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="54163" class="Symbol">_</a> <a id="54165" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="54167" href="/lia/part1/NormalForms/#54167" class="Bound">haveC</a>
  <a id="54175" class="Keyword">with</a> <a id="54180" href="/lia/part1/NormalForms/#52544" class="Function">DNFClause2List</a> <a id="54195" class="Bound">D</a>
<a id="54197" class="Symbol">...</a> <a id="54201" class="Symbol">|</a> <a id="54203" href="/lia/part1/NormalForms/#54203" class="Bound">ψs</a> <a id="54206" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="54208" href="/lia/part1/NormalForms/#54208" class="Bound">ψ≡⋀ψs</a> <a id="54214" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="54216" href="/lia/part1/NormalForms/#54216" class="Bound">haveD</a> <a id="54222" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="54224" class="Symbol">_</a>
  <a id="54228" class="Keyword">rewrite</a> <a id="54236" class="Bound">φ≡⋀φs</a> <a id="54242" class="Symbol">|</a> <a id="54244" href="/lia/part1/NormalForms/#54208" class="Bound">ψ≡⋀ψs</a> <a id="54250" class="Symbol">=</a> <a id="54252" href="/lia/part1/Semantics/#40632" class="Function">conjProp2</a> <a id="54262" href="/lia/part1/NormalForms/#54203" class="Bound">ψs</a> <a id="54265" class="Bound">ϱ</a> <a id="54267" href="/lia/part1/NormalForms/#54281" class="Function">goal</a> <a id="54272" class="Keyword">where</a>

  <a id="54281" href="/lia/part1/NormalForms/#54281" class="Function">goal</a> <a id="54286" class="Symbol">:</a> <a id="54288" href="/lia/part0/List/#9607" class="Function">All</a> <a id="54292" class="Symbol">(λ</a> <a id="54295" href="/lia/part1/NormalForms/#54295" class="Bound">ξ</a> <a id="54297" class="Symbol">→</a> <a id="54299" href="/lia/part1/Semantics/#12404" class="Function Operator">⟦</a> <a id="54301" href="/lia/part1/NormalForms/#54295" class="Bound">ξ</a> <a id="54303" href="/lia/part1/Semantics/#12404" class="Function Operator">⟧</a> <a id="54305" class="Bound">ϱ</a> <a id="54307" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="54309" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a><a id="54311" class="Symbol">)</a> <a id="54313" href="/lia/part1/NormalForms/#54203" class="Bound">ψs</a>
  <a id="54318" href="/lia/part1/NormalForms/#54281" class="Function">goal</a> <a id="54323" class="Symbol">{</a><a id="54324" href="/lia/part1/NormalForms/#54324" class="Bound">ξ</a><a id="54325" class="Symbol">}</a> <a id="54327" href="/lia/part1/NormalForms/#54327" class="Bound">ξ∈ψs</a>
    <a id="54336" class="Keyword">with</a> <a id="54341" href="/lia/part1/NormalForms/#54216" class="Bound">haveD</a> <a id="54347" href="/lia/part1/NormalForms/#54327" class="Bound">ξ∈ψs</a>
  <a id="54354" class="Symbol">...</a> <a id="54358" class="Symbol">|</a> <a id="54360" href="/lia/part1/NormalForms/#54360" class="Bound">l</a> <a id="54362" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="54364" href="/lia/part1/NormalForms/#54364" class="Bound">lInD</a>
    <a id="54373" class="Keyword">with</a> <a id="54378" class="Bound">C≼D</a> <a id="54382" href="/lia/part1/NormalForms/#54364" class="Bound">lInD</a>
  <a id="54389" class="Symbol">...</a> <a id="54393" class="Symbol">|</a> <a id="54395" href="/lia/part1/NormalForms/#54395" class="Bound">lInC</a>
    <a id="54404" class="Keyword">with</a> <a id="54409" class="Bound">haveC</a> <a id="54415" class="Bound">l</a> <a id="54417" href="/lia/part1/NormalForms/#54395" class="Bound">lInC</a>
  <a id="54424" class="Symbol">...</a> <a id="54428" class="Symbol">|</a> <a id="54430" href="/lia/part1/NormalForms/#54430" class="Bound">ξ∈φs</a> <a id="54435" class="Symbol">=</a> <a id="54437" href="/lia/part1/Semantics/#40536" class="Function">conjProp1</a> <a id="54447" class="Bound">φs</a> <a id="54450" class="Bound">ϱ</a> <a id="54452" class="Bound">⟦φ⟧ϱ≡tt</a> <a id="54460" href="/lia/part1/NormalForms/#54430" class="Bound">ξ∈φs</a></pre>

<p>The immediate by-product of <a href="#monotone-%E2%89%BC"><code class="language-plaintext highlighter-rouge">monotone-≼</code></a> is that removing
a subsumed clause preserves the semantics:</p>

<pre class="Agda"><a id="subsume-≼"></a><a id="54581" href="/lia/part1/NormalForms/#54581" class="Function">subsume-≼</a> <a id="54591" class="Symbol">:</a> <a id="54593" class="Symbol">∀</a> <a id="54595" class="Symbol">{</a><a id="54596" href="/lia/part1/NormalForms/#54596" class="Bound">C</a> <a id="54598" class="Symbol">:</a> <a id="54600" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="54610" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a><a id="54611" class="Symbol">}</a> <a id="54613" class="Symbol">{</a><a id="54614" href="/lia/part1/NormalForms/#54614" class="Bound">C'</a> <a id="54617" class="Symbol">:</a> <a id="54619" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="54629" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a><a id="54630" class="Symbol">}</a> <a id="54632" class="Symbol">→</a> <a id="54634" href="/lia/part1/NormalForms/#54596" class="Bound">C</a> <a id="54636" href="/lia/part1/NormalForms/#51103" class="Function Operator">≼</a> <a id="54638" href="/lia/part1/NormalForms/#54614" class="Bound">C'</a> <a id="54641" class="Symbol">→</a> <a id="54643" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="54645" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="54647" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="54649" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="54651" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a>
<a id="54653" href="/lia/part1/NormalForms/#54581" class="Function">subsume-≼</a> <a id="54663" class="Symbol">{</a><a id="54664" href="/lia/part1/NormalForms/#54664" class="Bound">φ</a><a id="54665" class="Symbol">}</a> <a id="54667" class="Symbol">{</a><a id="54668" href="/lia/part1/NormalForms/#54668" class="Bound">ψ</a><a id="54669" class="Symbol">}</a> <a id="54671" href="/lia/part1/NormalForms/#54671" class="Bound">C≼C'</a> <a id="54676" href="/lia/part1/NormalForms/#54676" class="Bound">ϱ</a>
  <a id="54680" class="Keyword">with</a> <a id="54685" href="/lia/part0/Equality/#4462" class="Function">inspect</a> <a id="54693" class="Symbol">(</a><a id="54694" href="/lia/part1/Semantics/#12404" class="Function Operator">⟦</a> <a id="54696" href="/lia/part1/NormalForms/#54664" class="Bound">φ</a> <a id="54698" href="/lia/part1/Semantics/#12404" class="Function Operator">⟧</a> <a id="54700" href="/lia/part1/NormalForms/#54676" class="Bound">ϱ</a><a id="54701" class="Symbol">)</a>
<a id="54703" class="Symbol">...</a> <a id="54707" class="Symbol">|</a> <a id="54709" href="/lia/part0/Equality/#4428" class="InductiveConstructor">it</a> <a id="54712" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="54715" href="/lia/part1/NormalForms/#54715" class="Bound">⟦φ⟧ϱ≡tt</a> <a id="54723" class="Keyword">rewrite</a> <a id="54731" href="/lia/part1/NormalForms/#52255" class="Function">monotone-≼</a> <a id="54742" class="Bound">C≼C'</a> <a id="54747" class="Bound">ϱ</a> <a id="54749" href="/lia/part1/NormalForms/#54715" class="Bound">⟦φ⟧ϱ≡tt</a> <a id="54757" class="Symbol">=</a> <a id="54759" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
<a id="54764" class="Symbol">...</a> <a id="54768" class="Symbol">|</a> <a id="54770" href="/lia/part0/Equality/#4428" class="InductiveConstructor">it</a> <a id="54773" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="54776" href="/lia/part1/NormalForms/#54776" class="Bound">⟦φ⟧ϱ≡ff</a> <a id="54784" class="Keyword">rewrite</a> <a id="54792" href="/lia/part1/NormalForms/#54776" class="Bound">⟦φ⟧ϱ≡ff</a> <a id="54800" class="Symbol">=</a> <a id="54802" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>We are ready to put subsumption at work. The following function takes a
clause <code class="language-plaintext highlighter-rouge">C</code> and a DNF <code class="language-plaintext highlighter-rouge">D</code> and produces a DNF equivalent to their
disjunction:</p>

<pre class="Agda"><a id="insertClauseInDNF"></a><a id="54966" href="/lia/part1/NormalForms/#54966" class="Function">insertClauseInDNF</a> <a id="54984" class="Symbol">:</a> <a id="54986" class="Symbol">(</a><a id="54987" href="/lia/part1/NormalForms/#54987" class="Bound">C</a> <a id="54989" class="Symbol">:</a> <a id="54991" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="55001" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a><a id="55002" class="Symbol">)</a> <a id="55004" class="Symbol">(</a><a id="55005" href="/lia/part1/NormalForms/#55005" class="Bound">D</a> <a id="55007" class="Symbol">:</a> <a id="55009" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="55013" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a><a id="55014" class="Symbol">)</a> <a id="55016" class="Symbol">→</a> <a id="55018" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="55021" href="/lia/part1/NormalForms/#55021" class="Bound">ξ</a> <a id="55023" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="55025" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="55029" href="/lia/part1/NormalForms/#55021" class="Bound">ξ</a> <a id="55031" href="/lia/part0/Logic/#1770" class="Record Operator">×</a> <a id="55033" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="55035" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="55037" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="55039" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="55041" href="/lia/part1/NormalForms/#55021" class="Bound">ξ</a></pre>

<p>The catch is that <code class="language-plaintext highlighter-rouge">C</code> is actually added only if it is not subsumed by
any other clause in <code class="language-plaintext highlighter-rouge">D</code> and moreover if <code class="language-plaintext highlighter-rouge">C</code> it is actually added, then
all clauses in <code class="language-plaintext highlighter-rouge">D</code> that are subsumed by <code class="language-plaintext highlighter-rouge">C</code> are removed. The definition
is by structural induction on <code class="language-plaintext highlighter-rouge">D</code>. In the base case, <code class="language-plaintext highlighter-rouge">D</code> is a single
clause <code class="language-plaintext highlighter-rouge">C'</code> and we thus compare for subsumption with <code class="language-plaintext highlighter-rouge">C</code> in both
directions. If <code class="language-plaintext highlighter-rouge">C</code> is subsumed by <code class="language-plaintext highlighter-rouge">C'</code> then it is discarded:</p>

<pre class="Agda"><a id="55461" href="/lia/part1/NormalForms/#54966" class="Function">insertClauseInDNF</a> <a id="55479" class="Symbol">{</a><a id="55480" href="/lia/part1/NormalForms/#55480" class="Bound">φ</a><a id="55481" class="Symbol">}</a> <a id="55483" class="Symbol">{</a><a id="55484" href="/lia/part1/NormalForms/#55484" class="Bound">φ'</a><a id="55486" class="Symbol">}</a> <a id="55488" href="/lia/part1/NormalForms/#55488" class="Bound">C</a> <a id="55490" class="Symbol">(</a><a id="55491" href="/lia/part1/NormalForms/#55491" class="Bound">C'</a> <a id="55494" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="55495" class="Symbol">)</a>
  <a id="55499" class="Keyword">with</a> <a id="55504" href="/lia/part1/NormalForms/#55488" class="Bound">C</a> <a id="55506" href="/lia/part1/NormalForms/#51465" class="Function Operator">≼?</a> <a id="55509" href="/lia/part1/NormalForms/#55491" class="Bound">C'</a>
<a id="55512" class="Symbol">...</a> <a id="55516" class="Symbol">|</a> <a id="55518" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="55522" href="/lia/part1/NormalForms/#55522" class="Bound">C≼C'</a> <a id="55527" class="Symbol">=</a> <a id="55529" class="Symbol">_</a> <a id="55531" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="55533" class="Bound">C'</a> <a id="55536" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a> <a id="55538" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="55540" href="/lia/part1/NormalForms/#55557" class="Function">φ∨φ'⟺φ'</a> <a id="55548" class="Keyword">where</a>

  <a id="55557" href="/lia/part1/NormalForms/#55557" class="Function">φ∨φ'⟺φ'</a> <a id="55565" class="Symbol">:</a> <a id="55567" class="Bound">φ</a> <a id="55569" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="55571" class="Bound">φ'</a> <a id="55574" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="55576" class="Bound">φ'</a>
  <a id="55581" href="/lia/part1/NormalForms/#55557" class="Function">φ∨φ'⟺φ'</a> <a id="55589" href="/lia/part1/NormalForms/#55589" class="Bound">ϱ</a> <a id="55591" class="Keyword">rewrite</a> <a id="55599" href="/lia/part1/NormalForms/#54581" class="Function">subsume-≼</a> <a id="55609" href="/lia/part1/NormalForms/#55522" class="Bound">C≼C'</a> <a id="55614" href="/lia/part1/NormalForms/#55589" class="Bound">ϱ</a> <a id="55616" class="Symbol">=</a> <a id="55618" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>If <code class="language-plaintext highlighter-rouge">C'</code> is subsumed by <code class="language-plaintext highlighter-rouge">C</code> then it is discarded:</p>

<pre class="Agda"><a id="55682" class="Symbol">...</a> <a id="55686" class="Symbol">|</a> <a id="55688" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="55691" class="Symbol">_</a>
  <a id="55695" class="Keyword">with</a> <a id="55700" class="Bound">C'</a> <a id="55703" href="/lia/part1/NormalForms/#51465" class="Function Operator">≼?</a> <a id="55706" class="Bound">C</a>
<a id="55708" class="Symbol">...</a> <a id="55712" class="Symbol">|</a> <a id="55714" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="55718" href="/lia/part1/NormalForms/#55718" class="Bound">C'≼C</a> <a id="55723" class="Symbol">=</a>  <a id="55726" class="Symbol">_</a> <a id="55728" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="55730" class="Bound">C</a> <a id="55732" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a> <a id="55734" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="55736" href="/lia/part1/NormalForms/#55752" class="Function">φ∨φ'⟺φ</a> <a id="55743" class="Keyword">where</a>

  <a id="55752" href="/lia/part1/NormalForms/#55752" class="Function">φ∨φ'⟺φ</a> <a id="55759" class="Symbol">:</a> <a id="55761" class="Bound">φ</a> <a id="55763" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="55765" class="Bound">φ'</a> <a id="55768" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="55770" class="Bound">φ</a>
  <a id="55774" href="/lia/part1/NormalForms/#55752" class="Function">φ∨φ'⟺φ</a> <a id="55781" href="/lia/part1/NormalForms/#55781" class="Bound">ϱ</a> <a id="55783" class="Keyword">rewrite</a>
    <a id="55795" href="/lia/part1/Semantics/#31611" class="Function">commOr</a> <a id="55802" class="Bound">φ</a> <a id="55804" class="Bound">φ'</a> <a id="55807" href="/lia/part1/NormalForms/#55781" class="Bound">ϱ</a> <a id="55809" class="Symbol">|</a>
    <a id="55815" href="/lia/part1/NormalForms/#54581" class="Function">subsume-≼</a> <a id="55825" href="/lia/part1/NormalForms/#55718" class="Bound">C'≼C</a> <a id="55830" href="/lia/part1/NormalForms/#55781" class="Bound">ϱ</a> <a id="55832" class="Symbol">=</a> <a id="55834" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>Finally, if neither <code class="language-plaintext highlighter-rouge">C</code> nor <code class="language-plaintext highlighter-rouge">C'</code> subsumes the other one, then we keep
both of them:</p>

<pre class="Agda"><a id="55933" class="Symbol">...</a> <a id="55937" class="Symbol">|</a> <a id="55939" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="55942" class="Symbol">_</a> <a id="55944" class="Symbol">=</a>  <a id="55947" class="Symbol">_</a> <a id="55949" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="55951" class="Symbol">(</a><a id="55952" class="Bound">C</a> <a id="55954" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="55956" class="Bound">C'</a> <a id="55959" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="55960" class="Symbol">)</a> <a id="55962" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="55964" class="Symbol">λ</a> <a id="55966" href="/lia/part1/NormalForms/#55966" class="Bound">ϱ</a> <a id="55968" class="Symbol">→</a> <a id="55970" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>In the inductive case, we have a DNF of the form <code class="language-plaintext highlighter-rouge">(C' , D')</code> and we
start by checking whether <code class="language-plaintext highlighter-rouge">C</code> is subsumed by <code class="language-plaintext highlighter-rouge">C'</code>. If this is the case,
then <code class="language-plaintext highlighter-rouge">C</code> is discarded:</p>

<pre class="Agda"><a id="56149" href="/lia/part1/NormalForms/#54966" class="Function">insertClauseInDNF</a> <a id="56167" class="Symbol">{</a><a id="56168" href="/lia/part1/NormalForms/#56168" class="Bound">φ</a><a id="56169" class="Symbol">}</a> <a id="56171" class="Symbol">{</a><a id="56172" href="/lia/part1/NormalForms/#56172" class="Bound">ψ</a><a id="56173" class="Symbol">@(</a><a id="56175" href="/lia/part1/NormalForms/#56175" class="Bound">φ'</a> <a id="56178" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="56180" href="/lia/part1/NormalForms/#56180" class="Bound">ψ'</a><a id="56182" class="Symbol">)}</a> <a id="56185" href="/lia/part1/NormalForms/#56185" class="Bound">C</a> <a id="56187" href="/lia/part1/NormalForms/#56187" class="Bound">D</a><a id="56188" class="Symbol">@(</a><a id="56190" href="/lia/part1/NormalForms/#56190" class="Bound">C'</a> <a id="56193" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="56195" href="/lia/part1/NormalForms/#56195" class="Bound">D'</a><a id="56197" class="Symbol">)</a>
  <a id="56201" class="Keyword">with</a> <a id="56206" href="/lia/part1/NormalForms/#56185" class="Bound">C</a> <a id="56208" href="/lia/part1/NormalForms/#51465" class="Function Operator">≼?</a> <a id="56211" href="/lia/part1/NormalForms/#56190" class="Bound">C'</a>
<a id="56214" class="Symbol">...</a> <a id="56218" class="Symbol">|</a> <a id="56220" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="56224" href="/lia/part1/NormalForms/#56224" class="Bound">C≼C'</a> <a id="56229" class="Symbol">=</a> <a id="56231" class="Symbol">_</a> <a id="56233" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="56235" class="Bound">D</a> <a id="56237" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="56239" href="/lia/part1/NormalForms/#56254" class="Function">φ∨ψ⟺ψ</a> <a id="56245" class="Keyword">where</a>

  <a id="56254" href="/lia/part1/NormalForms/#56254" class="Function">φ∨ψ⟺ψ</a> <a id="56260" class="Symbol">:</a> <a id="56262" class="Bound">φ</a> <a id="56264" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="56266" class="Bound">ψ</a> <a id="56268" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="56270" class="Bound">ψ</a>
  <a id="56274" href="/lia/part1/NormalForms/#56254" class="Function">φ∨ψ⟺ψ</a> <a id="56280" href="/lia/part1/NormalForms/#56280" class="Bound">ϱ</a> <a id="56282" class="Keyword">rewrite</a>
    <a id="56294" href="/lia/part0/Equality/#405" class="Function">sym</a> <a id="56298" class="Symbol">(</a><a id="56299" href="/lia/part1/Semantics/#31643" class="Function">assocOr</a> <a id="56307" class="Bound">φ</a> <a id="56309" class="Bound">φ'</a> <a id="56312" class="Bound">ψ'</a> <a id="56315" href="/lia/part1/NormalForms/#56280" class="Bound">ϱ</a><a id="56316" class="Symbol">)</a> <a id="56318" class="Symbol">|</a>
    <a id="56324" href="/lia/part1/NormalForms/#54581" class="Function">subsume-≼</a> <a id="56334" href="/lia/part1/NormalForms/#56224" class="Bound">C≼C'</a> <a id="56339" href="/lia/part1/NormalForms/#56280" class="Bound">ϱ</a> <a id="56341" class="Symbol">=</a> <a id="56343" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>Otherwise, we recursively try to insert <code class="language-plaintext highlighter-rouge">C</code> somewhere in <code class="language-plaintext highlighter-rouge">D'</code>:</p>

<pre class="Agda"><a id="56421" class="Symbol">...</a> <a id="56425" class="Symbol">|</a> <a id="56427" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="56430" class="Symbol">_</a>
  <a id="56434" class="Keyword">with</a> <a id="56439" href="/lia/part1/NormalForms/#54966" class="Function">insertClauseInDNF</a> <a id="56457" class="Bound">C</a> <a id="56459" class="Bound">D'</a>
<a id="56462" class="Symbol">...</a> <a id="56466" class="Symbol">|</a> <a id="56468" href="/lia/part1/NormalForms/#56468" class="Bound">ξ</a> <a id="56470" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="56472" href="/lia/part1/NormalForms/#56472" class="Bound">DNFξ</a> <a id="56477" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="56479" href="/lia/part1/NormalForms/#56479" class="Bound">φ∨ψ'⟺ξ</a></pre>

<p>We now check whether <code class="language-plaintext highlighter-rouge">C'</code> is subsumed by <code class="language-plaintext highlighter-rouge">C</code>. If this is the case, then
<code class="language-plaintext highlighter-rouge">C'</code> is removed:</p>

<pre class="Agda">  <a id="56587" class="Keyword">with</a> <a id="56592" class="Bound">C'</a> <a id="56595" href="/lia/part1/NormalForms/#51465" class="Function Operator">≼?</a> <a id="56598" class="Bound">C</a>
<a id="56600" class="Symbol">...</a> <a id="56604" class="Symbol">|</a> <a id="56606" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="56610" href="/lia/part1/NormalForms/#56610" class="Bound">C'≼C</a> <a id="56615" class="Symbol">=</a>  <a id="56618" class="Symbol">_</a> <a id="56620" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="56622" class="Bound">DNFξ</a> <a id="56627" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="56629" href="/lia/part1/NormalForms/#56644" class="Function">φ∨ψ⟺ξ</a> <a id="56635" class="Keyword">where</a>

  <a id="56644" href="/lia/part1/NormalForms/#56644" class="Function">φ∨ψ⟺ξ</a> <a id="56650" class="Symbol">:</a> <a id="56652" class="Bound">φ</a> <a id="56654" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="56656" class="Bound">ψ</a> <a id="56658" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="56660" class="Bound">ξ</a>
  <a id="56664" href="/lia/part1/NormalForms/#56644" class="Function">φ∨ψ⟺ξ</a> <a id="56670" href="/lia/part1/NormalForms/#56670" class="Bound">ϱ</a> <a id="56672" class="Keyword">rewrite</a>
    <a id="56684" href="/lia/part0/Equality/#405" class="Function">sym</a> <a id="56688" class="Symbol">(</a><a id="56689" href="/lia/part1/Semantics/#31643" class="Function">assocOr</a> <a id="56697" class="Bound">φ</a> <a id="56699" class="Bound">φ'</a> <a id="56702" class="Bound">ψ'</a> <a id="56705" href="/lia/part1/NormalForms/#56670" class="Bound">ϱ</a><a id="56706" class="Symbol">)</a> <a id="56708" class="Symbol">|</a>
    <a id="56714" href="/lia/part1/Semantics/#31611" class="Function">commOr</a> <a id="56721" class="Bound">φ</a> <a id="56723" class="Bound">φ'</a> <a id="56726" href="/lia/part1/NormalForms/#56670" class="Bound">ϱ</a> <a id="56728" class="Symbol">|</a>
    <a id="56734" href="/lia/part1/NormalForms/#54581" class="Function">subsume-≼</a> <a id="56744" href="/lia/part1/NormalForms/#56610" class="Bound">C'≼C</a> <a id="56749" href="/lia/part1/NormalForms/#56670" class="Bound">ϱ</a> <a id="56751" class="Symbol">|</a>
    <a id="56757" class="Bound">φ∨ψ'⟺ξ</a> <a id="56764" href="/lia/part1/NormalForms/#56670" class="Bound">ϱ</a> <a id="56766" class="Symbol">=</a> <a id="56768" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>Otherwise, we keep both <code class="language-plaintext highlighter-rouge">C</code> and <code class="language-plaintext highlighter-rouge">C'</code>:</p>

<pre class="Agda"><a id="56821" class="Symbol">...</a> <a id="56825" class="Symbol">|</a> <a id="56827" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="56830" class="Symbol">_</a> <a id="56832" class="Symbol">=</a>  <a id="56835" class="Symbol">_</a> <a id="56837" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="56839" class="Symbol">(</a><a id="56840" class="Bound">C'</a> <a id="56843" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="56845" class="Bound">DNFξ</a><a id="56849" class="Symbol">)</a> <a id="56851" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="56853" href="/lia/part1/NormalForms/#56871" class="Function">φ∨ψ⟺φ'∨ξ</a> <a id="56862" class="Keyword">where</a>

  <a id="56871" href="/lia/part1/NormalForms/#56871" class="Function">φ∨ψ⟺φ'∨ξ</a> <a id="56880" class="Symbol">:</a> <a id="56882" class="Bound">φ</a> <a id="56884" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="56886" class="Bound">ψ</a> <a id="56888" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="56890" class="Bound">φ'</a> <a id="56893" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="56895" class="Bound">ξ</a>
  <a id="56899" href="/lia/part1/NormalForms/#56871" class="Function">φ∨ψ⟺φ'∨ξ</a> <a id="56908" href="/lia/part1/NormalForms/#56908" class="Bound">ϱ</a> <a id="56910" class="Keyword">rewrite</a>
     <a id="56923" href="/lia/part0/Equality/#405" class="Function">sym</a> <a id="56927" class="Symbol">(</a><a id="56928" href="/lia/part1/Semantics/#31643" class="Function">assocOr</a> <a id="56936" class="Bound">φ</a> <a id="56938" class="Bound">φ'</a> <a id="56941" class="Bound">ψ'</a> <a id="56944" href="/lia/part1/NormalForms/#56908" class="Bound">ϱ</a><a id="56945" class="Symbol">)</a> <a id="56947" class="Symbol">|</a>
     <a id="56954" href="/lia/part1/Semantics/#31611" class="Function">commOr</a> <a id="56961" class="Bound">φ</a> <a id="56963" class="Bound">φ'</a> <a id="56966" href="/lia/part1/NormalForms/#56908" class="Bound">ϱ</a> <a id="56968" class="Symbol">|</a>
     <a id="56975" href="/lia/part1/Semantics/#31643" class="Function">assocOr</a> <a id="56983" class="Bound">φ'</a> <a id="56986" class="Bound">φ</a> <a id="56988" class="Bound">ψ'</a> <a id="56991" href="/lia/part1/NormalForms/#56908" class="Bound">ϱ</a> <a id="56993" class="Symbol">|</a>
     <a id="57000" class="Bound">φ∨ψ'⟺ξ</a> <a id="57007" href="/lia/part1/NormalForms/#56908" class="Bound">ϱ</a> <a id="57009" class="Symbol">=</a> <a id="57011" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>The function <a href="#insertClauseInDNF"><code class="language-plaintext highlighter-rouge">insertClauseInDNF</code></a> will be the
instrumental in the next section in order to build simpler DNF’s from
given formulas.</p>

<h3 id="putting-things-together">Putting things together</h3>

<p>We are now in a position to present the core DNF-simplification
procedure:</p>

<pre class="Agda"><a id="simplifyDNF1"></a><a id="57266" href="/lia/part1/NormalForms/#57266" class="Function">simplifyDNF1</a> <a id="57279" class="Symbol">:</a> <a id="57281" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="57285" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="57287" class="Symbol">→</a> <a id="57289" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="57291" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="57293" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="57295" href="/lia/part0/Logic/#2456" class="Datatype Operator">⊎</a> <a id="57297" class="Symbol">(</a><a id="57298" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="57301" href="/lia/part1/NormalForms/#57301" class="Bound">ψ</a> <a id="57303" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="57305" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="57309" href="/lia/part1/NormalForms/#57301" class="Bound">ψ</a> <a id="57311" href="/lia/part0/Logic/#1770" class="Record Operator">×</a> <a id="57313" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="57315" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="57317" href="/lia/part1/NormalForms/#57301" class="Bound">ψ</a><a id="57318" class="Symbol">)</a></pre>

<p>The construction is by induction on the evidence that <code class="language-plaintext highlighter-rouge">φ</code> is in DNF. In
the base case the DNF consists of a single clause <code class="language-plaintext highlighter-rouge">C</code>. We appeal to
<a href="#someLitAndDualInClause"><code class="language-plaintext highlighter-rouge">someLitAndDualInClause</code></a> to test whether <code class="language-plaintext highlighter-rouge">C</code>
is unsatisfiable. In the positive case the whole DNF reduces to <code class="language-plaintext highlighter-rouge">⊥</code>,
otherwise to the simplification of <code class="language-plaintext highlighter-rouge">C</code>:</p>

<pre class="Agda"><a id="57628" href="/lia/part1/NormalForms/#57266" class="Function">simplifyDNF1</a> <a id="57641" class="Symbol">{</a><a id="57642" href="/lia/part1/NormalForms/#57642" class="Bound">φ</a><a id="57643" class="Symbol">}</a> <a id="57645" class="Symbol">(</a><a id="57646" href="/lia/part1/NormalForms/#57646" class="Bound">C</a> <a id="57648" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="57649" class="Symbol">)</a>
  <a id="57653" class="Keyword">with</a> <a id="57658" href="/lia/part1/NormalForms/#46690" class="Function">someLitAndDualInClause</a> <a id="57681" href="/lia/part1/NormalForms/#57646" class="Bound">C</a>
<a id="57683" class="Symbol">...</a> <a id="57687" class="Symbol">|</a> <a id="57689" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="57693" class="Symbol">(_</a> <a id="57696" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="57698" href="/lia/part1/NormalForms/#57698" class="Bound">lit</a> <a id="57702" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="57704" href="/lia/part1/NormalForms/#57704" class="Bound">litInC</a> <a id="57711" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="57713" href="/lia/part1/NormalForms/#57713" class="Bound">lit°InC</a><a id="57720" class="Symbol">)</a> <a id="57722" class="Symbol">=</a> <a id="57724" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="57729" class="Symbol">(</a><a id="57730" href="/lia/part1/NormalForms/#47943" class="Function">litAndDualInClause-sound</a> <a id="57755" href="/lia/part1/NormalForms/#57704" class="Bound">litInC</a> <a id="57762" href="/lia/part1/NormalForms/#57713" class="Bound">lit°InC</a><a id="57769" class="Symbol">)</a>

<a id="57772" class="Symbol">...</a> <a id="57776" class="Symbol">|</a> <a id="57778" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="57781" class="Symbol">_</a>
  <a id="57785" class="Keyword">with</a> <a id="57790" href="/lia/part1/NormalForms/#44891" class="Function">simplifyDNFClause</a> <a id="57808" class="Bound">C</a>
<a id="57810" class="Symbol">...</a> <a id="57814" class="Symbol">|</a> <a id="57816" class="Symbol">_</a> <a id="57818" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="57820" href="/lia/part1/NormalForms/#57820" class="Bound">D</a> <a id="57822" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="57824" href="/lia/part1/NormalForms/#57824" class="Bound">equiv</a> <a id="57830" class="Symbol">=</a> <a id="57832" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="57838" class="Symbol">(_</a> <a id="57841" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="57843" href="/lia/part1/NormalForms/#57820" class="Bound">D</a> <a id="57845" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a> <a id="57847" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="57849" href="/lia/part1/NormalForms/#57824" class="Bound">equiv</a><a id="57854" class="Symbol">)</a></pre>

<p>The inductive step is analogous. We start by recursively simplifying the
remainder of the DNF. If it reduces to <code class="language-plaintext highlighter-rouge">⊥</code>, we do the same for <code class="language-plaintext highlighter-rouge">C</code>:</p>

<pre class="Agda"><a id="58007" href="/lia/part1/NormalForms/#57266" class="Function">simplifyDNF1</a> <a id="58020" class="Symbol">{</a><a id="58021" href="/lia/part1/NormalForms/#58021" class="Bound">φ</a> <a id="58023" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="58025" href="/lia/part1/NormalForms/#58025" class="Bound">ψ</a><a id="58026" class="Symbol">}</a> <a id="58028" class="Symbol">(</a><a id="58029" href="/lia/part1/NormalForms/#58029" class="Bound">C</a> <a id="58031" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="58033" href="/lia/part1/NormalForms/#58033" class="Bound">DNFψ</a><a id="58037" class="Symbol">)</a>
  <a id="58041" class="Keyword">with</a> <a id="58046" href="/lia/part1/NormalForms/#57266" class="Function">simplifyDNF1</a> <a id="58059" href="/lia/part1/NormalForms/#58033" class="Bound">DNFψ</a>
<a id="58064" class="Symbol">...</a> <a id="58068" class="Symbol">|</a> <a id="58070" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="58075" href="/lia/part1/NormalForms/#58075" class="Bound">ψ⟺⊥</a> <a id="58079" class="Symbol">=</a> <a id="58081" href="/lia/part1/NormalForms/#58097" class="Function">goal</a> <a id="58086" class="Keyword">where</a>

    <a id="58097" href="/lia/part1/NormalForms/#58097" class="Function">goal</a> <a id="58102" class="Symbol">:</a> <a id="58104" class="Bound">φ</a> <a id="58106" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="58108" class="Bound">ψ</a> <a id="58110" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="58112" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="58114" href="/lia/part0/Logic/#2456" class="Datatype Operator">⊎</a> <a id="58116" class="Symbol">(</a><a id="58117" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="58120" href="/lia/part1/NormalForms/#58120" class="Bound">ξ</a> <a id="58122" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="58124" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="58128" href="/lia/part1/NormalForms/#58120" class="Bound">ξ</a> <a id="58130" href="/lia/part0/Logic/#1770" class="Record Operator">×</a> <a id="58132" class="Bound">φ</a> <a id="58134" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="58136" class="Bound">ψ</a> <a id="58138" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="58140" href="/lia/part1/NormalForms/#58120" class="Bound">ξ</a><a id="58141" class="Symbol">)</a>
    <a id="58147" href="/lia/part1/NormalForms/#58097" class="Function">goal</a> <a id="58152" class="Keyword">with</a> <a id="58157" href="/lia/part1/NormalForms/#57266" class="Function">simplifyDNF1</a> <a id="58170" class="Symbol">(</a><a id="58171" class="Bound">C</a> <a id="58173" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="58174" class="Symbol">)</a>
    <a id="58180" class="Symbol">...</a> <a id="58184" class="Symbol">|</a> <a id="58186" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="58191" href="/lia/part1/NormalForms/#58191" class="Bound">φ⟺⊥</a> <a id="58195" class="Symbol">=</a> <a id="58197" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="58202" href="/lia/part1/NormalForms/#58221" class="Function">φ∨ψ⟺⊥</a> <a id="58208" class="Keyword">where</a>

      <a id="58221" href="/lia/part1/NormalForms/#58221" class="Function">φ∨ψ⟺⊥</a> <a id="58227" class="Symbol">:</a> <a id="58229" class="Bound">φ</a> <a id="58231" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="58233" class="Bound">ψ</a> <a id="58235" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="58237" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a>
      <a id="58245" href="/lia/part1/NormalForms/#58221" class="Function">φ∨ψ⟺⊥</a> <a id="58251" href="/lia/part1/NormalForms/#58251" class="Bound">ϱ</a> <a id="58253" class="Keyword">rewrite</a> <a id="58261" href="/lia/part1/NormalForms/#58075" class="Bound">ψ⟺⊥</a> <a id="58265" href="/lia/part1/NormalForms/#58251" class="Bound">ϱ</a> <a id="58267" class="Symbol">|</a>
                       <a id="58292" href="/lia/part1/NormalForms/#58191" class="Bound">φ⟺⊥</a> <a id="58296" href="/lia/part1/NormalForms/#58251" class="Bound">ϱ</a> <a id="58298" class="Symbol">=</a> <a id="58300" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
                       
    <a id="58333" class="Symbol">...</a> <a id="58337" class="Symbol">|</a> <a id="58339" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="58345" class="Symbol">(</a><a id="58346" href="/lia/part1/NormalForms/#58346" class="Bound">ξ</a> <a id="58348" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="58350" href="/lia/part1/NormalForms/#58350" class="Bound">DNFξ</a> <a id="58355" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="58357" href="/lia/part1/NormalForms/#58357" class="Bound">φ⟺ξ</a><a id="58360" class="Symbol">)</a> <a id="58362" class="Symbol">=</a> <a id="58364" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="58370" class="Symbol">(</a><a id="58371" href="/lia/part1/NormalForms/#58346" class="Bound">ξ</a> <a id="58373" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="58375" href="/lia/part1/NormalForms/#58350" class="Bound">DNFξ</a> <a id="58380" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="58382" href="/lia/part1/NormalForms/#58407" class="Function">φ∨ψ⟺ξ</a><a id="58387" class="Symbol">)</a> <a id="58389" class="Keyword">where</a>
    
       <a id="58407" href="/lia/part1/NormalForms/#58407" class="Function">φ∨ψ⟺ξ</a> <a id="58413" class="Symbol">:</a> <a id="58415" class="Bound">φ</a> <a id="58417" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="58419" class="Bound">ψ</a> <a id="58421" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="58423" href="/lia/part1/NormalForms/#58346" class="Bound">ξ</a>
       <a id="58432" href="/lia/part1/NormalForms/#58407" class="Function">φ∨ψ⟺ξ</a> <a id="58438" href="/lia/part1/NormalForms/#58438" class="Bound">ϱ</a> <a id="58440" class="Keyword">rewrite</a> <a id="58448" href="/lia/part1/NormalForms/#58075" class="Bound">ψ⟺⊥</a> <a id="58452" href="/lia/part1/NormalForms/#58438" class="Bound">ϱ</a> <a id="58454" class="Symbol">|</a>
                        <a id="58480" href="/lia/part1/NormalForms/#58357" class="Bound">φ⟺ξ</a> <a id="58484" href="/lia/part1/NormalForms/#58438" class="Bound">ϱ</a> <a id="58486" class="Symbol">=</a> <a id="58488" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>If not, then we check whether <code class="language-plaintext highlighter-rouge">C</code> is unsatisfiable. If so, then we
discard it:</p>

<pre class="Agda"><a id="58582" class="Symbol">...</a> <a id="58586" class="Symbol">|</a> <a id="58588" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="58594" class="Symbol">(</a><a id="58595" href="/lia/part1/NormalForms/#58595" class="Bound">ψ'</a> <a id="58598" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="58600" href="/lia/part1/NormalForms/#58600" class="Bound">DNF'</a> <a id="58605" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="58607" href="/lia/part1/NormalForms/#58607" class="Bound">ψ⟺ψ'</a><a id="58611" class="Symbol">)</a>

  <a id="58616" class="Keyword">with</a> <a id="58621" href="/lia/part1/NormalForms/#46690" class="Function">someLitAndDualInClause</a> <a id="58644" class="Bound">C</a>
<a id="58646" class="Symbol">...</a> <a id="58650" class="Symbol">|</a> <a id="58652" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="58656" class="Symbol">(_</a> <a id="58659" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="58661" href="/lia/part1/NormalForms/#58661" class="Bound">lit</a> <a id="58665" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="58667" href="/lia/part1/NormalForms/#58667" class="Bound">litInC</a> <a id="58674" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="58676" href="/lia/part1/NormalForms/#58676" class="Bound">lit°InC</a><a id="58683" class="Symbol">)</a>
  <a id="58687" class="Symbol">=</a> <a id="58689" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="58695" class="Symbol">(</a><a id="58696" class="Bound">ψ'</a> <a id="58699" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="58701" class="Bound">DNF'</a> <a id="58706" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="58708" href="/lia/part1/NormalForms/#58725" class="Function">φ∨ψ⟺ψ'</a><a id="58714" class="Symbol">)</a> <a id="58716" class="Keyword">where</a>

  <a id="58725" href="/lia/part1/NormalForms/#58725" class="Function">φ∨ψ⟺ψ'</a> <a id="58732" class="Symbol">:</a> <a id="58734" class="Bound">φ</a> <a id="58736" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="58738" class="Bound">ψ</a> <a id="58740" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="58742" class="Bound">ψ'</a>
  <a id="58747" href="/lia/part1/NormalForms/#58725" class="Function">φ∨ψ⟺ψ'</a> <a id="58754" href="/lia/part1/NormalForms/#58754" class="Bound">ϱ</a>
    <a id="58760" class="Keyword">rewrite</a> <a id="58768" href="/lia/part1/NormalForms/#47943" class="Function">litAndDualInClause-sound</a> <a id="58793" href="/lia/part1/NormalForms/#58667" class="Bound">litInC</a> <a id="58800" href="/lia/part1/NormalForms/#58676" class="Bound">lit°InC</a> <a id="58808" href="/lia/part1/NormalForms/#58754" class="Bound">ϱ</a> <a id="58810" class="Symbol">|</a>
            <a id="58824" class="Bound">ψ⟺ψ'</a> <a id="58829" href="/lia/part1/NormalForms/#58754" class="Bound">ϱ</a> <a id="58831" class="Symbol">=</a> <a id="58833" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>In the other case, <code class="language-plaintext highlighter-rouge">C</code> is satisfiable and we proceed to simplify it and
insert it in the rest of the (simplified) DNF:</p>

<pre class="Agda"><a id="58967" class="Symbol">...</a> <a id="58971" class="Symbol">|</a> <a id="58973" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="58976" class="Symbol">_</a>
  <a id="58980" class="Keyword">with</a> <a id="58985" href="/lia/part1/NormalForms/#44891" class="Function">simplifyDNFClause</a> <a id="59003" class="Bound">C</a>
<a id="59005" class="Symbol">...</a> <a id="59009" class="Symbol">|</a> <a id="59011" href="/lia/part1/NormalForms/#59011" class="Bound">φ'</a> <a id="59014" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="59016" href="/lia/part1/NormalForms/#59016" class="Bound">D</a> <a id="59018" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="59020" href="/lia/part1/NormalForms/#59020" class="Bound">φ⟺φ'</a>
  <a id="59027" class="Keyword">with</a> <a id="59032" href="/lia/part1/NormalForms/#54966" class="Function">insertClauseInDNF</a> <a id="59050" href="/lia/part1/NormalForms/#59016" class="Bound">D</a> <a id="59052" class="Bound">DNF'</a>
<a id="59057" class="Symbol">...</a> <a id="59061" class="Symbol">|</a> <a id="59063" href="/lia/part1/NormalForms/#59063" class="Bound">ξ</a> <a id="59065" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="59067" href="/lia/part1/NormalForms/#59067" class="Bound">DNFξ</a> <a id="59072" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="59074" href="/lia/part1/NormalForms/#59074" class="Bound">φ'∨ψ'⟺ξ</a> <a id="59082" class="Symbol">=</a> <a id="59084" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="59090" class="Symbol">(</a><a id="59091" href="/lia/part1/NormalForms/#59063" class="Bound">ξ</a> <a id="59093" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="59095" href="/lia/part1/NormalForms/#59067" class="Bound">DNFξ</a> <a id="59100" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="59102" href="/lia/part1/NormalForms/#59118" class="Function">φ∨ψ⟺ξ</a><a id="59107" class="Symbol">)</a> <a id="59109" class="Keyword">where</a>

  <a id="59118" href="/lia/part1/NormalForms/#59118" class="Function">φ∨ψ⟺ξ</a> <a id="59124" class="Symbol">:</a> <a id="59126" class="Bound">φ</a> <a id="59128" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="59130" class="Bound">ψ</a> <a id="59132" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="59134" href="/lia/part1/NormalForms/#59063" class="Bound">ξ</a>
  <a id="59138" href="/lia/part1/NormalForms/#59118" class="Function">φ∨ψ⟺ξ</a> <a id="59144" href="/lia/part1/NormalForms/#59144" class="Bound">ϱ</a>
    <a id="59150" class="Keyword">rewrite</a> <a id="59158" class="Bound">φ⟺φ'</a> <a id="59163" href="/lia/part1/NormalForms/#59144" class="Bound">ϱ</a> <a id="59165" class="Symbol">|</a>
            <a id="59179" class="Bound">ψ⟺ψ'</a> <a id="59184" href="/lia/part1/NormalForms/#59144" class="Bound">ϱ</a> <a id="59186" class="Symbol">|</a>
            <a id="59200" href="/lia/part1/NormalForms/#59074" class="Bound">φ'∨ψ'⟺ξ</a> <a id="59208" href="/lia/part1/NormalForms/#59144" class="Bound">ϱ</a> <a id="59210" class="Symbol">=</a> <a id="59212" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>The actual simplification procedure <a href="#simplifyDNF"><code class="language-plaintext highlighter-rouge">simplifyDNF</code></a> is the
same as <a href="#simplifyDNF1"><code class="language-plaintext highlighter-rouge">simplifyDNF1</code></a></p>

<p>but it expands the unsatisfiable DNF case as an actual DNF:</p>

<pre class="Agda"><a id="simplifyDNF"></a><a id="59375" href="/lia/part1/NormalForms/#59375" class="Function">simplifyDNF</a> <a id="59387" class="Symbol">:</a> <a id="59389" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="59393" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="59395" class="Symbol">→</a> <a id="59397" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="59400" href="/lia/part1/NormalForms/#59400" class="Bound">ψ</a> <a id="59402" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="59404" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="59408" href="/lia/part1/NormalForms/#59400" class="Bound">ψ</a> <a id="59410" href="/lia/part0/Logic/#1770" class="Record Operator">×</a> <a id="59412" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="59414" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="59416" href="/lia/part1/NormalForms/#59400" class="Bound">ψ</a>
<a id="59418" href="/lia/part1/NormalForms/#59375" class="Function">simplifyDNF</a> <a id="59430" class="Symbol">{</a><a id="59431" href="/lia/part1/NormalForms/#59431" class="Bound">φ</a><a id="59432" class="Symbol">}</a> <a id="59434" href="/lia/part1/NormalForms/#59434" class="Bound">DNFφ</a> <a id="59439" class="Keyword">with</a> <a id="59444" href="/lia/part1/NormalForms/#57266" class="Function">simplifyDNF1</a> <a id="59457" href="/lia/part1/NormalForms/#59434" class="Bound">DNFφ</a>
<a id="59462" class="Symbol">...</a> <a id="59466" class="Symbol">|</a> <a id="59468" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="59474" href="/lia/part1/NormalForms/#59474" class="Bound">x</a> <a id="59476" class="Symbol">=</a> <a id="59478" href="/lia/part1/NormalForms/#59474" class="Bound">x</a>
<a id="59480" class="Symbol">...</a> <a id="59484" class="Symbol">|</a> <a id="59486" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="59491" href="/lia/part1/NormalForms/#59491" class="Bound">φ⟺⊥</a> <a id="59495" class="Symbol">=</a> <a id="59497" class="Symbol">(</a><a id="59498" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="59500" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="59503" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="59505" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="59507" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="59509" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="59511" class="Symbol">)</a> <a id="59513" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="59515" class="Symbol">(</a><a id="59516" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="59520" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="59523" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="59525" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="59529" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="59532" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="59533" class="Symbol">)</a> <a id="59535" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a> <a id="59537" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="59539" href="/lia/part1/NormalForms/#59557" class="Function">φ⟺p₀∧¬p₀</a> <a id="59548" class="Keyword">where</a>

  <a id="59557" href="/lia/part1/NormalForms/#59557" class="Function">φ⟺p₀∧¬p₀</a> <a id="59566" class="Symbol">:</a> <a id="59568" class="Bound">φ</a> <a id="59570" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="59572" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="59574" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="59577" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="59579" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="59581" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="59583" href="/lia/part1/Semantics/#1194" class="Function">p₀</a>
  <a id="59588" href="/lia/part1/NormalForms/#59557" class="Function">φ⟺p₀∧¬p₀</a> <a id="59597" href="/lia/part1/NormalForms/#59597" class="Bound">ϱ</a>
    <a id="59603" class="Keyword">rewrite</a> <a id="59611" href="/lia/part1/Semantics/#39747" class="Function">p∧¬p⟺⊥</a> <a id="59618" class="Symbol">{</a><a id="59619" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="59621" class="Symbol">}</a> <a id="59623" href="/lia/part1/NormalForms/#59597" class="Bound">ϱ</a> <a id="59625" class="Symbol">|</a>
            <a id="59639" href="/lia/part1/NormalForms/#59491" class="Bound">φ⟺⊥</a> <a id="59643" href="/lia/part1/NormalForms/#59597" class="Bound">ϱ</a> <a id="59645" class="Symbol">=</a> <a id="59647" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<h2 id="complete-transformation">
<a class="anchor" href="#complete-transformation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Complete transformation</h2>

<p>The final <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> transformation is achieved by combining the
<a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> transformation, the unsimplifying <a href="#dnf1"><code class="language-plaintext highlighter-rouge">dnf1</code></a>
transformation, followed by <a href="#simplifyDNF"><code class="language-plaintext highlighter-rouge">simplifyDNF</code></a> and
<a href="../../part1/Semantics#simplify"><code class="language-plaintext highlighter-rouge">simplify</code></a> . To prove its correctness
we have to first show that <a href="../../part1/Semantics#simplify"><code class="language-plaintext highlighter-rouge">simplify</code></a>
preserves <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> formulas.</p>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:simplify-preserves-DNF" class="pandoc-numbering-text exercise"><strong>Exercise 8</strong></span></dt>
    <dd>Show that <a href="../../part1/Semantics#simplify"><code class="language-plaintext highlighter-rouge">simplify</code></a> preserves
<a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> formulas:</dd>
  </dl>

  <pre class="Agda"><a id="simplify-preserves-DNF"></a><a id="60148" href="/lia/part1/NormalForms/#60148" class="Function">simplify-preserves-DNF</a> <a id="60171" class="Symbol">:</a> <a id="60173" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="60177" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="60179" class="Symbol">→</a> <a id="60181" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="60185" class="Symbol">(</a><a id="60186" href="/lia/part1/Semantics/#56744" class="Function">simplify</a> <a id="60195" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a><a id="60196" class="Symbol">)</a></pre>

  <p><em>Hint</em>: It will be convenient to first prove some auxiliary facts:</p>

  <pre class="Agda"><a id="simplify1-preserves-Literal"></a><a id="60275" href="/lia/part1/NormalForms/#60275" class="Function">simplify1-preserves-Literal</a> <a id="60303" class="Symbol">:</a> <a id="60305" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="60313" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="60315" class="Symbol">→</a> <a id="60317" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="60325" class="Symbol">(</a><a id="60326" href="/lia/part1/Semantics/#56734" class="Function">simplify1</a> <a id="60336" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a><a id="60337" class="Symbol">)</a>
<a id="simplify1-preserves-DNFClause"></a><a id="60339" href="/lia/part1/NormalForms/#60339" class="Function">simplify1-preserves-DNFClause</a> <a id="60369" class="Symbol">:</a> <a id="60371" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="60381" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="60383" class="Symbol">→</a> <a id="60385" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="60395" class="Symbol">(</a><a id="60396" href="/lia/part1/Semantics/#56734" class="Function">simplify1</a> <a id="60406" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a><a id="60407" class="Symbol">)</a>
<a id="simplify1-preserves-DNF"></a><a id="60409" href="/lia/part1/NormalForms/#60409" class="Function">simplify1-preserves-DNF</a> <a id="60433" class="Symbol">:</a> <a id="60435" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="60439" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="60441" class="Symbol">→</a> <a id="60443" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="60447" class="Symbol">(</a><a id="60448" href="/lia/part1/Semantics/#56734" class="Function">simplify1</a> <a id="60458" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a><a id="60459" class="Symbol">)</a>

<a id="simplify-preserves-Literal"></a><a id="60462" href="/lia/part1/NormalForms/#60462" class="Function">simplify-preserves-Literal</a> <a id="60489" class="Symbol">:</a> <a id="60491" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="60499" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="60501" class="Symbol">→</a> <a id="60503" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="60511" class="Symbol">(</a><a id="60512" href="/lia/part1/Semantics/#56744" class="Function">simplify</a> <a id="60521" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a><a id="60522" class="Symbol">)</a>
<a id="simplify-preserves-DNFClause"></a><a id="60524" href="/lia/part1/NormalForms/#60524" class="Function">simplify-preserves-DNFClause</a> <a id="60553" class="Symbol">:</a> <a id="60555" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="60565" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="60567" class="Symbol">→</a> <a id="60569" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="60579" class="Symbol">(</a><a id="60580" href="/lia/part1/Semantics/#56744" class="Function">simplify</a> <a id="60589" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a><a id="60590" class="Symbol">)</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:simplify-preserves-DNF-solution)
:::::::
-->

</div>

<p>The announced <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> transformation follows:</p>

<pre class="Agda"><a id="dnf"></a><a id="62106" href="/lia/part1/NormalForms/#62106" class="Function">dnf</a> <a id="62110" class="Symbol">:</a> <a id="62112" class="Symbol">∀</a> <a id="62114" href="/lia/part1/NormalForms/#62114" class="Bound">φ</a> <a id="62116" class="Symbol">→</a> <a id="62118" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="62121" href="/lia/part1/NormalForms/#62121" class="Bound">ψ</a> <a id="62123" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="62125" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="62129" href="/lia/part1/NormalForms/#62121" class="Bound">ψ</a> <a id="62131" href="/lia/part0/Logic/#1770" class="Record Operator">×</a> <a id="62133" href="/lia/part1/NormalForms/#62114" class="Bound">φ</a> <a id="62135" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="62137" href="/lia/part1/NormalForms/#62121" class="Bound">ψ</a>
<a id="62139" href="/lia/part1/NormalForms/#62106" class="Function">dnf</a> <a id="62143" href="/lia/part1/NormalForms/#62143" class="Bound">φ</a>
  <a id="62147" class="Keyword">with</a> <a id="62152" href="/lia/part1/Semantics/#56744" class="Function">simplify</a> <a id="62161" href="/lia/part1/NormalForms/#62143" class="Bound">φ</a> <a id="62163" class="Symbol">|</a> <a id="62165" href="/lia/part1/Semantics/#58275" class="Function">simplify-sound</a> <a id="62180" href="/lia/part1/NormalForms/#62143" class="Bound">φ</a>
<a id="62182" class="Symbol">...</a> <a id="62186" class="Symbol">|</a> <a id="62188" href="/lia/part1/NormalForms/#62188" class="Bound">φ'</a> <a id="62191" class="Symbol">|</a> <a id="62193" href="/lia/part1/NormalForms/#62193" class="Bound">φ'⟺φ</a>
  <a id="62200" class="Keyword">with</a> <a id="62205" href="/lia/part1/NormalForms/#28347" class="Function">nnf</a> <a id="62209" href="/lia/part1/NormalForms/#62188" class="Bound">φ'</a> <a id="62212" class="Symbol">|</a> <a id="62214" href="/lia/part1/NormalForms/#29330" class="Function">nnf-NNF</a> <a id="62222" href="/lia/part1/NormalForms/#62188" class="Bound">φ'</a> <a id="62225" class="Symbol">|</a> <a id="62227" href="/lia/part1/NormalForms/#29425" class="Function">nnf-sound</a> <a id="62237" href="/lia/part1/NormalForms/#62188" class="Bound">φ'</a>
<a id="62240" class="Symbol">...</a> <a id="62244" class="Symbol">|</a> <a id="62246" href="/lia/part1/NormalForms/#62246" class="Bound">φ''</a> <a id="62250" class="Symbol">|</a> <a id="62252" href="/lia/part1/NormalForms/#62252" class="Bound">NNFφ''</a> <a id="62259" class="Symbol">|</a> <a id="62261" href="/lia/part1/NormalForms/#62261" class="Bound">φ'⟺φ''</a>
  <a id="62270" class="Keyword">with</a> <a id="62275" href="/lia/part1/NormalForms/#39339" class="Function">dnf1</a> <a id="62280" href="/lia/part1/NormalForms/#62252" class="Bound">NNFφ''</a>
<a id="62287" class="Symbol">...</a> <a id="62291" class="Symbol">|</a> <a id="62293" href="/lia/part1/NormalForms/#62293" class="Bound">ψ</a> <a id="62295" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="62297" href="/lia/part1/NormalForms/#62297" class="Bound">DNFψ</a> <a id="62302" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="62304" href="/lia/part1/NormalForms/#62304" class="Bound">φ''⟺ψ</a>
  <a id="62312" class="Keyword">with</a> <a id="62317" href="/lia/part1/NormalForms/#59375" class="Function">simplifyDNF</a> <a id="62329" href="/lia/part1/NormalForms/#62297" class="Bound">DNFψ</a>
<a id="62334" class="Symbol">...</a> <a id="62338" class="Symbol">|</a> <a id="62340" href="/lia/part1/NormalForms/#62340" class="Bound">ψ'</a> <a id="62343" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="62345" href="/lia/part1/NormalForms/#62345" class="Bound">DNFψ'</a> <a id="62351" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="62353" href="/lia/part1/NormalForms/#62353" class="Bound">ψ⟺ψ'</a>
  <a id="62360" class="Keyword">with</a> <a id="62365" href="/lia/part0/Equality/#4462" class="Function">inspect</a> <a id="62373" class="Symbol">(</a><a id="62374" href="/lia/part1/Semantics/#56744" class="Function">simplify</a> <a id="62383" href="/lia/part1/NormalForms/#62340" class="Bound">ψ'</a><a id="62385" class="Symbol">)</a> <a id="62387" class="Symbol">|</a> <a id="62389" href="/lia/part1/Semantics/#58275" class="Function">simplify-sound</a> <a id="62404" href="/lia/part1/NormalForms/#62340" class="Bound">ψ'</a>
<a id="62407" class="Symbol">...</a> <a id="62411" class="Symbol">|</a> <a id="62413" href="/lia/part0/Equality/#4428" class="InductiveConstructor">it</a> <a id="62416" href="/lia/part1/NormalForms/#62416" class="Bound">ψ''</a> <a id="62420" href="/lia/part1/NormalForms/#62420" class="Bound">eq</a> <a id="62423" class="Symbol">|</a> <a id="62425" href="/lia/part1/NormalForms/#62425" class="Bound">ψ''⟺ψ'</a>
  <a id="62434" class="Keyword">with</a> <a id="62439" href="/lia/part1/NormalForms/#60148" class="Function">simplify-preserves-DNF</a> <a id="62462" class="Bound">DNFψ'</a>
<a id="62468" class="Symbol">...</a> <a id="62472" class="Symbol">|</a> <a id="62474" href="/lia/part1/NormalForms/#62474" class="Bound">DNFψ''</a> <a id="62481" class="Keyword">rewrite</a> <a id="62489" class="Bound">eq</a> <a id="62492" class="Symbol">=</a> <a id="62494" class="Bound">ψ''</a> <a id="62498" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="62500" href="/lia/part1/NormalForms/#62474" class="Bound">DNFψ''</a> <a id="62507" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="62509" href="/lia/part1/NormalForms/#62524" class="Function">φ⟺ψ''</a> <a id="62515" class="Keyword">where</a>

  <a id="62524" href="/lia/part1/NormalForms/#62524" class="Function">φ⟺ψ''</a> <a id="62530" class="Symbol">:</a> <a id="62532" class="Bound">φ</a> <a id="62534" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="62536" class="Bound">ψ''</a>
  <a id="62542" href="/lia/part1/NormalForms/#62524" class="Function">φ⟺ψ''</a> <a id="62548" href="/lia/part1/NormalForms/#62548" class="Bound">ϱ</a> <a id="62550" class="Keyword">rewrite</a> <a id="62558" href="/lia/part0/Equality/#405" class="Function">sym</a> <a id="62562" class="Symbol">(</a><a id="62563" class="Bound">φ'⟺φ</a> <a id="62568" href="/lia/part1/NormalForms/#62548" class="Bound">ϱ</a><a id="62569" class="Symbol">)</a> <a id="62571" class="Symbol">|</a>
                  <a id="62591" class="Bound">φ'⟺φ''</a> <a id="62598" href="/lia/part1/NormalForms/#62548" class="Bound">ϱ</a> <a id="62600" class="Symbol">|</a>
                  <a id="62620" class="Bound">φ''⟺ψ</a> <a id="62626" href="/lia/part1/NormalForms/#62548" class="Bound">ϱ</a> <a id="62628" class="Symbol">|</a>
                  <a id="62648" class="Bound">ψ⟺ψ'</a> <a id="62653" href="/lia/part1/NormalForms/#62548" class="Bound">ϱ</a> <a id="62655" class="Symbol">|</a>
                  <a id="62675" href="/lia/part0/Equality/#405" class="Function">sym</a> <a id="62679" class="Symbol">(</a><a id="62680" class="Bound">ψ''⟺ψ'</a> <a id="62687" href="/lia/part1/NormalForms/#62548" class="Bound">ϱ</a><a id="62688" class="Symbol">)</a> <a id="62690" class="Symbol">|</a>
                  <a id="62710" class="Bound">eq</a> <a id="62713" class="Symbol">=</a> <a id="62715" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>For example,</p>

<pre class="Agda"><a id="62744" href="/lia/part1/NormalForms/#62744" class="Function">_</a> <a id="62746" class="Symbol">:</a> <a id="62748" href="/lia/part0/Logic/#416" class="Field">dfst</a> <a id="62753" class="Symbol">(</a><a id="62754" href="/lia/part1/NormalForms/#62106" class="Function">dnf</a> <a id="62758" class="Symbol">(</a><a id="62759" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="62761" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="62763" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="62765" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="62767" class="Symbol">))</a> <a id="62770" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="62772" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="62774" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="62777" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="62779" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="62781" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="62783" href="/lia/part1/Semantics/#1194" class="Function">p₀</a>    <a id="62789" href="/lia/part0/Logic/#1770" class="Record Operator">×</a>
    <a id="62795" href="/lia/part0/Logic/#416" class="Field">dfst</a> <a id="62800" class="Symbol">(</a><a id="62801" href="/lia/part1/NormalForms/#62106" class="Function">dnf</a> <a id="62805" class="Symbol">(</a><a id="62806" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="62808" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="62810" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="62812" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="62814" class="Symbol">))</a> <a id="62817" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="62819" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="62821" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="62824" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="62826" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="62828" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="62830" href="/lia/part1/Semantics/#1194" class="Function">p₀</a>    <a id="62836" href="/lia/part0/Logic/#1770" class="Record Operator">×</a>
    <a id="62842" href="/lia/part0/Logic/#416" class="Field">dfst</a> <a id="62847" class="Symbol">(</a><a id="62848" href="/lia/part1/NormalForms/#62106" class="Function">dnf</a> <a id="62852" class="Symbol">(</a><a id="62853" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="62855" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="62857" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="62859" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="62862" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="62864" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="62866" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="62868" class="Symbol">))</a> <a id="62871" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="62873" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="62875" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="62878" href="/lia/part0/Logic/#1770" class="Record Operator">×</a>
    <a id="62884" href="/lia/part0/Logic/#416" class="Field">dfst</a> <a id="62889" class="Symbol">(</a><a id="62890" href="/lia/part1/NormalForms/#62106" class="Function">dnf</a> <a id="62894" class="Symbol">(</a><a id="62895" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="62897" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="62900" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="62902" class="Symbol">(</a><a id="62903" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="62905" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="62908" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="62910" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="62912" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="62914" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="62916" class="Symbol">)))</a> <a id="62920" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="62922" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="62924" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="62927" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="62929" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="62931" href="/lia/part1/Semantics/#1197" class="Function">p₁</a>

<a id="62935" class="Symbol">_</a> <a id="62937" class="Symbol">=</a> <a id="62939" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a> <a id="62944" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="62946" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a> <a id="62951" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="62953" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a> <a id="62958" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="62960" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:satisfiability" class="pandoc-numbering-text exercise"><strong>Exercise 9</strong></span></dt>
    <dd>What is the complexity of checking satisfiability of a formula in
<a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> ? And tautology? <span class="hidden">∎</span> <span class="right-aligned">∎</span>
</dd>
  </dl>

  <!--
::::::: {.solutionlink}
[solution](#exercise:satisfiability-solution)
:::::::
-->

</div>

<h1 id="CNF">
<a class="anchor" href="#CNF" aria-hidden="true"><span class="octicon octicon-link"></span></a>Conjunctive normal form</h1>

<p>A (CNF) <em>clause</em> <code class="language-plaintext highlighter-rouge">C</code> is a disjunction of literals <code class="language-plaintext highlighter-rouge">l1 ∨ ⋯ ∨ lm</code> and a
formula is in <em>conjunctive normal form</em> (CNF) if it is a conjunction of
clauses <code class="language-plaintext highlighter-rouge">C1 ∧ ⋯ ∧ Cn</code>:</p>

<pre class="Agda"><a id="63557" class="Keyword">data</a> <a id="CNFClause"></a><a id="63562" href="/lia/part1/NormalForms/#63562" class="Datatype">CNFClause</a> <a id="63572" class="Symbol">:</a> <a id="63574" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="63582" class="Symbol">→</a> <a id="63584" class="PrimitiveType">Set</a> <a id="63588" class="Keyword">where</a>
  <a id="CNFClause._∙"></a><a id="63596" href="/lia/part1/NormalForms/#63596" class="InductiveConstructor Operator">_∙</a> <a id="63599" class="Symbol">:</a> <a id="63601" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="63609" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="63611" class="Symbol">→</a> <a id="63613" href="/lia/part1/NormalForms/#63562" class="Datatype">CNFClause</a> <a id="63623" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a>
  <a id="CNFClause._,_"></a><a id="63627" href="/lia/part1/NormalForms/#63627" class="InductiveConstructor Operator">_,_</a> <a id="63631" class="Symbol">:</a> <a id="63633" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="63641" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="63643" class="Symbol">→</a> <a id="63645" href="/lia/part1/NormalForms/#63562" class="Datatype">CNFClause</a> <a id="63655" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="63657" class="Symbol">→</a> <a id="63659" href="/lia/part1/NormalForms/#63562" class="Datatype">CNFClause</a> <a id="63669" class="Symbol">(</a><a id="63670" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="63672" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="63674" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a><a id="63675" class="Symbol">)</a>

<a id="63678" class="Keyword">data</a> <a id="CNF"></a><a id="63683" href="/lia/part1/NormalForms/#63683" class="Datatype">CNF</a> <a id="63687" class="Symbol">:</a> <a id="63689" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="63697" class="Symbol">→</a> <a id="63699" class="PrimitiveType">Set</a> <a id="63703" class="Keyword">where</a>
  <a id="CNF._∙"></a><a id="63711" href="/lia/part1/NormalForms/#63711" class="InductiveConstructor Operator">_∙</a> <a id="63714" class="Symbol">:</a> <a id="63716" href="/lia/part1/NormalForms/#63562" class="Datatype">CNFClause</a> <a id="63726" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="63728" class="Symbol">→</a> <a id="63730" href="/lia/part1/NormalForms/#63683" class="Datatype">CNF</a> <a id="63734" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a>
  <a id="CNF._,_"></a><a id="63738" href="/lia/part1/NormalForms/#63738" class="InductiveConstructor Operator">_,_</a> <a id="63742" class="Symbol">:</a> <a id="63744" href="/lia/part1/NormalForms/#63562" class="Datatype">CNFClause</a> <a id="63754" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="63756" class="Symbol">→</a> <a id="63758" href="/lia/part1/NormalForms/#63683" class="Datatype">CNF</a> <a id="63762" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a> <a id="63764" class="Symbol">→</a> <a id="63766" href="/lia/part1/NormalForms/#63683" class="Datatype">CNF</a> <a id="63770" class="Symbol">(</a><a id="63771" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="63773" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="63775" href="/lia/part1/NormalForms/#266" class="Generalizable">ψ</a><a id="63776" class="Symbol">)</a></pre>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:DNF-CNF-duality" class="pandoc-numbering-text exercise"><strong>Exercise 10</strong></span></dt>
    <dd>Show that the conjunctive normal form (CNF) is
<a href="../../part1/Semantics#duality"><em>dual</em></a> to the disjunctive normal
form from the <a href="#CNF">previous section</a>, in the sense that swapping
conjunctions with disjunctions allows one to pass from one form to
the other<sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote">2</a></sup>:</dd>
  </dl>

  <pre class="Agda"><a id="DNF-CNF-dual"></a><a id="64240" href="/lia/part1/NormalForms/#64240" class="Function">DNF-CNF-dual</a> <a id="64253" class="Symbol">:</a> <a id="64255" href="/lia/part1/NormalForms/#30378" class="Datatype">DNF</a> <a id="64259" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="64261" class="Symbol">→</a> <a id="64263" href="/lia/part1/NormalForms/#63683" class="Datatype">CNF</a> <a id="64267" class="Symbol">(</a><a id="64268" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="64270" href="/lia/part1/Semantics/#61993" class="Function Operator">⁻</a><a id="64271" class="Symbol">)</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:DNF-CNF-duality-solution)
:::::::
-->

</div>

<h2 id="transformation-2">
<a class="anchor" href="#transformation-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Transformation</h2>

<p>Duality is a very useful property since it allows us to “recycle” the
<a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> transformation from the previous section into a
<a href="#CNF"><code class="language-plaintext highlighter-rouge">CNF</code></a> transformation: The basic idea is to dualise the formula,
apply the <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> transformation, and then dualise the formula
again. Correctness relies on the fact that 1) if two formulas are
equivalent, then so are their dualisations, and 2) if we dualise twice
then we go back to the original formula. More precisely, we would like
to apply
<a href="../../part1/Semantics#duality-equivalence-1"><code class="language-plaintext highlighter-rouge">duality-equivalence-1</code></a>
for 1) and
<a href="../../part1/Semantics#dual-preservation"><code class="language-plaintext highlighter-rouge">dual-preservation</code></a> for 2),
which however relies on the fact that the input formulas are in the
<code class="language-plaintext highlighter-rouge">Formula[⊥,⊤,¬,∨,∧]</code> fragment. For this reason, we start off the
construction with a preliminary <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> transformation, which
guarantees us membership in the require fragment thanks to
<a href="#NNF-Formula%5B%E2%8A%A5,%E2%8A%A4,%C2%AC,%E2%88%A8,%E2%88%A7%5D"><code class="language-plaintext highlighter-rouge">NNF-Formula[⊥,⊤,¬,∨,∧]</code></a> :</p>

<pre class="Agda"><a id="cnf"></a><a id="65595" href="/lia/part1/NormalForms/#65595" class="Function">cnf</a> <a id="65599" class="Symbol">:</a> <a id="65601" class="Symbol">∀</a> <a id="65603" href="/lia/part1/NormalForms/#65603" class="Bound">φ</a> <a id="65605" class="Symbol">→</a> <a id="65607" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="65610" href="/lia/part1/NormalForms/#65610" class="Bound">ψ</a> <a id="65612" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="65614" href="/lia/part1/NormalForms/#63683" class="Datatype">CNF</a> <a id="65618" href="/lia/part1/NormalForms/#65610" class="Bound">ψ</a> <a id="65620" href="/lia/part0/Logic/#1770" class="Record Operator">×</a> <a id="65622" href="/lia/part1/NormalForms/#65603" class="Bound">φ</a> <a id="65624" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="65626" href="/lia/part1/NormalForms/#65610" class="Bound">ψ</a>
<a id="65628" href="/lia/part1/NormalForms/#65595" class="Function">cnf</a> <a id="65632" href="/lia/part1/NormalForms/#65632" class="Bound">φ</a>
  <a id="65636" class="Keyword">with</a> <a id="65641" href="/lia/part1/NormalForms/#28347" class="Function">nnf</a> <a id="65645" href="/lia/part1/NormalForms/#65632" class="Bound">φ</a> <a id="65647" class="Symbol">|</a> <a id="65649" href="/lia/part1/NormalForms/#29330" class="Function">nnf-NNF</a> <a id="65657" href="/lia/part1/NormalForms/#65632" class="Bound">φ</a> <a id="65659" class="Symbol">|</a> <a id="65661" href="/lia/part1/NormalForms/#29425" class="Function">nnf-sound</a> <a id="65671" href="/lia/part1/NormalForms/#65632" class="Bound">φ</a>
<a id="65673" class="Symbol">...</a> <a id="65677" class="Symbol">|</a> <a id="65679" href="/lia/part1/NormalForms/#65679" class="Bound">φ'</a> <a id="65682" class="Symbol">|</a> <a id="65684" href="/lia/part1/NormalForms/#65684" class="Bound">NNFφ'</a> <a id="65690" class="Symbol">|</a> <a id="65692" href="/lia/part1/NormalForms/#65692" class="Bound">φ⟺φ'</a>
  <a id="65699" class="Keyword">with</a> <a id="65704" href="/lia/part1/NormalForms/#62106" class="Function">dnf</a> <a id="65708" class="Symbol">(</a><a id="65709" href="/lia/part1/NormalForms/#65679" class="Bound">φ'</a> <a id="65712" href="/lia/part1/Semantics/#61993" class="Function Operator">⁻</a><a id="65713" class="Symbol">)</a>
<a id="65715" class="Symbol">...</a> <a id="65719" class="Symbol">|</a> <a id="65721" href="/lia/part1/NormalForms/#65721" class="Bound">ψ</a> <a id="65723" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="65725" href="/lia/part1/NormalForms/#65725" class="Bound">DNFψ</a> <a id="65730" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="65732" href="/lia/part1/NormalForms/#65732" class="Bound">φ'⁻⟺ψ</a> <a id="65738" class="Symbol">=</a> <a id="65740" href="/lia/part1/NormalForms/#65721" class="Bound">ψ</a> <a id="65742" href="/lia/part1/Semantics/#61993" class="Function Operator">⁻</a> <a id="65744" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="65746" href="/lia/part1/NormalForms/#64240" class="Function">DNF-CNF-dual</a> <a id="65759" href="/lia/part1/NormalForms/#65725" class="Bound">DNFψ</a> <a id="65764" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="65766" href="/lia/part1/NormalForms/#66151" class="Function">φ⟺ψ⁻</a> <a id="65771" class="Keyword">where</a>

    <a id="65782" href="/lia/part1/NormalForms/#65782" class="Function">Fψ</a> <a id="65785" class="Symbol">:</a> <a id="65787" href="/lia/part1/Semantics/#62569" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="65806" href="/lia/part1/NormalForms/#65721" class="Bound">ψ</a>
    <a id="65812" href="/lia/part1/NormalForms/#65782" class="Function">Fψ</a> <a id="65815" class="Symbol">=</a> <a id="65817" href="/lia/part1/NormalForms/#33526" class="Function">DNF-Formula[⊥,⊤,¬,∨,∧]</a> <a id="65840" href="/lia/part1/NormalForms/#65725" class="Bound">DNFψ</a>

    <a id="65850" href="/lia/part1/NormalForms/#65850" class="Function">Fφ'</a> <a id="65854" class="Symbol">:</a> <a id="65856" href="/lia/part1/Semantics/#62569" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="65875" class="Bound">φ'</a>
    <a id="65882" href="/lia/part1/NormalForms/#65850" class="Function">Fφ'</a> <a id="65886" class="Symbol">=</a> <a id="65888" href="/lia/part1/NormalForms/#24098" class="Function">NNF-Formula[⊥,⊤,¬,∨,∧]</a> <a id="65911" class="Bound">NNFφ'</a>
    
    <a id="65926" href="/lia/part1/NormalForms/#65926" class="Function">Fφ'⁻</a> <a id="65931" class="Symbol">:</a> <a id="65933" href="/lia/part1/Semantics/#62569" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="65952" class="Symbol">(</a><a id="65953" class="Bound">φ'</a> <a id="65956" href="/lia/part1/Semantics/#61993" class="Function Operator">⁻</a><a id="65957" class="Symbol">)</a>
    <a id="65963" href="/lia/part1/NormalForms/#65926" class="Function">Fφ'⁻</a> <a id="65968" class="Symbol">=</a> <a id="65970" href="/lia/part1/Semantics/#66242" class="Function">dual-preservation</a> <a id="65988" href="/lia/part1/NormalForms/#65850" class="Function">Fφ'</a>

    <a id="65997" href="/lia/part1/NormalForms/#65997" class="Function">φ'⁻⁻⟺ψ⁻</a> <a id="66005" class="Symbol">:</a> <a id="66007" class="Bound">φ'</a> <a id="66010" href="/lia/part1/Semantics/#61993" class="Function Operator">⁻</a> <a id="66012" href="/lia/part1/Semantics/#61993" class="Function Operator">⁻</a> <a id="66014" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="66016" href="/lia/part1/NormalForms/#65721" class="Bound">ψ</a> <a id="66018" href="/lia/part1/Semantics/#61993" class="Function Operator">⁻</a>
    <a id="66024" href="/lia/part1/NormalForms/#65997" class="Function">φ'⁻⁻⟺ψ⁻</a> <a id="66032" class="Symbol">=</a> <a id="66034" href="/lia/part1/Semantics/#65607" class="Function">duality-equivalence-1</a> <a id="66056" href="/lia/part1/NormalForms/#65926" class="Function">Fφ'⁻</a> <a id="66061" href="/lia/part1/NormalForms/#65782" class="Function">Fψ</a> <a id="66064" href="/lia/part1/NormalForms/#65732" class="Bound">φ'⁻⟺ψ</a>

    <a id="66075" href="/lia/part1/NormalForms/#66075" class="Function">φ'⟺ψ⁻</a> <a id="66081" class="Symbol">:</a> <a id="66083" class="Bound">φ'</a> <a id="66086" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="66088" href="/lia/part1/NormalForms/#65721" class="Bound">ψ</a> <a id="66090" href="/lia/part1/Semantics/#61993" class="Function Operator">⁻</a>
    <a id="66096" href="/lia/part1/NormalForms/#66075" class="Function">φ'⟺ψ⁻</a> <a id="66102" class="Keyword">rewrite</a> <a id="66110" href="/lia/part0/Equality/#405" class="Function">sym</a> <a id="66114" class="Symbol">(</a><a id="66115" href="/lia/part1/Semantics/#63705" class="Function">dual-involutive</a> <a id="66131" href="/lia/part1/NormalForms/#65850" class="Function">Fφ'</a><a id="66134" class="Symbol">)</a> <a id="66136" class="Symbol">=</a> <a id="66138" href="/lia/part1/NormalForms/#65997" class="Function">φ'⁻⁻⟺ψ⁻</a>

    <a id="66151" href="/lia/part1/NormalForms/#66151" class="Function">φ⟺ψ⁻</a> <a id="66156" class="Symbol">:</a> <a id="66158" class="Bound">φ</a> <a id="66160" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="66162" href="/lia/part1/NormalForms/#65721" class="Bound">ψ</a> <a id="66164" href="/lia/part1/Semantics/#61993" class="Function Operator">⁻</a>
    <a id="66170" href="/lia/part1/NormalForms/#66151" class="Function">φ⟺ψ⁻</a> <a id="66175" href="/lia/part1/NormalForms/#66175" class="Bound">ϱ</a> <a id="66177" class="Keyword">rewrite</a> <a id="66185" class="Bound">φ⟺φ'</a> <a id="66190" href="/lia/part1/NormalForms/#66175" class="Bound">ϱ</a> <a id="66192" class="Symbol">|</a>
                   <a id="66213" href="/lia/part1/NormalForms/#66075" class="Function">φ'⟺ψ⁻</a> <a id="66219" href="/lia/part1/NormalForms/#66175" class="Bound">ϱ</a> <a id="66221" class="Symbol">=</a> <a id="66223" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<p>For example,</p>

<pre class="Agda"><a id="66251" href="/lia/part1/NormalForms/#66251" class="Function">_</a> <a id="66253" class="Symbol">:</a> <a id="66255" href="/lia/part0/Logic/#416" class="Field">dfst</a> <a id="66260" class="Symbol">(</a><a id="66261" href="/lia/part1/NormalForms/#65595" class="Function">cnf</a> <a id="66265" class="Symbol">(</a><a id="66266" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="66268" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="66270" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="66272" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="66274" class="Symbol">))</a> <a id="66277" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="66279" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="66281" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="66284" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="66286" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="66288" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="66290" href="/lia/part1/Semantics/#1194" class="Function">p₀</a>                                    <a id="66328" href="/lia/part0/Logic/#1770" class="Record Operator">×</a>
    <a id="66334" href="/lia/part0/Logic/#416" class="Field">dfst</a> <a id="66339" class="Symbol">(</a><a id="66340" href="/lia/part1/NormalForms/#65595" class="Function">cnf</a> <a id="66344" class="Symbol">(</a><a id="66345" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="66347" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="66349" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="66351" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="66353" class="Symbol">))</a> <a id="66356" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="66358" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="66360" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="66363" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="66365" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="66367" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="66369" href="/lia/part1/Semantics/#1194" class="Function">p₀</a>                                    <a id="66407" href="/lia/part0/Logic/#1770" class="Record Operator">×</a>
    <a id="66413" href="/lia/part0/Logic/#416" class="Field">dfst</a> <a id="66418" class="Symbol">(</a><a id="66419" href="/lia/part1/NormalForms/#65595" class="Function">cnf</a> <a id="66423" class="Symbol">(</a><a id="66424" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="66426" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="66428" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="66430" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="66433" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="66435" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="66437" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="66439" class="Symbol">))</a> <a id="66442" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="66444" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="66446" href="/lia/part1/Semantics/#1194" class="Function">p₀</a>                          <a id="66474" href="/lia/part0/Logic/#1770" class="Record Operator">×</a>
    <a id="66480" href="/lia/part0/Logic/#416" class="Field">dfst</a> <a id="66485" class="Symbol">(</a><a id="66486" href="/lia/part1/NormalForms/#65595" class="Function">cnf</a> <a id="66490" class="Symbol">(</a><a id="66491" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="66493" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="66496" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="66498" class="Symbol">(</a><a id="66499" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="66501" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="66504" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="66506" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="66508" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="66510" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="66512" class="Symbol">)))</a> <a id="66516" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="66518" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="66520" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="66523" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="66525" class="Symbol">(</a><a id="66526" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="66528" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="66531" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="66533" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="66535" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="66537" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="66539" class="Symbol">)</a> <a id="66541" href="/lia/part0/Logic/#1770" class="Record Operator">×</a>
    <a id="66547" href="/lia/part0/Logic/#416" class="Field">dfst</a> <a id="66552" class="Symbol">(</a><a id="66553" href="/lia/part1/NormalForms/#65595" class="Function">cnf</a> <a id="66557" class="Symbol">(</a><a id="66558" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="66560" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="66563" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="66565" class="Symbol">(</a><a id="66566" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="66568" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="66571" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="66573" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="66575" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="66577" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="66579" class="Symbol">)))</a> <a id="66583" href="/lia/part0/Equality/#244" class="Datatype Operator">≡</a> <a id="66585" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="66587" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="66590" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="66592" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="66594" href="/lia/part1/Semantics/#1197" class="Function">p₁</a>

<a id="66598" class="Symbol">_</a> <a id="66600" class="Symbol">=</a> <a id="66602" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a> <a id="66607" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="66609" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a> <a id="66614" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="66616" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a> <a id="66621" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="66623" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a> <a id="66628" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="66630" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

<div id="refs">

  <h1 id="references">
<a class="anchor" href="#references" aria-hidden="true"><span class="octicon octicon-link"></span></a>References</h1>

</div>

<h1 id="solutions">
<a class="anchor" href="#solutions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Solutions</h1>

<div class="solutionbox">

  <h6 id="exercise:size-neg-solution">Solution to <a href="#exercise:size-neg" title="Exercise 1">Exercise 1</a>
</h6>

  <pre class="Agda"><a id="14456" href="/lia/part1/NormalForms/#14316" class="Function">size-¬</a> <a id="14463" class="Symbol">_</a> <a id="14465" class="Symbol">=</a> <a id="14467" href="/lia/part0/Naturals/#1437" class="Function">n≤sucn</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:wnnf-tight-solution">Solution to <a href="#exercise:wnnf-tight" title="Exercise 2">Exercise 2</a>
</h6>

  <p>The worst case of the <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> translation is achieved when a
single negation is pushed inside a formula of size <code class="language-plaintext highlighter-rouge">2*n</code> the form
<code class="language-plaintext highlighter-rouge">¬ (` p₁ ∨ ⋯ ∨ ` pₙ)</code>, yielding a <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> formula
<code class="language-plaintext highlighter-rouge">¬ ` p₁ ∨ ⋯ ∨ ¬ ` pₙ</code> of size <code class="language-plaintext highlighter-rouge">3*n-1</code>. The bound given by
<a href="#wnnf-size-%C2%AC"><code class="language-plaintext highlighter-rouge">wnnf-size-¬</code></a> in this case would be <code class="language-plaintext highlighter-rouge">4*n</code>, which thus is
not tight in general. <span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:nnf-complexity-solution">Solution to <a href="#exercise:nnf-complexity" title="Exercise 3">Exercise 3</a>
</h6>

  <p>The <a href="#nnf"><code class="language-plaintext highlighter-rouge">nnf</code></a> transformation is exponential on formulas of the form
<code class="language-plaintext highlighter-rouge">φ₀ ⇔ φ₁ ⇔ ⋯ ⇔ φₙ</code>, the culprit being <a href="#removeImp"><code class="language-plaintext highlighter-rouge">removeImp</code></a> : every
time a bi-implication is removed the formula size doubles. Avoiding such
blow-up is the main advantage of <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> over <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> , if
the weaker form suffices. On the other hand, if there are no
bi-implications, <a href="#nnf"><code class="language-plaintext highlighter-rouge">nnf</code></a> has linear complexity, pretty much like
<a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a> . <span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:DNF-fragment-solution">Solution to <a href="#exercise:DNF-fragment" title="Exercise 4">Exercise 4</a>
</h6>

  <p>We begin from proving that literals are in the fragment:</p>

  <pre class="Agda"><a id="Literal-Formula[⊥,⊤,¬,∨,∧]"></a><a id="33743" href="/lia/part1/NormalForms/#33743" class="Function">Literal-Formula[⊥,⊤,¬,∨,∧]</a> <a id="33770" class="Symbol">:</a> <a id="33772" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="33780" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="33782" class="Symbol">→</a> <a id="33784" href="/lia/part1/Semantics/#62569" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="33803" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a>
<a id="33805" href="/lia/part1/NormalForms/#33743" class="Function">Literal-Formula[⊥,⊤,¬,∨,∧]</a> <a id="33832" class="Symbol">(</a><a id="33833" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="33837" href="/lia/part1/NormalForms/#33837" class="Bound">p</a><a id="33838" class="Symbol">)</a> <a id="33840" class="Symbol">=</a> <a id="33842" href="/lia/part1/Semantics/#62666" class="InductiveConstructor Operator">`</a> <a id="33844" href="/lia/part1/NormalForms/#33837" class="Bound">p</a>
<a id="33846" href="/lia/part1/NormalForms/#33743" class="Function">Literal-Formula[⊥,⊤,¬,∨,∧]</a> <a id="33873" class="Symbol">(</a><a id="33874" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="33878" href="/lia/part1/NormalForms/#33878" class="Bound">p</a><a id="33879" class="Symbol">)</a> <a id="33881" class="Symbol">=</a> <a id="33883" href="/lia/part1/Semantics/#62704" class="InductiveConstructor Operator">¬</a> <a id="33885" href="/lia/part1/Semantics/#62666" class="InductiveConstructor Operator">`</a> <a id="33887" href="/lia/part1/NormalForms/#33878" class="Bound">p</a></pre>

  <p>This allows us to prove that clauses are in the fragment:</p>

  <pre class="Agda"><a id="DNFClause-Formula[⊥,⊤,¬,∨,∧]"></a><a id="33957" href="/lia/part1/NormalForms/#33957" class="Function">DNFClause-Formula[⊥,⊤,¬,∨,∧]</a> <a id="33986" class="Symbol">:</a> <a id="33988" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="33998" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="34000" class="Symbol">→</a> <a id="34002" href="/lia/part1/Semantics/#62569" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="34021" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a>
<a id="34023" href="/lia/part1/NormalForms/#33957" class="Function">DNFClause-Formula[⊥,⊤,¬,∨,∧]</a> <a id="34052" class="Symbol">(</a><a id="34053" href="/lia/part1/NormalForms/#34053" class="Bound">l</a> <a id="34055" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="34056" class="Symbol">)</a> <a id="34058" class="Symbol">=</a> <a id="34060" href="/lia/part1/NormalForms/#33743" class="Function">Literal-Formula[⊥,⊤,¬,∨,∧]</a> <a id="34087" href="/lia/part1/NormalForms/#34053" class="Bound">l</a>
<a id="34089" href="/lia/part1/NormalForms/#33957" class="Function">DNFClause-Formula[⊥,⊤,¬,∨,∧]</a> <a id="34118" class="Symbol">(</a><a id="34119" href="/lia/part1/NormalForms/#34119" class="Bound">l</a> <a id="34121" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="34123" href="/lia/part1/NormalForms/#34123" class="Bound">C</a><a id="34124" class="Symbol">)</a>
  <a id="34128" class="Symbol">=</a> <a id="34130" href="/lia/part1/NormalForms/#33743" class="Function">Literal-Formula[⊥,⊤,¬,∨,∧]</a> <a id="34157" href="/lia/part1/NormalForms/#34119" class="Bound">l</a> <a id="34159" href="/lia/part1/Semantics/#62862" class="InductiveConstructor Operator">∧</a> <a id="34161" href="/lia/part1/NormalForms/#33957" class="Function">DNFClause-Formula[⊥,⊤,¬,∨,∧]</a> <a id="34190" href="/lia/part1/NormalForms/#34123" class="Bound">C</a></pre>

  <p>In turn, this allows us to prove that <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> formulas are in the
fragment:</p>

  <pre class="Agda"><a id="34280" href="/lia/part1/NormalForms/#33526" class="Function">DNF-Formula[⊥,⊤,¬,∨,∧]</a> <a id="34303" class="Symbol">(</a><a id="34304" href="/lia/part1/NormalForms/#34304" class="Bound">C</a> <a id="34306" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="34307" class="Symbol">)</a> <a id="34309" class="Symbol">=</a> <a id="34311" href="/lia/part1/NormalForms/#33957" class="Function">DNFClause-Formula[⊥,⊤,¬,∨,∧]</a> <a id="34340" href="/lia/part1/NormalForms/#34304" class="Bound">C</a>
<a id="34342" href="/lia/part1/NormalForms/#33526" class="Function">DNF-Formula[⊥,⊤,¬,∨,∧]</a> <a id="34365" class="Symbol">(</a><a id="34366" href="/lia/part1/NormalForms/#34366" class="Bound">C</a> <a id="34368" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="34370" href="/lia/part1/NormalForms/#34370" class="Bound">D</a><a id="34371" class="Symbol">)</a>
  <a id="34375" class="Symbol">=</a>  <a id="34378" href="/lia/part1/NormalForms/#33957" class="Function">DNFClause-Formula[⊥,⊤,¬,∨,∧]</a> <a id="34407" href="/lia/part1/NormalForms/#34366" class="Bound">C</a> <a id="34409" href="/lia/part1/Semantics/#62767" class="InductiveConstructor Operator">∨</a> <a id="34411" href="/lia/part1/NormalForms/#33526" class="Function">DNF-Formula[⊥,⊤,¬,∨,∧]</a> <a id="34434" href="/lia/part1/NormalForms/#34370" class="Bound">D</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:merge-DNF-clauses-solution">Solution to <a href="#exercise:merge-DNF-clauses" title="Exercise 5">Exercise 5</a>
</h6>

  <pre class="Agda"><a id="36148" href="/lia/part1/NormalForms/#35883" class="Function Operator">_+∧+_</a> <a id="36154" class="Symbol">{</a><a id="36155" href="/lia/part1/NormalForms/#36155" class="Bound">φ</a><a id="36156" class="Symbol">}</a> <a id="36158" class="Symbol">{</a><a id="36159" href="/lia/part1/NormalForms/#36159" class="Bound">ψ</a><a id="36160" class="Symbol">}</a> <a id="36162" class="Symbol">(</a><a id="36163" href="/lia/part1/NormalForms/#36163" class="Bound">Lφ</a> <a id="36166" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="36167" class="Symbol">)</a> <a id="36169" href="/lia/part1/NormalForms/#36169" class="Bound">Cψ</a> <a id="36172" class="Symbol">=</a> <a id="36174" href="/lia/part1/NormalForms/#36155" class="Bound">φ</a> <a id="36176" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="36178" href="/lia/part1/NormalForms/#36159" class="Bound">ψ</a> <a id="36180" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="36182" class="Symbol">(</a><a id="36183" href="/lia/part1/NormalForms/#36163" class="Bound">Lφ</a> <a id="36186" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="36188" href="/lia/part1/NormalForms/#36169" class="Bound">Cψ</a><a id="36190" class="Symbol">)</a> <a id="36192" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="36194" class="Symbol">λ</a> <a id="36196" href="/lia/part1/NormalForms/#36196" class="Bound">ϱ</a> <a id="36198" class="Symbol">→</a> <a id="36200" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
  
<a id="36208" href="/lia/part1/NormalForms/#35883" class="Function Operator">_+∧+_</a> <a id="36214" class="Symbol">{</a><a id="36215" href="/lia/part1/NormalForms/#36215" class="Bound">φ</a> <a id="36217" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="36219" href="/lia/part1/NormalForms/#36219" class="Bound">φ'</a><a id="36221" class="Symbol">}</a> <a id="36223" class="Symbol">{</a><a id="36224" href="/lia/part1/NormalForms/#36224" class="Bound">ψ</a><a id="36225" class="Symbol">}</a> <a id="36227" class="Symbol">(</a><a id="36228" href="/lia/part1/NormalForms/#36228" class="Bound">Lφ</a> <a id="36231" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="36233" href="/lia/part1/NormalForms/#36233" class="Bound">Cφ'</a><a id="36236" class="Symbol">)</a> <a id="36238" href="/lia/part1/NormalForms/#36238" class="Bound">Cψ</a>
  <a id="36243" class="Keyword">with</a> <a id="36248" href="/lia/part1/NormalForms/#36233" class="Bound">Cφ'</a> <a id="36252" href="/lia/part1/NormalForms/#35883" class="Function Operator">+∧+</a> <a id="36256" href="/lia/part1/NormalForms/#36238" class="Bound">Cψ</a>
<a id="36259" class="Symbol">...</a> <a id="36263" class="Symbol">|</a> <a id="36265" href="/lia/part1/NormalForms/#36265" class="Bound">ξ</a> <a id="36267" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="36269" href="/lia/part1/NormalForms/#36269" class="Bound">Cξ</a> <a id="36272" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="36274" href="/lia/part1/NormalForms/#36274" class="Bound">φ'∧ψ⟺ξ</a> <a id="36281" class="Symbol">=</a> <a id="36283" class="Bound">φ</a> <a id="36285" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="36287" href="/lia/part1/NormalForms/#36265" class="Bound">ξ</a> <a id="36289" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="36291" class="Symbol">(</a><a id="36292" class="Bound">Lφ</a> <a id="36295" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="36297" href="/lia/part1/NormalForms/#36269" class="Bound">Cξ</a><a id="36299" class="Symbol">)</a> <a id="36301" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="36303" href="/lia/part1/NormalForms/#36324" class="Function">correctness</a> <a id="36315" class="Keyword">where</a>

  <a id="36324" href="/lia/part1/NormalForms/#36324" class="Function">correctness</a> <a id="36336" class="Symbol">:</a> <a id="36338" class="Symbol">(</a><a id="36339" class="Bound">φ</a> <a id="36341" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="36343" class="Bound">φ'</a><a id="36345" class="Symbol">)</a> <a id="36347" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="36349" class="Bound">ψ</a> <a id="36351" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="36353" class="Bound">φ</a> <a id="36355" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="36357" href="/lia/part1/NormalForms/#36265" class="Bound">ξ</a>
  <a id="36361" href="/lia/part1/NormalForms/#36324" class="Function">correctness</a> <a id="36373" href="/lia/part1/NormalForms/#36373" class="Bound">ϱ</a> <a id="36375" class="Keyword">rewrite</a> <a id="36383" href="/lia/part0/Equality/#405" class="Function">sym</a> <a id="36387" class="Symbol">(</a><a id="36388" href="/lia/part1/NormalForms/#36274" class="Bound">φ'∧ψ⟺ξ</a> <a id="36395" href="/lia/part1/NormalForms/#36373" class="Bound">ϱ</a><a id="36396" class="Symbol">)</a> <a id="36398" class="Symbol">=</a> <a id="36400" href="/lia/part1/Semantics/#31687" class="Function">assocAnd</a> <a id="36409" class="Bound">φ</a> <a id="36411" class="Bound">φ'</a> <a id="36414" class="Bound">ψ</a> <a id="36416" href="/lia/part1/NormalForms/#36373" class="Bound">ϱ</a></pre>
  <pre class="Agda"><a id="36427" href="/lia/part1/NormalForms/#36023" class="Function Operator">_+++∨+++_</a> <a id="36437" class="Symbol">{</a><a id="36438" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a><a id="36439" class="Symbol">}</a> <a id="36441" class="Symbol">{</a><a id="36442" href="/lia/part1/NormalForms/#36442" class="Bound">ψ</a><a id="36443" class="Symbol">}</a> <a id="36445" href="/lia/part1/NormalForms/#36445" class="Bound">∅</a> <a id="36447" href="/lia/part1/NormalForms/#36447" class="Bound">DNFψ</a> <a id="36452" class="Symbol">=</a> <a id="36454" href="/lia/part1/NormalForms/#36442" class="Bound">ψ</a> <a id="36456" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="36458" href="/lia/part1/NormalForms/#36447" class="Bound">DNFψ</a> <a id="36463" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="36465" href="/lia/part1/NormalForms/#36486" class="Function">correctness</a> <a id="36477" class="Keyword">where</a>

  <a id="36486" href="/lia/part1/NormalForms/#36486" class="Function">correctness</a> <a id="36498" class="Symbol">:</a> <a id="36500" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="36502" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="36504" href="/lia/part1/NormalForms/#36442" class="Bound">ψ</a> <a id="36506" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="36508" href="/lia/part1/NormalForms/#36442" class="Bound">ψ</a>
  <a id="36512" href="/lia/part1/NormalForms/#36486" class="Function">correctness</a> <a id="36524" href="/lia/part1/NormalForms/#36524" class="Bound">ϱ</a> <a id="36526" class="Keyword">with</a> <a id="36531" href="/lia/part1/Semantics/#12404" class="Function Operator">⟦</a> <a id="36533" href="/lia/part1/NormalForms/#36442" class="Bound">ψ</a> <a id="36535" href="/lia/part1/Semantics/#12404" class="Function Operator">⟧</a> <a id="36537" href="/lia/part1/NormalForms/#36524" class="Bound">ϱ</a>
  <a id="36541" class="Symbol">...</a> <a id="36545" class="Symbol">|</a> <a id="36547" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="36550" class="Symbol">=</a> <a id="36552" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
  <a id="36559" class="Symbol">...</a> <a id="36563" class="Symbol">|</a> <a id="36565" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="36568" class="Symbol">=</a> <a id="36570" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>

<a id="36576" href="/lia/part1/NormalForms/#36023" class="CatchallClause Function Operator">_+++∨+++_</a><a id="36585" class="CatchallClause"> </a><a id="36586" class="CatchallClause Symbol">{</a><a id="36587" href="/lia/part1/NormalForms/#36587" class="CatchallClause Bound">φ</a><a id="36588" class="CatchallClause Symbol">}</a><a id="36589" class="CatchallClause"> </a><a id="36590" class="CatchallClause Symbol">{</a><a id="36591" href="/lia/part1/NormalForms/#36591" class="CatchallClause Bound">ψ</a><a id="36592" class="CatchallClause Symbol">}</a><a id="36593" class="CatchallClause"> </a><a id="36594" class="CatchallClause Symbol">(</a><a id="36595" href="/lia/part1/NormalForms/#36595" class="CatchallClause Bound">Cφ</a><a id="36597" class="CatchallClause"> </a><a id="36598" href="/lia/part1/NormalForms/#30407" class="CatchallClause InductiveConstructor Operator">∙</a><a id="36599" class="CatchallClause Symbol">)</a><a id="36600" class="CatchallClause"> </a><a id="36601" href="/lia/part1/NormalForms/#36601" class="CatchallClause Bound">DNFψ</a> <a id="36606" class="Symbol">=</a> <a id="36608" href="/lia/part1/NormalForms/#36587" class="Bound">φ</a> <a id="36610" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="36612" href="/lia/part1/NormalForms/#36591" class="Bound">ψ</a> <a id="36614" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="36616" class="Symbol">(</a><a id="36617" href="/lia/part1/NormalForms/#36595" class="Bound">Cφ</a> <a id="36620" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="36622" href="/lia/part1/NormalForms/#36601" class="Bound">DNFψ</a><a id="36626" class="Symbol">)</a> <a id="36628" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="36630" class="Symbol">λ</a> <a id="36632" href="/lia/part1/NormalForms/#36632" class="Bound">ϱ</a> <a id="36634" class="Symbol">→</a> <a id="36636" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>

<a id="36642" href="/lia/part1/NormalForms/#36023" class="Function Operator">_+++∨+++_</a> <a id="36652" class="Symbol">{</a><a id="36653" href="/lia/part1/NormalForms/#36653" class="Bound">φ</a> <a id="36655" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="36657" href="/lia/part1/NormalForms/#36657" class="Bound">ψ</a><a id="36658" class="Symbol">}</a> <a id="36660" class="Symbol">{</a><a id="36661" href="/lia/part1/NormalForms/#36661" class="Bound">ξ</a><a id="36662" class="Symbol">}</a> <a id="36664" class="Symbol">(</a><a id="36665" href="/lia/part1/NormalForms/#36665" class="Bound">Cφ</a> <a id="36668" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="36670" href="/lia/part1/NormalForms/#36670" class="Bound">DNFψ</a><a id="36674" class="Symbol">)</a> <a id="36676" href="/lia/part1/NormalForms/#36676" class="Bound">DNFξ</a>
  <a id="36683" class="Keyword">with</a> <a id="36688" href="/lia/part1/NormalForms/#36670" class="Bound">DNFψ</a> <a id="36693" href="/lia/part1/NormalForms/#36023" class="Function Operator">+++∨+++</a> <a id="36701" href="/lia/part1/NormalForms/#36676" class="Bound">DNFξ</a>
<a id="36706" class="Symbol">...</a> <a id="36710" class="Symbol">|</a> <a id="36712" href="/lia/part1/NormalForms/#36712" class="Bound">η</a> <a id="36714" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="36716" href="/lia/part1/NormalForms/#36716" class="Bound">DNFη</a> <a id="36721" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="36723" href="/lia/part1/NormalForms/#36723" class="Bound">ψ∨ξ⟺η</a> <a id="36729" class="Symbol">=</a> <a id="36731" class="Bound">φ</a> <a id="36733" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="36735" href="/lia/part1/NormalForms/#36712" class="Bound">η</a> <a id="36737" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="36739" class="Symbol">(</a><a id="36740" class="Bound">Cφ</a> <a id="36743" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="36745" href="/lia/part1/NormalForms/#36716" class="Bound">DNFη</a><a id="36749" class="Symbol">)</a> <a id="36751" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="36753" href="/lia/part1/NormalForms/#36774" class="Function">correctness</a> <a id="36765" class="Keyword">where</a>

  <a id="36774" href="/lia/part1/NormalForms/#36774" class="Function">correctness</a> <a id="36786" class="Symbol">:</a> <a id="36788" class="Symbol">(</a><a id="36789" class="Bound">φ</a> <a id="36791" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="36793" class="Bound">ψ</a><a id="36794" class="Symbol">)</a> <a id="36796" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="36798" class="Bound">ξ</a> <a id="36800" href="/lia/part1/Semantics/#27176" class="Function Operator">⟺</a> <a id="36802" class="Bound">φ</a> <a id="36804" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="36806" href="/lia/part1/NormalForms/#36712" class="Bound">η</a>
  <a id="36810" href="/lia/part1/NormalForms/#36774" class="Function">correctness</a> <a id="36822" href="/lia/part1/NormalForms/#36822" class="Bound">ϱ</a> <a id="36824" class="Keyword">rewrite</a> <a id="36832" href="/lia/part1/Semantics/#31643" class="Function">assocOr</a> <a id="36840" class="Bound">φ</a> <a id="36842" class="Bound">ψ</a> <a id="36844" class="Bound">ξ</a> <a id="36846" href="/lia/part1/NormalForms/#36822" class="Bound">ϱ</a> <a id="36848" class="Symbol">|</a> <a id="36850" href="/lia/part1/NormalForms/#36723" class="Bound">ψ∨ξ⟺η</a> <a id="36856" href="/lia/part1/NormalForms/#36822" class="Bound">ϱ</a> <a id="36858" class="Symbol">=</a> <a id="36860" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:litTwiceInClause-solution">Solution to <a href="#exercise:litTwiceInClause" title="Exercise 6">Exercise 6</a>
</h6>

  <pre class="Agda"><a id="44320" href="/lia/part1/NormalForms/#44000" class="Function">litTwiceInClause</a> <a id="44337" class="Symbol">{</a><a id="44338" href="/lia/part1/NormalForms/#44338" class="Bound">φ</a><a id="44339" class="Symbol">}</a> <a id="44341" href="/lia/part1/NormalForms/#44341" class="Bound">lit</a> <a id="44345" class="Symbol">(</a><a id="44346" href="/lia/part1/NormalForms/#44341" class="Bound">lit</a> <a id="44350" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="44351" class="Symbol">)</a> <a id="44353" href="/lia/part1/NormalForms/#42487" class="InductiveConstructor">stop1</a> <a id="44359" href="/lia/part1/NormalForms/#44359" class="Bound">ϱ</a> <a id="44361" class="Symbol">=</a> <a id="44363" href="/lia/part1/Semantics/#31549" class="Function">idempotAnd</a> <a id="44374" href="/lia/part1/NormalForms/#44338" class="Bound">φ</a> <a id="44376" href="/lia/part1/NormalForms/#44359" class="Bound">ϱ</a>

<a id="44379" href="/lia/part1/NormalForms/#44000" class="Function">litTwiceInClause</a> <a id="44396" class="Symbol">{</a><a id="44397" href="/lia/part1/NormalForms/#44397" class="Bound">φ</a><a id="44398" class="Symbol">}</a> <a id="44400" class="Symbol">{</a><a id="44401" href="/lia/part1/NormalForms/#44397" class="Bound">φ</a> <a id="44403" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="44405" href="/lia/part1/NormalForms/#44405" class="Bound">ψ</a><a id="44406" class="Symbol">}</a> <a id="44408" href="/lia/part1/NormalForms/#44408" class="Bound">lit</a> <a id="44412" class="Symbol">(</a><a id="44413" href="/lia/part1/NormalForms/#44408" class="Bound">lit</a> <a id="44417" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="44419" href="/lia/part1/NormalForms/#44419" class="Bound">C</a><a id="44420" class="Symbol">)</a> <a id="44422" href="/lia/part1/NormalForms/#42542" class="InductiveConstructor">stop2</a> <a id="44428" href="/lia/part1/NormalForms/#44428" class="Bound">ϱ</a>
  <a id="44432" class="Keyword">rewrite</a> <a id="44440" href="/lia/part0/Equality/#405" class="Function">sym</a> <a id="44444" class="Symbol">(</a><a id="44445" href="/lia/part1/Semantics/#31687" class="Function">assocAnd</a> <a id="44454" href="/lia/part1/NormalForms/#44397" class="Bound">φ</a> <a id="44456" href="/lia/part1/NormalForms/#44397" class="Bound">φ</a> <a id="44458" href="/lia/part1/NormalForms/#44405" class="Bound">ψ</a> <a id="44460" href="/lia/part1/NormalForms/#44428" class="Bound">ϱ</a><a id="44461" class="Symbol">)</a> <a id="44463" class="Symbol">|</a>
          <a id="44475" href="/lia/part1/Semantics/#31549" class="Function">idempotAnd</a> <a id="44486" href="/lia/part1/NormalForms/#44397" class="Bound">φ</a> <a id="44488" href="/lia/part1/NormalForms/#44428" class="Bound">ϱ</a> <a id="44490" class="Symbol">=</a> <a id="44492" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a>
          
<a id="44508" href="/lia/part1/NormalForms/#44000" class="Function">litTwiceInClause</a> <a id="44525" class="Symbol">{</a><a id="44526" href="/lia/part1/NormalForms/#44526" class="Bound">φ</a><a id="44527" class="Symbol">}</a> <a id="44529" class="Symbol">{</a><a id="44530" href="/lia/part1/NormalForms/#44530" class="Bound">ψ</a> <a id="44532" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="44534" href="/lia/part1/NormalForms/#44534" class="Bound">ξ</a><a id="44535" class="Symbol">}</a> <a id="44537" href="/lia/part1/NormalForms/#44537" class="Bound">lit</a> <a id="44541" class="Symbol">(</a><a id="44542" href="/lia/part1/NormalForms/#44542" class="Bound">lit'</a> <a id="44547" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="44549" href="/lia/part1/NormalForms/#44549" class="Bound">C</a><a id="44550" class="Symbol">)</a> <a id="44552" class="Symbol">(</a><a id="44553" href="/lia/part1/NormalForms/#42617" class="InductiveConstructor">skip</a> <a id="44558" href="/lia/part1/NormalForms/#44558" class="Bound">litInC</a><a id="44564" class="Symbol">)</a> <a id="44566" href="/lia/part1/NormalForms/#44566" class="Bound">ϱ</a>
  <a id="44570" class="Keyword">rewrite</a> <a id="44578" href="/lia/part0/Equality/#405" class="Function">sym</a> <a id="44582" class="Symbol">(</a><a id="44583" href="/lia/part1/Semantics/#31687" class="Function">assocAnd</a> <a id="44592" href="/lia/part1/NormalForms/#44526" class="Bound">φ</a> <a id="44594" href="/lia/part1/NormalForms/#44530" class="Bound">ψ</a> <a id="44596" href="/lia/part1/NormalForms/#44534" class="Bound">ξ</a> <a id="44598" href="/lia/part1/NormalForms/#44566" class="Bound">ϱ</a><a id="44599" class="Symbol">)</a> <a id="44601" class="Symbol">|</a>
          <a id="44613" href="/lia/part1/Semantics/#31579" class="Function">commAnd</a> <a id="44621" href="/lia/part1/NormalForms/#44526" class="Bound">φ</a> <a id="44623" href="/lia/part1/NormalForms/#44530" class="Bound">ψ</a> <a id="44625" href="/lia/part1/NormalForms/#44566" class="Bound">ϱ</a> <a id="44627" class="Symbol">|</a>
          <a id="44639" href="/lia/part1/Semantics/#31687" class="Function">assocAnd</a> <a id="44648" href="/lia/part1/NormalForms/#44530" class="Bound">ψ</a> <a id="44650" href="/lia/part1/NormalForms/#44526" class="Bound">φ</a> <a id="44652" href="/lia/part1/NormalForms/#44534" class="Bound">ξ</a> <a id="44654" href="/lia/part1/NormalForms/#44566" class="Bound">ϱ</a> <a id="44656" class="Symbol">|</a>
          <a id="44668" href="/lia/part1/NormalForms/#44000" class="Function">litTwiceInClause</a> <a id="44685" href="/lia/part1/NormalForms/#44537" class="Bound">lit</a> <a id="44689" href="/lia/part1/NormalForms/#44549" class="Bound">C</a> <a id="44691" href="/lia/part1/NormalForms/#44558" class="Bound">litInC</a> <a id="44698" href="/lia/part1/NormalForms/#44566" class="Bound">ϱ</a> <a id="44700" class="Symbol">=</a> <a id="44702" href="/lia/part0/Equality/#292" class="InductiveConstructor">refl</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:dual-solution">Solution to <a href="#exercise:dual" title="Exercise 7">Exercise 7</a>
</h6>

  <p>We define a function that maps a proposition to its negation, and
symmetrically:</p>

  <pre class="Agda"><a id="dual"></a><a id="45992" href="/lia/part1/NormalForms/#45992" class="Function">dual</a> <a id="45997" class="Symbol">:</a> <a id="45999" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="46007" class="Symbol">→</a> <a id="46009" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a>
<a id="46017" href="/lia/part1/NormalForms/#45992" class="Function">dual</a> <a id="46022" class="Symbol">(</a><a id="46023" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="46025" href="/lia/part1/NormalForms/#46025" class="Bound">p</a><a id="46026" class="Symbol">)</a> <a id="46028" class="Symbol">=</a> <a id="46030" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="46032" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="46034" href="/lia/part1/NormalForms/#46025" class="Bound">p</a>
<a id="46036" href="/lia/part1/NormalForms/#45992" class="Function">dual</a> <a id="46041" class="Symbol">(</a><a id="46042" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="46044" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="46046" href="/lia/part1/NormalForms/#46046" class="Bound">p</a><a id="46047" class="Symbol">)</a> <a id="46049" class="Symbol">=</a> <a id="46051" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="46053" href="/lia/part1/NormalForms/#46046" class="Bound">p</a>
<a id="46055" href="/lia/part1/NormalForms/#45992" class="CatchallClause Function">dual</a><a id="46059" class="CatchallClause"> </a><a id="46060" href="/lia/part1/NormalForms/#46060" class="CatchallClause Bound">φ</a> <a id="46062" class="Symbol">=</a> <a id="46064" href="/lia/part1/NormalForms/#46060" class="Bound">φ</a></pre>

  <p>What happens to other formulas does not really matter, and we choose not
to alter them for simplicity. We can then complete the definition of the
dual literal as follows:</p>

  <pre class="Agda"><a id="46247" class="Keyword">infix</a> <a id="46253" class="Number">25</a> <a id="46256" href="/lia/part1/NormalForms/#46259" class="Function Operator">_°</a>
<a id="_°"></a><a id="46259" href="/lia/part1/NormalForms/#46259" class="Function Operator">_°</a> <a id="46262" class="Symbol">:</a> <a id="46264" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="46272" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="46274" class="Symbol">→</a> <a id="46276" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="46284" class="Symbol">(</a><a id="46285" href="/lia/part1/NormalForms/#45992" class="Function">dual</a> <a id="46290" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a><a id="46291" class="Symbol">)</a>
<a id="46293" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="46297" href="/lia/part1/NormalForms/#46297" class="Bound">p</a> <a id="46299" href="/lia/part1/NormalForms/#46259" class="Function Operator">°</a> <a id="46301" class="Symbol">=</a> <a id="46303" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="46307" href="/lia/part1/NormalForms/#46297" class="Bound">p</a>
<a id="46309" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="46313" href="/lia/part1/NormalForms/#46313" class="Bound">p</a> <a id="46315" href="/lia/part1/NormalForms/#46259" class="Function Operator">°</a> <a id="46317" class="Symbol">=</a> <a id="46319" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="46323" href="/lia/part1/NormalForms/#46313" class="Bound">p</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:simplify-preserves-DNF-solution">Solution to <a href="#exercise:simplify-preserves-DNF" title="Exercise 8">Exercise 8</a>
</h6>

  <pre class="Agda"><a id="60608" href="/lia/part1/NormalForms/#60275" class="Function">simplify1-preserves-Literal</a> <a id="60636" class="Symbol">(</a><a id="60637" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="60641" href="/lia/part1/NormalForms/#60641" class="Bound">p</a><a id="60642" class="Symbol">)</a> <a id="60644" class="Symbol">=</a> <a id="60646" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="60650" href="/lia/part1/NormalForms/#60641" class="Bound">p</a>
<a id="60652" href="/lia/part1/NormalForms/#60275" class="Function">simplify1-preserves-Literal</a> <a id="60680" class="Symbol">(</a><a id="60681" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="60685" href="/lia/part1/NormalForms/#60685" class="Bound">p</a><a id="60686" class="Symbol">)</a> <a id="60688" class="Symbol">=</a> <a id="60690" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="60694" href="/lia/part1/NormalForms/#60685" class="Bound">p</a></pre>
  <pre class="Agda"><a id="60705" href="/lia/part1/NormalForms/#60339" class="Function">simplify1-preserves-DNFClause</a> <a id="60735" class="Symbol">(</a><a id="60736" href="/lia/part1/NormalForms/#60736" class="Bound">lit</a> <a id="60740" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="60741" class="Symbol">)</a> <a id="60743" class="Symbol">=</a> <a id="60745" href="/lia/part1/NormalForms/#60275" class="Function">simplify1-preserves-Literal</a> <a id="60773" href="/lia/part1/NormalForms/#60736" class="Bound">lit</a> <a id="60777" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a>
<a id="60779" href="/lia/part1/NormalForms/#60339" class="Function">simplify1-preserves-DNFClause</a> <a id="60809" class="Symbol">{</a><a id="60810" href="/lia/part1/NormalForms/#60810" class="Bound">φ</a> <a id="60812" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="60814" href="/lia/part1/NormalForms/#60814" class="Bound">ψ</a><a id="60815" class="Symbol">}</a> <a id="60817" class="Symbol">(</a><a id="60818" href="/lia/part1/NormalForms/#60818" class="Bound">lit</a> <a id="60822" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="60824" href="/lia/part1/NormalForms/#60824" class="Bound">Cφ</a><a id="60826" class="Symbol">)</a>
  <a id="60830" class="Keyword">with</a> <a id="60835" href="/lia/part1/NormalForms/#60275" class="Function">simplify1-preserves-Literal</a> <a id="60863" href="/lia/part1/NormalForms/#60818" class="Bound">lit</a>
<a id="60867" class="Symbol">...</a> <a id="60871" class="Symbol">|</a> <a id="60873" href="/lia/part1/NormalForms/#60873" class="Bound">lit'</a>
  <a id="60880" class="Keyword">with</a> <a id="60885" href="/lia/part1/Semantics/#55968" class="Function">simplifyView</a> <a id="60898" class="Symbol">(</a><a id="60899" class="Bound">φ</a> <a id="60901" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="60903" class="Bound">ψ</a><a id="60904" class="Symbol">)</a>
<a id="60906" class="Symbol">...</a> <a id="60910" class="Symbol">|</a> <a id="60912" class="Bound">φ</a> <a id="60914" href="/lia/part1/Semantics/#55049" class="InductiveConstructor Operator">∧⊥</a> <a id="60917" class="Symbol">=</a> <a id="60919" class="Bound">Cφ</a>
<a id="60922" class="Symbol">...</a> <a id="60926" class="Symbol">|</a> <a id="60928" class="Bound">φ</a> <a id="60930" href="/lia/part1/Semantics/#55119" class="InductiveConstructor Operator">∧⊤</a> <a id="60933" class="Symbol">=</a> <a id="60935" class="Bound">lit</a> <a id="60939" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a>
<a id="60941" class="Symbol">...</a> <a id="60945" class="Symbol">|</a> <a id="60947" href="/lia/part1/Semantics/#55443" class="InductiveConstructor">stop</a> <a id="60952" class="Symbol">_</a> <a id="60954" class="Symbol">=</a> <a id="60956" class="Bound">lit</a> <a id="60960" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="60962" class="Bound">Cφ</a></pre>
  <pre class="Agda"><a id="60974" href="/lia/part1/NormalForms/#60409" class="Function">simplify1-preserves-DNF</a> <a id="60998" class="Symbol">(</a><a id="60999" href="/lia/part1/NormalForms/#60999" class="Bound">Cφ</a> <a id="61002" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="61003" class="Symbol">)</a> <a id="61005" class="Symbol">=</a> <a id="61007" href="/lia/part1/NormalForms/#60339" class="Function">simplify1-preserves-DNFClause</a> <a id="61037" href="/lia/part1/NormalForms/#60999" class="Bound">Cφ</a> <a id="61040" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a>
<a id="61042" href="/lia/part1/NormalForms/#60409" class="Function">simplify1-preserves-DNF</a> <a id="61066" class="Symbol">{</a><a id="61067" href="/lia/part1/NormalForms/#61067" class="Bound">φ</a> <a id="61069" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="61071" href="/lia/part1/NormalForms/#61071" class="Bound">ψ</a><a id="61072" class="Symbol">}</a> <a id="61074" class="Symbol">(</a><a id="61075" href="/lia/part1/NormalForms/#61075" class="Bound">Cφ</a> <a id="61078" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="61080" href="/lia/part1/NormalForms/#61080" class="Bound">DNFψ</a><a id="61084" class="Symbol">)</a>
  <a id="61088" class="Keyword">with</a> <a id="61093" href="/lia/part1/NormalForms/#60339" class="Function">simplify1-preserves-DNFClause</a> <a id="61123" href="/lia/part1/NormalForms/#61075" class="Bound">Cφ</a> 
<a id="61127" class="Symbol">...</a> <a id="61131" class="Symbol">|</a> <a id="61133" href="/lia/part1/NormalForms/#61133" class="Bound">Cφ'</a>
  <a id="61139" class="Keyword">with</a> <a id="61144" href="/lia/part1/Semantics/#55968" class="Function">simplifyView</a> <a id="61157" class="Symbol">(</a><a id="61158" class="Bound">φ</a> <a id="61160" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="61162" class="Bound">ψ</a><a id="61163" class="Symbol">)</a>
<a id="61165" class="Symbol">...</a> <a id="61169" class="Symbol">|</a> <a id="61171" href="/lia/part1/Semantics/#54871" class="InductiveConstructor Operator">⊥∨</a> <a id="61174" class="Bound">ψ</a> <a id="61176" class="Symbol">=</a> <a id="61178" class="Bound">DNFψ</a>
<a id="61183" class="Symbol">...</a> <a id="61187" class="Symbol">|</a> <a id="61189" class="Bound">φ</a> <a id="61191" href="/lia/part1/Semantics/#54906" class="InductiveConstructor Operator">∨⊥</a> <a id="61194" class="Symbol">=</a> <a id="61196" class="Bound">Cφ</a> <a id="61199" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a>
<a id="61201" class="Symbol">...</a> <a id="61205" class="Symbol">|</a> <a id="61207" href="/lia/part1/Semantics/#54941" class="InductiveConstructor Operator">⊤∨</a> <a id="61210" class="Bound">ψ</a> <a id="61212" class="Symbol">=</a> <a id="61214" class="Bound">Cφ'</a> <a id="61218" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a>
<a id="61220" class="Symbol">...</a> <a id="61224" class="Symbol">|</a> <a id="61226" class="Bound">φ</a> <a id="61228" href="/lia/part1/Semantics/#54976" class="InductiveConstructor Operator">∨⊤</a> <a id="61231" class="Symbol">=</a> <a id="61233" class="Bound">DNFψ</a>
<a id="61238" class="Symbol">...</a> <a id="61242" class="Symbol">|</a> <a id="61244" href="/lia/part1/Semantics/#55443" class="InductiveConstructor">stop</a> <a id="61249" class="Symbol">_</a> <a id="61251" class="Symbol">=</a> <a id="61253" class="Bound">Cφ</a> <a id="61256" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="61258" class="Bound">DNFψ</a></pre>
  <pre class="Agda"><a id="61272" href="/lia/part1/NormalForms/#60462" class="Function">simplify-preserves-Literal</a> <a id="61299" class="Symbol">(</a><a id="61300" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="61304" href="/lia/part1/NormalForms/#61304" class="Bound">p</a><a id="61305" class="Symbol">)</a> <a id="61307" class="Symbol">=</a> <a id="61309" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="61313" href="/lia/part1/NormalForms/#61304" class="Bound">p</a>
<a id="61315" href="/lia/part1/NormalForms/#60462" class="Function">simplify-preserves-Literal</a> <a id="61342" class="Symbol">(</a><a id="61343" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="61347" href="/lia/part1/NormalForms/#61347" class="Bound">p</a><a id="61348" class="Symbol">)</a> <a id="61350" class="Symbol">=</a> <a id="61352" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="61356" href="/lia/part1/NormalForms/#61347" class="Bound">p</a></pre>
  <pre class="Agda"><a id="61367" href="/lia/part1/NormalForms/#60524" class="Function">simplify-preserves-DNFClause</a> <a id="61396" class="Symbol">(</a><a id="61397" href="/lia/part1/NormalForms/#61397" class="Bound">lit</a> <a id="61401" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="61402" class="Symbol">)</a> <a id="61404" class="Symbol">=</a> <a id="61406" href="/lia/part1/NormalForms/#60462" class="Function">simplify-preserves-Literal</a> <a id="61433" href="/lia/part1/NormalForms/#61397" class="Bound">lit</a> <a id="61437" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a>
<a id="61439" href="/lia/part1/NormalForms/#60524" class="Function">simplify-preserves-DNFClause</a> <a id="61468" class="Symbol">(</a><a id="61469" href="/lia/part1/NormalForms/#61469" class="Bound">lit</a> <a id="61473" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="61475" href="/lia/part1/NormalForms/#61475" class="Bound">Cφ</a><a id="61477" class="Symbol">)</a>
  <a id="61481" class="Keyword">with</a> <a id="61486" href="/lia/part1/NormalForms/#60462" class="Function">simplify-preserves-Literal</a> <a id="61513" href="/lia/part1/NormalForms/#61469" class="Bound">lit</a> <a id="61517" class="Symbol">|</a>
       <a id="61526" href="/lia/part1/NormalForms/#60524" class="Function">simplify-preserves-DNFClause</a> <a id="61555" href="/lia/part1/NormalForms/#61475" class="Bound">Cφ</a>
<a id="61558" class="Symbol">...</a> <a id="61562" class="Symbol">|</a> <a id="61564" href="/lia/part1/NormalForms/#61564" class="Bound">lit'</a> <a id="61569" class="Symbol">|</a> <a id="61571" href="/lia/part1/NormalForms/#61571" class="Bound">Cφ'</a> <a id="61575" class="Symbol">=</a> <a id="61577" href="/lia/part1/NormalForms/#60339" class="Function">simplify1-preserves-DNFClause</a> <a id="61607" class="Symbol">(</a><a id="61608" href="/lia/part1/NormalForms/#61564" class="Bound">lit'</a> <a id="61613" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="61615" href="/lia/part1/NormalForms/#61571" class="Bound">Cφ'</a><a id="61618" class="Symbol">)</a></pre>
  <pre class="Agda"><a id="61629" href="/lia/part1/NormalForms/#60148" class="Function">simplify-preserves-DNF</a> <a id="61652" class="Symbol">{</a><a id="61653" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a><a id="61654" class="Symbol">}</a> <a id="61656" href="/lia/part1/NormalForms/#61656" class="Bound">∅</a> <a id="61658" class="Symbol">=</a> <a id="61660" href="/lia/part1/NormalForms/#61656" class="Bound">∅</a>
<a id="61662" href="/lia/part1/NormalForms/#60148" class="Function">simplify-preserves-DNF</a> <a id="61685" class="Symbol">{</a><a id="61686" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="61688" href="/lia/part1/NormalForms/#61688" class="Bound">p</a><a id="61689" class="Symbol">}</a> <a id="61691" class="Symbol">((</a><a id="61693" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="61697" href="/lia/part1/NormalForms/#61688" class="Bound">p</a> <a id="61699" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="61700" class="Symbol">)</a> <a id="61702" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="61703" class="Symbol">)</a> <a id="61705" class="Symbol">=</a> <a id="61707" class="Symbol">(</a><a id="61708" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="61712" href="/lia/part1/NormalForms/#61688" class="Bound">p</a> <a id="61714" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="61715" class="Symbol">)</a> <a id="61717" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a>
<a id="61719" href="/lia/part1/NormalForms/#60148" class="Function">simplify-preserves-DNF</a> <a id="61742" class="Symbol">{</a><a id="61743" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="61745" class="Symbol">(</a><a id="61746" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="61748" href="/lia/part1/NormalForms/#61748" class="Bound">p</a><a id="61749" class="Symbol">)}</a> <a id="61752" class="Symbol">((</a><a id="61754" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="61758" href="/lia/part1/NormalForms/#61748" class="Bound">p</a> <a id="61760" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="61761" class="Symbol">)</a> <a id="61763" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="61764" class="Symbol">)</a> <a id="61766" class="Symbol">=</a> <a id="61768" class="Symbol">(</a><a id="61769" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="61773" href="/lia/part1/NormalForms/#61748" class="Bound">p</a> <a id="61775" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="61776" class="Symbol">)</a> <a id="61778" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a>
<a id="61780" href="/lia/part1/NormalForms/#60148" class="CatchallClause Function">simplify-preserves-DNF</a><a id="61802" class="CatchallClause"> </a><a id="61803" class="CatchallClause Symbol">(</a><a id="61804" href="/lia/part1/NormalForms/#61804" class="CatchallClause Bound">Cφ</a><a id="61806" class="CatchallClause"> </a><a id="61807" href="/lia/part1/NormalForms/#30407" class="CatchallClause InductiveConstructor Operator">∙</a><a id="61808" class="CatchallClause Symbol">)</a>
  <a id="61812" class="Keyword">with</a> <a id="61817" href="/lia/part1/NormalForms/#60524" class="Function">simplify-preserves-DNFClause</a> <a id="61846" href="/lia/part1/NormalForms/#61804" class="Bound">Cφ</a>
<a id="61849" class="Symbol">...</a> <a id="61853" class="Symbol">|</a> <a id="61855" href="/lia/part1/NormalForms/#61855" class="Bound">res</a> <a id="61859" class="Symbol">=</a> <a id="61861" href="/lia/part1/NormalForms/#61855" class="Bound">res</a> <a id="61865" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a>
<a id="61867" href="/lia/part1/NormalForms/#60148" class="Function">simplify-preserves-DNF</a> <a id="61890" class="Symbol">{</a><a id="61891" href="/lia/part1/NormalForms/#61891" class="Bound">φ</a> <a id="61893" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="61895" href="/lia/part1/NormalForms/#61895" class="Bound">ψ</a><a id="61896" class="Symbol">}</a> <a id="61898" class="Symbol">(</a><a id="61899" href="/lia/part1/NormalForms/#61899" class="Bound">Cφ</a> <a id="61902" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="61904" href="/lia/part1/NormalForms/#61904" class="Bound">DNFφ</a><a id="61908" class="Symbol">)</a>
  <a id="61912" class="Keyword">with</a> <a id="61917" href="/lia/part1/NormalForms/#60524" class="Function">simplify-preserves-DNFClause</a> <a id="61946" href="/lia/part1/NormalForms/#61899" class="Bound">Cφ</a> <a id="61949" class="Symbol">|</a>
       <a id="61958" href="/lia/part1/NormalForms/#60148" class="Function">simplify-preserves-DNF</a> <a id="61981" href="/lia/part1/NormalForms/#61904" class="Bound">DNFφ</a>
<a id="61986" class="Symbol">...</a> <a id="61990" class="Symbol">|</a> <a id="61992" href="/lia/part1/NormalForms/#61992" class="Bound">res0</a> <a id="61997" class="Symbol">|</a> <a id="61999" href="/lia/part1/NormalForms/#61999" class="Bound">res1</a> <a id="62004" class="Symbol">=</a> <a id="62006" href="/lia/part1/NormalForms/#60409" class="Function">simplify1-preserves-DNF</a> <a id="62030" class="Symbol">(</a><a id="62031" href="/lia/part1/NormalForms/#61992" class="Bound">res0</a> <a id="62036" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="62038" href="/lia/part1/NormalForms/#61999" class="Bound">res1</a><a id="62042" class="Symbol">)</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:satisfiability-solution">Solution to <a href="#exercise:satisfiability" title="Exercise 9">Exercise 9</a>
</h6>

  <p>Satisfiability of a DNF formula can be checked in LOGSPACE, since it is
enough to find a satisfiable clause, i.e., one which does not contain
the same variable both positively and negatively. Tautology on the other
hand is coNP-complete. <span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:DNF-CNF-duality-solution">Solution to <a href="#exercise:DNF-CNF-duality" title="Exercise 10">Exercise 10</a>
</h6>

  <pre class="Agda"><a id="literal-dual"></a><a id="64289" href="/lia/part1/NormalForms/#64289" class="Function">literal-dual</a> <a id="64302" class="Symbol">:</a> <a id="64304" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="64312" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="64314" class="Symbol">→</a> <a id="64316" href="/lia/part1/NormalForms/#29858" class="Datatype">Literal</a> <a id="64324" class="Symbol">(</a><a id="64325" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="64327" href="/lia/part1/Semantics/#61993" class="Function Operator">⁻</a><a id="64328" class="Symbol">)</a>
<a id="64330" href="/lia/part1/NormalForms/#64289" class="Function">literal-dual</a> <a id="64343" class="Symbol">(</a><a id="64344" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="64348" href="/lia/part1/NormalForms/#64348" class="Bound">p</a><a id="64349" class="Symbol">)</a> <a id="64351" class="Symbol">=</a> <a id="64353" href="/lia/part1/NormalForms/#29890" class="InductiveConstructor">Pos</a> <a id="64357" href="/lia/part1/NormalForms/#64348" class="Bound">p</a>
<a id="64359" href="/lia/part1/NormalForms/#64289" class="Function">literal-dual</a> <a id="64372" class="Symbol">(</a><a id="64373" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="64377" href="/lia/part1/NormalForms/#64377" class="Bound">p</a><a id="64378" class="Symbol">)</a> <a id="64380" class="Symbol">=</a> <a id="64382" href="/lia/part1/NormalForms/#29929" class="InductiveConstructor">Neg</a> <a id="64386" href="/lia/part1/NormalForms/#64377" class="Bound">p</a></pre>
  <pre class="Agda"><a id="DNF-CNF-clause-dual"></a><a id="64397" href="/lia/part1/NormalForms/#64397" class="Function">DNF-CNF-clause-dual</a> <a id="64417" class="Symbol">:</a> <a id="64419" href="/lia/part1/NormalForms/#30151" class="Datatype">DNFClause</a> <a id="64429" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="64431" class="Symbol">→</a> <a id="64433" href="/lia/part1/NormalForms/#63562" class="Datatype">CNFClause</a> <a id="64443" class="Symbol">(</a><a id="64444" href="/lia/part1/NormalForms/#264" class="Generalizable">φ</a> <a id="64446" href="/lia/part1/Semantics/#61993" class="Function Operator">⁻</a><a id="64447" class="Symbol">)</a>
<a id="64449" href="/lia/part1/NormalForms/#64397" class="Function">DNF-CNF-clause-dual</a> <a id="64469" class="Symbol">(</a><a id="64470" href="/lia/part1/NormalForms/#64470" class="Bound">l</a> <a id="64472" href="/lia/part1/NormalForms/#30185" class="InductiveConstructor Operator">∙</a><a id="64473" class="Symbol">)</a> <a id="64475" class="Symbol">=</a> <a id="64477" href="/lia/part1/NormalForms/#64289" class="Function">literal-dual</a> <a id="64490" href="/lia/part1/NormalForms/#64470" class="Bound">l</a> <a id="64492" href="/lia/part1/NormalForms/#63596" class="InductiveConstructor Operator">∙</a>
<a id="64494" href="/lia/part1/NormalForms/#64397" class="Function">DNF-CNF-clause-dual</a> <a id="64514" class="Symbol">(</a><a id="64515" href="/lia/part1/NormalForms/#64515" class="Bound">l</a> <a id="64517" href="/lia/part1/NormalForms/#30216" class="InductiveConstructor Operator">,</a> <a id="64519" href="/lia/part1/NormalForms/#64519" class="Bound">C</a><a id="64520" class="Symbol">)</a> <a id="64522" class="Symbol">=</a> <a id="64524" href="/lia/part1/NormalForms/#64289" class="Function">literal-dual</a> <a id="64537" href="/lia/part1/NormalForms/#64515" class="Bound">l</a> <a id="64539" href="/lia/part1/NormalForms/#63627" class="InductiveConstructor Operator">,</a> <a id="64541" href="/lia/part1/NormalForms/#64397" class="Function">DNF-CNF-clause-dual</a> <a id="64561" href="/lia/part1/NormalForms/#64519" class="Bound">C</a></pre>
  <pre class="Agda"><a id="64572" href="/lia/part1/NormalForms/#64240" class="Function">DNF-CNF-dual</a> <a id="64585" class="Symbol">(</a><a id="64586" href="/lia/part1/NormalForms/#64586" class="Bound">C</a> <a id="64588" href="/lia/part1/NormalForms/#30407" class="InductiveConstructor Operator">∙</a><a id="64589" class="Symbol">)</a> <a id="64591" class="Symbol">=</a> <a id="64593" href="/lia/part1/NormalForms/#64397" class="Function">DNF-CNF-clause-dual</a> <a id="64613" href="/lia/part1/NormalForms/#64586" class="Bound">C</a> <a id="64615" href="/lia/part1/NormalForms/#63711" class="InductiveConstructor Operator">∙</a>
<a id="64617" href="/lia/part1/NormalForms/#64240" class="Function">DNF-CNF-dual</a> <a id="64630" class="Symbol">(</a><a id="64631" href="/lia/part1/NormalForms/#64631" class="Bound">C</a> <a id="64633" href="/lia/part1/NormalForms/#30434" class="InductiveConstructor Operator">,</a> <a id="64635" href="/lia/part1/NormalForms/#64635" class="Bound">D</a><a id="64636" class="Symbol">)</a> <a id="64638" class="Symbol">=</a> <a id="64640" href="/lia/part1/NormalForms/#64397" class="Function">DNF-CNF-clause-dual</a> <a id="64660" href="/lia/part1/NormalForms/#64631" class="Bound">C</a> <a id="64662" href="/lia/part1/NormalForms/#63738" class="InductiveConstructor Operator">,</a> <a id="64664" href="/lia/part1/NormalForms/#64240" class="Function">DNF-CNF-dual</a> <a id="64677" href="/lia/part1/NormalForms/#64635" class="Bound">D</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<hr>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>We slightly depart from a more standard definition of NNF, whereby
<a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> and
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> are not allowed as proper
subformulas of an NNF formula. In other words, according to our
definition <code class="language-plaintext highlighter-rouge">` p₀ ∨ ⊥</code> is in NNF, while it is not according to
the more restrictive one. By applying
<a href="../../part1/Semantics#simplify"><code class="language-plaintext highlighter-rouge">simplify</code></a> as a preprocessing step
we can remove such occurrences of
<a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> ,
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> . Formally proving that the
resulting formulas do not contain
<a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> ,
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> as proper subformulas, while
possible, would introduce an extra overhead obscuring the main point
about NNF, which is the handling of negation. For this reason, we
stick here to our slightly more relaxed NNF definition. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
    <li id="fn:2" role="doc-endnote">
      <p>Of course we can also dualise a CNF formula to obtain a DNF one,
but we will not need this fact in the following. <a href="#fnref:2" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
  </ol>
</div>

    </div>
  
    <header class="nav-header">
    <p style="text-align:center;">
        
        
        
        <a alt="Part" href="/lia/part1/index/">Part</a>
        &bullet;
        
        
        <a alt="Source code" href="https://github.com/lclem/lia/blob/main/src/part1/NormalForms.lagda.md">Source</a>
        
        
        
    </p>
</header>

    <p class="p-name"> Last-modified: Dec 26 10:51:16 2020 </p>
  </article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/lia/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Logic in Agda</h2><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Lorenzo Clemente</li>
          <li><a class="u-email" href="mailto:clementelorenzo@gmail.com">clementelorenzo@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/lclem"><svg class="svg-icon"><use xlink:href="/lia/assets/minima-social-icons.svg#github"></use></svg> <span class="username">lclem</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
  </div>
</footer>

<!-- Parse the Latex divs with Katex
<script type="text/javascript">
  $("script[type='math/tex']").replaceWith(
    function(){
      var tex = $(this).text();
      return katex.renderToString(tex, {displayMode: false});
  });
  
  $("script[type='math/tex; mode=display']").replaceWith(
    function(){
      var tex = $(this).text();
      return katex.renderToString(tex.replace(/%.*/g, ''), {displayMode: true});
  });
</script>
-->

<script type="text/javascript" src="/lia/assets/hidebox.js"></script>
</body>

</html>
