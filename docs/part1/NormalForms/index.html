<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Normal forms 🚧 | Logic in Agda</title><!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Normal forms 🚧" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Propositional and fist-order logic developed with the proof assistant Agda." />
<meta property="og:description" content="Propositional and fist-order logic developed with the proof assistant Agda." />
<link rel="canonical" href="/lia/part1/NormalForms/" />
<meta property="og:url" content="/lia/part1/NormalForms/" />
<meta property="og:site_name" content="Logic in Agda" />
<script type="application/ld+json">
{"url":"/lia/part1/NormalForms/","headline":"Normal forms 🚧","description":"Propositional and fist-order logic developed with the proof assistant Agda.","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/lia/assets/main.css">
  <!-- <link rel="stylesheet" href="/lia/assets/custom.css"> --><!-- Mathjax Support -->
  <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  <!-- Load KaTeX -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.js"></script>
</head>
<body><header class="site-header" role="banner">

    <div class="wrapper">

        <a class="site-title" href="/lia/">Logic in Agda</a>

        <nav class="site-nav">
            <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                    <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                    <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                    <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
                </svg>
            </span>

            <div class="trigger">
                <a class="page-link" href="/lia/part0/index/">Part 0</a>
                <a class="page-link" href="/lia/part1/index/">Part 1</a>
                <a class="page-link" href="/lia/part2/index/">Part 2</a>
                <a class="page-link" href="/lia/part3/index/">Part 3</a>
                <a class="page-link" href="/lia/part4/index/">Part 4</a>
            </div>
        </nav>

    </div>

</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

    <header class="post-header">
        <h1 class="post-title">Normal forms 🚧</h1>
    </header>
  
    <p style="text-align:center;">
    
    
    
    <a alt="Part" href="/lia/part1/index/">Part</a>
    &bullet;
    
    
    <a alt="Source code" href="https://github.com/lclem/lia/blob/main/src/part1/NormalForms.lagda.md">Source</a>
    
    
    
</p>

  
    <div class="post-content">
        <h2>Contents</h2>    
        <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#WNNF">Weak negation normal form</a>
<ul>
<li class="toc-entry toc-h2"><a href="#transformation">Transformation</a></li>
<li class="toc-entry toc-h2"><a href="#correctness">Correctness</a></li>
<li class="toc-entry toc-h2"><a href="#internal-verification">Internal verification</a></li>
<li class="toc-entry toc-h2"><a href="#formula-size">Formula size</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#NNF">Negation normal form</a>
<ul>
<li class="toc-entry toc-h2"><a href="#remove-implications-and-bi-implications">Remove implications and bi-implications</a></li>
<li class="toc-entry toc-h2"><a href="#transformation-to-nnf">Transformation to NNF</a></li>
<li class="toc-entry toc-h2"><a href="#correctness-1">Correctness</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#DNF">Disjunctive normal form</a>
<ul>
<li class="toc-entry toc-h2"><a href="#case-1-dnf-of-a-disjunction">Case 1: DNF of a disjunction</a></li>
<li class="toc-entry toc-h2"><a href="#case-2-dnf-of-a-conjunction">Case 2: DNF of a conjunction</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#CNF">Conjunctive normal form</a></li>
</ul><pre class="Agda"><a id="38" class="Symbol">{-#</a> <a id="42" class="Keyword">OPTIONS</a> <a id="50" class="Pragma">--allow-unsolved-metas</a> <a id="73" class="Pragma">--rewriting</a> <a id="85" class="Pragma">--confluence-check</a> <a id="104" class="Symbol">#-}</a>
<a id="108" class="Keyword">open</a> <a id="113" class="Keyword">import</a> <a id="120" href="/lia/part0/index/" class="Module">part0.index</a>

<a id="133" class="Keyword">module</a> <a id="140" href="/lia/part1/NormalForms/" class="Module">part1.NormalForms</a> <a id="158" class="Symbol">(</a><a id="159" href="/lia/part1/NormalForms/#159" class="Bound">n</a> <a id="161" class="Symbol">:</a> <a id="163" href="/lia/part0/Naturals/#177" class="Datatype">ℕ</a><a id="164" class="Symbol">)</a> <a id="166" class="Keyword">where</a>
<a id="172" class="Keyword">open</a> <a id="177" class="Keyword">import</a> <a id="184" href="/lia/part1/Semantics/" class="Module">part1.Semantics</a> <a id="200" href="/lia/part1/NormalForms/#159" class="Bound">n</a> <a id="202" class="Keyword">hiding</a> <a id="209" class="Symbol">(</a>∅<a id="211" class="Symbol">)</a>
 
<a id="215" class="Keyword">private</a>
  <a id="225" class="Keyword">variable</a>
    <a id="238" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="240" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a> <a id="242" class="Symbol">:</a> <a id="244" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a></pre>

<p>In this chapter we study normal forms for classical propositional logic,
namely</p>

<ul>
  <li>
<a href="#WNNF">weak negation normal form (WNNF)</a>,</li>
  <li>
<a href="#NNF">negation normal form (NNF)</a>,</li>
  <li>
<a href="#DNF">disjunctive normal form (DNF)</a>, and its dual</li>
  <li>
<a href="#CNF">conjunctive normal form (CNF)</a>.</li>
</ul>

<h1 id="WNNF">
<a class="anchor" href="#WNNF" aria-hidden="true"><span class="octicon octicon-link"></span></a>Weak negation normal form</h1>

<p>A <em>literal</em> is either a propositional variable <code class="language-plaintext highlighter-rouge">p</code> (positive literal) or
a negation <code class="language-plaintext highlighter-rouge">¬ p</code> thereof (negative literal). A formula is in <em>weak
negation normal form</em> (WNNF) if negation can appear only in literals,
i.e., in front of propositional variables:</p>

<pre class="Agda"><a id="813" class="Keyword">data</a> <a id="WNNF"></a><a id="818" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="823" class="Symbol">:</a> <a id="825" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a> <a id="833" class="Symbol">→</a> <a id="835" class="PrimitiveType">Set</a> <a id="839" class="Keyword">where</a>
  <a id="WNNF.⊤"></a><a id="847" href="/lia/part1/NormalForms/#847" class="InductiveConstructor">⊤</a> <a id="849" class="Symbol">:</a> <a id="851" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="856" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a>
  <a id="WNNF.⊥"></a><a id="860" href="/lia/part1/NormalForms/#860" class="InductiveConstructor">⊥</a> <a id="862" class="Symbol">:</a> <a id="864" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="869" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a>
  <a id="WNNF.`_"></a><a id="873" href="/lia/part1/NormalForms/#873" class="InductiveConstructor Operator">`_</a> <a id="876" class="Symbol">:</a> <a id="878" class="Symbol">(</a><a id="879" href="/lia/part1/NormalForms/#879" class="Bound">p</a> <a id="881" class="Symbol">:</a> <a id="883" href="/lia/part1/Semantics/#1069" class="Function">PropName</a><a id="891" class="Symbol">)</a> <a id="893" class="Symbol">→</a> <a id="895" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="900" class="Symbol">(</a><a id="901" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="903" href="/lia/part1/NormalForms/#879" class="Bound">p</a><a id="904" class="Symbol">)</a>
  <a id="WNNF.¬`_"></a><a id="908" href="/lia/part1/NormalForms/#908" class="InductiveConstructor Operator">¬`_</a> <a id="912" class="Symbol">:</a> <a id="914" class="Symbol">(</a><a id="915" href="/lia/part1/NormalForms/#915" class="Bound">p</a> <a id="917" class="Symbol">:</a> <a id="919" href="/lia/part1/Semantics/#1069" class="Function">PropName</a><a id="927" class="Symbol">)</a> <a id="929" class="Symbol">→</a> <a id="931" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="936" class="Symbol">(</a><a id="937" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="939" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="941" href="/lia/part1/NormalForms/#915" class="Bound">p</a><a id="942" class="Symbol">)</a>
  <a id="WNNF._∧_"></a><a id="946" href="/lia/part1/NormalForms/#946" class="InductiveConstructor Operator">_∧_</a> <a id="950" class="Symbol">:</a> <a id="952" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="957" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="959" class="Symbol">→</a> <a id="961" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="966" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a> <a id="968" class="Symbol">→</a> <a id="970" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="975" class="Symbol">(</a><a id="976" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="978" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="980" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a><a id="981" class="Symbol">)</a>
  <a id="WNNF._∨_"></a><a id="985" href="/lia/part1/NormalForms/#985" class="InductiveConstructor Operator">_∨_</a> <a id="989" class="Symbol">:</a> <a id="991" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="996" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="998" class="Symbol">→</a> <a id="1000" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="1005" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a> <a id="1007" class="Symbol">→</a> <a id="1009" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="1014" class="Symbol">(</a><a id="1015" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="1017" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="1019" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a><a id="1020" class="Symbol">)</a>
  <a id="WNNF._⇒_"></a><a id="1024" href="/lia/part1/NormalForms/#1024" class="InductiveConstructor Operator">_⇒_</a> <a id="1028" class="Symbol">:</a> <a id="1030" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="1035" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="1037" class="Symbol">→</a> <a id="1039" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="1044" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a> <a id="1046" class="Symbol">→</a> <a id="1048" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="1053" class="Symbol">(</a><a id="1054" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="1056" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="1058" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a><a id="1059" class="Symbol">)</a>
  <a id="WNNF._⇔_"></a><a id="1063" href="/lia/part1/NormalForms/#1063" class="InductiveConstructor Operator">_⇔_</a> <a id="1067" class="Symbol">:</a> <a id="1069" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="1074" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="1076" class="Symbol">→</a> <a id="1078" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="1083" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a> <a id="1085" class="Symbol">→</a> <a id="1087" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="1092" class="Symbol">(</a><a id="1093" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="1095" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="1097" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a><a id="1098" class="Symbol">)</a></pre>

<p>In this section we show that every formula can be transformed to a
logically equivalent formula in WNNF. This is a preparatory step towards
the stronger <a href="#NNF">NNF</a>.</p>

<p>Given a formula <code class="language-plaintext highlighter-rouge">φ</code>, we can decide whether it is in WNNF or not:</p>

<pre class="Agda"><a id="WNNF?"></a><a id="1342" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1348" class="Symbol">:</a> <a id="1350" class="Symbol">∀</a> <a id="1352" href="/lia/part1/NormalForms/#1352" class="Bound">φ</a> <a id="1354" class="Symbol">→</a> <a id="1356" href="/lia/part0/Decidable/#150" class="Datatype">Dec</a> <a id="1360" class="Symbol">(</a><a id="1361" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="1366" href="/lia/part1/NormalForms/#1352" class="Bound">φ</a><a id="1367" class="Symbol">)</a></pre>

<div class="introbox">

  <p>The proof works by inspecting <code class="language-plaintext highlighter-rouge">φ</code> sufficiently deeply.
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="1451" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1457" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="1459" class="Symbol">=</a> <a id="1461" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1465" href="/lia/part1/NormalForms/#860" class="InductiveConstructor">⊥</a>
<a id="1467" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1473" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="1475" class="Symbol">=</a> <a id="1477" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1481" href="/lia/part1/NormalForms/#847" class="InductiveConstructor">⊤</a>
<a id="1483" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1489" class="Symbol">(</a><a id="1490" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="1492" href="/lia/part1/NormalForms/#1492" class="Bound">p</a><a id="1493" class="Symbol">)</a> <a id="1495" class="Symbol">=</a> <a id="1497" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1501" class="Symbol">(</a><a id="1502" href="/lia/part1/NormalForms/#873" class="InductiveConstructor Operator">`</a> <a id="1504" href="/lia/part1/NormalForms/#1492" class="Bound">p</a><a id="1505" class="Symbol">)</a>

<a id="1508" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1514" class="Symbol">(</a><a id="1515" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="1517" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a><a id="1518" class="Symbol">)</a> <a id="1520" class="Symbol">=</a> <a id="1522" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1525" class="Symbol">λ</a> <a id="1527" class="Symbol">()</a>
<a id="1530" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1536" class="Symbol">(</a><a id="1537" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="1539" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a><a id="1540" class="Symbol">)</a> <a id="1542" class="Symbol">=</a> <a id="1544" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1547" class="Symbol">λ</a> <a id="1549" class="Symbol">()</a>
<a id="1552" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1558" class="Symbol">(</a><a id="1559" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="1561" class="Symbol">(</a><a id="1562" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="1564" href="/lia/part1/NormalForms/#1564" class="Bound">p</a><a id="1565" class="Symbol">))</a> <a id="1568" class="Symbol">=</a> <a id="1570" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1574" class="Symbol">(</a><a id="1575" href="/lia/part1/NormalForms/#908" class="InductiveConstructor Operator">¬`</a> <a id="1578" href="/lia/part1/NormalForms/#1564" class="Bound">p</a><a id="1579" class="Symbol">)</a>
<a id="1581" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1587" class="Symbol">(</a><a id="1588" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="1590" class="Symbol">(</a><a id="1591" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="1593" class="Symbol">_))</a> <a id="1597" class="Symbol">=</a> <a id="1599" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1602" class="Symbol">λ</a> <a id="1604" class="Symbol">()</a>
<a id="1607" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1613" class="Symbol">(</a><a id="1614" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="1616" class="Symbol">(_</a> <a id="1619" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="1621" class="Symbol">_))</a> <a id="1625" class="Symbol">=</a> <a id="1627" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1630" class="Symbol">λ</a> <a id="1632" class="Symbol">()</a>
<a id="1635" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1641" class="Symbol">(</a><a id="1642" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="1644" class="Symbol">(_</a> <a id="1647" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="1649" class="Symbol">_))</a> <a id="1653" class="Symbol">=</a> <a id="1655" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1658" class="Symbol">λ</a> <a id="1660" class="Symbol">()</a>
<a id="1663" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1669" class="Symbol">(</a><a id="1670" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="1672" class="Symbol">(_</a> <a id="1675" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="1677" class="Symbol">_))</a> <a id="1681" class="Symbol">=</a> <a id="1683" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1686" class="Symbol">λ</a> <a id="1688" class="Symbol">()</a>
<a id="1691" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1697" class="Symbol">(</a><a id="1698" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="1700" class="Symbol">(_</a> <a id="1703" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="1705" class="Symbol">_))</a> <a id="1709" class="Symbol">=</a> <a id="1711" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1714" class="Symbol">λ</a> <a id="1716" class="Symbol">()</a>

<a id="1720" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1726" class="Symbol">(</a><a id="1727" href="/lia/part1/NormalForms/#1727" class="Bound">φ</a> <a id="1729" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="1731" href="/lia/part1/NormalForms/#1731" class="Bound">ψ</a><a id="1732" class="Symbol">)</a>
  <a id="1736" class="Keyword">with</a> <a id="1741" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1747" href="/lia/part1/NormalForms/#1727" class="Bound">φ</a> <a id="1749" class="Symbol">|</a>
       <a id="1758" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1764" href="/lia/part1/NormalForms/#1731" class="Bound">ψ</a>
<a id="1766" class="Symbol">...</a> <a id="1770" class="Symbol">|</a> <a id="1772" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1776" href="/lia/part1/NormalForms/#1776" class="Bound">wnnfφ</a> <a id="1782" class="Symbol">|</a> <a id="1784" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1788" href="/lia/part1/NormalForms/#1788" class="Bound">wnnfψ</a> <a id="1794" class="Symbol">=</a> <a id="1796" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1800" class="Symbol">(</a><a id="1801" href="/lia/part1/NormalForms/#1776" class="Bound">wnnfφ</a> <a id="1807" href="/lia/part1/NormalForms/#985" class="InductiveConstructor Operator">∨</a> <a id="1809" href="/lia/part1/NormalForms/#1788" class="Bound">wnnfψ</a><a id="1814" class="Symbol">)</a>
<a id="1816" class="Symbol">...</a> <a id="1820" class="Symbol">|</a> <a id="1822" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1825" href="/lia/part1/NormalForms/#1825" class="Bound">¬wnnfφ</a> <a id="1832" class="Symbol">|</a> <a id="1834" class="Symbol">_</a> <a id="1836" class="Symbol">=</a> <a id="1838" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1841" class="Symbol">λ{</a> <a id="1844" class="Symbol">(</a><a id="1845" href="/lia/part1/NormalForms/#1845" class="Bound">wnnfφ</a> <a id="1851" href="/lia/part1/NormalForms/#985" class="InductiveConstructor Operator">∨</a> <a id="1853" class="Symbol">_)</a> <a id="1856" class="Symbol">→</a> <a id="1858" href="/lia/part1/NormalForms/#1825" class="Bound">¬wnnfφ</a> <a id="1865" href="/lia/part1/NormalForms/#1845" class="Bound">wnnfφ</a><a id="1870" class="Symbol">}</a>
<a id="1872" class="CatchallClause Symbol">...</a><a id="1875" class="CatchallClause"> </a><a id="1876" class="CatchallClause Symbol">|</a><a id="1877" class="CatchallClause"> </a><a id="1878" class="CatchallClause Symbol">_</a><a id="1879" class="CatchallClause"> </a><a id="1880" class="CatchallClause Symbol">|</a><a id="1881" class="CatchallClause"> </a><a id="1882" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="1884" class="CatchallClause"> </a><a id="1885" href="/lia/part1/NormalForms/#1885" class="CatchallClause Bound">¬wnnfψ</a> <a id="1892" class="Symbol">=</a> <a id="1894" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1897" class="Symbol">λ{</a> <a id="1900" class="Symbol">(_</a> <a id="1903" href="/lia/part1/NormalForms/#985" class="InductiveConstructor Operator">∨</a> <a id="1905" href="/lia/part1/NormalForms/#1905" class="Bound">wnnfψ</a><a id="1910" class="Symbol">)</a> <a id="1912" class="Symbol">→</a> <a id="1914" href="/lia/part1/NormalForms/#1885" class="Bound">¬wnnfψ</a> <a id="1921" href="/lia/part1/NormalForms/#1905" class="Bound">wnnfψ</a><a id="1926" class="Symbol">}</a>

<a id="1929" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1935" class="Symbol">(</a><a id="1936" href="/lia/part1/NormalForms/#1936" class="Bound">φ</a> <a id="1938" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="1940" href="/lia/part1/NormalForms/#1940" class="Bound">ψ</a><a id="1941" class="Symbol">)</a>
  <a id="1945" class="Keyword">with</a> <a id="1950" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1956" href="/lia/part1/NormalForms/#1936" class="Bound">φ</a> <a id="1958" class="Symbol">|</a>
       <a id="1967" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="1973" href="/lia/part1/NormalForms/#1940" class="Bound">ψ</a>
<a id="1975" class="Symbol">...</a> <a id="1979" class="Symbol">|</a> <a id="1981" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1985" href="/lia/part1/NormalForms/#1985" class="Bound">wnnfφ</a> <a id="1991" class="Symbol">|</a> <a id="1993" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1997" href="/lia/part1/NormalForms/#1997" class="Bound">wnnfψ</a> <a id="2003" class="Symbol">=</a> <a id="2005" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2009" class="Symbol">(</a><a id="2010" href="/lia/part1/NormalForms/#1985" class="Bound">wnnfφ</a> <a id="2016" href="/lia/part1/NormalForms/#946" class="InductiveConstructor Operator">∧</a> <a id="2018" href="/lia/part1/NormalForms/#1997" class="Bound">wnnfψ</a><a id="2023" class="Symbol">)</a>
<a id="2025" class="Symbol">...</a> <a id="2029" class="Symbol">|</a> <a id="2031" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2034" href="/lia/part1/NormalForms/#2034" class="Bound">¬wnnfφ</a> <a id="2041" class="Symbol">|</a> <a id="2043" class="Symbol">_</a> <a id="2045" class="Symbol">=</a> <a id="2047" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2050" class="Symbol">λ{</a> <a id="2053" class="Symbol">(</a><a id="2054" href="/lia/part1/NormalForms/#2054" class="Bound">wnnfφ</a> <a id="2060" href="/lia/part1/NormalForms/#946" class="InductiveConstructor Operator">∧</a> <a id="2062" class="Symbol">_)</a> <a id="2065" class="Symbol">→</a> <a id="2067" href="/lia/part1/NormalForms/#2034" class="Bound">¬wnnfφ</a> <a id="2074" href="/lia/part1/NormalForms/#2054" class="Bound">wnnfφ</a><a id="2079" class="Symbol">}</a>
<a id="2081" class="CatchallClause Symbol">...</a><a id="2084" class="CatchallClause"> </a><a id="2085" class="CatchallClause Symbol">|</a><a id="2086" class="CatchallClause"> </a><a id="2087" class="CatchallClause Symbol">_</a><a id="2088" class="CatchallClause"> </a><a id="2089" class="CatchallClause Symbol">|</a><a id="2090" class="CatchallClause"> </a><a id="2091" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="2093" class="CatchallClause"> </a><a id="2094" href="/lia/part1/NormalForms/#2094" class="CatchallClause Bound">¬wnnfψ</a> <a id="2101" class="Symbol">=</a> <a id="2103" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2106" class="Symbol">λ{</a> <a id="2109" class="Symbol">(_</a> <a id="2112" href="/lia/part1/NormalForms/#946" class="InductiveConstructor Operator">∧</a> <a id="2114" href="/lia/part1/NormalForms/#2114" class="Bound">wnnfψ</a><a id="2119" class="Symbol">)</a> <a id="2121" class="Symbol">→</a> <a id="2123" href="/lia/part1/NormalForms/#2094" class="Bound">¬wnnfψ</a> <a id="2130" href="/lia/part1/NormalForms/#2114" class="Bound">wnnfψ</a><a id="2135" class="Symbol">}</a>

<a id="2138" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="2144" class="Symbol">(</a><a id="2145" href="/lia/part1/NormalForms/#2145" class="Bound">φ</a> <a id="2147" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="2149" href="/lia/part1/NormalForms/#2149" class="Bound">ψ</a><a id="2150" class="Symbol">)</a>
  <a id="2154" class="Keyword">with</a> <a id="2159" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="2165" href="/lia/part1/NormalForms/#2145" class="Bound">φ</a> <a id="2167" class="Symbol">|</a>
       <a id="2176" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="2182" href="/lia/part1/NormalForms/#2149" class="Bound">ψ</a>
<a id="2184" class="Symbol">...</a> <a id="2188" class="Symbol">|</a> <a id="2190" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2194" href="/lia/part1/NormalForms/#2194" class="Bound">wnnfφ</a> <a id="2200" class="Symbol">|</a> <a id="2202" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2206" href="/lia/part1/NormalForms/#2206" class="Bound">wnnfψ</a> <a id="2212" class="Symbol">=</a> <a id="2214" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2218" class="Symbol">(</a><a id="2219" href="/lia/part1/NormalForms/#2194" class="Bound">wnnfφ</a> <a id="2225" href="/lia/part1/NormalForms/#1024" class="InductiveConstructor Operator">⇒</a> <a id="2227" href="/lia/part1/NormalForms/#2206" class="Bound">wnnfψ</a><a id="2232" class="Symbol">)</a>
<a id="2234" class="Symbol">...</a> <a id="2238" class="Symbol">|</a> <a id="2240" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2243" href="/lia/part1/NormalForms/#2243" class="Bound">¬wnnfφ</a> <a id="2250" class="Symbol">|</a> <a id="2252" class="Symbol">_</a> <a id="2254" class="Symbol">=</a> <a id="2256" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2259" class="Symbol">λ{</a> <a id="2262" class="Symbol">(</a><a id="2263" href="/lia/part1/NormalForms/#2263" class="Bound">wnnfφ</a> <a id="2269" href="/lia/part1/NormalForms/#1024" class="InductiveConstructor Operator">⇒</a> <a id="2271" class="Symbol">_)</a> <a id="2274" class="Symbol">→</a> <a id="2276" href="/lia/part1/NormalForms/#2243" class="Bound">¬wnnfφ</a> <a id="2283" href="/lia/part1/NormalForms/#2263" class="Bound">wnnfφ</a><a id="2288" class="Symbol">}</a>
<a id="2290" class="CatchallClause Symbol">...</a><a id="2293" class="CatchallClause"> </a><a id="2294" class="CatchallClause Symbol">|</a><a id="2295" class="CatchallClause"> </a><a id="2296" class="CatchallClause Symbol">_</a><a id="2297" class="CatchallClause"> </a><a id="2298" class="CatchallClause Symbol">|</a><a id="2299" class="CatchallClause"> </a><a id="2300" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="2302" class="CatchallClause"> </a><a id="2303" href="/lia/part1/NormalForms/#2303" class="CatchallClause Bound">¬wnnfψ</a> <a id="2310" class="Symbol">=</a> <a id="2312" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2315" class="Symbol">λ{</a> <a id="2318" class="Symbol">(_</a> <a id="2321" href="/lia/part1/NormalForms/#1024" class="InductiveConstructor Operator">⇒</a> <a id="2323" href="/lia/part1/NormalForms/#2323" class="Bound">wnnfψ</a><a id="2328" class="Symbol">)</a> <a id="2330" class="Symbol">→</a> <a id="2332" href="/lia/part1/NormalForms/#2303" class="Bound">¬wnnfψ</a> <a id="2339" href="/lia/part1/NormalForms/#2323" class="Bound">wnnfψ</a><a id="2344" class="Symbol">}</a>

<a id="2347" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="2353" class="Symbol">(</a><a id="2354" href="/lia/part1/NormalForms/#2354" class="Bound">φ</a> <a id="2356" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="2358" href="/lia/part1/NormalForms/#2358" class="Bound">ψ</a><a id="2359" class="Symbol">)</a>
  <a id="2363" class="Keyword">with</a> <a id="2368" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="2374" href="/lia/part1/NormalForms/#2354" class="Bound">φ</a> <a id="2376" class="Symbol">|</a>
       <a id="2385" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="2391" href="/lia/part1/NormalForms/#2358" class="Bound">ψ</a>
<a id="2393" class="Symbol">...</a> <a id="2397" class="Symbol">|</a> <a id="2399" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2403" href="/lia/part1/NormalForms/#2403" class="Bound">wnnfφ</a> <a id="2409" class="Symbol">|</a> <a id="2411" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2415" href="/lia/part1/NormalForms/#2415" class="Bound">wnnfψ</a> <a id="2421" class="Symbol">=</a> <a id="2423" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="2427" class="Symbol">(</a><a id="2428" href="/lia/part1/NormalForms/#2403" class="Bound">wnnfφ</a> <a id="2434" href="/lia/part1/NormalForms/#1063" class="InductiveConstructor Operator">⇔</a> <a id="2436" href="/lia/part1/NormalForms/#2415" class="Bound">wnnfψ</a><a id="2441" class="Symbol">)</a>
<a id="2443" class="Symbol">...</a> <a id="2447" class="Symbol">|</a> <a id="2449" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2452" href="/lia/part1/NormalForms/#2452" class="Bound">¬wnnfφ</a> <a id="2459" class="Symbol">|</a> <a id="2461" class="Symbol">_</a> <a id="2463" class="Symbol">=</a> <a id="2465" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2468" class="Symbol">λ{</a> <a id="2471" class="Symbol">(</a><a id="2472" href="/lia/part1/NormalForms/#2472" class="Bound">wnnfφ</a> <a id="2478" href="/lia/part1/NormalForms/#1063" class="InductiveConstructor Operator">⇔</a> <a id="2480" class="Symbol">_)</a> <a id="2483" class="Symbol">→</a> <a id="2485" href="/lia/part1/NormalForms/#2452" class="Bound">¬wnnfφ</a> <a id="2492" href="/lia/part1/NormalForms/#2472" class="Bound">wnnfφ</a><a id="2497" class="Symbol">}</a>
<a id="2499" class="CatchallClause Symbol">...</a><a id="2502" class="CatchallClause"> </a><a id="2503" class="CatchallClause Symbol">|</a><a id="2504" class="CatchallClause"> </a><a id="2505" class="CatchallClause Symbol">_</a><a id="2506" class="CatchallClause"> </a><a id="2507" class="CatchallClause Symbol">|</a><a id="2508" class="CatchallClause"> </a><a id="2509" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="2511" class="CatchallClause"> </a><a id="2512" href="/lia/part1/NormalForms/#2512" class="CatchallClause Bound">¬wnnfψ</a> <a id="2519" class="Symbol">=</a> <a id="2521" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="2524" class="Symbol">λ{</a> <a id="2527" class="Symbol">(_</a> <a id="2530" href="/lia/part1/NormalForms/#1063" class="InductiveConstructor Operator">⇔</a> <a id="2532" href="/lia/part1/NormalForms/#2532" class="Bound">wnnfψ</a><a id="2537" class="Symbol">)</a> <a id="2539" class="Symbol">→</a> <a id="2541" href="/lia/part1/NormalForms/#2512" class="Bound">¬wnnfψ</a> <a id="2548" href="/lia/part1/NormalForms/#2532" class="Bound">wnnfψ</a><a id="2553" class="Symbol">}</a></pre>

</div>

<pre class="Agda"><a id="ψ₀"></a><a id="2569" href="/lia/part1/NormalForms/#2569" class="Function">ψ₀</a> <a id="ψ₁"></a><a id="2572" href="/lia/part1/NormalForms/#2572" class="Function">ψ₁</a> <a id="ψ₂"></a><a id="2575" href="/lia/part1/NormalForms/#2575" class="Function">ψ₂</a> <a id="ψ₃"></a><a id="2578" href="/lia/part1/NormalForms/#2578" class="Function">ψ₃</a> <a id="ψ₄"></a><a id="2581" href="/lia/part1/NormalForms/#2581" class="Function">ψ₄</a> <a id="ψ₅"></a><a id="2584" href="/lia/part1/NormalForms/#2584" class="Function">ψ₅</a> <a id="ψ₇"></a><a id="2587" href="/lia/part1/NormalForms/#2587" class="Function">ψ₇</a> <a id="ψ₈"></a><a id="2590" href="/lia/part1/NormalForms/#2590" class="Function">ψ₈</a> <a id="2593" class="Symbol">:</a> <a id="2595" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a></pre>

<div class="inlinecode">

  <p>For instance, the formulas</p>
  <pre class="Agda"><a id="2668" href="/lia/part1/NormalForms/#2569" class="Function">ψ₀</a> <a id="2671" class="Symbol">=</a> <a id="2673" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a></pre>
  <p>,</p>
  <pre class="Agda"><a id="2685" href="/lia/part1/NormalForms/#2572" class="Function">ψ₁</a> <a id="2688" class="Symbol">=</a> <a id="2690" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="2692" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="2694" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="2697" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="2699" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="2701" href="/lia/part1/Semantics/#1197" class="Function">p₁</a></pre>
  <p>, and</p>
  <pre class="Agda"><a id="2718" href="/lia/part1/NormalForms/#2575" class="Function">ψ₂</a> <a id="2721" class="Symbol">=</a> <a id="2723" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="2725" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="2727" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="2730" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="2732" class="Symbol">(</a><a id="2733" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="2735" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="2738" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="2740" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="2742" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="2744" href="/lia/part1/Semantics/#1200" class="Function">p₂</a><a id="2746" class="Symbol">)</a></pre>
  <p>are in WNNF, while the formulas</p>
  <pre class="Agda"><a id="2788" href="/lia/part1/NormalForms/#2578" class="Function">ψ₃</a> <a id="2791" class="Symbol">=</a> <a id="2793" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="2795" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a></pre>
  <p>,</p>
  <pre class="Agda"><a id="2807" href="/lia/part1/NormalForms/#2581" class="Function">ψ₄</a> <a id="2810" class="Symbol">=</a> <a id="2812" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="2814" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="2816" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="2818" href="/lia/part1/Semantics/#1194" class="Function">p₀</a></pre>
  <p>, and</p>
  <pre class="Agda"><a id="2835" href="/lia/part1/NormalForms/#2584" class="Function">ψ₅</a> <a id="2838" class="Symbol">=</a> <a id="2840" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="2842" class="Symbol">(</a><a id="2843" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="2845" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="2848" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="2850" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="2852" href="/lia/part1/Semantics/#1197" class="Function">p₁</a><a id="2854" class="Symbol">)</a></pre>

  <p>are not in WNNF (negation not in front of a propositional variable),
which we can automaticalally check thanks to <a href="#WNNF?"><code class="language-plaintext highlighter-rouge">WNNF?</code></a> :</p>

</div>

<pre class="Agda"><a id="3007" href="/lia/part1/NormalForms/#3007" class="Function">_</a> <a id="3009" class="Symbol">:</a> <a id="3011" href="/lia/part0/List/#10524" class="Function">All?</a> <a id="3016" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a> <a id="3022" class="Symbol">(</a><a id="3023" href="/lia/part0/List/#1763" class="Function">[</a> <a id="3025" href="/lia/part1/NormalForms/#2569" class="Function">ψ₀</a> <a id="3028" href="/lia/part1/NormalForms/#2572" class="Function">ψ₁</a> <a id="3031" href="/lia/part1/NormalForms/#2575" class="Function">ψ₂</a> <a id="3034" href="/lia/part0/List/#2014" class="Function Operator">]</a><a id="3035" class="Symbol">)</a> <a id="3037" href="/lia/part0/Decidable/#628" class="Function Operator">×?</a> <a id="3040" href="/lia/part0/List/#10524" class="Function">All?</a> <a id="3045" class="Symbol">(</a><a id="3046" href="/lia/part0/Decidable/#1262" class="Function Operator">~?_</a> <a id="3050" href="/lia/part0/Utils/#638" class="Function Operator">∘</a> <a id="3052" href="/lia/part1/NormalForms/#1342" class="Function">WNNF?</a><a id="3057" class="Symbol">)</a> <a id="3059" class="Symbol">(</a><a id="3060" href="/lia/part0/List/#1763" class="Function">[</a> <a id="3062" href="/lia/part1/NormalForms/#2578" class="Function">ψ₃</a> <a id="3065" href="/lia/part1/NormalForms/#2581" class="Function">ψ₄</a> <a id="3068" href="/lia/part1/NormalForms/#2584" class="Function">ψ₅</a> <a id="3071" href="/lia/part0/List/#2014" class="Function Operator">]</a><a id="3072" class="Symbol">)</a> <a id="3074" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="3076" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="3080" class="Symbol">_</a>
<a id="3082" class="Symbol">_</a> <a id="3084" class="Symbol">=</a> <a id="3086" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<h2 id="transformation">
<a class="anchor" href="#transformation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Transformation</h2>

<p>The transformation of a formula to WNNF operates by “pushing inside”
negations. This is achieved by the function</p>

<pre class="Agda"><a id="wnnf"></a><a id="3233" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3238" class="Symbol">:</a> <a id="3240" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a> <a id="3248" class="Symbol">→</a> <a id="3250" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a></pre>

<p>which is defined as follows:</p>

<ul>
  <li>In the atomic cases the formula is unchanged:</li>
</ul>

<pre class="Agda"><a id="3346" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3351" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="3353" class="Symbol">=</a> <a id="3355" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a>
<a id="3357" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3362" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="3364" class="Symbol">=</a> <a id="3366" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a>
<a id="3368" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3373" class="Symbol">(</a><a id="3374" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="3376" href="/lia/part1/NormalForms/#3376" class="Bound">p</a><a id="3377" class="Symbol">)</a> <a id="3379" class="Symbol">=</a> <a id="3381" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="3383" href="/lia/part1/NormalForms/#3376" class="Bound">p</a></pre>

<ul>
  <li>In the case of binary connectives we just proceed recursively on the
subformulas:</li>
</ul>

<pre class="Agda"><a id="3479" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3484" class="Symbol">(</a><a id="3485" href="/lia/part1/NormalForms/#3485" class="Bound">φ</a> <a id="3487" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="3489" href="/lia/part1/NormalForms/#3489" class="Bound">ψ</a><a id="3490" class="Symbol">)</a> <a id="3492" class="Symbol">=</a> <a id="3494" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3499" href="/lia/part1/NormalForms/#3485" class="Bound">φ</a> <a id="3501" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="3503" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3508" href="/lia/part1/NormalForms/#3489" class="Bound">ψ</a>
<a id="3510" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3515" class="Symbol">(</a><a id="3516" href="/lia/part1/NormalForms/#3516" class="Bound">φ</a> <a id="3518" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="3520" href="/lia/part1/NormalForms/#3520" class="Bound">ψ</a><a id="3521" class="Symbol">)</a> <a id="3523" class="Symbol">=</a> <a id="3525" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3530" href="/lia/part1/NormalForms/#3516" class="Bound">φ</a> <a id="3532" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="3534" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3539" href="/lia/part1/NormalForms/#3520" class="Bound">ψ</a>
<a id="3541" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3546" class="Symbol">(</a><a id="3547" href="/lia/part1/NormalForms/#3547" class="Bound">φ</a> <a id="3549" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="3551" href="/lia/part1/NormalForms/#3551" class="Bound">ψ</a><a id="3552" class="Symbol">)</a> <a id="3554" class="Symbol">=</a> <a id="3556" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3561" href="/lia/part1/NormalForms/#3547" class="Bound">φ</a> <a id="3563" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="3565" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3570" href="/lia/part1/NormalForms/#3551" class="Bound">ψ</a>
<a id="3572" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3577" class="Symbol">(</a><a id="3578" href="/lia/part1/NormalForms/#3578" class="Bound">φ</a> <a id="3580" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="3582" href="/lia/part1/NormalForms/#3582" class="Bound">ψ</a><a id="3583" class="Symbol">)</a> <a id="3585" class="Symbol">=</a> <a id="3587" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3592" href="/lia/part1/NormalForms/#3578" class="Bound">φ</a> <a id="3594" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="3596" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3601" href="/lia/part1/NormalForms/#3582" class="Bound">ψ</a></pre>

<ul>
  <li>In the case of a negation, we push it inside. If it is in front of
the constants <a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> and
<a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> , then we just flip it to the
other constant:</li>
</ul>

<pre class="Agda"><a id="3827" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3832" class="Symbol">(</a><a id="3833" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="3835" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a><a id="3836" class="Symbol">)</a> <a id="3838" class="Symbol">=</a> <a id="3840" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a>
<a id="3842" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3847" class="Symbol">(</a><a id="3848" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="3850" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a><a id="3851" class="Symbol">)</a> <a id="3853" class="Symbol">=</a> <a id="3855" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a></pre>

<ul>
  <li>If it is in front of a propositional variable, then we leave it
unchanged:</li>
</ul>

<pre class="Agda"><a id="3944" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="3949" class="Symbol">(</a><a id="3950" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="3952" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="3954" href="/lia/part1/NormalForms/#3954" class="Bound">p</a><a id="3955" class="Symbol">)</a> <a id="3957" class="Symbol">=</a> <a id="3959" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="3961" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="3963" href="/lia/part1/NormalForms/#3954" class="Bound">p</a></pre>

<ul>
  <li>Double negations are just removed (thanks to the law of double
negation):</li>
</ul>

<pre class="Agda"><a id="4053" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4058" class="Symbol">(</a><a id="4059" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4061" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4063" href="/lia/part1/NormalForms/#4063" class="Bound">φ</a><a id="4064" class="Symbol">)</a> <a id="4066" class="Symbol">=</a> <a id="4068" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4073" href="/lia/part1/NormalForms/#4063" class="Bound">φ</a></pre>

<ul>
  <li>If negation is in front of a binary connective, then we push it
inside according to the corresponding de Morgan’s law:</li>
</ul>

<pre class="Agda"><a id="4208" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4213" class="Symbol">(</a><a id="4214" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4216" class="Symbol">(</a><a id="4217" href="/lia/part1/NormalForms/#4217" class="Bound">φ</a> <a id="4219" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="4221" href="/lia/part1/NormalForms/#4221" class="Bound">ψ</a><a id="4222" class="Symbol">))</a> <a id="4225" class="Symbol">=</a> <a id="4227" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4232" class="Symbol">(</a><a id="4233" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4235" href="/lia/part1/NormalForms/#4217" class="Bound">φ</a><a id="4236" class="Symbol">)</a> <a id="4238" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="4240" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4245" class="Symbol">(</a><a id="4246" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4248" href="/lia/part1/NormalForms/#4221" class="Bound">ψ</a><a id="4249" class="Symbol">)</a>
<a id="4251" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4256" class="Symbol">(</a><a id="4257" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4259" class="Symbol">(</a><a id="4260" href="/lia/part1/NormalForms/#4260" class="Bound">φ</a> <a id="4262" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="4264" href="/lia/part1/NormalForms/#4264" class="Bound">ψ</a><a id="4265" class="Symbol">))</a> <a id="4268" class="Symbol">=</a> <a id="4270" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4275" class="Symbol">(</a><a id="4276" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4278" href="/lia/part1/NormalForms/#4260" class="Bound">φ</a><a id="4279" class="Symbol">)</a> <a id="4281" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="4283" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4288" class="Symbol">(</a><a id="4289" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4291" href="/lia/part1/NormalForms/#4264" class="Bound">ψ</a><a id="4292" class="Symbol">)</a>
<a id="4294" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4299" class="Symbol">(</a><a id="4300" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4302" class="Symbol">(</a><a id="4303" href="/lia/part1/NormalForms/#4303" class="Bound">φ</a> <a id="4305" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="4307" href="/lia/part1/NormalForms/#4307" class="Bound">ψ</a><a id="4308" class="Symbol">))</a> <a id="4311" class="Symbol">=</a> <a id="4313" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4318" href="/lia/part1/NormalForms/#4303" class="Bound">φ</a> <a id="4320" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="4322" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4327" class="Symbol">(</a><a id="4328" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4330" href="/lia/part1/NormalForms/#4307" class="Bound">ψ</a><a id="4331" class="Symbol">)</a>
<a id="4333" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4338" class="Symbol">(</a><a id="4339" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4341" class="Symbol">(</a><a id="4342" href="/lia/part1/NormalForms/#4342" class="Bound">φ</a> <a id="4344" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="4346" href="/lia/part1/NormalForms/#4346" class="Bound">ψ</a><a id="4347" class="Symbol">))</a> <a id="4350" class="Symbol">=</a> <a id="4352" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4357" href="/lia/part1/NormalForms/#4342" class="Bound">φ</a> <a id="4359" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="4361" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4366" class="Symbol">(</a><a id="4367" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4369" href="/lia/part1/NormalForms/#4346" class="Bound">ψ</a><a id="4370" class="Symbol">)</a></pre>

<div class="introbox">

  <div class="inlinecode">

    <p>For example, the WNNF of</p>
    <pre class="Agda"><a id="4445" href="/lia/part1/NormalForms/#2587" class="Function">ψ₇</a> <a id="4448" class="Symbol">=</a> <a id="4450" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4452" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4454" class="Symbol">(</a><a id="4455" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="4457" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="4460" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="4462" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4464" class="Symbol">(</a><a id="4465" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="4467" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="4470" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="4472" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="4474" href="/lia/part1/Semantics/#1200" class="Function">p₂</a><a id="4476" class="Symbol">))</a></pre>
    <p>is</p>
    <pre class="Agda"><a id="4490" href="/lia/part1/NormalForms/#2590" class="Function">ψ₈</a> <a id="4493" class="Symbol">=</a> <a id="4495" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="4497" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="4500" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="4502" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4504" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="4506" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="4509" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="4511" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="4513" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="4515" href="/lia/part1/Semantics/#1200" class="Function">p₂</a></pre>
    <p>as we can automatically check.</p>

  </div>

  <p><button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="4580" href="/lia/part1/NormalForms/#4580" class="Function">_</a> <a id="4582" class="Symbol">:</a> <a id="4584" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="4589" href="/lia/part1/NormalForms/#2587" class="Function">ψ₇</a> <a id="4592" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="4594" href="/lia/part1/NormalForms/#2590" class="Function">ψ₈</a>
<a id="4597" class="Symbol">_</a> <a id="4599" class="Symbol">=</a> <a id="4601" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

</div>

<h2 id="correctness">
<a class="anchor" href="#correctness" aria-hidden="true"><span class="octicon octicon-link"></span></a>Correctness</h2>

<p>Now that we have a tentative definition of a function <a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a>
purportedly transforming a formula to an equivalent one in WNNF, we have
to prove that this is the case. There are two things that we need to
prove. First, we need to prove that <code class="language-plaintext highlighter-rouge">wnnf φ</code> is indeed in WNNF, and
second that it is logically equivalent to <code class="language-plaintext highlighter-rouge">φ</code>.</p>

<h3 id="structure">Structure</h3>

<div class="introbox">

  <pre class="Agda"><a id="wnnf-WNNF"></a><a id="4994" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5004" class="Symbol">:</a> <a id="5006" class="Symbol">∀</a> <a id="5008" href="/lia/part1/NormalForms/#5008" class="Bound">φ</a> <a id="5010" class="Symbol">→</a> <a id="5012" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="5017" class="Symbol">(</a><a id="5018" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="5023" href="/lia/part1/NormalForms/#5008" class="Bound">φ</a><a id="5024" class="Symbol">)</a></pre>

  <p>The proof that <code class="language-plaintext highlighter-rouge">wnnf φ</code> is in WNNF is by a customary structural
induction, where in the case <code class="language-plaintext highlighter-rouge">φ = ¬ (</code>
p)<code class="language-plaintext highlighter-rouge">the [`` WNNF ``](#WNNF)  given by the constructor `` ¬</code> p
`<code class="language-plaintext highlighter-rouge">(no space between</code>¬` and the following backtick character).
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="5274" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5284" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="5286" class="Symbol">=</a> <a id="5288" href="/lia/part1/NormalForms/#860" class="InductiveConstructor">⊥</a>
<a id="5290" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5300" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="5302" class="Symbol">=</a> <a id="5304" href="/lia/part1/NormalForms/#847" class="InductiveConstructor">⊤</a>
<a id="5306" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5316" class="Symbol">(</a><a id="5317" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="5319" href="/lia/part1/NormalForms/#5319" class="Bound">p</a><a id="5320" class="Symbol">)</a> <a id="5322" class="Symbol">=</a> <a id="5324" href="/lia/part1/NormalForms/#873" class="InductiveConstructor Operator">`</a> <a id="5326" href="/lia/part1/NormalForms/#5319" class="Bound">p</a>
<a id="5328" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5338" class="Symbol">(</a><a id="5339" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5341" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a><a id="5342" class="Symbol">)</a> <a id="5344" class="Symbol">=</a> <a id="5346" href="/lia/part1/NormalForms/#847" class="InductiveConstructor">⊤</a>
<a id="5348" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5358" class="Symbol">(</a><a id="5359" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5361" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a><a id="5362" class="Symbol">)</a> <a id="5364" class="Symbol">=</a> <a id="5366" href="/lia/part1/NormalForms/#860" class="InductiveConstructor">⊥</a>
<a id="5368" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5378" class="Symbol">(</a><a id="5379" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5381" class="Symbol">(</a><a id="5382" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="5384" href="/lia/part1/NormalForms/#5384" class="Bound">p</a><a id="5385" class="Symbol">))</a> <a id="5388" class="Symbol">=</a> <a id="5390" href="/lia/part1/NormalForms/#908" class="InductiveConstructor Operator">¬`</a> <a id="5393" href="/lia/part1/NormalForms/#5384" class="Bound">p</a>
<a id="5395" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5405" class="Symbol">(</a><a id="5406" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5408" class="Symbol">(</a><a id="5409" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5411" href="/lia/part1/NormalForms/#5411" class="Bound">φ</a><a id="5412" class="Symbol">))</a> <a id="5415" class="Symbol">=</a> <a id="5417" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5427" href="/lia/part1/NormalForms/#5411" class="Bound">φ</a>
<a id="5429" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5439" class="Symbol">(</a><a id="5440" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5442" class="Symbol">(</a><a id="5443" href="/lia/part1/NormalForms/#5443" class="Bound">φ</a> <a id="5445" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="5447" href="/lia/part1/NormalForms/#5447" class="Bound">ψ</a><a id="5448" class="Symbol">))</a> <a id="5451" class="Symbol">=</a> <a id="5453" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5463" class="Symbol">(</a><a id="5464" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5466" href="/lia/part1/NormalForms/#5443" class="Bound">φ</a><a id="5467" class="Symbol">)</a> <a id="5469" href="/lia/part1/NormalForms/#946" class="InductiveConstructor Operator">∧</a> <a id="5471" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5481" class="Symbol">(</a><a id="5482" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5484" href="/lia/part1/NormalForms/#5447" class="Bound">ψ</a><a id="5485" class="Symbol">)</a>
<a id="5487" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5497" class="Symbol">(</a><a id="5498" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5500" class="Symbol">(</a><a id="5501" href="/lia/part1/NormalForms/#5501" class="Bound">φ</a> <a id="5503" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="5505" href="/lia/part1/NormalForms/#5505" class="Bound">ψ</a><a id="5506" class="Symbol">))</a> <a id="5509" class="Symbol">=</a> <a id="5511" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5521" class="Symbol">(</a><a id="5522" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5524" href="/lia/part1/NormalForms/#5501" class="Bound">φ</a><a id="5525" class="Symbol">)</a> <a id="5527" href="/lia/part1/NormalForms/#985" class="InductiveConstructor Operator">∨</a> <a id="5529" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5539" class="Symbol">(</a><a id="5540" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5542" href="/lia/part1/NormalForms/#5505" class="Bound">ψ</a><a id="5543" class="Symbol">)</a>
<a id="5545" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5555" class="Symbol">(</a><a id="5556" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5558" class="Symbol">(</a><a id="5559" href="/lia/part1/NormalForms/#5559" class="Bound">φ</a> <a id="5561" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="5563" href="/lia/part1/NormalForms/#5563" class="Bound">ψ</a><a id="5564" class="Symbol">))</a> <a id="5567" class="Symbol">=</a> <a id="5569" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5579" href="/lia/part1/NormalForms/#5559" class="Bound">φ</a> <a id="5581" href="/lia/part1/NormalForms/#946" class="InductiveConstructor Operator">∧</a> <a id="5583" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5593" class="Symbol">(</a><a id="5594" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5596" href="/lia/part1/NormalForms/#5563" class="Bound">ψ</a><a id="5597" class="Symbol">)</a>
<a id="5599" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5609" class="Symbol">(</a><a id="5610" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5612" class="Symbol">(</a><a id="5613" href="/lia/part1/NormalForms/#5613" class="Bound">φ</a> <a id="5615" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="5617" href="/lia/part1/NormalForms/#5617" class="Bound">ψ</a><a id="5618" class="Symbol">))</a> <a id="5621" class="Symbol">=</a> <a id="5623" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5633" href="/lia/part1/NormalForms/#5613" class="Bound">φ</a> <a id="5635" href="/lia/part1/NormalForms/#1063" class="InductiveConstructor Operator">⇔</a> <a id="5637" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5647" class="Symbol">(</a><a id="5648" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="5650" href="/lia/part1/NormalForms/#5617" class="Bound">ψ</a><a id="5651" class="Symbol">)</a>
<a id="5653" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5663" class="Symbol">(</a><a id="5664" href="/lia/part1/NormalForms/#5664" class="Bound">φ</a> <a id="5666" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="5668" href="/lia/part1/NormalForms/#5668" class="Bound">ψ</a><a id="5669" class="Symbol">)</a> <a id="5671" class="Symbol">=</a> <a id="5673" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5683" href="/lia/part1/NormalForms/#5664" class="Bound">φ</a> <a id="5685" href="/lia/part1/NormalForms/#985" class="InductiveConstructor Operator">∨</a> <a id="5687" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5697" href="/lia/part1/NormalForms/#5668" class="Bound">ψ</a>
<a id="5699" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5709" class="Symbol">(</a><a id="5710" href="/lia/part1/NormalForms/#5710" class="Bound">φ</a> <a id="5712" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="5714" href="/lia/part1/NormalForms/#5714" class="Bound">ψ</a><a id="5715" class="Symbol">)</a> <a id="5717" class="Symbol">=</a> <a id="5719" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5729" href="/lia/part1/NormalForms/#5710" class="Bound">φ</a> <a id="5731" href="/lia/part1/NormalForms/#946" class="InductiveConstructor Operator">∧</a> <a id="5733" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5743" href="/lia/part1/NormalForms/#5714" class="Bound">ψ</a>
<a id="5745" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5755" class="Symbol">(</a><a id="5756" href="/lia/part1/NormalForms/#5756" class="Bound">φ</a> <a id="5758" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="5760" href="/lia/part1/NormalForms/#5760" class="Bound">ψ</a><a id="5761" class="Symbol">)</a> <a id="5763" class="Symbol">=</a> <a id="5765" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5775" href="/lia/part1/NormalForms/#5756" class="Bound">φ</a> <a id="5777" href="/lia/part1/NormalForms/#1024" class="InductiveConstructor Operator">⇒</a> <a id="5779" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5789" href="/lia/part1/NormalForms/#5760" class="Bound">ψ</a>
<a id="5791" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5801" class="Symbol">(</a><a id="5802" href="/lia/part1/NormalForms/#5802" class="Bound">φ</a> <a id="5804" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="5806" href="/lia/part1/NormalForms/#5806" class="Bound">ψ</a><a id="5807" class="Symbol">)</a> <a id="5809" class="Symbol">=</a> <a id="5811" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5821" href="/lia/part1/NormalForms/#5802" class="Bound">φ</a> <a id="5823" href="/lia/part1/NormalForms/#1063" class="InductiveConstructor Operator">⇔</a> <a id="5825" href="/lia/part1/NormalForms/#4994" class="Function">wnnf-WNNF</a> <a id="5835" href="/lia/part1/NormalForms/#5806" class="Bound">ψ</a></pre>

</div>

<h3 id="soundness">Soundness</h3>

<p>The proof of soundess is conceptually simple and it is based on the
double negation and de Morgan’s laws. The only difficulty is posed by
the termination checker.</p>

<p>The most immediate way to prove soundness would be to mimick the
recursive structure of <a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a> as follows:</p>

<pre class="Agda"><a id="6147" class="Symbol">{-#</a> <a id="6151" class="Keyword">TERMINATING</a> <a id="6163" class="Symbol">#-}</a>
<a id="wnnf-sound'"></a><a id="6167" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6179" class="Symbol">:</a> <a id="6181" class="Symbol">∀</a> <a id="6183" href="/lia/part1/NormalForms/#6183" class="Bound">φ</a> <a id="6185" class="Symbol">→</a> <a id="6187" href="/lia/part1/NormalForms/#6183" class="Bound">φ</a> <a id="6189" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="6191" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="6196" href="/lia/part1/NormalForms/#6183" class="Bound">φ</a>

<a id="6199" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6211" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="6213" href="/lia/part1/NormalForms/#6213" class="Bound">ϱ</a> <a id="6215" class="Symbol">=</a> <a id="6217" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="6222" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6234" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="6236" href="/lia/part1/NormalForms/#6236" class="Bound">ϱ</a> <a id="6238" class="Symbol">=</a> <a id="6240" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="6245" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6257" class="Symbol">(</a><a id="6258" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="6260" href="/lia/part1/NormalForms/#6260" class="Bound">p</a><a id="6261" class="Symbol">)</a> <a id="6263" href="/lia/part1/NormalForms/#6263" class="Bound">ϱ</a> <a id="6265" class="Symbol">=</a> <a id="6267" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="6272" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6284" class="Symbol">(</a><a id="6285" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="6287" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a><a id="6288" class="Symbol">)</a> <a id="6290" href="/lia/part1/NormalForms/#6290" class="Bound">ϱ</a> <a id="6292" class="Symbol">=</a> <a id="6294" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="6299" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6311" class="Symbol">(</a><a id="6312" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="6314" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a><a id="6315" class="Symbol">)</a> <a id="6317" href="/lia/part1/NormalForms/#6317" class="Bound">ϱ</a> <a id="6319" class="Symbol">=</a> <a id="6321" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="6326" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6338" class="Symbol">(</a><a id="6339" href="/lia/part1/NormalForms/#6339" class="Bound">φ</a> <a id="6341" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="6343" href="/lia/part1/NormalForms/#6343" class="Bound">ψ</a><a id="6344" class="Symbol">)</a> <a id="6346" href="/lia/part1/NormalForms/#6346" class="Bound">ϱ</a>
  <a id="6350" class="Keyword">rewrite</a> <a id="6358" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6370" href="/lia/part1/NormalForms/#6339" class="Bound">φ</a> <a id="6372" href="/lia/part1/NormalForms/#6346" class="Bound">ϱ</a> <a id="6374" class="Symbol">|</a>
          <a id="6386" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6398" href="/lia/part1/NormalForms/#6343" class="Bound">ψ</a> <a id="6400" href="/lia/part1/NormalForms/#6346" class="Bound">ϱ</a> <a id="6402" class="Symbol">=</a> <a id="6404" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
          
<a id="6420" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6432" class="Symbol">(</a><a id="6433" href="/lia/part1/NormalForms/#6433" class="Bound">φ</a> <a id="6435" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="6437" href="/lia/part1/NormalForms/#6437" class="Bound">ψ</a><a id="6438" class="Symbol">)</a> <a id="6440" href="/lia/part1/NormalForms/#6440" class="Bound">ϱ</a>
  <a id="6444" class="Keyword">rewrite</a> <a id="6452" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6464" href="/lia/part1/NormalForms/#6433" class="Bound">φ</a> <a id="6466" href="/lia/part1/NormalForms/#6440" class="Bound">ϱ</a> <a id="6468" class="Symbol">|</a>
          <a id="6480" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6492" href="/lia/part1/NormalForms/#6437" class="Bound">ψ</a> <a id="6494" href="/lia/part1/NormalForms/#6440" class="Bound">ϱ</a> <a id="6496" class="Symbol">=</a> <a id="6498" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
          
<a id="6514" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6526" class="Symbol">(</a><a id="6527" href="/lia/part1/NormalForms/#6527" class="Bound">φ</a> <a id="6529" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="6531" href="/lia/part1/NormalForms/#6531" class="Bound">ψ</a><a id="6532" class="Symbol">)</a> <a id="6534" href="/lia/part1/NormalForms/#6534" class="Bound">ϱ</a>
  <a id="6538" class="Keyword">rewrite</a> <a id="6546" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6558" href="/lia/part1/NormalForms/#6527" class="Bound">φ</a> <a id="6560" href="/lia/part1/NormalForms/#6534" class="Bound">ϱ</a> <a id="6562" class="Symbol">|</a>
          <a id="6574" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6586" href="/lia/part1/NormalForms/#6531" class="Bound">ψ</a> <a id="6588" href="/lia/part1/NormalForms/#6534" class="Bound">ϱ</a> <a id="6590" class="Symbol">=</a> <a id="6592" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
          
<a id="6608" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6620" class="Symbol">(</a><a id="6621" href="/lia/part1/NormalForms/#6621" class="Bound">φ</a> <a id="6623" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="6625" href="/lia/part1/NormalForms/#6625" class="Bound">ψ</a><a id="6626" class="Symbol">)</a> <a id="6628" href="/lia/part1/NormalForms/#6628" class="Bound">ϱ</a>
  <a id="6632" class="Keyword">rewrite</a> <a id="6640" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6652" href="/lia/part1/NormalForms/#6621" class="Bound">φ</a> <a id="6654" href="/lia/part1/NormalForms/#6628" class="Bound">ϱ</a> <a id="6656" class="Symbol">|</a>
          <a id="6668" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6680" href="/lia/part1/NormalForms/#6625" class="Bound">ψ</a> <a id="6682" href="/lia/part1/NormalForms/#6628" class="Bound">ϱ</a> <a id="6684" class="Symbol">=</a> <a id="6686" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
          
<a id="6702" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6714" class="Symbol">(</a><a id="6715" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="6717" class="Symbol">(</a><a id="6718" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="6720" href="/lia/part1/NormalForms/#6720" class="Bound">p</a><a id="6721" class="Symbol">))</a> <a id="6724" href="/lia/part1/NormalForms/#6724" class="Bound">ϱ</a> <a id="6726" class="Symbol">=</a> <a id="6728" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="6733" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6745" class="Symbol">(</a><a id="6746" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="6748" class="Symbol">(</a><a id="6749" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="6751" href="/lia/part1/NormalForms/#6751" class="Bound">φ</a><a id="6752" class="Symbol">))</a> <a id="6755" href="/lia/part1/NormalForms/#6755" class="Bound">ϱ</a>
  <a id="6759" class="Keyword">rewrite</a> <a id="6767" href="/lia/part1/Semantics/#31215" class="Function">doubleNegationLaw</a> <a id="6785" href="/lia/part1/NormalForms/#6751" class="Bound">φ</a> <a id="6787" href="/lia/part1/NormalForms/#6755" class="Bound">ϱ</a> <a id="6789" class="Symbol">|</a>
          <a id="6801" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6813" href="/lia/part1/NormalForms/#6751" class="Bound">φ</a> <a id="6815" href="/lia/part1/NormalForms/#6755" class="Bound">ϱ</a> <a id="6817" class="Symbol">=</a> <a id="6819" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="6827" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6839" class="Symbol">(</a><a id="6840" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="6842" class="Symbol">(</a><a id="6843" href="/lia/part1/NormalForms/#6843" class="Bound">φ</a> <a id="6845" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="6847" href="/lia/part1/NormalForms/#6847" class="Bound">ψ</a><a id="6848" class="Symbol">))</a> <a id="6851" href="/lia/part1/NormalForms/#6851" class="Bound">ϱ</a>
   <a id="6856" class="Keyword">rewrite</a> <a id="6864" href="/lia/part1/Semantics/#31295" class="Function">deMorganOr</a> <a id="6875" href="/lia/part1/NormalForms/#6843" class="Bound">φ</a> <a id="6877" href="/lia/part1/NormalForms/#6847" class="Bound">ψ</a> <a id="6879" href="/lia/part1/NormalForms/#6851" class="Bound">ϱ</a> <a id="6881" class="Symbol">|</a>
           <a id="6894" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6906" class="Symbol">(</a><a id="6907" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="6909" href="/lia/part1/NormalForms/#6843" class="Bound">φ</a><a id="6910" class="Symbol">)</a> <a id="6912" href="/lia/part1/NormalForms/#6851" class="Bound">ϱ</a> <a id="6914" class="Symbol">|</a>
           <a id="6927" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="6939" class="Symbol">(</a><a id="6940" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="6942" href="/lia/part1/NormalForms/#6847" class="Bound">ψ</a><a id="6943" class="Symbol">)</a> <a id="6945" href="/lia/part1/NormalForms/#6851" class="Bound">ϱ</a> <a id="6947" class="Symbol">=</a> <a id="6949" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a> <a id="6954" class="Comment">-- termination issue (*)</a>
           
<a id="6991" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="7003" class="Symbol">(</a><a id="7004" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="7006" class="Symbol">(</a><a id="7007" href="/lia/part1/NormalForms/#7007" class="Bound">φ</a> <a id="7009" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="7011" href="/lia/part1/NormalForms/#7011" class="Bound">ψ</a><a id="7012" class="Symbol">))</a> <a id="7015" href="/lia/part1/NormalForms/#7015" class="Bound">ϱ</a>
   <a id="7020" class="Keyword">rewrite</a> <a id="7028" href="/lia/part1/Semantics/#31251" class="Function">deMorganAnd</a> <a id="7040" href="/lia/part1/NormalForms/#7007" class="Bound">φ</a> <a id="7042" href="/lia/part1/NormalForms/#7011" class="Bound">ψ</a> <a id="7044" href="/lia/part1/NormalForms/#7015" class="Bound">ϱ</a> <a id="7046" class="Symbol">|</a>
           <a id="7059" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="7071" class="Symbol">(</a><a id="7072" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="7074" href="/lia/part1/NormalForms/#7007" class="Bound">φ</a><a id="7075" class="Symbol">)</a> <a id="7077" href="/lia/part1/NormalForms/#7015" class="Bound">ϱ</a> <a id="7079" class="Symbol">|</a>
           <a id="7092" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="7104" class="Symbol">(</a><a id="7105" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="7107" href="/lia/part1/NormalForms/#7011" class="Bound">ψ</a><a id="7108" class="Symbol">)</a> <a id="7110" href="/lia/part1/NormalForms/#7015" class="Bound">ϱ</a> <a id="7112" class="Symbol">=</a> <a id="7114" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="7120" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="7132" class="Symbol">(</a><a id="7133" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="7135" class="Symbol">(</a><a id="7136" href="/lia/part1/NormalForms/#7136" class="Bound">φ</a> <a id="7138" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="7140" href="/lia/part1/NormalForms/#7140" class="Bound">ψ</a><a id="7141" class="Symbol">))</a> <a id="7144" href="/lia/part1/NormalForms/#7144" class="Bound">ϱ</a>
   <a id="7149" class="Keyword">rewrite</a> <a id="7157" href="/lia/part1/Semantics/#31385" class="Function">deMorganImplies</a> <a id="7173" href="/lia/part1/NormalForms/#7136" class="Bound">φ</a> <a id="7175" href="/lia/part1/NormalForms/#7140" class="Bound">ψ</a> <a id="7177" href="/lia/part1/NormalForms/#7144" class="Bound">ϱ</a> <a id="7179" class="Symbol">|</a>
           <a id="7192" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="7204" href="/lia/part1/NormalForms/#7136" class="Bound">φ</a> <a id="7206" href="/lia/part1/NormalForms/#7144" class="Bound">ϱ</a> <a id="7208" class="Symbol">|</a>
           <a id="7221" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="7233" class="Symbol">(</a><a id="7234" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="7236" href="/lia/part1/NormalForms/#7140" class="Bound">ψ</a><a id="7237" class="Symbol">)</a> <a id="7239" href="/lia/part1/NormalForms/#7144" class="Bound">ϱ</a> <a id="7241" class="Symbol">=</a> <a id="7243" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="7249" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="7261" class="Symbol">(</a><a id="7262" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="7264" class="Symbol">(</a><a id="7265" href="/lia/part1/NormalForms/#7265" class="Bound">φ</a> <a id="7267" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="7269" href="/lia/part1/NormalForms/#7269" class="Bound">ψ</a><a id="7270" class="Symbol">))</a> <a id="7273" href="/lia/part1/NormalForms/#7273" class="Bound">ϱ</a>
   <a id="7278" class="Keyword">rewrite</a> <a id="7286" href="/lia/part1/Semantics/#31478" class="Function">deMorganIff-right</a> <a id="7304" href="/lia/part1/NormalForms/#7265" class="Bound">φ</a> <a id="7306" href="/lia/part1/NormalForms/#7269" class="Bound">ψ</a> <a id="7308" href="/lia/part1/NormalForms/#7273" class="Bound">ϱ</a> <a id="7310" class="Symbol">|</a>
           <a id="7323" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="7335" href="/lia/part1/NormalForms/#7265" class="Bound">φ</a> <a id="7337" href="/lia/part1/NormalForms/#7273" class="Bound">ϱ</a> <a id="7339" class="Symbol">|</a>
           <a id="7352" href="/lia/part1/NormalForms/#6167" class="Function">wnnf-sound'</a> <a id="7364" class="Symbol">(</a><a id="7365" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="7367" href="/lia/part1/NormalForms/#7269" class="Bound">ψ</a><a id="7368" class="Symbol">)</a> <a id="7370" href="/lia/part1/NormalForms/#7273" class="Bound">ϱ</a> <a id="7372" class="Symbol">=</a> <a id="7374" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<p>The <code class="language-plaintext highlighter-rouge">TERMINATING</code> pragma instructs Agda to accept this definition even
if it is not proved terminating by the termination checker. (In this way
we do not need to comment out the code.) This can be verified by
commenting out the pragma, wereby the termination checker will complain
about the recursive invocation marked by <code class="language-plaintext highlighter-rouge">(*)</code> above. It is surprising
that the termination checker cannot establish that
<a href="#wnnf-sound'"><code class="language-plaintext highlighter-rouge">wnnf-sound'</code></a> is terminating (which indeed it is), since
it has the same recursive structure as <a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a> , which is
established terminating.</p>

<p>We need to find a way to convince the termination checker. A simple
work-around with negligible notational overhead is to split the
soundness proof in two parts:</p>

<pre class="Agda"><a id="wnnf-sound"></a><a id="8102" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8113" class="Symbol">:</a> <a id="8115" class="Symbol">∀</a> <a id="8117" href="/lia/part1/NormalForms/#8117" class="Bound">φ</a> <a id="8119" class="Symbol">→</a> <a id="8121" href="/lia/part1/NormalForms/#8117" class="Bound">φ</a> <a id="8123" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="8125" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="8130" href="/lia/part1/NormalForms/#8117" class="Bound">φ</a>
<a id="wnnf¬-sound"></a><a id="8132" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="8144" class="Symbol">:</a> <a id="8146" class="Symbol">∀</a> <a id="8148" href="/lia/part1/NormalForms/#8148" class="Bound">φ</a> <a id="8150" class="Symbol">→</a> <a id="8152" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="8154" href="/lia/part1/NormalForms/#8148" class="Bound">φ</a> <a id="8156" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="8158" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="8163" class="Symbol">(</a><a id="8164" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="8166" href="/lia/part1/NormalForms/#8148" class="Bound">φ</a><a id="8167" class="Symbol">)</a></pre>

<p>where the second part takes care of negated formulas. With this
“division of duties” approach, we can comfortably write the following
mutually recursive definitions:</p>

<pre class="Agda"><a id="8345" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8356" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="8358" href="/lia/part1/NormalForms/#8358" class="Bound">ϱ</a> <a id="8360" class="Symbol">=</a> <a id="8362" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8367" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8378" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="8380" href="/lia/part1/NormalForms/#8380" class="Bound">ϱ</a> <a id="8382" class="Symbol">=</a> <a id="8384" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8389" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8400" class="Symbol">(</a><a id="8401" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="8403" href="/lia/part1/NormalForms/#8403" class="Bound">p</a><a id="8404" class="Symbol">)</a> <a id="8406" href="/lia/part1/NormalForms/#8406" class="Bound">ϱ</a> <a id="8408" class="Symbol">=</a> <a id="8410" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8415" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8426" class="Symbol">(</a><a id="8427" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="8429" href="/lia/part1/NormalForms/#8429" class="Bound">φ</a><a id="8430" class="Symbol">)</a> <a id="8432" class="Symbol">=</a> <a id="8434" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="8446" href="/lia/part1/NormalForms/#8429" class="Bound">φ</a>
<a id="8448" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8459" class="Symbol">(</a><a id="8460" href="/lia/part1/NormalForms/#8460" class="Bound">φ</a> <a id="8462" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="8464" href="/lia/part1/NormalForms/#8464" class="Bound">ψ</a><a id="8465" class="Symbol">)</a> <a id="8467" href="/lia/part1/NormalForms/#8467" class="Bound">ϱ</a>
  <a id="8471" class="Keyword">rewrite</a> <a id="8479" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8490" href="/lia/part1/NormalForms/#8460" class="Bound">φ</a> <a id="8492" href="/lia/part1/NormalForms/#8467" class="Bound">ϱ</a> <a id="8494" class="Symbol">|</a>
          <a id="8506" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8517" href="/lia/part1/NormalForms/#8464" class="Bound">ψ</a> <a id="8519" href="/lia/part1/NormalForms/#8467" class="Bound">ϱ</a> <a id="8521" class="Symbol">=</a> <a id="8523" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8528" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8539" class="Symbol">(</a><a id="8540" href="/lia/part1/NormalForms/#8540" class="Bound">φ</a> <a id="8542" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="8544" href="/lia/part1/NormalForms/#8544" class="Bound">ψ</a><a id="8545" class="Symbol">)</a> <a id="8547" href="/lia/part1/NormalForms/#8547" class="Bound">ϱ</a>
  <a id="8551" class="Keyword">rewrite</a> <a id="8559" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8570" href="/lia/part1/NormalForms/#8540" class="Bound">φ</a> <a id="8572" href="/lia/part1/NormalForms/#8547" class="Bound">ϱ</a> <a id="8574" class="Symbol">|</a>
          <a id="8586" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8597" href="/lia/part1/NormalForms/#8544" class="Bound">ψ</a> <a id="8599" href="/lia/part1/NormalForms/#8547" class="Bound">ϱ</a> <a id="8601" class="Symbol">=</a> <a id="8603" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8608" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8619" class="Symbol">(</a><a id="8620" href="/lia/part1/NormalForms/#8620" class="Bound">φ</a> <a id="8622" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="8624" href="/lia/part1/NormalForms/#8624" class="Bound">ψ</a><a id="8625" class="Symbol">)</a> <a id="8627" href="/lia/part1/NormalForms/#8627" class="Bound">ϱ</a>
  <a id="8631" class="Keyword">rewrite</a> <a id="8639" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8650" href="/lia/part1/NormalForms/#8620" class="Bound">φ</a> <a id="8652" href="/lia/part1/NormalForms/#8627" class="Bound">ϱ</a> <a id="8654" class="Symbol">|</a>
          <a id="8666" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8677" href="/lia/part1/NormalForms/#8624" class="Bound">ψ</a> <a id="8679" href="/lia/part1/NormalForms/#8627" class="Bound">ϱ</a> <a id="8681" class="Symbol">=</a> <a id="8683" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8688" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8699" class="Symbol">(</a><a id="8700" href="/lia/part1/NormalForms/#8700" class="Bound">φ</a> <a id="8702" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="8704" href="/lia/part1/NormalForms/#8704" class="Bound">ψ</a><a id="8705" class="Symbol">)</a> <a id="8707" href="/lia/part1/NormalForms/#8707" class="Bound">ϱ</a>
  <a id="8711" class="Keyword">rewrite</a> <a id="8719" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8730" href="/lia/part1/NormalForms/#8700" class="Bound">φ</a> <a id="8732" href="/lia/part1/NormalForms/#8707" class="Bound">ϱ</a> <a id="8734" class="Symbol">|</a>
          <a id="8746" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8757" href="/lia/part1/NormalForms/#8704" class="Bound">ψ</a> <a id="8759" href="/lia/part1/NormalForms/#8707" class="Bound">ϱ</a> <a id="8761" class="Symbol">=</a> <a id="8763" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<p>and</p>

<pre class="Agda"><a id="8782" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="8794" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="8796" href="/lia/part1/NormalForms/#8796" class="Bound">ϱ</a> <a id="8798" class="Symbol">=</a> <a id="8800" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8805" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="8817" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="8819" href="/lia/part1/NormalForms/#8819" class="Bound">ϱ</a> <a id="8821" class="Symbol">=</a> <a id="8823" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8828" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="8840" class="Symbol">(</a><a id="8841" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="8843" href="/lia/part1/NormalForms/#8843" class="Bound">p</a><a id="8844" class="Symbol">)</a> <a id="8846" href="/lia/part1/NormalForms/#8846" class="Bound">ϱ</a> <a id="8848" class="Symbol">=</a> <a id="8850" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="8855" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="8867" class="Symbol">(</a><a id="8868" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="8870" href="/lia/part1/NormalForms/#8870" class="Bound">φ</a><a id="8871" class="Symbol">)</a> <a id="8873" href="/lia/part1/NormalForms/#8873" class="Bound">ϱ</a> 
  <a id="8878" class="Keyword">rewrite</a> <a id="8886" href="/lia/part1/Semantics/#31215" class="Function">doubleNegationLaw</a> <a id="8904" href="/lia/part1/NormalForms/#8870" class="Bound">φ</a> <a id="8906" href="/lia/part1/NormalForms/#8873" class="Bound">ϱ</a> <a id="8908" class="Symbol">|</a>
          <a id="8920" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="8931" href="/lia/part1/NormalForms/#8870" class="Bound">φ</a> <a id="8933" href="/lia/part1/NormalForms/#8873" class="Bound">ϱ</a> <a id="8935" class="Symbol">=</a> <a id="8937" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="8945" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="8957" class="Symbol">(</a><a id="8958" href="/lia/part1/NormalForms/#8958" class="Bound">φ</a> <a id="8960" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="8962" href="/lia/part1/NormalForms/#8962" class="Bound">ψ</a><a id="8963" class="Symbol">)</a> <a id="8965" href="/lia/part1/NormalForms/#8965" class="Bound">ϱ</a>
  <a id="8969" class="Keyword">rewrite</a> <a id="8977" href="/lia/part1/Semantics/#31295" class="Function">deMorganOr</a> <a id="8988" href="/lia/part1/NormalForms/#8958" class="Bound">φ</a> <a id="8990" href="/lia/part1/NormalForms/#8962" class="Bound">ψ</a> <a id="8992" href="/lia/part1/NormalForms/#8965" class="Bound">ϱ</a> <a id="8994" class="Symbol">|</a>
          <a id="9006" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="9018" href="/lia/part1/NormalForms/#8958" class="Bound">φ</a> <a id="9020" href="/lia/part1/NormalForms/#8965" class="Bound">ϱ</a> <a id="9022" class="Symbol">|</a>
          <a id="9034" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="9046" href="/lia/part1/NormalForms/#8962" class="Bound">ψ</a> <a id="9048" href="/lia/part1/NormalForms/#8965" class="Bound">ϱ</a> <a id="9050" class="Symbol">=</a> <a id="9052" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
          
<a id="9068" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="9080" class="Symbol">(</a><a id="9081" href="/lia/part1/NormalForms/#9081" class="Bound">φ</a> <a id="9083" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="9085" href="/lia/part1/NormalForms/#9085" class="Bound">ψ</a><a id="9086" class="Symbol">)</a> <a id="9088" href="/lia/part1/NormalForms/#9088" class="Bound">ϱ</a>
  <a id="9092" class="Keyword">rewrite</a> <a id="9100" href="/lia/part1/Semantics/#31251" class="Function">deMorganAnd</a> <a id="9112" href="/lia/part1/NormalForms/#9081" class="Bound">φ</a> <a id="9114" href="/lia/part1/NormalForms/#9085" class="Bound">ψ</a> <a id="9116" href="/lia/part1/NormalForms/#9088" class="Bound">ϱ</a> <a id="9118" class="Symbol">|</a>
          <a id="9130" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="9142" href="/lia/part1/NormalForms/#9081" class="Bound">φ</a> <a id="9144" href="/lia/part1/NormalForms/#9088" class="Bound">ϱ</a> <a id="9146" class="Symbol">|</a>
          <a id="9158" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="9170" href="/lia/part1/NormalForms/#9085" class="Bound">ψ</a> <a id="9172" href="/lia/part1/NormalForms/#9088" class="Bound">ϱ</a> <a id="9174" class="Symbol">=</a> <a id="9176" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="9182" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="9194" class="Symbol">(</a><a id="9195" href="/lia/part1/NormalForms/#9195" class="Bound">φ</a> <a id="9197" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="9199" href="/lia/part1/NormalForms/#9199" class="Bound">ψ</a><a id="9200" class="Symbol">)</a> <a id="9202" href="/lia/part1/NormalForms/#9202" class="Bound">ϱ</a>
  <a id="9206" class="Keyword">rewrite</a> <a id="9214" href="/lia/part1/Semantics/#31385" class="Function">deMorganImplies</a> <a id="9230" href="/lia/part1/NormalForms/#9195" class="Bound">φ</a> <a id="9232" href="/lia/part1/NormalForms/#9199" class="Bound">ψ</a> <a id="9234" href="/lia/part1/NormalForms/#9202" class="Bound">ϱ</a> <a id="9236" class="Symbol">|</a>
          <a id="9248" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="9259" href="/lia/part1/NormalForms/#9195" class="Bound">φ</a> <a id="9261" href="/lia/part1/NormalForms/#9202" class="Bound">ϱ</a> <a id="9263" class="Symbol">|</a>
          <a id="9275" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="9287" href="/lia/part1/NormalForms/#9199" class="Bound">ψ</a> <a id="9289" href="/lia/part1/NormalForms/#9202" class="Bound">ϱ</a> <a id="9291" class="Symbol">=</a> <a id="9293" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="9299" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="9311" class="Symbol">(</a><a id="9312" href="/lia/part1/NormalForms/#9312" class="Bound">φ</a> <a id="9314" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="9316" href="/lia/part1/NormalForms/#9316" class="Bound">ψ</a><a id="9317" class="Symbol">)</a> <a id="9319" href="/lia/part1/NormalForms/#9319" class="Bound">ϱ</a>
  <a id="9323" class="Keyword">rewrite</a> <a id="9331" href="/lia/part1/Semantics/#31478" class="Function">deMorganIff-right</a> <a id="9349" href="/lia/part1/NormalForms/#9312" class="Bound">φ</a> <a id="9351" href="/lia/part1/NormalForms/#9316" class="Bound">ψ</a> <a id="9353" href="/lia/part1/NormalForms/#9319" class="Bound">ϱ</a> <a id="9355" class="Symbol">|</a>
          <a id="9367" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="9378" href="/lia/part1/NormalForms/#9312" class="Bound">φ</a> <a id="9380" href="/lia/part1/NormalForms/#9319" class="Bound">ϱ</a> <a id="9382" class="Symbol">|</a>
          <a id="9394" href="/lia/part1/NormalForms/#8132" class="Function">wnnf¬-sound</a> <a id="9406" href="/lia/part1/NormalForms/#9316" class="Bound">ψ</a> <a id="9408" href="/lia/part1/NormalForms/#9319" class="Bound">ϱ</a> <a id="9410" class="Symbol">=</a> <a id="9412" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<h2 id="internal-verification">
<a class="anchor" href="#internal-verification" aria-hidden="true"><span class="octicon octicon-link"></span></a>Internal verification</h2>

<p>An alternative approach is to the define the WNNF transformation and its
correctness proof as a single recursive definition:</p>

<pre class="Agda"><a id="wnnf′"></a><a id="9578" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="9584" class="Symbol">:</a> <a id="9586" href="/lia/part0/Logic/#216" class="Function">∀[</a> <a id="9589" href="/lia/part1/NormalForms/#9589" class="Bound">φ</a> <a id="9591" href="/lia/part0/Logic/#216" class="Function">]</a> <a id="9593" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="9596" href="/lia/part1/NormalForms/#9596" class="Bound">ψ</a> <a id="9598" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="9600" href="/lia/part1/NormalForms/#818" class="Datatype">WNNF</a> <a id="9605" href="/lia/part1/NormalForms/#9596" class="Bound">ψ</a> <a id="9607" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="9609" href="/lia/part1/NormalForms/#9589" class="Bound">φ</a> <a id="9611" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="9613" href="/lia/part1/NormalForms/#9596" class="Bound">ψ</a></pre>

<div class="introbox">

  <p>This has the advantage of solving the termination problem highlighted
above. One disadvantage is that in contexts where we need just the WNNF
formula, but not its correctness proof, we cannot write just <code class="language-plaintext highlighter-rouge">wnnf φ</code>,
but we would need to write the less transparent <code class="language-plaintext highlighter-rouge">dfst (wnnf' φ)</code>. For
this reason, in this section we have preferred an approach where the
definition of WNNF and its correctness proof are given separately,
however it is interesting to compare it to the case where they are given
together. This style of programming is sometimes called <em>internal
verification</em>. <button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="10218" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10224" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="10226" class="Symbol">=</a> <a id="10228" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="10230" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10232" href="/lia/part1/NormalForms/#860" class="InductiveConstructor">⊥</a> <a id="10234" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10236" class="Symbol">λ</a> <a id="10238" href="/lia/part1/NormalForms/#10238" class="Bound">ϱ</a> <a id="10240" class="Symbol">→</a> <a id="10242" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="10247" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10253" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="10255" class="Symbol">=</a> <a id="10257" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="10259" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10261" href="/lia/part1/NormalForms/#847" class="InductiveConstructor">⊤</a> <a id="10263" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10265" class="Symbol">λ</a> <a id="10267" href="/lia/part1/NormalForms/#10267" class="Bound">ϱ</a> <a id="10269" class="Symbol">→</a> <a id="10271" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="10276" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10282" class="Symbol">(</a><a id="10283" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="10285" href="/lia/part1/NormalForms/#10285" class="Bound">p</a><a id="10286" class="Symbol">)</a> <a id="10288" class="Symbol">=</a> <a id="10290" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="10292" href="/lia/part1/NormalForms/#10285" class="Bound">p</a> <a id="10294" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10296" href="/lia/part1/NormalForms/#873" class="InductiveConstructor Operator">`</a> <a id="10298" href="/lia/part1/NormalForms/#10285" class="Bound">p</a> <a id="10300" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10302" class="Symbol">λ</a> <a id="10304" href="/lia/part1/NormalForms/#10304" class="Bound">ϱ</a> <a id="10306" class="Symbol">→</a> <a id="10308" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="10313" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10319" class="Symbol">(</a><a id="10320" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10322" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a><a id="10323" class="Symbol">)</a> <a id="10325" class="Symbol">=</a> <a id="10327" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="10329" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10331" href="/lia/part1/NormalForms/#847" class="InductiveConstructor">⊤</a> <a id="10333" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10335" class="Symbol">λ</a> <a id="10337" href="/lia/part1/NormalForms/#10337" class="Bound">ϱ</a> <a id="10339" class="Symbol">→</a> <a id="10341" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="10346" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10352" class="Symbol">(</a><a id="10353" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10355" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a><a id="10356" class="Symbol">)</a> <a id="10358" class="Symbol">=</a> <a id="10360" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="10362" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10364" href="/lia/part1/NormalForms/#860" class="InductiveConstructor">⊥</a> <a id="10366" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10368" class="Symbol">λ</a> <a id="10370" href="/lia/part1/NormalForms/#10370" class="Bound">ϱ</a> <a id="10372" class="Symbol">→</a> <a id="10374" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="10379" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10385" class="Symbol">(</a><a id="10386" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10388" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="10390" href="/lia/part1/NormalForms/#10390" class="Bound">p</a><a id="10391" class="Symbol">)</a> <a id="10393" class="Symbol">=</a> <a id="10395" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10397" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="10399" href="/lia/part1/NormalForms/#10390" class="Bound">p</a> <a id="10401" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10403" href="/lia/part1/NormalForms/#908" class="InductiveConstructor Operator">¬`</a> <a id="10406" href="/lia/part1/NormalForms/#10390" class="Bound">p</a> <a id="10408" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10410" class="Symbol">λ</a> <a id="10412" href="/lia/part1/NormalForms/#10412" class="Bound">ϱ</a> <a id="10414" class="Symbol">→</a> <a id="10416" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="10422" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10428" class="Symbol">(</a><a id="10429" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10431" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10433" href="/lia/part1/NormalForms/#10433" class="Bound">φ</a><a id="10434" class="Symbol">)</a> <a id="10436" class="Keyword">with</a> <a id="10441" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10447" href="/lia/part1/NormalForms/#10433" class="Bound">φ</a>
<a id="10449" class="Symbol">...</a> <a id="10453" class="Symbol">|</a> <a id="10455" href="/lia/part1/NormalForms/#10455" class="Bound">ψ</a> <a id="10457" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10459" href="/lia/part1/NormalForms/#10459" class="Bound">WNNFψ</a> <a id="10465" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10467" href="/lia/part1/NormalForms/#10467" class="Bound">φ⟺ψ</a> <a id="10471" class="Symbol">=</a> <a id="10473" href="/lia/part1/NormalForms/#10455" class="Bound">ψ</a> <a id="10475" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10477" href="/lia/part1/NormalForms/#10459" class="Bound">WNNFψ</a> <a id="10483" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10485" href="/lia/part1/NormalForms/#10506" class="Function">correctness</a> <a id="10497" class="Keyword">where</a>

  <a id="10506" href="/lia/part1/NormalForms/#10506" class="Function">correctness</a> <a id="10518" class="Symbol">:</a> <a id="10520" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10522" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10524" class="Bound">φ</a> <a id="10526" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="10528" href="/lia/part1/NormalForms/#10455" class="Bound">ψ</a>
  <a id="10532" href="/lia/part1/NormalForms/#10506" class="Function">correctness</a> <a id="10544" href="/lia/part1/NormalForms/#10544" class="Bound">ϱ</a> <a id="10546" class="Keyword">rewrite</a> <a id="10554" href="/lia/part1/Semantics/#31215" class="Function">doubleNegationLaw</a> <a id="10572" class="Bound">φ</a> <a id="10574" href="/lia/part1/NormalForms/#10544" class="Bound">ϱ</a> <a id="10576" class="Symbol">|</a>
                        <a id="10602" href="/lia/part1/NormalForms/#10467" class="Bound">φ⟺ψ</a> <a id="10606" href="/lia/part1/NormalForms/#10544" class="Bound">ϱ</a> <a id="10608" class="Symbol">=</a> <a id="10610" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="10616" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10622" class="Symbol">(</a><a id="10623" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10625" class="Symbol">(</a><a id="10626" href="/lia/part1/NormalForms/#10626" class="Bound">φ₀</a> <a id="10629" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="10631" href="/lia/part1/NormalForms/#10631" class="Bound">φ₁</a><a id="10633" class="Symbol">))</a> <a id="10636" class="Keyword">with</a> <a id="10641" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10647" class="Symbol">(</a><a id="10648" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10650" href="/lia/part1/NormalForms/#10626" class="Bound">φ₀</a><a id="10652" class="Symbol">)</a> <a id="10654" class="Symbol">|</a> <a id="10656" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10662" class="Symbol">(</a><a id="10663" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10665" href="/lia/part1/NormalForms/#10631" class="Bound">φ₁</a><a id="10667" class="Symbol">)</a>
<a id="10669" class="Symbol">...</a> <a id="10673" class="Symbol">|</a> <a id="10675" href="/lia/part1/NormalForms/#10675" class="Bound">ψ₀</a> <a id="10678" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10680" href="/lia/part1/NormalForms/#10680" class="Bound">WNNFψ₀</a> <a id="10687" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10689" href="/lia/part1/NormalForms/#10689" class="Bound">φ₀⟺ψ₀</a>
    <a id="10699" class="Symbol">|</a> <a id="10701" href="/lia/part1/NormalForms/#10701" class="Bound">ψ₁</a> <a id="10704" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10706" href="/lia/part1/NormalForms/#10706" class="Bound">WNNFψ₁</a> <a id="10713" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10715" href="/lia/part1/NormalForms/#10715" class="Bound">φ₁⟺ψ₁</a> <a id="10721" class="Symbol">=</a> <a id="10723" href="/lia/part1/NormalForms/#10675" class="Bound">ψ₀</a> <a id="10726" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="10728" href="/lia/part1/NormalForms/#10701" class="Bound">ψ₁</a> <a id="10731" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10733" href="/lia/part1/NormalForms/#10680" class="Bound">WNNFψ₀</a> <a id="10740" href="/lia/part1/NormalForms/#946" class="InductiveConstructor Operator">∧</a> <a id="10742" href="/lia/part1/NormalForms/#10706" class="Bound">WNNFψ₁</a> <a id="10749" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="10751" href="/lia/part1/NormalForms/#10772" class="Function">correctness</a> <a id="10763" class="Keyword">where</a>

  <a id="10772" href="/lia/part1/NormalForms/#10772" class="Function">correctness</a> <a id="10784" class="Symbol">:</a> <a id="10786" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10788" class="Symbol">(</a><a id="10789" class="Bound">φ₀</a> <a id="10792" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="10794" class="Bound">φ₁</a><a id="10796" class="Symbol">)</a> <a id="10798" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="10800" href="/lia/part1/NormalForms/#10675" class="Bound">ψ₀</a> <a id="10803" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="10805" href="/lia/part1/NormalForms/#10701" class="Bound">ψ₁</a>
  <a id="10810" href="/lia/part1/NormalForms/#10772" class="Function">correctness</a> <a id="10822" href="/lia/part1/NormalForms/#10822" class="Bound">ϱ</a> <a id="10824" class="Keyword">rewrite</a> <a id="10832" href="/lia/part1/Semantics/#31295" class="Function">deMorganOr</a> <a id="10843" class="Bound">φ₀</a> <a id="10846" class="Bound">φ₁</a> <a id="10849" href="/lia/part1/NormalForms/#10822" class="Bound">ϱ</a> <a id="10851" class="Symbol">|</a>
                        <a id="10877" href="/lia/part1/NormalForms/#10689" class="Bound">φ₀⟺ψ₀</a> <a id="10883" href="/lia/part1/NormalForms/#10822" class="Bound">ϱ</a> <a id="10885" class="Symbol">|</a>
                        <a id="10911" href="/lia/part1/NormalForms/#10715" class="Bound">φ₁⟺ψ₁</a> <a id="10917" href="/lia/part1/NormalForms/#10822" class="Bound">ϱ</a> <a id="10919" class="Symbol">=</a> <a id="10921" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="10927" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10933" class="Symbol">(</a><a id="10934" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10936" class="Symbol">(</a><a id="10937" href="/lia/part1/NormalForms/#10937" class="Bound">φ₀</a> <a id="10940" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="10942" href="/lia/part1/NormalForms/#10942" class="Bound">φ₁</a><a id="10944" class="Symbol">))</a> <a id="10947" class="Keyword">with</a> <a id="10952" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10958" class="Symbol">(</a><a id="10959" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10961" href="/lia/part1/NormalForms/#10937" class="Bound">φ₀</a><a id="10963" class="Symbol">)</a> <a id="10965" class="Symbol">|</a> <a id="10967" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="10973" class="Symbol">(</a><a id="10974" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="10976" href="/lia/part1/NormalForms/#10942" class="Bound">φ₁</a><a id="10978" class="Symbol">)</a>
<a id="10980" class="Symbol">...</a> <a id="10984" class="Symbol">|</a> <a id="10986" href="/lia/part1/NormalForms/#10986" class="Bound">ψ₀</a> <a id="10989" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10991" href="/lia/part1/NormalForms/#10991" class="Bound">WNNFψ₀</a> <a id="10998" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11000" href="/lia/part1/NormalForms/#11000" class="Bound">φ₀⟺ψ₀</a>
    <a id="11010" class="Symbol">|</a> <a id="11012" href="/lia/part1/NormalForms/#11012" class="Bound">ψ₁</a> <a id="11015" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11017" href="/lia/part1/NormalForms/#11017" class="Bound">WNNFψ₁</a> <a id="11024" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11026" href="/lia/part1/NormalForms/#11026" class="Bound">φ₁⟺ψ₁</a> <a id="11032" class="Symbol">=</a> <a id="11034" href="/lia/part1/NormalForms/#10986" class="Bound">ψ₀</a> <a id="11037" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="11039" href="/lia/part1/NormalForms/#11012" class="Bound">ψ₁</a> <a id="11042" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11044" href="/lia/part1/NormalForms/#10991" class="Bound">WNNFψ₀</a> <a id="11051" href="/lia/part1/NormalForms/#985" class="InductiveConstructor Operator">∨</a> <a id="11053" href="/lia/part1/NormalForms/#11017" class="Bound">WNNFψ₁</a> <a id="11060" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11062" href="/lia/part1/NormalForms/#11083" class="Function">correctness</a> <a id="11074" class="Keyword">where</a>

  <a id="11083" href="/lia/part1/NormalForms/#11083" class="Function">correctness</a> <a id="11095" class="Symbol">:</a> <a id="11097" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="11099" class="Symbol">(</a><a id="11100" class="Bound">φ₀</a> <a id="11103" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="11105" class="Bound">φ₁</a><a id="11107" class="Symbol">)</a> <a id="11109" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="11111" href="/lia/part1/NormalForms/#10986" class="Bound">ψ₀</a> <a id="11114" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="11116" href="/lia/part1/NormalForms/#11012" class="Bound">ψ₁</a>
  <a id="11121" href="/lia/part1/NormalForms/#11083" class="Function">correctness</a> <a id="11133" href="/lia/part1/NormalForms/#11133" class="Bound">ϱ</a> <a id="11135" class="Keyword">rewrite</a> <a id="11143" href="/lia/part1/Semantics/#31251" class="Function">deMorganAnd</a> <a id="11155" class="Bound">φ₀</a> <a id="11158" class="Bound">φ₁</a> <a id="11161" href="/lia/part1/NormalForms/#11133" class="Bound">ϱ</a> <a id="11163" class="Symbol">|</a>
                        <a id="11189" href="/lia/part1/NormalForms/#11000" class="Bound">φ₀⟺ψ₀</a> <a id="11195" href="/lia/part1/NormalForms/#11133" class="Bound">ϱ</a> <a id="11197" class="Symbol">|</a>
                        <a id="11223" href="/lia/part1/NormalForms/#11026" class="Bound">φ₁⟺ψ₁</a> <a id="11229" href="/lia/part1/NormalForms/#11133" class="Bound">ϱ</a> <a id="11231" class="Symbol">=</a> <a id="11233" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
            
<a id="11251" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="11257" class="Symbol">(</a><a id="11258" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="11260" class="Symbol">(</a><a id="11261" href="/lia/part1/NormalForms/#11261" class="Bound">φ₀</a> <a id="11264" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="11266" href="/lia/part1/NormalForms/#11266" class="Bound">φ₁</a><a id="11268" class="Symbol">))</a> <a id="11271" class="Keyword">with</a> <a id="11276" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="11282" href="/lia/part1/NormalForms/#11261" class="Bound">φ₀</a> <a id="11285" class="Symbol">|</a> <a id="11287" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="11293" class="Symbol">(</a><a id="11294" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="11296" href="/lia/part1/NormalForms/#11266" class="Bound">φ₁</a><a id="11298" class="Symbol">)</a>
<a id="11300" class="Symbol">...</a> <a id="11304" class="Symbol">|</a> <a id="11306" href="/lia/part1/NormalForms/#11306" class="Bound">ψ₀</a> <a id="11309" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11311" href="/lia/part1/NormalForms/#11311" class="Bound">WNNFψ₀</a> <a id="11318" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11320" href="/lia/part1/NormalForms/#11320" class="Bound">φ₀⟺ψ₀</a>
    <a id="11330" class="Symbol">|</a> <a id="11332" href="/lia/part1/NormalForms/#11332" class="Bound">ψ₁</a> <a id="11335" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11337" href="/lia/part1/NormalForms/#11337" class="Bound">WNNFψ₁</a> <a id="11344" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11346" href="/lia/part1/NormalForms/#11346" class="Bound">φ₁⟺ψ₁</a> <a id="11352" class="Symbol">=</a> <a id="11354" href="/lia/part1/NormalForms/#11306" class="Bound">ψ₀</a> <a id="11357" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="11359" href="/lia/part1/NormalForms/#11332" class="Bound">ψ₁</a> <a id="11362" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11364" href="/lia/part1/NormalForms/#11311" class="Bound">WNNFψ₀</a> <a id="11371" href="/lia/part1/NormalForms/#946" class="InductiveConstructor Operator">∧</a> <a id="11373" href="/lia/part1/NormalForms/#11337" class="Bound">WNNFψ₁</a> <a id="11380" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11382" href="/lia/part1/NormalForms/#11403" class="Function">correctness</a> <a id="11394" class="Keyword">where</a>

  <a id="11403" href="/lia/part1/NormalForms/#11403" class="Function">correctness</a> <a id="11415" class="Symbol">:</a> <a id="11417" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="11419" class="Symbol">(</a><a id="11420" class="Bound">φ₀</a> <a id="11423" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="11425" class="Bound">φ₁</a><a id="11427" class="Symbol">)</a> <a id="11429" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="11431" href="/lia/part1/NormalForms/#11306" class="Bound">ψ₀</a> <a id="11434" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="11436" href="/lia/part1/NormalForms/#11332" class="Bound">ψ₁</a>
  <a id="11441" href="/lia/part1/NormalForms/#11403" class="Function">correctness</a> <a id="11453" href="/lia/part1/NormalForms/#11453" class="Bound">ϱ</a> <a id="11455" class="Keyword">rewrite</a> <a id="11463" href="/lia/part1/Semantics/#31385" class="Function">deMorganImplies</a> <a id="11479" class="Bound">φ₀</a> <a id="11482" class="Bound">φ₁</a> <a id="11485" href="/lia/part1/NormalForms/#11453" class="Bound">ϱ</a> <a id="11487" class="Symbol">|</a>
                        <a id="11513" href="/lia/part1/NormalForms/#11320" class="Bound">φ₀⟺ψ₀</a> <a id="11519" href="/lia/part1/NormalForms/#11453" class="Bound">ϱ</a> <a id="11521" class="Symbol">|</a>
                        <a id="11547" href="/lia/part1/NormalForms/#11346" class="Bound">φ₁⟺ψ₁</a> <a id="11553" href="/lia/part1/NormalForms/#11453" class="Bound">ϱ</a> <a id="11555" class="Symbol">=</a> <a id="11557" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
            
<a id="11575" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="11581" class="Symbol">(</a><a id="11582" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="11584" class="Symbol">(</a><a id="11585" href="/lia/part1/NormalForms/#11585" class="Bound">φ₀</a> <a id="11588" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="11590" href="/lia/part1/NormalForms/#11590" class="Bound">φ₁</a><a id="11592" class="Symbol">))</a> <a id="11595" class="Keyword">with</a> <a id="11600" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="11606" href="/lia/part1/NormalForms/#11585" class="Bound">φ₀</a> <a id="11609" class="Symbol">|</a> <a id="11611" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="11617" class="Symbol">(</a><a id="11618" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="11620" href="/lia/part1/NormalForms/#11590" class="Bound">φ₁</a><a id="11622" class="Symbol">)</a>
<a id="11624" class="Symbol">...</a> <a id="11628" class="Symbol">|</a> <a id="11630" href="/lia/part1/NormalForms/#11630" class="Bound">ψ₀</a> <a id="11633" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11635" href="/lia/part1/NormalForms/#11635" class="Bound">WNNFψ₀</a> <a id="11642" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11644" href="/lia/part1/NormalForms/#11644" class="Bound">φ₀⟺ψ₀</a>
    <a id="11654" class="Symbol">|</a> <a id="11656" href="/lia/part1/NormalForms/#11656" class="Bound">ψ₁</a> <a id="11659" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11661" href="/lia/part1/NormalForms/#11661" class="Bound">WNNFψ₁</a> <a id="11668" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11670" href="/lia/part1/NormalForms/#11670" class="Bound">φ₁⟺ψ₁</a> <a id="11676" class="Symbol">=</a> <a id="11678" href="/lia/part1/NormalForms/#11630" class="Bound">ψ₀</a> <a id="11681" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="11683" href="/lia/part1/NormalForms/#11656" class="Bound">ψ₁</a> <a id="11686" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11688" href="/lia/part1/NormalForms/#11635" class="Bound">WNNFψ₀</a> <a id="11695" href="/lia/part1/NormalForms/#1063" class="InductiveConstructor Operator">⇔</a> <a id="11697" href="/lia/part1/NormalForms/#11661" class="Bound">WNNFψ₁</a> <a id="11704" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11706" href="/lia/part1/NormalForms/#11727" class="Function">correctness</a> <a id="11718" class="Keyword">where</a>

  <a id="11727" href="/lia/part1/NormalForms/#11727" class="Function">correctness</a> <a id="11739" class="Symbol">:</a> <a id="11741" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="11743" class="Symbol">(</a><a id="11744" class="Bound">φ₀</a> <a id="11747" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="11749" class="Bound">φ₁</a><a id="11751" class="Symbol">)</a> <a id="11753" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="11755" href="/lia/part1/NormalForms/#11630" class="Bound">ψ₀</a> <a id="11758" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="11760" href="/lia/part1/NormalForms/#11656" class="Bound">ψ₁</a>
  <a id="11765" href="/lia/part1/NormalForms/#11727" class="Function">correctness</a> <a id="11777" href="/lia/part1/NormalForms/#11777" class="Bound">ϱ</a> <a id="11779" class="Keyword">rewrite</a> <a id="11787" href="/lia/part1/Semantics/#31478" class="Function">deMorganIff-right</a> <a id="11805" class="Bound">φ₀</a> <a id="11808" class="Bound">φ₁</a> <a id="11811" href="/lia/part1/NormalForms/#11777" class="Bound">ϱ</a> <a id="11813" class="Symbol">|</a>
                        <a id="11839" href="/lia/part1/NormalForms/#11644" class="Bound">φ₀⟺ψ₀</a> <a id="11845" href="/lia/part1/NormalForms/#11777" class="Bound">ϱ</a> <a id="11847" class="Symbol">|</a>
                        <a id="11873" href="/lia/part1/NormalForms/#11670" class="Bound">φ₁⟺ψ₁</a> <a id="11879" href="/lia/part1/NormalForms/#11777" class="Bound">ϱ</a> <a id="11881" class="Symbol">=</a> <a id="11883" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
            
<a id="11901" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="11907" class="Symbol">(</a><a id="11908" href="/lia/part1/NormalForms/#11908" class="Bound">φ₀</a> <a id="11911" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="11913" href="/lia/part1/NormalForms/#11913" class="Bound">φ₁</a><a id="11915" class="Symbol">)</a> <a id="11917" class="Keyword">with</a> <a id="11922" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="11928" href="/lia/part1/NormalForms/#11908" class="Bound">φ₀</a> <a id="11931" class="Symbol">|</a> <a id="11933" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="11939" href="/lia/part1/NormalForms/#11913" class="Bound">φ₁</a>
<a id="11942" class="Symbol">...</a> <a id="11946" class="Symbol">|</a> <a id="11948" href="/lia/part1/NormalForms/#11948" class="Bound">ψ₀</a> <a id="11951" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11953" href="/lia/part1/NormalForms/#11953" class="Bound">WNNFψ₀</a> <a id="11960" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11962" href="/lia/part1/NormalForms/#11962" class="Bound">φ₀⟺ψ₀</a>
    <a id="11972" class="Symbol">|</a> <a id="11974" href="/lia/part1/NormalForms/#11974" class="Bound">ψ₁</a> <a id="11977" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11979" href="/lia/part1/NormalForms/#11979" class="Bound">WNNFψ₁</a> <a id="11986" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="11988" href="/lia/part1/NormalForms/#11988" class="Bound">φ₁⟺ψ₁</a> <a id="11994" class="Symbol">=</a> <a id="11996" href="/lia/part1/NormalForms/#11948" class="Bound">ψ₀</a> <a id="11999" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="12001" href="/lia/part1/NormalForms/#11974" class="Bound">ψ₁</a> <a id="12004" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12006" href="/lia/part1/NormalForms/#11953" class="Bound">WNNFψ₀</a> <a id="12013" href="/lia/part1/NormalForms/#985" class="InductiveConstructor Operator">∨</a> <a id="12015" href="/lia/part1/NormalForms/#11979" class="Bound">WNNFψ₁</a> <a id="12022" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12024" href="/lia/part1/NormalForms/#12045" class="Function">correctness</a> <a id="12036" class="Keyword">where</a>

  <a id="12045" href="/lia/part1/NormalForms/#12045" class="Function">correctness</a> <a id="12057" class="Symbol">:</a> <a id="12059" class="Bound">φ₀</a> <a id="12062" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="12064" class="Bound">φ₁</a> <a id="12067" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="12069" href="/lia/part1/NormalForms/#11948" class="Bound">ψ₀</a> <a id="12072" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="12074" href="/lia/part1/NormalForms/#11974" class="Bound">ψ₁</a>
  <a id="12079" href="/lia/part1/NormalForms/#12045" class="Function">correctness</a> <a id="12091" href="/lia/part1/NormalForms/#12091" class="Bound">ϱ</a> <a id="12093" class="Keyword">rewrite</a> <a id="12101" href="/lia/part1/NormalForms/#11962" class="Bound">φ₀⟺ψ₀</a> <a id="12107" href="/lia/part1/NormalForms/#12091" class="Bound">ϱ</a> <a id="12109" class="Symbol">|</a>
                        <a id="12135" href="/lia/part1/NormalForms/#11988" class="Bound">φ₁⟺ψ₁</a> <a id="12141" href="/lia/part1/NormalForms/#12091" class="Bound">ϱ</a> <a id="12143" class="Symbol">=</a> <a id="12145" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="12151" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="12157" class="Symbol">(</a><a id="12158" href="/lia/part1/NormalForms/#12158" class="Bound">φ₀</a> <a id="12161" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="12163" href="/lia/part1/NormalForms/#12163" class="Bound">φ₁</a><a id="12165" class="Symbol">)</a> <a id="12167" class="Keyword">with</a> <a id="12172" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="12178" href="/lia/part1/NormalForms/#12158" class="Bound">φ₀</a> <a id="12181" class="Symbol">|</a> <a id="12183" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="12189" href="/lia/part1/NormalForms/#12163" class="Bound">φ₁</a>
<a id="12192" class="Symbol">...</a> <a id="12196" class="Symbol">|</a> <a id="12198" href="/lia/part1/NormalForms/#12198" class="Bound">ψ₀</a> <a id="12201" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12203" href="/lia/part1/NormalForms/#12203" class="Bound">WNNFψ₀</a> <a id="12210" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12212" href="/lia/part1/NormalForms/#12212" class="Bound">φ₀⟺ψ₀</a>
    <a id="12222" class="Symbol">|</a> <a id="12224" href="/lia/part1/NormalForms/#12224" class="Bound">ψ₁</a> <a id="12227" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12229" href="/lia/part1/NormalForms/#12229" class="Bound">WNNFψ₁</a> <a id="12236" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12238" href="/lia/part1/NormalForms/#12238" class="Bound">φ₁⟺ψ₁</a> <a id="12244" class="Symbol">=</a> <a id="12246" href="/lia/part1/NormalForms/#12198" class="Bound">ψ₀</a> <a id="12249" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="12251" href="/lia/part1/NormalForms/#12224" class="Bound">ψ₁</a> <a id="12254" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12256" href="/lia/part1/NormalForms/#12203" class="Bound">WNNFψ₀</a> <a id="12263" href="/lia/part1/NormalForms/#946" class="InductiveConstructor Operator">∧</a> <a id="12265" href="/lia/part1/NormalForms/#12229" class="Bound">WNNFψ₁</a> <a id="12272" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12274" href="/lia/part1/NormalForms/#12295" class="Function">correctness</a> <a id="12286" class="Keyword">where</a>

  <a id="12295" href="/lia/part1/NormalForms/#12295" class="Function">correctness</a> <a id="12307" class="Symbol">:</a> <a id="12309" class="Bound">φ₀</a> <a id="12312" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="12314" class="Bound">φ₁</a> <a id="12317" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="12319" href="/lia/part1/NormalForms/#12198" class="Bound">ψ₀</a> <a id="12322" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="12324" href="/lia/part1/NormalForms/#12224" class="Bound">ψ₁</a>
  <a id="12329" href="/lia/part1/NormalForms/#12295" class="Function">correctness</a> <a id="12341" href="/lia/part1/NormalForms/#12341" class="Bound">ϱ</a> <a id="12343" class="Keyword">rewrite</a> <a id="12351" href="/lia/part1/NormalForms/#12212" class="Bound">φ₀⟺ψ₀</a> <a id="12357" href="/lia/part1/NormalForms/#12341" class="Bound">ϱ</a> <a id="12359" class="Symbol">|</a>
                        <a id="12385" href="/lia/part1/NormalForms/#12238" class="Bound">φ₁⟺ψ₁</a> <a id="12391" href="/lia/part1/NormalForms/#12341" class="Bound">ϱ</a> <a id="12393" class="Symbol">=</a> <a id="12395" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="12401" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="12407" class="Symbol">(</a><a id="12408" href="/lia/part1/NormalForms/#12408" class="Bound">φ₀</a> <a id="12411" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="12413" href="/lia/part1/NormalForms/#12413" class="Bound">φ₁</a><a id="12415" class="Symbol">)</a> <a id="12417" class="Keyword">with</a> <a id="12422" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="12428" href="/lia/part1/NormalForms/#12408" class="Bound">φ₀</a> <a id="12431" class="Symbol">|</a> <a id="12433" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="12439" href="/lia/part1/NormalForms/#12413" class="Bound">φ₁</a>
<a id="12442" class="Symbol">...</a> <a id="12446" class="Symbol">|</a> <a id="12448" href="/lia/part1/NormalForms/#12448" class="Bound">ψ₀</a> <a id="12451" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12453" href="/lia/part1/NormalForms/#12453" class="Bound">WNNFψ₀</a> <a id="12460" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12462" href="/lia/part1/NormalForms/#12462" class="Bound">φ₀⟺ψ₀</a>
    <a id="12472" class="Symbol">|</a> <a id="12474" href="/lia/part1/NormalForms/#12474" class="Bound">ψ₁</a> <a id="12477" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12479" href="/lia/part1/NormalForms/#12479" class="Bound">WNNFψ₁</a> <a id="12486" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12488" href="/lia/part1/NormalForms/#12488" class="Bound">φ₁⟺ψ₁</a> <a id="12494" class="Symbol">=</a> <a id="12496" href="/lia/part1/NormalForms/#12448" class="Bound">ψ₀</a> <a id="12499" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="12501" href="/lia/part1/NormalForms/#12474" class="Bound">ψ₁</a> <a id="12504" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12506" href="/lia/part1/NormalForms/#12453" class="Bound">WNNFψ₀</a> <a id="12513" href="/lia/part1/NormalForms/#1024" class="InductiveConstructor Operator">⇒</a> <a id="12515" href="/lia/part1/NormalForms/#12479" class="Bound">WNNFψ₁</a> <a id="12522" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12524" href="/lia/part1/NormalForms/#12545" class="Function">correctness</a> <a id="12536" class="Keyword">where</a>

  <a id="12545" href="/lia/part1/NormalForms/#12545" class="Function">correctness</a> <a id="12557" class="Symbol">:</a> <a id="12559" class="Bound">φ₀</a> <a id="12562" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="12564" class="Bound">φ₁</a> <a id="12567" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="12569" href="/lia/part1/NormalForms/#12448" class="Bound">ψ₀</a> <a id="12572" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="12574" href="/lia/part1/NormalForms/#12474" class="Bound">ψ₁</a>
  <a id="12579" href="/lia/part1/NormalForms/#12545" class="Function">correctness</a> <a id="12591" href="/lia/part1/NormalForms/#12591" class="Bound">ϱ</a> <a id="12593" class="Keyword">rewrite</a> <a id="12601" href="/lia/part1/NormalForms/#12462" class="Bound">φ₀⟺ψ₀</a> <a id="12607" href="/lia/part1/NormalForms/#12591" class="Bound">ϱ</a> <a id="12609" class="Symbol">|</a>
                        <a id="12635" href="/lia/part1/NormalForms/#12488" class="Bound">φ₁⟺ψ₁</a> <a id="12641" href="/lia/part1/NormalForms/#12591" class="Bound">ϱ</a> <a id="12643" class="Symbol">=</a> <a id="12645" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="12651" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="12657" class="Symbol">(</a><a id="12658" href="/lia/part1/NormalForms/#12658" class="Bound">φ₀</a> <a id="12661" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="12663" href="/lia/part1/NormalForms/#12663" class="Bound">φ₁</a><a id="12665" class="Symbol">)</a> <a id="12667" class="Keyword">with</a> <a id="12672" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="12678" href="/lia/part1/NormalForms/#12658" class="Bound">φ₀</a> <a id="12681" class="Symbol">|</a> <a id="12683" href="/lia/part1/NormalForms/#9578" class="Function">wnnf′</a> <a id="12689" href="/lia/part1/NormalForms/#12663" class="Bound">φ₁</a>
<a id="12692" class="Symbol">...</a> <a id="12696" class="Symbol">|</a> <a id="12698" href="/lia/part1/NormalForms/#12698" class="Bound">ψ₀</a> <a id="12701" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12703" href="/lia/part1/NormalForms/#12703" class="Bound">WNNFψ₀</a> <a id="12710" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12712" href="/lia/part1/NormalForms/#12712" class="Bound">φ₀⟺ψ₀</a>
    <a id="12722" class="Symbol">|</a> <a id="12724" href="/lia/part1/NormalForms/#12724" class="Bound">ψ₁</a> <a id="12727" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12729" href="/lia/part1/NormalForms/#12729" class="Bound">WNNFψ₁</a> <a id="12736" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12738" href="/lia/part1/NormalForms/#12738" class="Bound">φ₁⟺ψ₁</a> <a id="12744" class="Symbol">=</a> <a id="12746" href="/lia/part1/NormalForms/#12698" class="Bound">ψ₀</a> <a id="12749" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="12751" href="/lia/part1/NormalForms/#12724" class="Bound">ψ₁</a> <a id="12754" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="12756" href="/lia/part1/NormalForms/#12703" class="Bound">WNNFψ₀</a> <a id="12763" href="/lia/part1/NormalForms/#1063" class="InductiveConstructor Operator">⇔</a> <a id="12765" href="/lia/part1/NormalForms/#12729" class="Bound">WNNFψ₁</a> <a id="12772" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="12774" href="/lia/part1/NormalForms/#12795" class="Function">correctness</a> <a id="12786" class="Keyword">where</a>

  <a id="12795" href="/lia/part1/NormalForms/#12795" class="Function">correctness</a> <a id="12807" class="Symbol">:</a> <a id="12809" class="Bound">φ₀</a> <a id="12812" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="12814" class="Bound">φ₁</a> <a id="12817" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="12819" href="/lia/part1/NormalForms/#12698" class="Bound">ψ₀</a> <a id="12822" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="12824" href="/lia/part1/NormalForms/#12724" class="Bound">ψ₁</a>
  <a id="12829" href="/lia/part1/NormalForms/#12795" class="Function">correctness</a> <a id="12841" href="/lia/part1/NormalForms/#12841" class="Bound">ϱ</a> <a id="12843" class="Keyword">rewrite</a> <a id="12851" href="/lia/part1/NormalForms/#12712" class="Bound">φ₀⟺ψ₀</a> <a id="12857" href="/lia/part1/NormalForms/#12841" class="Bound">ϱ</a> <a id="12859" class="Symbol">|</a>
                        <a id="12885" href="/lia/part1/NormalForms/#12738" class="Bound">φ₁⟺ψ₁</a> <a id="12891" href="/lia/part1/NormalForms/#12841" class="Bound">ϱ</a> <a id="12893" class="Symbol">=</a> <a id="12895" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

</div>

<h2 id="formula-size">
<a class="anchor" href="#formula-size" aria-hidden="true"><span class="octicon octicon-link"></span></a>Formula size</h2>

<p>One of the advantages of the <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> is to simplify the
structure of the formula w.r.t. negation without negatively (pun not
intended) impacting its size. As we will see, stronger normal forms such
as <a href="#NNF"><code class="language-plaintext highlighter-rouge">NNF</code></a> , <a href="#DNF"><code class="language-plaintext highlighter-rouge">DNF</code></a> , and <a href="#CNF"><code class="language-plaintext highlighter-rouge">CNF</code></a> unavoidably cause
an exponential blowup in the formula size.</p>

<p>There are many ways to assign a size to a formula. We assign size one to
atomic formulas <a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> ,
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> , and
<a href="../../part1/Semantics#Formula.%60_"><code class="language-plaintext highlighter-rouge">`_</code></a> , and the size of
non-atomic formulas is the sum of the sizes of their immediate
subformulas increased by one:</p>

<pre class="Agda"><a id="size"></a><a id="13563" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13568" class="Symbol">:</a> <a id="13570" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a> <a id="13578" class="Symbol">→</a> <a id="13580" href="/lia/part0/Naturals/#177" class="Datatype">ℕ</a>
<a id="13582" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13587" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="13589" class="Symbol">=</a> <a id="13591" class="Number">1</a>
<a id="13593" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13598" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="13600" class="Symbol">=</a> <a id="13602" class="Number">1</a>
<a id="13604" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13609" class="Symbol">(</a><a id="13610" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="13612" class="Symbol">_)</a> <a id="13615" class="Symbol">=</a> <a id="13617" class="Number">1</a>
<a id="13619" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13624" class="Symbol">(</a><a id="13625" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="13627" href="/lia/part1/NormalForms/#13627" class="Bound">φ</a><a id="13628" class="Symbol">)</a> <a id="13630" class="Symbol">=</a> <a id="13632" class="Number">1</a> <a id="13634" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="13636" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13641" href="/lia/part1/NormalForms/#13627" class="Bound">φ</a>
<a id="13643" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13648" class="Symbol">(</a><a id="13649" href="/lia/part1/NormalForms/#13649" class="Bound">φ</a> <a id="13651" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="13653" href="/lia/part1/NormalForms/#13653" class="Bound">ψ</a><a id="13654" class="Symbol">)</a> <a id="13656" class="Symbol">=</a> <a id="13658" class="Number">1</a> <a id="13660" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="13662" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13667" href="/lia/part1/NormalForms/#13649" class="Bound">φ</a> <a id="13669" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="13671" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13676" href="/lia/part1/NormalForms/#13653" class="Bound">ψ</a>
<a id="13678" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13683" class="Symbol">(</a><a id="13684" href="/lia/part1/NormalForms/#13684" class="Bound">φ</a> <a id="13686" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="13688" href="/lia/part1/NormalForms/#13688" class="Bound">ψ</a><a id="13689" class="Symbol">)</a> <a id="13691" class="Symbol">=</a> <a id="13693" class="Number">1</a> <a id="13695" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="13697" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13702" href="/lia/part1/NormalForms/#13684" class="Bound">φ</a> <a id="13704" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="13706" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13711" href="/lia/part1/NormalForms/#13688" class="Bound">ψ</a>
<a id="13713" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13718" class="Symbol">(</a><a id="13719" href="/lia/part1/NormalForms/#13719" class="Bound">φ</a> <a id="13721" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="13723" href="/lia/part1/NormalForms/#13723" class="Bound">ψ</a><a id="13724" class="Symbol">)</a> <a id="13726" class="Symbol">=</a> <a id="13728" class="Number">1</a> <a id="13730" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="13732" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13737" href="/lia/part1/NormalForms/#13719" class="Bound">φ</a> <a id="13739" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="13741" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13746" href="/lia/part1/NormalForms/#13723" class="Bound">ψ</a>
<a id="13748" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13753" class="Symbol">(</a><a id="13754" href="/lia/part1/NormalForms/#13754" class="Bound">φ</a> <a id="13756" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="13758" href="/lia/part1/NormalForms/#13758" class="Bound">ψ</a><a id="13759" class="Symbol">)</a> <a id="13761" class="Symbol">=</a> <a id="13763" class="Number">1</a> <a id="13765" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="13767" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13772" href="/lia/part1/NormalForms/#13754" class="Bound">φ</a> <a id="13774" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="13776" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="13781" href="/lia/part1/NormalForms/#13758" class="Bound">ψ</a></pre>

<p>In other words, the formula size is the number of nodes of the formula
seen as a tree.</p>

<div class="examplebox">

  <dl>
    <dt><span id="example:size" class="pandoc-numbering-text example"><strong>Example 1</strong></span></dt>
    <dd>The size of the previous formula <code class="language-plaintext highlighter-rouge">ψ₂ = ¬ ` p₀ ⇒ (` p₁ ⇔ ¬ ` p₂)</code>
is <code class="language-plaintext highlighter-rouge">7</code>:</dd>
  </dl>

  <pre class="Agda"><a id="14015" href="/lia/part1/NormalForms/#14015" class="Function">_</a> <a id="14017" class="Symbol">:</a> <a id="14019" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="14024" href="/lia/part1/NormalForms/#2575" class="Function">ψ₂</a> <a id="14027" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="14029" class="Number">7</a>
<a id="14031" class="Symbol">_</a> <a id="14033" class="Symbol">=</a> <a id="14035" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

  <p><span class="hidden">∎</span><span class="right-aligned">∎</span></p>

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:size-neg" class="pandoc-numbering-text exercise"><strong>Exercise 1</strong> <em>(<code class="language-plaintext highlighter-rouge">size-¬</code>)</em></span></dt>
    <dd>Prove that <a href="#size"><code class="language-plaintext highlighter-rouge">size</code></a> satisfies the following two inequalities:</dd>
  </dl>

  <pre class="Agda"><a id="size-¬"></a><a id="14223" href="/lia/part1/NormalForms/#14223" class="Function">size-¬</a> <a id="14230" class="Symbol">:</a> <a id="14232" class="Symbol">∀</a> <a id="14234" href="/lia/part1/NormalForms/#14234" class="Bound">φ</a> <a id="14236" class="Symbol">→</a> <a id="14238" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="14243" href="/lia/part1/NormalForms/#14234" class="Bound">φ</a> <a id="14245" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="14247" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="14252" class="Symbol">(</a><a id="14253" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="14255" href="/lia/part1/NormalForms/#14234" class="Bound">φ</a><a id="14256" class="Symbol">)</a>
<a id="size-¬¬"></a><a id="14258" href="/lia/part1/NormalForms/#14258" class="Function">size-¬¬</a> <a id="14266" class="Symbol">:</a> <a id="14268" class="Symbol">∀</a> <a id="14270" href="/lia/part1/NormalForms/#14270" class="Bound">φ</a> <a id="14272" class="Symbol">→</a> <a id="14274" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="14279" href="/lia/part1/NormalForms/#14270" class="Bound">φ</a> <a id="14281" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="14283" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="14288" class="Symbol">(</a><a id="14289" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="14291" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="14293" href="/lia/part1/NormalForms/#14270" class="Bound">φ</a><a id="14294" class="Symbol">)</a></pre>

  <p>(This will be used below.) <span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:size-neg-solution)
:::::::
-->

</div>

<p>We need to find an estimate of the formula size blowup incurred by
<a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a> . First of all, an equality of the form
<code class="language-plaintext highlighter-rouge">size (wnnf φ) ≡ e</code> where <code class="language-plaintext highlighter-rouge">e</code> is some simple arithmetic function of
<code class="language-plaintext highlighter-rouge">size φ</code> will not work, since there are formulas of the same size for
which the size of their <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> differ, such as <code class="language-plaintext highlighter-rouge">¬ ¬ ` p₀</code>
and <code class="language-plaintext highlighter-rouge">` p₀ ∧ ` p₁</code> (both of size 3), whose <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> have size
1 and, resp., 3.</p>

<p>We thus need to guess an inequality <code class="language-plaintext highlighter-rouge">size (wnnf φ) ≤ e</code>. We make an
“educated guess” and assume that the <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> satisfies an
inequality of the form</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>size (wnnf φ) ≤ a * size φ + b,
</code></pre></div></div>

<p>where <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">b</code> are integer parameter whose values have to be found.
We now setup some constraints on <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">b</code> based on the shape of <code class="language-plaintext highlighter-rouge">φ</code>.
When <code class="language-plaintext highlighter-rouge">φ ≡ ⊥</code> is an atomic formula, we have
<code class="language-plaintext highlighter-rouge">size (wnnf ⊥) ≤ a * size ⊥ + b</code>, yielding the constraint (since
<code class="language-plaintext highlighter-rouge">wnnf ⊥ ≡ ⊥</code> and <code class="language-plaintext highlighter-rouge">size ⊥ ≡ 1</code>)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1 ≤ a + b.
</code></pre></div></div>

<p>The same constraint is obtained for the cases <code class="language-plaintext highlighter-rouge">φ ≡ ⊤</code> and <code class="language-plaintext highlighter-rouge">φ ≡ ` p</code>.
When <code class="language-plaintext highlighter-rouge">φ ≡ ψ ∨ ξ</code> is a disjunction, for the l.h.s. we have
<code class="language-plaintext highlighter-rouge">size (wnnf (ψ ∨ ξ)) ≡ size (wnnf ψ ∨ wnnf ξ) ≡ 1 + size (wnnf ψ) + size (wnnf ξ)</code>
which by inductive assumption is
<code class="language-plaintext highlighter-rouge">≤ 1 + (a * size ψ + b) + (a * size ξ + b)</code>, and for the r.h.s. we have
<code class="language-plaintext highlighter-rouge">a * size (ψ ∨ ξ) + b ≡ a * (1 + size ψ + size ξ) + b</code>. Putting the two
together we must have
<code class="language-plaintext highlighter-rouge">1 + (a * size ψ + b) + (a * size ξ + b) ≤ a * (1 + size ψ + size ξ) + b</code>,
which after some simplification yields</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1 + b ≤ a.
</code></pre></div></div>

<p>The same constraint is obtained for the other binary connectives. When
<code class="language-plaintext highlighter-rouge">φ ≡ ¬ ¬ ψ</code>, for the l.h.s. we have
<code class="language-plaintext highlighter-rouge">size (wnnf (¬ ¬ ψ)) ≡ size (wnnf ψ)</code> which by inductive assumption is
<code class="language-plaintext highlighter-rouge">≤ a * size ψ + b</code>, and for the r.h.s. we have
<code class="language-plaintext highlighter-rouge">a * size (¬ ¬ ψ) + b ≡ a * (2 + size ψ) + b</code>. Putting the two together
we must have <code class="language-plaintext highlighter-rouge">a * size ψ + b ≤ a * (2 + size ψ) + b</code>, which after some
simplification yields</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0 ≤ a * 2.
</code></pre></div></div>

<p>When <code class="language-plaintext highlighter-rouge">φ ≡ ¬ (ψ ∨ ξ)</code>, for the l.h.s. we have
<code class="language-plaintext highlighter-rouge">size (wnnf (¬ (ψ ∨ ξ))) ≡ size (wnnf (¬ ψ) ∧ wnnf (¬ ξ)) ≡ 1 + size (wnnf (¬ ψ)) + size (wnnf (¬ ξ))</code>
which by inductive assumption is
<code class="language-plaintext highlighter-rouge">≤ 1 + (a * (1 + size ψ) + b) + (a * (1 + size ξ) + b)</code>, and for the
r.h.s. we have
<code class="language-plaintext highlighter-rouge">a * size (¬ (ψ ∨ ξ)) + b ≡ a * (2 + size ψ + size ξ) + b</code>. Putting the
two together we must have
<code class="language-plaintext highlighter-rouge">1 + (a * (1 + size ψ) + b) + (a * (1 + size ξ) + b) ≤ a * (2 + size ψ + size ξ) + b</code>,
which after some simplification yields</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1 + b ≤ 0.
</code></pre></div></div>

<p>The same constraint is obtained in the dual case <code class="language-plaintext highlighter-rouge">φ ≡ ¬ (ψ ∧ ξ)</code>. When
<code class="language-plaintext highlighter-rouge">φ ≡ ¬ (ψ ⇒ ξ)</code>, for the l.h.s. we have
<code class="language-plaintext highlighter-rouge">size (wnnf (¬ (ψ ⇒ ξ))) ≡ size (wnnf ψ ∧ wnnf (¬ ξ)) ≡ 1 + size (wnnf ψ) + size (wnnf (¬ ξ))</code>
which by inductive assumption is
<code class="language-plaintext highlighter-rouge">≤ 1 + (a * size ψ + b) + (a * (1 + size ξ) + b)</code>, and for the r.h.s. we
have <code class="language-plaintext highlighter-rouge">a * size (¬ (ψ ⇒ ξ)) + b ≡ a * (2 + size ψ + size ξ) + b</code>. Putting
the two together we must have
<code class="language-plaintext highlighter-rouge">1 + (a * size ψ + b) + (a * (1 + size ξ) + b) ≤ a * (2 + size ψ + size ξ) + b</code>,
which after some simplification yields</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1 + b ≤ a.
</code></pre></div></div>

<p>The same constraint is obtained in the case <code class="language-plaintext highlighter-rouge">φ ≡ ¬ (ψ ⇔ ξ)</code>. The optimal
solution for all the constraints above is <code class="language-plaintext highlighter-rouge">a ≡ 2</code> and <code class="language-plaintext highlighter-rouge">b ≡ - 1</code>. This
yields the following inductive statement:</p>

<pre class="Agda"><a id="wnnf-size"></a><a id="17599" href="/lia/part1/NormalForms/#17599" class="Function">wnnf-size</a> <a id="17609" class="Symbol">:</a> <a id="17611" class="Symbol">∀</a> <a id="17613" href="/lia/part1/NormalForms/#17613" class="Bound">φ</a> <a id="17615" class="Symbol">→</a> <a id="17617" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="17622" class="Symbol">(</a><a id="17623" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="17628" href="/lia/part1/NormalForms/#17613" class="Bound">φ</a><a id="17629" class="Symbol">)</a> <a id="17631" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="17633" class="Number">2</a> <a id="17635" href="/lia/part0/Naturals/#4223" class="Function Operator">*</a> <a id="17637" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="17642" href="/lia/part1/NormalForms/#17613" class="Bound">φ</a> <a id="17644" href="/lia/part0/Naturals/#4772" class="Function Operator">∸</a> <a id="17646" class="Number">1</a>
<a id="wnnf-size-¬"></a><a id="17648" href="/lia/part1/NormalForms/#17648" class="Function">wnnf-size-¬</a> <a id="17660" class="Symbol">:</a> <a id="17662" class="Symbol">∀</a> <a id="17664" href="/lia/part1/NormalForms/#17664" class="Bound">φ</a> <a id="17666" class="Symbol">→</a> <a id="17668" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="17673" class="Symbol">(</a><a id="17674" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="17679" class="Symbol">(</a><a id="17680" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="17682" href="/lia/part1/NormalForms/#17664" class="Bound">φ</a><a id="17683" class="Symbol">))</a> <a id="17686" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="17688" class="Number">2</a> <a id="17690" href="/lia/part0/Naturals/#4223" class="Function Operator">*</a> <a id="17692" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="17697" class="Symbol">(</a><a id="17698" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="17700" href="/lia/part1/NormalForms/#17664" class="Bound">φ</a><a id="17701" class="Symbol">)</a> <a id="17703" href="/lia/part0/Naturals/#4772" class="Function Operator">∸</a> <a id="17705" class="Number">2</a></pre>

<div class="introbox">

  <p>PROOF <button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="size-reasoning"></a><a id="17743" href="/lia/part1/NormalForms/#17743" class="Function">size-reasoning</a> <a id="17758" class="Symbol">:</a> <a id="17760" class="Symbol">∀</a> <a id="17762" class="Symbol">{</a><a id="17763" href="/lia/part1/NormalForms/#17763" class="Bound">a</a> <a id="17765" href="/lia/part1/NormalForms/#17765" class="Bound">b</a><a id="17766" class="Symbol">}</a> <a id="17768" href="/lia/part1/NormalForms/#17768" class="Bound">c</a> <a id="17770" href="/lia/part1/NormalForms/#17770" class="Bound">d</a> <a id="17772" class="Symbol">→</a>
  <a id="17776" href="/lia/part1/NormalForms/#17763" class="Bound">a</a> <a id="17778" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="17780" class="Number">2</a> <a id="17782" href="/lia/part0/Naturals/#4223" class="Function Operator">*</a> <a id="17784" href="/lia/part1/NormalForms/#17768" class="Bound">c</a> <a id="17786" href="/lia/part0/Naturals/#4772" class="Function Operator">∸</a> <a id="17788" class="Number">1</a> <a id="17790" class="Symbol">→</a>
  <a id="17794" href="/lia/part1/NormalForms/#17765" class="Bound">b</a> <a id="17796" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="17798" class="Number">2</a> <a id="17800" href="/lia/part0/Naturals/#4223" class="Function Operator">*</a> <a id="17802" href="/lia/part1/NormalForms/#17770" class="Bound">d</a> <a id="17804" href="/lia/part0/Naturals/#4772" class="Function Operator">∸</a> <a id="17806" class="Number">1</a> <a id="17808" class="Symbol">→</a>
  <a id="17812" class="Comment">-------------------------------</a>
  <a id="17846" class="Number">1</a> <a id="17848" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="17850" href="/lia/part1/NormalForms/#17763" class="Bound">a</a> <a id="17852" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="17854" href="/lia/part1/NormalForms/#17765" class="Bound">b</a> <a id="17856" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="17858" class="Number">2</a> <a id="17860" href="/lia/part0/Naturals/#4223" class="Function Operator">*</a> <a id="17862" class="Symbol">(</a><a id="17863" class="Number">1</a> <a id="17865" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="17867" href="/lia/part1/NormalForms/#17768" class="Bound">c</a> <a id="17869" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="17871" href="/lia/part1/NormalForms/#17770" class="Bound">d</a><a id="17872" class="Symbol">)</a> <a id="17874" href="/lia/part0/Naturals/#4772" class="Function Operator">∸</a> <a id="17876" class="Number">1</a>

<a id="size-reasoning-¬"></a><a id="17879" href="/lia/part1/NormalForms/#17879" class="Function">size-reasoning-¬</a> <a id="17896" class="Symbol">:</a> <a id="17898" class="Symbol">∀</a> <a id="17900" class="Symbol">{</a><a id="17901" href="/lia/part1/NormalForms/#17901" class="Bound">a</a> <a id="17903" href="/lia/part1/NormalForms/#17903" class="Bound">b</a><a id="17904" class="Symbol">}</a> <a id="17906" href="/lia/part1/NormalForms/#17906" class="Bound">c</a> <a id="17908" href="/lia/part1/NormalForms/#17908" class="Bound">d</a> <a id="17910" class="Symbol">→</a>
  <a id="17914" href="/lia/part1/NormalForms/#17901" class="Bound">a</a> <a id="17916" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="17918" href="/lia/part1/NormalForms/#17906" class="Bound">c</a> <a id="17920" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="17922" href="/lia/part0/Naturals/#204" class="InductiveConstructor">suc</a> <a id="17926" href="/lia/part1/NormalForms/#17906" class="Bound">c</a> <a id="17928" class="Symbol">→</a>
  <a id="17932" href="/lia/part1/NormalForms/#17903" class="Bound">b</a> <a id="17934" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="17936" href="/lia/part1/NormalForms/#17908" class="Bound">d</a> <a id="17938" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="17940" href="/lia/part0/Naturals/#204" class="InductiveConstructor">suc</a> <a id="17944" href="/lia/part1/NormalForms/#17908" class="Bound">d</a> <a id="17946" class="Symbol">→</a>
  <a id="17950" class="Comment">-------------------------------</a>
  <a id="17984" class="Number">1</a> <a id="17986" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="17988" href="/lia/part1/NormalForms/#17901" class="Bound">a</a> <a id="17990" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="17992" href="/lia/part1/NormalForms/#17903" class="Bound">b</a> <a id="17994" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="17996" class="Number">2</a> <a id="17998" href="/lia/part0/Naturals/#4223" class="Function Operator">*</a> <a id="18000" class="Symbol">(</a><a id="18001" class="Number">2</a> <a id="18003" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="18005" href="/lia/part1/NormalForms/#17906" class="Bound">c</a> <a id="18007" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="18009" href="/lia/part1/NormalForms/#17908" class="Bound">d</a><a id="18010" class="Symbol">)</a> <a id="18012" href="/lia/part0/Naturals/#4772" class="Function Operator">∸</a> <a id="18014" class="Number">1</a>

<a id="size-reasoning-¬'"></a><a id="18017" href="/lia/part1/NormalForms/#18017" class="Function">size-reasoning-¬'</a> <a id="18035" class="Symbol">:</a> <a id="18037" class="Symbol">∀</a> <a id="18039" class="Symbol">{</a><a id="18040" href="/lia/part1/NormalForms/#18040" class="Bound">a</a> <a id="18042" href="/lia/part1/NormalForms/#18042" class="Bound">b</a><a id="18043" class="Symbol">}</a> <a id="18045" href="/lia/part1/NormalForms/#18045" class="Bound">c</a> <a id="18047" href="/lia/part1/NormalForms/#18047" class="Bound">d</a> <a id="18049" class="Symbol">→</a>
  <a id="18053" href="/lia/part1/NormalForms/#18040" class="Bound">a</a> <a id="18055" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="18057" class="Number">2</a> <a id="18059" href="/lia/part0/Naturals/#4223" class="Function Operator">*</a> <a id="18061" href="/lia/part1/NormalForms/#18045" class="Bound">c</a> <a id="18063" href="/lia/part0/Naturals/#4772" class="Function Operator">∸</a> <a id="18065" class="Number">1</a> <a id="18067" class="Symbol">→</a>
  <a id="18071" href="/lia/part1/NormalForms/#18042" class="Bound">b</a> <a id="18073" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="18075" href="/lia/part1/NormalForms/#18047" class="Bound">d</a> <a id="18077" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="18079" href="/lia/part0/Naturals/#204" class="InductiveConstructor">suc</a> <a id="18083" href="/lia/part1/NormalForms/#18047" class="Bound">d</a> <a id="18085" class="Symbol">→</a>
  <a id="18089" class="Comment">-------------------------------</a>
  <a id="18123" class="Number">1</a> <a id="18125" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="18127" href="/lia/part1/NormalForms/#18040" class="Bound">a</a> <a id="18129" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="18131" href="/lia/part1/NormalForms/#18042" class="Bound">b</a> <a id="18133" href="/lia/part0/Naturals/#607" class="Datatype Operator">≤</a> <a id="18135" class="Number">2</a> <a id="18137" href="/lia/part0/Naturals/#4223" class="Function Operator">*</a> <a id="18139" class="Symbol">(</a><a id="18140" class="Number">2</a> <a id="18142" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="18144" href="/lia/part1/NormalForms/#18045" class="Bound">c</a> <a id="18146" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="18148" href="/lia/part1/NormalForms/#18047" class="Bound">d</a><a id="18149" class="Symbol">)</a> <a id="18151" href="/lia/part0/Naturals/#4772" class="Function Operator">∸</a> <a id="18153" class="Number">1</a>
  
<a id="18158" href="/lia/part1/NormalForms/#17879" class="Function">size-reasoning-¬</a> <a id="18175" class="Symbol">=</a> <a id="18177" class="Symbol">{!!}</a>
<a id="18182" href="/lia/part1/NormalForms/#18017" class="Function">size-reasoning-¬'</a> <a id="18200" class="Symbol">=</a> <a id="18202" class="Symbol">{!!}</a>

<a id="18208" href="/lia/part1/NormalForms/#17599" class="Function">wnnf-size</a> <a id="18218" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="18220" class="Symbol">=</a> <a id="18222" href="/lia/part0/Naturals/#662" class="InductiveConstructor">s≤s</a> <a id="18226" href="/lia/part0/Naturals/#633" class="InductiveConstructor">0≤n</a>

<a id="18231" href="/lia/part1/NormalForms/#17599" class="Function">wnnf-size</a> <a id="18241" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="18243" class="Symbol">=</a> <a id="18245" href="/lia/part0/Naturals/#662" class="InductiveConstructor">s≤s</a> <a id="18249" href="/lia/part0/Naturals/#633" class="InductiveConstructor">0≤n</a>

<a id="18254" href="/lia/part1/NormalForms/#17599" class="Function">wnnf-size</a> <a id="18264" class="Symbol">(</a><a id="18265" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="18267" href="/lia/part1/NormalForms/#18267" class="Bound">p</a><a id="18268" class="Symbol">)</a> <a id="18270" class="Symbol">=</a> <a id="18272" href="/lia/part0/Naturals/#662" class="InductiveConstructor">s≤s</a> <a id="18276" href="/lia/part0/Naturals/#633" class="InductiveConstructor">0≤n</a>

<a id="18281" href="/lia/part1/NormalForms/#17599" class="Function">wnnf-size</a> <a id="18291" class="Symbol">(</a><a id="18292" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="18294" href="/lia/part1/NormalForms/#18294" class="Bound">φ</a><a id="18295" class="Symbol">)</a> <a id="18297" class="Symbol">=</a> <a id="18299" class="Symbol">{!!}</a>

<a id="18305" class="Comment">-- wnnf-size (¬ ⊥) = s≤s 0≤n</a>

<a id="18335" class="Comment">-- wnnf-size (¬ ⊤) = s≤s 0≤n</a>

<a id="18365" class="Comment">-- wnnf-size (¬ (` p)) = s≤s (s≤s 0≤n)</a>

<a id="18405" class="Comment">-- wnnf-size (¬ (¬ φ))</a>
<a id="18428" class="Comment">--   with wnnf-size φ</a>
<a id="18450" class="Comment">-- ... | indφ = begin≤</a>
<a id="18473" class="Comment">--   size (wnnf (¬ ¬ φ)) ≤⟨⟩</a>
<a id="18502" class="Comment">--   size (wnnf φ) ≤⟨ indφ ⟩</a>
<a id="18531" class="Comment">--   2 * size φ ∸ 1 ≤⟨ {! cong-≤ (Num 2 *C □ ∸C 1) (size-¬¬ φ) !} ⟩ -- need contexts with monus in positive positions</a>
<a id="18649" class="Comment">--   2 * size (¬ ¬ φ) ∸ 1 ∎≤</a>

<a id="18679" class="Comment">-- wnnf-size (¬ (φ ∨ ψ))</a>
<a id="18704" class="Comment">--   with wnnf-size (¬ φ) | wnnf-size (¬ ψ)</a>
<a id="18748" class="Comment">-- ... | ind¬φ | ind¬ψ = begin≤</a>
<a id="18780" class="Comment">--    size (wnnf (¬ (φ ∨ ψ))) ≤⟨⟩</a>
<a id="18814" class="Comment">--    size (wnnf (¬ φ) ∨ wnnf (¬ ψ)) ≤⟨⟩</a>
<a id="18855" class="Comment">--    1 + size (wnnf (¬ φ)) + size (wnnf (¬ ψ)) ≤⟨ size-reasoning-¬ {size (wnnf (¬ φ))} {size (wnnf (¬ ψ))} (size φ) (size ψ) ind¬φ ind¬ψ ⟩</a>
<a id="18995" class="Comment">--    2 * (2 + size φ + size ψ) ∸ 1 ≤⟨⟩</a>
<a id="19035" class="Comment">--    2 * size (¬ (φ ∨ ψ)) ∸ 1 ∎≤</a>

<a id="19070" class="Comment">-- wnnf-size (¬ (φ ∧ ψ))</a>
<a id="19095" class="Comment">--   with wnnf-size (¬ φ) | wnnf-size (¬ ψ)</a>
<a id="19139" class="Comment">-- ... | ind¬φ | ind¬ψ = size-reasoning-¬ {size (wnnf (¬ φ))} {size (wnnf (¬ ψ))} (size φ) (size ψ) ind¬φ ind¬ψ</a>

<a id="19252" class="Comment">-- wnnf-size (¬ (φ ⇒ ψ))</a>
<a id="19277" class="Comment">--   with wnnf-size φ | wnnf-size (¬ ψ)</a>
<a id="19317" class="Comment">-- ... | indφ | ind¬ψ = begin≤</a>
<a id="19348" class="Comment">--    size (wnnf (¬ (φ ⇒ ψ))) ≤⟨⟩</a>
<a id="19382" class="Comment">--    size (wnnf φ ⇒ wnnf (¬ ψ)) ≤⟨⟩</a>
<a id="19419" class="Comment">--    1 + size (wnnf φ) + size (wnnf (¬ ψ)) ≤⟨ size-reasoning-¬' {size (wnnf φ)} {size (wnnf (¬ ψ))} (size φ) (size ψ) indφ ind¬ψ ⟩</a>
<a id="19551" class="Comment">--    2 * (2 + size φ + size ψ) ∸ 1 ≤⟨⟩</a>
<a id="19591" class="Comment">--    2 * size (¬ (φ ⇒ ψ)) ∸ 1 ∎≤</a>

<a id="19626" class="Comment">-- wnnf-size (¬ (φ ⇔ ψ))</a>
<a id="19651" class="Comment">--    with wnnf-size φ | wnnf-size (¬ ψ)</a>
<a id="19692" class="Comment">-- ... | indφ | ind¬ψ = size-reasoning-¬' {size (wnnf φ)} {size (wnnf (¬ ψ))} (size φ) (size ψ) indφ ind¬ψ</a>

<a id="19800" href="/lia/part1/NormalForms/#17599" class="Function">wnnf-size</a> <a id="19810" class="Symbol">(</a><a id="19811" href="/lia/part1/NormalForms/#19811" class="Bound">φ</a> <a id="19813" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="19815" href="/lia/part1/NormalForms/#19815" class="Bound">ψ</a><a id="19816" class="Symbol">)</a>
  <a id="19820" class="Keyword">with</a> <a id="19825" href="/lia/part1/NormalForms/#17599" class="Function">wnnf-size</a> <a id="19835" href="/lia/part1/NormalForms/#19811" class="Bound">φ</a> <a id="19837" class="Symbol">|</a> <a id="19839" href="/lia/part1/NormalForms/#17599" class="Function">wnnf-size</a> <a id="19849" href="/lia/part1/NormalForms/#19815" class="Bound">ψ</a>
<a id="19851" class="Symbol">...</a> <a id="19855" class="Symbol">|</a> <a id="19857" href="/lia/part1/NormalForms/#19857" class="Bound">indφ</a> <a id="19862" class="Symbol">|</a> <a id="19864" href="/lia/part1/NormalForms/#19864" class="Bound">indψ</a> <a id="19869" class="Symbol">=</a> <a id="19871" href="/lia/part0/Naturals/#2432" class="Function Operator">begin≤</a>
   <a id="19881" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19886" class="Symbol">(</a><a id="19887" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="19892" class="Symbol">(</a><a id="19893" class="Bound">φ</a> <a id="19895" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="19897" class="Bound">ψ</a><a id="19898" class="Symbol">))</a> <a id="19901" href="/lia/part0/Naturals/#2532" class="Function Operator">≤⟨⟩</a>
   <a id="19908" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19913" class="Symbol">(</a><a id="19914" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="19919" class="Bound">φ</a> <a id="19921" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="19923" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="19928" class="Bound">ψ</a><a id="19929" class="Symbol">)</a> <a id="19931" href="/lia/part0/Naturals/#2532" class="Function Operator">≤⟨⟩</a>
   <a id="19938" class="Number">1</a> <a id="19940" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="19942" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19947" class="Symbol">(</a><a id="19948" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="19953" class="Bound">φ</a><a id="19954" class="Symbol">)</a> <a id="19956" href="/lia/part0/Naturals/#3613" class="Function Operator">+</a> <a id="19958" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19963" class="Symbol">(</a><a id="19964" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="19969" class="Bound">ψ</a><a id="19970" class="Symbol">)</a> <a id="19972" href="/lia/part0/Naturals/#2699" class="Function Operator">≤⟨</a> <a id="19975" href="/lia/part1/NormalForms/#17743" class="Function">size-reasoning</a> <a id="19990" class="Symbol">(</a><a id="19991" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="19996" class="Bound">φ</a><a id="19997" class="Symbol">)</a> <a id="19999" class="Symbol">(</a><a id="20000" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="20005" class="Bound">ψ</a><a id="20006" class="Symbol">)</a> <a id="20008" href="/lia/part1/NormalForms/#19857" class="Bound">indφ</a> <a id="20013" href="/lia/part1/NormalForms/#19864" class="Bound">indψ</a> <a id="20018" href="/lia/part0/Naturals/#2699" class="Function Operator">⟩</a>
   <a id="20023" class="Number">2</a> <a id="20025" href="/lia/part0/Naturals/#4223" class="Function Operator">*</a> <a id="20027" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="20032" class="Symbol">(</a><a id="20033" class="Bound">φ</a> <a id="20035" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="20037" class="Bound">ψ</a><a id="20038" class="Symbol">)</a> <a id="20040" href="/lia/part0/Naturals/#4772" class="Function Operator">∸</a> <a id="20042" class="Number">1</a> <a id="20044" href="/lia/part0/Naturals/#3245" class="Function Operator">∎≤</a>

<a id="20048" href="/lia/part1/NormalForms/#17599" class="Function">wnnf-size</a> <a id="20058" class="Symbol">(</a><a id="20059" href="/lia/part1/NormalForms/#20059" class="Bound">φ</a> <a id="20061" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="20063" href="/lia/part1/NormalForms/#20063" class="Bound">ψ</a><a id="20064" class="Symbol">)</a> <a id="20066" class="Symbol">=</a> <a id="20068" href="/lia/part1/NormalForms/#17743" class="Function">size-reasoning</a> <a id="20083" class="Symbol">(</a><a id="20084" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="20089" href="/lia/part1/NormalForms/#20059" class="Bound">φ</a><a id="20090" class="Symbol">)</a> <a id="20092" class="Symbol">(</a><a id="20093" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="20098" href="/lia/part1/NormalForms/#20063" class="Bound">ψ</a><a id="20099" class="Symbol">)</a> <a id="20101" class="Symbol">(</a><a id="20102" href="/lia/part1/NormalForms/#17599" class="Function">wnnf-size</a> <a id="20112" href="/lia/part1/NormalForms/#20059" class="Bound">φ</a><a id="20113" class="Symbol">)</a> <a id="20115" class="Symbol">(</a><a id="20116" href="/lia/part1/NormalForms/#17599" class="Function">wnnf-size</a> <a id="20126" href="/lia/part1/NormalForms/#20063" class="Bound">ψ</a><a id="20127" class="Symbol">)</a>
<a id="20129" href="/lia/part1/NormalForms/#17599" class="Function">wnnf-size</a> <a id="20139" class="Symbol">(</a><a id="20140" href="/lia/part1/NormalForms/#20140" class="Bound">φ</a> <a id="20142" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="20144" href="/lia/part1/NormalForms/#20144" class="Bound">ψ</a><a id="20145" class="Symbol">)</a> <a id="20147" class="Symbol">=</a> <a id="20149" href="/lia/part1/NormalForms/#17743" class="Function">size-reasoning</a> <a id="20164" class="Symbol">(</a><a id="20165" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="20170" href="/lia/part1/NormalForms/#20140" class="Bound">φ</a><a id="20171" class="Symbol">)</a> <a id="20173" class="Symbol">(</a><a id="20174" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="20179" href="/lia/part1/NormalForms/#20144" class="Bound">ψ</a><a id="20180" class="Symbol">)</a> <a id="20182" class="Symbol">(</a><a id="20183" href="/lia/part1/NormalForms/#17599" class="Function">wnnf-size</a> <a id="20193" href="/lia/part1/NormalForms/#20140" class="Bound">φ</a><a id="20194" class="Symbol">)</a> <a id="20196" class="Symbol">(</a><a id="20197" href="/lia/part1/NormalForms/#17599" class="Function">wnnf-size</a> <a id="20207" href="/lia/part1/NormalForms/#20144" class="Bound">ψ</a><a id="20208" class="Symbol">)</a>
<a id="20210" href="/lia/part1/NormalForms/#17599" class="Function">wnnf-size</a> <a id="20220" class="Symbol">(</a><a id="20221" href="/lia/part1/NormalForms/#20221" class="Bound">φ</a> <a id="20223" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="20225" href="/lia/part1/NormalForms/#20225" class="Bound">ψ</a><a id="20226" class="Symbol">)</a> <a id="20228" class="Symbol">=</a> <a id="20230" href="/lia/part1/NormalForms/#17743" class="Function">size-reasoning</a> <a id="20245" class="Symbol">(</a><a id="20246" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="20251" href="/lia/part1/NormalForms/#20221" class="Bound">φ</a><a id="20252" class="Symbol">)</a> <a id="20254" class="Symbol">(</a><a id="20255" href="/lia/part1/NormalForms/#13563" class="Function">size</a> <a id="20260" href="/lia/part1/NormalForms/#20225" class="Bound">ψ</a><a id="20261" class="Symbol">)</a> <a id="20263" class="Symbol">(</a><a id="20264" href="/lia/part1/NormalForms/#17599" class="Function">wnnf-size</a> <a id="20274" href="/lia/part1/NormalForms/#20221" class="Bound">φ</a><a id="20275" class="Symbol">)</a> <a id="20277" class="Symbol">(</a><a id="20278" href="/lia/part1/NormalForms/#17599" class="Function">wnnf-size</a> <a id="20288" href="/lia/part1/NormalForms/#20225" class="Bound">ψ</a><a id="20289" class="Symbol">)</a>

<a id="20292" href="/lia/part1/NormalForms/#17648" class="Function">wnnf-size-¬</a> <a id="20304" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="20306" class="Symbol">=</a> <a id="20308" class="Symbol">{!!}</a>
<a id="20313" href="/lia/part1/NormalForms/#17648" class="Function">wnnf-size-¬</a> <a id="20325" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="20327" class="Symbol">=</a> <a id="20329" class="Symbol">{!!}</a>
<a id="20334" href="/lia/part1/NormalForms/#17648" class="Function">wnnf-size-¬</a> <a id="20346" class="Symbol">(</a><a id="20347" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="20349" href="/lia/part1/NormalForms/#20349" class="Bound">p</a><a id="20350" class="Symbol">)</a> <a id="20352" class="Symbol">=</a> <a id="20354" class="Symbol">{!!}</a>
<a id="20359" href="/lia/part1/NormalForms/#17648" class="Function">wnnf-size-¬</a> <a id="20371" class="Symbol">(</a><a id="20372" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="20374" href="/lia/part1/NormalForms/#20374" class="Bound">φ</a><a id="20375" class="Symbol">)</a> <a id="20377" class="Symbol">=</a> <a id="20379" class="Symbol">{!!}</a>
<a id="20384" href="/lia/part1/NormalForms/#17648" class="Function">wnnf-size-¬</a> <a id="20396" class="Symbol">(</a><a id="20397" href="/lia/part1/NormalForms/#20397" class="Bound">φ</a> <a id="20399" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="20401" href="/lia/part1/NormalForms/#20401" class="Bound">ψ</a><a id="20402" class="Symbol">)</a> <a id="20404" class="Symbol">=</a> <a id="20406" class="Symbol">{! size-reasoning (size φ) (size ψ) (wnnf-size-¬ φ) (wnnf-size-¬ ψ) !}</a>
<a id="20477" href="/lia/part1/NormalForms/#17648" class="Function">wnnf-size-¬</a> <a id="20489" class="Symbol">(</a><a id="20490" href="/lia/part1/NormalForms/#20490" class="Bound">φ</a> <a id="20492" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="20494" href="/lia/part1/NormalForms/#20494" class="Bound">ψ</a><a id="20495" class="Symbol">)</a> <a id="20497" class="Symbol">=</a> <a id="20499" class="Symbol">{!!}</a>
<a id="20504" href="/lia/part1/NormalForms/#17648" class="Function">wnnf-size-¬</a> <a id="20516" class="Symbol">(</a><a id="20517" href="/lia/part1/NormalForms/#20517" class="Bound">φ</a> <a id="20519" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="20521" href="/lia/part1/NormalForms/#20521" class="Bound">ψ</a><a id="20522" class="Symbol">)</a> <a id="20524" class="Symbol">=</a> <a id="20526" class="Symbol">{!!}</a>
<a id="20531" href="/lia/part1/NormalForms/#17648" class="Function">wnnf-size-¬</a> <a id="20543" class="Symbol">(</a><a id="20544" href="/lia/part1/NormalForms/#20544" class="Bound">φ</a> <a id="20546" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="20548" href="/lia/part1/NormalForms/#20548" class="Bound">ψ</a><a id="20549" class="Symbol">)</a> <a id="20551" class="Symbol">=</a> <a id="20553" class="Symbol">{!!}</a></pre>

</div>

<p>The second observation we can make is that sometimes the formula gets
smaller (e.g., when removing a double negation <code class="language-plaintext highlighter-rouge">¬ ¬ φ</code>), and sometimes
it gets larger, e.g., when a negation is pushed inside a conjunction
<code class="language-plaintext highlighter-rouge">¬ (φ ∧ ψ)</code> of size
`<code class="language-plaintext highlighter-rouge">(or disjunction), then it is pushed inside both subformulas</code>¬ φ ∧ ¬
ψ`.</p>

<p>We can now state, and prove, that <a href="#wnnf"><code class="language-plaintext highlighter-rouge">wnnf</code></a> produces an
<a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> formula with a linear size blowup:</p>

<pre class="Agda"><a id="20990" class="Comment">-- wnnf-size : ∀ φ → size (wnnf φ) ≤ 2 * size φ</a></pre>

<p>In order to prove <a href="#wnnf-size"><code class="language-plaintext highlighter-rouge">wnnf-size</code></a> above, we will need the
following stronger invariant for negated formulas:</p>

<pre class="Agda"><a id="21167" class="Comment">-- wnnf-size¬ : ∀ φ → size (wnnf (¬ φ)) ≤ 2 * size φ</a></pre>

<p>(This is indeed stronger since
<code class="language-plaintext highlighter-rouge">wnnf-size (¬ φ) : size (wnnf (¬ φ)) ≤ 2 * (1 + size φ)</code>.) We can now
proceed to prove <a href="#wnnf-size"><code class="language-plaintext highlighter-rouge">wnnf-size</code></a> and
<a href="#wnnf-size%C2%AC"><code class="language-plaintext highlighter-rouge">wnnf-size¬</code></a> by mutual induction. During the proof we
will use the following simple arithmetic reasoning (which we prove at
the end):</p>

<pre class="Agda"><a id="21527" class="Comment">-- size-reasoning : ∀ {a b} c {d} →</a>
<a id="21563" class="Comment">--   a ≤ 2 * c →</a>
<a id="21580" class="Comment">--   b ≤ 2 * d →</a>
<a id="21597" class="Comment">--   ---------------------------</a>
<a id="21630" class="Comment">--   1 + a + b ≤ 2 * (1 + c + d)</a></pre>
<pre class="Agda"><a id="21672" class="Comment">-- wnnf-size ⊤ = s≤s 0≤n</a>
<a id="21697" class="Comment">-- wnnf-size ⊥ = s≤s 0≤n</a>
<a id="21722" class="Comment">-- wnnf-size (` p) = s≤s 0≤n</a>

<a id="21752" class="Comment">-- wnnf-size (¬ φ) with wnnf-size¬ φ</a>
<a id="21789" class="Comment">-- ... | ind¬φ = begin≤</a>
<a id="21813" class="Comment">--   size (wnnf (¬ φ)) ≤⟨ ind¬φ ⟩</a>
<a id="21847" class="Comment">--   2 * size φ ≤⟨ cong-≤ (Num 2 *C □) (size-¬ φ) ⟩</a>
<a id="21899" class="Comment">--   2 * size (¬ φ) ∎≤</a>

<a id="21923" class="Comment">-- wnnf-size (φ ∧ ψ) with wnnf-size φ | wnnf-size ψ</a>
<a id="21975" class="Comment">-- ... | indφ | indψ = begin≤</a>
<a id="22005" class="Comment">--   size (wnnf (φ ∧ ψ)) ≤⟨⟩</a>
<a id="22034" class="Comment">--   size (wnnf φ ∧ wnnf ψ) ≤⟨⟩</a>
<a id="22066" class="Comment">--   1 + size (wnnf φ) + size (wnnf ψ) ≤⟨ size-reasoning (size φ) indφ indψ ⟩</a>
<a id="22144" class="Comment">--   2 * (1 + size φ + size ψ) ≤⟨⟩</a>
<a id="22179" class="Comment">--   2 * size (φ ∧ ψ) ∎≤</a></pre>

<p>The last three cases are similar and we give them in a shortened form.</p>

<pre class="Agda"><a id="22285" class="Comment">-- wnnf-size (φ ∨ ψ) = size-reasoning (size φ) (wnnf-size φ) (wnnf-size ψ)</a>
<a id="22360" class="Comment">-- wnnf-size (φ ⇒ ψ) = size-reasoning (size φ) (wnnf-size φ) (wnnf-size ψ)</a>
<a id="22435" class="Comment">-- wnnf-size (φ ⇔ ψ) = size-reasoning (size φ) (wnnf-size φ) (wnnf-size ψ)</a></pre>

<p>Proof for negated formulas:</p>

<pre class="Agda"><a id="22548" class="Comment">-- wnnf-size¬ ⊤ = s≤s 0≤n</a>
<a id="22574" class="Comment">-- wnnf-size¬ ⊥ = s≤s 0≤n</a>
<a id="22600" class="Comment">-- wnnf-size¬ (` p) = s≤s (s≤s 0≤n)</a>

<a id="22637" class="Comment">-- -- double negation!</a>
<a id="22660" class="Comment">-- wnnf-size¬ (¬ φ) with wnnf-size φ</a>
<a id="22697" class="Comment">-- ... | indφ = begin≤</a>
<a id="22720" class="Comment">--   size (wnnf (¬ ¬ φ)) ≤⟨⟩</a>
<a id="22749" class="Comment">--   size (wnnf φ) ≤⟨ indφ ⟩</a>
<a id="22778" class="Comment">--   2 * size φ ≤⟨ cong-≤ (Num 2 *C □) (size-¬ φ) ⟩</a>
<a id="22830" class="Comment">--   2 * size (¬ φ) ∎≤</a>

<a id="22854" class="Comment">-- wnnf-size¬ (φ ∧ ψ) = size-reasoning (size φ) (wnnf-size¬ φ) (wnnf-size¬ ψ)</a>
<a id="22932" class="Comment">-- wnnf-size¬ (φ ∨ ψ) = size-reasoning (size φ) (wnnf-size¬ φ) (wnnf-size¬ ψ)</a>
<a id="23010" class="Comment">-- wnnf-size¬ (φ ⇒ ψ) = size-reasoning (size φ) (wnnf-size φ) (wnnf-size¬ ψ)</a>
<a id="23087" class="Comment">-- wnnf-size¬ (φ ⇔ ψ) = size-reasoning (size φ) (wnnf-size φ) (wnnf-size¬ ψ)</a></pre>

<p>We now prove the common workhorse…</p>

<pre class="Agda"><a id="23211" class="Comment">-- size-reasoning {a} {b} c {d} a≤c b≤d = begin≤</a>
<a id="23260" class="Comment">--   1 + a + b</a>
<a id="23275" class="Comment">--     ≤≡⟨ assoc-+ {1} {a} ⟩</a>
<a id="23304" class="Comment">--   1 + ( a + b)</a>
<a id="23322" class="Comment">--     ≤⟨ {! cong2-≤ (Num 1 +C (□ fzero +C □ (fsuc fzero))) a≤c b≤d !} ⟩ --alternative: arithmetic expressions with variables</a>
<a id="23448" class="Comment">--   1 + (2 * c + 2 * d)</a>
<a id="23473" class="Comment">--     ≤≡⟨ cong (_+_ 1) (assocLeft-+* {2} {c}) ⟩</a>
<a id="23522" class="Comment">--   1 + 2 * (c + d)</a>
<a id="23543" class="Comment">--     ≤⟨ cong-≤ (□ +C Num _) 1≤2*1 ⟩</a>
<a id="23581" class="Comment">--   2 * 1 + 2 * (c + d)</a>
<a id="23606" class="Comment">--     ≤≡⟨ assocLeft-+* {2} {1} ⟩</a>
<a id="23640" class="Comment">--   2 * (1 + c + d) ∎≤</a>

<a id="23665" href="/lia/part1/NormalForms/#17743" class="Function">size-reasoning</a> <a id="23680" class="Symbol">=</a> <a id="23682" class="Symbol">{!!}</a></pre>

<p>The worst case of the <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> translation is achieved when a
single negation is pushed inside a formula of size <code class="language-plaintext highlighter-rouge">2*n</code> the form
<code class="language-plaintext highlighter-rouge">¬ (` p₁ ∨ ⋯ ∨ ` pₙ)</code>, yielding a <a href="#WNNF"><code class="language-plaintext highlighter-rouge">WNNF</code></a> formula
<code class="language-plaintext highlighter-rouge">¬ ` p₁ ∨ ⋯ ∨ ¬ ` pₙ</code> of size <code class="language-plaintext highlighter-rouge">3*n-1</code>. While this is not quite a
doubling in formula size and thus the bound in <a href="#wnnf-size"><code class="language-plaintext highlighter-rouge">wnnf-size</code></a>
is not tight, we stick to the current upper bound for simplicity.</p>

<h1 id="NNF">
<a class="anchor" href="#NNF" aria-hidden="true"><span class="octicon octicon-link"></span></a>Negation normal form</h1>

<p>A propositional formula <code class="language-plaintext highlighter-rouge">φ</code> is in <em>negation normal form</em> (NNF) if it
uses only the connectives <a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> ,
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> ,
<a href="../../part1/Semantics#Formula.%C2%AC_"><code class="language-plaintext highlighter-rouge">¬_</code></a> ,
<a href="../../part1/Semantics#Formula._%E2%88%A8_"><code class="language-plaintext highlighter-rouge">_∨_</code></a> , and
<a href="../../part1/Semantics#Formula._%E2%88%A7_"><code class="language-plaintext highlighter-rouge">_∧_</code></a> , and negation appears only
in front of propositional variables, i.e., inside literals. In
particular, a NNF formula does not contain the implication <code class="language-plaintext highlighter-rouge">⇒</code> and
bi-implication <code class="language-plaintext highlighter-rouge">⇔</code> connectives. This is captured by the following
definition<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote">1</a></sup>:</p>

<pre class="Agda"><a id="25589" class="Keyword">data</a> <a id="NNF"></a><a id="25594" href="/lia/part1/NormalForms/#25594" class="Datatype">NNF</a> <a id="25598" class="Symbol">:</a> <a id="25600" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a> <a id="25608" class="Symbol">→</a> <a id="25610" class="PrimitiveType">Set</a> <a id="25614" class="Keyword">where</a>
  <a id="NNF.⊤"></a><a id="25622" href="/lia/part1/NormalForms/#25622" class="InductiveConstructor">⊤</a> <a id="25624" class="Symbol">:</a> <a id="25626" href="/lia/part1/NormalForms/#25594" class="Datatype">NNF</a> <a id="25630" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a>
  <a id="NNF.⊥"></a><a id="25634" href="/lia/part1/NormalForms/#25634" class="InductiveConstructor">⊥</a> <a id="25636" class="Symbol">:</a> <a id="25638" href="/lia/part1/NormalForms/#25594" class="Datatype">NNF</a> <a id="25642" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a>
  <a id="NNF.`_"></a><a id="25646" href="/lia/part1/NormalForms/#25646" class="InductiveConstructor Operator">`_</a> <a id="25649" class="Symbol">:</a> <a id="25651" class="Symbol">(</a><a id="25652" href="/lia/part1/NormalForms/#25652" class="Bound">p</a> <a id="25654" class="Symbol">:</a> <a id="25656" href="/lia/part1/Semantics/#1069" class="Function">PropName</a><a id="25664" class="Symbol">)</a> <a id="25666" class="Symbol">→</a> <a id="25668" href="/lia/part1/NormalForms/#25594" class="Datatype">NNF</a> <a id="25672" class="Symbol">(</a><a id="25673" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="25675" href="/lia/part1/NormalForms/#25652" class="Bound">p</a><a id="25676" class="Symbol">)</a>
  <a id="NNF.¬`_"></a><a id="25680" href="/lia/part1/NormalForms/#25680" class="InductiveConstructor Operator">¬`_</a> <a id="25684" class="Symbol">:</a> <a id="25686" class="Symbol">(</a><a id="25687" href="/lia/part1/NormalForms/#25687" class="Bound">p</a> <a id="25689" class="Symbol">:</a> <a id="25691" href="/lia/part1/Semantics/#1069" class="Function">PropName</a><a id="25699" class="Symbol">)</a> <a id="25701" class="Symbol">→</a> <a id="25703" href="/lia/part1/NormalForms/#25594" class="Datatype">NNF</a> <a id="25707" class="Symbol">(</a><a id="25708" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="25710" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="25712" href="/lia/part1/NormalForms/#25687" class="Bound">p</a><a id="25713" class="Symbol">)</a>
  <a id="NNF._∧_"></a><a id="25717" href="/lia/part1/NormalForms/#25717" class="InductiveConstructor Operator">_∧_</a> <a id="25721" class="Symbol">:</a> <a id="25723" href="/lia/part1/NormalForms/#25594" class="Datatype">NNF</a> <a id="25727" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="25729" class="Symbol">→</a> <a id="25731" href="/lia/part1/NormalForms/#25594" class="Datatype">NNF</a> <a id="25735" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a> <a id="25737" class="Symbol">→</a> <a id="25739" href="/lia/part1/NormalForms/#25594" class="Datatype">NNF</a> <a id="25743" class="Symbol">(</a><a id="25744" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="25746" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="25748" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a><a id="25749" class="Symbol">)</a>
  <a id="NNF._∨_"></a><a id="25753" href="/lia/part1/NormalForms/#25753" class="InductiveConstructor Operator">_∨_</a> <a id="25757" class="Symbol">:</a> <a id="25759" href="/lia/part1/NormalForms/#25594" class="Datatype">NNF</a> <a id="25763" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="25765" class="Symbol">→</a> <a id="25767" href="/lia/part1/NormalForms/#25594" class="Datatype">NNF</a> <a id="25771" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a> <a id="25773" class="Symbol">→</a> <a id="25775" href="/lia/part1/NormalForms/#25594" class="Datatype">NNF</a> <a id="25779" class="Symbol">(</a><a id="25780" href="/lia/part1/NormalForms/#238" class="Generalizable">φ</a> <a id="25782" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="25784" href="/lia/part1/NormalForms/#240" class="Generalizable">ψ</a><a id="25785" class="Symbol">)</a></pre>

<p>Given a formula <code class="language-plaintext highlighter-rouge">φ</code>, we can decide whether it is in NNF or not:</p>

<pre class="Agda"><a id="NNF?"></a><a id="25861" href="/lia/part1/NormalForms/#25861" class="Function">NNF?</a> <a id="25866" class="Symbol">:</a> <a id="25868" class="Symbol">∀</a> <a id="25870" href="/lia/part1/NormalForms/#25870" class="Bound">φ</a> <a id="25872" class="Symbol">→</a> <a id="25874" href="/lia/part0/Decidable/#150" class="Datatype">Dec</a> <a id="25878" class="Symbol">(</a><a id="25879" href="/lia/part1/NormalForms/#25594" class="Datatype">NNF</a> <a id="25883" href="/lia/part1/NormalForms/#25870" class="Bound">φ</a><a id="25884" class="Symbol">)</a></pre>

<div class="introbox">

  <p>The proof works by inspecting <code class="language-plaintext highlighter-rouge">φ</code> sufficiently deeply.
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="25968" href="/lia/part1/NormalForms/#25861" class="Function">NNF?</a> <a id="25973" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="25975" class="Symbol">=</a> <a id="25977" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="25981" href="/lia/part1/NormalForms/#25634" class="InductiveConstructor">⊥</a>
<a id="25983" href="/lia/part1/NormalForms/#25861" class="Function">NNF?</a> <a id="25988" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="25990" class="Symbol">=</a> <a id="25992" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="25996" href="/lia/part1/NormalForms/#25622" class="InductiveConstructor">⊤</a>
<a id="25998" href="/lia/part1/NormalForms/#25861" class="Function">NNF?</a> <a id="26003" class="Symbol">(</a><a id="26004" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="26006" href="/lia/part1/NormalForms/#26006" class="Bound">p</a><a id="26007" class="Symbol">)</a> <a id="26009" class="Symbol">=</a> <a id="26011" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="26015" class="Symbol">(</a><a id="26016" href="/lia/part1/NormalForms/#25646" class="InductiveConstructor Operator">`</a> <a id="26018" href="/lia/part1/NormalForms/#26006" class="Bound">p</a><a id="26019" class="Symbol">)</a>

<a id="26022" href="/lia/part1/NormalForms/#25861" class="Function">NNF?</a> <a id="26027" class="Symbol">(</a><a id="26028" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="26030" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a><a id="26031" class="Symbol">)</a> <a id="26033" class="Symbol">=</a> <a id="26035" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="26038" class="Symbol">λ</a> <a id="26040" class="Symbol">()</a>
<a id="26043" href="/lia/part1/NormalForms/#25861" class="Function">NNF?</a> <a id="26048" class="Symbol">(</a><a id="26049" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="26051" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a><a id="26052" class="Symbol">)</a> <a id="26054" class="Symbol">=</a> <a id="26056" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="26059" class="Symbol">λ</a> <a id="26061" class="Symbol">()</a>
<a id="26064" href="/lia/part1/NormalForms/#25861" class="Function">NNF?</a> <a id="26069" class="Symbol">(</a><a id="26070" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="26072" class="Symbol">(</a><a id="26073" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="26075" href="/lia/part1/NormalForms/#26075" class="Bound">p</a><a id="26076" class="Symbol">))</a> <a id="26079" class="Symbol">=</a> <a id="26081" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="26085" class="Symbol">(</a><a id="26086" href="/lia/part1/NormalForms/#25680" class="InductiveConstructor Operator">¬`</a> <a id="26089" href="/lia/part1/NormalForms/#26075" class="Bound">p</a><a id="26090" class="Symbol">)</a>
<a id="26092" href="/lia/part1/NormalForms/#25861" class="Function">NNF?</a> <a id="26097" class="Symbol">(</a><a id="26098" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="26100" class="Symbol">(</a><a id="26101" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="26103" class="Symbol">_))</a> <a id="26107" class="Symbol">=</a> <a id="26109" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="26112" class="Symbol">λ</a> <a id="26114" class="Symbol">()</a>
<a id="26117" href="/lia/part1/NormalForms/#25861" class="Function">NNF?</a> <a id="26122" class="Symbol">(</a><a id="26123" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="26125" class="Symbol">(_</a> <a id="26128" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="26130" class="Symbol">_))</a> <a id="26134" class="Symbol">=</a> <a id="26136" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="26139" class="Symbol">λ</a> <a id="26141" class="Symbol">()</a>
<a id="26144" href="/lia/part1/NormalForms/#25861" class="Function">NNF?</a> <a id="26149" class="Symbol">(</a><a id="26150" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="26152" class="Symbol">(_</a> <a id="26155" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="26157" class="Symbol">_))</a> <a id="26161" class="Symbol">=</a> <a id="26163" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="26166" class="Symbol">λ</a> <a id="26168" class="Symbol">()</a>
<a id="26171" href="/lia/part1/NormalForms/#25861" class="Function">NNF?</a> <a id="26176" class="Symbol">(</a><a id="26177" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="26179" class="Symbol">(_</a> <a id="26182" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="26184" class="Symbol">_))</a> <a id="26188" class="Symbol">=</a> <a id="26190" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="26193" class="Symbol">λ</a> <a id="26195" class="Symbol">()</a>
<a id="26198" href="/lia/part1/NormalForms/#25861" class="Function">NNF?</a> <a id="26203" class="Symbol">(</a><a id="26204" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="26206" class="Symbol">(_</a> <a id="26209" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="26211" class="Symbol">_))</a> <a id="26215" class="Symbol">=</a> <a id="26217" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="26220" class="Symbol">λ</a> <a id="26222" class="Symbol">()</a>

<a id="26226" href="/lia/part1/NormalForms/#25861" class="Function">NNF?</a> <a id="26231" class="Symbol">(</a><a id="26232" href="/lia/part1/NormalForms/#26232" class="Bound">φ</a> <a id="26234" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="26236" href="/lia/part1/NormalForms/#26236" class="Bound">ψ</a><a id="26237" class="Symbol">)</a>
  <a id="26241" class="Keyword">with</a> <a id="26246" href="/lia/part1/NormalForms/#25861" class="Function">NNF?</a> <a id="26251" href="/lia/part1/NormalForms/#26232" class="Bound">φ</a> <a id="26253" class="Symbol">|</a>
       <a id="26262" href="/lia/part1/NormalForms/#25861" class="Function">NNF?</a> <a id="26267" href="/lia/part1/NormalForms/#26236" class="Bound">ψ</a>
<a id="26269" class="Symbol">...</a> <a id="26273" class="Symbol">|</a> <a id="26275" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="26279" href="/lia/part1/NormalForms/#26279" class="Bound">nnfφ</a> <a id="26284" class="Symbol">|</a> <a id="26286" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="26290" href="/lia/part1/NormalForms/#26290" class="Bound">nnfψ</a> <a id="26295" class="Symbol">=</a> <a id="26297" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="26301" class="Symbol">(</a><a id="26302" href="/lia/part1/NormalForms/#26279" class="Bound">nnfφ</a> <a id="26307" href="/lia/part1/NormalForms/#25753" class="InductiveConstructor Operator">∨</a> <a id="26309" href="/lia/part1/NormalForms/#26290" class="Bound">nnfψ</a><a id="26313" class="Symbol">)</a>
<a id="26315" class="Symbol">...</a> <a id="26319" class="Symbol">|</a> <a id="26321" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="26324" href="/lia/part1/NormalForms/#26324" class="Bound">¬nnfφ</a> <a id="26330" class="Symbol">|</a> <a id="26332" class="Symbol">_</a> <a id="26334" class="Symbol">=</a> <a id="26336" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="26339" class="Symbol">λ{</a> <a id="26342" class="Symbol">(</a><a id="26343" href="/lia/part1/NormalForms/#26343" class="Bound">nnfφ</a> <a id="26348" href="/lia/part1/NormalForms/#25753" class="InductiveConstructor Operator">∨</a> <a id="26350" class="Symbol">_)</a> <a id="26353" class="Symbol">→</a> <a id="26355" href="/lia/part1/NormalForms/#26324" class="Bound">¬nnfφ</a> <a id="26361" href="/lia/part1/NormalForms/#26343" class="Bound">nnfφ</a><a id="26365" class="Symbol">}</a>
<a id="26367" class="CatchallClause Symbol">...</a><a id="26370" class="CatchallClause"> </a><a id="26371" class="CatchallClause Symbol">|</a><a id="26372" class="CatchallClause"> </a><a id="26373" class="CatchallClause Symbol">_</a><a id="26374" class="CatchallClause"> </a><a id="26375" class="CatchallClause Symbol">|</a><a id="26376" class="CatchallClause"> </a><a id="26377" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="26379" class="CatchallClause"> </a><a id="26380" href="/lia/part1/NormalForms/#26380" class="CatchallClause Bound">¬nnfψ</a> <a id="26386" class="Symbol">=</a> <a id="26388" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="26391" class="Symbol">λ{</a> <a id="26394" class="Symbol">(_</a> <a id="26397" href="/lia/part1/NormalForms/#25753" class="InductiveConstructor Operator">∨</a> <a id="26399" href="/lia/part1/NormalForms/#26399" class="Bound">nnfψ</a><a id="26403" class="Symbol">)</a> <a id="26405" class="Symbol">→</a> <a id="26407" href="/lia/part1/NormalForms/#26380" class="Bound">¬nnfψ</a> <a id="26413" href="/lia/part1/NormalForms/#26399" class="Bound">nnfψ</a><a id="26417" class="Symbol">}</a>

<a id="26420" href="/lia/part1/NormalForms/#25861" class="Function">NNF?</a> <a id="26425" class="Symbol">(</a><a id="26426" href="/lia/part1/NormalForms/#26426" class="Bound">φ</a> <a id="26428" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="26430" href="/lia/part1/NormalForms/#26430" class="Bound">ψ</a><a id="26431" class="Symbol">)</a>
  <a id="26435" class="Keyword">with</a> <a id="26440" href="/lia/part1/NormalForms/#25861" class="Function">NNF?</a> <a id="26445" href="/lia/part1/NormalForms/#26426" class="Bound">φ</a> <a id="26447" class="Symbol">|</a>
       <a id="26456" href="/lia/part1/NormalForms/#25861" class="Function">NNF?</a> <a id="26461" href="/lia/part1/NormalForms/#26430" class="Bound">ψ</a>
<a id="26463" class="Symbol">...</a> <a id="26467" class="Symbol">|</a> <a id="26469" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="26473" href="/lia/part1/NormalForms/#26473" class="Bound">nnfφ</a> <a id="26478" class="Symbol">|</a> <a id="26480" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="26484" href="/lia/part1/NormalForms/#26484" class="Bound">nnfψ</a> <a id="26489" class="Symbol">=</a> <a id="26491" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="26495" class="Symbol">(</a><a id="26496" href="/lia/part1/NormalForms/#26473" class="Bound">nnfφ</a> <a id="26501" href="/lia/part1/NormalForms/#25717" class="InductiveConstructor Operator">∧</a> <a id="26503" href="/lia/part1/NormalForms/#26484" class="Bound">nnfψ</a><a id="26507" class="Symbol">)</a>
<a id="26509" class="Symbol">...</a> <a id="26513" class="Symbol">|</a> <a id="26515" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="26518" href="/lia/part1/NormalForms/#26518" class="Bound">¬nnfφ</a> <a id="26524" class="Symbol">|</a> <a id="26526" class="Symbol">_</a> <a id="26528" class="Symbol">=</a> <a id="26530" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="26533" class="Symbol">λ{</a> <a id="26536" class="Symbol">(</a><a id="26537" href="/lia/part1/NormalForms/#26537" class="Bound">nnfφ</a> <a id="26542" href="/lia/part1/NormalForms/#25717" class="InductiveConstructor Operator">∧</a> <a id="26544" class="Symbol">_)</a> <a id="26547" class="Symbol">→</a> <a id="26549" href="/lia/part1/NormalForms/#26518" class="Bound">¬nnfφ</a> <a id="26555" href="/lia/part1/NormalForms/#26537" class="Bound">nnfφ</a><a id="26559" class="Symbol">}</a>
<a id="26561" class="CatchallClause Symbol">...</a><a id="26564" class="CatchallClause"> </a><a id="26565" class="CatchallClause Symbol">|</a><a id="26566" class="CatchallClause"> </a><a id="26567" class="CatchallClause Symbol">_</a><a id="26568" class="CatchallClause"> </a><a id="26569" class="CatchallClause Symbol">|</a><a id="26570" class="CatchallClause"> </a><a id="26571" href="/lia/part0/Decidable/#204" class="CatchallClause InductiveConstructor">no</a><a id="26573" class="CatchallClause"> </a><a id="26574" href="/lia/part1/NormalForms/#26574" class="CatchallClause Bound">¬nnfψ</a> <a id="26580" class="Symbol">=</a> <a id="26582" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="26585" class="Symbol">λ{</a> <a id="26588" class="Symbol">(_</a> <a id="26591" href="/lia/part1/NormalForms/#25717" class="InductiveConstructor Operator">∧</a> <a id="26593" href="/lia/part1/NormalForms/#26593" class="Bound">nnfψ</a><a id="26597" class="Symbol">)</a> <a id="26599" class="Symbol">→</a> <a id="26601" href="/lia/part1/NormalForms/#26574" class="Bound">¬nnfψ</a> <a id="26607" href="/lia/part1/NormalForms/#26593" class="Bound">nnfψ</a><a id="26611" class="Symbol">}</a>

<a id="26614" href="/lia/part1/NormalForms/#25861" class="Function">NNF?</a> <a id="26619" class="Symbol">(_</a> <a id="26622" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="26624" class="Symbol">_)</a> <a id="26627" class="Symbol">=</a> <a id="26629" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="26632" class="Symbol">λ</a> <a id="26634" class="Symbol">()</a>
<a id="26637" href="/lia/part1/NormalForms/#25861" class="Function">NNF?</a> <a id="26642" class="Symbol">(_</a> <a id="26645" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="26647" class="Symbol">_)</a> <a id="26650" class="Symbol">=</a> <a id="26652" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="26655" class="Symbol">λ</a> <a id="26657" class="Symbol">()</a></pre>

</div>

<pre class="Agda"><a id="26673" class="Comment">--ψ₀ ψ₁ ψ₂ ψ₃ ψ₄ ψ₅ : Formula</a></pre>

<div class="inlinecode">

  <p>For instance, the formulas</p>
  <pre class="Agda"><a id="26768" class="Comment">--ψ₀ = ⊤</a></pre>
  <p>,</p>
  <pre class="Agda"><a id="26787" class="Comment">--ψ₁ = ¬ ` p₀ ∨ ` p₁</a></pre>
  <p>, and</p>
  <pre class="Agda"><a id="26822" class="Comment">--ψ₂ = ¬ ` p₀ ∧ (` p₁ ∨ ¬ ` p₂)</a></pre>
  <p>are in NNF, while</p>
  <pre class="Agda"><a id="26880" class="Comment">--ψ₃ = ¬ ⊤</a></pre>
  <p>,</p>
  <pre class="Agda"><a id="26901" class="Comment">--ψ₄ = ¬ ¬ ` p₀</a></pre>
  <p>, and</p>
  <pre class="Agda"><a id="26931" class="Comment">--ψ₅ = ¬ (` p₀ ∨ ` p₁)</a></pre>

  <p>are not, as we automatically check:</p>

</div>

<pre class="Agda"><a id="27014" class="Comment">--_ : All? NNF? ([ ψ₀ ψ₁ ψ₂ ]) ×? All? (~?_ ∘ NNF?) ([ ψ₃ ψ₄ ψ₅ ]) ≡ yes _</a>
<a id="27089" class="Comment">--_ = refl</a></pre>

<h2 id="remove-implications-and-bi-implications">
<a class="anchor" href="#remove-implications-and-bi-implications" aria-hidden="true"><span class="octicon octicon-link"></span></a>Remove implications and bi-implications</h2>

<pre class="Agda"><a id="removeImp"></a><a id="27153" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="27163" class="Symbol">:</a> <a id="27165" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a> <a id="27173" class="Symbol">→</a> <a id="27175" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a>
<a id="27183" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="27193" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="27195" class="Symbol">=</a> <a id="27197" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a>
<a id="27199" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="27209" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="27211" class="Symbol">=</a> <a id="27213" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a>
<a id="27215" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="27225" class="Symbol">(</a><a id="27226" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="27228" href="/lia/part1/NormalForms/#27228" class="Bound">p</a><a id="27229" class="Symbol">)</a> <a id="27231" class="Symbol">=</a> <a id="27233" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="27235" href="/lia/part1/NormalForms/#27228" class="Bound">p</a>
<a id="27237" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="27247" class="Symbol">(</a><a id="27248" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="27250" href="/lia/part1/NormalForms/#27250" class="Bound">φ</a><a id="27251" class="Symbol">)</a> <a id="27253" class="Symbol">=</a> <a id="27255" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="27257" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="27267" href="/lia/part1/NormalForms/#27250" class="Bound">φ</a>
<a id="27269" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="27279" class="Symbol">(</a><a id="27280" href="/lia/part1/NormalForms/#27280" class="Bound">φ</a> <a id="27282" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="27284" href="/lia/part1/NormalForms/#27284" class="Bound">ψ</a><a id="27285" class="Symbol">)</a> <a id="27287" class="Symbol">=</a> <a id="27289" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="27299" href="/lia/part1/NormalForms/#27280" class="Bound">φ</a> <a id="27301" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="27303" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="27313" href="/lia/part1/NormalForms/#27284" class="Bound">ψ</a>
<a id="27315" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="27325" class="Symbol">(</a><a id="27326" href="/lia/part1/NormalForms/#27326" class="Bound">φ</a> <a id="27328" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="27330" href="/lia/part1/NormalForms/#27330" class="Bound">ψ</a><a id="27331" class="Symbol">)</a> <a id="27333" class="Symbol">=</a> <a id="27335" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="27345" href="/lia/part1/NormalForms/#27326" class="Bound">φ</a> <a id="27347" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="27349" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="27359" href="/lia/part1/NormalForms/#27330" class="Bound">ψ</a>
<a id="27361" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="27371" class="Symbol">(</a><a id="27372" href="/lia/part1/NormalForms/#27372" class="Bound">φ</a> <a id="27374" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="27376" href="/lia/part1/NormalForms/#27376" class="Bound">ψ</a><a id="27377" class="Symbol">)</a> <a id="27379" class="Symbol">=</a> <a id="27381" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="27383" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="27393" href="/lia/part1/NormalForms/#27372" class="Bound">φ</a> <a id="27395" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="27397" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="27407" href="/lia/part1/NormalForms/#27376" class="Bound">ψ</a>
<a id="27409" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="27419" class="Symbol">(</a><a id="27420" href="/lia/part1/NormalForms/#27420" class="Bound">φ</a> <a id="27422" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="27424" href="/lia/part1/NormalForms/#27424" class="Bound">ψ</a><a id="27425" class="Symbol">)</a> <a id="27427" class="Keyword">with</a> <a id="27432" href="/lia/part1/NormalForms/#27432" class="Bound">φ́</a> ← <a id="27437" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="27447" href="/lia/part1/NormalForms/#27420" class="Bound">φ</a> <a id="27449" class="Symbol">|</a> <a id="27451" href="/lia/part1/NormalForms/#27451" class="Bound">ψ́</a> ← <a id="27456" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="27466" href="/lia/part1/NormalForms/#27424" class="Bound">ψ</a>
  <a id="27470" class="Symbol">=</a> <a id="27472" class="Symbol">(</a><a id="27473" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="27475" href="/lia/part1/NormalForms/#27432" class="Bound">φ́</a> <a id="27478" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="27480" href="/lia/part1/NormalForms/#27451" class="Bound">ψ́</a><a id="27482" class="Symbol">)</a> <a id="27484" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="27486" class="Symbol">(</a><a id="27487" href="/lia/part1/NormalForms/#27432" class="Bound">φ́</a> <a id="27490" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="27492" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="27494" href="/lia/part1/NormalForms/#27451" class="Bound">ψ́</a><a id="27496" class="Symbol">)</a>

<a id="removeImp-sound"></a><a id="27499" href="/lia/part1/NormalForms/#27499" class="Function">removeImp-sound</a> <a id="27515" class="Symbol">:</a> <a id="27517" class="Symbol">∀</a> <a id="27519" href="/lia/part1/NormalForms/#27519" class="Bound">φ</a> <a id="27521" class="Symbol">→</a> <a id="27523" href="/lia/part1/NormalForms/#27519" class="Bound">φ</a> <a id="27525" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="27527" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="27537" href="/lia/part1/NormalForms/#27519" class="Bound">φ</a>
<a id="27539" href="/lia/part1/NormalForms/#27499" class="Function">removeImp-sound</a> <a id="27555" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="27557" href="/lia/part1/NormalForms/#27557" class="Bound">ϱ</a> <a id="27559" class="Symbol">=</a> <a id="27561" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="27566" href="/lia/part1/NormalForms/#27499" class="Function">removeImp-sound</a> <a id="27582" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="27584" href="/lia/part1/NormalForms/#27584" class="Bound">ϱ</a> <a id="27586" class="Symbol">=</a> <a id="27588" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="27593" href="/lia/part1/NormalForms/#27499" class="Function">removeImp-sound</a> <a id="27609" class="Symbol">(</a><a id="27610" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="27612" href="/lia/part1/NormalForms/#27612" class="Bound">p</a><a id="27613" class="Symbol">)</a> <a id="27615" href="/lia/part1/NormalForms/#27615" class="Bound">ϱ</a> <a id="27617" class="Symbol">=</a> <a id="27619" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="27624" href="/lia/part1/NormalForms/#27499" class="Function">removeImp-sound</a> <a id="27640" class="Symbol">(</a><a id="27641" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="27643" href="/lia/part1/NormalForms/#27643" class="Bound">φ</a><a id="27644" class="Symbol">)</a> <a id="27646" href="/lia/part1/NormalForms/#27646" class="Bound">ϱ</a>
  <a id="27650" class="Keyword">rewrite</a> <a id="27658" href="/lia/part1/NormalForms/#27499" class="Function">removeImp-sound</a> <a id="27674" href="/lia/part1/NormalForms/#27643" class="Bound">φ</a> <a id="27676" href="/lia/part1/NormalForms/#27646" class="Bound">ϱ</a> <a id="27678" class="Symbol">=</a> <a id="27680" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="27685" href="/lia/part1/NormalForms/#27499" class="Function">removeImp-sound</a> <a id="27701" class="Symbol">(</a><a id="27702" href="/lia/part1/NormalForms/#27702" class="Bound">φ</a> <a id="27704" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="27706" href="/lia/part1/NormalForms/#27706" class="Bound">ψ</a><a id="27707" class="Symbol">)</a> <a id="27709" href="/lia/part1/NormalForms/#27709" class="Bound">ϱ</a>
  <a id="27713" class="Keyword">rewrite</a> <a id="27721" href="/lia/part1/NormalForms/#27499" class="Function">removeImp-sound</a> <a id="27737" href="/lia/part1/NormalForms/#27702" class="Bound">φ</a> <a id="27739" href="/lia/part1/NormalForms/#27709" class="Bound">ϱ</a> <a id="27741" class="Symbol">|</a>
          <a id="27753" href="/lia/part1/NormalForms/#27499" class="Function">removeImp-sound</a> <a id="27769" href="/lia/part1/NormalForms/#27706" class="Bound">ψ</a> <a id="27771" href="/lia/part1/NormalForms/#27709" class="Bound">ϱ</a> <a id="27773" class="Symbol">=</a> <a id="27775" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="27780" href="/lia/part1/NormalForms/#27499" class="Function">removeImp-sound</a> <a id="27796" class="Symbol">(</a><a id="27797" href="/lia/part1/NormalForms/#27797" class="Bound">φ</a> <a id="27799" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="27801" href="/lia/part1/NormalForms/#27801" class="Bound">ψ</a><a id="27802" class="Symbol">)</a> <a id="27804" href="/lia/part1/NormalForms/#27804" class="Bound">ϱ</a>
  <a id="27808" class="Keyword">rewrite</a> <a id="27816" href="/lia/part1/NormalForms/#27499" class="Function">removeImp-sound</a> <a id="27832" href="/lia/part1/NormalForms/#27797" class="Bound">φ</a> <a id="27834" href="/lia/part1/NormalForms/#27804" class="Bound">ϱ</a> <a id="27836" class="Symbol">|</a>
          <a id="27848" href="/lia/part1/NormalForms/#27499" class="Function">removeImp-sound</a> <a id="27864" href="/lia/part1/NormalForms/#27801" class="Bound">ψ</a> <a id="27866" href="/lia/part1/NormalForms/#27804" class="Bound">ϱ</a> <a id="27868" class="Symbol">=</a> <a id="27870" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="27875" href="/lia/part1/NormalForms/#27499" class="Function">removeImp-sound</a> <a id="27891" class="Symbol">(</a><a id="27892" href="/lia/part1/NormalForms/#27892" class="Bound">φ</a> <a id="27894" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="27896" href="/lia/part1/NormalForms/#27896" class="Bound">ψ</a><a id="27897" class="Symbol">)</a> <a id="27899" href="/lia/part1/NormalForms/#27899" class="Bound">ϱ</a>
  <a id="27903" class="Keyword">rewrite</a> <a id="27911" href="/lia/part1/NormalForms/#27499" class="Function">removeImp-sound</a> <a id="27927" href="/lia/part1/NormalForms/#27892" class="Bound">φ</a> <a id="27929" href="/lia/part1/NormalForms/#27899" class="Bound">ϱ</a> <a id="27931" class="Symbol">|</a>
          <a id="27943" href="/lia/part1/NormalForms/#27499" class="Function">removeImp-sound</a> <a id="27959" href="/lia/part1/NormalForms/#27896" class="Bound">ψ</a> <a id="27961" href="/lia/part1/NormalForms/#27899" class="Bound">ϱ</a> <a id="27963" class="Symbol">|</a>
          <a id="27975" href="/lia/part1/Semantics/#31125" class="Function">expandImplies</a> <a id="27989" class="Symbol">(</a><a id="27990" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="28000" href="/lia/part1/NormalForms/#27892" class="Bound">φ</a><a id="28001" class="Symbol">)</a> <a id="28003" class="Symbol">(</a><a id="28004" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="28014" href="/lia/part1/NormalForms/#27896" class="Bound">ψ</a><a id="28015" class="Symbol">)</a> <a id="28017" href="/lia/part1/NormalForms/#27899" class="Bound">ϱ</a> <a id="28019" class="Symbol">=</a> <a id="28021" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="28026" href="/lia/part1/NormalForms/#27499" class="Function">removeImp-sound</a> <a id="28042" class="Symbol">(</a><a id="28043" href="/lia/part1/NormalForms/#28043" class="Bound">φ</a> <a id="28045" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="28047" href="/lia/part1/NormalForms/#28047" class="Bound">ψ</a><a id="28048" class="Symbol">)</a> <a id="28050" href="/lia/part1/NormalForms/#28050" class="Bound">ϱ</a>
  <a id="28054" class="Keyword">rewrite</a> <a id="28062" href="/lia/part1/NormalForms/#27499" class="Function">removeImp-sound</a> <a id="28078" href="/lia/part1/NormalForms/#28043" class="Bound">φ</a> <a id="28080" href="/lia/part1/NormalForms/#28050" class="Bound">ϱ</a> <a id="28082" class="Symbol">|</a>
          <a id="28094" href="/lia/part1/NormalForms/#27499" class="Function">removeImp-sound</a> <a id="28110" href="/lia/part1/NormalForms/#28047" class="Bound">ψ</a> <a id="28112" href="/lia/part1/NormalForms/#28050" class="Bound">ϱ</a> <a id="28114" class="Symbol">|</a>
          <a id="28126" href="/lia/part1/Semantics/#31165" class="Function">expandIff</a> <a id="28136" class="Symbol">(</a><a id="28137" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="28147" href="/lia/part1/NormalForms/#28043" class="Bound">φ</a><a id="28148" class="Symbol">)</a> <a id="28150" class="Symbol">(</a><a id="28151" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="28161" href="/lia/part1/NormalForms/#28047" class="Bound">ψ</a><a id="28162" class="Symbol">)</a> <a id="28164" href="/lia/part1/NormalForms/#28050" class="Bound">ϱ</a> <a id="28166" class="Symbol">=</a> <a id="28168" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="removeImp-impFree"></a><a id="28174" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="28192" class="Symbol">:</a> <a id="28194" class="Symbol">∀</a> <a id="28196" href="/lia/part1/NormalForms/#28196" class="Bound">φ</a> <a id="28198" class="Symbol">→</a> <a id="28200" href="/lia/part1/Semantics/#58416" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="28219" class="Symbol">(</a><a id="28220" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="28230" href="/lia/part1/NormalForms/#28196" class="Bound">φ</a><a id="28231" class="Symbol">)</a>
<a id="28233" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="28251" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="28253" class="Symbol">=</a> <a id="28255" href="/lia/part1/Semantics/#58459" class="InductiveConstructor">⊥</a>
<a id="28257" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="28275" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="28277" class="Symbol">=</a> <a id="28279" href="/lia/part1/Semantics/#58486" class="InductiveConstructor">⊤</a>
<a id="28281" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="28299" class="Symbol">(</a><a id="28300" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="28302" href="/lia/part1/NormalForms/#28302" class="Bound">p</a><a id="28303" class="Symbol">)</a> <a id="28305" class="Symbol">=</a> <a id="28307" href="/lia/part1/Semantics/#58513" class="InductiveConstructor Operator">`</a> <a id="28309" href="/lia/part1/NormalForms/#28302" class="Bound">p</a>
<a id="28311" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="28329" class="Symbol">(</a><a id="28330" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="28332" href="/lia/part1/NormalForms/#28332" class="Bound">φ</a><a id="28333" class="Symbol">)</a> <a id="28335" class="Symbol">=</a> <a id="28337" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="28339" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="28357" href="/lia/part1/NormalForms/#28332" class="Bound">φ</a>
<a id="28359" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="28377" class="Symbol">(</a><a id="28378" href="/lia/part1/NormalForms/#28378" class="Bound">φ</a> <a id="28380" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="28382" href="/lia/part1/NormalForms/#28382" class="Bound">ψ</a><a id="28383" class="Symbol">)</a> <a id="28385" class="Symbol">=</a> <a id="28387" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="28405" href="/lia/part1/NormalForms/#28378" class="Bound">φ</a> <a id="28407" href="/lia/part1/Semantics/#58614" class="InductiveConstructor Operator">∨</a> <a id="28409" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="28427" href="/lia/part1/NormalForms/#28382" class="Bound">ψ</a>
<a id="28429" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="28447" class="Symbol">(</a><a id="28448" href="/lia/part1/NormalForms/#28448" class="Bound">φ</a> <a id="28450" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="28452" href="/lia/part1/NormalForms/#28452" class="Bound">ψ</a><a id="28453" class="Symbol">)</a> <a id="28455" class="Symbol">=</a> <a id="28457" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="28475" href="/lia/part1/NormalForms/#28448" class="Bound">φ</a> <a id="28477" href="/lia/part1/Semantics/#58709" class="InductiveConstructor Operator">∧</a> <a id="28479" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="28497" href="/lia/part1/NormalForms/#28452" class="Bound">ψ</a>
<a id="28499" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="28517" class="Symbol">(</a><a id="28518" href="/lia/part1/NormalForms/#28518" class="Bound">φ</a> <a id="28520" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="28522" href="/lia/part1/NormalForms/#28522" class="Bound">ψ</a><a id="28523" class="Symbol">)</a> <a id="28525" class="Symbol">=</a> <a id="28527" class="Symbol">(</a><a id="28528" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="28530" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="28548" href="/lia/part1/NormalForms/#28518" class="Bound">φ</a><a id="28549" class="Symbol">)</a> <a id="28551" href="/lia/part1/Semantics/#58614" class="InductiveConstructor Operator">∨</a> <a id="28553" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="28571" href="/lia/part1/NormalForms/#28522" class="Bound">ψ</a>
<a id="28573" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="28591" class="Symbol">(</a><a id="28592" href="/lia/part1/NormalForms/#28592" class="Bound">φ</a> <a id="28594" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">⇔</a> <a id="28596" href="/lia/part1/NormalForms/#28596" class="Bound">ψ</a><a id="28597" class="Symbol">)</a> <a id="28599" class="Symbol">=</a> <a id="28601" class="Symbol">((</a><a id="28603" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="28605" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="28623" href="/lia/part1/NormalForms/#28592" class="Bound">φ</a><a id="28624" class="Symbol">)</a> <a id="28626" href="/lia/part1/Semantics/#58614" class="InductiveConstructor Operator">∨</a> <a id="28628" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="28646" href="/lia/part1/NormalForms/#28596" class="Bound">ψ</a><a id="28647" class="Symbol">)</a> <a id="28649" href="/lia/part1/Semantics/#58709" class="InductiveConstructor Operator">∧</a>
                              <a id="28681" class="Symbol">(</a><a id="28682" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="28700" href="/lia/part1/NormalForms/#28592" class="Bound">φ</a> <a id="28702" href="/lia/part1/Semantics/#58614" class="InductiveConstructor Operator">∨</a> <a id="28704" class="Symbol">(</a><a id="28705" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="28707" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="28725" href="/lia/part1/NormalForms/#28596" class="Bound">ψ</a><a id="28726" class="Symbol">))</a></pre>

<h2 id="transformation-to-nnf">
<a class="anchor" href="#transformation-to-nnf" aria-hidden="true"><span class="octicon octicon-link"></span></a>Transformation to NNF</h2>

<pre class="Agda"><a id="nnf"></a><a id="28764" href="/lia/part1/NormalForms/#28764" class="Function">nnf</a> <a id="28768" class="Symbol">:</a> <a id="28770" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a> <a id="28778" class="Symbol">→</a> <a id="28780" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a>
<a id="28788" href="/lia/part1/NormalForms/#28764" class="Function">nnf</a> <a id="28792" class="Symbol">=</a> <a id="28794" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="28799" href="/lia/part0/Utils/#638" class="Function Operator">∘</a> <a id="28801" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="28811" href="/lia/part0/Utils/#638" class="Function Operator">∘</a> <a id="28813" href="/lia/part1/Semantics/#52591" class="Function">simplify</a></pre>

<p>Example:</p>

<pre class="Agda"><a id="28841" href="/lia/part1/NormalForms/#28841" class="Function">_</a> <a id="28843" class="Symbol">:</a> <a id="28845" href="/lia/part1/NormalForms/#28764" class="Function">nnf</a> <a id="28849" class="Symbol">(</a><a id="28850" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="28852" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="28854" class="Symbol">(</a><a id="28855" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="28857" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="28860" href="/lia/part1/Semantics/#3663" class="InductiveConstructor Operator">⇒</a> <a id="28862" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="28864" class="Symbol">(</a><a id="28865" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="28867" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="28870" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="28872" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="28874" href="/lia/part1/Semantics/#1200" class="Function">p₂</a> <a id="28877" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="28879" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a><a id="28880" class="Symbol">)))</a> <a id="28884" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="28886" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="28888" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="28890" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="28893" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="28895" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="28897" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="28899" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="28902" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="28904" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="28906" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="28908" href="/lia/part1/Semantics/#1200" class="Function">p₂</a>
<a id="28911" class="Symbol">_</a> <a id="28913" class="Symbol">=</a> <a id="28915" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<h2 id="correctness-1">
<a class="anchor" href="#correctness-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Correctness</h2>

<h3 id="structure-1">Structure</h3>

<pre class="Agda"><a id="wnnf-impFree"></a><a id="28961" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="28974" class="Symbol">:</a> <a id="28976" class="Symbol">∀</a> <a id="28978" href="/lia/part1/NormalForms/#28978" class="Bound">φ</a> <a id="28980" class="Symbol">→</a> <a id="28982" href="/lia/part1/Semantics/#58416" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="29001" href="/lia/part1/NormalForms/#28978" class="Bound">φ</a> <a id="29003" class="Symbol">→</a> <a id="29005" href="/lia/part1/NormalForms/#25594" class="Datatype">NNF</a> <a id="29009" class="Symbol">(</a><a id="29010" href="/lia/part1/NormalForms/#3233" class="Function">wnnf</a> <a id="29015" href="/lia/part1/NormalForms/#28978" class="Bound">φ</a><a id="29016" class="Symbol">)</a>
<a id="29018" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29031" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="29033" href="/lia/part1/Semantics/#58459" class="InductiveConstructor">⊥</a> <a id="29035" class="Symbol">=</a> <a id="29037" href="/lia/part1/NormalForms/#25634" class="InductiveConstructor">⊥</a>
<a id="29039" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29052" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="29054" href="/lia/part1/Semantics/#58486" class="InductiveConstructor">⊤</a> <a id="29056" class="Symbol">=</a> <a id="29058" href="/lia/part1/NormalForms/#25622" class="InductiveConstructor">⊤</a>
<a id="29060" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29073" class="Symbol">(</a><a id="29074" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="29076" href="/lia/part1/NormalForms/#29076" class="Bound">p</a><a id="29077" class="Symbol">)</a> <a id="29079" class="Symbol">(</a><a id="29080" href="/lia/part1/Semantics/#58513" class="InductiveConstructor Operator">`</a> <a id="29082" href="/lia/part1/NormalForms/#29076" class="Bound">p</a><a id="29083" class="Symbol">)</a> <a id="29085" class="Symbol">=</a> <a id="29087" href="/lia/part1/NormalForms/#25646" class="InductiveConstructor Operator">`</a> <a id="29089" href="/lia/part1/NormalForms/#29076" class="Bound">p</a>
<a id="29091" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29104" class="Symbol">(</a><a id="29105" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="29107" class="Symbol">_)</a> <a id="29110" class="Symbol">(</a><a id="29111" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="29113" href="/lia/part1/Semantics/#58459" class="InductiveConstructor">⊥</a><a id="29114" class="Symbol">)</a> <a id="29116" class="Symbol">=</a> <a id="29118" href="/lia/part1/NormalForms/#25622" class="InductiveConstructor">⊤</a>
<a id="29120" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29133" class="Symbol">(</a><a id="29134" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="29136" class="Symbol">_)</a> <a id="29139" class="Symbol">(</a><a id="29140" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="29142" href="/lia/part1/Semantics/#58486" class="InductiveConstructor">⊤</a><a id="29143" class="Symbol">)</a> <a id="29145" class="Symbol">=</a> <a id="29147" href="/lia/part1/NormalForms/#25634" class="InductiveConstructor">⊥</a>
<a id="29149" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29162" class="Symbol">(</a><a id="29163" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="29165" class="Symbol">_)</a> <a id="29168" class="Symbol">(</a><a id="29169" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="29171" class="Symbol">(</a><a id="29172" href="/lia/part1/Semantics/#58513" class="InductiveConstructor Operator">`</a> <a id="29174" href="/lia/part1/NormalForms/#29174" class="Bound">p</a><a id="29175" class="Symbol">))</a> <a id="29178" class="Symbol">=</a> <a id="29180" href="/lia/part1/NormalForms/#25680" class="InductiveConstructor Operator">¬`</a> <a id="29183" href="/lia/part1/NormalForms/#29174" class="Bound">p</a>
<a id="29185" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29198" class="Symbol">(</a><a id="29199" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="29201" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="29203" href="/lia/part1/NormalForms/#29203" class="Bound">φ</a><a id="29204" class="Symbol">)</a> <a id="29206" class="Symbol">(</a><a id="29207" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="29209" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="29211" href="/lia/part1/NormalForms/#29211" class="Bound">view-φ</a><a id="29217" class="Symbol">)</a> <a id="29219" class="Symbol">=</a> <a id="29221" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29234" href="/lia/part1/NormalForms/#29203" class="Bound">φ</a> <a id="29236" href="/lia/part1/NormalForms/#29211" class="Bound">view-φ</a>
<a id="29243" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29256" class="Symbol">(</a><a id="29257" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="29259" class="Symbol">(</a><a id="29260" href="/lia/part1/NormalForms/#29260" class="Bound">φ</a> <a id="29262" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="29264" href="/lia/part1/NormalForms/#29264" class="Bound">ψ</a><a id="29265" class="Symbol">))</a> <a id="29268" class="Symbol">(</a><a id="29269" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="29271" class="Symbol">(</a><a id="29272" href="/lia/part1/NormalForms/#29272" class="Bound">view-φ</a> <a id="29279" href="/lia/part1/Semantics/#58614" class="InductiveConstructor Operator">∨</a> <a id="29281" href="/lia/part1/NormalForms/#29281" class="Bound">view-ψ</a><a id="29287" class="Symbol">))</a> <a id="29290" class="Symbol">=</a> <a id="29292" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29305" class="Symbol">(</a><a id="29306" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="29308" href="/lia/part1/NormalForms/#29260" class="Bound">φ</a><a id="29309" class="Symbol">)</a> <a id="29311" class="Symbol">(</a><a id="29312" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="29314" href="/lia/part1/NormalForms/#29272" class="Bound">view-φ</a><a id="29320" class="Symbol">)</a> <a id="29322" href="/lia/part1/NormalForms/#25717" class="InductiveConstructor Operator">∧</a> <a id="29324" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29337" class="Symbol">(</a><a id="29338" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="29340" href="/lia/part1/NormalForms/#29264" class="Bound">ψ</a><a id="29341" class="Symbol">)</a> <a id="29343" class="Symbol">(</a><a id="29344" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="29346" href="/lia/part1/NormalForms/#29281" class="Bound">view-ψ</a><a id="29352" class="Symbol">)</a>
<a id="29354" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29367" class="Symbol">(</a><a id="29368" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="29370" class="Symbol">(</a><a id="29371" href="/lia/part1/NormalForms/#29371" class="Bound">φ</a> <a id="29373" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="29375" href="/lia/part1/NormalForms/#29375" class="Bound">ψ</a><a id="29376" class="Symbol">))</a> <a id="29379" class="Symbol">(</a><a id="29380" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="29382" class="Symbol">(</a><a id="29383" href="/lia/part1/NormalForms/#29383" class="Bound">view-φ</a> <a id="29390" href="/lia/part1/Semantics/#58709" class="InductiveConstructor Operator">∧</a> <a id="29392" href="/lia/part1/NormalForms/#29392" class="Bound">view-ψ</a><a id="29398" class="Symbol">))</a> <a id="29401" class="Symbol">=</a> <a id="29403" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29416" class="Symbol">(</a><a id="29417" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="29419" href="/lia/part1/NormalForms/#29371" class="Bound">φ</a><a id="29420" class="Symbol">)</a> <a id="29422" class="Symbol">(</a><a id="29423" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="29425" href="/lia/part1/NormalForms/#29383" class="Bound">view-φ</a><a id="29431" class="Symbol">)</a> <a id="29433" href="/lia/part1/NormalForms/#25753" class="InductiveConstructor Operator">∨</a> <a id="29435" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29448" class="Symbol">(</a><a id="29449" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="29451" href="/lia/part1/NormalForms/#29375" class="Bound">ψ</a><a id="29452" class="Symbol">)</a> <a id="29454" class="Symbol">(</a><a id="29455" href="/lia/part1/Semantics/#58551" class="InductiveConstructor Operator">¬</a> <a id="29457" href="/lia/part1/NormalForms/#29392" class="Bound">view-ψ</a><a id="29463" class="Symbol">)</a>
<a id="29465" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29478" class="Symbol">(</a><a id="29479" href="/lia/part1/NormalForms/#29479" class="Bound">φ</a> <a id="29481" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="29483" href="/lia/part1/NormalForms/#29483" class="Bound">ψ</a><a id="29484" class="Symbol">)</a> <a id="29486" class="Symbol">(</a><a id="29487" href="/lia/part1/NormalForms/#29487" class="Bound">view-φ</a> <a id="29494" href="/lia/part1/Semantics/#58614" class="InductiveConstructor Operator">∨</a> <a id="29496" href="/lia/part1/NormalForms/#29496" class="Bound">view-ψ</a><a id="29502" class="Symbol">)</a> <a id="29504" class="Symbol">=</a> <a id="29506" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29519" href="/lia/part1/NormalForms/#29479" class="Bound">φ</a> <a id="29521" href="/lia/part1/NormalForms/#29487" class="Bound">view-φ</a> <a id="29528" href="/lia/part1/NormalForms/#25753" class="InductiveConstructor Operator">∨</a> <a id="29530" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29543" href="/lia/part1/NormalForms/#29483" class="Bound">ψ</a> <a id="29545" href="/lia/part1/NormalForms/#29496" class="Bound">view-ψ</a>
<a id="29552" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29565" class="Symbol">(</a><a id="29566" href="/lia/part1/NormalForms/#29566" class="Bound">φ</a> <a id="29568" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="29570" href="/lia/part1/NormalForms/#29570" class="Bound">ψ</a><a id="29571" class="Symbol">)</a> <a id="29573" class="Symbol">(</a><a id="29574" href="/lia/part1/NormalForms/#29574" class="Bound">view-φ</a> <a id="29581" href="/lia/part1/Semantics/#58709" class="InductiveConstructor Operator">∧</a> <a id="29583" href="/lia/part1/NormalForms/#29583" class="Bound">view-ψ</a><a id="29589" class="Symbol">)</a> <a id="29591" class="Symbol">=</a> <a id="29593" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29606" href="/lia/part1/NormalForms/#29566" class="Bound">φ</a> <a id="29608" href="/lia/part1/NormalForms/#29574" class="Bound">view-φ</a> <a id="29615" href="/lia/part1/NormalForms/#25717" class="InductiveConstructor Operator">∧</a> <a id="29617" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29630" href="/lia/part1/NormalForms/#29570" class="Bound">ψ</a> <a id="29632" href="/lia/part1/NormalForms/#29583" class="Bound">view-ψ</a>

<a id="nnf-NNF"></a><a id="29640" href="/lia/part1/NormalForms/#29640" class="Function">nnf-NNF</a> <a id="29648" class="Symbol">:</a> <a id="29650" class="Symbol">∀</a> <a id="29652" href="/lia/part1/NormalForms/#29652" class="Bound">φ</a> <a id="29654" class="Symbol">→</a> <a id="29656" href="/lia/part1/NormalForms/#25594" class="Datatype">NNF</a> <a id="29660" class="Symbol">(</a><a id="29661" href="/lia/part1/NormalForms/#28764" class="Function">nnf</a> <a id="29665" href="/lia/part1/NormalForms/#29652" class="Bound">φ</a><a id="29666" class="Symbol">)</a>
<a id="29668" href="/lia/part1/NormalForms/#29640" class="Function">nnf-NNF</a> <a id="29676" href="/lia/part1/NormalForms/#29676" class="Bound">φ</a> <a id="29678" class="Symbol">=</a> <a id="29680" href="/lia/part1/NormalForms/#28961" class="Function">wnnf-impFree</a> <a id="29693" class="Symbol">(</a><a id="29694" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="29704" class="Symbol">(</a><a id="29705" href="/lia/part1/Semantics/#52591" class="Function">simplify</a> <a id="29714" href="/lia/part1/NormalForms/#29676" class="Bound">φ</a><a id="29715" class="Symbol">))</a> <a id="29718" class="Symbol">(</a><a id="29719" href="/lia/part1/NormalForms/#28174" class="Function">removeImp-impFree</a> <a id="29737" class="Symbol">(</a><a id="29738" href="/lia/part1/Semantics/#52591" class="Function">simplify</a> <a id="29747" href="/lia/part1/NormalForms/#29676" class="Bound">φ</a><a id="29748" class="Symbol">))</a></pre>

<h3 id="soundness-1">Soundness</h3>

<pre class="Agda"><a id="nnf-sound"></a><a id="29775" href="/lia/part1/NormalForms/#29775" class="Function">nnf-sound</a> <a id="29785" class="Symbol">:</a> <a id="29787" class="Symbol">∀</a> <a id="29789" href="/lia/part1/NormalForms/#29789" class="Bound">φ</a> <a id="29791" class="Symbol">→</a> <a id="29793" href="/lia/part1/NormalForms/#29789" class="Bound">φ</a> <a id="29795" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="29797" href="/lia/part1/NormalForms/#28764" class="Function">nnf</a> <a id="29801" href="/lia/part1/NormalForms/#29789" class="Bound">φ</a>
<a id="29803" href="/lia/part1/NormalForms/#29775" class="Function">nnf-sound</a> <a id="29813" href="/lia/part1/NormalForms/#29813" class="Bound">φ</a> <a id="29815" href="/lia/part1/NormalForms/#29815" class="Bound">ϱ</a>
  <a id="29819" class="Keyword">rewrite</a> <a id="29827" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="29831" class="Symbol">(</a><a id="29832" href="/lia/part1/NormalForms/#8102" class="Function">wnnf-sound</a> <a id="29843" class="Symbol">(</a><a id="29844" href="/lia/part1/NormalForms/#27153" class="Function">removeImp</a> <a id="29854" class="Symbol">(</a><a id="29855" href="/lia/part1/Semantics/#52591" class="Function">simplify</a> <a id="29864" href="/lia/part1/NormalForms/#29813" class="Bound">φ</a><a id="29865" class="Symbol">))</a> <a id="29868" href="/lia/part1/NormalForms/#29815" class="Bound">ϱ</a><a id="29869" class="Symbol">)</a> <a id="29871" class="Symbol">|</a>
          <a id="29883" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="29887" class="Symbol">(</a><a id="29888" href="/lia/part1/NormalForms/#27499" class="Function">removeImp-sound</a> <a id="29904" class="Symbol">(</a><a id="29905" href="/lia/part1/Semantics/#52591" class="Function">simplify</a> <a id="29914" href="/lia/part1/NormalForms/#29813" class="Bound">φ</a><a id="29915" class="Symbol">)</a> <a id="29917" href="/lia/part1/NormalForms/#29815" class="Bound">ϱ</a><a id="29918" class="Symbol">)</a> <a id="29920" class="Symbol">|</a>
          <a id="29932" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="29936" class="Symbol">(</a><a id="29937" href="/lia/part1/Semantics/#54122" class="Function">simplify-sound</a> <a id="29952" href="/lia/part1/NormalForms/#29813" class="Bound">φ</a> <a id="29954" href="/lia/part1/NormalForms/#29815" class="Bound">ϱ</a><a id="29955" class="Symbol">)</a> <a id="29957" class="Symbol">=</a> <a id="29959" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<h1 id="DNF">
<a class="anchor" href="#DNF" aria-hidden="true"><span class="octicon octicon-link"></span></a>Disjunctive normal form</h1>

<p>A <em>clause</em> <code class="language-plaintext highlighter-rouge">C</code> is a conjunction of literals <code class="language-plaintext highlighter-rouge">l1 ∧ ⋯ ∧ lm</code>. A formula is
in <em>disjunctive normal form</em> (DNF) if it is a disjunction of clauses
<code class="language-plaintext highlighter-rouge">C1 ∨ ⋯ ∨ Cn</code>.</p>

<pre class="Agda"><a id="30166" class="Keyword">data</a> <a id="Literal"></a><a id="30171" href="/lia/part1/NormalForms/#30171" class="Datatype">Literal</a> <a id="30179" class="Symbol">:</a> <a id="30181" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a> <a id="30189" class="Symbol">→</a> <a id="30191" class="PrimitiveType">Set</a> <a id="30195" class="Keyword">where</a>
  <a id="Literal.Pos"></a><a id="30203" href="/lia/part1/NormalForms/#30203" class="InductiveConstructor">Pos</a> <a id="30207" class="Symbol">:</a> <a id="30209" class="Symbol">(</a><a id="30210" href="/lia/part1/NormalForms/#30210" class="Bound">p</a> <a id="30212" class="Symbol">:</a> <a id="30214" href="/lia/part1/Semantics/#1069" class="Function">PropName</a><a id="30222" class="Symbol">)</a> <a id="30224" class="Symbol">→</a> <a id="30226" href="/lia/part1/NormalForms/#30171" class="Datatype">Literal</a> <a id="30234" class="Symbol">(</a><a id="30235" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="30237" href="/lia/part1/NormalForms/#30210" class="Bound">p</a><a id="30238" class="Symbol">)</a>
  <a id="Literal.Neg"></a><a id="30242" href="/lia/part1/NormalForms/#30242" class="InductiveConstructor">Neg</a> <a id="30246" class="Symbol">:</a> <a id="30248" class="Symbol">(</a><a id="30249" href="/lia/part1/NormalForms/#30249" class="Bound">p</a> <a id="30251" class="Symbol">:</a> <a id="30253" href="/lia/part1/Semantics/#1069" class="Function">PropName</a><a id="30261" class="Symbol">)</a> <a id="30263" class="Symbol">→</a> <a id="30265" href="/lia/part1/NormalForms/#30171" class="Datatype">Literal</a> <a id="30273" class="Symbol">(</a><a id="30274" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="30276" class="Symbol">(</a><a id="30277" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="30279" href="/lia/part1/NormalForms/#30249" class="Bound">p</a><a id="30280" class="Symbol">))</a>
  
<a id="30286" class="Keyword">data</a> <a id="DNFClause"></a><a id="30291" href="/lia/part1/NormalForms/#30291" class="Datatype">DNFClause</a> <a id="30301" class="Symbol">:</a> <a id="30303" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a> <a id="30311" class="Symbol">→</a> <a id="30313" class="PrimitiveType">Set</a> <a id="30317" class="Keyword">where</a>
  <a id="DNFClause.∅"></a><a id="30325" href="/lia/part1/NormalForms/#30325" class="InductiveConstructor">∅</a> <a id="30327" class="Symbol">:</a> <a id="30329" href="/lia/part1/NormalForms/#30291" class="Datatype">DNFClause</a> <a id="30339" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a>
  <a id="DNFClause._,_"></a><a id="30343" href="/lia/part1/NormalForms/#30343" class="InductiveConstructor Operator">_,_</a> <a id="30347" class="Symbol">:</a> <a id="30349" class="Symbol">∀</a> <a id="30351" class="Symbol">{</a><a id="30352" href="/lia/part1/NormalForms/#30352" class="Bound">φ</a> <a id="30354" href="/lia/part1/NormalForms/#30354" class="Bound">ψ</a><a id="30355" class="Symbol">}</a> <a id="30357" class="Symbol">→</a> <a id="30359" href="/lia/part1/NormalForms/#30171" class="Datatype">Literal</a> <a id="30367" href="/lia/part1/NormalForms/#30352" class="Bound">φ</a> <a id="30369" class="Symbol">→</a> <a id="30371" href="/lia/part1/NormalForms/#30291" class="Datatype">DNFClause</a> <a id="30381" href="/lia/part1/NormalForms/#30354" class="Bound">ψ</a> <a id="30383" class="Symbol">→</a> <a id="30385" href="/lia/part1/NormalForms/#30291" class="Datatype">DNFClause</a> <a id="30395" class="Symbol">(</a><a id="30396" href="/lia/part1/NormalForms/#30352" class="Bound">φ</a> <a id="30398" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="30400" href="/lia/part1/NormalForms/#30354" class="Bound">ψ</a><a id="30401" class="Symbol">)</a>

<a id="30404" class="Keyword">data</a> <a id="DNF"></a><a id="30409" href="/lia/part1/NormalForms/#30409" class="Datatype">DNF</a> <a id="30413" class="Symbol">:</a> <a id="30415" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a>  <a id="30424" class="Symbol">→</a> <a id="30426" class="PrimitiveType">Set</a> <a id="30430" class="Keyword">where</a>
  <a id="DNF.∅"></a><a id="30438" href="/lia/part1/NormalForms/#30438" class="InductiveConstructor">∅</a> <a id="30440" class="Symbol">:</a> <a id="30442" href="/lia/part1/NormalForms/#30409" class="Datatype">DNF</a> <a id="30446" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a>
  <a id="DNF._,_"></a><a id="30450" href="/lia/part1/NormalForms/#30450" class="InductiveConstructor Operator">_,_</a> <a id="30454" class="Symbol">:</a> <a id="30456" class="Symbol">∀</a> <a id="30458" class="Symbol">{</a><a id="30459" href="/lia/part1/NormalForms/#30459" class="Bound">φ</a> <a id="30461" href="/lia/part1/NormalForms/#30461" class="Bound">ψ</a><a id="30462" class="Symbol">}</a> <a id="30464" class="Symbol">→</a> <a id="30466" href="/lia/part1/NormalForms/#30291" class="Datatype">DNFClause</a> <a id="30476" href="/lia/part1/NormalForms/#30459" class="Bound">φ</a> <a id="30478" class="Symbol">→</a> <a id="30480" href="/lia/part1/NormalForms/#30409" class="Datatype">DNF</a> <a id="30484" href="/lia/part1/NormalForms/#30461" class="Bound">ψ</a> <a id="30486" class="Symbol">→</a> <a id="30488" href="/lia/part1/NormalForms/#30409" class="Datatype">DNF</a> <a id="30492" class="Symbol">(</a><a id="30493" href="/lia/part1/NormalForms/#30459" class="Bound">φ</a> <a id="30495" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="30497" href="/lia/part1/NormalForms/#30461" class="Bound">ψ</a><a id="30498" class="Symbol">)</a></pre>

<p>We warm up and show how we can merge two clauses while preserving the
semantics. This is essentially list concatenation, with additional code
showing that it is semantics-preserving for formulas.</p>

<pre class="Agda"><a id="merge"></a><a id="30706" href="/lia/part1/NormalForms/#30706" class="Function">merge</a> <a id="30712" class="Symbol">:</a> <a id="30714" class="Symbol">∀</a> <a id="30716" class="Symbol">{</a><a id="30717" href="/lia/part1/NormalForms/#30717" class="Bound">φ</a> <a id="30719" href="/lia/part1/NormalForms/#30719" class="Bound">ψ</a><a id="30720" class="Symbol">}</a> <a id="30722" class="Symbol">→</a> <a id="30724" href="/lia/part1/NormalForms/#30291" class="Datatype">DNFClause</a> <a id="30734" href="/lia/part1/NormalForms/#30717" class="Bound">φ</a> <a id="30736" class="Symbol">→</a> <a id="30738" href="/lia/part1/NormalForms/#30291" class="Datatype">DNFClause</a> <a id="30748" href="/lia/part1/NormalForms/#30719" class="Bound">ψ</a> <a id="30750" class="Symbol">→</a> <a id="30752" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="30755" href="/lia/part1/NormalForms/#30755" class="Bound">ξ</a> <a id="30757" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="30759" href="/lia/part1/NormalForms/#30291" class="Datatype">DNFClause</a> <a id="30769" href="/lia/part1/NormalForms/#30755" class="Bound">ξ</a> <a id="30771" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="30773" href="/lia/part1/NormalForms/#30755" class="Bound">ξ</a> <a id="30775" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="30777" href="/lia/part1/NormalForms/#30717" class="Bound">φ</a> <a id="30779" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="30781" href="/lia/part1/NormalForms/#30719" class="Bound">ψ</a>
<a id="30783" href="/lia/part1/NormalForms/#30706" class="Function">merge</a> <a id="30789" class="Symbol">{</a><a id="30790" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a><a id="30791" class="Symbol">}</a> <a id="30793" class="Symbol">{</a><a id="30794" href="/lia/part1/NormalForms/#30794" class="Bound">ψ</a><a id="30795" class="Symbol">}</a> <a id="30797" href="/lia/part1/NormalForms/#30325" class="InductiveConstructor">∅</a> <a id="30799" href="/lia/part1/NormalForms/#30799" class="Bound">Cψ</a> <a id="30802" class="Symbol">=</a> <a id="30804" href="/lia/part1/NormalForms/#30794" class="Bound">ψ</a> <a id="30806" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="30808" href="/lia/part1/NormalForms/#30799" class="Bound">Cψ</a> <a id="30811" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="30813" href="/lia/part1/NormalForms/#30834" class="Function">correctness</a> <a id="30825" class="Keyword">where</a>

  <a id="30834" href="/lia/part1/NormalForms/#30834" class="Function">correctness</a> <a id="30846" class="Symbol">:</a> <a id="30848" href="/lia/part1/NormalForms/#30794" class="Bound">ψ</a> <a id="30850" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="30852" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="30854" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="30856" href="/lia/part1/NormalForms/#30794" class="Bound">ψ</a>
  <a id="30860" href="/lia/part1/NormalForms/#30834" class="Function">correctness</a> <a id="30872" href="/lia/part1/NormalForms/#30872" class="Bound">ρ</a> <a id="30874" class="Keyword">with</a> <a id="30879" href="/lia/part1/Semantics/#12118" class="Function Operator">⟦</a> <a id="30881" href="/lia/part1/NormalForms/#30794" class="Bound">ψ</a> <a id="30883" href="/lia/part1/Semantics/#12118" class="Function Operator">⟧</a> <a id="30885" href="/lia/part1/NormalForms/#30872" class="Bound">ρ</a>
  <a id="30889" class="Symbol">...</a> <a id="30893" class="Symbol">|</a> <a id="30895" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="30898" class="Symbol">=</a> <a id="30900" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  <a id="30907" class="Symbol">...</a> <a id="30911" class="Symbol">|</a> <a id="30913" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="30916" class="Symbol">=</a> <a id="30918" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="30926" href="/lia/part1/NormalForms/#30706" class="Function">merge</a> <a id="30932" class="Symbol">{</a><a id="30933" href="/lia/part1/NormalForms/#30933" class="Bound">φ</a> <a id="30935" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="30937" href="/lia/part1/NormalForms/#30937" class="Bound">φ'</a><a id="30939" class="Symbol">}</a> <a id="30941" class="Symbol">{</a><a id="30942" href="/lia/part1/NormalForms/#30942" class="Bound">ψ</a><a id="30943" class="Symbol">}</a> <a id="30945" class="Symbol">(</a><a id="30946" href="/lia/part1/NormalForms/#30946" class="Bound">Lφ</a> <a id="30949" href="/lia/part1/NormalForms/#30343" class="InductiveConstructor Operator">,</a> <a id="30951" href="/lia/part1/NormalForms/#30951" class="Bound">Cφ'</a><a id="30954" class="Symbol">)</a> <a id="30956" href="/lia/part1/NormalForms/#30956" class="Bound">Cψ</a> <a id="30959" class="Keyword">with</a> <a id="30964" href="/lia/part1/NormalForms/#30706" class="Function">merge</a> <a id="30970" href="/lia/part1/NormalForms/#30951" class="Bound">Cφ'</a> <a id="30974" href="/lia/part1/NormalForms/#30956" class="Bound">Cψ</a>
<a id="30977" class="Symbol">...</a> <a id="30981" class="Symbol">|</a> <a id="30983" href="/lia/part1/NormalForms/#30983" class="Bound">ξ</a> <a id="30985" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="30987" href="/lia/part1/NormalForms/#30987" class="Bound">Cξ</a> <a id="30990" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="30992" href="/lia/part1/NormalForms/#30992" class="Bound">ξ⟺φ'∧ψ</a> <a id="30999" class="Symbol">=</a> <a id="31001" class="Bound">φ</a> <a id="31003" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="31005" href="/lia/part1/NormalForms/#30983" class="Bound">ξ</a> <a id="31007" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="31009" class="Symbol">(</a><a id="31010" class="Bound">Lφ</a> <a id="31013" href="/lia/part1/NormalForms/#30343" class="InductiveConstructor Operator">,</a> <a id="31015" href="/lia/part1/NormalForms/#30987" class="Bound">Cξ</a><a id="31017" class="Symbol">)</a> <a id="31019" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="31021" href="/lia/part1/NormalForms/#31042" class="Function">correctness</a> <a id="31033" class="Keyword">where</a>

  <a id="31042" href="/lia/part1/NormalForms/#31042" class="Function">correctness</a> <a id="31054" class="Symbol">:</a> <a id="31056" class="Bound">φ</a> <a id="31058" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="31060" href="/lia/part1/NormalForms/#30983" class="Bound">ξ</a> <a id="31062" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="31064" class="Symbol">(</a><a id="31065" class="Bound">φ</a> <a id="31067" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="31069" class="Bound">φ'</a><a id="31071" class="Symbol">)</a> <a id="31073" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="31075" class="Bound">ψ</a>
  <a id="31079" href="/lia/part1/NormalForms/#31042" class="Function">correctness</a> <a id="31091" href="/lia/part1/NormalForms/#31091" class="Bound">ρ</a> <a id="31093" class="Keyword">rewrite</a> <a id="31101" href="/lia/part1/NormalForms/#30992" class="Bound">ξ⟺φ'∧ψ</a> <a id="31108" href="/lia/part1/NormalForms/#31091" class="Bound">ρ</a> <a id="31110" class="Symbol">=</a> <a id="31112" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="31116" class="Symbol">(</a><a id="31117" href="/lia/part0/Booleans/#4069" class="UnsolvedMeta UnsolvedConstraint Function">assoc-∧𝔹</a><a id="31125" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="31126" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="31127" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="31128" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="31129" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="31130" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="31131" class="Symbol">)</a></pre>

<h2 id="case-1-dnf-of-a-disjunction">
<a class="anchor" href="#case-1-dnf-of-a-disjunction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Case 1: DNF of a disjunction</h2>

<pre class="Agda"><a id="DNF-∨"></a><a id="31175" href="/lia/part1/NormalForms/#31175" class="Function">DNF-∨</a> <a id="31181" class="Symbol">:</a> <a id="31183" class="Symbol">∀</a> <a id="31185" class="Symbol">{</a><a id="31186" href="/lia/part1/NormalForms/#31186" class="Bound">φ</a> <a id="31188" href="/lia/part1/NormalForms/#31188" class="Bound">ψ</a><a id="31189" class="Symbol">}</a> <a id="31191" class="Symbol">→</a> <a id="31193" href="/lia/part1/NormalForms/#30409" class="Datatype">DNF</a> <a id="31197" href="/lia/part1/NormalForms/#31186" class="Bound">φ</a> <a id="31199" class="Symbol">→</a> <a id="31201" href="/lia/part1/NormalForms/#30409" class="Datatype">DNF</a> <a id="31205" href="/lia/part1/NormalForms/#31188" class="Bound">ψ</a> <a id="31207" class="Symbol">→</a> <a id="31209" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="31212" href="/lia/part1/NormalForms/#31212" class="Bound">ξ</a> <a id="31214" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="31216" href="/lia/part1/NormalForms/#30409" class="Datatype">DNF</a> <a id="31220" href="/lia/part1/NormalForms/#31212" class="Bound">ξ</a> <a id="31222" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="31224" href="/lia/part1/NormalForms/#31212" class="Bound">ξ</a> <a id="31226" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="31228" href="/lia/part1/NormalForms/#31186" class="Bound">φ</a> <a id="31230" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="31232" href="/lia/part1/NormalForms/#31188" class="Bound">ψ</a>

<a id="31235" href="/lia/part1/NormalForms/#31175" class="Function">DNF-∨</a> <a id="31241" class="Symbol">{</a><a id="31242" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a><a id="31243" class="Symbol">}</a> <a id="31245" class="Symbol">{</a><a id="31246" href="/lia/part1/NormalForms/#31246" class="Bound">ψ</a><a id="31247" class="Symbol">}</a> <a id="31249" href="/lia/part1/NormalForms/#30438" class="InductiveConstructor">∅</a> <a id="31251" href="/lia/part1/NormalForms/#31251" class="Bound">DNFψ</a> <a id="31256" class="Symbol">=</a> <a id="31258" href="/lia/part1/NormalForms/#31246" class="Bound">ψ</a> <a id="31260" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="31262" href="/lia/part1/NormalForms/#31251" class="Bound">DNFψ</a> <a id="31267" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="31269" href="/lia/part1/NormalForms/#31290" class="Function">correctness</a> <a id="31281" class="Keyword">where</a>

  <a id="31290" href="/lia/part1/NormalForms/#31290" class="Function">correctness</a> <a id="31302" class="Symbol">:</a> <a id="31304" href="/lia/part1/NormalForms/#31246" class="Bound">ψ</a> <a id="31306" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="31308" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="31310" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="31312" href="/lia/part1/NormalForms/#31246" class="Bound">ψ</a>
  <a id="31316" href="/lia/part1/NormalForms/#31290" class="Function">correctness</a> <a id="31328" href="/lia/part1/NormalForms/#31328" class="Bound">ρ</a> <a id="31330" class="Keyword">with</a> <a id="31335" href="/lia/part1/Semantics/#12118" class="Function Operator">⟦</a> <a id="31337" href="/lia/part1/NormalForms/#31246" class="Bound">ψ</a> <a id="31339" href="/lia/part1/Semantics/#12118" class="Function Operator">⟧</a> <a id="31341" href="/lia/part1/NormalForms/#31328" class="Bound">ρ</a>
  <a id="31345" class="Symbol">...</a> <a id="31349" class="Symbol">|</a> <a id="31351" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="31354" class="Symbol">=</a> <a id="31356" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  <a id="31363" class="Symbol">...</a> <a id="31367" class="Symbol">|</a> <a id="31369" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="31372" class="Symbol">=</a> <a id="31374" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="31380" href="/lia/part1/NormalForms/#31175" class="Function">DNF-∨</a> <a id="31386" class="Symbol">{</a><a id="31387" href="/lia/part1/NormalForms/#31387" class="Bound">φ</a> <a id="31389" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="31391" href="/lia/part1/NormalForms/#31391" class="Bound">ψ</a><a id="31392" class="Symbol">}</a> <a id="31394" class="Symbol">{</a><a id="31395" href="/lia/part1/NormalForms/#31395" class="Bound">ξ</a><a id="31396" class="Symbol">}</a> <a id="31398" class="Symbol">(</a><a id="31399" href="/lia/part1/NormalForms/#31399" class="Bound">Cφ</a> <a id="31402" href="/lia/part1/NormalForms/#30450" class="InductiveConstructor Operator">,</a> <a id="31404" href="/lia/part1/NormalForms/#31404" class="Bound">DNFψ</a><a id="31408" class="Symbol">)</a> <a id="31410" href="/lia/part1/NormalForms/#31410" class="Bound">DNFξ</a> <a id="31415" class="Keyword">with</a> <a id="31420" href="/lia/part1/NormalForms/#31175" class="Function">DNF-∨</a> <a id="31426" href="/lia/part1/NormalForms/#31404" class="Bound">DNFψ</a> <a id="31431" href="/lia/part1/NormalForms/#31410" class="Bound">DNFξ</a>
<a id="31436" class="Symbol">...</a> <a id="31440" class="Symbol">|</a> <a id="31442" href="/lia/part1/NormalForms/#31442" class="Bound">η</a> <a id="31444" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="31446" href="/lia/part1/NormalForms/#31446" class="Bound">DNFη</a> <a id="31451" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="31453" href="/lia/part1/NormalForms/#31453" class="Bound">η⟺ψ∨ξ</a> <a id="31459" class="Symbol">=</a> <a id="31461" class="Bound">φ</a> <a id="31463" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="31465" href="/lia/part1/NormalForms/#31442" class="Bound">η</a> <a id="31467" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="31469" class="Symbol">(</a><a id="31470" class="Bound">Cφ</a> <a id="31473" href="/lia/part1/NormalForms/#30450" class="InductiveConstructor Operator">,</a> <a id="31475" href="/lia/part1/NormalForms/#31446" class="Bound">DNFη</a><a id="31479" class="Symbol">)</a> <a id="31481" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="31483" href="/lia/part1/NormalForms/#31504" class="Function">correctness</a> <a id="31495" class="Keyword">where</a>

  <a id="31504" href="/lia/part1/NormalForms/#31504" class="Function">correctness</a> <a id="31516" class="Symbol">:</a> <a id="31518" class="Bound">φ</a> <a id="31520" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="31522" href="/lia/part1/NormalForms/#31442" class="Bound">η</a> <a id="31524" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="31526" class="Symbol">(</a><a id="31527" class="Bound">φ</a> <a id="31529" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="31531" class="Bound">ψ</a><a id="31532" class="Symbol">)</a> <a id="31534" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="31536" class="Bound">ξ</a> 
  <a id="31541" href="/lia/part1/NormalForms/#31504" class="Function">correctness</a> <a id="31553" href="/lia/part1/NormalForms/#31553" class="Bound">ρ</a> <a id="31555" class="Keyword">rewrite</a> <a id="31563" href="/lia/part1/NormalForms/#31453" class="Bound">η⟺ψ∨ξ</a> <a id="31569" href="/lia/part1/NormalForms/#31553" class="Bound">ρ</a> <a id="31571" class="Symbol">=</a> <a id="31573" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="31577" class="Symbol">(</a><a id="31578" href="/lia/part0/Booleans/#3811" class="UnsolvedMeta UnsolvedConstraint Function">assoc-∨𝔹</a><a id="31586" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="31587" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="31588" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="31589" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="31590" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="31591" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="31592" class="Symbol">)</a></pre>

<h2 id="case-2-dnf-of-a-conjunction">
<a class="anchor" href="#case-2-dnf-of-a-conjunction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Case 2: DNF of a conjunction</h2>

<ul>
  <li>We first show how to add a single clause.</li>
</ul>

<pre class="Agda"><a id="DNF-∧-DNFClause"></a><a id="31681" href="/lia/part1/NormalForms/#31681" class="Function">DNF-∧-DNFClause</a> <a id="31697" class="Symbol">:</a> <a id="31699" class="Symbol">∀</a> <a id="31701" class="Symbol">{</a><a id="31702" href="/lia/part1/NormalForms/#31702" class="Bound">φ</a> <a id="31704" href="/lia/part1/NormalForms/#31704" class="Bound">ψ</a><a id="31705" class="Symbol">}</a> <a id="31707" class="Symbol">→</a> <a id="31709" href="/lia/part1/NormalForms/#30291" class="Datatype">DNFClause</a> <a id="31719" href="/lia/part1/NormalForms/#31702" class="Bound">φ</a> <a id="31721" class="Symbol">→</a> <a id="31723" href="/lia/part1/NormalForms/#30409" class="Datatype">DNF</a> <a id="31727" href="/lia/part1/NormalForms/#31704" class="Bound">ψ</a> <a id="31729" class="Symbol">→</a> <a id="31731" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="31734" href="/lia/part1/NormalForms/#31734" class="Bound">ξ</a> <a id="31736" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="31738" href="/lia/part1/NormalForms/#30409" class="Datatype">DNF</a> <a id="31742" href="/lia/part1/NormalForms/#31734" class="Bound">ξ</a> <a id="31744" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="31746" href="/lia/part1/NormalForms/#31734" class="Bound">ξ</a> <a id="31748" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="31750" href="/lia/part1/NormalForms/#31702" class="Bound">φ</a> <a id="31752" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="31754" href="/lia/part1/NormalForms/#31704" class="Bound">ψ</a>
<a id="31756" href="/lia/part1/NormalForms/#31681" class="Function">DNF-∧-DNFClause</a> <a id="31772" class="Symbol">{</a><a id="31773" href="/lia/part1/NormalForms/#31773" class="Bound">φ</a><a id="31774" class="Symbol">}</a> <a id="31776" class="Symbol">{</a><a id="31777" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a><a id="31778" class="Symbol">}</a> <a id="31780" href="/lia/part1/NormalForms/#31780" class="Bound">Cφ</a> <a id="31783" href="/lia/part1/NormalForms/#30438" class="InductiveConstructor">∅</a> <a id="31785" class="Symbol">=</a>  <a id="31788" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="31790" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="31792" href="/lia/part1/NormalForms/#30438" class="InductiveConstructor">∅</a> <a id="31794" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="31796" href="/lia/part1/NormalForms/#31817" class="Function">correctness</a> <a id="31808" class="Keyword">where</a>

  <a id="31817" href="/lia/part1/NormalForms/#31817" class="Function">correctness</a> <a id="31829" class="Symbol">:</a> <a id="31831" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="31833" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="31835" href="/lia/part1/NormalForms/#31773" class="Bound">φ</a> <a id="31837" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="31839" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a>
  <a id="31843" href="/lia/part1/NormalForms/#31817" class="Function">correctness</a> <a id="31855" href="/lia/part1/NormalForms/#31855" class="Bound">ρ</a> <a id="31857" class="Keyword">with</a> <a id="31862" href="/lia/part1/Semantics/#12118" class="Function Operator">⟦</a> <a id="31864" href="/lia/part1/NormalForms/#31773" class="Bound">φ</a> <a id="31866" href="/lia/part1/Semantics/#12118" class="Function Operator">⟧</a> <a id="31868" href="/lia/part1/NormalForms/#31855" class="Bound">ρ</a>
  <a id="31872" class="Symbol">...</a> <a id="31876" class="Symbol">|</a> <a id="31878" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="31881" class="Symbol">=</a> <a id="31883" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  <a id="31890" class="Symbol">...</a> <a id="31894" class="Symbol">|</a> <a id="31896" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="31899" class="Symbol">=</a> <a id="31901" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="31909" href="/lia/part1/NormalForms/#31681" class="Function">DNF-∧-DNFClause</a> <a id="31925" class="Symbol">{</a><a id="31926" href="/lia/part1/NormalForms/#31926" class="Bound">φ</a><a id="31927" class="Symbol">}</a> <a id="31929" class="Symbol">{</a><a id="31930" href="/lia/part1/NormalForms/#31930" class="Bound">ψ</a> <a id="31932" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="31934" href="/lia/part1/NormalForms/#31934" class="Bound">ξ</a><a id="31935" class="Symbol">}</a> <a id="31937" href="/lia/part1/NormalForms/#31937" class="Bound">Cφ</a> <a id="31940" class="Symbol">(</a><a id="31941" href="/lia/part1/NormalForms/#31941" class="Bound">Cψ</a> <a id="31944" href="/lia/part1/NormalForms/#30450" class="InductiveConstructor Operator">,</a> <a id="31946" href="/lia/part1/NormalForms/#31946" class="Bound">DNFξ</a><a id="31950" class="Symbol">)</a> <a id="31952" class="Keyword">with</a> <a id="31957" href="/lia/part1/NormalForms/#30706" class="Function">merge</a> <a id="31963" href="/lia/part1/NormalForms/#31937" class="Bound">Cφ</a> <a id="31966" href="/lia/part1/NormalForms/#31941" class="Bound">Cψ</a>
<a id="31969" class="Symbol">...</a> <a id="31973" class="Symbol">|</a> <a id="31975" href="/lia/part1/NormalForms/#31975" class="Bound">φψ</a> <a id="31978" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="31980" href="/lia/part1/NormalForms/#31980" class="Bound">Cφψ</a> <a id="31984" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="31986" href="/lia/part1/NormalForms/#31986" class="Bound">φψ⟺φ∧ψ</a> <a id="31993" class="Keyword">with</a> <a id="31998" href="/lia/part1/NormalForms/#31681" class="Function">DNF-∧-DNFClause</a> <a id="32014" class="Bound">Cφ</a> <a id="32017" class="Bound">DNFξ</a>
<a id="32022" class="Symbol">...</a> <a id="32026" class="Symbol">|</a> <a id="32028" href="/lia/part1/NormalForms/#32028" class="Bound">η</a> <a id="32030" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="32032" href="/lia/part1/NormalForms/#32032" class="Bound">DNFη</a> <a id="32037" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="32039" href="/lia/part1/NormalForms/#32039" class="Bound">η⟺φ∧ξ</a> <a id="32045" class="Symbol">=</a> <a id="32047" class="Bound">φψ</a> <a id="32050" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="32052" href="/lia/part1/NormalForms/#32028" class="Bound">η</a> <a id="32054" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="32056" class="Symbol">(</a><a id="32057" class="Bound">Cφψ</a> <a id="32061" href="/lia/part1/NormalForms/#30450" class="InductiveConstructor Operator">,</a> <a id="32063" href="/lia/part1/NormalForms/#32032" class="Bound">DNFη</a><a id="32067" class="Symbol">)</a> <a id="32069" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="32071" href="/lia/part1/NormalForms/#32092" class="Function">correctness</a> <a id="32083" class="Keyword">where</a>

  <a id="32092" href="/lia/part1/NormalForms/#32092" class="Function">correctness</a> <a id="32104" class="Symbol">:</a> <a id="32106" class="Bound">φψ</a> <a id="32109" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="32111" href="/lia/part1/NormalForms/#32028" class="Bound">η</a> <a id="32113" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="32115" class="Bound">φ</a> <a id="32117" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="32119" class="Symbol">(</a><a id="32120" class="Bound">ψ</a> <a id="32122" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="32124" class="Bound">ξ</a><a id="32125" class="Symbol">)</a> <a id="32127" class="Comment">-- crucial use of distributivity goes here</a>
  <a id="32172" href="/lia/part1/NormalForms/#32092" class="Function">correctness</a> <a id="32184" href="/lia/part1/NormalForms/#32184" class="Bound">ρ</a> <a id="32186" class="Keyword">rewrite</a> <a id="32194" class="Bound">φψ⟺φ∧ψ</a> <a id="32201" href="/lia/part1/NormalForms/#32184" class="Bound">ρ</a> <a id="32203" class="Symbol">|</a> <a id="32205" href="/lia/part1/NormalForms/#32039" class="Bound">η⟺φ∧ξ</a> <a id="32211" href="/lia/part1/NormalForms/#32184" class="Bound">ρ</a> <a id="32213" class="Symbol">=</a> <a id="32215" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="32219" class="Symbol">(</a><a id="32220" href="/lia/part0/Booleans/#4347" class="UnsolvedMeta UnsolvedConstraint Function">distr-left-∧∨𝔹</a><a id="32234" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="32235" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="32236" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="32237" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="32238" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="32239" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="32240" class="Symbol">)</a></pre>

<ul>
  <li>We now show how to distribute.</li>
</ul>

<pre class="Agda"><a id="DNF-∧"></a><a id="32285" href="/lia/part1/NormalForms/#32285" class="Function">DNF-∧</a> <a id="32291" class="Symbol">:</a> <a id="32293" class="Symbol">∀</a> <a id="32295" class="Symbol">{</a><a id="32296" href="/lia/part1/NormalForms/#32296" class="Bound">φ</a> <a id="32298" href="/lia/part1/NormalForms/#32298" class="Bound">ψ</a><a id="32299" class="Symbol">}</a> <a id="32301" class="Symbol">→</a> <a id="32303" href="/lia/part1/NormalForms/#30409" class="Datatype">DNF</a> <a id="32307" href="/lia/part1/NormalForms/#32296" class="Bound">φ</a> <a id="32309" class="Symbol">→</a> <a id="32311" href="/lia/part1/NormalForms/#30409" class="Datatype">DNF</a> <a id="32315" href="/lia/part1/NormalForms/#32298" class="Bound">ψ</a> <a id="32317" class="Symbol">→</a> <a id="32319" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="32322" href="/lia/part1/NormalForms/#32322" class="Bound">ξ</a> <a id="32324" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="32326" href="/lia/part1/NormalForms/#30409" class="Datatype">DNF</a> <a id="32330" href="/lia/part1/NormalForms/#32322" class="Bound">ξ</a> <a id="32332" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="32334" href="/lia/part1/NormalForms/#32322" class="Bound">ξ</a> <a id="32336" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="32338" href="/lia/part1/NormalForms/#32296" class="Bound">φ</a> <a id="32340" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="32342" href="/lia/part1/NormalForms/#32298" class="Bound">ψ</a>
<a id="32344" href="/lia/part1/NormalForms/#32285" class="Function">DNF-∧</a> <a id="32350" class="Symbol">{</a><a id="32351" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a><a id="32352" class="Symbol">}</a> <a id="32354" class="Symbol">{</a><a id="32355" href="/lia/part1/NormalForms/#32355" class="Bound">ψ</a><a id="32356" class="Symbol">}</a> <a id="32358" href="/lia/part1/NormalForms/#30438" class="InductiveConstructor">∅</a> <a id="32360" href="/lia/part1/NormalForms/#32360" class="Bound">DNFψ</a> <a id="32365" class="Symbol">=</a> <a id="32367" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="32369" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="32371" href="/lia/part1/NormalForms/#30438" class="InductiveConstructor">∅</a> <a id="32373" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="32375" href="/lia/part1/NormalForms/#32396" class="Function">correctness</a> <a id="32387" class="Keyword">where</a>

  <a id="32396" href="/lia/part1/NormalForms/#32396" class="Function">correctness</a> <a id="32408" class="Symbol">:</a> <a id="32410" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="32412" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="32414" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="32416" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="32418" href="/lia/part1/NormalForms/#32355" class="Bound">ψ</a>
  <a id="32422" href="/lia/part1/NormalForms/#32396" class="Function">correctness</a> <a id="32434" href="/lia/part1/NormalForms/#32434" class="Bound">ρ</a> <a id="32436" class="Symbol">=</a> <a id="32438" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="32446" href="/lia/part1/NormalForms/#32285" class="Function">DNF-∧</a> <a id="32452" class="Symbol">{</a><a id="32453" href="/lia/part1/NormalForms/#32453" class="Bound">φ</a> <a id="32455" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="32457" href="/lia/part1/NormalForms/#32457" class="Bound">φ'</a><a id="32459" class="Symbol">}</a> <a id="32461" class="Symbol">{</a><a id="32462" href="/lia/part1/NormalForms/#32462" class="Bound">ψ</a><a id="32463" class="Symbol">}</a> <a id="32465" class="Symbol">(</a><a id="32466" href="/lia/part1/NormalForms/#32466" class="Bound">Cφ</a> <a id="32469" href="/lia/part1/NormalForms/#30450" class="InductiveConstructor Operator">,</a> <a id="32471" href="/lia/part1/NormalForms/#32471" class="Bound">DNFφ'</a><a id="32476" class="Symbol">)</a> <a id="32478" href="/lia/part1/NormalForms/#32478" class="Bound">DNFψ</a> <a id="32483" class="Keyword">with</a> <a id="32488" href="/lia/part1/NormalForms/#31681" class="Function">DNF-∧-DNFClause</a> <a id="32504" href="/lia/part1/NormalForms/#32466" class="Bound">Cφ</a> <a id="32507" href="/lia/part1/NormalForms/#32478" class="Bound">DNFψ</a> <a id="32512" class="Symbol">|</a> <a id="32514" href="/lia/part1/NormalForms/#32285" class="Function">DNF-∧</a> <a id="32520" href="/lia/part1/NormalForms/#32471" class="Bound">DNFφ'</a> <a id="32526" href="/lia/part1/NormalForms/#32478" class="Bound">DNFψ</a>
<a id="32531" class="Symbol">...</a> <a id="32535" class="Symbol">|</a> <a id="32537" href="/lia/part1/NormalForms/#32537" class="Bound">ξ</a> <a id="32539" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="32541" href="/lia/part1/NormalForms/#32541" class="Bound">DNFξ</a> <a id="32546" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="32548" href="/lia/part1/NormalForms/#32548" class="Bound">ξ⟺φ∧ψ</a> <a id="32554" class="Symbol">|</a> <a id="32556" href="/lia/part1/NormalForms/#32556" class="Bound">η</a> <a id="32558" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="32560" href="/lia/part1/NormalForms/#32560" class="Bound">DNFη</a> <a id="32565" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="32567" href="/lia/part1/NormalForms/#32567" class="Bound">η⟺φ'∧ψ</a> <a id="32574" class="Keyword">with</a> <a id="32579" href="/lia/part1/NormalForms/#31175" class="Function">DNF-∨</a> <a id="32585" href="/lia/part1/NormalForms/#32541" class="Bound">DNFξ</a> <a id="32590" href="/lia/part1/NormalForms/#32560" class="Bound">DNFη</a>
<a id="32595" class="Symbol">...</a> <a id="32599" class="Symbol">|</a> <a id="32601" href="/lia/part1/NormalForms/#32601" class="Bound">μ</a> <a id="32603" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="32605" href="/lia/part1/NormalForms/#32605" class="Bound">DNFμ</a> <a id="32610" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="32612" href="/lia/part1/NormalForms/#32612" class="Bound">μ⟺ξ∨η</a> <a id="32618" class="Symbol">=</a> <a id="32620" href="/lia/part1/NormalForms/#32601" class="Bound">μ</a> <a id="32622" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="32624" href="/lia/part1/NormalForms/#32605" class="Bound">DNFμ</a> <a id="32629" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="32631" href="/lia/part1/NormalForms/#32652" class="Function">correctness</a> <a id="32643" class="Keyword">where</a>

  <a id="32652" href="/lia/part1/NormalForms/#32652" class="Function">correctness</a> <a id="32664" class="Symbol">:</a> <a id="32666" href="/lia/part1/NormalForms/#32601" class="Bound">μ</a> <a id="32668" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="32670" class="Symbol">(</a><a id="32671" class="Bound">φ</a> <a id="32673" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="32675" class="Bound">φ'</a><a id="32677" class="Symbol">)</a> <a id="32679" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="32681" class="Bound">ψ</a>
  <a id="32685" href="/lia/part1/NormalForms/#32652" class="Function">correctness</a> <a id="32697" href="/lia/part1/NormalForms/#32697" class="Bound">ρ</a> <a id="32699" class="Keyword">rewrite</a> <a id="32707" href="/lia/part1/NormalForms/#32612" class="Bound">μ⟺ξ∨η</a> <a id="32713" href="/lia/part1/NormalForms/#32697" class="Bound">ρ</a> <a id="32715" class="Symbol">|</a> <a id="32717" class="Bound">η⟺φ'∧ψ</a> <a id="32724" href="/lia/part1/NormalForms/#32697" class="Bound">ρ</a> <a id="32726" class="Symbol">|</a> <a id="32728" class="Bound">ξ⟺φ∧ψ</a> <a id="32734" href="/lia/part1/NormalForms/#32697" class="Bound">ρ</a> <a id="32736" class="Symbol">=</a> <a id="32738" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="32742" class="Symbol">(</a><a id="32743" href="/lia/part0/Booleans/#4656" class="UnsolvedMeta UnsolvedConstraint Function">distr-right-∧∨𝔹</a><a id="32758" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="32759" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="32760" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="32761" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="32762" class="UnsolvedMeta UnsolvedConstraint"> </a><a id="32763" class="UnsolvedMeta UnsolvedConstraint Symbol">_</a><a id="32764" class="Symbol">)</a></pre>

<p>We show that every formula of classical propositional logic can be
transformed into an equivalent DNF formula. We assume an input in NNF.</p>

<pre class="Agda"><a id="dnf"></a><a id="32914" href="/lia/part1/NormalForms/#32914" class="Function">dnf</a> <a id="32918" class="Symbol">:</a> <a id="32920" class="Symbol">∀</a> <a id="32922" class="Symbol">{</a><a id="32923" href="/lia/part1/NormalForms/#32923" class="Bound">φ</a><a id="32924" class="Symbol">}</a> <a id="32926" class="Symbol">→</a> <a id="32928" href="/lia/part1/NormalForms/#25594" class="Datatype">NNF</a> <a id="32932" href="/lia/part1/NormalForms/#32923" class="Bound">φ</a> <a id="32934" class="Symbol">→</a> <a id="32936" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="32939" href="/lia/part1/NormalForms/#32939" class="Bound">ψ</a> <a id="32941" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="32943" href="/lia/part1/NormalForms/#30409" class="Datatype">DNF</a> <a id="32947" href="/lia/part1/NormalForms/#32939" class="Bound">ψ</a> <a id="32949" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="32951" href="/lia/part1/NormalForms/#32939" class="Bound">ψ</a> <a id="32953" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="32955" href="/lia/part1/NormalForms/#32923" class="Bound">φ</a>
<a id="32957" href="/lia/part1/NormalForms/#32914" class="Function">dnf</a> <a id="32961" href="/lia/part1/NormalForms/#25622" class="InductiveConstructor">⊤</a> <a id="32963" class="Symbol">=</a> <a id="32965" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="32967" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="32969" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="32971" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="32973" class="Symbol">(</a><a id="32974" href="/lia/part1/NormalForms/#30325" class="InductiveConstructor">∅</a> <a id="32976" href="/lia/part1/NormalForms/#30450" class="InductiveConstructor Operator">,</a> <a id="32978" href="/lia/part1/NormalForms/#30438" class="InductiveConstructor">∅</a><a id="32979" class="Symbol">)</a> <a id="32981" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="32983" href="/lia/part1/NormalForms/#33004" class="Function">correctness</a> <a id="32995" class="Keyword">where</a>

  <a id="33004" href="/lia/part1/NormalForms/#33004" class="Function">correctness</a> <a id="33016" class="Symbol">:</a> <a id="33018" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="33020" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="33022" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="33024" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="33026" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a>
  <a id="33030" href="/lia/part1/NormalForms/#33004" class="Function">correctness</a> <a id="33042" href="/lia/part1/NormalForms/#33042" class="Bound">ρ</a> <a id="33044" class="Symbol">=</a> <a id="33046" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="33054" href="/lia/part1/NormalForms/#32914" class="Function">dnf</a> <a id="33058" href="/lia/part1/NormalForms/#25634" class="InductiveConstructor">⊥</a> <a id="33060" class="Symbol">=</a> <a id="33062" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="33064" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="33066" href="/lia/part1/NormalForms/#30438" class="InductiveConstructor">∅</a> <a id="33068" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="33070" href="/lia/part1/NormalForms/#33091" class="Function">correctness</a> <a id="33082" class="Keyword">where</a>

  <a id="33091" href="/lia/part1/NormalForms/#33091" class="Function">correctness</a> <a id="33103" class="Symbol">:</a> <a id="33105" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="33107" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="33109" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a>
  <a id="33113" href="/lia/part1/NormalForms/#33091" class="Function">correctness</a> <a id="33125" href="/lia/part1/NormalForms/#33125" class="Bound">ρ</a> <a id="33127" class="Symbol">=</a> <a id="33129" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="33137" href="/lia/part1/NormalForms/#32914" class="Function">dnf</a> <a id="33141" class="Symbol">(</a><a id="33142" href="/lia/part1/NormalForms/#25646" class="InductiveConstructor Operator">`</a> <a id="33144" href="/lia/part1/NormalForms/#33144" class="Bound">p</a><a id="33145" class="Symbol">)</a> <a id="33147" class="Symbol">=</a> <a id="33149" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="33151" href="/lia/part1/NormalForms/#33144" class="Bound">p</a> <a id="33153" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="33155" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="33157" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="33159" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="33161" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="33163" class="Symbol">((</a><a id="33165" href="/lia/part1/NormalForms/#30203" class="InductiveConstructor">Pos</a> <a id="33169" href="/lia/part1/NormalForms/#33144" class="Bound">p</a> <a id="33171" href="/lia/part1/NormalForms/#30343" class="InductiveConstructor Operator">,</a> <a id="33173" href="/lia/part1/NormalForms/#30325" class="InductiveConstructor">∅</a><a id="33174" class="Symbol">)</a> <a id="33176" href="/lia/part1/NormalForms/#30450" class="InductiveConstructor Operator">,</a> <a id="33178" href="/lia/part1/NormalForms/#30438" class="InductiveConstructor">∅</a><a id="33179" class="Symbol">)</a> <a id="33181" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="33183" href="/lia/part1/NormalForms/#33204" class="Function">correctness</a> <a id="33195" class="Keyword">where</a>

  <a id="33204" href="/lia/part1/NormalForms/#33204" class="Function">correctness</a> <a id="33216" class="Symbol">:</a> <a id="33218" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="33220" href="/lia/part1/NormalForms/#33144" class="Bound">p</a> <a id="33222" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="33224" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="33226" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="33228" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="33230" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="33232" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="33234" href="/lia/part1/NormalForms/#33144" class="Bound">p</a>
  <a id="33238" href="/lia/part1/NormalForms/#33204" class="Function">correctness</a> <a id="33250" href="/lia/part1/NormalForms/#33250" class="Bound">ρ</a> <a id="33252" class="Keyword">with</a> <a id="33257" href="/lia/part1/NormalForms/#33250" class="Bound">ρ</a> <a id="33259" href="/lia/part1/NormalForms/#33144" class="Bound">p</a>
  <a id="33263" class="Symbol">...</a> <a id="33267" class="Symbol">|</a> <a id="33269" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="33272" class="Symbol">=</a> <a id="33274" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  <a id="33281" class="Symbol">...</a> <a id="33285" class="Symbol">|</a> <a id="33287" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="33290" class="Symbol">=</a> <a id="33292" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  
<a id="33300" href="/lia/part1/NormalForms/#32914" class="Function">dnf</a> <a id="33304" class="Symbol">(</a><a id="33305" href="/lia/part1/NormalForms/#25680" class="InductiveConstructor Operator">¬`</a> <a id="33308" href="/lia/part1/NormalForms/#33308" class="Bound">p</a><a id="33309" class="Symbol">)</a> <a id="33311" class="Symbol">=</a> <a id="33313" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="33315" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="33317" href="/lia/part1/NormalForms/#33308" class="Bound">p</a> <a id="33319" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="33321" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="33323" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="33325" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="33327" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="33329" class="Symbol">((</a><a id="33331" href="/lia/part1/NormalForms/#30242" class="InductiveConstructor">Neg</a> <a id="33335" href="/lia/part1/NormalForms/#33308" class="Bound">p</a> <a id="33337" href="/lia/part1/NormalForms/#30343" class="InductiveConstructor Operator">,</a> <a id="33339" href="/lia/part1/NormalForms/#30325" class="InductiveConstructor">∅</a><a id="33340" class="Symbol">)</a> <a id="33342" href="/lia/part1/NormalForms/#30450" class="InductiveConstructor Operator">,</a> <a id="33344" href="/lia/part1/NormalForms/#30438" class="InductiveConstructor">∅</a><a id="33345" class="Symbol">)</a> <a id="33347" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="33349" href="/lia/part1/NormalForms/#33370" class="Function">correctness</a> <a id="33361" class="Keyword">where</a>

  <a id="33370" href="/lia/part1/NormalForms/#33370" class="Function">correctness</a> <a id="33382" class="Symbol">:</a> <a id="33384" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="33386" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="33388" href="/lia/part1/NormalForms/#33308" class="Bound">p</a> <a id="33390" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="33392" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a> <a id="33394" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="33396" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a> <a id="33398" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="33400" href="/lia/part1/Semantics/#3622" class="InductiveConstructor Operator">¬</a> <a id="33402" href="/lia/part1/Semantics/#3588" class="InductiveConstructor Operator">`</a> <a id="33404" href="/lia/part1/NormalForms/#33308" class="Bound">p</a>
  <a id="33408" href="/lia/part1/NormalForms/#33370" class="Function">correctness</a> <a id="33420" href="/lia/part1/NormalForms/#33420" class="Bound">ρ</a> <a id="33422" class="Keyword">with</a> <a id="33427" href="/lia/part1/NormalForms/#33420" class="Bound">ρ</a> <a id="33429" href="/lia/part1/NormalForms/#33308" class="Bound">p</a>
  <a id="33433" class="Symbol">...</a> <a id="33437" class="Symbol">|</a> <a id="33439" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="33442" class="Symbol">=</a> <a id="33444" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  <a id="33451" class="Symbol">...</a> <a id="33455" class="Symbol">|</a> <a id="33457" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="33460" class="Symbol">=</a> <a id="33462" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="33468" href="/lia/part1/NormalForms/#32914" class="Function">dnf</a> <a id="33472" class="Symbol">{</a><a id="33473" href="/lia/part1/NormalForms/#33473" class="Bound">φ</a> <a id="33475" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="33477" href="/lia/part1/NormalForms/#33477" class="Bound">ψ</a><a id="33478" class="Symbol">}</a> <a id="33480" class="Symbol">(</a><a id="33481" href="/lia/part1/NormalForms/#33481" class="Bound">NNFφ</a> <a id="33486" href="/lia/part1/NormalForms/#25717" class="InductiveConstructor Operator">∧</a> <a id="33488" href="/lia/part1/NormalForms/#33488" class="Bound">NNFψ</a><a id="33492" class="Symbol">)</a> <a id="33494" class="Keyword">with</a> <a id="33499" href="/lia/part1/NormalForms/#32914" class="Function">dnf</a> <a id="33503" href="/lia/part1/NormalForms/#33481" class="Bound">NNFφ</a> <a id="33508" class="Symbol">|</a> <a id="33510" href="/lia/part1/NormalForms/#32914" class="Function">dnf</a> <a id="33514" href="/lia/part1/NormalForms/#33488" class="Bound">NNFψ</a>
<a id="33519" class="Symbol">...</a> <a id="33523" class="Symbol">|</a> <a id="33525" href="/lia/part1/NormalForms/#33525" class="Bound">φ'</a> <a id="33528" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="33530" href="/lia/part1/NormalForms/#33530" class="Bound">DNFφ'</a> <a id="33536" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="33538" href="/lia/part1/NormalForms/#33538" class="Bound">φ'⟺φ</a> <a id="33543" class="Symbol">|</a> <a id="33545" href="/lia/part1/NormalForms/#33545" class="Bound">ψ'</a> <a id="33548" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="33550" href="/lia/part1/NormalForms/#33550" class="Bound">DNFψ'</a> <a id="33556" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="33558" href="/lia/part1/NormalForms/#33558" class="Bound">ψ'⟺ψ</a> <a id="33563" class="Keyword">with</a> <a id="33568" href="/lia/part1/NormalForms/#32285" class="Function">DNF-∧</a> <a id="33574" href="/lia/part1/NormalForms/#33530" class="Bound">DNFφ'</a> <a id="33580" href="/lia/part1/NormalForms/#33550" class="Bound">DNFψ'</a>
<a id="33586" class="Symbol">...</a> <a id="33590" class="Symbol">|</a> <a id="33592" href="/lia/part1/NormalForms/#33592" class="Bound">ξ</a> <a id="33594" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="33596" href="/lia/part1/NormalForms/#33596" class="Bound">DNFξ</a> <a id="33601" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="33603" href="/lia/part1/NormalForms/#33603" class="Bound">ξ⟺φ'∧ψ'</a> <a id="33611" class="Symbol">=</a> <a id="33613" href="/lia/part1/NormalForms/#33592" class="Bound">ξ</a> <a id="33615" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="33617" href="/lia/part1/NormalForms/#33596" class="Bound">DNFξ</a> <a id="33622" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="33624" href="/lia/part1/NormalForms/#33645" class="Function">correctness</a> <a id="33636" class="Keyword">where</a>

  <a id="33645" href="/lia/part1/NormalForms/#33645" class="Function">correctness</a> <a id="33657" class="Symbol">:</a> <a id="33659" href="/lia/part1/NormalForms/#33592" class="Bound">ξ</a> <a id="33661" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="33663" class="Bound">φ</a> <a id="33665" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="33667" class="Bound">ψ</a>
  <a id="33671" href="/lia/part1/NormalForms/#33645" class="Function">correctness</a> <a id="33683" href="/lia/part1/NormalForms/#33683" class="Bound">ρ</a> <a id="33685" class="Keyword">rewrite</a> <a id="33693" href="/lia/part1/NormalForms/#33603" class="Bound">ξ⟺φ'∧ψ'</a> <a id="33701" href="/lia/part1/NormalForms/#33683" class="Bound">ρ</a> <a id="33703" class="Symbol">|</a> <a id="33705" class="Bound">φ'⟺φ</a> <a id="33710" href="/lia/part1/NormalForms/#33683" class="Bound">ρ</a> <a id="33712" class="Symbol">|</a> <a id="33714" class="Bound">ψ'⟺ψ</a> <a id="33719" href="/lia/part1/NormalForms/#33683" class="Bound">ρ</a> <a id="33721" class="Symbol">=</a> <a id="33723" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="33729" href="/lia/part1/NormalForms/#32914" class="Function">dnf</a> <a id="33733" class="Symbol">{</a><a id="33734" href="/lia/part1/NormalForms/#33734" class="Bound">φ</a> <a id="33736" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="33738" href="/lia/part1/NormalForms/#33738" class="Bound">ψ</a><a id="33739" class="Symbol">}</a> <a id="33741" class="Symbol">(</a><a id="33742" href="/lia/part1/NormalForms/#33742" class="Bound">NNFφ</a> <a id="33747" href="/lia/part1/NormalForms/#25753" class="InductiveConstructor Operator">∨</a> <a id="33749" href="/lia/part1/NormalForms/#33749" class="Bound">NNFψ</a><a id="33753" class="Symbol">)</a> <a id="33755" class="Keyword">with</a> <a id="33760" href="/lia/part1/NormalForms/#32914" class="Function">dnf</a> <a id="33764" href="/lia/part1/NormalForms/#33742" class="Bound">NNFφ</a> <a id="33769" class="Symbol">|</a> <a id="33771" href="/lia/part1/NormalForms/#32914" class="Function">dnf</a> <a id="33775" href="/lia/part1/NormalForms/#33749" class="Bound">NNFψ</a>
<a id="33780" class="Symbol">...</a> <a id="33784" class="Symbol">|</a> <a id="33786" href="/lia/part1/NormalForms/#33786" class="Bound">φ'</a> <a id="33789" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="33791" href="/lia/part1/NormalForms/#33791" class="Bound">DNFφ'</a> <a id="33797" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="33799" href="/lia/part1/NormalForms/#33799" class="Bound">φ'⟺φ</a> <a id="33804" class="Symbol">|</a> <a id="33806" href="/lia/part1/NormalForms/#33806" class="Bound">ψ'</a> <a id="33809" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="33811" href="/lia/part1/NormalForms/#33811" class="Bound">DNFψ'</a> <a id="33817" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="33819" href="/lia/part1/NormalForms/#33819" class="Bound">ψ'⟺ψ</a> <a id="33824" class="Keyword">with</a> <a id="33829" href="/lia/part1/NormalForms/#31175" class="Function">DNF-∨</a> <a id="33835" href="/lia/part1/NormalForms/#33791" class="Bound">DNFφ'</a> <a id="33841" href="/lia/part1/NormalForms/#33811" class="Bound">DNFψ'</a>
<a id="33847" class="Symbol">...</a> <a id="33851" class="Symbol">|</a> <a id="33853" href="/lia/part1/NormalForms/#33853" class="Bound">ξ</a> <a id="33855" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="33857" href="/lia/part1/NormalForms/#33857" class="Bound">DNFξ</a> <a id="33862" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="33864" href="/lia/part1/NormalForms/#33864" class="Bound">ξ⟺φ'∨ψ'</a> <a id="33872" class="Symbol">=</a> <a id="33874" href="/lia/part1/NormalForms/#33853" class="Bound">ξ</a> <a id="33876" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="33878" href="/lia/part1/NormalForms/#33857" class="Bound">DNFξ</a> <a id="33883" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="33885" href="/lia/part1/NormalForms/#33906" class="Function">correctness</a> <a id="33897" class="Keyword">where</a>

  <a id="33906" href="/lia/part1/NormalForms/#33906" class="Function">correctness</a> <a id="33918" class="Symbol">:</a> <a id="33920" href="/lia/part1/NormalForms/#33853" class="Bound">ξ</a> <a id="33922" href="/lia/part1/Semantics/#26890" class="Function Operator">⟺</a> <a id="33924" class="Bound">φ</a> <a id="33926" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="33928" class="Bound">ψ</a>
  <a id="33932" href="/lia/part1/NormalForms/#33906" class="Function">correctness</a> <a id="33944" href="/lia/part1/NormalForms/#33944" class="Bound">ρ</a> <a id="33946" class="Keyword">rewrite</a> <a id="33954" href="/lia/part1/NormalForms/#33864" class="Bound">ξ⟺φ'∨ψ'</a> <a id="33962" href="/lia/part1/NormalForms/#33944" class="Bound">ρ</a> <a id="33964" class="Symbol">|</a> <a id="33966" class="Bound">φ'⟺φ</a> <a id="33971" href="/lia/part1/NormalForms/#33944" class="Bound">ρ</a> <a id="33973" class="Symbol">|</a> <a id="33975" class="Bound">ψ'⟺ψ</a> <a id="33980" href="/lia/part1/NormalForms/#33944" class="Bound">ρ</a> <a id="33982" class="Symbol">=</a> <a id="33984" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<h1 id="CNF">
<a class="anchor" href="#CNF" aria-hidden="true"><span class="octicon octicon-link"></span></a>Conjunctive normal form</h1>

<p>CNF is dual to DNF. Is the exponential CNF transformation useful
anywhere?</p>

<pre class="Agda"><a id="34108" class="Keyword">data</a> <a id="CNFClause"></a><a id="34113" href="/lia/part1/NormalForms/#34113" class="Datatype">CNFClause</a> <a id="34123" class="Symbol">:</a> <a id="34125" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a> <a id="34133" class="Symbol">→</a> <a id="34135" class="PrimitiveType">Set</a> <a id="34139" class="Keyword">where</a>
  <a id="CNFClause.∅"></a><a id="34147" href="/lia/part1/NormalForms/#34147" class="InductiveConstructor">∅</a> <a id="34149" class="Symbol">:</a> <a id="34151" href="/lia/part1/NormalForms/#34113" class="Datatype">CNFClause</a> <a id="34161" href="/lia/part1/Semantics/#3570" class="InductiveConstructor">⊥</a>
  <a id="CNFClause._,_"></a><a id="34165" href="/lia/part1/NormalForms/#34165" class="InductiveConstructor Operator">_,_</a> <a id="34169" class="Symbol">:</a> <a id="34171" class="Symbol">∀</a> <a id="34173" class="Symbol">{</a><a id="34174" href="/lia/part1/NormalForms/#34174" class="Bound">φ</a> <a id="34176" href="/lia/part1/NormalForms/#34176" class="Bound">ψ</a><a id="34177" class="Symbol">}</a> <a id="34179" class="Symbol">→</a> <a id="34181" href="/lia/part1/NormalForms/#30171" class="Datatype">Literal</a> <a id="34189" href="/lia/part1/NormalForms/#34174" class="Bound">φ</a> <a id="34191" class="Symbol">→</a> <a id="34193" href="/lia/part1/NormalForms/#34113" class="Datatype">CNFClause</a> <a id="34203" href="/lia/part1/NormalForms/#34176" class="Bound">ψ</a> <a id="34205" class="Symbol">→</a> <a id="34207" href="/lia/part1/NormalForms/#34113" class="Datatype">CNFClause</a> <a id="34217" class="Symbol">(</a><a id="34218" href="/lia/part1/NormalForms/#34174" class="Bound">φ</a> <a id="34220" href="/lia/part1/Semantics/#3655" class="InductiveConstructor Operator">∨</a> <a id="34222" href="/lia/part1/NormalForms/#34176" class="Bound">ψ</a><a id="34223" class="Symbol">)</a>

<a id="34226" class="Keyword">data</a> <a id="CNF"></a><a id="34231" href="/lia/part1/NormalForms/#34231" class="Datatype">CNF</a> <a id="34235" class="Symbol">:</a> <a id="34237" href="/lia/part1/Semantics/#3546" class="Datatype">Formula</a> <a id="34245" class="Symbol">→</a> <a id="34247" class="PrimitiveType">Set</a> <a id="34251" class="Keyword">where</a>
  <a id="CNF.∅"></a><a id="34259" href="/lia/part1/NormalForms/#34259" class="InductiveConstructor">∅</a> <a id="34261" class="Symbol">:</a> <a id="34263" href="/lia/part1/NormalForms/#34231" class="Datatype">CNF</a> <a id="34267" href="/lia/part1/Semantics/#3572" class="InductiveConstructor">⊤</a>
  <a id="CNF._,_"></a><a id="34271" href="/lia/part1/NormalForms/#34271" class="InductiveConstructor Operator">_,_</a> <a id="34275" class="Symbol">:</a> <a id="34277" class="Symbol">∀</a> <a id="34279" class="Symbol">{</a><a id="34280" href="/lia/part1/NormalForms/#34280" class="Bound">φ</a> <a id="34282" href="/lia/part1/NormalForms/#34282" class="Bound">ψ</a><a id="34283" class="Symbol">}</a> <a id="34285" class="Symbol">→</a> <a id="34287" href="/lia/part1/NormalForms/#34113" class="Datatype">CNFClause</a> <a id="34297" href="/lia/part1/NormalForms/#34280" class="Bound">φ</a> <a id="34299" class="Symbol">→</a> <a id="34301" href="/lia/part1/NormalForms/#34231" class="Datatype">CNF</a> <a id="34305" href="/lia/part1/NormalForms/#34282" class="Bound">ψ</a> <a id="34307" class="Symbol">→</a> <a id="34309" href="/lia/part1/NormalForms/#34231" class="Datatype">CNF</a> <a id="34313" class="Symbol">(</a><a id="34314" href="/lia/part1/NormalForms/#34280" class="Bound">φ</a> <a id="34316" href="/lia/part1/Semantics/#3659" class="InductiveConstructor Operator">∧</a> <a id="34318" href="/lia/part1/NormalForms/#34282" class="Bound">ψ</a><a id="34319" class="Symbol">)</a></pre>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>We slightly depart from a more standard definition of NNF, whereby
<a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> and
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> are not allowed as proper
subformulas of an NNF formula. In other words, according to our
definition <code class="language-plaintext highlighter-rouge">` p₀ ∨ ⊥</code> is in NNF, while it is not according to
the more restrictive one. By applying
<a href="../../part1/Semantics#simplify"><code class="language-plaintext highlighter-rouge">simplify</code></a> as a preprocessing step
we can remove such occurrences of
<a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> ,
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> . Formally proving that the
resulting formulas do not contain
<a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> ,
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> as proper subformulas, while
possible, would introduce an extra overhead obscuring the main point
about NNF, which is the handling of negation. For this reason, we
stick here to our slightly more relaxed NNF definition. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
  </ol>
</div>

    </div>
  
    <p style="text-align:center;">
    
    
    
    <a alt="Part" href="/lia/part1/index/">Part</a>
    &bullet;
    
    
    <a alt="Source code" href="https://github.com/lclem/lia/blob/main/src/part1/NormalForms.lagda.md">Source</a>
    
    
    
</p>

    <p class="p-name"> Last-modified: Nov 20 16:08:00 2020 </p>
  </article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/lia/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Logic in Agda</h2><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Lorenzo Clemente</li>
          <li><a class="u-email" href="mailto:clementelorenzo@gmail.com">clementelorenzo@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/lclem"><svg class="svg-icon"><use xlink:href="/lia/assets/minima-social-icons.svg#github"></use></svg> <span class="username">lclem</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
  </div>
</footer>

<!-- Parse the Latex divs with Katex
<script type="text/javascript">
  $("script[type='math/tex']").replaceWith(
    function(){
      var tex = $(this).text();
      return katex.renderToString(tex, {displayMode: false});
  });
  
  $("script[type='math/tex; mode=display']").replaceWith(
    function(){
      var tex = $(this).text();
      return katex.renderToString(tex.replace(/%.*/g, ''), {displayMode: true});
  });
</script>
-->

<script type="text/javascript" src="/lia/assets/hidebox.js"></script>
</body>

</html>
