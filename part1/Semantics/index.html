<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Syntax and semantics of propositional logic 🚧 | Logic in Agda</title><!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Syntax and semantics of propositional logic 🚧" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Propositional and fist-order logic developed with the proof assistant Agda." />
<meta property="og:description" content="Propositional and fist-order logic developed with the proof assistant Agda." />
<link rel="canonical" href="/lia/part1/Semantics/" />
<meta property="og:url" content="/lia/part1/Semantics/" />
<meta property="og:site_name" content="Logic in Agda" />
<script type="application/ld+json">
{"url":"/lia/part1/Semantics/","@type":"WebPage","description":"Propositional and fist-order logic developed with the proof assistant Agda.","headline":"Syntax and semantics of propositional logic 🚧","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/lia/assets/main.css">

  <!-- <link rel="stylesheet" href="/lia/assets/custom.css"> --><!-- Mathjax Support -->
  <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  <!-- Load KaTeX -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.js"></script>

<script type="text/x-thebe-config">
  {
    bootstrap: true,
    requestKernel: true,
    runAllCells: false,
    selector: "[data-executable]",
    predefinedOutput: false,
    codeMirrorConfig: {
        //theme: "idea",
        language: "agda",
        readOnly: false,
        lineNumbers: true,
        keyMap: "default",
//        gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
    },
    kernelOptions: {
        name: "agda",
        kernelName: "agda",
        path: "src/",
        loadFromStore: true,
        persistent: false,
        // notebook server configuration; not needed with binder
        serverSettings: {
              baseUrl: "http://127.0.0.1:8888",
              token: "test-secret",
            },
    },
    binderOptions: {
      repo: "lclem/lia", // need to put here the actual github repo (if it is a fork)
      ref: "main",
      binderUrl: "https://mybinder.org",
      repoProvider: "github",
      savedSession: {
        enabled: true,
        maxAge: 86400, // the max age in seconds to consider re-using a session
        storagePrefix: "thebe-binder-lia-"
      },
    },
  }
</script>

<!-- <script type="text/javascript" src="https://unpkg.com/thebelab@latest"></script> -->

<!-- our own version of the thebe library: -->
<script type="text/javascript" src="/lia/thebe/lib/index.js"></script>

<!-- highlighting for Agda -->
<script src="/lia/codemirror-agda/lib/index.js"></script>

</head>
<body><header class="site-header" id="site-header">

    <div class="wrapper">

        <a class="site-title" href="/lia/">Logic in Agda</a>

        <nav class="site-nav">
            <!-- <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                    <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                    <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                    <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
                </svg>
            </span> -->

            <div class="trigger">
                <a class="page-link" href="/lia/part0/index/">Part 0</a>
                <a class="page-link" href="/lia/part1/index/">Part 1</a>
                <a class="page-link" href="/lia/part2/index/">Part 2</a>
                <a class="page-link" href="/lia/part3/index/">Part 3</a>
                <a class="page-link" href="/lia/part4/index/">Part 4</a>
                <a class="page-link" href="/lia/part5/index/">Part 5</a>

                <span class="kernel-status">
                    <button class="kernel-status-button" onclick="kernel_status_clicked()" title="kernel status"></button>
                    <span id="kernel-messages" class="kernel-messages"></span>
                </span>

                <div id="connection_options" class="options sidebar" style="text-align: left; line-height: normal; max-width: 800px; padding: 10px; border-radius: 15px;">
                    <!-- display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: space-between; -->
                    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
                    <div>
                        <label for="username" style="color: white;">User:</label>
                        <input type="text" placeholder="github username" id="username" name="username">
                        <label for="password" style="color: white;">Password:</label>
                        <input type="password" placeholder="password" id="password" name="password">
                    </div>
                    <div>
                        <label for="loadFromStore" style="color: white;">Load code from browser store:</label>
                        <label class="switch" style="vertical-align: middle; margin: 10px;">
                            <input type="checkbox" id="loadFromStore" name="loadFromStore">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div>
                        <label for="baseUrl" style="color: white;">Base URL:</label>
                        <input type="text" placeholder="baseUrl" id="baseUrl" name="baseUrl" value="http://127.0.0.1:8888">
                        <label for="token" style="color: white;">Token:</label>
                        <input type="text" placeholder="token" id="token" name="token" value="test-secret">
                    </div>
                    <div>
                        <label for="useBinder" style="color: white;">Use binder:</label>
                        <label class="switch" style="vertical-align: middle; margin: 10px;">
                            <input type="checkbox" id="useBinder" name="useBinder">
                            <span class="slider round"></span>
                        </label>
                        <label for="savedSession" style="color: white;">Reuse session:</label>
                        <label class="switch" style="vertical-align: middle; margin: 10px;">
                            <input type="checkbox" id="savedSession" name="savedSession">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div>
                        <label for="repository" style="color: white;">Github repo:</label>
                        <input type="text" placeholder="repository" id="repository" name="repository" value="">

                        <label for="ref" style="color: white;">Branch:</label>
                        <input type="text" placeholder="ref" id="ref" name="ref" value="main">

                        <label for="binderUrl" style="color: white;">Binder URL:</label>                        
                        <input type="text" placeholder="binderUrl" id="binderUrl" name="binderUrl" value="https://mybinder.org">
                    </div>
                </div>

                <span class="control-container" id="control-container">
                    <svg class="progress-ring" id="progress-ring" width="30" height="30" title="exercise progress" onclick="kernel_status_clicked()">
                        <circle
                            id="progress-circle"
                            class="progress-ring__circle"
                            stroke="black"
                            stroke-width="2.5"
                            fill="transparent"
                            r="14"
                            cx="15"
                            cy="15"/>
                        <circle
                            stroke="lightgray"
                            stroke-width="0.5"
                            fill="transparent"
                            r="14"
                            cx="15"
                            cy="15"/>
                    </svg>
                    <div id="connection_options" class="options sidebar" style="text-align: left; line-height: normal; max-width: 800px; padding: 10px; border-radius: 15px;"></div>
                    <span class="progress-text" id="progress-text" onclick="kernel_status_clicked()"> 0/0 </span>

                    <span id="controls" class="controls">
                        <svg version="1.1" id="run-all" class="run-all" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                            width="15" height="15" viewBox="0 0 163.861 163.861" style="enable-background:new 0 0 163.861 163.861;"
                            xml:space="preserve">
                            <g>
                                <path d="M34.857,3.613C20.084-4.861,8.107,2.081,8.107,19.106v125.637c0,17.042,11.977,23.975,26.75,15.509L144.67,97.275
                                    c14.778-8.477,14.778-22.211,0-30.686L34.857,3.613z"/>
                            </g>
                        </svg>
                    </span>
                </span>
            </div>

            <style>
                .switch {
                    position: relative;
                    display: inline-block;
                    width: 40px;
                    height: 20px;
                }

                /* Hide default HTML checkbox */
                .switch input {
                    opacity: 0;
                    width: 0;
                    height: 0;
                }

                /* The slider */
                .slider {
                    position: absolute;
                    cursor: pointer;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background-color: #ccc;
                    -webkit-transition: .4s;
                    transition: .4s;
                }

                .slider:before {
                    position: absolute;
                    content: "";
                    height: 16px;
                    width: 16px;
                    left: 2px;
                    /* right: 4px; */
                    bottom: 2px;
                    top: 2px;
                    background-color: white;
                    -webkit-transition: .4s;
                    transition: .4s;
                }

                input:checked + .slider {
                    background-color: #2196F3;
                }

                input:focus + .slider {
                    box-shadow: 0 0 1px #2196F3;
                }

                input:checked + .slider:before {
                    -webkit-transform: translateX(18px);
                    -ms-transform: translateX(18px);
                    transform: translateX(18px);
                }

                /* Rounded sliders */
                .slider.round {
                    border-radius: 30px;
                }

                .slider.round:before {
                border-radius: 50%;
                }

                .sidebar input[type=text] {
                    padding: 6px;
                    margin-top: 8px;
                    /* font-size: 17px; */
                    border: none;
                    /* width: 150px; */
                }

                .sidebar {
                    /* height: 100%; */
                    width: 0;
                    position: fixed;
                    z-index: 1000;
                    top: 0;
                    right: 20px;
                    background-color: rgba(17, 17, 17, 0.637);
                    /* overflow-x: hidden; */
                    transition: 0.5s;
                    padding-top: 60px;
                    display: none;
                    margin-top: 60px;
                }

                .sidebar .closebtn {
                    position: absolute;
                    color: white;
                    top: 0;
                    right: 10px;
                    font-size: 24px;
                    margin-left: 20px;
                }

                .progress-ring, .run-all {
                    vertical-align: middle;
                }

                .control-container {
                    transition: all .2s ease-in-out;
                }

                .controls {
                    display: none;
                    opacity: 0;
                    margin-right: 10px;
                    transition: all .5s ease-in-out;
                }

                .run-all:hover {
                    filter: brightness(135%);
                }

                .progress-ring__circle {
                    transition: 0.35s stroke-dashoffset;
                    transform: rotate(-90deg);
                    transform-origin: 50% 50%;
                    visibility: hidden;
                }

                .progress-text {
                    position: relative;
                    top: 0;
                    left: -25px;
                    font-size: 8px;
                    vertical-align: middle;
                    align-self: center;
                }

                .progress-text:hover, .progress-ring:hover, .progress-ring__circle:hover, .run-all {
                    cursor: pointer;
                }
            </style>

            <script>

                //  var storedUsername = localStorage.getItem("username");
                //  localStorage.setItem("username", storedUsername.value);
            
                function doStore(input, key) {

                    if(input.type == "checkbox") {
                        var checked = localStorage.getItem(key);

                        if (checked == "yes") {
                            localStorage.setItem(key, "no");
                        }
                        else {
                            localStorage.setItem(key, "yes");
                        }

                        console.info("checked: ", localStorage.getItem(key));
                    }
                    else {
                        console.info("value: ", input.value);
                        localStorage.setItem(key, input.value);
                    }
                }

                function persistInput(input) {
                    var key = "input-" + input.id;
                    var storedValue = localStorage.getItem(key);
                
                    console.info("Persisting input: ", input);
                
                    // if there is a stored value, use it
                    if (storedValue) {

                        if(input.type != "password") {
                            console.info("restoring value ", storedValue, " for ", input);
                        }

                        if(input.type == "checkbox") {
                            if(storedValue=="yes") {
                                input.setAttribute("checked", "");
                            }
                            else {
                                input.removeAttribute("checked");
                            }
                        }
                        else {
                            input.value = storedValue;
                        }
                    }
                    // if there is no stored value, store the current value
                    else {
                        doStore(input, key);
                    }

                    input.addEventListener('input', function () {
                        console.info("input changed: key = ", key, "; value = ", input);
                        doStore(input, key);
                    });
                    }
                
                    persistInput(document.getElementById("username"));
                    persistInput(document.getElementById("password"));

                    persistInput(document.getElementById("loadFromStore"));

                    persistInput(document.getElementById("baseUrl"));
                    persistInput(document.getElementById("token"));

                    persistInput(document.getElementById("useBinder"));
                    persistInput(document.getElementById("savedSession"));
                    persistInput(document.getElementById("repository"));
                    persistInput(document.getElementById("ref"));
                    persistInput(document.getElementById("binderUrl"));

                    // init
                    document.getElementById("connection_options").style.display = "none";

                    function kernel_status_clicked() {
                
                        console.info("Clicked kernel status");

                        document.getElementById("kernel-messages").style.display = "none";

                        document.getElementById("connection_options").style.width = "750px";
                        document.getElementById("connection_options").style.display = "block";
                        //document.getElementById("header").style.marginLeft = "250px";

                    }

                    function closeNav() {

                        document.getElementById("kernel-messages").style.display = "inline";

                        document.getElementById("connection_options").style.width = "0";
                        document.getElementById("connection_options").style.display = "none";
                        //document.getElementById("header").style.marginLeft= "0";
                    }

                var prevScrollpos = window.pageYOffset;
                var header = document.getElementById("site-header");
                var boxShadow = header.style.boxShadow;

                window.onscroll = function() {
                    var currentScrollPos = window.pageYOffset;
                    // detect scroll down
                    if (prevScrollpos > currentScrollPos) {
                        header.style.top = "0";
                        header.style.boxShadow = boxShadow;
                        prevScrollpos = currentScrollPos;
                    } else if (prevScrollpos <= currentScrollPos) {
                        header.style.top = "-55px";
                        header.style.boxShadow = "none"
                        prevScrollpos = currentScrollPos;
                    }
                }

            let control_container = document.getElementById("control-container");
            let controls = document.getElementById("controls");

            control_container.addEventListener("mouseenter", function(event) {
                controls.style.display = "inline";
//                controls.style.visibility = "visible";
                controls.style.opacity = 1;
                console.info("mouseenter");
            }, false);

            control_container.addEventListener("mouseleave", function(event) {
                // controls.style.visibility = "hidden";
                // controls.style.display = "none";
                controls.style.opacity = 0;
                console.info("mouseleave");
            }, false);

            </script>
            
        </nav>

    </div>

</header><main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

    <header class="post-header">
        <h1 class="post-title">Syntax and semantics of propositional logic 🚧</h1>
    </header>
  
    <header class="nav-header">
    <p style="text-align:center;">
        
        
        
        <a alt="Part" href="/lia/part1/index/">Part</a>
        &bullet;
        
        
        <a alt="Source code" href="https://github.com/lclem/lia/blob/main/src/part1/Semantics.lagda.md">Source</a>
        
        
        
    </p>
</header>

  
    <div class="post-content">
        <h2>Contents</h2>    
        <ul id="toc" class="section-nav">
<li class="toc-entry toc-h1"><a href="#syntax">Syntax</a>
<ul>
<li class="toc-entry toc-h2"><a href="#prop-var">Propositions</a></li>
<li class="toc-entry toc-h2"><a href="#formulas">Formulas</a></li>
<li class="toc-entry toc-h2"><a href="#decidable-equality">Decidable equality</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#semantics">Semantics</a>
<ul>
<li class="toc-entry toc-h2"><a href="#valuations">Valuations</a></li>
<li class="toc-entry toc-h2"><a href="#semantics-of-propositional-formulas">Semantics of propositional formulas</a></li>
<li class="toc-entry toc-h2"><a href="#invariance-of-the-semantics">Invariance of the semantics</a></li>
<li class="toc-entry toc-h2"><a href="#substitution-lemma">Substitution lemma</a></li>
<li class="toc-entry toc-h2"><a href="#tautology-entailment-and-equivalence">Tautology, entailment, and equivalence</a></li>
<li class="toc-entry toc-h2"><a href="#satisfiability">Satisfiability</a></li>
<li class="toc-entry toc-h2"><a href="#long-conjunctions-and-disjunctions">Long conjunctions and disjunctions</a></li>
<li class="toc-entry toc-h2"><a href="#semantic-deduction-theorem">Semantic deduction theorem</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#formula-simplification">Formula simplification</a>
<ul>
<li class="toc-entry toc-h2"><a href="#views">Views</a></li>
<li class="toc-entry toc-h2"><a href="#full-fledged-simplification">Full fledged simplification</a></li>
<li class="toc-entry toc-h2"><a href="#correctness">Correctness</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#duality">Duality</a>
<ul>
<li class="toc-entry toc-h2"><a href="#duality-lemma">Duality lemma</a></li>
<li class="toc-entry toc-h2"><a href="#consequences">Consequences</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#appendix">Appendix</a>
<ul>
<li class="toc-entry toc-h2"><a href="#app-decidable-equality">Decidable equality</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#references">References</a></li>
<li class="toc-entry toc-h1"><a href="#solutions">Solutions</a></li>
</ul><p>In this chapter we introduce the syntax of propositional logic.</p>

<pre class="Agda"><a id="134" class="Symbol">{-#</a> <a id="138" class="Keyword">OPTIONS</a> <a id="146" class="Pragma">--allow-unsolved-metas</a> <a id="169" class="Pragma">--rewriting</a> <a id="181" class="Pragma">--confluence-check</a> <a id="200" class="Symbol">#-}</a>
<a id="204" class="Keyword">open</a> <a id="209" class="Keyword">import</a> <a id="216" href="/lia/part0/index/" class="Module">part0.index</a>

<a id="229" class="Keyword">module</a> <a id="236" href="/lia/part1/Semantics/" class="Module">part1.Semantics</a> <a id="252" class="Symbol">(</a><a id="253" href="/lia/part1/Semantics/#253" class="Bound">n'</a> <a id="256" class="Symbol">:</a> <a id="258" href="/lia/part0/Naturals/#301" class="Function">ℕ</a><a id="259" class="Symbol">)</a> <a id="261" class="Keyword">where</a></pre>

<h1 id="syntax">
<a class="anchor" href="#syntax" aria-hidden="true"><span class="octicon octicon-link"></span></a>Syntax</h1>

<h2 id="prop-var">
<a class="anchor" href="#prop-var" aria-hidden="true"><span class="octicon octicon-link"></span></a>Propositions</h2>

<p>The main building blocks of propositional logic are <em>propositional
variables</em> <em>p</em>, <em>q</em>, … (a.k.a. propositions), and logical connectives
(to be introduced in the next section). Propositional variables can be
implemented in a variety of ways, such as strings “p,” “q,”…; numbers 0,
1, …; and many more. Any such concrete representation will do, provided
that</p>

<ul>
  <li>We can decide whether two given propositions are equal, and</li>
  <li>We can enumerate all propositions.</li>
</ul>

<p>Our choice is to represent propositional variables with the datatype
<a href="../../part0/Finite#Fin"><code class="language-plaintext highlighter-rouge">Fin</code></a> . The module parameter <code class="language-plaintext highlighter-rouge">n' : ℕ</code> allows
us to name a fixed but arbitrary number of distinct propositions,
leading to the following definition (we omit the type annotation <code class="language-plaintext highlighter-rouge">Set</code>).</p>

<pre class="Agda"><a id="n"></a><a id="1058" href="/lia/part1/Semantics/#1058" class="Function">n</a> <a id="1060" class="Symbol">=</a> <a id="1062" class="Number">3</a> <a id="1064" href="/lia/part0/Naturals/#266" class="Primitive Operator">+</a> <a id="1066" href="/lia/part1/Semantics/#253" class="Bound">n'</a>
<a id="PropName"></a><a id="1069" href="/lia/part1/Semantics/#1069" class="Function">PropName</a> <a id="1078" class="Symbol">=</a> <a id="1080" href="/lia/part0/Finite/#133" class="Datatype">Fin</a> <a id="1084" href="/lia/part1/Semantics/#1058" class="Function">n</a></pre>

<p>In examples, we use <a href="#p%E2%82%80"><code class="language-plaintext highlighter-rouge">p₀</code></a> , <a href="#p%E2%82%81"><code class="language-plaintext highlighter-rouge">p₁</code></a> , and <a href="#p%E2%82%82"><code class="language-plaintext highlighter-rouge">p₂</code></a> as the
following concrete variables:<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote">1</a></sup></p>

<pre class="Agda"><a id="p₀"></a><a id="1194" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="p₁"></a><a id="1197" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="p₂"></a><a id="1200" href="/lia/part1/Semantics/#1200" class="Function">p₂</a> <a id="1203" class="Symbol">:</a> <a id="1205" href="/lia/part1/Semantics/#1069" class="Function">PropName</a>
<a id="1214" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="1217" class="Symbol">=</a> <a id="1219" href="/lia/part0/Finite/#157" class="InductiveConstructor">fzero</a>
<a id="1225" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="1228" class="Symbol">=</a> <a id="1230" href="/lia/part0/Finite/#191" class="InductiveConstructor">fsuc</a> <a id="1235" href="/lia/part0/Finite/#157" class="InductiveConstructor">fzero</a> 
<a id="1242" href="/lia/part1/Semantics/#1200" class="Function">p₂</a> <a id="1245" class="Symbol">=</a> <a id="1247" href="/lia/part0/Finite/#191" class="InductiveConstructor">fsuc</a> <a id="1252" class="Symbol">(</a><a id="1253" href="/lia/part0/Finite/#191" class="InductiveConstructor">fsuc</a> <a id="1258" href="/lia/part0/Finite/#157" class="InductiveConstructor">fzero</a><a id="1263" class="Symbol">)</a></pre>

<p>We use <a href="#p"><code class="language-plaintext highlighter-rouge">p</code></a> , <a href="#q"><code class="language-plaintext highlighter-rouge">q</code></a> , and <a href="#r"><code class="language-plaintext highlighter-rouge">r</code></a> as generic variable names,
which will be abstracted automatically as implicit arguments:</p>

<pre class="Agda"><a id="1678" class="Keyword">private</a>
  <a id="1688" class="Keyword">variable</a>
    <a id="1701" href="/lia/part1/Semantics/#1701" class="Generalizable">p</a> <a id="1703" href="/lia/part1/Semantics/#1703" class="Generalizable">q</a> <a id="1705" href="/lia/part1/Semantics/#1705" class="Generalizable">r</a> <a id="1707" class="Symbol">:</a> <a id="1709" href="/lia/part1/Semantics/#1069" class="Function">PropName</a></pre>

<p>Since propositions are modelled with <a href="../../part0/Finite#Fin"><code class="language-plaintext highlighter-rouge">Fin</code></a> ,
they inherit all the properties of the latter. In particular, they enjoy
decidable equality as initially required,</p>

<pre class="Agda"><a id="1912" href="/lia/part1/Semantics/#1912" class="Function">_</a> <a id="1914" class="Symbol">:</a> <a id="1916" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="1919" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="1922" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="1925" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1927" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="1931" class="Symbol">_</a>
<a id="1933" class="Symbol">_</a>  <a id="1936" class="Symbol">=</a> <a id="1938" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="1944" href="/lia/part1/Semantics/#1944" class="Function">_</a> <a id="1946" class="Symbol">:</a> <a id="1948" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="1951" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="1954" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="1957" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1959" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="1962" class="Symbol">_</a>
<a id="1964" class="Symbol">_</a>  <a id="1967" class="Symbol">=</a> <a id="1969" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

<p>and they can also be enumerated:</p>

<pre class="Agda"><a id="propNames"></a><a id="2017" href="/lia/part1/Semantics/#2017" class="Function">propNames</a> <a id="2027" class="Symbol">:</a> <a id="2029" href="/lia/part1/Semantics/#1069" class="Function">PropName</a> <a id="2038" href="/lia/part0/List/#468" class="Datatype Operator">*</a>
<a id="2040" href="/lia/part1/Semantics/#2017" class="Function">propNames</a> <a id="2050" class="Symbol">=</a> <a id="2052" href="/lia/part0/Enumerable/#312" class="Field">enum</a>

<a id="findPropName"></a><a id="2058" href="/lia/part1/Semantics/#2058" class="Function">findPropName</a> <a id="2071" class="Symbol">:</a> <a id="2073" class="Symbol">∀</a> <a id="2075" href="/lia/part1/Semantics/#2075" class="Bound">p</a> <a id="2077" class="Symbol">→</a> <a id="2079" href="/lia/part1/Semantics/#2075" class="Bound">p</a> <a id="2081" href="/lia/part0/List/#7976" class="Datatype Operator">∈</a> <a id="2083" href="/lia/part1/Semantics/#2017" class="Function">propNames</a>
<a id="2093" href="/lia/part1/Semantics/#2058" class="Function">findPropName</a> <a id="2106" class="Symbol">=</a> <a id="2108" href="/lia/part0/Enumerable/#327" class="Field">find</a></pre>

<p>For example, the first variable in the enumeration is <a href="#p%E2%82%80"><code class="language-plaintext highlighter-rouge">p₀</code></a> and
the second is <a href="#p%E2%82%81"><code class="language-plaintext highlighter-rouge">p₁</code></a> :</p>

<pre class="Agda"><a id="2214" href="/lia/part1/Semantics/#2214" class="Function">_</a> <a id="2216" class="Symbol">:</a> <a id="2218" href="/lia/part1/Semantics/#2058" class="Function">findPropName</a> <a id="2231" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="2234" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2236" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a>
<a id="2241" class="Symbol">_</a> <a id="2243" class="Symbol">=</a> <a id="2245" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="2251" href="/lia/part1/Semantics/#2251" class="Function">_</a> <a id="2253" class="Symbol">:</a> <a id="2255" href="/lia/part1/Semantics/#2058" class="Function">findPropName</a> <a id="2268" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="2271" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2273" href="/lia/part0/List/#8065" class="InductiveConstructor">there</a> <a id="2279" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a>
<a id="2284" class="Symbol">_</a> <a id="2286" class="Symbol">=</a> <a id="2288" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

<h2 id="formulas">
<a class="anchor" href="#formulas" aria-hidden="true"><span class="octicon octicon-link"></span></a>Formulas</h2>

<p>Formulas of propositional logic are constructed according to the
following abstract syntax:</p>

<p><em>φ</em>, <em>ψ</em> ∷  ≡ <em>p</em> ∣ ⊥ ∣ ⊤ ∣ ¬<em>p</em> ∣ <em>φ</em> ∧ <em>ψ</em> ∣ <em>φ</em> ∨ <em>ψ</em> ∣ <em>φ</em> ⇒ <em>ψ</em> ∣ <em>φ</em> ⇔ <em>ψ</em>.</p>

<p>In other words, a formula is either</p>

<ul>
  <li>a propositional variable <em>p</em>, or</li>
  <li>the <em>false</em> constant ⊥ (pronounced “bottom”), or</li>
  <li>the <em>true</em> constant ⊤ (pronounced “top”), or</li>
  <li>the <em>negation</em> ¬<em>φ</em> of a formula <em>φ</em>, or</li>
  <li>the <em>conjunction</em> <em>φ</em> ∧ <em>ψ</em> of two formulas <em>φ</em>, <em>ψ</em>, or</li>
  <li>the <em>disjunction</em> <em>φ</em> ∨ <em>ψ</em> of two formulas <em>φ</em>, <em>ψ</em>, or</li>
  <li>the <em>implication</em><sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote">2</a></sup> <em>φ</em> ⇒ <em>ψ</em> of two formulas <em>φ</em>, <em>ψ</em>, or</li>
  <li>the <em>bi-implication</em> <em>φ</em> ⇔ <em>ψ</em> of two formulas <em>φ</em>, <em>ψ</em>.</li>
</ul>

<p>This straightforwardly translates to the following inductive type:</p>

<pre class="Agda"><a id="3553" class="Keyword">data</a> <a id="Formula"></a><a id="3558" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="3566" class="Symbol">:</a> <a id="3568" class="PrimitiveType">Set</a> <a id="3572" class="Keyword">where</a>
    <a id="Formula.⊥"></a><a id="3582" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="Formula.⊤"></a><a id="3584" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="3586" class="Symbol">:</a> <a id="3588" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a>
    <a id="Formula.`_"></a><a id="3600" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`_</a> <a id="3603" class="Symbol">:</a> <a id="3605" class="Symbol">(</a><a id="3606" href="/lia/part1/Semantics/#3606" class="Bound">p</a> <a id="3608" class="Symbol">:</a> <a id="3610" href="/lia/part1/Semantics/#1069" class="Function">PropName</a><a id="3618" class="Symbol">)</a> <a id="3620" class="Symbol">→</a> <a id="3622" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a>
    <a id="Formula.¬_"></a><a id="3634" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬_</a> <a id="3637" class="Symbol">:</a> <a id="3639" class="Symbol">(</a><a id="3640" href="/lia/part1/Semantics/#3640" class="Bound">φ</a> <a id="3642" class="Symbol">:</a> <a id="3644" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a><a id="3651" class="Symbol">)</a> <a id="3653" class="Symbol">→</a> <a id="3655" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a>
    <a id="Formula._∨_"></a><a id="3667" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">_∨_</a> <a id="Formula._∧_"></a><a id="3671" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">_∧_</a> <a id="Formula._⇒_"></a><a id="3675" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">_⇒_</a> <a id="Formula._⇔_"></a><a id="3679" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">_⇔_</a> <a id="3683" class="Symbol">:</a> <a id="3685" class="Symbol">(</a><a id="3686" href="/lia/part1/Semantics/#3686" class="Bound">φ</a> <a id="3688" href="/lia/part1/Semantics/#3688" class="Bound">ψ</a> <a id="3690" class="Symbol">:</a> <a id="3692" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a><a id="3699" class="Symbol">)</a> <a id="3701" class="Symbol">→</a> <a id="3703" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a>

<a id="3712" class="Keyword">private</a>
  <a id="3722" class="Keyword">variable</a>
    <a id="3735" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="3737" href="/lia/part1/Semantics/#3737" class="Generalizable">ψ</a> <a id="3739" class="Symbol">:</a> <a id="3741" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a></pre>

<p>Note that there is a slight notation overload for variables <code class="language-plaintext highlighter-rouge">` p</code>
w.r.t. the pure mathematical syntax <em>p</em> since we have to explicitly name
the <code class="language-plaintext highlighter-rouge">`_</code> constructor. The syntax for the other connectives is
identical.</p>

<p>We follow standard notational conventions and assume that
<a href="#Formula.%C2%AC_"><code class="language-plaintext highlighter-rouge">¬_</code></a> is the operator with the highest priority (i.e., it
binds tighter than any other operator), followed by
<a href="#Formula._%E2%88%A7_"><code class="language-plaintext highlighter-rouge">_∧_</code></a> , <a href="#Formula._%E2%88%A8_"><code class="language-plaintext highlighter-rouge">_∨_</code></a> and <a href="#Formula._%E2%87%92_"><code class="language-plaintext highlighter-rouge">_⇒_</code></a>
, and <a href="#Formula._%E2%87%94_"><code class="language-plaintext highlighter-rouge">_⇔_</code></a> :</p>

<pre class="Agda"><a id="4246" class="Keyword">infix</a> <a id="4252" class="Number">100</a> <a id="4256" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`_</a>
<a id="4259" class="Keyword">infix</a> <a id="4265" class="Number">99</a> <a id="4268" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬_</a>
<a id="4271" class="Keyword">infixr</a> <a id="4278" class="Number">98</a> <a id="4281" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">_∧_</a>
<a id="4285" class="Keyword">infixr</a> <a id="4292" class="Number">97</a> <a id="4295" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">_∨_</a> <a id="4299" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">_⇒_</a>
<a id="4303" class="Keyword">infixr</a> <a id="4310" class="Number">96</a> <a id="4313" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">_⇔_</a></pre>

<p>All binary operators are right associative. For instance, the formula</p>

<pre class="Agda"><a id="φ₀"></a><a id="4397" href="/lia/part1/Semantics/#4397" class="Function">φ₀</a> <a id="4400" class="Symbol">=</a> <a id="4402" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="4404" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="4407" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="4409" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4411" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="4413" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="4416" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="4418" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="4420" href="/lia/part1/Semantics/#1197" class="Function">p₁</a></pre>

<p>is syntactically identical to the formula</p>

<pre class="Agda"><a id="φ₁"></a><a id="4475" href="/lia/part1/Semantics/#4475" class="Function">φ₁</a> <a id="4478" class="Symbol">=</a> <a id="4480" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="4482" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="4485" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="4487" class="Symbol">((</a><a id="4489" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="4491" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="4493" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="4495" class="Symbol">)</a> <a id="4497" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="4499" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="4501" href="/lia/part1/Semantics/#1197" class="Function">p₁</a><a id="4503" class="Symbol">)</a></pre>

<h2 id="decidable-equality">
<a class="anchor" href="#decidable-equality" aria-hidden="true"><span class="octicon octicon-link"></span></a>Decidable equality</h2>

<p>From time to time we need to check whether two formulas are
syntactically equal, i.e., are the very same formula. For example,
<code class="language-plaintext highlighter-rouge">` p ∨ ` q</code> is syntactically equal to itself, but it is different
from <code class="language-plaintext highlighter-rouge">` q ∨ ` p</code>.</p>

<p>Since formulas are built from finitely many constructors, it is
conceptually easy to show that they enjoy decidable equality:</p>

<pre class="Agda"><a id="4883" class="Keyword">instance</a> <a id="eqFormula"></a><a id="4892" href="/lia/part1/Semantics/#4892" class="Function">eqFormula</a> <a id="4902" class="Symbol">:</a> <a id="4904" href="/lia/part0/Equality/#2845" class="Record">Eq</a> <a id="4907" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a></pre>

<p>We defer the details of the proof to the
<a href="#app-decidable-equality">appendix</a>.</p>

<h1 id="semantics">
<a class="anchor" href="#semantics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Semantics</h1>

<p>In this section we introduce the semantics of classical logic.</p>

<h2 id="valuations">
<a class="anchor" href="#valuations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Valuations</h2>

<p>An <em>valuation</em> is a mapping that associates a Boolean value
<a href="../../part0/Booleans#%F0%9D%94%B9"><code class="language-plaintext highlighter-rouge">𝔹</code></a> to each propositional variable. We use
<a href="#%CF%B1"><code class="language-plaintext highlighter-rouge">ϱ</code></a> and <a href="#%CF%B1%E2%80%B2"><code class="language-plaintext highlighter-rouge">ϱ′</code></a> for indicating a generic valuation.</p>

<pre class="Agda"><a id="Val"></a><a id="5283" href="/lia/part1/Semantics/#5283" class="Function">Val</a> <a id="5287" class="Symbol">=</a> <a id="5289" href="/lia/part1/Semantics/#1069" class="Function">PropName</a> <a id="5298" class="Symbol">→</a> <a id="5300" href="/lia/part0/Booleans/#259" class="Datatype">𝔹</a>

<a id="5303" class="Keyword">variable</a> <a id="5312" href="/lia/part1/Semantics/#5312" class="Generalizable">ϱ</a> <a id="5314" href="/lia/part1/Semantics/#5314" class="Generalizable">ϱ′</a> <a id="5317" class="Symbol">:</a> <a id="5319" href="/lia/part1/Semantics/#5283" class="Function">Val</a></pre>

<p>The two simplest valuations, and the least interesting, are those which
assign a constant truth value to every proposition:</p>

<pre class="Agda"><a id="ϱtt"></a><a id="5457" href="/lia/part1/Semantics/#5457" class="Function">ϱtt</a> <a id="ϱff"></a><a id="5461" href="/lia/part1/Semantics/#5461" class="Function">ϱff</a> <a id="5465" class="Symbol">:</a> <a id="5467" href="/lia/part1/Semantics/#5283" class="Function">Val</a>
<a id="5471" href="/lia/part1/Semantics/#5457" class="Function">ϱtt</a> <a id="5475" class="Symbol">=</a> <a id="5477" href="/lia/part0/Utils/#244" class="Function">const</a> <a id="5483" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a>
<a id="5486" href="/lia/part1/Semantics/#5461" class="Function">ϱff</a> <a id="5490" class="Symbol">=</a> <a id="5492" href="/lia/part0/Utils/#244" class="Function">const</a> <a id="5498" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a></pre>

<p>As marginally more interesting example, the valuation <a href="#%CF%B1%E2%82%80"><code class="language-plaintext highlighter-rouge">ϱ₀</code></a> below
assigns <a href="../../part0/Booleans#%F0%9D%94%B9.ff"><code class="language-plaintext highlighter-rouge">ff</code></a> to <code class="language-plaintext highlighter-rouge">p₀</code> and <code class="language-plaintext highlighter-rouge">p₁</code>, and
<a href="../../part0/Booleans#%F0%9D%94%B9.tt"><code class="language-plaintext highlighter-rouge">tt</code></a> to every other variable:</p>

<pre class="Agda"><a id="ϱ₀"></a><a id="5705" href="/lia/part1/Semantics/#5705" class="Function">ϱ₀</a> <a id="5708" class="Symbol">:</a> <a id="5710" href="/lia/part1/Semantics/#5283" class="Function">Val</a>
<a id="5714" href="/lia/part1/Semantics/#5705" class="Function">ϱ₀</a> <a id="5717" class="Symbol">=</a> <a id="5719" href="/lia/part1/Semantics/#5457" class="Function">ϱtt</a> <a id="5723" href="/lia/part0/Functions/#570" class="Function Operator">[</a> <a id="5725" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="5728" href="/lia/part0/Functions/#570" class="Function Operator">↦</a> <a id="5730" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="5733" href="/lia/part0/Functions/#570" class="Function Operator">]</a> <a id="5735" href="/lia/part0/Functions/#570" class="Function Operator">[</a> <a id="5737" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="5740" href="/lia/part0/Functions/#570" class="Function Operator">↦</a> <a id="5742" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="5745" href="/lia/part0/Functions/#570" class="Function Operator">]</a></pre>

<p>Since both propositions <a href="#PropName"><code class="language-plaintext highlighter-rouge">PropName</code></a> and Boolean values
<a href="../../part0/Booleans#%F0%9D%94%B9"><code class="language-plaintext highlighter-rouge">𝔹</code></a> can be enumerated, the same holds true for
valuations <a href="#Val"><code class="language-plaintext highlighter-rouge">Val</code></a> , which will be very useful to show that
propositional logic is decidable.</p>

<pre class="Agda"><a id="vals"></a><a id="5984" href="/lia/part1/Semantics/#5984" class="Function">vals</a> <a id="5989" class="Symbol">:</a> <a id="5991" href="/lia/part1/Semantics/#5283" class="Function">Val</a> <a id="5995" href="/lia/part0/List/#468" class="Datatype Operator">*</a>
<a id="5997" href="/lia/part1/Semantics/#5984" class="Function">vals</a> <a id="6002" class="Symbol">=</a> <a id="6004" href="/lia/part0/Enumerable/#312" class="Field">enum</a>

<a id="findVal"></a><a id="6010" href="/lia/part1/Semantics/#6010" class="Function">findVal</a> <a id="6018" class="Symbol">:</a> <a id="6020" class="Symbol">∀</a> <a id="6022" href="/lia/part1/Semantics/#6022" class="Bound">ϱ</a> <a id="6024" class="Symbol">→</a> <a id="6026" href="/lia/part1/Semantics/#6022" class="Bound">ϱ</a> <a id="6028" href="/lia/part0/List/#7976" class="Datatype Operator">∈</a> <a id="6030" href="/lia/part1/Semantics/#5984" class="Function">vals</a>
<a id="6035" href="/lia/part1/Semantics/#6010" class="Function">findVal</a> <a id="6043" class="Symbol">=</a> <a id="6045" href="/lia/part0/Enumerable/#327" class="Field">find</a></pre>

<h2 id="semantics-of-propositional-formulas">
<a class="anchor" href="#semantics-of-propositional-formulas" aria-hidden="true"><span class="octicon octicon-link"></span></a>Semantics of propositional formulas</h2>

<p>The semantics <code class="language-plaintext highlighter-rouge">⟦ φ ⟧ ϱ : 𝔹</code> of a formula <code class="language-plaintext highlighter-rouge">φ : Formula</code> in a given
valuation <code class="language-plaintext highlighter-rouge">ϱ : Val</code> is a Boolean value (a.k.a. <em>truth value</em>) which is
determined by structural induction on <code class="language-plaintext highlighter-rouge">φ</code>:</p>

<ul>
  <li>In the base cases <a href="#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> and <a href="#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> , the
semantics is the corresponding truth value
<a href="../../part0/Booleans#%F0%9D%94%B9.tt"><code class="language-plaintext highlighter-rouge">tt</code></a> , resp.,
<a href="../../part0/Booleans#%F0%9D%94%B9.ff"><code class="language-plaintext highlighter-rouge">ff</code></a> .</li>
  <li>In the variable case <code class="language-plaintext highlighter-rouge">` p</code>, the semantics is <code class="language-plaintext highlighter-rouge">ϱ p</code> as provided
by the valuation <code class="language-plaintext highlighter-rouge">ϱ</code>.</li>
  <li>In the negation case <code class="language-plaintext highlighter-rouge">¬ φ</code>, we inductively compute the semantics
<code class="language-plaintext highlighter-rouge">⟦ φ ⟧ ϱ</code> of <code class="language-plaintext highlighter-rouge">φ</code>, and then we apply the Boolean negation function
<a href="../../part0/Booleans#%C2%AC%F0%9D%94%B9_"><code class="language-plaintext highlighter-rouge">¬𝔹_ : 𝔹 → 𝔹</code></a>.</li>
  <li>The remaining cases <code class="language-plaintext highlighter-rouge">φ ∧ ψ</code>, <code class="language-plaintext highlighter-rouge">φ ∨ ψ</code>, <code class="language-plaintext highlighter-rouge">φ ⇒ ψ</code>, and <code class="language-plaintext highlighter-rouge">φ ⇔ ψ</code> are
similar.</li>
</ul>

<p>Formally, we have the following definition:</p>

<pre class="Agda"><a id="6852" class="Keyword">infix</a> <a id="6858" class="Number">200</a> <a id="6862" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦_⟧_</a>

<a id="⟦_⟧_"></a><a id="6868" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦_⟧_</a> <a id="6873" class="Symbol">:</a> <a id="6875" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="6883" class="Symbol">→</a> <a id="6885" href="/lia/part1/Semantics/#5283" class="Function">Val</a> <a id="6889" class="Symbol">→</a> <a id="6891" href="/lia/part0/Booleans/#259" class="Datatype">𝔹</a>
<a id="6893" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="6895" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="6897" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="6899" href="/lia/part1/Semantics/#6899" class="Bound">ϱ</a> <a id="6901" class="Symbol">=</a> <a id="6903" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a>
<a id="6906" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="6908" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="6910" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="6912" href="/lia/part1/Semantics/#6912" class="Bound">ϱ</a> <a id="6914" class="Symbol">=</a> <a id="6916" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a>
<a id="6919" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="6921" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="6923" href="/lia/part1/Semantics/#6923" class="Bound">p</a> <a id="6925" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="6927" href="/lia/part1/Semantics/#6927" class="Bound">ϱ</a> <a id="6929" class="Symbol">=</a> <a id="6931" href="/lia/part1/Semantics/#6927" class="Bound">ϱ</a> <a id="6933" href="/lia/part1/Semantics/#6923" class="Bound">p</a>
<a id="6935" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="6937" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="6939" href="/lia/part1/Semantics/#6939" class="Bound">φ</a> <a id="6941" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="6943" href="/lia/part1/Semantics/#6943" class="Bound">ϱ</a> <a id="6945" class="Symbol">=</a> <a id="6947" href="/lia/part0/Booleans/#1119" class="Function Operator">¬𝔹</a> <a id="6950" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="6952" href="/lia/part1/Semantics/#6939" class="Bound">φ</a> <a id="6954" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="6956" href="/lia/part1/Semantics/#6943" class="Bound">ϱ</a>
<a id="6958" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="6960" href="/lia/part1/Semantics/#6960" class="Bound">φ</a> <a id="6962" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="6964" href="/lia/part1/Semantics/#6964" class="Bound">ψ</a> <a id="6966" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="6968" href="/lia/part1/Semantics/#6968" class="Bound">ϱ</a> <a id="6970" class="Symbol">=</a> <a id="6972" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="6974" href="/lia/part1/Semantics/#6960" class="Bound">φ</a> <a id="6976" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="6978" href="/lia/part1/Semantics/#6968" class="Bound">ϱ</a> <a id="6980" href="/lia/part0/Booleans/#1003" class="Function Operator">∧𝔹</a> <a id="6983" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="6985" href="/lia/part1/Semantics/#6964" class="Bound">ψ</a> <a id="6987" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="6989" href="/lia/part1/Semantics/#6968" class="Bound">ϱ</a>
<a id="6991" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="6993" href="/lia/part1/Semantics/#6993" class="Bound">φ</a> <a id="6995" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="6997" href="/lia/part1/Semantics/#6997" class="Bound">ψ</a> <a id="6999" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="7001" href="/lia/part1/Semantics/#7001" class="Bound">ϱ</a> <a id="7003" class="Symbol">=</a> <a id="7005" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="7007" href="/lia/part1/Semantics/#6993" class="Bound">φ</a> <a id="7009" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="7011" href="/lia/part1/Semantics/#7001" class="Bound">ϱ</a> <a id="7013" href="/lia/part0/Booleans/#1061" class="Function Operator">∨𝔹</a> <a id="7016" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="7018" href="/lia/part1/Semantics/#6997" class="Bound">ψ</a> <a id="7020" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="7022" href="/lia/part1/Semantics/#7001" class="Bound">ϱ</a>
<a id="7024" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="7026" href="/lia/part1/Semantics/#7026" class="Bound">φ</a> <a id="7028" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="7030" href="/lia/part1/Semantics/#7030" class="Bound">ψ</a> <a id="7032" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="7034" href="/lia/part1/Semantics/#7034" class="Bound">ϱ</a> <a id="7036" class="Symbol">=</a> <a id="7038" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="7040" href="/lia/part1/Semantics/#7026" class="Bound">φ</a> <a id="7042" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="7044" href="/lia/part1/Semantics/#7034" class="Bound">ϱ</a> <a id="7046" href="/lia/part0/Booleans/#1154" class="Function Operator">⇒𝔹</a> <a id="7049" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="7051" href="/lia/part1/Semantics/#7030" class="Bound">ψ</a> <a id="7053" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="7055" href="/lia/part1/Semantics/#7034" class="Bound">ϱ</a>
<a id="7057" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="7059" href="/lia/part1/Semantics/#7059" class="Bound">φ</a> <a id="7061" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="7063" href="/lia/part1/Semantics/#7063" class="Bound">ψ</a> <a id="7065" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="7067" href="/lia/part1/Semantics/#7067" class="Bound">ϱ</a> <a id="7069" class="Symbol">=</a> <a id="7071" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="7073" href="/lia/part1/Semantics/#7059" class="Bound">φ</a> <a id="7075" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="7077" href="/lia/part1/Semantics/#7067" class="Bound">ϱ</a> <a id="7079" href="/lia/part0/Booleans/#1212" class="Function Operator">⇔𝔹</a> <a id="7082" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="7084" href="/lia/part1/Semantics/#7063" class="Bound">ψ</a> <a id="7086" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="7088" href="/lia/part1/Semantics/#7067" class="Bound">ϱ</a></pre>

<div class="examplebox">

  <dl>
    <dt><span id="example:semantics" class="pandoc-numbering-text example"><strong>Example 1</strong></span></dt>
    <dd>For example, we can compute the semantics of some simple formulas
(recall that both <a href="#p%E2%82%80"><code class="language-plaintext highlighter-rouge">p₀</code></a> and <a href="#p%E2%82%81"><code class="language-plaintext highlighter-rouge">p₁</code></a> evaluate to
<a href="../../part0/Booleans#ff"><code class="language-plaintext highlighter-rouge">ff</code></a> under <a href="#%CF%B1%E2%82%80"><code class="language-plaintext highlighter-rouge">ϱ₀</code></a> ):</dd>
  </dl>

  <pre class="Agda"><a id="7330" href="/lia/part1/Semantics/#7330" class="Function">_</a> <a id="7332" class="Symbol">:</a> <a id="7334" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="7336" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="7338" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="7341" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="7343" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="7345" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="7347" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="7350" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="7352" href="/lia/part1/Semantics/#5705" class="Function">ϱ₀</a> <a id="7355" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="7357" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a>
<a id="7360" class="Symbol">_</a> <a id="7362" class="Symbol">=</a> <a id="7364" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

  <p><span class="hidden">∎</span><span class="right-aligned">∎</span></p>

</div>

<h2 id="invariance-of-the-semantics">
<a class="anchor" href="#invariance-of-the-semantics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Invariance of the semantics</h2>

<p>The semantics <code class="language-plaintext highlighter-rouge">⟦ φ ⟧ ϱ</code> of a formula <code class="language-plaintext highlighter-rouge">φ</code> depends on the valuation <code class="language-plaintext highlighter-rouge">ϱ</code>.
However, if a formula <code class="language-plaintext highlighter-rouge">φ</code> does not contain a certain proposition <code class="language-plaintext highlighter-rouge">p</code>
then clearly the value <code class="language-plaintext highlighter-rouge">ϱ p</code> of <code class="language-plaintext highlighter-rouge">ϱ</code> on <code class="language-plaintext highlighter-rouge">p</code> should not matter. We now
formalise this intuition by showing that the semantics depends only on
the propositional variables actually occurring in the formula.</p>

<p>We first compute the list <code class="language-plaintext highlighter-rouge">props φ</code> of occurrences of propositions in
<code class="language-plaintext highlighter-rouge">φ</code>. We proceed by structural induction on the formula:</p>

<pre class="Agda"><a id="props"></a><a id="7915" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="7921" class="Symbol">:</a> <a id="7923" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="7931" class="Symbol">→</a> <a id="7933" href="/lia/part1/Semantics/#1069" class="Function">PropName</a> <a id="7942" href="/lia/part0/List/#468" class="Datatype Operator">*</a>
<a id="7944" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="7950" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="7952" class="Symbol">=</a> <a id="7954" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a>
<a id="7956" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="7962" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="7964" class="Symbol">=</a> <a id="7966" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a>
<a id="7968" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="7974" class="Symbol">(</a><a id="7975" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="7977" href="/lia/part1/Semantics/#7977" class="Bound">p</a><a id="7978" class="Symbol">)</a> <a id="7980" class="Symbol">=</a> <a id="7982" href="/lia/part0/List/#1792" class="Function">[</a> <a id="7984" href="/lia/part1/Semantics/#7977" class="Bound">p</a> <a id="7986" href="/lia/part0/List/#2043" class="Function Operator">]</a>
<a id="7988" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="7994" class="Symbol">(</a><a id="7995" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="7997" href="/lia/part1/Semantics/#7997" class="Bound">φ</a><a id="7998" class="Symbol">)</a> <a id="8000" class="Symbol">=</a> <a id="8002" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="8008" href="/lia/part1/Semantics/#7997" class="Bound">φ</a>
<a id="8010" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="8016" class="Symbol">(</a><a id="8017" href="/lia/part1/Semantics/#8017" class="Bound">φ</a> <a id="8019" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="8021" href="/lia/part1/Semantics/#8021" class="Bound">ψ</a><a id="8022" class="Symbol">)</a> <a id="8024" class="Symbol">=</a> <a id="8026" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="8032" href="/lia/part1/Semantics/#8017" class="Bound">φ</a> <a id="8034" href="/lia/part0/List/#3100" class="Function Operator">++</a> <a id="8037" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="8043" href="/lia/part1/Semantics/#8021" class="Bound">ψ</a>
<a id="8045" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="8051" class="Symbol">(</a><a id="8052" href="/lia/part1/Semantics/#8052" class="Bound">φ</a> <a id="8054" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="8056" href="/lia/part1/Semantics/#8056" class="Bound">ψ</a><a id="8057" class="Symbol">)</a> <a id="8059" class="Symbol">=</a> <a id="8061" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="8067" href="/lia/part1/Semantics/#8052" class="Bound">φ</a> <a id="8069" href="/lia/part0/List/#3100" class="Function Operator">++</a> <a id="8072" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="8078" href="/lia/part1/Semantics/#8056" class="Bound">ψ</a>
<a id="8080" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="8086" class="Symbol">(</a><a id="8087" href="/lia/part1/Semantics/#8087" class="Bound">φ</a> <a id="8089" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="8091" href="/lia/part1/Semantics/#8091" class="Bound">ψ</a><a id="8092" class="Symbol">)</a> <a id="8094" class="Symbol">=</a> <a id="8096" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="8102" href="/lia/part1/Semantics/#8087" class="Bound">φ</a> <a id="8104" href="/lia/part0/List/#3100" class="Function Operator">++</a> <a id="8107" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="8113" href="/lia/part1/Semantics/#8091" class="Bound">ψ</a>
<a id="8115" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="8121" class="Symbol">(</a><a id="8122" href="/lia/part1/Semantics/#8122" class="Bound">φ</a> <a id="8124" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="8126" href="/lia/part1/Semantics/#8126" class="Bound">ψ</a><a id="8127" class="Symbol">)</a> <a id="8129" class="Symbol">=</a> <a id="8131" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="8137" href="/lia/part1/Semantics/#8122" class="Bound">φ</a> <a id="8139" href="/lia/part0/List/#3100" class="Function Operator">++</a> <a id="8142" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="8148" href="/lia/part1/Semantics/#8126" class="Bound">ψ</a></pre>

<p>Notice that <code class="language-plaintext highlighter-rouge">props φ</code> is an ordered <em>list</em> of all the occurrences of
propositions in <code class="language-plaintext highlighter-rouge">φ</code>, and thus contains duplicated elements if the same
proposition appears multiple times. For instance,</p>

<pre class="Agda"><a id="8350" href="/lia/part1/Semantics/#8350" class="Function">_</a> <a id="8352" class="Symbol">:</a> <a id="8354" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="8360" href="/lia/part1/Semantics/#4397" class="Function">φ₀</a> <a id="8363" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="8365" href="/lia/part0/List/#1792" class="Function">[</a> <a id="8367" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="8370" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="8373" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="8376" href="/lia/part0/List/#2043" class="Function Operator">]</a>
<a id="8378" class="Symbol">_</a> <a id="8380" class="Symbol">=</a> <a id="8382" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

<p>A more natural idea would be to compute the <em>set</em> {<em>p</em>, <em>q</em>} of all
propositions occurring in <code class="language-plaintext highlighter-rouge">φ₀</code>, i.e., without duplications (and modulo
commutativity). However 1) this would be more cumbersome to represent,
and 2) the current definition is good enough for most use cases of
<code class="language-plaintext highlighter-rouge">props</code>.</p>

<p>We say that a proposition <code class="language-plaintext highlighter-rouge">p</code> is <em>fresh</em> w.r.t. <code class="language-plaintext highlighter-rouge">φ</code> if <code class="language-plaintext highlighter-rouge">p</code> does not
occur in <code class="language-plaintext highlighter-rouge">props φ</code>.</p>

<p>We can now formulate the invariance of the semantics. Intuitively, if
two valuations <code class="language-plaintext highlighter-rouge">ϱ</code> and <code class="language-plaintext highlighter-rouge">ϱ′</code> agree (i.e., have the same value) on the
propositions <code class="language-plaintext highlighter-rouge">props φ</code> occurring in <code class="language-plaintext highlighter-rouge">φ</code>, then the semantics is the same:</p>

<pre class="Agda"><a id="invariance"></a><a id="8988" href="/lia/part1/Semantics/#8988" class="Function">invariance</a> <a id="8999" class="Symbol">:</a> <a id="9001" class="Symbol">∀</a> <a id="9003" href="/lia/part1/Semantics/#9003" class="Bound">φ</a> <a id="9005" class="Symbol">→</a>
  <a id="9009" href="/lia/part0/List/#19150" class="Function">Agree</a> <a id="9015" href="/lia/part1/Semantics/#5312" class="Generalizable">ϱ</a> <a id="9017" href="/lia/part1/Semantics/#5314" class="Generalizable">ϱ′</a> <a id="9020" class="Symbol">(</a><a id="9021" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="9027" href="/lia/part1/Semantics/#9003" class="Bound">φ</a><a id="9028" class="Symbol">)</a> <a id="9030" class="Symbol">→</a>
  <a id="9034" class="Comment">------------------</a>
  <a id="9055" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="9057" href="/lia/part1/Semantics/#9003" class="Bound">φ</a> <a id="9059" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="9061" href="/lia/part1/Semantics/#5312" class="Generalizable">ϱ</a> <a id="9063" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="9065" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="9067" href="/lia/part1/Semantics/#9003" class="Bound">φ</a> <a id="9069" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="9071" href="/lia/part1/Semantics/#5314" class="Generalizable">ϱ′</a></pre>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:invariance" class="pandoc-numbering-text exercise"><strong>Exercise 1</strong> <em>(<code class="language-plaintext highlighter-rouge">invariance</code>)</em></span></dt>
    <dd>Prove invariance of the semantics<sup id="fnref:3" role="doc-noteref"><a href="#fn:3" class="footnote">3</a></sup>.</dd>
  </dl>

  <pre data-executable="true" data-language="agda" id="part1.Semantics.invariance">

module part1.Semantics.invariance where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (invariance to invariance-orig)

invariance : typeOf invariance-orig
-- BEGIN SOLUTION
invariance = ?</pre>

  <p><em>Hint</em>: Proceed by structural induction on formulas. In the variable
case, use the assumption <code class="language-plaintext highlighter-rouge">Agree ϱ ϱ′ (props φ)</code>. In the inductive cases,
use the fact that if <code class="language-plaintext highlighter-rouge">ϱ</code> and <code class="language-plaintext highlighter-rouge">ϱ′</code> agree on their value on the
propositions in <code class="language-plaintext highlighter-rouge">φ ∧ ψ</code>, then they do so on <code class="language-plaintext highlighter-rouge">φ</code>, resp., <code class="language-plaintext highlighter-rouge">ψ</code>. <span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:invariance-solution)
:::::::
-->

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:coincidence" class="pandoc-numbering-text exercise"><strong>Exercise 2</strong> <em>(<code class="language-plaintext highlighter-rouge">coincidence</code>)</em></span></dt>
    <dd>Prove the following <em>concidence lemma</em> stating that the semantics of
a formula <code class="language-plaintext highlighter-rouge">φ</code> does not change if we update the value of the
valuation <code class="language-plaintext highlighter-rouge">ϱ</code> on a proposition <code class="language-plaintext highlighter-rouge">p</code> not occurring in <code class="language-plaintext highlighter-rouge">φ</code>.</dd>
  </dl>

  <pre class="Agda"><a id="coincidence"></a><a id="11237" href="/lia/part1/Semantics/#11237" class="Function">coincidence</a> <a id="11249" class="Symbol">:</a> <a id="11251" class="Symbol">∀</a> <a id="11253" class="Symbol">{</a><a id="11254" href="/lia/part1/Semantics/#11254" class="Bound">b</a><a id="11255" class="Symbol">}</a> <a id="11257" href="/lia/part1/Semantics/#11257" class="Bound">φ</a> <a id="11259" class="Symbol">→</a>
  <a id="11263" href="/lia/part1/Semantics/#1701" class="Generalizable">p</a> <a id="11265" href="/lia/part0/List/#14548" class="Datatype Operator">∉</a> <a id="11267" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="11273" href="/lia/part1/Semantics/#11257" class="Bound">φ</a> <a id="11275" class="Symbol">→</a>
  <a id="11279" class="Comment">---------------------------</a>
  <a id="11309" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="11311" href="/lia/part1/Semantics/#11257" class="Bound">φ</a> <a id="11313" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="11315" href="/lia/part1/Semantics/#5312" class="Generalizable">ϱ</a> <a id="11317" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="11319" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="11321" href="/lia/part1/Semantics/#11257" class="Bound">φ</a> <a id="11323" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="11325" href="/lia/part1/Semantics/#5312" class="Generalizable">ϱ</a> <a id="11327" href="/lia/part0/Functions/#570" class="Function Operator">[</a> <a id="11329" href="/lia/part1/Semantics/#1701" class="Generalizable">p</a> <a id="11331" href="/lia/part0/Functions/#570" class="Function Operator">↦</a> <a id="11333" href="/lia/part1/Semantics/#11254" class="Bound">b</a> <a id="11335" href="/lia/part0/Functions/#570" class="Function Operator">]</a></pre>
  <pre data-executable="true" data-language="agda" id="part1.Semantics.coincidence">

module part1.Semantics.coincidence where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (coincidence to coincidence-orig)

coincidence : typeOf coincidence-orig
-- BEGIN SOLUTION
coincidence = ?</pre>

  <p><em>Hint</em> : Use invariance of the semantics. <span class="hidden">∎</span>
<span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:coincidence-solution)
:::::::
-->

</div>

<h2 id="substitution-lemma">
<a class="anchor" href="#substitution-lemma" aria-hidden="true"><span class="octicon octicon-link"></span></a>Substitution lemma</h2>

<p>A basic operation on formulas is <em>substitution</em> of a propositional
variable with another formula.</p>

<pre class="Agda"><a id="11808" class="Keyword">infix</a> <a id="11814" class="Number">101</a> <a id="11818" href="/lia/part1/Semantics/#11826" class="Function Operator">_F[_↦_]</a>
<a id="_F[_↦_]"></a><a id="11826" href="/lia/part1/Semantics/#11826" class="Function Operator">_F[_↦_]</a> <a id="11834" class="Symbol">:</a> <a id="11836" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="11844" class="Symbol">→</a> <a id="11846" href="/lia/part1/Semantics/#1069" class="Function">PropName</a> <a id="11855" class="Symbol">→</a> <a id="11857" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="11865" class="Symbol">→</a> <a id="11867" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a></pre>

<p>Intuitively, <code class="language-plaintext highlighter-rouge">φ F[ p ↦ ψ ]</code> is obtained from the formula <code class="language-plaintext highlighter-rouge">φ</code> by
replacing every occurrence of proposition <code class="language-plaintext highlighter-rouge">p</code> with <code class="language-plaintext highlighter-rouge">ψ</code>. Substitution
binds tighter than <a href="#Formula"><code class="language-plaintext highlighter-rouge">Formula</code></a> constructors<sup id="fnref:4" role="doc-noteref"><a href="#fn:4" class="footnote">4</a></sup>, e.g.,
<code class="language-plaintext highlighter-rouge">¬ φ F[ p ↦ ξ ] ≡ ¬ (φ F[ p ↦ ξ ])</code>. The definition of substitution
follows a natural structural induction:</p>

<!--
<pre class="Agda"><a id="12208" href="/lia/part1/Semantics/#12208" class="Function">_</a> <a id="12210" class="Symbol">:</a> <a id="12212" class="Symbol">∀</a> <a id="12214" href="/lia/part1/Semantics/#12214" class="Bound">φ</a> <a id="12216" href="/lia/part1/Semantics/#12216" class="Bound">p</a> <a id="12218" href="/lia/part1/Semantics/#12218" class="Bound">ξ</a> <a id="12220" class="Symbol">→</a>
  <a id="12224" class="Comment">----------------------------------</a>
  <a id="12261" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="12263" href="/lia/part1/Semantics/#12214" class="Bound">φ</a> <a id="12265" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="12268" href="/lia/part1/Semantics/#12216" class="Bound">p</a> <a id="12270" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="12272" href="/lia/part1/Semantics/#12218" class="Bound">ξ</a> <a id="12274" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a> <a id="12276" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="12278" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="12280" class="Symbol">(</a><a id="12281" href="/lia/part1/Semantics/#12214" class="Bound">φ</a> <a id="12283" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="12286" href="/lia/part1/Semantics/#12216" class="Bound">p</a> <a id="12288" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="12290" href="/lia/part1/Semantics/#12218" class="Bound">ξ</a> <a id="12292" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a><a id="12293" class="Symbol">)</a>

<a id="12296" class="Symbol">_</a> <a id="12298" class="Symbol">=</a> <a id="12300" class="Symbol">λ</a> <a id="12302" href="/lia/part1/Semantics/#12302" class="Bound">_</a> <a id="12304" href="/lia/part1/Semantics/#12304" class="Bound">_</a> <a id="12306" href="/lia/part1/Semantics/#12306" class="Bound">_</a> <a id="12308" class="Symbol">→</a> <a id="12310" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>-->
<pre class="Agda"><a id="12459" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="12461" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="12464" class="Symbol">_</a> <a id="12466" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="12468" href="/lia/part1/Semantics/#12468" class="Bound">ξ</a> <a id="12470" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a> <a id="12472" class="Symbol">=</a> <a id="12474" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>
<a id="12476" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="12478" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="12481" href="/lia/part1/Semantics/#12481" class="Bound">p</a> <a id="12483" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="12485" href="/lia/part1/Semantics/#12485" class="Bound">ξ</a> <a id="12487" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a> <a id="12489" class="Symbol">=</a> <a id="12491" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a>
<a id="12493" class="Symbol">(</a><a id="12494" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="12496" href="/lia/part1/Semantics/#12496" class="Bound">q</a><a id="12497" class="Symbol">)</a> <a id="12499" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="12502" href="/lia/part1/Semantics/#12502" class="Bound">p</a> <a id="12504" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="12506" href="/lia/part1/Semantics/#12506" class="Bound">ξ</a> <a id="12508" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a> <a id="12510" class="Keyword">with</a> <a id="12515" href="/lia/part1/Semantics/#12502" class="Bound">p</a> <a id="12517" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="12520" href="/lia/part1/Semantics/#12496" class="Bound">q</a>
<a id="12522" class="Symbol">...</a> <a id="12526" class="Symbol">|</a> <a id="12528" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="12532" class="Symbol">_</a> <a id="12534" class="Symbol">=</a> <a id="12536" class="Bound">ξ</a>
<a id="12538" class="Symbol">...</a> <a id="12542" class="Symbol">|</a> <a id="12544" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="12547" class="Symbol">_</a> <a id="12549" class="Symbol">=</a> <a id="12551" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="12553" class="Bound">q</a>
<a id="12555" class="Symbol">(</a><a id="12556" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="12558" href="/lia/part1/Semantics/#12558" class="Bound">φ</a><a id="12559" class="Symbol">)</a> <a id="12561" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="12564" href="/lia/part1/Semantics/#12564" class="Bound">p</a> <a id="12566" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="12568" href="/lia/part1/Semantics/#12568" class="Bound">ξ</a> <a id="12570" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a> <a id="12572" class="Symbol">=</a> <a id="12574" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="12576" href="/lia/part1/Semantics/#12558" class="Bound">φ</a> <a id="12578" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="12581" href="/lia/part1/Semantics/#12564" class="Bound">p</a> <a id="12583" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="12585" href="/lia/part1/Semantics/#12568" class="Bound">ξ</a> <a id="12587" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a>
<a id="12589" class="Symbol">(</a><a id="12590" href="/lia/part1/Semantics/#12590" class="Bound">φ</a> <a id="12592" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="12594" href="/lia/part1/Semantics/#12594" class="Bound">ψ</a><a id="12595" class="Symbol">)</a> <a id="12597" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="12600" href="/lia/part1/Semantics/#12600" class="Bound">p</a> <a id="12602" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="12604" href="/lia/part1/Semantics/#12604" class="Bound">ξ</a> <a id="12606" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a> <a id="12608" class="Symbol">=</a> <a id="12610" href="/lia/part1/Semantics/#12590" class="Bound">φ</a> <a id="12612" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="12615" href="/lia/part1/Semantics/#12600" class="Bound">p</a> <a id="12617" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="12619" href="/lia/part1/Semantics/#12604" class="Bound">ξ</a> <a id="12621" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a> <a id="12623" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="12625" href="/lia/part1/Semantics/#12594" class="Bound">ψ</a> <a id="12627" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="12630" href="/lia/part1/Semantics/#12600" class="Bound">p</a> <a id="12632" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="12634" href="/lia/part1/Semantics/#12604" class="Bound">ξ</a> <a id="12636" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a>
<a id="12638" class="Symbol">(</a><a id="12639" href="/lia/part1/Semantics/#12639" class="Bound">φ</a> <a id="12641" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="12643" href="/lia/part1/Semantics/#12643" class="Bound">ψ</a><a id="12644" class="Symbol">)</a> <a id="12646" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="12649" href="/lia/part1/Semantics/#12649" class="Bound">p</a> <a id="12651" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="12653" href="/lia/part1/Semantics/#12653" class="Bound">ξ</a> <a id="12655" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a> <a id="12657" class="Symbol">=</a> <a id="12659" href="/lia/part1/Semantics/#12639" class="Bound">φ</a> <a id="12661" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="12664" href="/lia/part1/Semantics/#12649" class="Bound">p</a> <a id="12666" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="12668" href="/lia/part1/Semantics/#12653" class="Bound">ξ</a> <a id="12670" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a> <a id="12672" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="12674" href="/lia/part1/Semantics/#12643" class="Bound">ψ</a> <a id="12676" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="12679" href="/lia/part1/Semantics/#12649" class="Bound">p</a> <a id="12681" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="12683" href="/lia/part1/Semantics/#12653" class="Bound">ξ</a> <a id="12685" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a>
<a id="12687" class="Symbol">(</a><a id="12688" href="/lia/part1/Semantics/#12688" class="Bound">φ</a> <a id="12690" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="12692" href="/lia/part1/Semantics/#12692" class="Bound">ψ</a><a id="12693" class="Symbol">)</a> <a id="12695" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="12698" href="/lia/part1/Semantics/#12698" class="Bound">p</a> <a id="12700" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="12702" href="/lia/part1/Semantics/#12702" class="Bound">ξ</a> <a id="12704" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a> <a id="12706" class="Symbol">=</a> <a id="12708" href="/lia/part1/Semantics/#12688" class="Bound">φ</a> <a id="12710" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="12713" href="/lia/part1/Semantics/#12698" class="Bound">p</a> <a id="12715" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="12717" href="/lia/part1/Semantics/#12702" class="Bound">ξ</a> <a id="12719" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a> <a id="12721" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="12723" href="/lia/part1/Semantics/#12692" class="Bound">ψ</a> <a id="12725" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="12728" href="/lia/part1/Semantics/#12698" class="Bound">p</a> <a id="12730" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="12732" href="/lia/part1/Semantics/#12702" class="Bound">ξ</a> <a id="12734" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a>
<a id="12736" class="Symbol">(</a><a id="12737" href="/lia/part1/Semantics/#12737" class="Bound">φ</a> <a id="12739" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="12741" href="/lia/part1/Semantics/#12741" class="Bound">ψ</a><a id="12742" class="Symbol">)</a> <a id="12744" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="12747" href="/lia/part1/Semantics/#12747" class="Bound">p</a> <a id="12749" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="12751" href="/lia/part1/Semantics/#12751" class="Bound">ξ</a> <a id="12753" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a> <a id="12755" class="Symbol">=</a> <a id="12757" href="/lia/part1/Semantics/#12737" class="Bound">φ</a> <a id="12759" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="12762" href="/lia/part1/Semantics/#12747" class="Bound">p</a> <a id="12764" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="12766" href="/lia/part1/Semantics/#12751" class="Bound">ξ</a> <a id="12768" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a> <a id="12770" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="12772" href="/lia/part1/Semantics/#12741" class="Bound">ψ</a> <a id="12774" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="12777" href="/lia/part1/Semantics/#12747" class="Bound">p</a> <a id="12779" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="12781" href="/lia/part1/Semantics/#12751" class="Bound">ξ</a> <a id="12783" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a></pre>

<div class="examplebox">

  <dl>
    <dt><span id="example:substitution" class="pandoc-numbering-text example"><strong>Example 2</strong></span></dt>
    <dd>We have</dd>
  </dl>

  <pre class="Agda"><a id="12879" href="/lia/part1/Semantics/#12879" class="Function">_</a> <a id="12881" class="Symbol">:</a> <a id="12883" class="Symbol">(</a><a id="12884" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="12886" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="12889" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="12891" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="12893" href="/lia/part1/Semantics/#1197" class="Function">p₁</a><a id="12895" class="Symbol">)</a> <a id="12897" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="12900" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="12903" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="12905" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="12907" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="12910" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="12912" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="12914" href="/lia/part1/Semantics/#1200" class="Function">p₂</a> <a id="12917" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a> <a id="12919" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="12921" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="12923" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="12926" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="12928" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="12930" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="12933" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="12935" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="12937" href="/lia/part1/Semantics/#1200" class="Function">p₂</a>
<a id="12940" class="Symbol">_</a> <a id="12942" class="Symbol">=</a> <a id="12944" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

  <p><span class="hidden">∎</span><span class="right-aligned">∎</span></p>

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:parallel-substitution" class="pandoc-numbering-text exercise"><strong>Exercise 3</strong></span></dt>
    <dd>From time to time it is useful to substitute in parallel two
propositions <code class="language-plaintext highlighter-rouge">p</code> and <code class="language-plaintext highlighter-rouge">q</code> by <code class="language-plaintext highlighter-rouge">ψ</code>, resp., <code class="language-plaintext highlighter-rouge">ξ</code>, written
<code class="language-plaintext highlighter-rouge">φ F2[ p , q ↦ ψ , ξ ]</code>. For example,
<code class="language-plaintext highlighter-rouge">` p₀ ∨ ` p₁ F2[ p₀ , p₁ ↦ p₁ , p₀ ] ≡ ` p₁ ∨ ` p₀</code>. Provide a
definition of parallel substitution:</dd>
  </dl>

  <pre class="Agda"><a id="13346" class="Keyword">infix</a> <a id="13352" class="Number">101</a> <a id="13356" href="/lia/part1/Semantics/#13369" class="Function Operator">_F2[_,_↦_,_]</a>
<a id="_F2[_,_↦_,_]"></a><a id="13369" href="/lia/part1/Semantics/#13369" class="Function Operator">_F2[_,_↦_,_]</a> <a id="13382" class="Symbol">:</a> <a id="13384" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="13392" class="Symbol">→</a> <a id="13394" href="/lia/part1/Semantics/#1069" class="Function">PropName</a> <a id="13403" class="Symbol">→</a> <a id="13405" href="/lia/part1/Semantics/#1069" class="Function">PropName</a> <a id="13414" class="Symbol">→</a> <a id="13416" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="13424" class="Symbol">→</a> <a id="13426" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="13434" class="Symbol">→</a> <a id="13436" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a></pre>

  <p>What happens if <code class="language-plaintext highlighter-rouge">p ≡ q</code> ?</p>

  <pre data-executable="true" data-language="agda" id="part1.Semantics.subst2">

module part1.Semantics.subst2 where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (_F2[_,_↦_,_] to _F2[_,_↦_,_]-orig)

_F2[_,_↦_,_] : typeOf _F2[_,_↦_,_]-orig
-- BEGIN SOLUTION
_F2[_,_↦_,_] = ?</pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:parallel-substitution-solution)
:::::::
-->

</div>

<p>The main property of substitution regards its interaction with the
semantics. This is expressed by the following <em>substitution lemma</em>:</p>

<pre class="Agda"><a id="substitution"></a><a id="14337" href="/lia/part1/Semantics/#14337" class="Function">substitution</a> <a id="14350" class="Symbol">:</a> <a id="14352" class="Symbol">∀</a> <a id="14354" href="/lia/part1/Semantics/#14354" class="Bound">φ</a> <a id="14356" href="/lia/part1/Semantics/#14356" class="Bound">p</a> <a id="14358" href="/lia/part1/Semantics/#14358" class="Bound">ξ</a> <a id="14360" href="/lia/part1/Semantics/#14360" class="Bound">ϱ</a> <a id="14362" class="Symbol">→</a>
  <a id="14366" class="Comment">--------------------------------------------</a>
  <a id="14413" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="14415" href="/lia/part1/Semantics/#14354" class="Bound">φ</a> <a id="14417" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="14420" href="/lia/part1/Semantics/#14356" class="Bound">p</a> <a id="14422" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="14424" href="/lia/part1/Semantics/#14358" class="Bound">ξ</a> <a id="14426" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a> <a id="14428" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="14430" href="/lia/part1/Semantics/#14360" class="Bound">ϱ</a> <a id="14432" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="14434" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="14436" href="/lia/part1/Semantics/#14354" class="Bound">φ</a> <a id="14438" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="14440" href="/lia/part1/Semantics/#14360" class="Bound">ϱ</a> <a id="14442" href="/lia/part0/Functions/#570" class="Function Operator">[</a> <a id="14444" href="/lia/part1/Semantics/#14356" class="Bound">p</a> <a id="14446" href="/lia/part0/Functions/#570" class="Function Operator">↦</a> <a id="14448" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="14450" href="/lia/part1/Semantics/#14358" class="Bound">ξ</a> <a id="14452" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="14454" href="/lia/part1/Semantics/#14360" class="Bound">ϱ</a> <a id="14456" href="/lia/part0/Functions/#570" class="Function Operator">]</a></pre>

<p>Intuitively, the substitution lemma says that we can implement a
syntactical substitution with a suitable update of the valuation. One
could say that the substitution lemma shows a certain <em>commutation rule</em>
between substitution and evaluation.</p>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:substitution" class="pandoc-numbering-text exercise"><strong>Exercise 4</strong> <em>(<code class="language-plaintext highlighter-rouge">substitution</code>)</em></span></dt>
    <dd>Prove the substitution lemma.</dd>
  </dl>

  <pre data-executable="true" data-language="agda" id="part1.Semantics.substitution">

module part1.Semantics.substitution where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (substitution to substitution-orig)

substitution : typeOf substitution-orig
-- BEGIN SOLUTION
substitution = ?</pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:substitution-solution)
:::::::
-->

</div>

<p>A <em>variable renaming</em> is a special substitution of the form
<code class="language-plaintext highlighter-rouge">φ F[ p ↦ ` q ]</code>. It is convenient to state the substitution lemma
in the special case of variable renamings:</p>

<pre class="Agda"><a id="renamings"></a><a id="15718" href="/lia/part1/Semantics/#15718" class="Function">renamings</a> <a id="15728" class="Symbol">:</a> <a id="15730" class="Symbol">∀</a> <a id="15732" href="/lia/part1/Semantics/#15732" class="Bound">φ</a> <a id="15734" href="/lia/part1/Semantics/#15734" class="Bound">p</a> <a id="15736" href="/lia/part1/Semantics/#15736" class="Bound">q</a> <a id="15738" href="/lia/part1/Semantics/#15738" class="Bound">ϱ</a> <a id="15740" class="Symbol">→</a>
  <a id="15744" class="Comment">------------------------------------------</a>
  <a id="15789" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="15791" href="/lia/part1/Semantics/#15732" class="Bound">φ</a> <a id="15793" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="15796" href="/lia/part1/Semantics/#15734" class="Bound">p</a> <a id="15798" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="15800" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="15802" href="/lia/part1/Semantics/#15736" class="Bound">q</a> <a id="15804" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a> <a id="15806" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="15808" href="/lia/part1/Semantics/#15738" class="Bound">ϱ</a> <a id="15810" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="15812" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="15814" href="/lia/part1/Semantics/#15732" class="Bound">φ</a> <a id="15816" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="15818" href="/lia/part1/Semantics/#15738" class="Bound">ϱ</a> <a id="15820" href="/lia/part0/Functions/#570" class="Function Operator">[</a> <a id="15822" href="/lia/part1/Semantics/#15734" class="Bound">p</a> <a id="15824" href="/lia/part0/Functions/#570" class="Function Operator">↦</a> <a id="15826" href="/lia/part1/Semantics/#15738" class="Bound">ϱ</a> <a id="15828" href="/lia/part1/Semantics/#15736" class="Bound">q</a> <a id="15830" href="/lia/part0/Functions/#570" class="Function Operator">]</a>
  
<a id="15835" href="/lia/part1/Semantics/#15718" class="Function">renamings</a> <a id="15845" href="/lia/part1/Semantics/#15845" class="Bound">φ</a> <a id="15847" href="/lia/part1/Semantics/#15847" class="Bound">p</a> <a id="15849" href="/lia/part1/Semantics/#15849" class="Bound">q</a> <a id="15851" href="/lia/part1/Semantics/#15851" class="Bound">ϱ</a> <a id="15853" class="Symbol">=</a> <a id="15855" href="/lia/part1/Semantics/#14337" class="Function">substitution</a> <a id="15868" href="/lia/part1/Semantics/#15845" class="Bound">φ</a> <a id="15870" href="/lia/part1/Semantics/#15847" class="Bound">p</a> <a id="15872" class="Symbol">(</a><a id="15873" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="15875" href="/lia/part1/Semantics/#15849" class="Bound">q</a><a id="15876" class="Symbol">)</a> <a id="15878" href="/lia/part1/Semantics/#15851" class="Bound">ϱ</a></pre>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:subst-id" class="pandoc-numbering-text exercise"><strong>Exercise 5</strong> <em>(<code class="language-plaintext highlighter-rouge">subst-id</code>)</em></span></dt>
    <dd>Prove that a substitution <code class="language-plaintext highlighter-rouge">φ F[ p ↦ ξ ]</code> does not alter the formula
<code class="language-plaintext highlighter-rouge">φ</code> if the variable <code class="language-plaintext highlighter-rouge">p</code> does not actually appear in <code class="language-plaintext highlighter-rouge">φ</code>:</dd>
  </dl>

  <pre class="Agda"><a id="subst-id"></a><a id="16100" href="/lia/part1/Semantics/#16100" class="Function">subst-id</a> <a id="16109" class="Symbol">:</a> <a id="16111" class="Symbol">∀</a> <a id="16113" href="/lia/part1/Semantics/#16113" class="Bound">φ</a> <a id="16115" href="/lia/part1/Semantics/#16115" class="Bound">p</a> <a id="16117" href="/lia/part1/Semantics/#16117" class="Bound">ξ</a> <a id="16119" class="Symbol">→</a>
  <a id="16123" href="/lia/part1/Semantics/#16115" class="Bound">p</a> <a id="16125" href="/lia/part0/List/#8983" class="Function Operator">~∈</a> <a id="16128" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="16134" href="/lia/part1/Semantics/#16113" class="Bound">φ</a> <a id="16136" class="Symbol">→</a>
  <a id="16140" class="Comment">----------------</a>
  <a id="16159" href="/lia/part1/Semantics/#16113" class="Bound">φ</a> <a id="16161" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="16164" href="/lia/part1/Semantics/#16115" class="Bound">p</a> <a id="16166" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="16168" href="/lia/part1/Semantics/#16117" class="Bound">ξ</a> <a id="16170" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a> <a id="16172" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="16174" href="/lia/part1/Semantics/#16113" class="Bound">φ</a></pre>
  <pre data-executable="true" data-language="agda" id="part1.Semantics.subst-id">

module part1.Semantics.subst-id where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (subst-id to subst-id-orig)

subst-id : typeOf subst-id-orig
-- BEGIN SOLUTION
subst-id = ?</pre>

  <p><em>Hint:</em> Proceed by structural induction, using the assumption
<code class="language-plaintext highlighter-rouge">p ~∈ props φ</code> in the variable case; the two auxiliary functions
<a href="../../part0/List#~%E2%88%88-++-left"><code class="language-plaintext highlighter-rouge">~∈-++-left</code></a> and
<a href="../../part0/List#~%E2%88%88-++-right"><code class="language-plaintext highlighter-rouge">~∈-++-right</code></a> will be useful in the
inductive case. <span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:subst-id-solution)
:::::::
-->

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:rename-undo" class="pandoc-numbering-text exercise"><strong>Exercise 6</strong> <em>(<code class="language-plaintext highlighter-rouge">rename-undo</code>)</em></span></dt>
    <dd>Let <code class="language-plaintext highlighter-rouge">φ : Formula</code> be a formula and <code class="language-plaintext highlighter-rouge">p q : PropName</code> two
propositions. Prove that a double substitution
<code class="language-plaintext highlighter-rouge">φ F[ p ↦ ` q ] F[ q ↦ ` p ]</code> does not change the formula <code class="language-plaintext highlighter-rouge">φ</code> if
the variable <code class="language-plaintext highlighter-rouge">q</code> does not occur in <code class="language-plaintext highlighter-rouge">φ</code>:</dd>
  </dl>

  <pre class="Agda"><a id="rename-undo"></a><a id="17642" href="/lia/part1/Semantics/#17642" class="Function">rename-undo</a> <a id="17654" class="Symbol">:</a> <a id="17656" class="Symbol">∀</a> <a id="17658" href="/lia/part1/Semantics/#17658" class="Bound">φ</a> <a id="17660" href="/lia/part1/Semantics/#17660" class="Bound">p</a> <a id="17662" href="/lia/part1/Semantics/#17662" class="Bound">q</a> <a id="17664" class="Symbol">→</a>
  <a id="17668" href="/lia/part1/Semantics/#17662" class="Bound">q</a> <a id="17670" href="/lia/part0/List/#14548" class="Datatype Operator">∉</a> <a id="17672" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="17678" href="/lia/part1/Semantics/#17658" class="Bound">φ</a> <a id="17680" class="Symbol">→</a>
  <a id="17684" class="Comment">--------------------------------</a>
  <a id="17719" href="/lia/part1/Semantics/#17658" class="Bound">φ</a> <a id="17721" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="17724" href="/lia/part1/Semantics/#17660" class="Bound">p</a> <a id="17726" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="17728" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="17730" href="/lia/part1/Semantics/#17662" class="Bound">q</a> <a id="17732" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a> <a id="17734" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="17737" href="/lia/part1/Semantics/#17662" class="Bound">q</a> <a id="17739" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="17741" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="17743" href="/lia/part1/Semantics/#17660" class="Bound">p</a> <a id="17745" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a> <a id="17747" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="17749" href="/lia/part1/Semantics/#17658" class="Bound">φ</a></pre>

  <p><strong>Warning</strong>: <code class="language-plaintext highlighter-rouge">q ∉ props φ</code> here is different from <code class="language-plaintext highlighter-rouge">q ~∈ props φ</code>. While
the latter is just an abbreviation for <code class="language-plaintext highlighter-rouge">~ (q ∈ props φ)</code> and thus it
provides indirect evidence that <code class="language-plaintext highlighter-rouge">q</code> is not in <code class="language-plaintext highlighter-rouge">props φ</code>, the former
provides direct evidence that <code class="language-plaintext highlighter-rouge">q</code> is not in <code class="language-plaintext highlighter-rouge">props φ</code> and thus it is
stronger. The two happen to be equivalent thanks to the conversion
functions <a href="../../part0/List#~%E2%88%88%E2%86%92%E2%88%89"><code class="language-plaintext highlighter-rouge">~∈→∉</code></a> and
<a href="../../part0/List#%E2%88%89%E2%86%92~%E2%88%88"><code class="language-plaintext highlighter-rouge">∉→~∈</code></a></p>

  <pre data-executable="true" data-language="agda" id="part1.Semantics.rename-undo">

module part1.Semantics.rename-undo where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (rename-undo to rename-undo-orig)

rename-undo : typeOf rename-undo-orig
-- BEGIN SOLUTION
rename-undo = ?</pre>

  <p><em>Hint:</em> Proceed by induction on the evidence <code class="language-plaintext highlighter-rouge">q ∉ props φ</code> that <code class="language-plaintext highlighter-rouge">q</code> is
not in <code class="language-plaintext highlighter-rouge">φ</code>. The auxiliary functions
<a href="../../part0/List#%E2%88%89-++-left"><code class="language-plaintext highlighter-rouge">∉-++-left</code></a> and
<a href="../../part0/List#%E2%88%89-++-right"><code class="language-plaintext highlighter-rouge">∉-++-right</code></a> will be useful in the
inductive cases. <span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:rename-undo-solution)
:::::::
-->

</div>

<h2 id="tautology-entailment-and-equivalence">
<a class="anchor" href="#tautology-entailment-and-equivalence" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tautology, entailment, and equivalence</h2>

<h3 id="tautology">Tautology</h3>

<p>A <em>tautology</em> is a formula that evaluates to
<a href="../../part0/Booleans#%F0%9D%94%B9.tt"><code class="language-plaintext highlighter-rouge">tt</code></a> under every valuation:</p>

<pre class="Agda"><a id="Tautology"></a><a id="19630" href="/lia/part1/Semantics/#19630" class="Function">Tautology</a> <a id="19640" class="Symbol">:</a> <a id="19642" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="19650" class="Symbol">→</a> <a id="19652" class="PrimitiveType">Set</a>
<a id="19656" href="/lia/part1/Semantics/#19630" class="Function">Tautology</a> <a id="19666" href="/lia/part1/Semantics/#19666" class="Bound">φ</a> <a id="19668" class="Symbol">=</a> <a id="19670" href="/lia/part0/Logic/#216" class="Function">∀[</a> <a id="19673" href="/lia/part1/Semantics/#19673" class="Bound">ϱ</a> <a id="19675" href="/lia/part0/Logic/#216" class="Function">]</a> <a id="19677" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="19679" href="/lia/part1/Semantics/#19666" class="Bound">φ</a> <a id="19681" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="19683" href="/lia/part1/Semantics/#19673" class="Bound">ϱ</a> <a id="19685" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="19687" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a></pre>

<p>For instance the <em>law of excluded middle</em> <code class="language-plaintext highlighter-rouge">` p ∨ ¬ ` p</code>, which
amounts to say that the propositional variable <code class="language-plaintext highlighter-rouge">p</code> has either the value
<a href="../../part0/Booleans#%F0%9D%94%B9.tt"><code class="language-plaintext highlighter-rouge">tt</code></a> or <a href="../../part0/Booleans#%F0%9D%94%B9.ff"><code class="language-plaintext highlighter-rouge">ff</code></a> ,
is a tautology of classical logic:</p>

<pre class="Agda"><a id="LEM"></a><a id="19948" href="/lia/part1/Semantics/#19948" class="Function">LEM</a> <a id="19952" class="Symbol">:</a> <a id="19954" href="/lia/part1/Semantics/#19630" class="Function">Tautology</a> <a id="19964" class="Symbol">(</a><a id="19965" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="19967" href="/lia/part1/Semantics/#1701" class="Generalizable">p</a> <a id="19969" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="19971" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="19973" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="19975" href="/lia/part1/Semantics/#1701" class="Generalizable">p</a><a id="19976" class="Symbol">)</a>
<a id="19978" href="/lia/part1/Semantics/#19948" class="Function">LEM</a> <a id="19982" class="Symbol">{</a><a id="19983" href="/lia/part1/Semantics/#19983" class="Bound">p</a><a id="19984" class="Symbol">}</a> <a id="19986" href="/lia/part1/Semantics/#19986" class="Bound">ϱ</a> <a id="19988" class="Keyword">with</a> <a id="19993" href="/lia/part1/Semantics/#19986" class="Bound">ϱ</a> <a id="19995" href="/lia/part1/Semantics/#19983" class="Bound">p</a>
<a id="19997" class="Symbol">...</a> <a id="20001" class="Symbol">|</a> <a id="20003" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="20006" class="Symbol">=</a> <a id="20008" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="20013" class="Symbol">...</a> <a id="20017" class="Symbol">|</a> <a id="20019" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="20022" class="Symbol">=</a> <a id="20024" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

<p>On the other hand, <code class="language-plaintext highlighter-rouge">` p</code> is not a tautology since the (any)
valuation that maps <code class="language-plaintext highlighter-rouge">p</code> to <a href="../../part0/Booleans#%F0%9D%94%B9.ff"><code class="language-plaintext highlighter-rouge">ff</code></a> , such as
<code class="language-plaintext highlighter-rouge">const ff</code>, does not satisfy it:</p>

<pre class="Agda"><a id="20207" href="/lia/part1/Semantics/#20207" class="Function">_</a> <a id="20209" class="Symbol">:</a> <a id="20211" href="/lia/part0/Logic/#2336" class="Function Operator">~</a> <a id="20213" href="/lia/part1/Semantics/#19630" class="Function">Tautology</a> <a id="20223" class="Symbol">(</a><a id="20224" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="20226" href="/lia/part1/Semantics/#1701" class="Generalizable">p</a><a id="20227" class="Symbol">)</a>
<a id="20229" class="Symbol">_</a> <a id="20231" class="Symbol">=</a> <a id="20233" class="Symbol">λ</a> <a id="20235" href="/lia/part1/Semantics/#20235" class="Bound">tau</a> <a id="20239" class="Symbol">→</a> <a id="20241" class="Keyword">let</a> <a id="20245" href="/lia/part1/Semantics/#20245" class="Bound">ff≡tt</a> <a id="20251" class="Symbol">=</a> <a id="20253" href="/lia/part1/Semantics/#20235" class="Bound">tau</a> <a id="20257" class="Symbol">(</a><a id="20258" href="/lia/part0/Utils/#244" class="Function">const</a> <a id="20264" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a><a id="20266" class="Symbol">)</a> <a id="20268" class="Keyword">in</a> <a id="20271" href="/lia/part0/Booleans/#467" class="Function">ff≢tt</a> <a id="20277" href="/lia/part1/Semantics/#20245" class="Bound">ff≡tt</a></pre>

<p>Since we can enumerate all valuations <code class="language-plaintext highlighter-rouge">ϱ : Val</code> and the equality
<code class="language-plaintext highlighter-rouge">⟦ φ ⟧ ϱ ≡ tt</code> is decidable, we can <em>decide</em> whether <code class="language-plaintext highlighter-rouge">φ</code> is a tautology:</p>

<pre class="Agda"><a id="Tautology?"></a><a id="20431" href="/lia/part1/Semantics/#20431" class="Function">Tautology?</a> <a id="20442" class="Symbol">:</a> <a id="20444" href="/lia/part0/Decidable/#1442" class="Function">Decidable</a> <a id="20454" href="/lia/part1/Semantics/#19630" class="Function">Tautology</a>
<a id="20464" href="/lia/part1/Semantics/#20431" class="Function">Tautology?</a> <a id="20475" href="/lia/part1/Semantics/#20475" class="Bound">φ</a> <a id="20477" class="Symbol">=</a> <a id="20479" href="/lia/part0/Enumerable/#5162" class="Function">∀?[</a> <a id="20483" href="/lia/part1/Semantics/#20483" class="Bound">ϱ</a> <a id="20485" href="/lia/part0/Enumerable/#5162" class="Function">]</a> <a id="20487" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="20489" href="/lia/part1/Semantics/#20475" class="Bound">φ</a> <a id="20491" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="20493" href="/lia/part1/Semantics/#20483" class="Bound">ϱ</a> <a id="20495" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="20498" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a></pre>

<p>For instance, we can check by computing that <code class="language-plaintext highlighter-rouge">` p₀ ∨ ¬ ` p₀</code> is a
tautology, and that <code class="language-plaintext highlighter-rouge">` p₀ ∨ ` p₁</code> is not a tautology, where
<a href="#p%E2%82%80"><code class="language-plaintext highlighter-rouge">p₀</code></a> and <a href="#p%E2%82%81"><code class="language-plaintext highlighter-rouge">p₁</code></a> are two concrete propositions.</p>

<pre class="Agda"><a id="20698" href="/lia/part1/Semantics/#20698" class="Function">_</a> <a id="20700" class="Symbol">:</a> <a id="20702" href="/lia/part1/Semantics/#1058" class="Function">n</a> <a id="20704" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="20706" class="Number">3</a> <a id="20708" class="Symbol">→</a> <a id="20710" href="/lia/part0/Booleans/#367" class="Function Operator">⌞</a> <a id="20712" href="/lia/part1/Semantics/#20431" class="Function">Tautology?</a> <a id="20723" class="Symbol">(</a><a id="20724" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="20726" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="20729" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="20731" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="20733" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="20735" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="20737" class="Symbol">)</a> <a id="20739" href="/lia/part0/Booleans/#367" class="Function Operator">⌟</a> <a id="20741" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="20743" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a>
<a id="20746" class="Symbol">_</a> <a id="20748" class="Symbol">=</a> <a id="20750" class="Symbol">λ{</a><a id="20752" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="20757" class="Symbol">→</a> <a id="20759" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="20763" class="Symbol">}</a>

<a id="20766" href="/lia/part1/Semantics/#20766" class="Function">_</a> <a id="20768" class="Symbol">:</a> <a id="20770" href="/lia/part1/Semantics/#1058" class="Function">n</a> <a id="20772" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="20774" class="Number">3</a> <a id="20776" class="Symbol">→</a> <a id="20778" href="/lia/part0/Booleans/#367" class="Function Operator">⌞</a> <a id="20780" href="/lia/part1/Semantics/#20431" class="Function">Tautology?</a> <a id="20791" class="Symbol">(</a><a id="20792" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="20794" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="20797" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="20799" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="20801" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="20803" href="/lia/part1/Semantics/#1197" class="Function">p₁</a><a id="20805" class="Symbol">)</a> <a id="20807" href="/lia/part0/Booleans/#367" class="Function Operator">⌟</a> <a id="20809" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="20811" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a>
<a id="20814" class="Symbol">_</a> <a id="20816" class="Symbol">=</a> <a id="20818" class="Symbol">λ{</a><a id="20820" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="20825" class="Symbol">→</a> <a id="20827" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="20831" class="Symbol">}</a></pre>

<p>(Note that we need to assume that <a href="#n"><code class="language-plaintext highlighter-rouge">n</code></a> is some concrete number
here, allowing us to actually enumerate all valuations. We use the
erasure mapping <a href="../../part0/Booleans#%E2%8C%9E_%E2%8C%9F"><code class="language-plaintext highlighter-rouge">⌞_⌟</code></a> to convert
<a href="../../part0/Decidable#Dec.yes"><code class="language-plaintext highlighter-rouge">yes</code></a> , resp.,
<a href="../../part0/Decidable#Dec.no"><code class="language-plaintext highlighter-rouge">no</code></a> , to
<a href="../../part0/Booleans#%F0%9D%94%B9.tt"><code class="language-plaintext highlighter-rouge">tt</code></a> , resp.,
<a href="../../part0/Booleans#%F0%9D%94%B9.ff"><code class="language-plaintext highlighter-rouge">ff</code></a> , thus discarding the proof of
correctness returned by <a href="#Tautology?"><code class="language-plaintext highlighter-rouge">Tautology?</code></a> .)</p>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:tautology-substitution" class="pandoc-numbering-text exercise"><strong>Exercise 7</strong> <em>(Tautology and substitution)</em></span></dt>
    <dd>Show that if <code class="language-plaintext highlighter-rouge">φ</code> is a tautology, then replacing any propositional
variable therein with an arbitrary formula is also a tautology:
      <pre class="Agda"><a id="tautology-subst"></a><a id="21551" href="/lia/part1/Semantics/#21551" class="Function">tautology-subst</a> <a id="21567" class="Symbol">:</a> <a id="21569" class="Symbol">∀</a> <a id="21571" href="/lia/part1/Semantics/#21571" class="Bound">φ</a> <a id="21573" href="/lia/part1/Semantics/#21573" class="Bound">p</a> <a id="21575" href="/lia/part1/Semantics/#21575" class="Bound">ψ</a> <a id="21577" class="Symbol">→</a>
  <a id="21581" href="/lia/part1/Semantics/#19630" class="Function">Tautology</a> <a id="21591" href="/lia/part1/Semantics/#21571" class="Bound">φ</a> <a id="21593" class="Symbol">→</a>
  <a id="21597" class="Comment">-------------------------</a>
  <a id="21625" href="/lia/part1/Semantics/#19630" class="Function">Tautology</a> <a id="21635" class="Symbol">(</a><a id="21636" href="/lia/part1/Semantics/#21571" class="Bound">φ</a> <a id="21638" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="21641" href="/lia/part1/Semantics/#21573" class="Bound">p</a> <a id="21643" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="21645" href="/lia/part1/Semantics/#21575" class="Bound">ψ</a> <a id="21647" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a><a id="21648" class="Symbol">)</a></pre>
    </dd>
  </dl>

  <pre data-executable="true" data-language="agda" id="part1.Semantics.tautology-subst">

module part1.Semantics.tautology-subst where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (tautology-subst to tautology-subst-orig)

tautology-subst : typeOf tautology-subst-orig
-- BEGIN SOLUTION
tautology-subst = ?</pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:tautology-substitution-solution)
:::::::
-->

</div>

<h3 id="entailment-and-equivalence">Entailment and equivalence</h3>

<p>We say that a formula <code class="language-plaintext highlighter-rouge">φ</code> <em>entails</em> (or <em>logically implies</em>) a formula
<code class="language-plaintext highlighter-rouge">ψ</code>, written <code class="language-plaintext highlighter-rouge">φ ⇛ ψ</code>, if every valuation that satisfies <code class="language-plaintext highlighter-rouge">φ</code> satisfies
<code class="language-plaintext highlighter-rouge">ψ</code> as well, and that they are <em>logically equivalent</em>, written <code class="language-plaintext highlighter-rouge">φ ⟺ ψ</code>,
if they satisfy the same valuations:</p>

<pre class="Agda"><a id="22352" class="Keyword">infix</a> <a id="22358" class="Number">8</a> <a id="22360" href="/lia/part1/Semantics/#22369" class="Function Operator">_⇛_</a> <a id="22364" href="/lia/part1/Semantics/#22445" class="Function Operator">_⟺_</a>

<a id="_⇛_"></a><a id="22369" href="/lia/part1/Semantics/#22369" class="Function Operator">_⇛_</a> <a id="22373" class="Symbol">:</a> <a id="22375" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="22383" class="Symbol">→</a> <a id="22385" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="22393" class="Symbol">→</a> <a id="22395" class="PrimitiveType">Set</a>
<a id="22399" href="/lia/part1/Semantics/#22399" class="Bound">φ</a> <a id="22401" href="/lia/part1/Semantics/#22369" class="Function Operator">⇛</a> <a id="22403" href="/lia/part1/Semantics/#22403" class="Bound">ψ</a> <a id="22405" class="Symbol">=</a> <a id="22407" href="/lia/part0/Logic/#216" class="Function">∀[</a> <a id="22410" href="/lia/part1/Semantics/#22410" class="Bound">ϱ</a> <a id="22412" href="/lia/part0/Logic/#216" class="Function">]</a> <a id="22414" class="Symbol">(</a><a id="22415" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="22417" href="/lia/part1/Semantics/#22399" class="Bound">φ</a> <a id="22419" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="22421" href="/lia/part1/Semantics/#22410" class="Bound">ϱ</a> <a id="22423" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="22425" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="22428" class="Symbol">→</a> <a id="22430" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="22432" href="/lia/part1/Semantics/#22403" class="Bound">ψ</a> <a id="22434" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="22436" href="/lia/part1/Semantics/#22410" class="Bound">ϱ</a> <a id="22438" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="22440" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a><a id="22442" class="Symbol">)</a>

<a id="_⟺_"></a><a id="22445" href="/lia/part1/Semantics/#22445" class="Function Operator">_⟺_</a> <a id="22449" class="Symbol">:</a> <a id="22451" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="22459" class="Symbol">→</a> <a id="22461" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="22469" class="Symbol">→</a> <a id="22471" class="PrimitiveType">Set</a>
<a id="22475" href="/lia/part1/Semantics/#22475" class="Bound">φ</a> <a id="22477" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="22479" href="/lia/part1/Semantics/#22479" class="Bound">ψ</a> <a id="22481" class="Symbol">=</a>  <a id="22484" href="/lia/part0/Logic/#216" class="Function">∀[</a> <a id="22487" href="/lia/part1/Semantics/#22487" class="Bound">ϱ</a> <a id="22489" href="/lia/part0/Logic/#216" class="Function">]</a> <a id="22491" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="22493" href="/lia/part1/Semantics/#22475" class="Bound">φ</a> <a id="22495" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="22497" href="/lia/part1/Semantics/#22487" class="Bound">ϱ</a> <a id="22499" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="22501" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="22503" href="/lia/part1/Semantics/#22479" class="Bound">ψ</a> <a id="22505" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="22507" href="/lia/part1/Semantics/#22487" class="Bound">ϱ</a></pre>

<p>(Although typographically similar, entailment <a href="#_%E2%87%9B_"><code class="language-plaintext highlighter-rouge">_⇛_</code></a> shoud not be
confused with the formula implication constructor
<a href="#Formula._%E2%87%92_"><code class="language-plaintext highlighter-rouge">_⇒_ : Formula → Formula → Formula</code></a>; the same warning
applies to logical equivalence <a href="#_%E2%9F%BA_"><code class="language-plaintext highlighter-rouge">_⟺_</code></a> vs. the bi-implication
constructor <a href="#Formula._%E2%87%94_"><code class="language-plaintext highlighter-rouge">_⇔_</code></a> .) For the same reasons as for
tautology, entailment and equivalence are decidable:</p>

<pre class="Agda"><a id="_⇛?_"></a><a id="22886" href="/lia/part1/Semantics/#22886" class="Function Operator">_⇛?_</a> <a id="22891" class="Symbol">:</a> <a id="22893" class="Symbol">∀</a> <a id="22895" href="/lia/part1/Semantics/#22895" class="Bound">φ</a> <a id="22897" href="/lia/part1/Semantics/#22897" class="Bound">ψ</a> <a id="22899" class="Symbol">→</a> <a id="22901" href="/lia/part0/Decidable/#150" class="Datatype">Dec</a> <a id="22905" class="Symbol">(</a><a id="22906" href="/lia/part1/Semantics/#22895" class="Bound">φ</a> <a id="22908" href="/lia/part1/Semantics/#22369" class="Function Operator">⇛</a> <a id="22910" href="/lia/part1/Semantics/#22897" class="Bound">ψ</a><a id="22911" class="Symbol">)</a>
<a id="22913" href="/lia/part1/Semantics/#22913" class="Bound">φ</a> <a id="22915" href="/lia/part1/Semantics/#22886" class="Function Operator">⇛?</a> <a id="22918" href="/lia/part1/Semantics/#22918" class="Bound">ψ</a> <a id="22920" class="Symbol">=</a> <a id="22922" href="/lia/part0/Enumerable/#5162" class="Function">∀?[</a> <a id="22926" href="/lia/part1/Semantics/#22926" class="Bound">ϱ</a> <a id="22928" href="/lia/part0/Enumerable/#5162" class="Function">]</a> <a id="22930" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="22932" href="/lia/part1/Semantics/#22913" class="Bound">φ</a> <a id="22934" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="22936" href="/lia/part1/Semantics/#22926" class="Bound">ϱ</a> <a id="22938" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="22941" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="22944" href="/lia/part0/Decidable/#295" class="Function Operator">→?</a> <a id="22947" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="22949" href="/lia/part1/Semantics/#22918" class="Bound">ψ</a> <a id="22951" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="22953" href="/lia/part1/Semantics/#22926" class="Bound">ϱ</a> <a id="22955" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="22958" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a>

<a id="_⟺?_"></a><a id="22962" href="/lia/part1/Semantics/#22962" class="Function Operator">_⟺?_</a> <a id="22967" class="Symbol">:</a> <a id="22969" class="Symbol">∀</a> <a id="22971" href="/lia/part1/Semantics/#22971" class="Bound">φ</a> <a id="22973" href="/lia/part1/Semantics/#22973" class="Bound">ψ</a> <a id="22975" class="Symbol">→</a> <a id="22977" href="/lia/part0/Decidable/#150" class="Datatype">Dec</a> <a id="22981" class="Symbol">(</a><a id="22982" href="/lia/part1/Semantics/#22971" class="Bound">φ</a> <a id="22984" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="22986" href="/lia/part1/Semantics/#22973" class="Bound">ψ</a><a id="22987" class="Symbol">)</a>
<a id="22989" href="/lia/part1/Semantics/#22989" class="Bound">φ</a> <a id="22991" href="/lia/part1/Semantics/#22962" class="Function Operator">⟺?</a> <a id="22994" href="/lia/part1/Semantics/#22994" class="Bound">ψ</a> <a id="22996" class="Symbol">=</a> <a id="22998" href="/lia/part0/Enumerable/#5162" class="Function">∀?[</a> <a id="23002" href="/lia/part1/Semantics/#23002" class="Bound">ϱ</a> <a id="23004" href="/lia/part0/Enumerable/#5162" class="Function">]</a> <a id="23006" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="23008" href="/lia/part1/Semantics/#22989" class="Bound">φ</a> <a id="23010" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="23012" href="/lia/part1/Semantics/#23002" class="Bound">ϱ</a> <a id="23014" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="23017" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="23019" href="/lia/part1/Semantics/#22994" class="Bound">ψ</a> <a id="23021" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="23023" href="/lia/part1/Semantics/#23002" class="Bound">ϱ</a></pre>

<p>For instance, we can check that <code class="language-plaintext highlighter-rouge">` p₀</code> entails <code class="language-plaintext highlighter-rouge">` p₀ ∨ ` p₁</code>,
but not <code class="language-plaintext highlighter-rouge">` p₁</code>, and that <code class="language-plaintext highlighter-rouge">` p₀ ∧ ` p₁</code> is logically equivalent
to <code class="language-plaintext highlighter-rouge">` p₁ ∧ ` p₀</code>:</p>

<pre class="Agda"><a id="23198" href="/lia/part1/Semantics/#23198" class="Function">_</a> <a id="23200" class="Symbol">:</a> <a id="23202" href="/lia/part1/Semantics/#1058" class="Function">n</a> <a id="23204" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="23206" class="Number">3</a> <a id="23208" class="Symbol">→</a> <a id="23210" href="/lia/part0/Booleans/#367" class="Function Operator">⌞</a> <a id="23212" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="23214" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="23217" href="/lia/part1/Semantics/#22886" class="Function Operator">⇛?</a> <a id="23220" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="23222" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="23225" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="23227" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="23229" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="23232" href="/lia/part0/Booleans/#367" class="Function Operator">⌟</a> <a id="23234" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="23236" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a>
<a id="23239" class="Symbol">_</a> <a id="23241" class="Symbol">=</a> <a id="23243" class="Symbol">λ{</a><a id="23245" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="23250" class="Symbol">→</a> <a id="23252" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="23256" class="Symbol">}</a>

<a id="23259" href="/lia/part1/Semantics/#23259" class="Function">_</a> <a id="23261" class="Symbol">:</a> <a id="23263" href="/lia/part1/Semantics/#1058" class="Function">n</a> <a id="23265" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="23267" class="Number">3</a> <a id="23269" class="Symbol">→</a> <a id="23271" href="/lia/part0/Booleans/#367" class="Function Operator">⌞</a> <a id="23273" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="23275" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="23278" href="/lia/part1/Semantics/#22886" class="Function Operator">⇛?</a> <a id="23281" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="23283" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="23286" href="/lia/part0/Booleans/#367" class="Function Operator">⌟</a> <a id="23288" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="23290" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a>
<a id="23293" class="Symbol">_</a> <a id="23295" class="Symbol">=</a> <a id="23297" class="Symbol">λ{</a><a id="23299" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="23304" class="Symbol">→</a> <a id="23306" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="23310" class="Symbol">}</a>

<a id="23313" href="/lia/part1/Semantics/#23313" class="Function">_</a> <a id="23315" class="Symbol">:</a> <a id="23317" href="/lia/part1/Semantics/#1058" class="Function">n</a> <a id="23319" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="23321" class="Number">3</a> <a id="23323" class="Symbol">→</a> <a id="23325" href="/lia/part0/Booleans/#367" class="Function Operator">⌞</a> <a id="23327" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="23329" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="23332" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="23334" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="23336" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="23339" href="/lia/part1/Semantics/#22962" class="Function Operator">⟺?</a> <a id="23342" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="23344" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="23347" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="23349" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="23351" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="23354" href="/lia/part0/Booleans/#367" class="Function Operator">⌟</a> <a id="23356" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="23358" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a>
<a id="23361" class="Symbol">_</a> <a id="23363" class="Symbol">=</a> <a id="23365" class="Symbol">λ{</a><a id="23367" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="23372" class="Symbol">→</a> <a id="23374" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="23378" class="Symbol">}</a></pre>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:entailment-preorder" class="pandoc-numbering-text exercise"><strong>Exercise 8</strong> <em>(Entailment is a preorder)</em></span></dt>
    <dd>Prove that the entailment relation is a preorder:</dd>
  </dl>

  <pre class="Agda"><a id="refl-⇛"></a><a id="23568" href="/lia/part1/Semantics/#23568" class="Function">refl-⇛</a> <a id="23575" class="Symbol">:</a> <a id="23577" class="Symbol">∀</a> <a id="23579" href="/lia/part1/Semantics/#23579" class="Bound">φ</a> <a id="23581" class="Symbol">→</a> <a id="23583" href="/lia/part1/Semantics/#23579" class="Bound">φ</a> <a id="23585" href="/lia/part1/Semantics/#22369" class="Function Operator">⇛</a> <a id="23587" href="/lia/part1/Semantics/#23579" class="Bound">φ</a>
<a id="trans-⇛"></a><a id="23589" href="/lia/part1/Semantics/#23589" class="Function">trans-⇛</a> <a id="23597" class="Symbol">:</a> <a id="23599" class="Symbol">∀</a> <a id="23601" href="/lia/part1/Semantics/#23601" class="Bound">φ</a> <a id="23603" href="/lia/part1/Semantics/#23603" class="Bound">ψ</a> <a id="23605" href="/lia/part1/Semantics/#23605" class="Bound">ξ</a> <a id="23607" class="Symbol">→</a> <a id="23609" href="/lia/part1/Semantics/#23601" class="Bound">φ</a> <a id="23611" href="/lia/part1/Semantics/#22369" class="Function Operator">⇛</a> <a id="23613" href="/lia/part1/Semantics/#23603" class="Bound">ψ</a> <a id="23615" class="Symbol">→</a> <a id="23617" href="/lia/part1/Semantics/#23603" class="Bound">ψ</a> <a id="23619" href="/lia/part1/Semantics/#22369" class="Function Operator">⇛</a> <a id="23621" href="/lia/part1/Semantics/#23605" class="Bound">ξ</a> <a id="23623" class="Symbol">→</a> <a id="23625" href="/lia/part1/Semantics/#23601" class="Bound">φ</a> <a id="23627" href="/lia/part1/Semantics/#22369" class="Function Operator">⇛</a> <a id="23629" href="/lia/part1/Semantics/#23605" class="Bound">ξ</a></pre>
  <pre data-executable="true" data-language="agda" id="part1.Semantics.entailment-preorder">
module part1.Semantics.entailment-preorder where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (refl-⇛ to refl-⇛-orig; trans-⇛ to trans-⇛-orig)

refl-⇛ : typeOf refl-⇛-orig
trans-⇛ : typeOf trans-⇛-orig

-- BEGIN SOLUTION
refl-⇛ = ?
trans-⇛ = ?</pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:entailment-preorder-solution)
:::::::
-->

</div>

<p>The fact that entailment is a preodrer implies immediately that logical
equivalence is also a prerorder.</p>

<pre class="Agda"><a id="refl-⟺"></a><a id="24046" href="/lia/part1/Semantics/#24046" class="Function">refl-⟺</a> <a id="24053" class="Symbol">:</a> <a id="24055" class="Symbol">∀</a> <a id="24057" href="/lia/part1/Semantics/#24057" class="Bound">φ</a> <a id="24059" class="Symbol">→</a> <a id="24061" href="/lia/part1/Semantics/#24057" class="Bound">φ</a> <a id="24063" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="24065" href="/lia/part1/Semantics/#24057" class="Bound">φ</a>
<a id="sym-⟺"></a><a id="24067" href="/lia/part1/Semantics/#24067" class="Function">sym-⟺</a> <a id="24073" class="Symbol">:</a> <a id="24075" class="Symbol">∀</a> <a id="24077" href="/lia/part1/Semantics/#24077" class="Bound">φ</a> <a id="24079" href="/lia/part1/Semantics/#24079" class="Bound">ψ</a> <a id="24081" class="Symbol">→</a> <a id="24083" href="/lia/part1/Semantics/#24077" class="Bound">φ</a> <a id="24085" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="24087" href="/lia/part1/Semantics/#24079" class="Bound">ψ</a> <a id="24089" class="Symbol">→</a> <a id="24091" href="/lia/part1/Semantics/#24079" class="Bound">ψ</a> <a id="24093" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="24095" href="/lia/part1/Semantics/#24077" class="Bound">φ</a>
<a id="trans-⟺"></a><a id="24097" href="/lia/part1/Semantics/#24097" class="Function">trans-⟺</a> <a id="24105" class="Symbol">:</a> <a id="24107" class="Symbol">∀</a> <a id="24109" href="/lia/part1/Semantics/#24109" class="Bound">φ</a> <a id="24111" href="/lia/part1/Semantics/#24111" class="Bound">ψ</a> <a id="24113" href="/lia/part1/Semantics/#24113" class="Bound">ξ</a> <a id="24115" class="Symbol">→</a> <a id="24117" href="/lia/part1/Semantics/#24109" class="Bound">φ</a> <a id="24119" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="24121" href="/lia/part1/Semantics/#24111" class="Bound">ψ</a> <a id="24123" class="Symbol">→</a> <a id="24125" href="/lia/part1/Semantics/#24111" class="Bound">ψ</a> <a id="24127" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="24129" href="/lia/part1/Semantics/#24113" class="Bound">ξ</a> <a id="24131" class="Symbol">→</a> <a id="24133" href="/lia/part1/Semantics/#24109" class="Bound">φ</a> <a id="24135" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="24137" href="/lia/part1/Semantics/#24113" class="Bound">ξ</a></pre>

<div class="introbox">

  <p><button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="24182" href="/lia/part1/Semantics/#24046" class="Function">refl-⟺</a> <a id="24189" class="Symbol">=</a> <a id="24191" class="Symbol">{!!}</a>
<a id="24196" href="/lia/part1/Semantics/#24097" class="Function">trans-⟺</a> <a id="24204" class="Symbol">=</a> <a id="24206" class="Symbol">{!!}</a>
<a id="24211" href="/lia/part1/Semantics/#24067" class="Function">sym-⟺</a> <a id="24217" class="Symbol">=</a> <a id="24219" class="Symbol">{!!}</a></pre>

</div>

<p>There is a simple reprhasing of tautology in terms of logical
equivalence. A formula <code class="language-plaintext highlighter-rouge">φ</code> is a tautology iff it is logically equivalent
to <a href="#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> :</p>

<pre class="Agda"><a id="tautology-equivalence"></a><a id="24399" href="/lia/part1/Semantics/#24399" class="Function">tautology-equivalence</a> <a id="24421" class="Symbol">:</a> <a id="24423" class="Symbol">∀</a> <a id="24425" href="/lia/part1/Semantics/#24425" class="Bound">φ</a> <a id="24427" class="Symbol">→</a> <a id="24429" href="/lia/part1/Semantics/#19630" class="Function">Tautology</a> <a id="24439" href="/lia/part1/Semantics/#24425" class="Bound">φ</a> <a id="24441" href="/lia/part0/Logic/#3145" class="Function Operator">↔</a> <a id="24443" href="/lia/part1/Semantics/#24425" class="Bound">φ</a> <a id="24445" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="24447" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>
<a id="24449" href="/lia/part1/Semantics/#24399" class="Function">tautology-equivalence</a> <a id="24471" href="/lia/part1/Semantics/#24471" class="Bound">φ</a> <a id="24473" class="Symbol">=</a> <a id="24475" class="Symbol">(λ</a> <a id="24478" href="/lia/part1/Semantics/#24478" class="Bound">tau</a> <a id="24482" href="/lia/part1/Semantics/#24482" class="Bound">ϱ</a> <a id="24484" class="Symbol">→</a> <a id="24486" href="/lia/part1/Semantics/#24478" class="Bound">tau</a> <a id="24490" href="/lia/part1/Semantics/#24482" class="Bound">ϱ</a><a id="24491" class="Symbol">)</a> <a id="24493" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="24495" class="Symbol">λ</a> <a id="24497" href="/lia/part1/Semantics/#24497" class="Bound">φ⟺⊤</a> <a id="24501" href="/lia/part1/Semantics/#24501" class="Bound">ϱ</a> <a id="24503" class="Symbol">→</a> <a id="24505" href="/lia/part1/Semantics/#24497" class="Bound">φ⟺⊤</a> <a id="24509" href="/lia/part1/Semantics/#24501" class="Bound">ϱ</a></pre>

<p>While quite evident by itself, the equivalence above does find its
applications, such as in
<a href="../../part1/CharacteristicFormulas#duality-tautology"><code class="language-plaintext highlighter-rouge">duality-tautology</code></a>
.</p>

<p>TODO: put this in context:</p>

<pre class="Agda"><a id="tautology-impl"></a><a id="24703" href="/lia/part1/Semantics/#24703" class="Function">tautology-impl</a> <a id="24718" class="Symbol">:</a> 
  <a id="24723" href="/lia/part1/Semantics/#19630" class="Function">Tautology</a> <a id="24733" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="24735" class="Symbol">→</a>
  <a id="24739" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="24741" href="/lia/part1/Semantics/#22369" class="Function Operator">⇛</a> <a id="24743" href="/lia/part1/Semantics/#3737" class="Generalizable">ψ</a> <a id="24745" class="Symbol">→</a>
  <a id="24749" class="Comment">------------</a>
  <a id="24764" href="/lia/part1/Semantics/#19630" class="Function">Tautology</a> <a id="24774" href="/lia/part1/Semantics/#3737" class="Generalizable">ψ</a>

<a id="24777" href="/lia/part1/Semantics/#24703" class="Function">tautology-impl</a> <a id="24792" class="Symbol">=</a> <a id="24794" class="Symbol">{!   !}</a></pre>

<p>The following exercise explores a converse relationship between
entailment/equivalnce and tautology.</p>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:entailment-implication" class="pandoc-numbering-text exercise"><strong>Exercise 9</strong> <em>(Entailment and implication)</em></span></dt>
    <dd>The typographic similarity betwee entailment and implication, and
similarly for equivalence and bi-implication, is explained by the
following connection with tautology:</dd>
  </dl>

  <pre class="Agda"><a id="entailment-implication"></a><a id="25217" href="/lia/part1/Semantics/#25217" class="Function">entailment-implication</a> <a id="25240" class="Symbol">:</a> <a id="25242" class="Symbol">∀</a> <a id="25244" href="/lia/part1/Semantics/#25244" class="Bound">φ</a> <a id="25246" href="/lia/part1/Semantics/#25246" class="Bound">ψ</a> <a id="25248" class="Symbol">→</a> <a id="25250" href="/lia/part1/Semantics/#25244" class="Bound">φ</a> <a id="25252" href="/lia/part1/Semantics/#22369" class="Function Operator">⇛</a> <a id="25254" href="/lia/part1/Semantics/#25246" class="Bound">ψ</a> <a id="25256" href="/lia/part0/Logic/#3145" class="Function Operator">↔</a> <a id="25258" href="/lia/part1/Semantics/#19630" class="Function">Tautology</a> <a id="25268" class="Symbol">(</a><a id="25269" href="/lia/part1/Semantics/#25244" class="Bound">φ</a> <a id="25271" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="25273" href="/lia/part1/Semantics/#25246" class="Bound">ψ</a><a id="25274" class="Symbol">)</a>
<a id="entailment-equivalence"></a><a id="25276" href="/lia/part1/Semantics/#25276" class="Function">entailment-equivalence</a> <a id="25299" class="Symbol">:</a> <a id="25301" class="Symbol">∀</a> <a id="25303" href="/lia/part1/Semantics/#25303" class="Bound">φ</a> <a id="25305" href="/lia/part1/Semantics/#25305" class="Bound">ψ</a> <a id="25307" class="Symbol">→</a> <a id="25309" href="/lia/part1/Semantics/#25303" class="Bound">φ</a> <a id="25311" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="25313" href="/lia/part1/Semantics/#25305" class="Bound">ψ</a> <a id="25315" href="/lia/part0/Logic/#3145" class="Function Operator">↔</a> <a id="25317" href="/lia/part1/Semantics/#19630" class="Function">Tautology</a> <a id="25327" class="Symbol">(</a><a id="25328" href="/lia/part1/Semantics/#25303" class="Bound">φ</a> <a id="25330" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="25332" href="/lia/part1/Semantics/#25305" class="Bound">ψ</a><a id="25333" class="Symbol">)</a></pre>
  <pre data-executable="true" data-language="agda" id="part1.Semantics.entailment-implication">
module part1.Semantics.entailment-implication where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (entailment-implication to entailment-implication-orig; entailment-equivalence to entailment-equivalence-orig)

entailment-implication : typeOf entailment-implication-orig
entailment-equivalence : typeOf entailment-equivalence-orig

-- BEGIN SOLUTION
entailment-implication = ?
entailment-equivalence = ?</pre>

  <p>Prove the two properties above. <span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:entailment-implication-solution)
:::::::
-->

</div>

<p>Some equivalences require no computation at all:</p>

<pre class="Agda"><a id="¬¬⊤⟺⊤"></a><a id="26633" href="/lia/part1/Semantics/#26633" class="Function">¬¬⊤⟺⊤</a> <a id="26639" class="Symbol">:</a> <a id="26641" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="26643" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="26645" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="26647" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="26649" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>
<a id="26651" href="/lia/part1/Semantics/#26633" class="Function">¬¬⊤⟺⊤</a> <a id="26657" href="/lia/part1/Semantics/#26657" class="Bound">ϱ</a> <a id="26659" class="Symbol">=</a> <a id="26661" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

<p>More elaborate equivalences require marginally more work, as shown in
the next exercise.</p>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:common-equivalences" class="pandoc-numbering-text exercise"><strong>Exercise 10</strong> <em>(Common equivalences)</em></span></dt>
    <dd>Prove the following equivalences. <em>Hint:</em> Use the method of truth
tables.</dd>
  </dl>

  <pre class="Agda"><a id="idempotAnd"></a><a id="26958" href="/lia/part1/Semantics/#26958" class="Function">idempotAnd</a> <a id="26969" class="Symbol">:</a> <a id="26971" class="Symbol">∀</a> <a id="26973" href="/lia/part1/Semantics/#26973" class="Bound">φ</a> <a id="26975" class="Symbol">→</a> <a id="26977" href="/lia/part1/Semantics/#26973" class="Bound">φ</a> <a id="26979" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="26981" href="/lia/part1/Semantics/#26973" class="Bound">φ</a> <a id="26983" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="26985" href="/lia/part1/Semantics/#26973" class="Bound">φ</a>

<a id="commAnd"></a><a id="26988" href="/lia/part1/Semantics/#26988" class="Function">commAnd</a> <a id="26996" class="Symbol">:</a> <a id="26998" class="Symbol">∀</a> <a id="27000" href="/lia/part1/Semantics/#27000" class="Bound">φ</a> <a id="27002" href="/lia/part1/Semantics/#27002" class="Bound">ψ</a> <a id="27004" class="Symbol">→</a> <a id="27006" href="/lia/part1/Semantics/#27000" class="Bound">φ</a> <a id="27008" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="27010" href="/lia/part1/Semantics/#27002" class="Bound">ψ</a> <a id="27012" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="27014" href="/lia/part1/Semantics/#27002" class="Bound">ψ</a> <a id="27016" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="27018" href="/lia/part1/Semantics/#27000" class="Bound">φ</a>
<a id="commOr"></a><a id="27020" href="/lia/part1/Semantics/#27020" class="Function">commOr</a> <a id="27027" class="Symbol">:</a> <a id="27029" class="Symbol">∀</a> <a id="27031" href="/lia/part1/Semantics/#27031" class="Bound">φ</a> <a id="27033" href="/lia/part1/Semantics/#27033" class="Bound">ψ</a> <a id="27035" class="Symbol">→</a> <a id="27037" href="/lia/part1/Semantics/#27031" class="Bound">φ</a> <a id="27039" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="27041" href="/lia/part1/Semantics/#27033" class="Bound">ψ</a> <a id="27043" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="27045" href="/lia/part1/Semantics/#27033" class="Bound">ψ</a> <a id="27047" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="27049" href="/lia/part1/Semantics/#27031" class="Bound">φ</a>

<a id="assocOr"></a><a id="27052" href="/lia/part1/Semantics/#27052" class="Function">assocOr</a> <a id="27060" class="Symbol">:</a> <a id="27062" class="Symbol">∀</a> <a id="27064" href="/lia/part1/Semantics/#27064" class="Bound">φ</a> <a id="27066" href="/lia/part1/Semantics/#27066" class="Bound">ψ</a> <a id="27068" href="/lia/part1/Semantics/#27068" class="Bound">ξ</a> <a id="27070" class="Symbol">→</a> <a id="27072" class="Symbol">(</a><a id="27073" href="/lia/part1/Semantics/#27064" class="Bound">φ</a> <a id="27075" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="27077" href="/lia/part1/Semantics/#27066" class="Bound">ψ</a><a id="27078" class="Symbol">)</a> <a id="27080" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="27082" href="/lia/part1/Semantics/#27068" class="Bound">ξ</a> <a id="27084" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="27086" href="/lia/part1/Semantics/#27064" class="Bound">φ</a> <a id="27088" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="27090" href="/lia/part1/Semantics/#27066" class="Bound">ψ</a> <a id="27092" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="27094" href="/lia/part1/Semantics/#27068" class="Bound">ξ</a>
<a id="assocAnd"></a><a id="27096" href="/lia/part1/Semantics/#27096" class="Function">assocAnd</a> <a id="27105" class="Symbol">:</a> <a id="27107" class="Symbol">∀</a> <a id="27109" href="/lia/part1/Semantics/#27109" class="Bound">φ</a> <a id="27111" href="/lia/part1/Semantics/#27111" class="Bound">ψ</a> <a id="27113" href="/lia/part1/Semantics/#27113" class="Bound">ξ</a> <a id="27115" class="Symbol">→</a> <a id="27117" class="Symbol">(</a><a id="27118" href="/lia/part1/Semantics/#27109" class="Bound">φ</a> <a id="27120" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="27122" href="/lia/part1/Semantics/#27111" class="Bound">ψ</a><a id="27123" class="Symbol">)</a> <a id="27125" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="27127" href="/lia/part1/Semantics/#27113" class="Bound">ξ</a> <a id="27129" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="27131" href="/lia/part1/Semantics/#27109" class="Bound">φ</a> <a id="27133" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="27135" href="/lia/part1/Semantics/#27111" class="Bound">ψ</a> <a id="27137" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="27139" href="/lia/part1/Semantics/#27113" class="Bound">ξ</a>

<a id="distrAndOr-left"></a><a id="27142" href="/lia/part1/Semantics/#27142" class="Function">distrAndOr-left</a> <a id="27158" class="Symbol">:</a> <a id="27160" class="Symbol">∀</a> <a id="27162" href="/lia/part1/Semantics/#27162" class="Bound">φ</a> <a id="27164" href="/lia/part1/Semantics/#27164" class="Bound">ψ</a> <a id="27166" href="/lia/part1/Semantics/#27166" class="Bound">ξ</a> <a id="27168" class="Symbol">→</a> <a id="27170" href="/lia/part1/Semantics/#27162" class="Bound">φ</a> <a id="27172" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="27174" class="Symbol">(</a><a id="27175" href="/lia/part1/Semantics/#27164" class="Bound">ψ</a> <a id="27177" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="27179" href="/lia/part1/Semantics/#27166" class="Bound">ξ</a><a id="27180" class="Symbol">)</a> <a id="27182" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="27184" href="/lia/part1/Semantics/#27162" class="Bound">φ</a> <a id="27186" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="27188" href="/lia/part1/Semantics/#27164" class="Bound">ψ</a> <a id="27190" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="27192" href="/lia/part1/Semantics/#27162" class="Bound">φ</a> <a id="27194" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="27196" href="/lia/part1/Semantics/#27166" class="Bound">ξ</a>
<a id="distrAndOr-right"></a><a id="27198" href="/lia/part1/Semantics/#27198" class="Function">distrAndOr-right</a> <a id="27215" class="Symbol">:</a> <a id="27217" class="Symbol">∀</a> <a id="27219" href="/lia/part1/Semantics/#27219" class="Bound">φ</a> <a id="27221" href="/lia/part1/Semantics/#27221" class="Bound">ψ</a> <a id="27223" href="/lia/part1/Semantics/#27223" class="Bound">ξ</a> <a id="27225" class="Symbol">→</a> <a id="27227" class="Symbol">(</a><a id="27228" href="/lia/part1/Semantics/#27219" class="Bound">φ</a> <a id="27230" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="27232" href="/lia/part1/Semantics/#27221" class="Bound">ψ</a><a id="27233" class="Symbol">)</a> <a id="27235" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="27237" href="/lia/part1/Semantics/#27223" class="Bound">ξ</a> <a id="27239" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="27241" href="/lia/part1/Semantics/#27219" class="Bound">φ</a> <a id="27243" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="27245" href="/lia/part1/Semantics/#27223" class="Bound">ξ</a> <a id="27247" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="27249" href="/lia/part1/Semantics/#27221" class="Bound">ψ</a> <a id="27251" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="27253" href="/lia/part1/Semantics/#27223" class="Bound">ξ</a>

<a id="expandImplies"></a><a id="27256" href="/lia/part1/Semantics/#27256" class="Function">expandImplies</a> <a id="27270" class="Symbol">:</a> <a id="27272" class="Symbol">∀</a> <a id="27274" href="/lia/part1/Semantics/#27274" class="Bound">φ</a> <a id="27276" href="/lia/part1/Semantics/#27276" class="Bound">ψ</a> <a id="27278" class="Symbol">→</a> <a id="27280" href="/lia/part1/Semantics/#27274" class="Bound">φ</a> <a id="27282" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="27284" href="/lia/part1/Semantics/#27276" class="Bound">ψ</a> <a id="27286" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="27288" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27290" href="/lia/part1/Semantics/#27274" class="Bound">φ</a> <a id="27292" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="27294" href="/lia/part1/Semantics/#27276" class="Bound">ψ</a>
<a id="expandIff"></a><a id="27296" href="/lia/part1/Semantics/#27296" class="Function">expandIff</a> <a id="27306" class="Symbol">:</a> <a id="27308" class="Symbol">∀</a> <a id="27310" href="/lia/part1/Semantics/#27310" class="Bound">φ</a> <a id="27312" href="/lia/part1/Semantics/#27312" class="Bound">ψ</a> <a id="27314" class="Symbol">→</a> <a id="27316" href="/lia/part1/Semantics/#27310" class="Bound">φ</a> <a id="27318" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="27320" href="/lia/part1/Semantics/#27312" class="Bound">ψ</a> <a id="27322" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="27324" class="Symbol">(</a><a id="27325" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27327" href="/lia/part1/Semantics/#27310" class="Bound">φ</a> <a id="27329" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="27331" href="/lia/part1/Semantics/#27312" class="Bound">ψ</a><a id="27332" class="Symbol">)</a> <a id="27334" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="27336" class="Symbol">(</a><a id="27337" href="/lia/part1/Semantics/#27310" class="Bound">φ</a> <a id="27339" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="27341" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27343" href="/lia/part1/Semantics/#27312" class="Bound">ψ</a><a id="27344" class="Symbol">)</a>

<a id="doubleNegationLaw"></a><a id="27347" href="/lia/part1/Semantics/#27347" class="Function">doubleNegationLaw</a> <a id="27365" class="Symbol">:</a> <a id="27367" class="Symbol">∀</a> <a id="27369" href="/lia/part1/Semantics/#27369" class="Bound">φ</a> <a id="27371" class="Symbol">→</a> <a id="27373" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27375" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27377" href="/lia/part1/Semantics/#27369" class="Bound">φ</a> <a id="27379" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="27381" href="/lia/part1/Semantics/#27369" class="Bound">φ</a>
<a id="deMorganAnd"></a><a id="27383" href="/lia/part1/Semantics/#27383" class="Function">deMorganAnd</a> <a id="27395" class="Symbol">:</a> <a id="27397" class="Symbol">∀</a> <a id="27399" href="/lia/part1/Semantics/#27399" class="Bound">φ</a> <a id="27401" href="/lia/part1/Semantics/#27401" class="Bound">ψ</a> <a id="27403" class="Symbol">→</a> <a id="27405" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27407" class="Symbol">(</a><a id="27408" href="/lia/part1/Semantics/#27399" class="Bound">φ</a> <a id="27410" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="27412" href="/lia/part1/Semantics/#27401" class="Bound">ψ</a><a id="27413" class="Symbol">)</a> <a id="27415" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="27417" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27419" href="/lia/part1/Semantics/#27399" class="Bound">φ</a> <a id="27421" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="27423" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27425" href="/lia/part1/Semantics/#27401" class="Bound">ψ</a>
<a id="deMorganOr"></a><a id="27427" href="/lia/part1/Semantics/#27427" class="Function">deMorganOr</a> <a id="27438" class="Symbol">:</a> <a id="27440" class="Symbol">∀</a> <a id="27442" href="/lia/part1/Semantics/#27442" class="Bound">φ</a> <a id="27444" href="/lia/part1/Semantics/#27444" class="Bound">ψ</a> <a id="27446" class="Symbol">→</a> <a id="27448" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27450" class="Symbol">(</a><a id="27451" href="/lia/part1/Semantics/#27442" class="Bound">φ</a> <a id="27453" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="27455" href="/lia/part1/Semantics/#27444" class="Bound">ψ</a><a id="27456" class="Symbol">)</a> <a id="27458" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="27460" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27462" href="/lia/part1/Semantics/#27442" class="Bound">φ</a> <a id="27464" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="27466" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27468" href="/lia/part1/Semantics/#27444" class="Bound">ψ</a>
<a id="deMorganOr-alt"></a><a id="27470" href="/lia/part1/Semantics/#27470" class="Function">deMorganOr-alt</a> <a id="27485" class="Symbol">:</a> <a id="27487" class="Symbol">∀</a> <a id="27489" href="/lia/part1/Semantics/#27489" class="Bound">φ</a> <a id="27491" href="/lia/part1/Semantics/#27491" class="Bound">ψ</a> <a id="27493" class="Symbol">→</a> <a id="27495" href="/lia/part1/Semantics/#27489" class="Bound">φ</a> <a id="27497" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="27499" href="/lia/part1/Semantics/#27491" class="Bound">ψ</a> <a id="27501" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="27503" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27505" class="Symbol">(</a><a id="27506" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27508" href="/lia/part1/Semantics/#27489" class="Bound">φ</a> <a id="27510" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="27512" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27514" href="/lia/part1/Semantics/#27491" class="Bound">ψ</a><a id="27515" class="Symbol">)</a>
<a id="deMorganImplies"></a><a id="27517" href="/lia/part1/Semantics/#27517" class="Function">deMorganImplies</a> <a id="27533" class="Symbol">:</a> <a id="27535" class="Symbol">∀</a> <a id="27537" href="/lia/part1/Semantics/#27537" class="Bound">φ</a> <a id="27539" href="/lia/part1/Semantics/#27539" class="Bound">ψ</a> <a id="27541" class="Symbol">→</a> <a id="27543" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27545" class="Symbol">(</a><a id="27546" href="/lia/part1/Semantics/#27537" class="Bound">φ</a> <a id="27548" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="27550" href="/lia/part1/Semantics/#27539" class="Bound">ψ</a><a id="27551" class="Symbol">)</a> <a id="27553" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="27555" href="/lia/part1/Semantics/#27537" class="Bound">φ</a> <a id="27557" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="27559" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27561" href="/lia/part1/Semantics/#27539" class="Bound">ψ</a>
<a id="deMorganIff-left"></a><a id="27563" href="/lia/part1/Semantics/#27563" class="Function">deMorganIff-left</a> <a id="27580" class="Symbol">:</a> <a id="27582" class="Symbol">∀</a> <a id="27584" href="/lia/part1/Semantics/#27584" class="Bound">φ</a> <a id="27586" href="/lia/part1/Semantics/#27586" class="Bound">ψ</a> <a id="27588" class="Symbol">→</a> <a id="27590" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27592" class="Symbol">(</a><a id="27593" href="/lia/part1/Semantics/#27584" class="Bound">φ</a> <a id="27595" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="27597" href="/lia/part1/Semantics/#27586" class="Bound">ψ</a><a id="27598" class="Symbol">)</a> <a id="27600" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="27602" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27604" href="/lia/part1/Semantics/#27584" class="Bound">φ</a> <a id="27606" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="27608" href="/lia/part1/Semantics/#27586" class="Bound">ψ</a>
<a id="deMorganIff-right"></a><a id="27610" href="/lia/part1/Semantics/#27610" class="Function">deMorganIff-right</a> <a id="27628" class="Symbol">:</a> <a id="27630" class="Symbol">∀</a> <a id="27632" href="/lia/part1/Semantics/#27632" class="Bound">φ</a> <a id="27634" href="/lia/part1/Semantics/#27634" class="Bound">ψ</a> <a id="27636" class="Symbol">→</a> <a id="27638" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27640" class="Symbol">(</a><a id="27641" href="/lia/part1/Semantics/#27632" class="Bound">φ</a> <a id="27643" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="27645" href="/lia/part1/Semantics/#27634" class="Bound">ψ</a><a id="27646" class="Symbol">)</a> <a id="27648" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="27650" href="/lia/part1/Semantics/#27632" class="Bound">φ</a> <a id="27652" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="27654" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="27656" href="/lia/part1/Semantics/#27634" class="Bound">ψ</a></pre>
  <pre data-executable="true" data-language="agda" id="part1.Semantics.common-equivalences">
module part1.Semantics.common-equivalences where
open import TypeOf
open import part1.Semantics renaming (idempotAnd to idempotAnd-orig; commAnd to commAnd-orig; commOr to commOr-orig)

idempotAnd : typeOf idempotAnd-orig
commAnd : typeOf commAnd-orig
commOr : typeOf commOr-orig

-- BEGIN SOLUTION
idempotAnd = ?
commAnd  = ?
commOr = ?</pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:common-equivalences-solution)
:::::::
-->

</div>

<h3 id="equivalence-is-a-congruence">Equivalence is a congruence</h3>

<p>Logical equivalence is a <em>congruence</em>, in the sense that replacing a
formula with an equivalent one preserves the semantics:</p>

<pre class="Agda"><a id="congF"></a><a id="29876" href="/lia/part1/Semantics/#29876" class="Function">congF</a> <a id="29882" class="Symbol">:</a> <a id="29884" class="Symbol">∀</a> <a id="29886" href="/lia/part1/Semantics/#29886" class="Bound">φ</a> <a id="29888" href="/lia/part1/Semantics/#29888" class="Bound">ψ</a> <a id="29890" href="/lia/part1/Semantics/#29890" class="Bound">ξ</a> <a id="29892" href="/lia/part1/Semantics/#29892" class="Bound">p</a> <a id="29894" class="Symbol">→</a>
  <a id="29898" href="/lia/part1/Semantics/#29886" class="Bound">φ</a> <a id="29900" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="29902" href="/lia/part1/Semantics/#29888" class="Bound">ψ</a> <a id="29904" class="Symbol">→</a>
  <a id="29908" class="Comment">-----------------------------</a>
  <a id="29940" href="/lia/part1/Semantics/#29890" class="Bound">ξ</a> <a id="29942" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="29945" href="/lia/part1/Semantics/#29892" class="Bound">p</a> <a id="29947" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="29949" href="/lia/part1/Semantics/#29886" class="Bound">φ</a> <a id="29951" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a> <a id="29953" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="29955" href="/lia/part1/Semantics/#29890" class="Bound">ξ</a> <a id="29957" href="/lia/part1/Semantics/#11826" class="Function Operator">F[</a> <a id="29960" href="/lia/part1/Semantics/#29892" class="Bound">p</a> <a id="29962" href="/lia/part1/Semantics/#11826" class="Function Operator">↦</a> <a id="29964" href="/lia/part1/Semantics/#29888" class="Bound">ψ</a> <a id="29966" href="/lia/part1/Semantics/#11826" class="Function Operator">]</a></pre>

<div class="introbox">

  <p>The proof follows a straightforward structural induction.
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="30209" href="/lia/part1/Semantics/#29876" class="Function">congF</a> <a id="30215" class="Symbol">_</a> <a id="30217" class="Symbol">_</a> <a id="30219" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="30221" href="/lia/part1/Semantics/#30221" class="Bound">p</a> <a id="30223" href="/lia/part1/Semantics/#30223" class="Bound">φ⟺ψ</a> <a id="30227" href="/lia/part1/Semantics/#30227" class="Bound">ϱ</a> <a id="30229" class="Symbol">=</a> <a id="30231" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="30237" href="/lia/part1/Semantics/#29876" class="Function">congF</a> <a id="30243" class="Symbol">_</a> <a id="30245" class="Symbol">_</a> <a id="30247" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="30249" href="/lia/part1/Semantics/#30249" class="Bound">p</a> <a id="30251" href="/lia/part1/Semantics/#30251" class="Bound">φ⟺ψ</a> <a id="30255" href="/lia/part1/Semantics/#30255" class="Bound">ϱ</a> <a id="30257" class="Symbol">=</a> <a id="30259" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="30265" href="/lia/part1/Semantics/#29876" class="Function">congF</a> <a id="30271" class="Symbol">_</a> <a id="30273" class="Symbol">_</a> <a id="30275" class="Symbol">(</a><a id="30276" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="30278" href="/lia/part1/Semantics/#30278" class="Bound">q</a><a id="30279" class="Symbol">)</a> <a id="30281" href="/lia/part1/Semantics/#30281" class="Bound">p</a> <a id="30283" href="/lia/part1/Semantics/#30283" class="Bound">φ⟺ψ</a> <a id="30287" href="/lia/part1/Semantics/#30287" class="Bound">ϱ</a>
  <a id="30291" class="Keyword">with</a> <a id="30296" href="/lia/part1/Semantics/#30281" class="Bound">p</a> <a id="30298" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="30301" href="/lia/part1/Semantics/#30278" class="Bound">q</a>
<a id="30303" class="Symbol">...</a> <a id="30307" class="Symbol">|</a> <a id="30309" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="30313" class="Symbol">_</a> <a id="30315" class="Symbol">=</a> <a id="30317" class="Bound">φ⟺ψ</a> <a id="30321" class="Bound">ϱ</a>
<a id="30323" class="Symbol">...</a> <a id="30327" class="Symbol">|</a> <a id="30329" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="30332" class="Symbol">_</a> <a id="30334" class="Symbol">=</a> <a id="30336" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="30342" href="/lia/part1/Semantics/#29876" class="Function">congF</a> <a id="30348" href="/lia/part1/Semantics/#30348" class="Bound">φ</a> <a id="30350" href="/lia/part1/Semantics/#30350" class="Bound">ψ</a> <a id="30352" class="Symbol">(</a><a id="30353" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="30355" href="/lia/part1/Semantics/#30355" class="Bound">ξ</a><a id="30356" class="Symbol">)</a> <a id="30358" href="/lia/part1/Semantics/#30358" class="Bound">p</a> <a id="30360" href="/lia/part1/Semantics/#30360" class="Bound">φ⟺ψ</a> <a id="30364" href="/lia/part1/Semantics/#30364" class="Bound">ϱ</a>
  <a id="30368" class="Keyword">with</a> <a id="30373" href="/lia/part1/Semantics/#29876" class="Function">congF</a> <a id="30379" href="/lia/part1/Semantics/#30348" class="Bound">φ</a> <a id="30381" href="/lia/part1/Semantics/#30350" class="Bound">ψ</a> <a id="30383" href="/lia/part1/Semantics/#30355" class="Bound">ξ</a> <a id="30385" href="/lia/part1/Semantics/#30358" class="Bound">p</a> <a id="30387" href="/lia/part1/Semantics/#30360" class="Bound">φ⟺ψ</a> <a id="30391" href="/lia/part1/Semantics/#30364" class="Bound">ϱ</a>
<a id="30393" class="Symbol">...</a> <a id="30397" class="Symbol">|</a> <a id="30399" href="/lia/part1/Semantics/#30399" class="Bound">ind</a> <a id="30403" class="Keyword">rewrite</a> <a id="30411" href="/lia/part1/Semantics/#30399" class="Bound">ind</a> <a id="30415" class="Symbol">=</a> <a id="30417" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="30423" href="/lia/part1/Semantics/#29876" class="Function">congF</a> <a id="30429" href="/lia/part1/Semantics/#30429" class="Bound">φ</a> <a id="30431" href="/lia/part1/Semantics/#30431" class="Bound">ψ</a> <a id="30433" class="Symbol">(</a><a id="30434" href="/lia/part1/Semantics/#30434" class="Bound">ξ₀</a> <a id="30437" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="30439" href="/lia/part1/Semantics/#30439" class="Bound">ξ₁</a><a id="30441" class="Symbol">)</a> <a id="30443" href="/lia/part1/Semantics/#30443" class="Bound">p</a> <a id="30445" href="/lia/part1/Semantics/#30445" class="Bound">φ⟺ψ</a> <a id="30449" href="/lia/part1/Semantics/#30449" class="Bound">ϱ</a>
  <a id="30453" class="Keyword">with</a> <a id="30458" href="/lia/part1/Semantics/#29876" class="Function">congF</a> <a id="30464" href="/lia/part1/Semantics/#30429" class="Bound">φ</a> <a id="30466" href="/lia/part1/Semantics/#30431" class="Bound">ψ</a> <a id="30468" href="/lia/part1/Semantics/#30434" class="Bound">ξ₀</a> <a id="30471" href="/lia/part1/Semantics/#30443" class="Bound">p</a> <a id="30473" href="/lia/part1/Semantics/#30445" class="Bound">φ⟺ψ</a> <a id="30477" href="/lia/part1/Semantics/#30449" class="Bound">ϱ</a> <a id="30479" class="Symbol">|</a>
       <a id="30488" href="/lia/part1/Semantics/#29876" class="Function">congF</a> <a id="30494" href="/lia/part1/Semantics/#30429" class="Bound">φ</a> <a id="30496" href="/lia/part1/Semantics/#30431" class="Bound">ψ</a> <a id="30498" href="/lia/part1/Semantics/#30439" class="Bound">ξ₁</a> <a id="30501" href="/lia/part1/Semantics/#30443" class="Bound">p</a> <a id="30503" href="/lia/part1/Semantics/#30445" class="Bound">φ⟺ψ</a> <a id="30507" href="/lia/part1/Semantics/#30449" class="Bound">ϱ</a>
<a id="30509" class="Symbol">...</a> <a id="30513" class="Symbol">|</a> <a id="30515" href="/lia/part1/Semantics/#30515" class="Bound">ind₀</a> <a id="30520" class="Symbol">|</a> <a id="30522" href="/lia/part1/Semantics/#30522" class="Bound">ind₁</a> <a id="30527" class="Keyword">rewrite</a> <a id="30535" href="/lia/part1/Semantics/#30515" class="Bound">ind₀</a> <a id="30540" class="Symbol">|</a> <a id="30542" href="/lia/part1/Semantics/#30522" class="Bound">ind₁</a> <a id="30547" class="Symbol">=</a> <a id="30549" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="30555" href="/lia/part1/Semantics/#29876" class="Function">congF</a> <a id="30561" href="/lia/part1/Semantics/#30561" class="Bound">φ</a> <a id="30563" href="/lia/part1/Semantics/#30563" class="Bound">ψ</a> <a id="30565" class="Symbol">(</a><a id="30566" href="/lia/part1/Semantics/#30566" class="Bound">ξ₀</a> <a id="30569" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="30571" href="/lia/part1/Semantics/#30571" class="Bound">ξ₁</a><a id="30573" class="Symbol">)</a> <a id="30575" href="/lia/part1/Semantics/#30575" class="Bound">p</a> <a id="30577" href="/lia/part1/Semantics/#30577" class="Bound">φ⟺ψ</a> <a id="30581" href="/lia/part1/Semantics/#30581" class="Bound">ϱ</a>
  <a id="30585" class="Keyword">with</a> <a id="30590" href="/lia/part1/Semantics/#29876" class="Function">congF</a> <a id="30596" href="/lia/part1/Semantics/#30561" class="Bound">φ</a> <a id="30598" href="/lia/part1/Semantics/#30563" class="Bound">ψ</a> <a id="30600" href="/lia/part1/Semantics/#30566" class="Bound">ξ₀</a> <a id="30603" href="/lia/part1/Semantics/#30575" class="Bound">p</a> <a id="30605" href="/lia/part1/Semantics/#30577" class="Bound">φ⟺ψ</a> <a id="30609" href="/lia/part1/Semantics/#30581" class="Bound">ϱ</a> <a id="30611" class="Symbol">|</a>
       <a id="30620" href="/lia/part1/Semantics/#29876" class="Function">congF</a> <a id="30626" href="/lia/part1/Semantics/#30561" class="Bound">φ</a> <a id="30628" href="/lia/part1/Semantics/#30563" class="Bound">ψ</a> <a id="30630" href="/lia/part1/Semantics/#30571" class="Bound">ξ₁</a> <a id="30633" href="/lia/part1/Semantics/#30575" class="Bound">p</a> <a id="30635" href="/lia/part1/Semantics/#30577" class="Bound">φ⟺ψ</a> <a id="30639" href="/lia/part1/Semantics/#30581" class="Bound">ϱ</a>
<a id="30641" class="Symbol">...</a> <a id="30645" class="Symbol">|</a> <a id="30647" href="/lia/part1/Semantics/#30647" class="Bound">ind₀</a> <a id="30652" class="Symbol">|</a> <a id="30654" href="/lia/part1/Semantics/#30654" class="Bound">ind₁</a> <a id="30659" class="Keyword">rewrite</a> <a id="30667" href="/lia/part1/Semantics/#30647" class="Bound">ind₀</a> <a id="30672" class="Symbol">|</a> <a id="30674" href="/lia/part1/Semantics/#30654" class="Bound">ind₁</a> <a id="30679" class="Symbol">=</a> <a id="30681" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="30687" href="/lia/part1/Semantics/#29876" class="Function">congF</a> <a id="30693" href="/lia/part1/Semantics/#30693" class="Bound">φ</a> <a id="30695" href="/lia/part1/Semantics/#30695" class="Bound">ψ</a> <a id="30697" class="Symbol">(</a><a id="30698" href="/lia/part1/Semantics/#30698" class="Bound">ξ₀</a> <a id="30701" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="30703" href="/lia/part1/Semantics/#30703" class="Bound">ξ₁</a><a id="30705" class="Symbol">)</a> <a id="30707" href="/lia/part1/Semantics/#30707" class="Bound">p</a> <a id="30709" href="/lia/part1/Semantics/#30709" class="Bound">φ⟺ψ</a> <a id="30713" href="/lia/part1/Semantics/#30713" class="Bound">ϱ</a>
  <a id="30717" class="Keyword">with</a> <a id="30722" href="/lia/part1/Semantics/#29876" class="Function">congF</a> <a id="30728" href="/lia/part1/Semantics/#30693" class="Bound">φ</a> <a id="30730" href="/lia/part1/Semantics/#30695" class="Bound">ψ</a> <a id="30732" href="/lia/part1/Semantics/#30698" class="Bound">ξ₀</a> <a id="30735" href="/lia/part1/Semantics/#30707" class="Bound">p</a> <a id="30737" href="/lia/part1/Semantics/#30709" class="Bound">φ⟺ψ</a> <a id="30741" href="/lia/part1/Semantics/#30713" class="Bound">ϱ</a> <a id="30743" class="Symbol">|</a>
       <a id="30752" href="/lia/part1/Semantics/#29876" class="Function">congF</a> <a id="30758" href="/lia/part1/Semantics/#30693" class="Bound">φ</a> <a id="30760" href="/lia/part1/Semantics/#30695" class="Bound">ψ</a> <a id="30762" href="/lia/part1/Semantics/#30703" class="Bound">ξ₁</a> <a id="30765" href="/lia/part1/Semantics/#30707" class="Bound">p</a> <a id="30767" href="/lia/part1/Semantics/#30709" class="Bound">φ⟺ψ</a> <a id="30771" href="/lia/part1/Semantics/#30713" class="Bound">ϱ</a>
<a id="30773" class="Symbol">...</a> <a id="30777" class="Symbol">|</a> <a id="30779" href="/lia/part1/Semantics/#30779" class="Bound">ind₀</a> <a id="30784" class="Symbol">|</a> <a id="30786" href="/lia/part1/Semantics/#30786" class="Bound">ind₁</a> <a id="30791" class="Keyword">rewrite</a> <a id="30799" href="/lia/part1/Semantics/#30779" class="Bound">ind₀</a> <a id="30804" class="Symbol">|</a> <a id="30806" href="/lia/part1/Semantics/#30786" class="Bound">ind₁</a> <a id="30811" class="Symbol">=</a> <a id="30813" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="30819" href="/lia/part1/Semantics/#29876" class="Function">congF</a> <a id="30825" href="/lia/part1/Semantics/#30825" class="Bound">φ</a> <a id="30827" href="/lia/part1/Semantics/#30827" class="Bound">ψ</a> <a id="30829" class="Symbol">(</a><a id="30830" href="/lia/part1/Semantics/#30830" class="Bound">ξ₀</a> <a id="30833" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="30835" href="/lia/part1/Semantics/#30835" class="Bound">ξ₁</a><a id="30837" class="Symbol">)</a> <a id="30839" href="/lia/part1/Semantics/#30839" class="Bound">p</a> <a id="30841" href="/lia/part1/Semantics/#30841" class="Bound">φ⟺ψ</a> <a id="30845" href="/lia/part1/Semantics/#30845" class="Bound">ϱ</a>
  <a id="30849" class="Keyword">with</a> <a id="30854" href="/lia/part1/Semantics/#29876" class="Function">congF</a> <a id="30860" href="/lia/part1/Semantics/#30825" class="Bound">φ</a> <a id="30862" href="/lia/part1/Semantics/#30827" class="Bound">ψ</a> <a id="30864" href="/lia/part1/Semantics/#30830" class="Bound">ξ₀</a> <a id="30867" href="/lia/part1/Semantics/#30839" class="Bound">p</a> <a id="30869" href="/lia/part1/Semantics/#30841" class="Bound">φ⟺ψ</a> <a id="30873" href="/lia/part1/Semantics/#30845" class="Bound">ϱ</a> <a id="30875" class="Symbol">|</a>
       <a id="30884" href="/lia/part1/Semantics/#29876" class="Function">congF</a> <a id="30890" href="/lia/part1/Semantics/#30825" class="Bound">φ</a> <a id="30892" href="/lia/part1/Semantics/#30827" class="Bound">ψ</a> <a id="30894" href="/lia/part1/Semantics/#30835" class="Bound">ξ₁</a> <a id="30897" href="/lia/part1/Semantics/#30839" class="Bound">p</a> <a id="30899" href="/lia/part1/Semantics/#30841" class="Bound">φ⟺ψ</a> <a id="30903" href="/lia/part1/Semantics/#30845" class="Bound">ϱ</a>
<a id="30905" class="Symbol">...</a> <a id="30909" class="Symbol">|</a> <a id="30911" href="/lia/part1/Semantics/#30911" class="Bound">ind₀</a> <a id="30916" class="Symbol">|</a> <a id="30918" href="/lia/part1/Semantics/#30918" class="Bound">ind₁</a> <a id="30923" class="Keyword">rewrite</a> <a id="30931" href="/lia/part1/Semantics/#30911" class="Bound">ind₀</a> <a id="30936" class="Symbol">|</a> <a id="30938" href="/lia/part1/Semantics/#30918" class="Bound">ind₁</a> <a id="30943" class="Symbol">=</a> <a id="30945" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:cong2F" class="pandoc-numbering-text exercise"><strong>Exercise 11</strong></span></dt>
    <dd>Show that replacing <em>two</em> formulas with two equivalent ones in
parallel respects the semantics:</dd>
  </dl>

  <pre class="Agda"><a id="cong2F"></a><a id="31168" href="/lia/part1/Semantics/#31168" class="Function">cong2F</a> <a id="31175" class="Symbol">:</a> <a id="31177" class="Symbol">∀</a> <a id="31179" href="/lia/part1/Semantics/#31179" class="Bound">φ₀</a> <a id="31182" href="/lia/part1/Semantics/#31182" class="Bound">φ₁</a> <a id="31185" href="/lia/part1/Semantics/#31185" class="Bound">ψ₀</a> <a id="31188" href="/lia/part1/Semantics/#31188" class="Bound">ψ₁</a> <a id="31191" href="/lia/part1/Semantics/#31191" class="Bound">ξ</a> <a id="31193" href="/lia/part1/Semantics/#31193" class="Bound">p₀</a> <a id="31196" href="/lia/part1/Semantics/#31196" class="Bound">p₁</a> <a id="31199" class="Symbol">→</a>
  <a id="31203" href="/lia/part1/Semantics/#31179" class="Bound">φ₀</a> <a id="31206" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="31208" href="/lia/part1/Semantics/#31185" class="Bound">ψ₀</a> <a id="31211" class="Symbol">→</a>
  <a id="31215" href="/lia/part1/Semantics/#31182" class="Bound">φ₁</a> <a id="31218" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="31220" href="/lia/part1/Semantics/#31188" class="Bound">ψ₁</a> <a id="31223" class="Symbol">→</a>
  <a id="31227" class="Comment">-----------------------------------------------------</a>
  <a id="31283" href="/lia/part1/Semantics/#31191" class="Bound">ξ</a> <a id="31285" href="/lia/part1/Semantics/#13369" class="Function Operator">F2[</a> <a id="31289" href="/lia/part1/Semantics/#31193" class="Bound">p₀</a> <a id="31292" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="31294" href="/lia/part1/Semantics/#31196" class="Bound">p₁</a> <a id="31297" href="/lia/part1/Semantics/#13369" class="Function Operator">↦</a> <a id="31299" href="/lia/part1/Semantics/#31179" class="Bound">φ₀</a> <a id="31302" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="31304" href="/lia/part1/Semantics/#31182" class="Bound">φ₁</a> <a id="31307" href="/lia/part1/Semantics/#13369" class="Function Operator">]</a> <a id="31309" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="31311" href="/lia/part1/Semantics/#31191" class="Bound">ξ</a> <a id="31313" href="/lia/part1/Semantics/#13369" class="Function Operator">F2[</a> <a id="31317" href="/lia/part1/Semantics/#31193" class="Bound">p₀</a> <a id="31320" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="31322" href="/lia/part1/Semantics/#31196" class="Bound">p₁</a> <a id="31325" href="/lia/part1/Semantics/#13369" class="Function Operator">↦</a> <a id="31327" href="/lia/part1/Semantics/#31185" class="Bound">ψ₀</a> <a id="31330" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="31332" href="/lia/part1/Semantics/#31188" class="Bound">ψ₁</a> <a id="31335" href="/lia/part1/Semantics/#13369" class="Function Operator">]</a></pre>
  <pre data-executable="true" data-language="agda" id="part1.Semantics.cong2F">

module part1.Semantics.cong2F where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (cong2F to cong2F-orig)

cong2F : typeOf cong2F-orig
-- BEGIN SOLUTION
cong2F = ?</pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:cong2F-solution)
:::::::
-->

</div>

<p>The congruence properties <a href="#congF"><code class="language-plaintext highlighter-rouge">congF</code></a> and <a href="#cong2F"><code class="language-plaintext highlighter-rouge">cong2F</code></a> are
very convenient to quickly show correctness of many formula
transformations (such as those in <a href="#Functional-Completeness">Functional
completeness</a> below and in transformations to
<a href="../../part1/NormalForms">normal forms</a>.</p>

<h2 id="satisfiability">
<a class="anchor" href="#satisfiability" aria-hidden="true"><span class="octicon octicon-link"></span></a>Satisfiability</h2>

<p>A formula <code class="language-plaintext highlighter-rouge">φ</code> is <em>satisfiable</em> if there exists some valuation satisfying
it:</p>

<pre class="Agda"><a id="Sat"></a><a id="32982" href="/lia/part1/Semantics/#32982" class="Function">Sat</a> <a id="32986" class="Symbol">:</a> <a id="32988" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="32996" class="Symbol">→</a> <a id="32998" class="PrimitiveType">Set</a>
<a id="33002" href="/lia/part1/Semantics/#32982" class="Function">Sat</a> <a id="33006" href="/lia/part1/Semantics/#33006" class="Bound">φ</a> <a id="33008" class="Symbol">=</a> <a id="33010" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="33013" href="/lia/part1/Semantics/#33013" class="Bound">ϱ</a> <a id="33015" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="33017" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="33019" href="/lia/part1/Semantics/#33006" class="Bound">φ</a> <a id="33021" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="33023" href="/lia/part1/Semantics/#33013" class="Bound">ϱ</a> <a id="33025" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="33027" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a></pre>

<p>Satisfiability is decidable (for every fixed number of propositional
variables) since we can enumerate satisfying assignments:</p>

<pre class="Agda"><a id="Sat?"></a><a id="33167" href="/lia/part1/Semantics/#33167" class="Function">Sat?</a> <a id="33172" class="Symbol">:</a> <a id="33174" class="Symbol">∀</a> <a id="33176" href="/lia/part1/Semantics/#33176" class="Bound">φ</a> <a id="33178" class="Symbol">→</a> <a id="33180" href="/lia/part0/Decidable/#150" class="Datatype">Dec</a> <a id="33184" class="Symbol">(</a><a id="33185" href="/lia/part1/Semantics/#32982" class="Function">Sat</a> <a id="33189" href="/lia/part1/Semantics/#33176" class="Bound">φ</a><a id="33190" class="Symbol">)</a>
<a id="33192" href="/lia/part1/Semantics/#33167" class="Function">Sat?</a> <a id="33197" href="/lia/part1/Semantics/#33197" class="Bound">φ</a> <a id="33199" class="Symbol">=</a> <a id="33201" href="/lia/part0/Enumerable/#5644" class="Function">∃?[</a> <a id="33205" href="/lia/part1/Semantics/#33205" class="Bound">ϱ</a> <a id="33207" href="/lia/part0/Enumerable/#5644" class="Function">]</a> <a id="33209" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="33211" href="/lia/part1/Semantics/#33197" class="Bound">φ</a> <a id="33213" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="33215" href="/lia/part1/Semantics/#33205" class="Bound">ϱ</a> <a id="33217" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="33220" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a></pre>

<p>For instance, the formula <code class="language-plaintext highlighter-rouge">` p₀ ∧ ¬ ` p₁</code> is satisfiable, however
<code class="language-plaintext highlighter-rouge">` p₀ ∧ ¬ ` p₀</code> is not:</p>

<pre class="Agda"><a id="33331" href="/lia/part1/Semantics/#33331" class="Function">_</a> <a id="33333" class="Symbol">:</a> <a id="33335" href="/lia/part1/Semantics/#1058" class="Function">n</a> <a id="33337" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="33339" class="Number">3</a> <a id="33341" class="Symbol">→</a> <a id="33343" href="/lia/part0/Booleans/#367" class="Function Operator">⌞</a> <a id="33345" href="/lia/part1/Semantics/#33167" class="Function">Sat?</a> <a id="33350" class="Symbol">(</a><a id="33351" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="33353" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="33356" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="33358" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="33360" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="33362" href="/lia/part1/Semantics/#1197" class="Function">p₁</a><a id="33364" class="Symbol">)</a> <a id="33366" href="/lia/part0/Booleans/#367" class="Function Operator">⌟</a> <a id="33368" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="33370" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a>
<a id="33373" class="Symbol">_</a> <a id="33375" class="Symbol">=</a> <a id="33377" class="Symbol">λ{</a><a id="33379" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="33384" class="Symbol">→</a> <a id="33386" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="33390" class="Symbol">}</a>

<a id="33393" href="/lia/part1/Semantics/#33393" class="Function">_</a> <a id="33395" class="Symbol">:</a> <a id="33397" href="/lia/part1/Semantics/#1058" class="Function">n</a> <a id="33399" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="33401" class="Number">3</a> <a id="33403" class="Symbol">→</a> <a id="33405" href="/lia/part0/Booleans/#367" class="Function Operator">⌞</a> <a id="33407" href="/lia/part1/Semantics/#33167" class="Function">Sat?</a> <a id="33412" class="Symbol">(</a><a id="33413" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="33415" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="33418" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="33420" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="33422" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="33424" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="33426" class="Symbol">)</a> <a id="33428" href="/lia/part0/Booleans/#367" class="Function Operator">⌟</a> <a id="33430" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="33432" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a>
<a id="33435" class="Symbol">_</a> <a id="33437" class="Symbol">=</a> <a id="33439" class="Symbol">λ{</a><a id="33441" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="33446" class="Symbol">→</a> <a id="33448" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="33452" class="Symbol">}</a></pre>

<p>Of course we can also prove that the latter formula is unsatisfiable for
<em>every</em> number of variables:</p>

<pre class="Agda"><a id="p∧¬p-unsat"></a><a id="33566" href="/lia/part1/Semantics/#33566" class="Function">p∧¬p-unsat</a> <a id="33577" class="Symbol">:</a> <a id="33579" href="/lia/part0/Logic/#2336" class="Function Operator">~</a> <a id="33581" href="/lia/part1/Semantics/#32982" class="Function">Sat</a> <a id="33585" class="Symbol">(</a><a id="33586" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="33588" href="/lia/part1/Semantics/#1701" class="Generalizable">p</a> <a id="33590" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="33592" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="33594" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="33596" href="/lia/part1/Semantics/#1701" class="Generalizable">p</a><a id="33597" class="Symbol">)</a>
<a id="33599" href="/lia/part1/Semantics/#33566" class="Function">p∧¬p-unsat</a> <a id="33610" class="Symbol">{</a><a id="33611" href="/lia/part1/Semantics/#33611" class="Bound">p</a><a id="33612" class="Symbol">}</a> <a id="33614" class="Symbol">(</a><a id="33615" href="/lia/part1/Semantics/#33615" class="Bound">ϱ</a> <a id="33617" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="33619" href="/lia/part1/Semantics/#33619" class="Bound">equiv</a><a id="33624" class="Symbol">)</a> <a id="33626" class="Keyword">with</a> <a id="33631" href="/lia/part1/Semantics/#33615" class="Bound">ϱ</a> <a id="33633" href="/lia/part1/Semantics/#33611" class="Bound">p</a>
<a id="33635" class="Symbol">...</a> <a id="33639" class="Symbol">|</a> <a id="33641" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="33644" class="Symbol">=</a> <a id="33646" href="/lia/part0/Booleans/#467" class="Function">ff≢tt</a> <a id="33652" class="Bound">equiv</a>
<a id="33658" class="Symbol">...</a> <a id="33662" class="Symbol">|</a> <a id="33664" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="33667" class="Symbol">=</a> <a id="33669" href="/lia/part0/Booleans/#467" class="Function">ff≢tt</a> <a id="33675" class="Bound">equiv</a></pre>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:tau-sat" class="pandoc-numbering-text exercise"><strong>Exercise 12</strong> <em>(Tautology and satisfiability)</em></span></dt>
    <dd>Elaborate and prove a natural property relating tautology and
satisfiability.</dd>
  </dl>

  <pre data-executable="true" data-language="agda" id="part1.Semantics.tau-sat">

module part1.Semantics.tau-sat where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (tau-sat to tau-sat-orig)

tau-sat : typeOf tau-sat-orig
-- BEGIN SOLUTION
tau-sat = ?</pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:tau-sat-solution)
:::::::
-->

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:equiv-unsat" class="pandoc-numbering-text exercise"><strong>Exercise 13</strong> <em>(Equivalence and unsatisfiability)</em></span></dt>
    <dd>Express unsatisfiability in terms of logical equivalence.</dd>
  </dl>

  <pre data-executable="true" data-language="agda" id="part1.Semantics.equiv-unsat">

module part1.Semantics.equiv-unsat where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (equiv↔unsat to equiv↔unsat-orig)

equiv↔unsat : typeOf equiv↔unsat-orig
-- BEGIN SOLUTION
equiv↔unsat = ?</pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:equiv-unsat-solution)
:::::::
-->

</div>

<h2 id="long-conjunctions-and-disjunctions">
<a class="anchor" href="#long-conjunctions-and-disjunctions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Long conjunctions and disjunctions</h2>

<h3 id="conjunctions">Conjunctions</h3>

<p>Sometimes it is useful to interpret a list of formulas as their
conjunction. This is achieved with the following “long conjunction”
operation:</p>

<pre class="Agda"><a id="35957" class="Keyword">infix</a> <a id="35963" class="Number">10</a> <a id="35966" href="/lia/part1/Semantics/#35969" class="Function Operator">⋀_</a>
<a id="⋀_"></a><a id="35969" href="/lia/part1/Semantics/#35969" class="Function Operator">⋀_</a> <a id="35972" class="Symbol">:</a> <a id="35974" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="35982" href="/lia/part0/List/#468" class="Datatype Operator">*</a> <a id="35984" class="Symbol">→</a> <a id="35986" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a>
<a id="35994" href="/lia/part1/Semantics/#35969" class="Function Operator">⋀</a> <a id="35996" href="/lia/part1/Semantics/#35996" class="Bound">φs</a> <a id="35999" class="Symbol">=</a> <a id="36001" href="/lia/part0/List/#4118" class="Function">foldr1</a> <a id="36008" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">_∧_</a> <a id="36012" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="36014" href="/lia/part1/Semantics/#35996" class="Bound">φs</a></pre>

<p>(Despite the typographical similarity, <a href="#%E2%8B%80_"><code class="language-plaintext highlighter-rouge">⋀_</code></a> is a unary function
mapping lists of formulas to their logical conjunction, while
<a href="#Formula._%E2%88%A7_"><code class="language-plaintext highlighter-rouge">_∧_ : Formula → Formula → Formula</code></a> is a binary formula
constructor.) For instance, we have</p>

<pre class="Agda"><a id="36265" href="/lia/part1/Semantics/#36265" class="Function">_</a> <a id="36267" class="Symbol">:</a> <a id="36269" href="/lia/part1/Semantics/#35969" class="Function Operator">⋀</a> <a id="36271" href="/lia/part0/List/#1792" class="Function">[</a> <a id="36273" class="Symbol">(</a><a id="36274" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="36276" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="36278" class="Symbol">)</a> <a id="36280" class="Symbol">(</a><a id="36281" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="36283" href="/lia/part1/Semantics/#1197" class="Function">p₁</a><a id="36285" class="Symbol">)</a> <a id="36287" class="Symbol">(</a><a id="36288" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="36290" href="/lia/part1/Semantics/#1200" class="Function">p₂</a><a id="36292" class="Symbol">)</a> <a id="36294" href="/lia/part0/List/#2043" class="Function Operator">]</a> <a id="36296" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="36298" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="36300" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="36303" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="36305" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="36307" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="36310" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="36312" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="36314" href="/lia/part1/Semantics/#1200" class="Function">p₂</a>
<a id="36317" class="Symbol">_</a> <a id="36319" class="Symbol">=</a> <a id="36321" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

<p>The following are the two defining properties of long conjunctions:</p>

<pre class="Agda"><a id="conjProp1"></a><a id="36404" href="/lia/part1/Semantics/#36404" class="Function">conjProp1</a> <a id="36414" class="Symbol">:</a> <a id="36416" class="Symbol">∀</a> <a id="36418" href="/lia/part1/Semantics/#36418" class="Bound">φs</a> <a id="36421" href="/lia/part1/Semantics/#36421" class="Bound">ϱ</a> <a id="36423" class="Symbol">→</a>
  <a id="36427" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="36429" href="/lia/part1/Semantics/#35969" class="Function Operator">⋀</a> <a id="36431" href="/lia/part1/Semantics/#36418" class="Bound">φs</a> <a id="36434" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="36436" href="/lia/part1/Semantics/#36421" class="Bound">ϱ</a> <a id="36438" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="36440" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="36443" class="Symbol">→</a>
  <a id="36447" class="Comment">------------------------</a>
  <a id="36474" href="/lia/part0/List/#9607" class="Function">∀[</a> <a id="36477" href="/lia/part1/Semantics/#36477" class="Bound">φ</a> <a id="36479" href="/lia/part0/List/#9607" class="Function">∈</a> <a id="36481" href="/lia/part1/Semantics/#36418" class="Bound">φs</a> <a id="36484" href="/lia/part0/List/#9607" class="Function">]</a> <a id="36486" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="36488" href="/lia/part1/Semantics/#36477" class="Bound">φ</a> <a id="36490" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="36492" href="/lia/part1/Semantics/#36421" class="Bound">ϱ</a> <a id="36494" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="36496" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a>

<a id="conjProp2"></a><a id="36500" href="/lia/part1/Semantics/#36500" class="Function">conjProp2</a> <a id="36510" class="Symbol">:</a> <a id="36512" class="Symbol">∀</a> <a id="36514" href="/lia/part1/Semantics/#36514" class="Bound">φs</a> <a id="36517" href="/lia/part1/Semantics/#36517" class="Bound">ϱ</a> <a id="36519" class="Symbol">→</a>
  <a id="36523" href="/lia/part0/List/#9607" class="Function">∀[</a> <a id="36526" href="/lia/part1/Semantics/#36526" class="Bound">φ</a> <a id="36528" href="/lia/part0/List/#9607" class="Function">∈</a> <a id="36530" href="/lia/part1/Semantics/#36514" class="Bound">φs</a> <a id="36533" href="/lia/part0/List/#9607" class="Function">]</a> <a id="36535" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="36537" href="/lia/part1/Semantics/#36526" class="Bound">φ</a> <a id="36539" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="36541" href="/lia/part1/Semantics/#36517" class="Bound">ϱ</a> <a id="36543" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="36545" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="36548" class="Symbol">→</a>
  <a id="36552" class="Comment">---------------</a>
  <a id="36570" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="36572" href="/lia/part1/Semantics/#35969" class="Function Operator">⋀</a> <a id="36574" href="/lia/part1/Semantics/#36514" class="Bound">φs</a> <a id="36577" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="36579" href="/lia/part1/Semantics/#36517" class="Bound">ϱ</a> <a id="36581" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="36583" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a></pre>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:long-conjunctions" class="pandoc-numbering-text exercise"><strong>Exercise 14</strong> <em>(Long conjunctions)</em></span></dt>
    <dd>Prove the two defining properties <a href="#conjProp1"><code class="language-plaintext highlighter-rouge">conjProp1</code></a> and
<a href="#conjProp2"><code class="language-plaintext highlighter-rouge">conjProp2</code></a> of long conjunctions.</dd>
  </dl>

  <pre data-executable="true" data-language="agda" id="part1.Semantics.conjProp12">

module part1.Semantics.conjProp12 where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (conjProp1 to conjProp1-orig)

conjProp1 : typeOf conjProp1-orig
-- BEGIN SOLUTION
conjProp1 = ?</pre>

  <p><em>Hint:</em> Use the corresponding properties for Booleans. <span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:long-conjunctions-solution)
:::::::
-->

</div>

<h3 id="disjunctions">Disjunctions</h3>

<p>We can also take “long disjunctions” of a sequence of formulas. The
corresponding two defining properties are dual to those of long
conjunctions.</p>

<pre class="Agda"><a id="37746" class="Keyword">infix</a> <a id="37752" class="Number">9</a> <a id="37754" href="/lia/part1/Semantics/#37757" class="Function Operator">⋁_</a>
<a id="⋁_"></a><a id="37757" href="/lia/part1/Semantics/#37757" class="Function Operator">⋁_</a> <a id="37760" class="Symbol">:</a> <a id="37762" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="37770" href="/lia/part0/List/#468" class="Datatype Operator">*</a> <a id="37772" class="Symbol">→</a> <a id="37774" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a>
<a id="37782" href="/lia/part1/Semantics/#37757" class="Function Operator">⋁</a> <a id="37784" href="/lia/part1/Semantics/#37784" class="Bound">φs</a> <a id="37787" class="Symbol">=</a> <a id="37789" href="/lia/part0/List/#4118" class="Function">foldr1</a> <a id="37796" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">_∨_</a> <a id="37800" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="37802" href="/lia/part1/Semantics/#37784" class="Bound">φs</a>

<a id="disjProp-tt"></a><a id="37806" href="/lia/part1/Semantics/#37806" class="Function">disjProp-tt</a> <a id="37818" class="Symbol">:</a> <a id="37820" class="Symbol">∀</a> <a id="37822" href="/lia/part1/Semantics/#37822" class="Bound">φs</a> <a id="37825" href="/lia/part1/Semantics/#37825" class="Bound">ϱ</a> <a id="37827" href="/lia/part1/Semantics/#37827" class="Bound">φ</a> <a id="37829" class="Symbol">→</a>
  <a id="37833" href="/lia/part1/Semantics/#37827" class="Bound">φ</a> <a id="37835" href="/lia/part0/List/#7976" class="Datatype Operator">∈</a> <a id="37837" href="/lia/part1/Semantics/#37822" class="Bound">φs</a> <a id="37840" class="Symbol">→</a>
  <a id="37844" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="37846" href="/lia/part1/Semantics/#37827" class="Bound">φ</a> <a id="37848" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="37850" href="/lia/part1/Semantics/#37825" class="Bound">ϱ</a> <a id="37852" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="37854" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="37857" class="Symbol">→</a>
  <a id="37861" class="Comment">---------------</a>
  <a id="37879" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="37881" href="/lia/part1/Semantics/#37757" class="Function Operator">⋁</a> <a id="37883" href="/lia/part1/Semantics/#37822" class="Bound">φs</a> <a id="37886" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="37888" href="/lia/part1/Semantics/#37825" class="Bound">ϱ</a> <a id="37890" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="37892" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a>

<a id="disjProp-ff"></a><a id="37896" href="/lia/part1/Semantics/#37896" class="Function">disjProp-ff</a> <a id="37908" class="Symbol">:</a> <a id="37910" class="Symbol">∀</a> <a id="37912" href="/lia/part1/Semantics/#37912" class="Bound">φs</a> <a id="37915" href="/lia/part1/Semantics/#37915" class="Bound">ϱ</a> <a id="37917" class="Symbol">→</a>
  <a id="37921" href="/lia/part0/List/#9607" class="Function">∀[</a> <a id="37924" href="/lia/part1/Semantics/#37924" class="Bound">φ</a> <a id="37926" href="/lia/part0/List/#9607" class="Function">∈</a> <a id="37928" href="/lia/part1/Semantics/#37912" class="Bound">φs</a> <a id="37931" href="/lia/part0/List/#9607" class="Function">]</a> <a id="37933" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="37935" href="/lia/part1/Semantics/#37924" class="Bound">φ</a> <a id="37937" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="37939" href="/lia/part1/Semantics/#37915" class="Bound">ϱ</a> <a id="37941" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="37943" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="37946" class="Symbol">→</a>
  <a id="37950" class="Comment">---------------</a>
  <a id="37968" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="37970" href="/lia/part1/Semantics/#37757" class="Function Operator">⋁</a> <a id="37972" href="/lia/part1/Semantics/#37912" class="Bound">φs</a> <a id="37975" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="37977" href="/lia/part1/Semantics/#37915" class="Bound">ϱ</a> <a id="37979" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="37981" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a></pre>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:long-disjunctions" class="pandoc-numbering-text exercise"><strong>Exercise 15</strong> <em>(Long disjunctions)</em></span></dt>
    <dd>Prove the two defining properties <a href="#disjProp-tt"><code class="language-plaintext highlighter-rouge">disjProp-tt</code></a> and
<a href="#disjProp-ff"><code class="language-plaintext highlighter-rouge">disjProp-ff</code></a> above.</dd>
  </dl>

  <pre data-executable="true" data-language="agda" id="part1.Semantics.disjProp">
module part1.Semantics.disjProp where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (disjProp-tt to disjProp-tt-orig; disjProp-ff to disjProp-ff-orig)

disjProp-tt : typeOf disjProp-tt-orig
disjProp-ff : typeOf disjProp-ff-orig

-- BEGIN SOLUTION
disjProp-tt = ?
disjProp-ff = ?</pre>

  <p><em>Hint:</em> Use the corresponding properties for Booleans. <span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:long-disjunctions-solution)
:::::::
-->

</div>

<h2 id="semantic-deduction-theorem">
<a class="anchor" href="#semantic-deduction-theorem" aria-hidden="true"><span class="octicon octicon-link"></span></a>Semantic deduction theorem</h2>

<h3 id="contexts">Contexts</h3>

<p>A <em>context</em> is a list of formulas. The empty context will be denoted by
<code class="language-plaintext highlighter-rouge">∅</code>.</p>

<pre class="Agda"><a id="Context"></a><a id="39021" href="/lia/part1/Semantics/#39021" class="Function">Context</a> <a id="39029" class="Symbol">=</a> <a id="39031" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="39039" href="/lia/part0/List/#468" class="Datatype Operator">*</a>

<a id="∅"></a><a id="39042" href="/lia/part1/Semantics/#39042" class="Function">∅</a> <a id="39044" class="Symbol">:</a> <a id="39046" href="/lia/part1/Semantics/#39021" class="Function">Context</a>
<a id="39054" href="/lia/part1/Semantics/#39042" class="Function">∅</a> <a id="39056" class="Symbol">=</a> <a id="39058" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a>

<a id="39061" class="Keyword">private</a>
  <a id="39071" class="Keyword">variable</a>
    <a id="39084" href="/lia/part1/Semantics/#39084" class="Generalizable">Γ</a> <a id="39086" href="/lia/part1/Semantics/#39086" class="Generalizable">Δ</a> <a id="39088" class="Symbol">:</a> <a id="39090" href="/lia/part1/Semantics/#39021" class="Function">Context</a></pre>

<p>If <code class="language-plaintext highlighter-rouge">Γ</code> is a context and <code class="language-plaintext highlighter-rouge">φ</code> is a formula, then we can add <code class="language-plaintext highlighter-rouge">φ</code> to <code class="language-plaintext highlighter-rouge">Γ</code> and
form the new context <code class="language-plaintext highlighter-rouge">Γ · φ</code> (this is just adding an element in front of
a list but written on the right).</p>

<pre class="Agda"><a id="39288" class="Keyword">infixl</a> <a id="39295" class="Number">26</a> <a id="39298" href="/lia/part1/Semantics/#39304" class="Function Operator">_·_</a>  
<a id="_·_"></a><a id="39304" href="/lia/part1/Semantics/#39304" class="Function Operator">_·_</a> <a id="39308" class="Symbol">:</a> <a id="39310" href="/lia/part1/Semantics/#39021" class="Function">Context</a> <a id="39318" class="Symbol">→</a> <a id="39320" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="39328" class="Symbol">→</a> <a id="39330" href="/lia/part1/Semantics/#39021" class="Function">Context</a>
<a id="39338" href="/lia/part1/Semantics/#39338" class="Bound">Γ</a> <a id="39340" href="/lia/part1/Semantics/#39304" class="Function Operator">·</a> <a id="39342" href="/lia/part1/Semantics/#39342" class="Bound">φ</a> <a id="39344" class="Symbol">=</a> <a id="39346" href="/lia/part1/Semantics/#39342" class="Bound">φ</a> <a id="39348" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="39350" href="/lia/part1/Semantics/#39338" class="Bound">Γ</a>
<a id="39352" class="Comment">-- pattern _·_ Γ φ = φ ∷ Γ</a></pre>

<p>We say that a context <code class="language-plaintext highlighter-rouge">Γ</code> <em>entails</em> (or <em>logically implies</em>) a formula
<code class="language-plaintext highlighter-rouge">ψ</code> if every valuation that satisfies every formula in <code class="language-plaintext highlighter-rouge">Γ</code> satisfies <code class="language-plaintext highlighter-rouge">ψ</code>
as well:</p>

<pre class="Agda"><a id="39542" class="Keyword">infix</a> <a id="39548" class="Number">8</a> <a id="39550" href="/lia/part1/Semantics/#39554" class="Function Operator">_⊨_</a>
<a id="_⊨_"></a><a id="39554" href="/lia/part1/Semantics/#39554" class="Function Operator">_⊨_</a> <a id="39558" class="Symbol">:</a> <a id="39560" href="/lia/part1/Semantics/#39021" class="Function">Context</a> <a id="39568" class="Symbol">→</a> <a id="39570" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="39578" class="Symbol">→</a> <a id="39580" class="PrimitiveType">Set</a>
<a id="39584" href="/lia/part1/Semantics/#39584" class="Bound">Γ</a> <a id="39586" href="/lia/part1/Semantics/#39554" class="Function Operator">⊨</a> <a id="39588" href="/lia/part1/Semantics/#39588" class="Bound">ψ</a> <a id="39590" class="Symbol">=</a> <a id="39592" class="Symbol">∀</a> <a id="39594" href="/lia/part1/Semantics/#39594" class="Bound">ϱ</a> <a id="39596" class="Symbol">→</a> <a id="39598" href="/lia/part0/List/#9607" class="Function">All</a> <a id="39602" class="Symbol">(λ</a> <a id="39605" href="/lia/part1/Semantics/#39605" class="Bound">φ</a> <a id="39607" class="Symbol">→</a> <a id="39609" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="39611" href="/lia/part1/Semantics/#39605" class="Bound">φ</a> <a id="39613" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="39615" href="/lia/part1/Semantics/#39594" class="Bound">ϱ</a> <a id="39617" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="39619" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a><a id="39621" class="Symbol">)</a> <a id="39623" href="/lia/part1/Semantics/#39584" class="Bound">Γ</a> <a id="39625" class="Symbol">→</a> <a id="39627" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="39629" href="/lia/part1/Semantics/#39588" class="Bound">ψ</a> <a id="39631" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="39633" href="/lia/part1/Semantics/#39594" class="Bound">ϱ</a> <a id="39635" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="39637" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a></pre>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:commutative-context" class="pandoc-numbering-text exercise"><strong>Exercise 16</strong> <em>(Commutativity of context)</em></span></dt>
    <dd>Show that the order of the formulas in the context does not matter
w.r.t. the satisfaction relation:</dd>
  </dl>

  <pre class="Agda"><a id="perm-sat"></a><a id="39879" href="/lia/part1/Semantics/#39879" class="Function">perm-sat</a> <a id="39888" class="Symbol">:</a> <a id="39890" class="Symbol">∀</a> <a id="39892" class="Symbol">{</a><a id="39893" href="/lia/part1/Semantics/#39893" class="Bound">Γ</a> <a id="39895" href="/lia/part1/Semantics/#39895" class="Bound">Δ</a> <a id="39897" href="/lia/part1/Semantics/#39897" class="Bound">ϱ</a><a id="39898" class="Symbol">}</a> <a id="39900" class="Symbol">→</a>
  <a id="39904" href="/lia/part0/Permutations/#258" class="Datatype">Perm</a> <a id="39909" href="/lia/part1/Semantics/#39893" class="Bound">Γ</a> <a id="39911" href="/lia/part1/Semantics/#39895" class="Bound">Δ</a> <a id="39913" class="Symbol">→</a>
  <a id="39917" href="/lia/part0/List/#9607" class="Function">All</a> <a id="39921" class="Symbol">(λ</a> <a id="39924" href="/lia/part1/Semantics/#39924" class="Bound">φ</a> <a id="39926" class="Symbol">→</a> <a id="39928" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="39930" href="/lia/part1/Semantics/#39924" class="Bound">φ</a> <a id="39932" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="39934" href="/lia/part1/Semantics/#39897" class="Bound">ϱ</a> <a id="39936" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="39938" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a><a id="39940" class="Symbol">)</a> <a id="39942" href="/lia/part1/Semantics/#39893" class="Bound">Γ</a> <a id="39944" class="Symbol">→</a>
  <a id="39948" class="Comment">--------------------------</a>
  <a id="39977" href="/lia/part0/List/#9607" class="Function">All</a> <a id="39981" class="Symbol">(λ</a> <a id="39984" href="/lia/part1/Semantics/#39984" class="Bound">φ</a> <a id="39986" class="Symbol">→</a> <a id="39988" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="39990" href="/lia/part1/Semantics/#39984" class="Bound">φ</a> <a id="39992" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="39994" href="/lia/part1/Semantics/#39897" class="Bound">ϱ</a> <a id="39996" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="39998" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a><a id="40000" class="Symbol">)</a> <a id="40002" href="/lia/part1/Semantics/#39895" class="Bound">Δ</a></pre>
  <pre data-executable="true" data-language="agda" id="part1.Semantics.perm-sat">

module part1.Semantics.perm-sat where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (perm-sat to perm-sat-orig)

perm-sat : typeOf perm-sat-orig
-- BEGIN SOLUTION
perm-sat = ?</pre>

  <p><em>Hint</em>: Proceed by structural induction on permutations. Deduce that the
logical consequence relation is invariant under context permutation:</p>

  <pre class="Agda"><a id="perm-⊨"></a><a id="40179" href="/lia/part1/Semantics/#40179" class="Function">perm-⊨</a> <a id="40186" class="Symbol">:</a> <a id="40188" class="Symbol">∀</a> <a id="40190" class="Symbol">{</a><a id="40191" href="/lia/part1/Semantics/#40191" class="Bound">Γ</a> <a id="40193" href="/lia/part1/Semantics/#40193" class="Bound">Δ</a><a id="40194" class="Symbol">}</a> <a id="40196" href="/lia/part1/Semantics/#40196" class="Bound">φ</a> <a id="40198" class="Symbol">→</a>
  <a id="40202" href="/lia/part0/Permutations/#258" class="Datatype">Perm</a> <a id="40207" href="/lia/part1/Semantics/#40191" class="Bound">Γ</a> <a id="40209" href="/lia/part1/Semantics/#40193" class="Bound">Δ</a> <a id="40211" class="Symbol">→</a>
  <a id="40215" href="/lia/part1/Semantics/#40191" class="Bound">Γ</a> <a id="40217" href="/lia/part1/Semantics/#39554" class="Function Operator">⊨</a> <a id="40219" href="/lia/part1/Semantics/#40196" class="Bound">φ</a> <a id="40221" class="Symbol">→</a>
  <a id="40225" class="Comment">-----</a>
  <a id="40233" href="/lia/part1/Semantics/#40193" class="Bound">Δ</a> <a id="40235" href="/lia/part1/Semantics/#39554" class="Function Operator">⊨</a> <a id="40237" href="/lia/part1/Semantics/#40196" class="Bound">φ</a></pre>
  <pre data-executable="true" data-language="agda" id="part1.Semantics.perm-sem">

module part1.Semantics.perm-sem where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (perm-⊨ to perm-⊨-orig)

perm-⊨ : typeOf perm-⊨-orig
-- BEGIN SOLUTION
perm-⊨ = ?</pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:commutative-context-solution)
:::::::
-->

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:context-alt" class="pandoc-numbering-text exercise"><strong>Exercise 17</strong> <em>(Alternative definition of entailment)</em></span></dt>
    <dd>An alternative definition of entailment <code class="language-plaintext highlighter-rouge">Γ ⊨ φ</code> between a context
and a formula could be based on the previous definition of
entailment <code class="language-plaintext highlighter-rouge">ψ ⇛ φ</code> between two formulas:</dd>
  </dl>

  <pre class="Agda"><a id="_⊨′_"></a><a id="41433" href="/lia/part1/Semantics/#41433" class="Function Operator">_⊨′_</a> <a id="41438" class="Symbol">:</a> <a id="41440" href="/lia/part1/Semantics/#39021" class="Function">Context</a> <a id="41448" class="Symbol">→</a> <a id="41450" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="41458" class="Symbol">→</a> <a id="41460" class="PrimitiveType">Set</a>
<a id="41464" href="/lia/part1/Semantics/#41464" class="Bound">Γ</a> <a id="41466" href="/lia/part1/Semantics/#41433" class="Function Operator">⊨′</a> <a id="41469" href="/lia/part1/Semantics/#41469" class="Bound">φ</a> <a id="41471" class="Symbol">=</a> <a id="41473" href="/lia/part1/Semantics/#35969" class="Function Operator">⋀</a> <a id="41475" href="/lia/part1/Semantics/#41464" class="Bound">Γ</a> <a id="41477" href="/lia/part1/Semantics/#22369" class="Function Operator">⇛</a> <a id="41479" href="/lia/part1/Semantics/#41469" class="Bound">φ</a></pre>

  <p>Show that the two notions of entailment are equivalent:</p>

  <pre class="Agda"><a id="context1"></a><a id="41547" href="/lia/part1/Semantics/#41547" class="Function">context1</a> <a id="41556" class="Symbol">:</a> <a id="41558" class="Symbol">∀</a> <a id="41560" class="Symbol">{</a><a id="41561" href="/lia/part1/Semantics/#41561" class="Bound">Γ</a><a id="41562" class="Symbol">}</a> <a id="41564" href="/lia/part1/Semantics/#41564" class="Bound">φ</a> <a id="41566" class="Symbol">→</a>
  <a id="41570" href="/lia/part1/Semantics/#41561" class="Bound">Γ</a> <a id="41572" href="/lia/part1/Semantics/#39554" class="Function Operator">⊨</a> <a id="41574" href="/lia/part1/Semantics/#41564" class="Bound">φ</a> <a id="41576" class="Symbol">→</a>
  <a id="41580" class="Comment">------</a>
  <a id="41589" href="/lia/part1/Semantics/#41561" class="Bound">Γ</a> <a id="41591" href="/lia/part1/Semantics/#41433" class="Function Operator">⊨′</a> <a id="41594" href="/lia/part1/Semantics/#41564" class="Bound">φ</a>
  
<a id="context2"></a><a id="41599" href="/lia/part1/Semantics/#41599" class="Function">context2</a> <a id="41608" class="Symbol">:</a> <a id="41610" class="Symbol">∀</a> <a id="41612" href="/lia/part1/Semantics/#41612" class="Bound">Γ</a> <a id="41614" class="Symbol">{</a><a id="41615" href="/lia/part1/Semantics/#41615" class="Bound">φ</a><a id="41616" class="Symbol">}</a> <a id="41618" class="Symbol">→</a>
  <a id="41622" href="/lia/part1/Semantics/#41612" class="Bound">Γ</a> <a id="41624" href="/lia/part1/Semantics/#41433" class="Function Operator">⊨′</a> <a id="41627" href="/lia/part1/Semantics/#41615" class="Bound">φ</a> <a id="41629" class="Symbol">→</a>
  <a id="41633" class="Comment">-----</a>
  <a id="41641" href="/lia/part1/Semantics/#41612" class="Bound">Γ</a> <a id="41643" href="/lia/part1/Semantics/#39554" class="Function Operator">⊨</a> <a id="41645" href="/lia/part1/Semantics/#41615" class="Bound">φ</a></pre>
  <pre data-executable="true" data-language="agda" id="part1.Semantics.context12">
module part1.Semantics.context12 where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (context1 to context1-orig; context2 to context2-orig)

context1 : typeOf context1-orig
context2 : typeOf context2-orig

-- BEGIN SOLUTION
context1 = ?
context2 = ?</pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:context-alt-solution)
:::::::
-->

</div>

<p>TODO: arrange.</p>

<pre class="Agda"><a id="permOr"></a><a id="42041" href="/lia/part1/Semantics/#42041" class="Function">permOr</a> <a id="42048" class="Symbol">:</a> <a id="42050" href="/lia/part0/Permutations/#258" class="Datatype">Perm</a> <a id="42055" href="/lia/part1/Semantics/#39084" class="Generalizable">Γ</a> <a id="42057" href="/lia/part1/Semantics/#39086" class="Generalizable">Δ</a> <a id="42059" class="Symbol">→</a>
         <a id="42070" class="Comment">----------</a>
         <a id="42090" href="/lia/part1/Semantics/#37757" class="Function Operator">⋁</a> <a id="42092" href="/lia/part1/Semantics/#39084" class="Generalizable">Γ</a> <a id="42094" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="42096" href="/lia/part1/Semantics/#37757" class="Function Operator">⋁</a> <a id="42098" href="/lia/part1/Semantics/#39086" class="Generalizable">Δ</a>

<a id="42101" href="/lia/part1/Semantics/#42041" class="Function">permOr</a> <a id="42108" class="Symbol">{</a><a id="42109" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a><a id="42110" class="Symbol">}</a> <a id="42112" href="/lia/part1/Semantics/#42112" class="Bound">π</a> <a id="42114" href="/lia/part1/Semantics/#42114" class="Bound">ϱ</a> <a id="42116" class="Keyword">rewrite</a> <a id="42124" href="/lia/part0/Permutations/#599" class="Function">perm-ε</a> <a id="42131" href="/lia/part1/Semantics/#42112" class="Bound">π</a> <a id="42133" class="Symbol">=</a> <a id="42135" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="42141" href="/lia/part1/Semantics/#42041" class="Function">permOr</a> <a id="42148" class="Symbol">{</a><a id="42149" href="/lia/part1/Semantics/#42149" class="Bound">φ</a> <a id="42151" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42153" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a><a id="42154" class="Symbol">}</a> <a id="42156" href="/lia/part1/Semantics/#42156" class="Bound">π</a> <a id="42158" href="/lia/part1/Semantics/#42158" class="Bound">ϱ</a> <a id="42160" class="Keyword">rewrite</a> <a id="42168" href="/lia/part0/Permutations/#739" class="Function">perm-singleton</a> <a id="42183" href="/lia/part1/Semantics/#42156" class="Bound">π</a> <a id="42185" class="Symbol">=</a> <a id="42187" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="42193" href="/lia/part1/Semantics/#42041" class="Function">permOr</a> <a id="42200" class="Symbol">{</a><a id="42201" href="/lia/part1/Semantics/#42201" class="Bound">φ</a> <a id="42203" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42205" href="/lia/part1/Semantics/#42205" class="Bound">Γ</a><a id="42206" class="Symbol">@(_</a> <a id="42210" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42212" class="Symbol">_)}</a> <a id="42216" href="/lia/part0/Permutations/#307" class="InductiveConstructor">stop</a> <a id="42221" href="/lia/part1/Semantics/#42221" class="Bound">ϱ</a> <a id="42223" class="Symbol">=</a> <a id="42225" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="42231" href="/lia/part1/Semantics/#42041" class="Function">permOr</a> <a id="42238" class="Symbol">{</a><a id="42239" href="/lia/part1/Semantics/#42239" class="Bound">φ</a> <a id="42241" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42243" href="/lia/part1/Semantics/#42243" class="Bound">Γ</a><a id="42244" class="Symbol">@(_</a> <a id="42248" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42250" class="Symbol">_)}</a> <a id="42254" class="Symbol">{</a><a id="42255" href="/lia/part1/Semantics/#42239" class="Bound">φ</a> <a id="42257" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42259" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a><a id="42260" class="Symbol">}</a> <a id="42262" class="Symbol">(</a><a id="42263" href="/lia/part0/Permutations/#327" class="InductiveConstructor">skip</a> <a id="42268" href="/lia/part1/Semantics/#42268" class="Bound">π</a><a id="42269" class="Symbol">)</a> <a id="42271" href="/lia/part1/Semantics/#42271" class="Bound">ϱ</a>
  <a id="42275" class="Keyword">rewrite</a> <a id="42283" href="/lia/part0/Permutations/#599" class="Function">perm-ε</a> <a id="42290" class="Symbol">(</a><a id="42291" href="/lia/part0/Permutations/#542" class="Function">sym-perm</a> <a id="42300" href="/lia/part1/Semantics/#42268" class="Bound">π</a><a id="42301" class="Symbol">)</a> <a id="42303" class="Symbol">=</a> <a id="42305" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="42310" href="/lia/part1/Semantics/#42041" class="Function">permOr</a> <a id="42317" class="Symbol">{</a><a id="42318" href="/lia/part1/Semantics/#42318" class="Bound">φ</a> <a id="42320" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42322" href="/lia/part1/Semantics/#42322" class="Bound">Γ</a><a id="42323" class="Symbol">@(_</a> <a id="42327" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42329" class="Symbol">_)}</a> <a id="42333" class="Symbol">{</a><a id="42334" href="/lia/part1/Semantics/#42318" class="Bound">φ</a> <a id="42336" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42338" href="/lia/part1/Semantics/#42338" class="Bound">Δ</a><a id="42339" class="Symbol">@(_</a> <a id="42343" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42345" class="Symbol">_)}</a> <a id="42349" class="Symbol">(</a><a id="42350" href="/lia/part0/Permutations/#327" class="InductiveConstructor">skip</a> <a id="42355" href="/lia/part1/Semantics/#42355" class="Bound">π</a><a id="42356" class="Symbol">)</a> <a id="42358" href="/lia/part1/Semantics/#42358" class="Bound">ϱ</a>
  <a id="42362" class="Keyword">rewrite</a> <a id="42370" href="/lia/part1/Semantics/#42041" class="Function">permOr</a> <a id="42377" href="/lia/part1/Semantics/#42355" class="Bound">π</a> <a id="42379" href="/lia/part1/Semantics/#42358" class="Bound">ϱ</a> <a id="42381" class="Symbol">=</a> <a id="42383" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="42389" href="/lia/part1/Semantics/#42041" class="Function">permOr</a> <a id="42396" class="Symbol">{</a><a id="42397" href="/lia/part1/Semantics/#42397" class="Bound">φ</a> <a id="42399" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42401" href="/lia/part1/Semantics/#42401" class="Bound">ψ</a> <a id="42403" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42405" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a><a id="42406" class="Symbol">}</a> <a id="42408" class="Symbol">{</a><a id="42409" href="/lia/part1/Semantics/#42401" class="Bound">ψ</a> <a id="42411" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42413" href="/lia/part1/Semantics/#42397" class="Bound">φ</a> <a id="42415" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42417" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a><a id="42418" class="Symbol">}</a> <a id="42420" class="Symbol">(</a><a id="42421" href="/lia/part0/Permutations/#372" class="InductiveConstructor">swap</a> <a id="42426" href="/lia/part1/Semantics/#42426" class="Bound">π</a><a id="42427" class="Symbol">)</a> <a id="42429" href="/lia/part1/Semantics/#42429" class="Bound">ϱ</a>
  <a id="42433" class="Keyword">rewrite</a> <a id="42441" href="/lia/part1/Semantics/#42041" class="Function">permOr</a> <a id="42448" href="/lia/part1/Semantics/#42426" class="Bound">π</a> <a id="42450" href="/lia/part1/Semantics/#42429" class="Bound">ϱ</a> <a id="42452" class="Symbol">|</a> <a id="42454" href="/lia/part1/Semantics/#27020" class="Function">commOr</a> <a id="42461" href="/lia/part1/Semantics/#42397" class="Bound">φ</a> <a id="42463" href="/lia/part1/Semantics/#42401" class="Bound">ψ</a> <a id="42465" href="/lia/part1/Semantics/#42429" class="Bound">ϱ</a> <a id="42467" class="Symbol">=</a> <a id="42469" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="42474" href="/lia/part1/Semantics/#42041" class="Function">permOr</a> <a id="42481" class="Symbol">{</a><a id="42482" href="/lia/part1/Semantics/#42482" class="Bound">φ</a> <a id="42484" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42486" href="/lia/part1/Semantics/#42486" class="Bound">ψ</a> <a id="42488" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42490" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a><a id="42491" class="Symbol">}</a> <a id="42493" class="Symbol">{</a><a id="42494" href="/lia/part1/Semantics/#42486" class="Bound">ψ</a> <a id="42496" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42498" href="/lia/part1/Semantics/#42482" class="Bound">φ</a> <a id="42500" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42502" href="/lia/part1/Semantics/#42502" class="Bound">Δ</a><a id="42503" class="Symbol">@(_</a> <a id="42507" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42509" class="Symbol">_)}</a> <a id="42513" class="Symbol">(</a><a id="42514" href="/lia/part0/Permutations/#372" class="InductiveConstructor">swap</a> <a id="42519" href="/lia/part1/Semantics/#42519" class="Bound">π</a><a id="42520" class="Symbol">)</a> <a id="42522" href="/lia/part1/Semantics/#42522" class="Bound">ϱ</a>
  <a id="42526" class="Keyword">rewrite</a> <a id="42534" href="/lia/part0/Permutations/#599" class="Function">perm-ε</a> <a id="42541" href="/lia/part1/Semantics/#42519" class="Bound">π</a> <a id="42543" class="Symbol">|</a> <a id="42545" href="/lia/part1/Semantics/#42041" class="Function">permOr</a> <a id="42552" href="/lia/part1/Semantics/#42519" class="Bound">π</a> <a id="42554" href="/lia/part1/Semantics/#42522" class="Bound">ϱ</a> <a id="42556" class="Symbol">|</a> <a id="42558" href="/lia/part1/Semantics/#27020" class="Function">commOr</a> <a id="42565" href="/lia/part1/Semantics/#42482" class="Bound">φ</a> <a id="42567" href="/lia/part1/Semantics/#42486" class="Bound">ψ</a> <a id="42569" href="/lia/part1/Semantics/#42522" class="Bound">ϱ</a> <a id="42571" class="Symbol">=</a> <a id="42573" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="42578" href="/lia/part1/Semantics/#42041" class="Function">permOr</a> <a id="42585" class="Symbol">{</a><a id="42586" href="/lia/part1/Semantics/#42586" class="Bound">φ</a> <a id="42588" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42590" href="/lia/part1/Semantics/#42590" class="Bound">ψ</a> <a id="42592" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42594" class="Symbol">_</a> <a id="42596" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42598" class="Symbol">_}</a> <a id="42601" class="Symbol">{</a><a id="42602" href="/lia/part1/Semantics/#42590" class="Bound">ψ</a> <a id="42604" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42606" href="/lia/part1/Semantics/#42586" class="Bound">φ</a> <a id="42608" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42610" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a><a id="42611" class="Symbol">}</a> <a id="42613" class="Symbol">(</a><a id="42614" href="/lia/part0/Permutations/#372" class="InductiveConstructor">swap</a> <a id="42619" href="/lia/part1/Semantics/#42619" class="Bound">π</a><a id="42620" class="Symbol">)</a> <a id="42622" href="/lia/part1/Semantics/#42622" class="Bound">ϱ</a>
  <a id="42626" class="Keyword">rewrite</a> <a id="42634" href="/lia/part0/Permutations/#599" class="Function">perm-ε</a> <a id="42641" class="Symbol">(</a><a id="42642" href="/lia/part0/Permutations/#542" class="Function">sym-perm</a> <a id="42651" href="/lia/part1/Semantics/#42619" class="Bound">π</a><a id="42652" class="Symbol">)</a> <a id="42654" class="Symbol">|</a> <a id="42656" href="/lia/part1/Semantics/#42041" class="Function">permOr</a> <a id="42663" href="/lia/part1/Semantics/#42619" class="Bound">π</a> <a id="42665" href="/lia/part1/Semantics/#42622" class="Bound">ϱ</a> <a id="42667" class="Symbol">|</a> <a id="42669" href="/lia/part1/Semantics/#27020" class="Function">commOr</a> <a id="42676" href="/lia/part1/Semantics/#42586" class="Bound">φ</a> <a id="42678" href="/lia/part1/Semantics/#42590" class="Bound">ψ</a> <a id="42680" href="/lia/part1/Semantics/#42622" class="Bound">ϱ</a> <a id="42682" class="Symbol">=</a> <a id="42684" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="42689" href="/lia/part1/Semantics/#42041" class="Function">permOr</a> <a id="42696" class="Symbol">{</a><a id="42697" href="/lia/part1/Semantics/#42697" class="Bound">φ</a> <a id="42699" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42701" href="/lia/part1/Semantics/#42701" class="Bound">ψ</a> <a id="42703" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42705" href="/lia/part1/Semantics/#42705" class="Bound">Γ</a><a id="42706" class="Symbol">@(_</a> <a id="42710" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42712" class="Symbol">_)}</a> <a id="42716" class="Symbol">{</a><a id="42717" href="/lia/part1/Semantics/#42701" class="Bound">ψ</a> <a id="42719" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42721" href="/lia/part1/Semantics/#42697" class="Bound">φ</a> <a id="42723" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42725" href="/lia/part1/Semantics/#42725" class="Bound">Δ</a><a id="42726" class="Symbol">@(_</a> <a id="42730" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="42732" class="Symbol">_)}</a> <a id="42736" class="Symbol">(</a><a id="42737" href="/lia/part0/Permutations/#372" class="InductiveConstructor">swap</a> <a id="42742" href="/lia/part1/Semantics/#42742" class="Bound">π</a><a id="42743" class="Symbol">)</a> <a id="42745" href="/lia/part1/Semantics/#42745" class="Bound">ϱ</a>
  <a id="42749" class="Keyword">rewrite</a> <a id="42757" href="/lia/part0/Equality/#458" class="Function">sym</a> <a id="42761" class="Symbol">(</a><a id="42762" href="/lia/part1/Semantics/#27052" class="Function">assocOr</a> <a id="42770" href="/lia/part1/Semantics/#42697" class="Bound">φ</a> <a id="42772" href="/lia/part1/Semantics/#42701" class="Bound">ψ</a> <a id="42774" class="Symbol">(</a><a id="42775" href="/lia/part1/Semantics/#37757" class="Function Operator">⋁</a> <a id="42777" href="/lia/part1/Semantics/#42705" class="Bound">Γ</a><a id="42778" class="Symbol">)</a> <a id="42780" href="/lia/part1/Semantics/#42745" class="Bound">ϱ</a><a id="42781" class="Symbol">)</a> <a id="42783" class="Symbol">|</a>
          <a id="42795" href="/lia/part0/Equality/#458" class="Function">sym</a> <a id="42799" class="Symbol">(</a><a id="42800" href="/lia/part1/Semantics/#27052" class="Function">assocOr</a> <a id="42808" href="/lia/part1/Semantics/#42701" class="Bound">ψ</a> <a id="42810" href="/lia/part1/Semantics/#42697" class="Bound">φ</a> <a id="42812" class="Symbol">(</a><a id="42813" href="/lia/part1/Semantics/#37757" class="Function Operator">⋁</a> <a id="42815" href="/lia/part1/Semantics/#42725" class="Bound">Δ</a><a id="42816" class="Symbol">)</a> <a id="42818" href="/lia/part1/Semantics/#42745" class="Bound">ϱ</a><a id="42819" class="Symbol">)</a> <a id="42821" class="Symbol">|</a>
          <a id="42833" href="/lia/part1/Semantics/#27020" class="Function">commOr</a> <a id="42840" href="/lia/part1/Semantics/#42697" class="Bound">φ</a> <a id="42842" href="/lia/part1/Semantics/#42701" class="Bound">ψ</a> <a id="42844" href="/lia/part1/Semantics/#42745" class="Bound">ϱ</a> <a id="42846" class="Symbol">|</a>
          <a id="42858" href="/lia/part1/Semantics/#42041" class="Function">permOr</a> <a id="42865" href="/lia/part1/Semantics/#42742" class="Bound">π</a> <a id="42867" href="/lia/part1/Semantics/#42745" class="Bound">ϱ</a> <a id="42869" class="Symbol">=</a> <a id="42871" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="42877" href="/lia/part1/Semantics/#42041" class="CatchallClause Function">permOr</a><a id="42883" class="CatchallClause"> </a><a id="42884" class="CatchallClause Symbol">{</a><a id="42885" href="/lia/part1/Semantics/#42885" class="CatchallClause Bound">Γ</a><a id="42886" class="CatchallClause Symbol">}</a><a id="42887" class="CatchallClause"> </a><a id="42888" class="CatchallClause Symbol">{</a><a id="42889" href="/lia/part1/Semantics/#42889" class="CatchallClause Bound">Δ</a><a id="42890" class="CatchallClause Symbol">}</a><a id="42891" class="CatchallClause"> </a><a id="42892" class="CatchallClause Symbol">(</a><a id="42893" href="/lia/part0/Permutations/#425" class="CatchallClause InductiveConstructor">tran</a><a id="42897" class="CatchallClause"> </a><a id="42898" href="/lia/part1/Semantics/#42898" class="CatchallClause Bound">π</a><a id="42899" class="CatchallClause"> </a><a id="42900" href="/lia/part1/Semantics/#42900" class="CatchallClause Bound">ρ</a><a id="42901" class="CatchallClause Symbol">)</a><a id="42902" class="CatchallClause"> </a><a id="42903" href="/lia/part1/Semantics/#42903" class="CatchallClause Bound">ϱ</a>
  <a id="42907" class="Keyword">rewrite</a> <a id="42915" href="/lia/part1/Semantics/#42041" class="Function">permOr</a> <a id="42922" href="/lia/part1/Semantics/#42898" class="Bound">π</a> <a id="42924" href="/lia/part1/Semantics/#42903" class="Bound">ϱ</a> <a id="42926" class="Symbol">|</a>
          <a id="42938" href="/lia/part1/Semantics/#42041" class="Function">permOr</a> <a id="42945" href="/lia/part1/Semantics/#42900" class="Bound">ρ</a> <a id="42947" href="/lia/part1/Semantics/#42903" class="Bound">ϱ</a> <a id="42949" class="Symbol">=</a> <a id="42951" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

<p>TODO: put it somewhere and turn it into an exercise:</p>

<pre class="Agda"><a id="semantics-⟺"></a><a id="43019" href="/lia/part1/Semantics/#43019" class="Function">semantics-⟺</a> <a id="43031" class="Symbol">:</a>
  <a id="43035" href="/lia/part1/Semantics/#39084" class="Generalizable">Γ</a> <a id="43037" href="/lia/part1/Semantics/#39554" class="Function Operator">⊨</a> <a id="43039" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="43041" class="Symbol">→</a>
  <a id="43045" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="43047" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="43049" href="/lia/part1/Semantics/#3737" class="Generalizable">ψ</a> <a id="43051" class="Symbol">→</a>
  <a id="43055" class="Comment">--------</a>
  <a id="43066" href="/lia/part1/Semantics/#39084" class="Generalizable">Γ</a> <a id="43068" href="/lia/part1/Semantics/#39554" class="Function Operator">⊨</a> <a id="43070" href="/lia/part1/Semantics/#3737" class="Generalizable">ψ</a>

<a id="43073" href="/lia/part1/Semantics/#43019" class="Function">semantics-⟺</a> <a id="43085" href="/lia/part1/Semantics/#43085" class="Bound">Γ⊨φ</a> <a id="43089" href="/lia/part1/Semantics/#43089" class="Bound">φ⟺ψ</a> <a id="43093" href="/lia/part1/Semantics/#43093" class="Bound">ϱ</a> <a id="43095" href="/lia/part1/Semantics/#43095" class="Bound">all</a> <a id="43099" class="Keyword">rewrite</a> <a id="43107" href="/lia/part0/Equality/#458" class="Function">sym</a> <a id="43111" class="Symbol">(</a><a id="43112" href="/lia/part1/Semantics/#43089" class="Bound">φ⟺ψ</a> <a id="43116" href="/lia/part1/Semantics/#43093" class="Bound">ϱ</a><a id="43117" class="Symbol">)</a> <a id="43119" class="Symbol">=</a> <a id="43121" href="/lia/part1/Semantics/#43085" class="Bound">Γ⊨φ</a> <a id="43125" href="/lia/part1/Semantics/#43093" class="Bound">ϱ</a> <a id="43127" href="/lia/part1/Semantics/#43095" class="Bound">all</a></pre>

<h3 id="deduction-theorem">Deduction theorem</h3>

<p>The semantic deduction theorem establishes a close connection between
the implication connective <a href="#Formula._%E2%87%92_"><code class="language-plaintext highlighter-rouge">_⇒_</code></a> , which is a syntactic
object, and entailment <a href="#_%E2%8A%A8_"><code class="language-plaintext highlighter-rouge">_⊨_</code></a> , which is a semantic one. It
consists of two halves. The first half shows how to move a formula from
the formula to the context:</p>

<pre class="Agda"><a id="semDT1"></a><a id="43464" href="/lia/part1/Semantics/#43464" class="Function">semDT1</a> <a id="43471" class="Symbol">:</a> <a id="43473" class="Symbol">∀</a> <a id="43475" href="/lia/part1/Semantics/#43475" class="Bound">φ</a> <a id="43477" href="/lia/part1/Semantics/#43477" class="Bound">ψ</a> <a id="43479" class="Symbol">→</a>
  <a id="43483" href="/lia/part1/Semantics/#39084" class="Generalizable">Γ</a> <a id="43485" href="/lia/part1/Semantics/#39554" class="Function Operator">⊨</a> <a id="43487" href="/lia/part1/Semantics/#43475" class="Bound">φ</a> <a id="43489" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="43491" href="/lia/part1/Semantics/#43477" class="Bound">ψ</a> <a id="43493" class="Symbol">→</a>
  <a id="43497" class="Comment">---------</a>
  <a id="43509" href="/lia/part1/Semantics/#39084" class="Generalizable">Γ</a> <a id="43511" href="/lia/part1/Semantics/#39304" class="Function Operator">·</a> <a id="43513" href="/lia/part1/Semantics/#43475" class="Bound">φ</a> <a id="43515" href="/lia/part1/Semantics/#39554" class="Function Operator">⊨</a> <a id="43517" href="/lia/part1/Semantics/#43477" class="Bound">ψ</a></pre>

<p>The second half shows the converse operation:</p>

<pre class="Agda"><a id="semDT2"></a><a id="43575" href="/lia/part1/Semantics/#43575" class="Function">semDT2</a> <a id="43582" class="Symbol">:</a> <a id="43584" class="Symbol">∀</a> <a id="43586" href="/lia/part1/Semantics/#43586" class="Bound">φ</a> <a id="43588" href="/lia/part1/Semantics/#43588" class="Bound">ψ</a> <a id="43590" class="Symbol">→</a>
  <a id="43594" href="/lia/part1/Semantics/#39084" class="Generalizable">Γ</a> <a id="43596" href="/lia/part1/Semantics/#39304" class="Function Operator">·</a> <a id="43598" href="/lia/part1/Semantics/#43586" class="Bound">φ</a> <a id="43600" href="/lia/part1/Semantics/#39554" class="Function Operator">⊨</a> <a id="43602" href="/lia/part1/Semantics/#43588" class="Bound">ψ</a> <a id="43604" class="Symbol">→</a>
  <a id="43608" class="Comment">----------</a>
  <a id="43621" href="/lia/part1/Semantics/#39084" class="Generalizable">Γ</a> <a id="43623" href="/lia/part1/Semantics/#39554" class="Function Operator">⊨</a> <a id="43625" href="/lia/part1/Semantics/#43586" class="Bound">φ</a> <a id="43627" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="43629" href="/lia/part1/Semantics/#43588" class="Bound">ψ</a></pre>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:sem-DT" class="pandoc-numbering-text exercise"><strong>Exercise 18</strong> <em>(Semantic deduction theorem)</em></span></dt>
    <dd>Prove the two parts <a href="#semDT2"><code class="language-plaintext highlighter-rouge">semDT2</code></a> and <a href="#semDT1"><code class="language-plaintext highlighter-rouge">semDT1</code></a> of
the semantic deduction theorem.</dd>
  </dl>

  <pre data-executable="true" data-language="agda" id="part1.Semantics.semDT">
module part1.Semantics.semDT where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (semDT1 to semDT1-orig; semDT2 to semDT2-orig)

semDT1 : typeOf semDT1-orig
semDT2 : typeOf semDT2-orig

-- BEGIN SOLUTION
semDT1 = ?
semDT2 = ?</pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:sem-DT-solution)
:::::::
-->

</div>

<p>By repeated application of the semantic deduction theorem, we can in
fact move all formulas from one side to the other. First, we define
“long implications”:</p>

<pre class="Agda"><a id="44892" class="Keyword">infix</a> <a id="44898" class="Number">10</a> <a id="44901" href="/lia/part1/Semantics/#44909" class="Function Operator">_Imply_</a>
<a id="_Imply_"></a><a id="44909" href="/lia/part1/Semantics/#44909" class="Function Operator">_Imply_</a> <a id="44917" class="Symbol">:</a> <a id="44919" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="44927" href="/lia/part0/List/#468" class="Datatype Operator">*</a> <a id="44929" class="Symbol">→</a> <a id="44931" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="44939" class="Symbol">→</a> <a id="44941" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a>
<a id="44949" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a> <a id="44951" href="/lia/part1/Semantics/#44909" class="Function Operator">Imply</a> <a id="44957" href="/lia/part1/Semantics/#44957" class="Bound">φ</a> <a id="44959" class="Symbol">=</a> <a id="44961" href="/lia/part1/Semantics/#44957" class="Bound">φ</a>
<a id="44963" class="Symbol">(</a><a id="44964" href="/lia/part1/Semantics/#44964" class="Bound">ψ</a> <a id="44966" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="44968" href="/lia/part1/Semantics/#44968" class="Bound">Δ</a><a id="44969" class="Symbol">)</a> <a id="44971" href="/lia/part1/Semantics/#44909" class="Function Operator">Imply</a> <a id="44977" href="/lia/part1/Semantics/#44977" class="Bound">φ</a> <a id="44979" class="Symbol">=</a> <a id="44981" href="/lia/part1/Semantics/#44968" class="Bound">Δ</a> <a id="44983" href="/lia/part1/Semantics/#44909" class="Function Operator">Imply</a> <a id="44989" class="Symbol">(</a><a id="44990" href="/lia/part1/Semantics/#44964" class="Bound">ψ</a> <a id="44992" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="44994" href="/lia/part1/Semantics/#44977" class="Bound">φ</a><a id="44995" class="Symbol">)</a></pre>

<p>For instance,</p>

<pre class="Agda"><a id="45021" href="/lia/part1/Semantics/#45021" class="Function">_</a> <a id="45023" class="Symbol">:</a> <a id="45025" href="/lia/part1/Semantics/#39042" class="Function">∅</a> <a id="45027" href="/lia/part1/Semantics/#39304" class="Function Operator">·</a> <a id="45029" href="/lia/part1/Semantics/#4397" class="Function">φ₀</a> <a id="45032" href="/lia/part1/Semantics/#39304" class="Function Operator">·</a> <a id="45034" href="/lia/part1/Semantics/#4475" class="Function">φ₁</a> <a id="45037" href="/lia/part1/Semantics/#44909" class="Function Operator">Imply</a> <a id="45043" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="45045" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="45048" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="45050" href="/lia/part1/Semantics/#4397" class="Function">φ₀</a> <a id="45053" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="45055" href="/lia/part1/Semantics/#4475" class="Function">φ₁</a> <a id="45058" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="45060" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="45062" href="/lia/part1/Semantics/#1194" class="Function">p₀</a>
<a id="45065" class="Symbol">_</a> <a id="45067" class="Symbol">=</a> <a id="45069" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

<p>TODO: put it in context as an application of DT</p>

<pre class="Agda"><a id="modus-ponens"></a><a id="45132" href="/lia/part1/Semantics/#45132" class="Function">modus-ponens</a> <a id="45145" class="Symbol">:</a> <a id="45147" class="Symbol">∀</a> <a id="45149" class="Symbol">{</a><a id="45150" href="/lia/part1/Semantics/#45150" class="Bound">Γ</a><a id="45151" class="Symbol">}</a> <a id="45153" href="/lia/part1/Semantics/#45153" class="Bound">φ</a> <a id="45155" href="/lia/part1/Semantics/#45155" class="Bound">ψ</a> <a id="45157" class="Symbol">→</a>
  <a id="45161" href="/lia/part1/Semantics/#45150" class="Bound">Γ</a> <a id="45163" href="/lia/part1/Semantics/#39554" class="Function Operator">⊨</a> <a id="45165" href="/lia/part1/Semantics/#45153" class="Bound">φ</a> <a id="45167" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="45169" href="/lia/part1/Semantics/#45155" class="Bound">ψ</a> <a id="45171" class="Symbol">→</a>
  <a id="45175" href="/lia/part1/Semantics/#45150" class="Bound">Γ</a> <a id="45177" href="/lia/part1/Semantics/#39554" class="Function Operator">⊨</a> <a id="45179" href="/lia/part1/Semantics/#45153" class="Bound">φ</a> <a id="45181" class="Symbol">→</a>
  <a id="45185" class="Comment">------</a>
  <a id="45194" href="/lia/part1/Semantics/#45150" class="Bound">Γ</a> <a id="45196" href="/lia/part1/Semantics/#39554" class="Function Operator">⊨</a> <a id="45198" href="/lia/part1/Semantics/#45155" class="Bound">ψ</a>

<a id="45201" href="/lia/part1/Semantics/#45132" class="Function">modus-ponens</a> <a id="45214" href="/lia/part1/Semantics/#45214" class="Bound">φ</a> <a id="45216" href="/lia/part1/Semantics/#45216" class="Bound">ψ</a> <a id="45218" href="/lia/part1/Semantics/#45218" class="Bound">Γ⊨φ⇒ψ</a> <a id="45224" href="/lia/part1/Semantics/#45224" class="Bound">Γ⊨φ</a> <a id="45228" href="/lia/part1/Semantics/#45228" class="Bound">ϱ</a> <a id="45230" href="/lia/part1/Semantics/#45230" class="Bound">x</a>
 <a id="45233" class="Keyword">with</a> <a id="45238" href="/lia/part1/Semantics/#43464" class="Function">semDT1</a> <a id="45245" href="/lia/part1/Semantics/#45214" class="Bound">φ</a> <a id="45247" href="/lia/part1/Semantics/#45216" class="Bound">ψ</a> <a id="45249" href="/lia/part1/Semantics/#45218" class="Bound">Γ⊨φ⇒ψ</a>
<a id="45255" class="Symbol">...</a> <a id="45259" class="Symbol">|</a> <a id="45261" href="/lia/part1/Semantics/#45261" class="Bound">Γ·φ⊨ψ</a> <a id="45267" class="Symbol">=</a> <a id="45269" href="/lia/part1/Semantics/#45261" class="Bound">Γ·φ⊨ψ</a> <a id="45275" class="Bound">ϱ</a> <a id="45277" class="Symbol">λ{</a> <a id="45280" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a> <a id="45285" class="Symbol">→</a> <a id="45287" class="Bound">Γ⊨φ</a> <a id="45291" class="Bound">ϱ</a> <a id="45293" class="Bound">x</a>
                        <a id="45319" class="Symbol">;</a> <a id="45321" class="Symbol">(</a><a id="45322" href="/lia/part0/List/#8065" class="InductiveConstructor">there</a> <a id="45328" href="/lia/part1/Semantics/#45328" class="Bound">y</a><a id="45329" class="Symbol">)</a> <a id="45331" class="Symbol">→</a> <a id="45333" class="Bound">x</a> <a id="45335" href="/lia/part1/Semantics/#45328" class="Bound">y</a><a id="45336" class="Symbol">}</a></pre>

<p>We can now state the following “long” versions of the semantic deduction
theorem.</p>

<pre class="Agda"><a id="longSemDT1"></a><a id="45430" href="/lia/part1/Semantics/#45430" class="Function">longSemDT1</a> <a id="45441" class="Symbol">:</a>
  <a id="45445" href="/lia/part1/Semantics/#39086" class="Generalizable">Δ</a> <a id="45447" href="/lia/part1/Semantics/#39554" class="Function Operator">⊨</a> <a id="45449" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="45451" class="Symbol">→</a>
  <a id="45455" class="Comment">-------------</a>
  <a id="45471" href="/lia/part1/Semantics/#39042" class="Function">∅</a> <a id="45473" href="/lia/part1/Semantics/#39554" class="Function Operator">⊨</a> <a id="45475" href="/lia/part1/Semantics/#39086" class="Generalizable">Δ</a> <a id="45477" href="/lia/part1/Semantics/#44909" class="Function Operator">Imply</a> <a id="45483" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a>

<a id="longSemDT2"></a><a id="45486" href="/lia/part1/Semantics/#45486" class="Function">longSemDT2</a> <a id="45497" class="Symbol">:</a>
  <a id="45501" href="/lia/part1/Semantics/#39042" class="Function">∅</a> <a id="45503" href="/lia/part1/Semantics/#39554" class="Function Operator">⊨</a> <a id="45505" href="/lia/part1/Semantics/#39086" class="Generalizable">Δ</a> <a id="45507" href="/lia/part1/Semantics/#44909" class="Function Operator">Imply</a> <a id="45513" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="45515" class="Symbol">→</a>
  <a id="45519" class="Comment">-----</a>
  <a id="45527" href="/lia/part1/Semantics/#39086" class="Generalizable">Δ</a> <a id="45529" href="/lia/part1/Semantics/#39554" class="Function Operator">⊨</a> <a id="45531" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a></pre>

<div class="introbox">

  <p>The proofs are a straightforward applications of <a href="#semDT2"><code class="language-plaintext highlighter-rouge">semDT2</code></a> and
<a href="#semDT1"><code class="language-plaintext highlighter-rouge">semDT1</code></a> .
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="45658" href="/lia/part1/Semantics/#45430" class="Function">longSemDT1</a> <a id="45669" class="Symbol">{</a><a id="45670" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a><a id="45671" class="Symbol">}</a> <a id="45673" class="Symbol">{</a><a id="45674" href="/lia/part1/Semantics/#45674" class="Bound">φ</a><a id="45675" class="Symbol">}</a> <a id="45677" href="/lia/part1/Semantics/#45677" class="Bound">ε⊨φ</a> <a id="45681" class="Symbol">=</a> <a id="45683" href="/lia/part1/Semantics/#45677" class="Bound">ε⊨φ</a>
<a id="45687" href="/lia/part1/Semantics/#45430" class="Function">longSemDT1</a> <a id="45698" class="Symbol">{</a><a id="45699" href="/lia/part1/Semantics/#45699" class="Bound">ψ</a> <a id="45701" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="45703" href="/lia/part1/Semantics/#45703" class="Bound">Δ</a><a id="45704" class="Symbol">}</a> <a id="45706" class="Symbol">{</a><a id="45707" href="/lia/part1/Semantics/#45707" class="Bound">φ</a><a id="45708" class="Symbol">}</a> <a id="45710" href="/lia/part1/Semantics/#45710" class="Bound">ψ∷Δ⊨φ</a> <a id="45716" class="Symbol">=</a> <a id="45718" href="/lia/part1/Semantics/#45430" class="Function">longSemDT1</a> <a id="45729" class="Symbol">{</a><a id="45730" href="/lia/part1/Semantics/#45703" class="Bound">Δ</a><a id="45731" class="Symbol">}</a> <a id="45733" class="Symbol">{</a><a id="45734" href="/lia/part1/Semantics/#45699" class="Bound">ψ</a> <a id="45736" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="45738" href="/lia/part1/Semantics/#45707" class="Bound">φ</a><a id="45739" class="Symbol">}</a> <a id="45741" class="Symbol">(</a><a id="45742" href="/lia/part1/Semantics/#43575" class="Function">semDT2</a> <a id="45749" href="/lia/part1/Semantics/#45699" class="Bound">ψ</a> <a id="45751" href="/lia/part1/Semantics/#45707" class="Bound">φ</a> <a id="45753" href="/lia/part1/Semantics/#45710" class="Bound">ψ∷Δ⊨φ</a><a id="45758" class="Symbol">)</a>

<a id="45761" href="/lia/part1/Semantics/#45486" class="Function">longSemDT2</a> <a id="45772" class="Symbol">{</a><a id="45773" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a><a id="45774" class="Symbol">}</a> <a id="45776" class="Symbol">{</a><a id="45777" href="/lia/part1/Semantics/#45777" class="Bound">φ</a><a id="45778" class="Symbol">}</a> <a id="45780" href="/lia/part1/Semantics/#45780" class="Bound">∅⊨φ</a> <a id="45784" href="/lia/part1/Semantics/#45784" class="Bound">ϱ</a> <a id="45786" href="/lia/part1/Semantics/#45786" class="Bound">All∅</a> <a id="45791" class="Symbol">=</a> <a id="45793" href="/lia/part1/Semantics/#45780" class="Bound">∅⊨φ</a> <a id="45797" href="/lia/part1/Semantics/#45784" class="Bound">ϱ</a> <a id="45799" href="/lia/part1/Semantics/#45786" class="Bound">All∅</a>
<a id="45804" href="/lia/part1/Semantics/#45486" class="Function">longSemDT2</a> <a id="45815" class="Symbol">{</a><a id="45816" href="/lia/part1/Semantics/#45816" class="Bound">ψ</a> <a id="45818" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="45820" href="/lia/part1/Semantics/#45820" class="Bound">Δ</a><a id="45821" class="Symbol">}</a> <a id="45823" class="Symbol">{</a><a id="45824" href="/lia/part1/Semantics/#45824" class="Bound">φ</a><a id="45825" class="Symbol">}</a> <a id="45827" href="/lia/part1/Semantics/#45827" class="Bound">∅⊨ΔImplyφ</a> <a id="45837" class="Symbol">=</a> <a id="45839" href="/lia/part1/Semantics/#43464" class="Function">semDT1</a> <a id="45846" href="/lia/part1/Semantics/#45816" class="Bound">ψ</a> <a id="45848" href="/lia/part1/Semantics/#45824" class="Bound">φ</a> <a id="45850" class="Symbol">(</a><a id="45851" href="/lia/part1/Semantics/#45486" class="Function">longSemDT2</a> <a id="45862" class="Symbol">{</a><a id="45863" href="/lia/part1/Semantics/#45820" class="Bound">Δ</a><a id="45864" class="Symbol">}</a> <a id="45866" class="Symbol">{</a><a id="45867" href="/lia/part1/Semantics/#45816" class="Bound">ψ</a> <a id="45869" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="45871" href="/lia/part1/Semantics/#45824" class="Bound">φ</a><a id="45872" class="Symbol">}</a> <a id="45874" href="/lia/part1/Semantics/#45827" class="Bound">∅⊨ΔImplyφ</a><a id="45883" class="Symbol">)</a></pre>

</div>

<h1 id="formula-simplification">
<a class="anchor" href="#formula-simplification" aria-hidden="true"><span class="octicon octicon-link"></span></a>Formula simplification</h1>

<p>In this section we present a procedure to simplify formulas. We start
with a simple use case to illustrate some practical difficulties that
naturally arise. Suppose we want to remove a single outmost double
negation <code class="language-plaintext highlighter-rouge">¬ ¬ φ</code> in a formula. A natural definition would be the
following:</p>

<pre class="Agda"><a id="remove-¬¬1"></a><a id="46214" href="/lia/part1/Semantics/#46214" class="Function">remove-¬¬1</a> <a id="46225" class="Symbol">:</a> <a id="46227" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="46235" class="Symbol">→</a> <a id="46237" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a>
<a id="46245" href="/lia/part1/Semantics/#46214" class="Function">remove-¬¬1</a> <a id="46256" class="Symbol">(</a><a id="46257" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="46259" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="46261" href="/lia/part1/Semantics/#46261" class="Bound">φ</a><a id="46262" class="Symbol">)</a> <a id="46264" class="Symbol">=</a> <a id="46266" href="/lia/part1/Semantics/#46261" class="Bound">φ</a>
<a id="46268" href="/lia/part1/Semantics/#46214" class="CatchallClause Function">remove-¬¬1</a><a id="46278" class="CatchallClause"> </a><a id="46279" href="/lia/part1/Semantics/#46279" class="CatchallClause Bound">φ</a> <a id="46281" class="Symbol">=</a> <a id="46283" href="/lia/part1/Semantics/#46279" class="Bound">φ</a></pre>

<p>The next step is to prove that the definition above is correct:</p>

<pre class="Agda"><a id="remove-¬¬1-correctness"></a><a id="46359" href="/lia/part1/Semantics/#46359" class="Function">remove-¬¬1-correctness</a> <a id="46382" class="Symbol">:</a> <a id="46384" class="Symbol">∀</a> <a id="46386" href="/lia/part1/Semantics/#46386" class="Bound">φ</a> <a id="46388" class="Symbol">→</a> <a id="46390" href="/lia/part1/Semantics/#46386" class="Bound">φ</a> <a id="46392" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="46394" href="/lia/part1/Semantics/#46214" class="Function">remove-¬¬1</a> <a id="46405" href="/lia/part1/Semantics/#46386" class="Bound">φ</a></pre>

<p>Due to the nature of pattern matching in Agda, the following does not
work as expected:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>remove-¬¬1-correctness (¬ ¬ φ) ϱ = refl
remove-¬¬1-correctness φ ϱ = refl
</code></pre></div></div>

<p>The interpreter is not able to expand <code class="language-plaintext highlighter-rouge">remove-¬¬1 φ</code> into <code class="language-plaintext highlighter-rouge">φ</code> in the
second clause. In order to trigger evaluation, we need to convince the
interpreter that <code class="language-plaintext highlighter-rouge">φ</code> is not of the form <code class="language-plaintext highlighter-rouge">¬ ¬ ψ</code>, requiring us to list
many more cases that we may like to:</p>

<div class="introbox">

  <pre class="Agda"><a id="46849" href="/lia/part1/Semantics/#46359" class="Function">remove-¬¬1-correctness</a> <a id="46872" class="Symbol">(</a><a id="46873" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="46875" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="46877" href="/lia/part1/Semantics/#46877" class="Bound">φ</a><a id="46878" class="Symbol">)</a> <a id="46880" href="/lia/part1/Semantics/#46880" class="Bound">ϱ</a> <a id="46882" class="Symbol">=</a> <a id="46884" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="46889" href="/lia/part1/Semantics/#46359" class="Function">remove-¬¬1-correctness</a> <a id="46912" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="46914" href="/lia/part1/Semantics/#46914" class="Bound">ϱ</a> <a id="46916" class="Symbol">=</a> <a id="46918" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="46923" href="/lia/part1/Semantics/#46359" class="Function">remove-¬¬1-correctness</a> <a id="46946" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="46948" href="/lia/part1/Semantics/#46948" class="Bound">ϱ</a> <a id="46950" class="Symbol">=</a> <a id="46952" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="46957" class="Comment">{- ... and many more ... -}</a></pre>

  <p><button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="47007" href="/lia/part1/Semantics/#46359" class="Function">remove-¬¬1-correctness</a> <a id="47030" class="Symbol">(</a><a id="47031" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="47033" href="/lia/part1/Semantics/#47033" class="Bound">p</a><a id="47034" class="Symbol">)</a> <a id="47036" href="/lia/part1/Semantics/#47036" class="Bound">ϱ</a> <a id="47038" class="Symbol">=</a> <a id="47040" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="47045" href="/lia/part1/Semantics/#46359" class="Function">remove-¬¬1-correctness</a> <a id="47068" class="Symbol">(</a><a id="47069" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="47071" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a><a id="47072" class="Symbol">)</a> <a id="47074" href="/lia/part1/Semantics/#47074" class="Bound">ϱ</a> <a id="47076" class="Symbol">=</a> <a id="47078" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="47083" href="/lia/part1/Semantics/#46359" class="Function">remove-¬¬1-correctness</a> <a id="47106" class="Symbol">(</a><a id="47107" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="47109" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a><a id="47110" class="Symbol">)</a> <a id="47112" href="/lia/part1/Semantics/#47112" class="Bound">ϱ</a> <a id="47114" class="Symbol">=</a> <a id="47116" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="47121" href="/lia/part1/Semantics/#46359" class="Function">remove-¬¬1-correctness</a> <a id="47144" class="Symbol">(</a><a id="47145" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="47147" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="47149" href="/lia/part1/Semantics/#47149" class="Bound">p</a><a id="47150" class="Symbol">)</a> <a id="47152" href="/lia/part1/Semantics/#47152" class="Bound">ϱ</a> <a id="47154" class="Symbol">=</a> <a id="47156" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="47161" href="/lia/part1/Semantics/#46359" class="Function">remove-¬¬1-correctness</a> <a id="47184" class="Symbol">(</a><a id="47185" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="47187" class="Symbol">(</a><a id="47188" href="/lia/part1/Semantics/#47188" class="Bound">φ</a> <a id="47190" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="47192" href="/lia/part1/Semantics/#47192" class="Bound">ψ</a><a id="47193" class="Symbol">))</a> <a id="47196" href="/lia/part1/Semantics/#47196" class="Bound">ϱ</a> <a id="47198" class="Symbol">=</a> <a id="47200" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="47205" href="/lia/part1/Semantics/#46359" class="Function">remove-¬¬1-correctness</a> <a id="47228" class="Symbol">(</a><a id="47229" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="47231" class="Symbol">(</a><a id="47232" href="/lia/part1/Semantics/#47232" class="Bound">φ</a> <a id="47234" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="47236" href="/lia/part1/Semantics/#47236" class="Bound">ψ</a><a id="47237" class="Symbol">))</a> <a id="47240" href="/lia/part1/Semantics/#47240" class="Bound">ϱ</a> <a id="47242" class="Symbol">=</a> <a id="47244" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="47249" href="/lia/part1/Semantics/#46359" class="Function">remove-¬¬1-correctness</a> <a id="47272" class="Symbol">(</a><a id="47273" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="47275" class="Symbol">(</a><a id="47276" href="/lia/part1/Semantics/#47276" class="Bound">φ</a> <a id="47278" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="47280" href="/lia/part1/Semantics/#47280" class="Bound">ψ</a><a id="47281" class="Symbol">))</a> <a id="47284" href="/lia/part1/Semantics/#47284" class="Bound">ϱ</a> <a id="47286" class="Symbol">=</a> <a id="47288" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="47293" href="/lia/part1/Semantics/#46359" class="Function">remove-¬¬1-correctness</a> <a id="47316" class="Symbol">(</a><a id="47317" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="47319" class="Symbol">(</a><a id="47320" href="/lia/part1/Semantics/#47320" class="Bound">φ</a> <a id="47322" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="47324" href="/lia/part1/Semantics/#47324" class="Bound">ψ</a><a id="47325" class="Symbol">))</a> <a id="47328" href="/lia/part1/Semantics/#47328" class="Bound">ϱ</a> <a id="47330" class="Symbol">=</a> <a id="47332" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="47337" href="/lia/part1/Semantics/#46359" class="Function">remove-¬¬1-correctness</a> <a id="47360" class="Symbol">(</a><a id="47361" href="/lia/part1/Semantics/#47361" class="Bound">φ</a> <a id="47363" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="47365" href="/lia/part1/Semantics/#47365" class="Bound">ψ</a><a id="47366" class="Symbol">)</a> <a id="47368" href="/lia/part1/Semantics/#47368" class="Bound">ϱ</a> <a id="47370" class="Symbol">=</a> <a id="47372" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="47377" href="/lia/part1/Semantics/#46359" class="Function">remove-¬¬1-correctness</a> <a id="47400" class="Symbol">(</a><a id="47401" href="/lia/part1/Semantics/#47401" class="Bound">φ</a> <a id="47403" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="47405" href="/lia/part1/Semantics/#47405" class="Bound">ψ</a><a id="47406" class="Symbol">)</a> <a id="47408" href="/lia/part1/Semantics/#47408" class="Bound">ϱ</a> <a id="47410" class="Symbol">=</a> <a id="47412" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="47417" href="/lia/part1/Semantics/#46359" class="Function">remove-¬¬1-correctness</a> <a id="47440" class="Symbol">(</a><a id="47441" href="/lia/part1/Semantics/#47441" class="Bound">φ</a> <a id="47443" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="47445" href="/lia/part1/Semantics/#47445" class="Bound">ψ</a><a id="47446" class="Symbol">)</a> <a id="47448" href="/lia/part1/Semantics/#47448" class="Bound">ϱ</a> <a id="47450" class="Symbol">=</a> <a id="47452" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="47457" href="/lia/part1/Semantics/#46359" class="Function">remove-¬¬1-correctness</a> <a id="47480" class="Symbol">(</a><a id="47481" href="/lia/part1/Semantics/#47481" class="Bound">φ</a> <a id="47483" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="47485" href="/lia/part1/Semantics/#47485" class="Bound">ψ</a><a id="47486" class="Symbol">)</a> <a id="47488" href="/lia/part1/Semantics/#47488" class="Bound">ϱ</a> <a id="47490" class="Symbol">=</a> <a id="47492" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

</div>

<h2 id="views">
<a class="anchor" href="#views" aria-hidden="true"><span class="octicon octicon-link"></span></a>Views</h2>

<p>The standard solution in a case like this is to use <em>views</em>
[<a href="#ref-Wadler:POPL:1987">Wadler(1987)</a>, <a href="#ref-McBrideMcKinna:JFL:2004">McBride and
McKinna(2004)</a>].</p>

<p>An inductive definition such as <a href="#Formula"><code class="language-plaintext highlighter-rouge">Formula</code></a> provides what we
may call the “default view,” i.e., whether a formula is
<a href="#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> , <a href="#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> , and so on. A definition by
structural recursion on <a href="#Formula"><code class="language-plaintext highlighter-rouge">Formula</code></a> such as <a href="#%E2%9F%A6_%E2%9F%A7_"><code class="language-plaintext highlighter-rouge">⟦_⟧_</code></a> is
using this default view.</p>

<p>When the default view is not adequate, we can define alternative views
(presentations) of the same data. In our use case, the view should
reflect the recursive structure of <a href="#remove-%C2%AC%C2%AC1"><code class="language-plaintext highlighter-rouge">remove-¬¬1</code></a> . We may
thus say that a view is a means to encode recursion into data. In our
example, we will have two constructors, depending on whether the formula
is a double negation or not:</p>

<pre class="Agda"><a id="48269" class="Keyword">data</a> <a id="Remove-¬¬-View"></a><a id="48274" href="/lia/part1/Semantics/#48274" class="Datatype">Remove-¬¬-View</a> <a id="48289" class="Symbol">:</a> <a id="48291" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="48299" class="Symbol">→</a> <a id="48301" class="PrimitiveType">Set</a> <a id="48305" class="Keyword">where</a>
  <a id="Remove-¬¬-View.go-¬¬"></a><a id="48313" href="/lia/part1/Semantics/#48313" class="InductiveConstructor">go-¬¬</a> <a id="48319" class="Symbol">:</a> <a id="48321" class="Symbol">∀</a> <a id="48323" href="/lia/part1/Semantics/#48323" class="Bound">ψ</a> <a id="48325" class="Symbol">→</a> <a id="48327" href="/lia/part1/Semantics/#48274" class="Datatype">Remove-¬¬-View</a> <a id="48342" class="Symbol">(</a><a id="48343" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="48345" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="48347" href="/lia/part1/Semantics/#48323" class="Bound">ψ</a><a id="48348" class="Symbol">)</a>
  <a id="Remove-¬¬-View.stop"></a><a id="48352" href="/lia/part1/Semantics/#48352" class="InductiveConstructor">stop</a> <a id="48357" class="Symbol">:</a> <a id="48359" class="Symbol">∀</a> <a id="48361" href="/lia/part1/Semantics/#48361" class="Bound">ψ</a> <a id="48363" class="Symbol">→</a> <a id="48365" href="/lia/part1/Semantics/#48274" class="Datatype">Remove-¬¬-View</a> <a id="48380" href="/lia/part1/Semantics/#48361" class="Bound">ψ</a></pre>

<p>A view for formulas has the general type <code class="language-plaintext highlighter-rouge">Formula → Set</code>, and can thus
be thought of as a property of formulas. The peculiar things about views
is that every formula will have a view for it (after all we are encoding
total functions). The following unsurprising function computes the view
corresponding to the input formula:</p>

<pre class="Agda"><a id="remove-¬¬-View"></a><a id="48717" href="/lia/part1/Semantics/#48717" class="Function">remove-¬¬-View</a> <a id="48732" class="Symbol">:</a> <a id="48734" class="Symbol">∀</a> <a id="48736" href="/lia/part1/Semantics/#48736" class="Bound">φ</a> <a id="48738" class="Symbol">→</a> <a id="48740" href="/lia/part1/Semantics/#48274" class="Datatype">Remove-¬¬-View</a> <a id="48755" href="/lia/part1/Semantics/#48736" class="Bound">φ</a>
<a id="48757" href="/lia/part1/Semantics/#48717" class="Function">remove-¬¬-View</a> <a id="48772" class="Symbol">(</a><a id="48773" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="48775" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="48777" href="/lia/part1/Semantics/#48777" class="Bound">φ</a><a id="48778" class="Symbol">)</a> <a id="48780" class="Symbol">=</a> <a id="48782" href="/lia/part1/Semantics/#48313" class="InductiveConstructor">go-¬¬</a> <a id="48788" href="/lia/part1/Semantics/#48777" class="Bound">φ</a>
<a id="48790" href="/lia/part1/Semantics/#48717" class="CatchallClause Function">remove-¬¬-View</a><a id="48804" class="CatchallClause"> </a><a id="48805" href="/lia/part1/Semantics/#48805" class="CatchallClause Bound">φ</a> <a id="48807" class="Symbol">=</a> <a id="48809" href="/lia/part1/Semantics/#48352" class="InductiveConstructor">stop</a> <a id="48814" href="/lia/part1/Semantics/#48805" class="Bound">φ</a></pre>

<p>The function <a href="#remove-%C2%AC%C2%AC-View"><code class="language-plaintext highlighter-rouge">remove-¬¬-View</code></a> is as simple as it
gets. In particular, we can use the catch-all pattern in the second case
to already decide that the output will be <code class="language-plaintext highlighter-rouge">stop φ</code>. Once we have a way
of computing the view of interest, we can use it to encode
<a href="#remove-%C2%AC%C2%AC"><code class="language-plaintext highlighter-rouge">remove-¬¬</code></a> and its correctness proof
<a href="#remove-%C2%AC%C2%AC-correctness"><code class="language-plaintext highlighter-rouge">remove-¬¬-correctness</code></a> :</p>

<pre class="Agda"><a id="remove-¬¬"></a><a id="49153" href="/lia/part1/Semantics/#49153" class="Function">remove-¬¬</a> <a id="49163" class="Symbol">:</a> <a id="49165" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="49173" class="Symbol">→</a> <a id="49175" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a>
<a id="49183" href="/lia/part1/Semantics/#49153" class="Function">remove-¬¬</a> <a id="49193" href="/lia/part1/Semantics/#49193" class="Bound">φ</a> <a id="49195" class="Keyword">with</a> <a id="49200" href="/lia/part1/Semantics/#48717" class="Function">remove-¬¬-View</a> <a id="49215" href="/lia/part1/Semantics/#49193" class="Bound">φ</a>
<a id="49217" class="Symbol">...</a> <a id="49221" class="Symbol">|</a> <a id="49223" href="/lia/part1/Semantics/#48313" class="InductiveConstructor">go-¬¬</a> <a id="49229" href="/lia/part1/Semantics/#49229" class="Bound">ψ</a> <a id="49231" class="Symbol">=</a> <a id="49233" href="/lia/part1/Semantics/#49229" class="Bound">ψ</a>
<a id="49235" class="Symbol">...</a> <a id="49239" class="Symbol">|</a> <a id="49241" href="/lia/part1/Semantics/#48352" class="InductiveConstructor">stop</a> <a id="49246" href="/lia/part1/Semantics/#49246" class="Bound">ψ</a> <a id="49248" class="Symbol">=</a> <a id="49250" href="/lia/part1/Semantics/#49246" class="Bound">ψ</a></pre>
<pre class="Agda"><a id="remove-¬¬-correctness"></a><a id="49261" href="/lia/part1/Semantics/#49261" class="Function">remove-¬¬-correctness</a> <a id="49283" class="Symbol">:</a> <a id="49285" class="Symbol">∀</a> <a id="49287" href="/lia/part1/Semantics/#49287" class="Bound">φ</a> <a id="49289" class="Symbol">→</a> <a id="49291" href="/lia/part1/Semantics/#49287" class="Bound">φ</a> <a id="49293" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="49295" href="/lia/part1/Semantics/#49153" class="Function">remove-¬¬</a> <a id="49305" href="/lia/part1/Semantics/#49287" class="Bound">φ</a>
<a id="49307" href="/lia/part1/Semantics/#49261" class="Function">remove-¬¬-correctness</a> <a id="49329" href="/lia/part1/Semantics/#49329" class="Bound">φ</a> <a id="49331" href="/lia/part1/Semantics/#49331" class="Bound">ϱ</a> <a id="49333" class="Keyword">with</a> <a id="49338" href="/lia/part1/Semantics/#48717" class="Function">remove-¬¬-View</a> <a id="49353" href="/lia/part1/Semantics/#49329" class="Bound">φ</a>
<a id="49355" class="Symbol">...</a> <a id="49359" class="Symbol">|</a> <a id="49361" href="/lia/part1/Semantics/#48313" class="InductiveConstructor">go-¬¬</a> <a id="49367" href="/lia/part1/Semantics/#49367" class="Bound">ψ</a> <a id="49369" class="Symbol">=</a> <a id="49371" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="49376" class="Symbol">...</a> <a id="49380" class="Symbol">|</a> <a id="49382" href="/lia/part1/Semantics/#48352" class="InductiveConstructor">stop</a> <a id="49387" href="/lia/part1/Semantics/#49387" class="Bound">ψ</a> <a id="49389" class="Symbol">=</a> <a id="49391" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

<p>It is instructive to compare
<a href="#remove-%C2%AC%C2%AC-correctness"><code class="language-plaintext highlighter-rouge">remove-¬¬-correctness</code></a> with
<a href="#remove-%C2%AC%C2%AC1-correctness"><code class="language-plaintext highlighter-rouge">remove-¬¬1-correctness</code></a> w.r.t. size.</p>

<p>Views may look a little roundabout at first. One may wonder whether the
following simpler datatype may work too:</p>

<pre class="Agda"><a id="49624" class="Keyword">data</a> <a id="Remove-¬¬-View′"></a><a id="49629" href="/lia/part1/Semantics/#49629" class="Datatype">Remove-¬¬-View′</a> <a id="49645" class="Symbol">:</a> <a id="49647" class="PrimitiveType">Set</a> <a id="49651" class="Keyword">where</a>
  <a id="Remove-¬¬-View′.go-¬¬′"></a><a id="49659" href="/lia/part1/Semantics/#49659" class="InductiveConstructor">go-¬¬′</a> <a id="49666" class="Symbol">:</a> <a id="49668" href="/lia/part1/Semantics/#49629" class="Datatype">Remove-¬¬-View′</a>
  <a id="Remove-¬¬-View′.stop′"></a><a id="49686" href="/lia/part1/Semantics/#49686" class="InductiveConstructor">stop′</a> <a id="49692" class="Symbol">:</a> <a id="49694" href="/lia/part1/Semantics/#49629" class="Datatype">Remove-¬¬-View′</a>

<a id="remove-¬¬-View′"></a><a id="49711" href="/lia/part1/Semantics/#49711" class="Function">remove-¬¬-View′</a> <a id="49727" class="Symbol">:</a> <a id="49729" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="49737" class="Symbol">→</a> <a id="49739" href="/lia/part1/Semantics/#49629" class="Datatype">Remove-¬¬-View′</a>
<a id="49755" href="/lia/part1/Semantics/#49711" class="Function">remove-¬¬-View′</a> <a id="49771" class="Symbol">(</a><a id="49772" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="49774" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="49776" href="/lia/part1/Semantics/#49776" class="Bound">φ</a><a id="49777" class="Symbol">)</a> <a id="49779" class="Symbol">=</a> <a id="49781" href="/lia/part1/Semantics/#49659" class="InductiveConstructor">go-¬¬′</a>
<a id="49788" href="/lia/part1/Semantics/#49711" class="CatchallClause Function">remove-¬¬-View′</a><a id="49803" class="CatchallClause"> </a><a id="49804" href="/lia/part1/Semantics/#49804" class="CatchallClause Bound">φ</a> <a id="49806" class="Symbol">=</a> <a id="49808" href="/lia/part1/Semantics/#49686" class="InductiveConstructor">stop′</a></pre>

<p>However, the simpler <a href="#Remove-%C2%AC%C2%AC-View%E2%80%B2"><code class="language-plaintext highlighter-rouge">Remove-¬¬-View′</code></a> is
insufficient since we lose track of the connection between the view and
the formula it is a view of. For instance, we immediately run into
trouble when defining <code class="language-plaintext highlighter-rouge">remove-¬¬′</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>remove-¬¬′ : Formula → Formula
remove-¬¬′ φ with remove-¬¬-View′ φ
remove-¬¬′ (¬ ¬ ψ) | go-¬¬′ = ψ
remove-¬¬′ φ | stop′ = φ
</code></pre></div></div>

<p>The interpreter complains that there are missing cases, such as
<code class="language-plaintext highlighter-rouge">remove-¬¬′ ⊥ | go-¬¬′</code>, <code class="language-plaintext highlighter-rouge">remove-¬¬′ ⊤ | go-¬¬′</code>, and so on. The
additional power of views is that the interpeter knows from the
constructor to which formula does the view correspond, and thus it is
able to figure out that the definition in <a href="#remove-%C2%AC%C2%AC"><code class="language-plaintext highlighter-rouge">remove-¬¬</code></a> is
complete.</p>

<h2 id="full-fledged-simplification">
<a class="anchor" href="#full-fledged-simplification" aria-hidden="true"><span class="octicon octicon-link"></span></a>Full fledged simplification</h2>

<p>After this introduction on views, we can present a more powerful
simplification procedure. Our aim is to</p>

<ul>
  <li>remove the constants <a href="#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> and <a href="#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> , and</li>
  <li>remove double negations <code class="language-plaintext highlighter-rouge">¬ ¬ φ</code>.</li>
</ul>

<p>To this end, we define the following view:</p>

<pre class="Agda"><a id="50846" class="Keyword">data</a> <a id="SimplifyView"></a><a id="50851" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="50864" class="Symbol">:</a> <a id="50866" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="50874" class="Symbol">→</a> <a id="50876" class="PrimitiveType">Set</a> <a id="50880" class="Keyword">where</a>

  <a id="SimplifyView.¬⊥"></a><a id="50889" href="/lia/part1/Semantics/#50889" class="InductiveConstructor">¬⊥</a> <a id="50892" class="Symbol">:</a> <a id="50894" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="50907" class="Symbol">(</a><a id="50908" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="50910" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a><a id="50911" class="Symbol">)</a>
  <a id="SimplifyView.¬⊤"></a><a id="50915" href="/lia/part1/Semantics/#50915" class="InductiveConstructor">¬⊤</a> <a id="50918" class="Symbol">:</a> <a id="50920" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="50933" class="Symbol">(</a><a id="50934" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="50936" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a><a id="50937" class="Symbol">)</a>
  <a id="SimplifyView.¬¬_"></a><a id="50941" href="/lia/part1/Semantics/#50941" class="InductiveConstructor Operator">¬¬_</a> <a id="50945" class="Symbol">:</a> <a id="50947" class="Symbol">∀</a> <a id="50949" href="/lia/part1/Semantics/#50949" class="Bound">ψ</a> <a id="50951" class="Symbol">→</a> <a id="50953" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="50966" class="Symbol">(</a><a id="50967" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="50969" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="50971" href="/lia/part1/Semantics/#50949" class="Bound">ψ</a><a id="50972" class="Symbol">)</a>

  <a id="SimplifyView.⊥∨_"></a><a id="50977" href="/lia/part1/Semantics/#50977" class="InductiveConstructor Operator">⊥∨_</a> <a id="50981" class="Symbol">:</a> <a id="50983" class="Symbol">∀</a> <a id="50985" href="/lia/part1/Semantics/#50985" class="Bound">ψ</a> <a id="50987" class="Symbol">→</a> <a id="50989" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="51002" class="Symbol">(</a><a id="51003" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="51005" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="51007" href="/lia/part1/Semantics/#50985" class="Bound">ψ</a><a id="51008" class="Symbol">)</a>
  <a id="SimplifyView._∨⊥"></a><a id="51012" href="/lia/part1/Semantics/#51012" class="InductiveConstructor Operator">_∨⊥</a> <a id="51016" class="Symbol">:</a> <a id="51018" class="Symbol">∀</a> <a id="51020" href="/lia/part1/Semantics/#51020" class="Bound">ψ</a> <a id="51022" class="Symbol">→</a> <a id="51024" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="51037" class="Symbol">(</a><a id="51038" href="/lia/part1/Semantics/#51020" class="Bound">ψ</a> <a id="51040" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="51042" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a><a id="51043" class="Symbol">)</a>
  <a id="SimplifyView.⊤∨_"></a><a id="51047" href="/lia/part1/Semantics/#51047" class="InductiveConstructor Operator">⊤∨_</a> <a id="51051" class="Symbol">:</a> <a id="51053" class="Symbol">∀</a> <a id="51055" href="/lia/part1/Semantics/#51055" class="Bound">ψ</a> <a id="51057" class="Symbol">→</a> <a id="51059" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="51072" class="Symbol">(</a><a id="51073" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="51075" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="51077" href="/lia/part1/Semantics/#51055" class="Bound">ψ</a><a id="51078" class="Symbol">)</a>
  <a id="SimplifyView._∨⊤"></a><a id="51082" href="/lia/part1/Semantics/#51082" class="InductiveConstructor Operator">_∨⊤</a> <a id="51086" class="Symbol">:</a> <a id="51088" class="Symbol">∀</a> <a id="51090" href="/lia/part1/Semantics/#51090" class="Bound">ψ</a> <a id="51092" class="Symbol">→</a> <a id="51094" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="51107" class="Symbol">(</a><a id="51108" href="/lia/part1/Semantics/#51090" class="Bound">ψ</a> <a id="51110" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="51112" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a><a id="51113" class="Symbol">)</a>
  
  <a id="SimplifyView.⊥∧_"></a><a id="51120" href="/lia/part1/Semantics/#51120" class="InductiveConstructor Operator">⊥∧_</a> <a id="51124" class="Symbol">:</a> <a id="51126" class="Symbol">∀</a> <a id="51128" href="/lia/part1/Semantics/#51128" class="Bound">ψ</a> <a id="51130" class="Symbol">→</a> <a id="51132" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="51145" class="Symbol">(</a><a id="51146" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="51148" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="51150" href="/lia/part1/Semantics/#51128" class="Bound">ψ</a><a id="51151" class="Symbol">)</a>
  <a id="SimplifyView._∧⊥"></a><a id="51155" href="/lia/part1/Semantics/#51155" class="InductiveConstructor Operator">_∧⊥</a> <a id="51159" class="Symbol">:</a> <a id="51161" class="Symbol">∀</a> <a id="51163" href="/lia/part1/Semantics/#51163" class="Bound">ψ</a> <a id="51165" class="Symbol">→</a> <a id="51167" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="51180" class="Symbol">(</a><a id="51181" href="/lia/part1/Semantics/#51163" class="Bound">ψ</a> <a id="51183" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="51185" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a><a id="51186" class="Symbol">)</a>
  <a id="SimplifyView.⊤∧_"></a><a id="51190" href="/lia/part1/Semantics/#51190" class="InductiveConstructor Operator">⊤∧_</a> <a id="51194" class="Symbol">:</a> <a id="51196" class="Symbol">∀</a> <a id="51198" href="/lia/part1/Semantics/#51198" class="Bound">ψ</a> <a id="51200" class="Symbol">→</a> <a id="51202" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="51215" class="Symbol">(</a><a id="51216" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="51218" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="51220" href="/lia/part1/Semantics/#51198" class="Bound">ψ</a><a id="51221" class="Symbol">)</a>
  <a id="SimplifyView._∧⊤"></a><a id="51225" href="/lia/part1/Semantics/#51225" class="InductiveConstructor Operator">_∧⊤</a> <a id="51229" class="Symbol">:</a> <a id="51231" class="Symbol">∀</a> <a id="51233" href="/lia/part1/Semantics/#51233" class="Bound">ψ</a> <a id="51235" class="Symbol">→</a> <a id="51237" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="51250" class="Symbol">(</a><a id="51251" href="/lia/part1/Semantics/#51233" class="Bound">ψ</a> <a id="51253" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="51255" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a><a id="51256" class="Symbol">)</a>
  
  <a id="SimplifyView.⊥⇒_"></a><a id="51263" href="/lia/part1/Semantics/#51263" class="InductiveConstructor Operator">⊥⇒_</a> <a id="51267" class="Symbol">:</a> <a id="51269" class="Symbol">∀</a> <a id="51271" href="/lia/part1/Semantics/#51271" class="Bound">ψ</a> <a id="51273" class="Symbol">→</a> <a id="51275" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="51288" class="Symbol">(</a><a id="51289" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="51291" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="51293" href="/lia/part1/Semantics/#51271" class="Bound">ψ</a><a id="51294" class="Symbol">)</a>
  <a id="SimplifyView._⇒⊥"></a><a id="51298" href="/lia/part1/Semantics/#51298" class="InductiveConstructor Operator">_⇒⊥</a> <a id="51302" class="Symbol">:</a> <a id="51304" class="Symbol">∀</a> <a id="51306" href="/lia/part1/Semantics/#51306" class="Bound">ψ</a> <a id="51308" class="Symbol">→</a> <a id="51310" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="51323" class="Symbol">(</a><a id="51324" href="/lia/part1/Semantics/#51306" class="Bound">ψ</a> <a id="51326" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="51328" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a><a id="51329" class="Symbol">)</a>
  <a id="SimplifyView.⊤⇒_"></a><a id="51333" href="/lia/part1/Semantics/#51333" class="InductiveConstructor Operator">⊤⇒_</a> <a id="51337" class="Symbol">:</a> <a id="51339" class="Symbol">∀</a> <a id="51341" href="/lia/part1/Semantics/#51341" class="Bound">ψ</a> <a id="51343" class="Symbol">→</a> <a id="51345" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="51358" class="Symbol">(</a><a id="51359" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="51361" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="51363" href="/lia/part1/Semantics/#51341" class="Bound">ψ</a><a id="51364" class="Symbol">)</a>
  <a id="SimplifyView._⇒⊤"></a><a id="51368" href="/lia/part1/Semantics/#51368" class="InductiveConstructor Operator">_⇒⊤</a> <a id="51372" class="Symbol">:</a> <a id="51374" class="Symbol">∀</a> <a id="51376" href="/lia/part1/Semantics/#51376" class="Bound">ψ</a> <a id="51378" class="Symbol">→</a> <a id="51380" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="51393" class="Symbol">(</a><a id="51394" href="/lia/part1/Semantics/#51376" class="Bound">ψ</a> <a id="51396" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="51398" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a><a id="51399" class="Symbol">)</a>
  
  <a id="SimplifyView.⊥⇔_"></a><a id="51406" href="/lia/part1/Semantics/#51406" class="InductiveConstructor Operator">⊥⇔_</a> <a id="51410" class="Symbol">:</a> <a id="51412" class="Symbol">∀</a> <a id="51414" href="/lia/part1/Semantics/#51414" class="Bound">ψ</a> <a id="51416" class="Symbol">→</a> <a id="51418" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="51431" class="Symbol">(</a><a id="51432" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="51434" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="51436" href="/lia/part1/Semantics/#51414" class="Bound">ψ</a><a id="51437" class="Symbol">)</a>
  <a id="SimplifyView._⇔⊥"></a><a id="51441" href="/lia/part1/Semantics/#51441" class="InductiveConstructor Operator">_⇔⊥</a> <a id="51445" class="Symbol">:</a> <a id="51447" class="Symbol">∀</a> <a id="51449" href="/lia/part1/Semantics/#51449" class="Bound">ψ</a> <a id="51451" class="Symbol">→</a> <a id="51453" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="51466" class="Symbol">(</a><a id="51467" href="/lia/part1/Semantics/#51449" class="Bound">ψ</a> <a id="51469" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="51471" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a><a id="51472" class="Symbol">)</a>
  <a id="SimplifyView.⊤⇔_"></a><a id="51476" href="/lia/part1/Semantics/#51476" class="InductiveConstructor Operator">⊤⇔_</a> <a id="51480" class="Symbol">:</a> <a id="51482" class="Symbol">∀</a> <a id="51484" href="/lia/part1/Semantics/#51484" class="Bound">ψ</a> <a id="51486" class="Symbol">→</a> <a id="51488" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="51501" class="Symbol">(</a><a id="51502" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="51504" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="51506" href="/lia/part1/Semantics/#51484" class="Bound">ψ</a><a id="51507" class="Symbol">)</a>
  <a id="SimplifyView._⇔⊤"></a><a id="51511" href="/lia/part1/Semantics/#51511" class="InductiveConstructor Operator">_⇔⊤</a> <a id="51515" class="Symbol">:</a> <a id="51517" class="Symbol">∀</a> <a id="51519" href="/lia/part1/Semantics/#51519" class="Bound">ψ</a> <a id="51521" class="Symbol">→</a> <a id="51523" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="51536" class="Symbol">(</a><a id="51537" href="/lia/part1/Semantics/#51519" class="Bound">ψ</a> <a id="51539" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="51541" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a><a id="51542" class="Symbol">)</a>
  
  <a id="SimplifyView.stop"></a><a id="51549" href="/lia/part1/Semantics/#51549" class="InductiveConstructor">stop</a> <a id="51554" class="Symbol">:</a> <a id="51556" class="Symbol">∀</a> <a id="51558" href="/lia/part1/Semantics/#51558" class="Bound">ψ</a> <a id="51560" class="Symbol">→</a> <a id="51562" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="51575" href="/lia/part1/Semantics/#51558" class="Bound">ψ</a></pre>

<p>We have one constructor for each kind of subformula that we want to
reduce. The view <code class="language-plaintext highlighter-rouge">⊥∨ ψ</code> is designed to look typographically similar to
the underlying formula <code class="language-plaintext highlighter-rouge">⊥ ∨ ψ</code> for suggestive purposes, and similarly
for the others. However, it is important to keep in mind that the latter
is of type <a href="#Formula"><code class="language-plaintext highlighter-rouge">Formula</code></a> , while the former is of type
<code class="language-plaintext highlighter-rouge">SimplifyView (⊥ ∨ ψ)</code>. The last constructor <code class="language-plaintext highlighter-rouge">stop φ</code> signals that no
further simplification is available. The following function computes the
view:</p>

<pre class="Agda"><a id="simplifyView"></a><a id="52074" href="/lia/part1/Semantics/#52074" class="Function">simplifyView</a> <a id="52087" class="Symbol">:</a> <a id="52089" class="Symbol">∀</a> <a id="52091" href="/lia/part1/Semantics/#52091" class="Bound">φ</a> <a id="52093" class="Symbol">→</a> <a id="52095" href="/lia/part1/Semantics/#50851" class="Datatype">SimplifyView</a> <a id="52108" href="/lia/part1/Semantics/#52091" class="Bound">φ</a></pre>

<div class="introbox">

  <p>Its definition is unimaginative.
<button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="52185" href="/lia/part1/Semantics/#52074" class="Function">simplifyView</a> <a id="52198" class="Symbol">(</a><a id="52199" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="52201" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a><a id="52202" class="Symbol">)</a> <a id="52204" class="Symbol">=</a> <a id="52206" href="/lia/part1/Semantics/#50889" class="InductiveConstructor">¬⊥</a>
<a id="52209" href="/lia/part1/Semantics/#52074" class="Function">simplifyView</a> <a id="52222" class="Symbol">(</a><a id="52223" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="52225" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a><a id="52226" class="Symbol">)</a> <a id="52228" class="Symbol">=</a> <a id="52230" href="/lia/part1/Semantics/#50915" class="InductiveConstructor">¬⊤</a>
<a id="52233" href="/lia/part1/Semantics/#52074" class="Function">simplifyView</a> <a id="52246" class="Symbol">(</a><a id="52247" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="52249" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="52251" href="/lia/part1/Semantics/#52251" class="Bound">φ</a><a id="52252" class="Symbol">)</a> <a id="52254" class="Symbol">=</a> <a id="52256" href="/lia/part1/Semantics/#50941" class="InductiveConstructor Operator">¬¬</a> <a id="52259" href="/lia/part1/Semantics/#52251" class="Bound">φ</a>

<a id="52262" href="/lia/part1/Semantics/#52074" class="Function">simplifyView</a> <a id="52275" class="Symbol">(</a><a id="52276" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="52278" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="52280" href="/lia/part1/Semantics/#52280" class="Bound">φ</a><a id="52281" class="Symbol">)</a> <a id="52283" class="Symbol">=</a> <a id="52285" href="/lia/part1/Semantics/#50977" class="InductiveConstructor Operator">⊥∨</a> <a id="52288" href="/lia/part1/Semantics/#52280" class="Bound">φ</a>
<a id="52290" href="/lia/part1/Semantics/#52074" class="CatchallClause Function">simplifyView</a><a id="52302" class="CatchallClause"> </a><a id="52303" class="CatchallClause Symbol">(</a><a id="52304" href="/lia/part1/Semantics/#52304" class="CatchallClause Bound">φ</a><a id="52305" class="CatchallClause"> </a><a id="52306" href="/lia/part1/Semantics/#3667" class="CatchallClause InductiveConstructor Operator">∨</a><a id="52307" class="CatchallClause"> </a><a id="52308" href="/lia/part1/Semantics/#3582" class="CatchallClause InductiveConstructor">⊥</a><a id="52309" class="CatchallClause Symbol">)</a> <a id="52311" class="Symbol">=</a> <a id="52313" href="/lia/part1/Semantics/#52304" class="Bound">φ</a> <a id="52315" href="/lia/part1/Semantics/#51012" class="InductiveConstructor Operator">∨⊥</a>
<a id="52318" href="/lia/part1/Semantics/#52074" class="CatchallClause Function">simplifyView</a><a id="52330" class="CatchallClause"> </a><a id="52331" class="CatchallClause Symbol">(</a><a id="52332" href="/lia/part1/Semantics/#3584" class="CatchallClause InductiveConstructor">⊤</a><a id="52333" class="CatchallClause"> </a><a id="52334" href="/lia/part1/Semantics/#3667" class="CatchallClause InductiveConstructor Operator">∨</a><a id="52335" class="CatchallClause"> </a><a id="52336" href="/lia/part1/Semantics/#52336" class="CatchallClause Bound">φ</a><a id="52337" class="CatchallClause Symbol">)</a> <a id="52339" class="Symbol">=</a> <a id="52341" href="/lia/part1/Semantics/#51047" class="InductiveConstructor Operator">⊤∨</a> <a id="52344" href="/lia/part1/Semantics/#52336" class="Bound">φ</a>
<a id="52346" href="/lia/part1/Semantics/#52074" class="CatchallClause Function">simplifyView</a><a id="52358" class="CatchallClause"> </a><a id="52359" class="CatchallClause Symbol">(</a><a id="52360" href="/lia/part1/Semantics/#52360" class="CatchallClause Bound">φ</a><a id="52361" class="CatchallClause"> </a><a id="52362" href="/lia/part1/Semantics/#3667" class="CatchallClause InductiveConstructor Operator">∨</a><a id="52363" class="CatchallClause"> </a><a id="52364" href="/lia/part1/Semantics/#3584" class="CatchallClause InductiveConstructor">⊤</a><a id="52365" class="CatchallClause Symbol">)</a> <a id="52367" class="Symbol">=</a> <a id="52369" href="/lia/part1/Semantics/#52360" class="Bound">φ</a> <a id="52371" href="/lia/part1/Semantics/#51082" class="InductiveConstructor Operator">∨⊤</a>

<a id="52375" href="/lia/part1/Semantics/#52074" class="Function">simplifyView</a> <a id="52388" class="Symbol">(</a><a id="52389" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="52391" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="52393" href="/lia/part1/Semantics/#52393" class="Bound">φ</a><a id="52394" class="Symbol">)</a> <a id="52396" class="Symbol">=</a> <a id="52398" href="/lia/part1/Semantics/#51120" class="InductiveConstructor Operator">⊥∧</a> <a id="52401" href="/lia/part1/Semantics/#52393" class="Bound">φ</a>
<a id="52403" href="/lia/part1/Semantics/#52074" class="CatchallClause Function">simplifyView</a><a id="52415" class="CatchallClause"> </a><a id="52416" class="CatchallClause Symbol">(</a><a id="52417" href="/lia/part1/Semantics/#52417" class="CatchallClause Bound">φ</a><a id="52418" class="CatchallClause"> </a><a id="52419" href="/lia/part1/Semantics/#3671" class="CatchallClause InductiveConstructor Operator">∧</a><a id="52420" class="CatchallClause"> </a><a id="52421" href="/lia/part1/Semantics/#3582" class="CatchallClause InductiveConstructor">⊥</a><a id="52422" class="CatchallClause Symbol">)</a> <a id="52424" class="Symbol">=</a> <a id="52426" href="/lia/part1/Semantics/#52417" class="Bound">φ</a> <a id="52428" href="/lia/part1/Semantics/#51155" class="InductiveConstructor Operator">∧⊥</a>
<a id="52431" href="/lia/part1/Semantics/#52074" class="CatchallClause Function">simplifyView</a><a id="52443" class="CatchallClause"> </a><a id="52444" class="CatchallClause Symbol">(</a><a id="52445" href="/lia/part1/Semantics/#3584" class="CatchallClause InductiveConstructor">⊤</a><a id="52446" class="CatchallClause"> </a><a id="52447" href="/lia/part1/Semantics/#3671" class="CatchallClause InductiveConstructor Operator">∧</a><a id="52448" class="CatchallClause"> </a><a id="52449" href="/lia/part1/Semantics/#52449" class="CatchallClause Bound">φ</a><a id="52450" class="CatchallClause Symbol">)</a> <a id="52452" class="Symbol">=</a> <a id="52454" href="/lia/part1/Semantics/#51190" class="InductiveConstructor Operator">⊤∧</a> <a id="52457" href="/lia/part1/Semantics/#52449" class="Bound">φ</a>
<a id="52459" href="/lia/part1/Semantics/#52074" class="CatchallClause Function">simplifyView</a><a id="52471" class="CatchallClause"> </a><a id="52472" class="CatchallClause Symbol">(</a><a id="52473" href="/lia/part1/Semantics/#52473" class="CatchallClause Bound">φ</a><a id="52474" class="CatchallClause"> </a><a id="52475" href="/lia/part1/Semantics/#3671" class="CatchallClause InductiveConstructor Operator">∧</a><a id="52476" class="CatchallClause"> </a><a id="52477" href="/lia/part1/Semantics/#3584" class="CatchallClause InductiveConstructor">⊤</a><a id="52478" class="CatchallClause Symbol">)</a> <a id="52480" class="Symbol">=</a> <a id="52482" href="/lia/part1/Semantics/#52473" class="Bound">φ</a> <a id="52484" href="/lia/part1/Semantics/#51225" class="InductiveConstructor Operator">∧⊤</a>

<a id="52488" href="/lia/part1/Semantics/#52074" class="Function">simplifyView</a> <a id="52501" class="Symbol">(</a><a id="52502" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="52504" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="52506" href="/lia/part1/Semantics/#52506" class="Bound">φ</a><a id="52507" class="Symbol">)</a> <a id="52509" class="Symbol">=</a> <a id="52511" href="/lia/part1/Semantics/#51263" class="InductiveConstructor Operator">⊥⇒</a> <a id="52514" href="/lia/part1/Semantics/#52506" class="Bound">φ</a>
<a id="52516" href="/lia/part1/Semantics/#52074" class="CatchallClause Function">simplifyView</a><a id="52528" class="CatchallClause"> </a><a id="52529" class="CatchallClause Symbol">(</a><a id="52530" href="/lia/part1/Semantics/#52530" class="CatchallClause Bound">φ</a><a id="52531" class="CatchallClause"> </a><a id="52532" href="/lia/part1/Semantics/#3675" class="CatchallClause InductiveConstructor Operator">⇒</a><a id="52533" class="CatchallClause"> </a><a id="52534" href="/lia/part1/Semantics/#3582" class="CatchallClause InductiveConstructor">⊥</a><a id="52535" class="CatchallClause Symbol">)</a> <a id="52537" class="Symbol">=</a> <a id="52539" href="/lia/part1/Semantics/#52530" class="Bound">φ</a> <a id="52541" href="/lia/part1/Semantics/#51298" class="InductiveConstructor Operator">⇒⊥</a>
<a id="52544" href="/lia/part1/Semantics/#52074" class="CatchallClause Function">simplifyView</a><a id="52556" class="CatchallClause"> </a><a id="52557" class="CatchallClause Symbol">(</a><a id="52558" href="/lia/part1/Semantics/#3584" class="CatchallClause InductiveConstructor">⊤</a><a id="52559" class="CatchallClause"> </a><a id="52560" href="/lia/part1/Semantics/#3675" class="CatchallClause InductiveConstructor Operator">⇒</a><a id="52561" class="CatchallClause"> </a><a id="52562" href="/lia/part1/Semantics/#52562" class="CatchallClause Bound">φ</a><a id="52563" class="CatchallClause Symbol">)</a> <a id="52565" class="Symbol">=</a> <a id="52567" href="/lia/part1/Semantics/#51333" class="InductiveConstructor Operator">⊤⇒</a> <a id="52570" href="/lia/part1/Semantics/#52562" class="Bound">φ</a>
<a id="52572" href="/lia/part1/Semantics/#52074" class="CatchallClause Function">simplifyView</a><a id="52584" class="CatchallClause"> </a><a id="52585" class="CatchallClause Symbol">(</a><a id="52586" href="/lia/part1/Semantics/#52586" class="CatchallClause Bound">φ</a><a id="52587" class="CatchallClause"> </a><a id="52588" href="/lia/part1/Semantics/#3675" class="CatchallClause InductiveConstructor Operator">⇒</a><a id="52589" class="CatchallClause"> </a><a id="52590" href="/lia/part1/Semantics/#3584" class="CatchallClause InductiveConstructor">⊤</a><a id="52591" class="CatchallClause Symbol">)</a> <a id="52593" class="Symbol">=</a> <a id="52595" href="/lia/part1/Semantics/#52586" class="Bound">φ</a> <a id="52597" href="/lia/part1/Semantics/#51368" class="InductiveConstructor Operator">⇒⊤</a>

<a id="52601" href="/lia/part1/Semantics/#52074" class="Function">simplifyView</a> <a id="52614" class="Symbol">(</a><a id="52615" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="52617" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="52619" href="/lia/part1/Semantics/#52619" class="Bound">φ</a><a id="52620" class="Symbol">)</a> <a id="52622" class="Symbol">=</a> <a id="52624" href="/lia/part1/Semantics/#51406" class="InductiveConstructor Operator">⊥⇔</a> <a id="52627" href="/lia/part1/Semantics/#52619" class="Bound">φ</a>
<a id="52629" href="/lia/part1/Semantics/#52074" class="CatchallClause Function">simplifyView</a><a id="52641" class="CatchallClause"> </a><a id="52642" class="CatchallClause Symbol">(</a><a id="52643" href="/lia/part1/Semantics/#52643" class="CatchallClause Bound">φ</a><a id="52644" class="CatchallClause"> </a><a id="52645" href="/lia/part1/Semantics/#3679" class="CatchallClause InductiveConstructor Operator">⇔</a><a id="52646" class="CatchallClause"> </a><a id="52647" href="/lia/part1/Semantics/#3582" class="CatchallClause InductiveConstructor">⊥</a><a id="52648" class="CatchallClause Symbol">)</a> <a id="52650" class="Symbol">=</a> <a id="52652" href="/lia/part1/Semantics/#52643" class="Bound">φ</a> <a id="52654" href="/lia/part1/Semantics/#51441" class="InductiveConstructor Operator">⇔⊥</a>
<a id="52657" href="/lia/part1/Semantics/#52074" class="CatchallClause Function">simplifyView</a><a id="52669" class="CatchallClause"> </a><a id="52670" class="CatchallClause Symbol">(</a><a id="52671" href="/lia/part1/Semantics/#3584" class="CatchallClause InductiveConstructor">⊤</a><a id="52672" class="CatchallClause"> </a><a id="52673" href="/lia/part1/Semantics/#3679" class="CatchallClause InductiveConstructor Operator">⇔</a><a id="52674" class="CatchallClause"> </a><a id="52675" href="/lia/part1/Semantics/#52675" class="CatchallClause Bound">φ</a><a id="52676" class="CatchallClause Symbol">)</a> <a id="52678" class="Symbol">=</a> <a id="52680" href="/lia/part1/Semantics/#51476" class="InductiveConstructor Operator">⊤⇔</a> <a id="52683" href="/lia/part1/Semantics/#52675" class="Bound">φ</a>
<a id="52685" href="/lia/part1/Semantics/#52074" class="CatchallClause Function">simplifyView</a><a id="52697" class="CatchallClause"> </a><a id="52698" class="CatchallClause Symbol">(</a><a id="52699" href="/lia/part1/Semantics/#52699" class="CatchallClause Bound">φ</a><a id="52700" class="CatchallClause"> </a><a id="52701" href="/lia/part1/Semantics/#3679" class="CatchallClause InductiveConstructor Operator">⇔</a><a id="52702" class="CatchallClause"> </a><a id="52703" href="/lia/part1/Semantics/#3584" class="CatchallClause InductiveConstructor">⊤</a><a id="52704" class="CatchallClause Symbol">)</a> <a id="52706" class="Symbol">=</a> <a id="52708" href="/lia/part1/Semantics/#52699" class="Bound">φ</a> <a id="52710" href="/lia/part1/Semantics/#51511" class="InductiveConstructor Operator">⇔⊤</a>

<a id="52714" href="/lia/part1/Semantics/#52074" class="CatchallClause Function">simplifyView</a><a id="52726" class="CatchallClause"> </a><a id="52727" href="/lia/part1/Semantics/#52727" class="CatchallClause Bound">φ</a> <a id="52729" class="Symbol">=</a> <a id="52731" href="/lia/part1/Semantics/#51549" class="InductiveConstructor">stop</a> <a id="52736" href="/lia/part1/Semantics/#52727" class="Bound">φ</a></pre>

</div>

<p>It is convenient to define the simplification procedure in two separate
functions,</p>

<pre class="Agda"><a id="simplify1"></a><a id="52840" href="/lia/part1/Semantics/#52840" class="Function">simplify1</a> <a id="simplify"></a><a id="52850" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="52859" class="Symbol">:</a> <a id="52861" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="52869" class="Symbol">→</a> <a id="52871" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a></pre>

<p>The first function <a href="#simplify1"><code class="language-plaintext highlighter-rouge">simplify1</code></a> is non-recursive and it
defines a single simplification step in terms of the view of the
formula:</p>

<pre class="Agda"><a id="53022" href="/lia/part1/Semantics/#52840" class="Function">simplify1</a> <a id="53032" href="/lia/part1/Semantics/#53032" class="Bound">φ</a>
  <a id="53036" class="Keyword">with</a> <a id="53041" href="/lia/part1/Semantics/#52074" class="Function">simplifyView</a> <a id="53054" href="/lia/part1/Semantics/#53032" class="Bound">φ</a>
<a id="53056" class="Symbol">...</a> <a id="53060" class="Symbol">|</a> <a id="53062" href="/lia/part1/Semantics/#50889" class="InductiveConstructor">¬⊥</a> <a id="53065" class="Symbol">=</a> <a id="53067" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>
<a id="53069" class="Symbol">...</a> <a id="53073" class="Symbol">|</a> <a id="53075" href="/lia/part1/Semantics/#50915" class="InductiveConstructor">¬⊤</a> <a id="53078" class="Symbol">=</a> <a id="53080" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a>
<a id="53082" class="Symbol">...</a> <a id="53086" class="Symbol">|</a> <a id="53088" href="/lia/part1/Semantics/#50941" class="InductiveConstructor Operator">¬¬</a> <a id="53091" href="/lia/part1/Semantics/#53091" class="Bound">ψ</a> <a id="53093" class="Symbol">=</a> <a id="53095" href="/lia/part1/Semantics/#53091" class="Bound">ψ</a>
<a id="53097" class="Symbol">...</a> <a id="53101" class="Symbol">|</a> <a id="53103" href="/lia/part1/Semantics/#50977" class="InductiveConstructor Operator">⊥∨</a> <a id="53106" href="/lia/part1/Semantics/#53106" class="Bound">ψ</a> <a id="53108" class="Symbol">=</a> <a id="53110" href="/lia/part1/Semantics/#53106" class="Bound">ψ</a>
<a id="53112" class="Symbol">...</a> <a id="53116" class="Symbol">|</a> <a id="53118" href="/lia/part1/Semantics/#53118" class="Bound">ψ</a> <a id="53120" href="/lia/part1/Semantics/#51012" class="InductiveConstructor Operator">∨⊥</a> <a id="53123" class="Symbol">=</a> <a id="53125" href="/lia/part1/Semantics/#53118" class="Bound">ψ</a>
<a id="53127" class="Symbol">...</a> <a id="53131" class="Symbol">|</a> <a id="53133" href="/lia/part1/Semantics/#51047" class="InductiveConstructor Operator">⊤∨</a> <a id="53136" href="/lia/part1/Semantics/#53136" class="Bound">ψ</a> <a id="53138" class="Symbol">=</a> <a id="53140" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>
<a id="53142" class="Symbol">...</a> <a id="53146" class="Symbol">|</a> <a id="53148" href="/lia/part1/Semantics/#53148" class="Bound">ψ</a> <a id="53150" href="/lia/part1/Semantics/#51082" class="InductiveConstructor Operator">∨⊤</a> <a id="53153" class="Symbol">=</a> <a id="53155" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>
<a id="53157" class="Symbol">...</a> <a id="53161" class="Symbol">|</a> <a id="53163" href="/lia/part1/Semantics/#51120" class="InductiveConstructor Operator">⊥∧</a> <a id="53166" href="/lia/part1/Semantics/#53166" class="Bound">ψ</a> <a id="53168" class="Symbol">=</a> <a id="53170" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a>
<a id="53172" class="Symbol">...</a> <a id="53176" class="Symbol">|</a> <a id="53178" href="/lia/part1/Semantics/#53178" class="Bound">ψ</a> <a id="53180" href="/lia/part1/Semantics/#51155" class="InductiveConstructor Operator">∧⊥</a> <a id="53183" class="Symbol">=</a> <a id="53185" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a>
<a id="53187" class="Symbol">...</a> <a id="53191" class="Symbol">|</a> <a id="53193" href="/lia/part1/Semantics/#51190" class="InductiveConstructor Operator">⊤∧</a> <a id="53196" href="/lia/part1/Semantics/#53196" class="Bound">ψ</a> <a id="53198" class="Symbol">=</a> <a id="53200" href="/lia/part1/Semantics/#53196" class="Bound">ψ</a>
<a id="53202" class="Symbol">...</a> <a id="53206" class="Symbol">|</a> <a id="53208" href="/lia/part1/Semantics/#53208" class="Bound">ψ</a> <a id="53210" href="/lia/part1/Semantics/#51225" class="InductiveConstructor Operator">∧⊤</a> <a id="53213" class="Symbol">=</a> <a id="53215" href="/lia/part1/Semantics/#53208" class="Bound">ψ</a>
<a id="53217" class="Symbol">...</a> <a id="53221" class="Symbol">|</a> <a id="53223" href="/lia/part1/Semantics/#51263" class="InductiveConstructor Operator">⊥⇒</a> <a id="53226" href="/lia/part1/Semantics/#53226" class="Bound">ψ</a> <a id="53228" class="Symbol">=</a> <a id="53230" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>
<a id="53232" class="Symbol">...</a> <a id="53236" class="Symbol">|</a> <a id="53238" href="/lia/part1/Semantics/#53238" class="Bound">ψ</a> <a id="53240" href="/lia/part1/Semantics/#51298" class="InductiveConstructor Operator">⇒⊥</a> <a id="53243" class="Symbol">=</a> <a id="53245" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="53247" href="/lia/part1/Semantics/#53238" class="Bound">ψ</a>
<a id="53249" class="Symbol">...</a> <a id="53253" class="Symbol">|</a> <a id="53255" href="/lia/part1/Semantics/#51333" class="InductiveConstructor Operator">⊤⇒</a> <a id="53258" href="/lia/part1/Semantics/#53258" class="Bound">ψ</a> <a id="53260" class="Symbol">=</a> <a id="53262" href="/lia/part1/Semantics/#53258" class="Bound">ψ</a>
<a id="53264" class="Symbol">...</a> <a id="53268" class="Symbol">|</a> <a id="53270" href="/lia/part1/Semantics/#53270" class="Bound">ψ</a> <a id="53272" href="/lia/part1/Semantics/#51368" class="InductiveConstructor Operator">⇒⊤</a> <a id="53275" class="Symbol">=</a> <a id="53277" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>
<a id="53279" class="Symbol">...</a> <a id="53283" class="Symbol">|</a> <a id="53285" href="/lia/part1/Semantics/#51406" class="InductiveConstructor Operator">⊥⇔</a> <a id="53288" href="/lia/part1/Semantics/#53288" class="Bound">ψ</a> <a id="53290" class="Symbol">=</a> <a id="53292" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="53294" href="/lia/part1/Semantics/#53288" class="Bound">ψ</a>
<a id="53296" class="Symbol">...</a> <a id="53300" class="Symbol">|</a> <a id="53302" href="/lia/part1/Semantics/#53302" class="Bound">ψ</a> <a id="53304" href="/lia/part1/Semantics/#51441" class="InductiveConstructor Operator">⇔⊥</a> <a id="53307" class="Symbol">=</a> <a id="53309" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="53311" href="/lia/part1/Semantics/#53302" class="Bound">ψ</a>
<a id="53313" class="Symbol">...</a> <a id="53317" class="Symbol">|</a> <a id="53319" href="/lia/part1/Semantics/#51476" class="InductiveConstructor Operator">⊤⇔</a> <a id="53322" href="/lia/part1/Semantics/#53322" class="Bound">ψ</a> <a id="53324" class="Symbol">=</a> <a id="53326" href="/lia/part1/Semantics/#53322" class="Bound">ψ</a>
<a id="53328" class="Symbol">...</a> <a id="53332" class="Symbol">|</a> <a id="53334" href="/lia/part1/Semantics/#53334" class="Bound">ψ</a> <a id="53336" href="/lia/part1/Semantics/#51511" class="InductiveConstructor Operator">⇔⊤</a> <a id="53339" class="Symbol">=</a> <a id="53341" href="/lia/part1/Semantics/#53334" class="Bound">ψ</a>
<a id="53343" class="Symbol">...</a> <a id="53347" class="Symbol">|</a> <a id="53349" href="/lia/part1/Semantics/#51549" class="InductiveConstructor">stop</a> <a id="53354" href="/lia/part1/Semantics/#53354" class="Bound">ψ</a> <a id="53356" class="Symbol">=</a> <a id="53358" href="/lia/part1/Semantics/#53354" class="Bound">ψ</a></pre>

<p>The second function <a href="#simplify"><code class="language-plaintext highlighter-rouge">simplify</code></a> takes care of the recursive
structure of the formula in order to apply <a href="#simplify1"><code class="language-plaintext highlighter-rouge">simplify1</code></a>
“deeply” (no view is used here):</p>

<pre class="Agda"><a id="53525" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="53534" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="53536" class="Symbol">=</a> <a id="53538" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a>
<a id="53540" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="53549" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="53551" class="Symbol">=</a> <a id="53553" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>
<a id="53555" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="53564" class="Symbol">(</a><a id="53565" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="53567" href="/lia/part1/Semantics/#53567" class="Bound">p</a><a id="53568" class="Symbol">)</a> <a id="53570" class="Symbol">=</a> <a id="53572" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="53574" href="/lia/part1/Semantics/#53567" class="Bound">p</a>
<a id="53576" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="53585" class="Symbol">(</a><a id="53586" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="53588" href="/lia/part1/Semantics/#53588" class="Bound">φ</a><a id="53589" class="Symbol">)</a> <a id="53591" class="Symbol">=</a> <a id="53593" href="/lia/part1/Semantics/#52840" class="Function">simplify1</a> <a id="53603" class="Symbol">(</a><a id="53604" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="53606" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="53615" href="/lia/part1/Semantics/#53588" class="Bound">φ</a><a id="53616" class="Symbol">)</a>
<a id="53618" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="53627" class="Symbol">(</a><a id="53628" href="/lia/part1/Semantics/#53628" class="Bound">φ</a> <a id="53630" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="53632" href="/lia/part1/Semantics/#53632" class="Bound">ψ</a><a id="53633" class="Symbol">)</a> <a id="53635" class="Symbol">=</a> <a id="53637" href="/lia/part1/Semantics/#52840" class="Function">simplify1</a> <a id="53647" class="Symbol">(</a><a id="53648" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="53657" href="/lia/part1/Semantics/#53628" class="Bound">φ</a> <a id="53659" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="53661" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="53670" href="/lia/part1/Semantics/#53632" class="Bound">ψ</a><a id="53671" class="Symbol">)</a>
<a id="53673" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="53682" class="Symbol">(</a><a id="53683" href="/lia/part1/Semantics/#53683" class="Bound">φ</a> <a id="53685" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="53687" href="/lia/part1/Semantics/#53687" class="Bound">ψ</a><a id="53688" class="Symbol">)</a> <a id="53690" class="Symbol">=</a> <a id="53692" href="/lia/part1/Semantics/#52840" class="Function">simplify1</a> <a id="53702" class="Symbol">(</a><a id="53703" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="53712" href="/lia/part1/Semantics/#53683" class="Bound">φ</a> <a id="53714" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="53716" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="53725" href="/lia/part1/Semantics/#53687" class="Bound">ψ</a><a id="53726" class="Symbol">)</a>
<a id="53728" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="53737" class="Symbol">(</a><a id="53738" href="/lia/part1/Semantics/#53738" class="Bound">φ</a> <a id="53740" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="53742" href="/lia/part1/Semantics/#53742" class="Bound">ψ</a><a id="53743" class="Symbol">)</a> <a id="53745" class="Symbol">=</a> <a id="53747" href="/lia/part1/Semantics/#52840" class="Function">simplify1</a> <a id="53757" class="Symbol">(</a><a id="53758" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="53767" href="/lia/part1/Semantics/#53738" class="Bound">φ</a> <a id="53769" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="53771" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="53780" href="/lia/part1/Semantics/#53742" class="Bound">ψ</a><a id="53781" class="Symbol">)</a>
<a id="53783" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="53792" class="Symbol">(</a><a id="53793" href="/lia/part1/Semantics/#53793" class="Bound">φ</a> <a id="53795" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="53797" href="/lia/part1/Semantics/#53797" class="Bound">ψ</a><a id="53798" class="Symbol">)</a> <a id="53800" class="Symbol">=</a> <a id="53802" href="/lia/part1/Semantics/#52840" class="Function">simplify1</a> <a id="53812" class="Symbol">(</a><a id="53813" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="53822" href="/lia/part1/Semantics/#53793" class="Bound">φ</a> <a id="53824" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="53826" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="53835" href="/lia/part1/Semantics/#53797" class="Bound">ψ</a><a id="53836" class="Symbol">)</a></pre>

<div class="examplebox">

  <dl>
    <dt><span id="example:simplify" class="pandoc-numbering-text example"><strong>Example 3</strong></span></dt>
    <dd>We can see our simplification procedure in action on some simple
examples:</dd>
  </dl>

  <pre class="Agda"><a id="53957" href="/lia/part1/Semantics/#53957" class="Function">_</a> <a id="53959" class="Symbol">:</a> <a id="53961" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="53970" class="Symbol">(</a><a id="53971" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="53973" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="53975" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="53977" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="53979" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="53981" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="53983" class="Symbol">)</a> <a id="53985" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="53987" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="53989" href="/lia/part1/Semantics/#1194" class="Function">p₀</a>
<a id="53992" class="Symbol">_</a> <a id="53994" class="Symbol">=</a> <a id="53996" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="54002" href="/lia/part1/Semantics/#54002" class="Function">_</a> <a id="54004" class="Symbol">:</a> <a id="54006" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="54015" class="Symbol">(</a><a id="54016" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="54018" class="Symbol">(</a><a id="54019" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="54021" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="54023" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="54025" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="54027" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="54029" class="Symbol">))</a> <a id="54032" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="54034" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="54036" href="/lia/part1/Semantics/#1194" class="Function">p₀</a>
<a id="54039" class="Symbol">_</a> <a id="54041" class="Symbol">=</a> <a id="54043" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="54049" href="/lia/part1/Semantics/#54049" class="Function">_</a> <a id="54051" class="Symbol">:</a> <a id="54053" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="54062" class="Symbol">(</a><a id="54063" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="54065" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="54067" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="54069" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="54071" class="Symbol">(</a><a id="54072" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="54074" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="54076" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="54079" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="54081" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="54083" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="54085" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="54087" href="/lia/part1/Semantics/#1197" class="Function">p₁</a><a id="54089" class="Symbol">))</a> <a id="54092" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="54094" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="54096" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="54098" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="54101" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="54103" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="54105" href="/lia/part1/Semantics/#1197" class="Function">p₁</a>
<a id="54108" class="Symbol">_</a> <a id="54110" class="Symbol">=</a> <a id="54112" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

  <p>Notice how applying simplification deeply in the formula enables further
simplification. <span class="hidden">∎</span><span class="right-aligned">∎</span></p>

</div>

<h2 id="correctness">
<a class="anchor" href="#correctness" aria-hidden="true"><span class="octicon octicon-link"></span></a>Correctness</h2>

<p>We show that the simplification procedure preserves the meaning of the
formula:</p>

<pre class="Agda"><a id="simplify1-sound"></a><a id="54319" href="/lia/part1/Semantics/#54319" class="Function">simplify1-sound</a> <a id="54335" class="Symbol">:</a> <a id="54337" class="Symbol">∀</a> <a id="54339" href="/lia/part1/Semantics/#54339" class="Bound">φ</a> <a id="54341" class="Symbol">→</a>
  <a id="54345" class="Comment">----------------</a>
  <a id="54364" href="/lia/part1/Semantics/#52840" class="Function">simplify1</a> <a id="54374" href="/lia/part1/Semantics/#54339" class="Bound">φ</a> <a id="54376" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="54378" href="/lia/part1/Semantics/#54339" class="Bound">φ</a>

<a id="simplify-sound"></a><a id="54381" href="/lia/part1/Semantics/#54381" class="Function">simplify-sound</a> <a id="54396" class="Symbol">:</a> <a id="54398" class="Symbol">∀</a> <a id="54400" href="/lia/part1/Semantics/#54400" class="Bound">φ</a> <a id="54402" class="Symbol">→</a>
  <a id="54406" class="Comment">---------------</a>
  <a id="54424" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="54433" href="/lia/part1/Semantics/#54400" class="Bound">φ</a> <a id="54435" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="54437" href="/lia/part1/Semantics/#54400" class="Bound">φ</a></pre>

<div class="introbox">

  <p>The definition of <a href="#simplify1-sound"><code class="language-plaintext highlighter-rouge">simplify1-sound</code></a> is by a case
analysis based on <a href="#simplifyView"><code class="language-plaintext highlighter-rouge">simplifyView</code></a> . The use of the
<code class="language-plaintext highlighter-rouge">--rewriting</code> option triggers automatic Boolean rewrites in the
background (such as <code class="language-plaintext highlighter-rouge">ff ∨𝔹 b ≡ b</code>; c.f.
<a href="../../part0/Booleans">Booleans</a>), which makes the proof
straightforward. <button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="54753" href="/lia/part1/Semantics/#54319" class="Function">simplify1-sound</a> <a id="54769" href="/lia/part1/Semantics/#54769" class="Bound">φ</a> <a id="54771" href="/lia/part1/Semantics/#54771" class="Bound">ϱ</a>
  <a id="54775" class="Keyword">with</a> <a id="54780" href="/lia/part1/Semantics/#52074" class="Function">simplifyView</a> <a id="54793" href="/lia/part1/Semantics/#54769" class="Bound">φ</a>
<a id="54795" class="Symbol">...</a> <a id="54799" class="Symbol">|</a> <a id="54801" href="/lia/part1/Semantics/#50889" class="InductiveConstructor">¬⊥</a> <a id="54804" class="Symbol">=</a> <a id="54806" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="54811" class="Symbol">...</a> <a id="54815" class="Symbol">|</a> <a id="54817" href="/lia/part1/Semantics/#50915" class="InductiveConstructor">¬⊤</a> <a id="54820" class="Symbol">=</a> <a id="54822" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="54827" class="Symbol">...</a> <a id="54831" class="Symbol">|</a> <a id="54833" href="/lia/part1/Semantics/#50941" class="InductiveConstructor Operator">¬¬</a> <a id="54836" href="/lia/part1/Semantics/#54836" class="Bound">ψ</a> <a id="54838" class="Symbol">=</a> <a id="54840" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="54845" class="Symbol">...</a> <a id="54849" class="Symbol">|</a> <a id="54851" href="/lia/part1/Semantics/#50977" class="InductiveConstructor Operator">⊥∨</a> <a id="54854" href="/lia/part1/Semantics/#54854" class="Bound">ψ</a> <a id="54856" class="Symbol">=</a> <a id="54858" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="54863" class="Symbol">...</a> <a id="54867" class="Symbol">|</a> <a id="54869" href="/lia/part1/Semantics/#54869" class="Bound">ψ</a> <a id="54871" href="/lia/part1/Semantics/#51012" class="InductiveConstructor Operator">∨⊥</a> <a id="54874" class="Symbol">=</a> <a id="54876" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="54881" class="Symbol">...</a> <a id="54885" class="Symbol">|</a> <a id="54887" href="/lia/part1/Semantics/#51047" class="InductiveConstructor Operator">⊤∨</a> <a id="54890" href="/lia/part1/Semantics/#54890" class="Bound">ψ</a> <a id="54892" class="Symbol">=</a> <a id="54894" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="54899" class="Symbol">...</a> <a id="54903" class="Symbol">|</a> <a id="54905" href="/lia/part1/Semantics/#54905" class="Bound">ψ</a> <a id="54907" href="/lia/part1/Semantics/#51082" class="InductiveConstructor Operator">∨⊤</a> <a id="54910" class="Symbol">=</a> <a id="54912" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="54917" class="Symbol">...</a> <a id="54921" class="Symbol">|</a> <a id="54923" href="/lia/part1/Semantics/#51120" class="InductiveConstructor Operator">⊥∧</a> <a id="54926" href="/lia/part1/Semantics/#54926" class="Bound">ψ</a> <a id="54928" class="Symbol">=</a> <a id="54930" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="54935" class="Symbol">...</a> <a id="54939" class="Symbol">|</a> <a id="54941" href="/lia/part1/Semantics/#54941" class="Bound">ψ</a> <a id="54943" href="/lia/part1/Semantics/#51155" class="InductiveConstructor Operator">∧⊥</a> <a id="54946" class="Symbol">=</a> <a id="54948" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="54953" class="Symbol">...</a> <a id="54957" class="Symbol">|</a> <a id="54959" href="/lia/part1/Semantics/#51190" class="InductiveConstructor Operator">⊤∧</a> <a id="54962" href="/lia/part1/Semantics/#54962" class="Bound">ψ</a> <a id="54964" class="Symbol">=</a> <a id="54966" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="54971" class="Symbol">...</a> <a id="54975" class="Symbol">|</a> <a id="54977" href="/lia/part1/Semantics/#54977" class="Bound">ψ</a> <a id="54979" href="/lia/part1/Semantics/#51225" class="InductiveConstructor Operator">∧⊤</a> <a id="54982" class="Symbol">=</a> <a id="54984" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="54989" class="Symbol">...</a> <a id="54993" class="Symbol">|</a> <a id="54995" href="/lia/part1/Semantics/#51263" class="InductiveConstructor Operator">⊥⇒</a> <a id="54998" href="/lia/part1/Semantics/#54998" class="Bound">ψ</a> <a id="55000" class="Symbol">=</a> <a id="55002" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="55007" class="Symbol">...</a> <a id="55011" class="Symbol">|</a> <a id="55013" href="/lia/part1/Semantics/#55013" class="Bound">ψ</a> <a id="55015" href="/lia/part1/Semantics/#51298" class="InductiveConstructor Operator">⇒⊥</a> <a id="55018" class="Symbol">=</a> <a id="55020" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="55025" class="Symbol">...</a> <a id="55029" class="Symbol">|</a> <a id="55031" href="/lia/part1/Semantics/#51333" class="InductiveConstructor Operator">⊤⇒</a> <a id="55034" href="/lia/part1/Semantics/#55034" class="Bound">ψ</a> <a id="55036" class="Symbol">=</a> <a id="55038" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="55043" class="Symbol">...</a> <a id="55047" class="Symbol">|</a> <a id="55049" href="/lia/part1/Semantics/#55049" class="Bound">ψ</a> <a id="55051" href="/lia/part1/Semantics/#51368" class="InductiveConstructor Operator">⇒⊤</a> <a id="55054" class="Symbol">=</a> <a id="55056" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="55061" class="Symbol">...</a> <a id="55065" class="Symbol">|</a> <a id="55067" href="/lia/part1/Semantics/#51406" class="InductiveConstructor Operator">⊥⇔</a> <a id="55070" href="/lia/part1/Semantics/#55070" class="Bound">ψ</a> <a id="55072" class="Symbol">=</a> <a id="55074" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="55079" class="Symbol">...</a> <a id="55083" class="Symbol">|</a> <a id="55085" href="/lia/part1/Semantics/#55085" class="Bound">ψ</a> <a id="55087" href="/lia/part1/Semantics/#51441" class="InductiveConstructor Operator">⇔⊥</a> <a id="55090" class="Symbol">=</a> <a id="55092" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="55097" class="Symbol">...</a> <a id="55101" class="Symbol">|</a> <a id="55103" href="/lia/part1/Semantics/#51476" class="InductiveConstructor Operator">⊤⇔</a> <a id="55106" href="/lia/part1/Semantics/#55106" class="Bound">ψ</a> <a id="55108" class="Symbol">=</a> <a id="55110" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="55115" class="Symbol">...</a> <a id="55119" class="Symbol">|</a> <a id="55121" href="/lia/part1/Semantics/#55121" class="Bound">ψ</a> <a id="55123" href="/lia/part1/Semantics/#51511" class="InductiveConstructor Operator">⇔⊤</a> <a id="55126" class="Symbol">=</a> <a id="55128" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="55133" class="Symbol">...</a> <a id="55137" class="Symbol">|</a> <a id="55139" href="/lia/part1/Semantics/#51549" class="InductiveConstructor">stop</a> <a id="55144" href="/lia/part1/Semantics/#55144" class="Bound">ψ</a> <a id="55146" class="Symbol">=</a> <a id="55148" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

</div>

<div class="introbox">

  <p>The definition of <a href="#simplify-sound"><code class="language-plaintext highlighter-rouge">simplify-sound</code></a> relies on
<a href="#simplify1-sound"><code class="language-plaintext highlighter-rouge">simplify1-sound</code></a> and is by a routine structural
induction. <button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="55301" href="/lia/part1/Semantics/#54381" class="Function">simplify-sound</a> <a id="55316" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="55318" href="/lia/part1/Semantics/#55318" class="Bound">ϱ</a> <a id="55320" class="Symbol">=</a> <a id="55322" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="55327" href="/lia/part1/Semantics/#54381" class="Function">simplify-sound</a> <a id="55342" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="55344" href="/lia/part1/Semantics/#55344" class="Bound">ϱ</a> <a id="55346" class="Symbol">=</a> <a id="55348" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="55353" href="/lia/part1/Semantics/#54381" class="Function">simplify-sound</a> <a id="55368" class="Symbol">(</a><a id="55369" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="55371" href="/lia/part1/Semantics/#55371" class="Bound">p</a><a id="55372" class="Symbol">)</a> <a id="55374" href="/lia/part1/Semantics/#55374" class="Bound">ϱ</a> <a id="55376" class="Symbol">=</a> <a id="55378" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="55383" href="/lia/part1/Semantics/#54381" class="Function">simplify-sound</a> <a id="55398" class="Symbol">(</a><a id="55399" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="55401" href="/lia/part1/Semantics/#55401" class="Bound">φ</a><a id="55402" class="Symbol">)</a> <a id="55404" href="/lia/part1/Semantics/#55404" class="Bound">ϱ</a>
  <a id="55408" class="Keyword">rewrite</a> <a id="55416" href="/lia/part1/Semantics/#54319" class="Function">simplify1-sound</a> <a id="55432" class="Symbol">(</a><a id="55433" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="55435" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="55444" href="/lia/part1/Semantics/#55401" class="Bound">φ</a><a id="55445" class="Symbol">)</a> <a id="55447" href="/lia/part1/Semantics/#55404" class="Bound">ϱ</a> <a id="55449" class="Symbol">|</a>
          <a id="55461" href="/lia/part1/Semantics/#54381" class="Function">simplify-sound</a> <a id="55476" href="/lia/part1/Semantics/#55401" class="Bound">φ</a> <a id="55478" href="/lia/part1/Semantics/#55404" class="Bound">ϱ</a> <a id="55480" class="Symbol">=</a> <a id="55482" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="55487" href="/lia/part1/Semantics/#54381" class="Function">simplify-sound</a> <a id="55502" class="Symbol">(</a><a id="55503" href="/lia/part1/Semantics/#55503" class="Bound">φ</a> <a id="55505" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="55507" href="/lia/part1/Semantics/#55507" class="Bound">ψ</a><a id="55508" class="Symbol">)</a> <a id="55510" href="/lia/part1/Semantics/#55510" class="Bound">ϱ</a>
  <a id="55514" class="Keyword">rewrite</a> <a id="55522" href="/lia/part1/Semantics/#54319" class="Function">simplify1-sound</a> <a id="55538" class="Symbol">(</a><a id="55539" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="55548" href="/lia/part1/Semantics/#55503" class="Bound">φ</a> <a id="55550" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="55552" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="55561" href="/lia/part1/Semantics/#55507" class="Bound">ψ</a><a id="55562" class="Symbol">)</a> <a id="55564" href="/lia/part1/Semantics/#55510" class="Bound">ϱ</a> <a id="55566" class="Symbol">|</a>
          <a id="55578" href="/lia/part1/Semantics/#54381" class="Function">simplify-sound</a> <a id="55593" href="/lia/part1/Semantics/#55503" class="Bound">φ</a> <a id="55595" href="/lia/part1/Semantics/#55510" class="Bound">ϱ</a> <a id="55597" class="Symbol">|</a>
          <a id="55609" href="/lia/part1/Semantics/#54381" class="Function">simplify-sound</a> <a id="55624" href="/lia/part1/Semantics/#55507" class="Bound">ψ</a> <a id="55626" href="/lia/part1/Semantics/#55510" class="Bound">ϱ</a> <a id="55628" class="Symbol">=</a> <a id="55630" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="55635" href="/lia/part1/Semantics/#54381" class="Function">simplify-sound</a> <a id="55650" class="Symbol">(</a><a id="55651" href="/lia/part1/Semantics/#55651" class="Bound">φ</a> <a id="55653" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="55655" href="/lia/part1/Semantics/#55655" class="Bound">ψ</a><a id="55656" class="Symbol">)</a> <a id="55658" href="/lia/part1/Semantics/#55658" class="Bound">ϱ</a>
  <a id="55662" class="Keyword">rewrite</a> <a id="55670" href="/lia/part1/Semantics/#54319" class="Function">simplify1-sound</a> <a id="55686" class="Symbol">(</a><a id="55687" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="55696" href="/lia/part1/Semantics/#55651" class="Bound">φ</a> <a id="55698" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="55700" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="55709" href="/lia/part1/Semantics/#55655" class="Bound">ψ</a><a id="55710" class="Symbol">)</a> <a id="55712" href="/lia/part1/Semantics/#55658" class="Bound">ϱ</a> <a id="55714" class="Symbol">|</a>
          <a id="55726" href="/lia/part1/Semantics/#54381" class="Function">simplify-sound</a> <a id="55741" href="/lia/part1/Semantics/#55651" class="Bound">φ</a> <a id="55743" href="/lia/part1/Semantics/#55658" class="Bound">ϱ</a> <a id="55745" class="Symbol">|</a>
          <a id="55757" href="/lia/part1/Semantics/#54381" class="Function">simplify-sound</a> <a id="55772" href="/lia/part1/Semantics/#55655" class="Bound">ψ</a> <a id="55774" href="/lia/part1/Semantics/#55658" class="Bound">ϱ</a> <a id="55776" class="Symbol">=</a> <a id="55778" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="55783" href="/lia/part1/Semantics/#54381" class="Function">simplify-sound</a> <a id="55798" class="Symbol">(</a><a id="55799" href="/lia/part1/Semantics/#55799" class="Bound">φ</a> <a id="55801" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="55803" href="/lia/part1/Semantics/#55803" class="Bound">ψ</a><a id="55804" class="Symbol">)</a> <a id="55806" href="/lia/part1/Semantics/#55806" class="Bound">ϱ</a>
  <a id="55810" class="Keyword">rewrite</a> <a id="55818" href="/lia/part1/Semantics/#54319" class="Function">simplify1-sound</a> <a id="55834" class="Symbol">(</a><a id="55835" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="55844" href="/lia/part1/Semantics/#55799" class="Bound">φ</a> <a id="55846" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="55848" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="55857" href="/lia/part1/Semantics/#55803" class="Bound">ψ</a><a id="55858" class="Symbol">)</a> <a id="55860" href="/lia/part1/Semantics/#55806" class="Bound">ϱ</a> <a id="55862" class="Symbol">|</a>
          <a id="55874" href="/lia/part1/Semantics/#54381" class="Function">simplify-sound</a> <a id="55889" href="/lia/part1/Semantics/#55799" class="Bound">φ</a> <a id="55891" href="/lia/part1/Semantics/#55806" class="Bound">ϱ</a> <a id="55893" class="Symbol">|</a>
          <a id="55905" href="/lia/part1/Semantics/#54381" class="Function">simplify-sound</a> <a id="55920" href="/lia/part1/Semantics/#55803" class="Bound">ψ</a> <a id="55922" href="/lia/part1/Semantics/#55806" class="Bound">ϱ</a> <a id="55924" class="Symbol">=</a> <a id="55926" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="55931" href="/lia/part1/Semantics/#54381" class="Function">simplify-sound</a> <a id="55946" class="Symbol">(</a><a id="55947" href="/lia/part1/Semantics/#55947" class="Bound">φ</a> <a id="55949" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="55951" href="/lia/part1/Semantics/#55951" class="Bound">ψ</a><a id="55952" class="Symbol">)</a> <a id="55954" href="/lia/part1/Semantics/#55954" class="Bound">ϱ</a>
  <a id="55958" class="Keyword">rewrite</a> <a id="55966" href="/lia/part1/Semantics/#54319" class="Function">simplify1-sound</a> <a id="55982" class="Symbol">(</a><a id="55983" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="55992" href="/lia/part1/Semantics/#55947" class="Bound">φ</a> <a id="55994" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="55996" href="/lia/part1/Semantics/#52850" class="Function">simplify</a> <a id="56005" href="/lia/part1/Semantics/#55951" class="Bound">ψ</a><a id="56006" class="Symbol">)</a> <a id="56008" href="/lia/part1/Semantics/#55954" class="Bound">ϱ</a> <a id="56010" class="Symbol">|</a>
          <a id="56022" href="/lia/part1/Semantics/#54381" class="Function">simplify-sound</a> <a id="56037" href="/lia/part1/Semantics/#55947" class="Bound">φ</a> <a id="56039" href="/lia/part1/Semantics/#55954" class="Bound">ϱ</a> <a id="56041" class="Symbol">|</a>
          <a id="56053" href="/lia/part1/Semantics/#54381" class="Function">simplify-sound</a> <a id="56068" href="/lia/part1/Semantics/#55951" class="Bound">ψ</a> <a id="56070" href="/lia/part1/Semantics/#55954" class="Bound">ϱ</a> <a id="56072" class="Symbol">=</a> <a id="56074" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

</div>

<!--

## Structure

We prove that [`` simplify ``](#simplify)
 produces a formula not containing the zero-ary connectives [`` ⊥ ``](#Formula.⊥)
 and [`` ⊤ ``](#Formula.⊤)
, unless this is all that there is in the formula.

-- data No[⊤,⊥] : Formula → Set where
--   `_ : ∀ p → No[⊤,⊥] (` p)
--   ¬_ : No[⊤,⊥] φ → No[⊤,⊥] (¬ φ)
--   _∨_ : No[⊤,⊥] φ → No[⊤,⊥] ψ → No[⊤,⊥] (φ ∨ ψ)
--   _∧_ : No[⊤,⊥] φ → No[⊤,⊥] ψ → No[⊤,⊥] (φ ∧ ψ)
--   _⇒_ : No[⊤,⊥] φ → No[⊤,⊥] ψ → No[⊤,⊥] (φ ⇒ ψ)
--   _⇔_ : No[⊤,⊥] φ → No[⊤,⊥] ψ → No[⊤,⊥] (φ ⇔ ψ)

-- data Simplified : Formula → Set where
--   ⊥ : Simplified ⊥
--   ⊤ : Simplified ⊤
--   no-⊤⊥ : No[⊤,⊥] φ → Simplified φ

-- simplified1-¬ : Simplified φ → Simplified (simplify1 (¬ φ))
-- simplified1-¬ {φ} simp-φ = {!!}

-- simplified1-∨ : Simplified φ → Simplified ψ → Simplified (simplify1 (φ ∨ ψ))
-- simplified1-∨ {φ} {ψ} simp-φ simp-ψ
--   with simplifyView (φ ∨ ψ)
-- ... | ⊥∨ .ψ = simp-ψ
-- ... | .φ ∨⊥ = simp-φ
-- ... | ⊤∨ .ψ = simp-φ
-- ... | .φ ∨⊤ = simp-ψ
-- ... | stop .(φ ∨ ψ) = {! !} -- no information here, need to improve the view to be more precise

-- simplified : ∀ φ → Simplified (simplify φ)
-- simplified ⊥ = ⊥
-- simplified ⊤ = ⊤
-- simplified (` p) = no-⊤⊥ (` p)
-- simplified (¬ φ) = simplified1-¬ (simplified φ) 
-- simplified (φ ∨ ψ) = simplified1-∨ (simplified φ) (simplified ψ)
-- simplified (φ ∧ φ₂) = {!!}
-- simplified (φ ⇒ φ₂) = {!!}
-- simplified (φ ⇔ φ₂) = {!!}

-->

<h1 id="duality">
<a class="anchor" href="#duality" aria-hidden="true"><span class="octicon octicon-link"></span></a>Duality</h1>

<p>The connectives in the fragment <code class="language-plaintext highlighter-rouge">{⊥,⊤,¬,∨,∧}</code> have a fundamental
duality:</p>

<ul>
  <li>The two constants <a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> and
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> are dual to each other.</li>
  <li>Negation <a href="../../part1/Semantics#Formula.%C2%AC_"><code class="language-plaintext highlighter-rouge">¬_</code></a> is dual to itself.</li>
  <li>Conjunction <a href="../../part1/Semantics#Formula._%E2%88%A7_"><code class="language-plaintext highlighter-rouge">_∧_</code></a> and
disjunction <a href="../../part1/Semantics#Formula._%E2%88%A8_"><code class="language-plaintext highlighter-rouge">_∨_</code></a> are dual to
each other.</li>
</ul>

<p>This captured by the following definition, which given a formula <code class="language-plaintext highlighter-rouge">φ</code>
constructs its <em>dual</em> <code class="language-plaintext highlighter-rouge">φ ⁻</code> by recursively swaping each constructor with
its dual:</p>

<pre class="Agda"><a id="58086" class="Keyword">infix</a> <a id="58092" class="Number">200</a> <a id="58096" href="/lia/part1/Semantics/#58099" class="Function Operator">_⁻</a>
<a id="_⁻"></a><a id="58099" href="/lia/part1/Semantics/#58099" class="Function Operator">_⁻</a> <a id="58102" class="Symbol">:</a> <a id="58104" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="58112" class="Symbol">→</a> <a id="58114" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a>
<a id="58122" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="58124" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="58126" class="Symbol">=</a> <a id="58128" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>
<a id="58130" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="58132" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="58134" class="Symbol">=</a> <a id="58136" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a>
<a id="58138" class="Symbol">(</a><a id="58139" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="58141" href="/lia/part1/Semantics/#58141" class="Bound">p</a><a id="58142" class="Symbol">)</a> <a id="58144" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="58146" class="Symbol">=</a> <a id="58148" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="58150" href="/lia/part1/Semantics/#58141" class="Bound">p</a>
<a id="58152" class="Symbol">(</a><a id="58153" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="58155" href="/lia/part1/Semantics/#58155" class="Bound">φ</a><a id="58156" class="Symbol">)</a> <a id="58158" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="58160" class="Symbol">=</a> <a id="58162" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="58164" href="/lia/part1/Semantics/#58155" class="Bound">φ</a> <a id="58166" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a>
<a id="58168" class="Symbol">(</a><a id="58169" href="/lia/part1/Semantics/#58169" class="Bound">φ</a> <a id="58171" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="58173" href="/lia/part1/Semantics/#58173" class="Bound">ψ</a><a id="58174" class="Symbol">)</a> <a id="58176" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="58178" class="Symbol">=</a> <a id="58180" href="/lia/part1/Semantics/#58169" class="Bound">φ</a> <a id="58182" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="58184" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="58186" href="/lia/part1/Semantics/#58173" class="Bound">ψ</a> <a id="58188" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a>
<a id="58190" class="Symbol">(</a><a id="58191" href="/lia/part1/Semantics/#58191" class="Bound">φ</a> <a id="58193" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="58195" href="/lia/part1/Semantics/#58195" class="Bound">ψ</a><a id="58196" class="Symbol">)</a> <a id="58198" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="58200" class="Symbol">=</a> <a id="58202" href="/lia/part1/Semantics/#58191" class="Bound">φ</a> <a id="58204" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="58206" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="58208" href="/lia/part1/Semantics/#58195" class="Bound">ψ</a> <a id="58210" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a>
<a id="58212" href="/lia/part1/Semantics/#58212" class="CatchallClause Bound">φ</a><a id="58213" class="CatchallClause"> </a><a id="58214" href="/lia/part1/Semantics/#58099" class="CatchallClause Function Operator">⁻</a> <a id="58216" class="Symbol">=</a> <a id="58218" href="/lia/part1/Semantics/#58212" class="Bound">φ</a></pre>

<p>(In the last catch-all case we do not do anything, since we will not
apply dualisation outside the <code class="language-plaintext highlighter-rouge">{⊥,⊤,¬,∨,∧}</code> fragment.)</p>

<div class="examplebox">

  <dl>
    <dt><span id="example:dualisation" class="pandoc-numbering-text example"><strong>Example 4</strong></span></dt>
    <dd>
      <pre class="Agda"><a id="58417" href="/lia/part1/Semantics/#58417" class="Function">_</a> <a id="58419" class="Symbol">:</a> <a id="58421" class="Symbol">∀</a> <a id="58423" class="Symbol">{</a><a id="58424" href="/lia/part1/Semantics/#58424" class="Bound">φ</a> <a id="58426" href="/lia/part1/Semantics/#58426" class="Bound">ψ</a><a id="58427" class="Symbol">}</a> <a id="58429" class="Symbol">→</a> <a id="58431" class="Symbol">(</a><a id="58432" href="/lia/part1/Semantics/#58424" class="Bound">φ</a> <a id="58434" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="58436" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="58438" href="/lia/part1/Semantics/#58426" class="Bound">ψ</a><a id="58439" class="Symbol">)</a> <a id="58441" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="58443" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="58445" href="/lia/part1/Semantics/#58424" class="Bound">φ</a> <a id="58447" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="58449" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="58451" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="58453" href="/lia/part1/Semantics/#58426" class="Bound">ψ</a> <a id="58455" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a>
<a id="58457" class="Symbol">_</a> <a id="58459" class="Symbol">=</a> <a id="58461" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>
      <p><span class="hidden">∎</span><span class="right-aligned">∎</span></p>
    </dd>
  </dl>

</div>

<p>In the proofs that follow, we want to capture the fact that a formula
does not contain implications or bi-implications. To this end, we define
the following view:</p>

<pre class="Agda"><a id="58670" class="Keyword">data</a> <a id="Formula[⊥,⊤,¬,∨,∧]"></a><a id="58675" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="58694" class="Symbol">:</a> <a id="58696" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="58704" class="Symbol">→</a> <a id="58706" class="PrimitiveType">Set</a> <a id="58710" class="Keyword">where</a>
  <a id="Formula[⊥,⊤,¬,∨,∧].⊥"></a><a id="58718" href="/lia/part1/Semantics/#58718" class="InductiveConstructor">⊥</a> <a id="58720" class="Symbol">:</a> <a id="58722" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="58741" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a>
  <a id="Formula[⊥,⊤,¬,∨,∧].⊤"></a><a id="58745" href="/lia/part1/Semantics/#58745" class="InductiveConstructor">⊤</a> <a id="58747" class="Symbol">:</a> <a id="58749" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="58768" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>
  <a id="Formula[⊥,⊤,¬,∨,∧].`_"></a><a id="58772" href="/lia/part1/Semantics/#58772" class="InductiveConstructor Operator">`_</a> <a id="58775" class="Symbol">:</a> <a id="58777" class="Symbol">∀</a> <a id="58779" href="/lia/part1/Semantics/#58779" class="Bound">p</a> <a id="58781" class="Symbol">→</a> <a id="58783" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="58802" class="Symbol">(</a><a id="58803" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="58805" href="/lia/part1/Semantics/#58779" class="Bound">p</a><a id="58806" class="Symbol">)</a>
  <a id="Formula[⊥,⊤,¬,∨,∧].¬_"></a><a id="58810" href="/lia/part1/Semantics/#58810" class="InductiveConstructor Operator">¬_</a> <a id="58813" class="Symbol">:</a> <a id="58815" class="Symbol">∀</a> <a id="58817" class="Symbol">{</a><a id="58818" href="/lia/part1/Semantics/#58818" class="Bound">φ</a><a id="58819" class="Symbol">}</a> <a id="58821" class="Symbol">→</a> <a id="58823" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="58842" href="/lia/part1/Semantics/#58818" class="Bound">φ</a> <a id="58844" class="Symbol">→</a> <a id="58846" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="58865" class="Symbol">(</a><a id="58866" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="58868" href="/lia/part1/Semantics/#58818" class="Bound">φ</a><a id="58869" class="Symbol">)</a>
  <a id="Formula[⊥,⊤,¬,∨,∧]._∨_"></a><a id="58873" href="/lia/part1/Semantics/#58873" class="InductiveConstructor Operator">_∨_</a> <a id="58877" class="Symbol">:</a> <a id="58879" class="Symbol">∀</a> <a id="58881" class="Symbol">{</a><a id="58882" href="/lia/part1/Semantics/#58882" class="Bound">φ</a> <a id="58884" href="/lia/part1/Semantics/#58884" class="Bound">ψ</a><a id="58885" class="Symbol">}</a> <a id="58887" class="Symbol">→</a> <a id="58889" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="58908" href="/lia/part1/Semantics/#58882" class="Bound">φ</a> <a id="58910" class="Symbol">→</a> <a id="58912" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="58931" href="/lia/part1/Semantics/#58884" class="Bound">ψ</a>
    <a id="58937" class="Symbol">→</a> <a id="58939" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="58958" class="Symbol">(</a><a id="58959" href="/lia/part1/Semantics/#58882" class="Bound">φ</a> <a id="58961" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="58963" href="/lia/part1/Semantics/#58884" class="Bound">ψ</a><a id="58964" class="Symbol">)</a>
  <a id="Formula[⊥,⊤,¬,∨,∧]._∧_"></a><a id="58968" href="/lia/part1/Semantics/#58968" class="InductiveConstructor Operator">_∧_</a> <a id="58972" class="Symbol">:</a> <a id="58974" class="Symbol">∀</a> <a id="58976" class="Symbol">{</a><a id="58977" href="/lia/part1/Semantics/#58977" class="Bound">φ</a> <a id="58979" href="/lia/part1/Semantics/#58979" class="Bound">ψ</a><a id="58980" class="Symbol">}</a> <a id="58982" class="Symbol">→</a> <a id="58984" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="59003" href="/lia/part1/Semantics/#58977" class="Bound">φ</a> <a id="59005" class="Symbol">→</a> <a id="59007" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="59026" href="/lia/part1/Semantics/#58979" class="Bound">ψ</a>
    <a id="59032" class="Symbol">→</a> <a id="59034" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="59053" class="Symbol">(</a><a id="59054" href="/lia/part1/Semantics/#58977" class="Bound">φ</a> <a id="59056" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="59058" href="/lia/part1/Semantics/#58979" class="Bound">ψ</a><a id="59059" class="Symbol">)</a></pre>

<p>Notice that this view is <em>recursive</em>, since we need to have views of
subformulas in order to construct views of compound formulas. We will
not actually compute this view here, but just use it as an additional
assumption to the properties in the rest of the section in order to
exclude from consideration formulas involving implication or
bi-impication. (We will come back to this view in <a href="../../part1/CharacteristicFormulas">Ch.
part1/CharacteristicFormulas</a> as
part of functional completeness, where we will provide a way to compute
it; c.f.
<a href="../../part1/CharacteristicFormulas#funCompl%5B%E2%8A%A5,%E2%8A%A4,%C2%AC,%E2%88%A8,%E2%88%A7%5D"><code class="language-plaintext highlighter-rouge">funCompl[⊥,⊤,¬,∨,∧]</code></a>
.)</p>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:dual-involution" class="pandoc-numbering-text exercise"><strong>Exercise 19</strong></span></dt>
    <dd>Show that dualisation is an involutive operator, in the sense that
applying it twice leaves the formula unchanged:</dd>
  </dl>

  <pre class="Agda"><a id="dual-involutive"></a><a id="59811" href="/lia/part1/Semantics/#59811" class="Function">dual-involutive</a> <a id="59827" class="Symbol">:</a>
  <a id="59831" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="59850" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="59852" class="Symbol">→</a>
  <a id="59856" class="Comment">----------</a>
  <a id="59869" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="59871" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="59873" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a>  <a id="59876" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="59878" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a></pre>
  <pre data-executable="true" data-language="agda" id="part1.Semantics.dual-involutive">

module part1.Semantics.dual-involutive where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (dual-involutive to dual-involutive-orig)

dual-involutive : typeOf dual-involutive-orig
-- BEGIN SOLUTION
dual-involutive = ?</pre>

  <p>The extra assumption <code class="language-plaintext highlighter-rouge">Formula[⊥,⊤,¬,∨,∧] φ</code> dispenses us from
considering formulas with implication or bi-implication. <span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:dual-involution-solution)
:::::::
-->

</div>

<h2 id="duality-lemma">
<a class="anchor" href="#duality-lemma" aria-hidden="true"><span class="octicon octicon-link"></span></a>Duality lemma</h2>

<p>Dualisation satisfies a key semantic property. For a valuation <a href="#%CF%B1"><code class="language-plaintext highlighter-rouge">ϱ</code></a>
, let <code class="language-plaintext highlighter-rouge">- ϱ</code> be the <em>opposite valuation</em>, which is obtained by negating
the output of <a href="#%CF%B1"><code class="language-plaintext highlighter-rouge">ϱ</code></a> :</p>

<pre class="Agda"><a id="-_"></a><a id="60565" href="/lia/part1/Semantics/#60565" class="Function Operator">-_</a> <a id="60568" class="Symbol">:</a> <a id="60570" href="/lia/part1/Semantics/#5283" class="Function">Val</a> <a id="60574" class="Symbol">→</a> <a id="60576" href="/lia/part1/Semantics/#5283" class="Function">Val</a>
<a id="60580" class="Symbol">(</a><a id="60581" href="/lia/part1/Semantics/#60565" class="Function Operator">-</a> <a id="60583" href="/lia/part1/Semantics/#60583" class="Bound">ϱ</a><a id="60584" class="Symbol">)</a> <a id="60586" href="/lia/part1/Semantics/#60586" class="Bound">p</a> <a id="60588" class="Symbol">=</a> <a id="60590" href="/lia/part0/Booleans/#1119" class="Function Operator">¬𝔹</a> <a id="60593" href="/lia/part1/Semantics/#60583" class="Bound">ϱ</a> <a id="60595" href="/lia/part1/Semantics/#60586" class="Bound">p</a></pre>

<p>The fundamental semantic property of dualisation is the following:</p>

<div class="lemmabox">

  <dl>
    <dt><span id="lemma:duality" class="pandoc-numbering-text lemma"><strong>Lemma 1</strong> <em>(Duality lemma)</em></span></dt>
    <dd>
      <pre class="Agda"><a id="duality"></a><a id="60733" href="/lia/part1/Semantics/#60733" class="Function">duality</a> <a id="60741" class="Symbol">:</a> <a id="60743" class="Symbol">∀</a> <a id="60745" class="Symbol">{</a><a id="60746" href="/lia/part1/Semantics/#60746" class="Bound">φ</a><a id="60747" class="Symbol">}</a> <a id="60749" href="/lia/part1/Semantics/#60749" class="Bound">ϱ</a> <a id="60751" class="Symbol">→</a>
  <a id="60755" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="60774" href="/lia/part1/Semantics/#60746" class="Bound">φ</a> <a id="60776" class="Symbol">→</a>
  <a id="60780" class="Comment">--------------------------</a>
  <a id="60809" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="60811" href="/lia/part1/Semantics/#60746" class="Bound">φ</a> <a id="60813" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="60815" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="60817" href="/lia/part1/Semantics/#60749" class="Bound">ϱ</a> <a id="60819" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="60821" href="/lia/part0/Booleans/#1119" class="Function Operator">¬𝔹</a> <a id="60824" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="60826" href="/lia/part1/Semantics/#60746" class="Bound">φ</a> <a id="60828" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="60830" class="Symbol">(</a><a id="60831" href="/lia/part1/Semantics/#60565" class="Function Operator">-</a> <a id="60833" href="/lia/part1/Semantics/#60749" class="Bound">ϱ</a><a id="60834" class="Symbol">)</a></pre>
      <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>
    </dd>
  </dl>

</div>

<div class="introbox">

  <p>The proof follows a straightforward structural induction, relying on de
Morgan’s laws <a href="../../part1/Semantics#deMorganAnd"><code class="language-plaintext highlighter-rouge">deMorganAnd</code></a> and
<a href="../../part1/Semantics#deMorganOr"><code class="language-plaintext highlighter-rouge">deMorganOr</code></a> for conjunction, resp.,
disjunction. <button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="61118" href="/lia/part1/Semantics/#60733" class="Function">duality</a> <a id="61126" class="Symbol">_</a> <a id="61128" href="/lia/part1/Semantics/#58718" class="InductiveConstructor">⊥</a> <a id="61130" class="Symbol">=</a> <a id="61132" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="61137" href="/lia/part1/Semantics/#60733" class="Function">duality</a> <a id="61145" class="Symbol">_</a> <a id="61147" href="/lia/part1/Semantics/#58745" class="InductiveConstructor">⊤</a> <a id="61149" class="Symbol">=</a> <a id="61151" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="61156" href="/lia/part1/Semantics/#60733" class="Function">duality</a> <a id="61164" class="Symbol">{</a><a id="61165" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="61167" href="/lia/part1/Semantics/#61167" class="Bound">p</a><a id="61168" class="Symbol">}</a> <a id="61170" href="/lia/part1/Semantics/#61170" class="Bound">ϱ</a> <a id="61172" class="Symbol">(</a><a id="61173" href="/lia/part1/Semantics/#58772" class="InductiveConstructor Operator">`</a> <a id="61175" href="/lia/part1/Semantics/#61167" class="Bound">p</a><a id="61176" class="Symbol">)</a>
  <a id="61180" class="Keyword">with</a> <a id="61185" href="/lia/part1/Semantics/#61170" class="Bound">ϱ</a> <a id="61187" href="/lia/part1/Semantics/#61167" class="Bound">p</a>
<a id="61189" class="Symbol">...</a> <a id="61193" class="Symbol">|</a> <a id="61195" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="61198" class="Symbol">=</a> <a id="61200" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="61205" class="Symbol">...</a> <a id="61209" class="Symbol">|</a> <a id="61211" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="61214" class="Symbol">=</a> <a id="61216" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="61221" href="/lia/part1/Semantics/#60733" class="Function">duality</a> <a id="61229" href="/lia/part1/Semantics/#61229" class="Bound">ϱ</a> <a id="61231" class="Symbol">(</a><a id="61232" href="/lia/part1/Semantics/#58810" class="InductiveConstructor Operator">¬</a> <a id="61234" href="/lia/part1/Semantics/#61234" class="Bound">φ</a><a id="61235" class="Symbol">)</a>
  <a id="61239" class="Keyword">rewrite</a> <a id="61247" href="/lia/part1/Semantics/#60733" class="Function">duality</a> <a id="61255" href="/lia/part1/Semantics/#61229" class="Bound">ϱ</a> <a id="61257" href="/lia/part1/Semantics/#61234" class="Bound">φ</a> <a id="61259" class="Symbol">=</a> <a id="61261" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="61266" href="/lia/part1/Semantics/#60733" class="Function">duality</a> <a id="61274" class="Symbol">{</a><a id="61275" href="/lia/part1/Semantics/#61275" class="Bound">φ</a> <a id="61277" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="61279" href="/lia/part1/Semantics/#61279" class="Bound">ψ</a><a id="61280" class="Symbol">}</a> <a id="61282" href="/lia/part1/Semantics/#61282" class="Bound">ϱ</a> <a id="61284" class="Symbol">(</a><a id="61285" href="/lia/part1/Semantics/#61285" class="Bound">view-φ</a> <a id="61292" href="/lia/part1/Semantics/#58968" class="InductiveConstructor Operator">∧</a> <a id="61294" href="/lia/part1/Semantics/#61294" class="Bound">view-ψ</a><a id="61300" class="Symbol">)</a>
  <a id="61304" class="Keyword">rewrite</a> <a id="61312" href="/lia/part1/Semantics/#60733" class="Function">duality</a> <a id="61320" href="/lia/part1/Semantics/#61282" class="Bound">ϱ</a> <a id="61322" href="/lia/part1/Semantics/#61285" class="Bound">view-φ</a> <a id="61329" class="Symbol">|</a>
          <a id="61341" href="/lia/part1/Semantics/#60733" class="Function">duality</a> <a id="61349" href="/lia/part1/Semantics/#61282" class="Bound">ϱ</a> <a id="61351" href="/lia/part1/Semantics/#61294" class="Bound">view-ψ</a> <a id="61358" class="Symbol">=</a> <a id="61360" href="/lia/part0/Equality/#458" class="Function">sym</a> <a id="61364" class="Symbol">(</a><a id="61365" href="/lia/part1/Semantics/#27383" class="Function">deMorganAnd</a> <a id="61377" href="/lia/part1/Semantics/#61275" class="Bound">φ</a> <a id="61379" href="/lia/part1/Semantics/#61279" class="Bound">ψ</a> <a id="61381" class="Symbol">(</a><a id="61382" href="/lia/part1/Semantics/#60565" class="Function Operator">-</a> <a id="61384" href="/lia/part1/Semantics/#61282" class="Bound">ϱ</a><a id="61385" class="Symbol">))</a>
<a id="61388" href="/lia/part1/Semantics/#60733" class="Function">duality</a> <a id="61396" class="Symbol">{</a><a id="61397" href="/lia/part1/Semantics/#61397" class="Bound">φ</a> <a id="61399" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="61401" href="/lia/part1/Semantics/#61401" class="Bound">ψ</a><a id="61402" class="Symbol">}</a> <a id="61404" href="/lia/part1/Semantics/#61404" class="Bound">ϱ</a> <a id="61406" class="Symbol">(</a><a id="61407" href="/lia/part1/Semantics/#61407" class="Bound">view-φ</a> <a id="61414" href="/lia/part1/Semantics/#58873" class="InductiveConstructor Operator">∨</a> <a id="61416" href="/lia/part1/Semantics/#61416" class="Bound">view-ψ</a><a id="61422" class="Symbol">)</a>
  <a id="61426" class="Keyword">rewrite</a> <a id="61434" href="/lia/part1/Semantics/#60733" class="Function">duality</a> <a id="61442" href="/lia/part1/Semantics/#61404" class="Bound">ϱ</a> <a id="61444" href="/lia/part1/Semantics/#61407" class="Bound">view-φ</a> <a id="61451" class="Symbol">|</a>
          <a id="61463" href="/lia/part1/Semantics/#60733" class="Function">duality</a> <a id="61471" href="/lia/part1/Semantics/#61404" class="Bound">ϱ</a> <a id="61473" href="/lia/part1/Semantics/#61416" class="Bound">view-ψ</a> <a id="61480" class="Symbol">=</a> <a id="61482" href="/lia/part0/Equality/#458" class="Function">sym</a> <a id="61486" class="Symbol">(</a><a id="61487" href="/lia/part1/Semantics/#27427" class="Function">deMorganOr</a> <a id="61498" href="/lia/part1/Semantics/#61397" class="Bound">φ</a> <a id="61500" href="/lia/part1/Semantics/#61401" class="Bound">ψ</a> <a id="61502" class="Symbol">(</a><a id="61503" href="/lia/part1/Semantics/#60565" class="Function Operator">-</a> <a id="61505" href="/lia/part1/Semantics/#61404" class="Bound">ϱ</a><a id="61506" class="Symbol">))</a></pre>

</div>

<h2 id="consequences">
<a class="anchor" href="#consequences" aria-hidden="true"><span class="octicon octicon-link"></span></a>Consequences</h2>

<p>The next exercises explore some consequences of the duality lemma.</p>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:duality-equivalence-1" class="pandoc-numbering-text exercise"><strong>Exercise 20</strong></span></dt>
    <dd>Prove that dualisation preserves logical equivalence:</dd>
  </dl>

  <pre class="Agda"><a id="duality-equivalence-1"></a><a id="61743" href="/lia/part1/Semantics/#61743" class="Function">duality-equivalence-1</a> <a id="61765" class="Symbol">:</a>
  <a id="61769" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="61788" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="61790" class="Symbol">→</a>
  <a id="61794" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="61813" href="/lia/part1/Semantics/#3737" class="Generalizable">ψ</a> <a id="61815" class="Symbol">→</a>
  <a id="61819" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="61821" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="61823" href="/lia/part1/Semantics/#3737" class="Generalizable">ψ</a> <a id="61825" class="Symbol">→</a>
  <a id="61829" class="Comment">---------</a>
  <a id="61841" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="61843" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="61845" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="61847" href="/lia/part1/Semantics/#3737" class="Generalizable">ψ</a> <a id="61849" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a></pre>
  <pre data-executable="true" data-language="agda" id="part1.Semantics.duality-equivalence-1">

module part1.Semantics.duality-equivalence-1 where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (duality-equivalence-1 to duality-equivalence-1-orig)

duality-equivalence-1 : typeOf duality-equivalence-1-orig
-- BEGIN SOLUTION
duality-equivalence-1 = ?</pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:duality-equivalence-1-solution)
:::::::
-->

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:duality-equivalence-2" class="pandoc-numbering-text exercise"><strong>Exercise 21</strong></span></dt>
    <dd>
      <pre class="Agda"><a id="duality-equivalence-2"></a><a id="62194" href="/lia/part1/Semantics/#62194" class="Function">duality-equivalence-2</a> <a id="62216" class="Symbol">:</a>
  <a id="62220" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="62239" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="62241" class="Symbol">→</a>
  <a id="62245" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="62264" href="/lia/part1/Semantics/#3737" class="Generalizable">ψ</a> <a id="62266" class="Symbol">→</a>
  <a id="62270" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="62272" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="62274" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="62276" href="/lia/part1/Semantics/#3737" class="Generalizable">ψ</a> <a id="62278" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="62280" class="Symbol">→</a>
  <a id="62284" class="Comment">-------</a>
  <a id="62294" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="62296" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="62298" href="/lia/part1/Semantics/#3737" class="Generalizable">ψ</a></pre>
    </dd>
  </dl>

  <pre data-executable="true" data-language="agda" id="part1.Semantics.duality-equivalence-2">

module part1.Semantics.duality-equivalence-2 where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (duality-equivalence-2 to duality-equivalence-2-orig)

duality-equivalence-2 : typeOf duality-equivalence-2-orig
-- BEGIN SOLUTION
duality-equivalence-2 = ?</pre>

  <p><em>Hint:</em> Use <a href="#duality-equivalence-1"><code class="language-plaintext highlighter-rouge">duality-equivalence-1</code></a> and the
fact that dualisation preserves <code class="language-plaintext highlighter-rouge">{⊥,⊤,¬,∨,∧}</code> formulas:</p>

  <pre class="Agda"><a id="dual-preservation"></a><a id="62450" href="/lia/part1/Semantics/#62450" class="Function">dual-preservation</a> <a id="62468" class="Symbol">:</a>
  <a id="62472" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="62491" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="62493" class="Symbol">→</a>
  <a id="62497" class="Comment">------------------------</a>
  <a id="62524" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="62543" class="Symbol">(</a><a id="62544" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="62546" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a><a id="62547" class="Symbol">)</a></pre>
  <pre data-executable="true" data-language="agda" id="part1.Semantics.dual-preservation">

module part1.Semantics.dual-preservation where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (dual-preservation to dual-preservation-orig)

dual-preservation : typeOf dual-preservation-orig
-- BEGIN SOLUTION
dual-preservation = ?</pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:duality-equivalence-2-solution)
:::::::
-->

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:duality-tautology" class="pandoc-numbering-text exercise"><strong>Exercise 22</strong></span></dt>
    <dd>Show that, if <code class="language-plaintext highlighter-rouge">φ</code> is a tautology, then the negation of its dual
<code class="language-plaintext highlighter-rouge">¬ φ ⁻</code> is also a tautology:</dd>
  </dl>

  <pre class="Agda"><a id="duality-tautology"></a><a id="63769" href="/lia/part1/Semantics/#63769" class="Function">duality-tautology</a> <a id="63787" class="Symbol">:</a> <a id="63789" class="Symbol">∀</a> <a id="63791" class="Symbol">{</a><a id="63792" href="/lia/part1/Semantics/#63792" class="Bound">φ</a><a id="63793" class="Symbol">}</a> <a id="63795" class="Symbol">→</a>
  <a id="63799" href="/lia/part1/Semantics/#58675" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="63818" href="/lia/part1/Semantics/#63792" class="Bound">φ</a> <a id="63820" class="Symbol">→</a>
  <a id="63824" href="/lia/part1/Semantics/#19630" class="Function">Tautology</a> <a id="63834" href="/lia/part1/Semantics/#63792" class="Bound">φ</a> <a id="63836" class="Symbol">→</a>
  <a id="63840" class="Comment">-----------------</a>
  <a id="63860" href="/lia/part1/Semantics/#19630" class="Function">Tautology</a> <a id="63870" class="Symbol">(</a><a id="63871" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="63873" href="/lia/part1/Semantics/#63792" class="Bound">φ</a> <a id="63875" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a><a id="63876" class="Symbol">)</a></pre>
  <pre data-executable="true" data-language="agda" id="part1.Semantics.duality-tautology">

module part1.Semantics.duality-tautology where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (duality-tautology to duality-tautology-orig)

duality-tautology : typeOf duality-tautology-orig
-- BEGIN SOLUTION
duality-tautology = ?</pre>

  <p><em>Hint</em>: Use the fact that a tautology is logically equivalent to
<a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> ; c.f.
<a href="../../part1/Semantics#tautology-equivalence"><code class="language-plaintext highlighter-rouge">tautology-equivalence</code></a> .
<span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:duality-tautology-solution)
:::::::
-->

</div>

<h1 id="appendix">
<a class="anchor" href="#appendix" aria-hidden="true"><span class="octicon octicon-link"></span></a>Appendix</h1>

<h2 id="app-decidable-equality">
<a class="anchor" href="#app-decidable-equality" aria-hidden="true"><span class="octicon octicon-link"></span></a>Decidable equality</h2>

<p>A naïve way to decide equality would be to list all the 8 × 8 = 64 pairs
of constructors,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>instance eqFormula : Eq (Formula)
_≡?_  = go where
  go : ∀ φ ψ → Dec (φ ≡ ψ)
  go ⊤ ⊤ = yes refl
  go ⊤ ⊥ = no λ ()
  go ⊤ (` _) = no λ ()
...
</code></pre></div></div>

<p>which is not practical.<sup id="fnref:5" role="doc-noteref"><a href="#fn:5" class="footnote">5</a></sup> We will follow another, more interesting
route.</p>

<ol>
  <li>
    <p>First, we create an enumeration for the logical connectives, for
which we can easily prove decidability of equality.</p>
  </li>
  <li>
    <p>Then, we injectively map formulas to labelled trees, for which
decidable equality is easier to prove.<sup id="fnref:6" role="doc-noteref"><a href="#fn:6" class="footnote">6</a></sup></p>
  </li>
</ol>

<p><strong>Step 1</strong>. We begin by defining an enumeration type for the formula
constructors (connectives).</p>

<pre class="Agda"><a id="66796" class="Keyword">data</a> <a id="Connective"></a><a id="66801" href="/lia/part1/Semantics/#66801" class="Datatype">Connective</a> <a id="66812" class="Symbol">:</a> <a id="66814" class="PrimitiveType">Set</a> <a id="66818" class="Keyword">where</a>
  <a id="Connective.True"></a><a id="66826" href="/lia/part1/Semantics/#66826" class="InductiveConstructor">True</a> <a id="Connective.False"></a><a id="66831" href="/lia/part1/Semantics/#66831" class="InductiveConstructor">False</a> <a id="Connective.Not"></a><a id="66837" href="/lia/part1/Semantics/#66837" class="InductiveConstructor">Not</a> <a id="Connective.And"></a><a id="66841" href="/lia/part1/Semantics/#66841" class="InductiveConstructor">And</a> <a id="Connective.Or"></a><a id="66845" href="/lia/part1/Semantics/#66845" class="InductiveConstructor">Or</a> <a id="Connective.Implies"></a><a id="66848" href="/lia/part1/Semantics/#66848" class="InductiveConstructor">Implies</a> <a id="Connective.Iff"></a><a id="66856" href="/lia/part1/Semantics/#66856" class="InductiveConstructor">Iff</a> <a id="66860" class="Symbol">:</a> <a id="66862" href="/lia/part1/Semantics/#66801" class="Datatype">Connective</a></pre>

<p>We can injectively map elements of <code class="language-plaintext highlighter-rouge">Connective</code> to the natural numbers
<code class="language-plaintext highlighter-rouge">ℕ</code> in the obvious way.</p>

<pre class="Agda"><a id="c2ℕ"></a><a id="66978" href="/lia/part1/Semantics/#66978" class="Function">c2ℕ</a> <a id="66982" class="Symbol">:</a> <a id="66984" href="/lia/part1/Semantics/#66801" class="Datatype">Connective</a> <a id="66995" class="Symbol">→</a> <a id="66997" href="/lia/part0/Naturals/#301" class="Function">ℕ</a>
<a id="66999" href="/lia/part1/Semantics/#66978" class="Function">c2ℕ</a> <a id="67003" href="/lia/part1/Semantics/#66826" class="InductiveConstructor">True</a> <a id="67008" class="Symbol">=</a> <a id="67010" class="Number">0</a>
<a id="67012" href="/lia/part1/Semantics/#66978" class="Function">c2ℕ</a> <a id="67016" href="/lia/part1/Semantics/#66831" class="InductiveConstructor">False</a> <a id="67022" class="Symbol">=</a> <a id="67024" class="Number">1</a>
<a id="67026" href="/lia/part1/Semantics/#66978" class="Function">c2ℕ</a> <a id="67030" href="/lia/part1/Semantics/#66837" class="InductiveConstructor">Not</a> <a id="67034" class="Symbol">=</a> <a id="67036" class="Number">2</a>
<a id="67038" href="/lia/part1/Semantics/#66978" class="Function">c2ℕ</a> <a id="67042" href="/lia/part1/Semantics/#66841" class="InductiveConstructor">And</a> <a id="67046" class="Symbol">=</a> <a id="67048" class="Number">3</a>
<a id="67050" href="/lia/part1/Semantics/#66978" class="Function">c2ℕ</a> <a id="67054" href="/lia/part1/Semantics/#66845" class="InductiveConstructor">Or</a> <a id="67057" class="Symbol">=</a> <a id="67059" class="Number">4</a>
<a id="67061" href="/lia/part1/Semantics/#66978" class="Function">c2ℕ</a> <a id="67065" href="/lia/part1/Semantics/#66848" class="InductiveConstructor">Implies</a> <a id="67073" class="Symbol">=</a> <a id="67075" class="Number">5</a>
<a id="67077" href="/lia/part1/Semantics/#66978" class="Function">c2ℕ</a> <a id="67081" href="/lia/part1/Semantics/#66856" class="InductiveConstructor">Iff</a> <a id="67085" class="Symbol">=</a> <a id="67087" class="Number">6</a></pre>

<p>Thanks to pattern matching, we only need to consider 7 cases (linearly
many in the number of constructors of <code class="language-plaintext highlighter-rouge">Formula</code>) to show that <code class="language-plaintext highlighter-rouge">c2ℕ</code> is
injective:</p>

<pre class="Agda"><a id="c2ℕ-inj"></a><a id="67252" href="/lia/part1/Semantics/#67252" class="Function">c2ℕ-inj</a> <a id="67260" class="Symbol">:</a> <a id="67262" href="/lia/part0/Functions/#3996" class="Function">Injective</a> <a id="67272" href="/lia/part1/Semantics/#66978" class="Function">c2ℕ</a>
<a id="67276" href="/lia/part1/Semantics/#67252" class="Function">c2ℕ-inj</a> <a id="67284" href="/lia/part1/Semantics/#66826" class="InductiveConstructor">True</a> <a id="67289" href="/lia/part1/Semantics/#66826" class="InductiveConstructor">True</a> <a id="67294" class="Symbol">_</a> <a id="67296" class="Symbol">=</a> <a id="67298" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="67303" href="/lia/part1/Semantics/#67252" class="Function">c2ℕ-inj</a> <a id="67311" href="/lia/part1/Semantics/#66831" class="InductiveConstructor">False</a> <a id="67317" href="/lia/part1/Semantics/#66831" class="InductiveConstructor">False</a> <a id="67323" class="Symbol">_</a> <a id="67325" class="Symbol">=</a> <a id="67327" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="67332" href="/lia/part1/Semantics/#67252" class="Function">c2ℕ-inj</a> <a id="67340" href="/lia/part1/Semantics/#66837" class="InductiveConstructor">Not</a> <a id="67344" href="/lia/part1/Semantics/#66837" class="InductiveConstructor">Not</a> <a id="67348" class="Symbol">_</a> <a id="67350" class="Symbol">=</a> <a id="67352" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="67357" href="/lia/part1/Semantics/#67252" class="Function">c2ℕ-inj</a> <a id="67365" href="/lia/part1/Semantics/#66841" class="InductiveConstructor">And</a> <a id="67369" href="/lia/part1/Semantics/#66841" class="InductiveConstructor">And</a> <a id="67373" class="Symbol">_</a> <a id="67375" class="Symbol">=</a> <a id="67377" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="67382" href="/lia/part1/Semantics/#67252" class="Function">c2ℕ-inj</a> <a id="67390" href="/lia/part1/Semantics/#66845" class="InductiveConstructor">Or</a> <a id="67393" href="/lia/part1/Semantics/#66845" class="InductiveConstructor">Or</a> <a id="67396" class="Symbol">_</a> <a id="67398" class="Symbol">=</a> <a id="67400" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="67405" href="/lia/part1/Semantics/#67252" class="Function">c2ℕ-inj</a> <a id="67413" href="/lia/part1/Semantics/#66848" class="InductiveConstructor">Implies</a> <a id="67421" href="/lia/part1/Semantics/#66848" class="InductiveConstructor">Implies</a> <a id="67429" class="Symbol">_</a> <a id="67431" class="Symbol">=</a> <a id="67433" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="67438" href="/lia/part1/Semantics/#67252" class="Function">c2ℕ-inj</a> <a id="67446" href="/lia/part1/Semantics/#66856" class="InductiveConstructor">Iff</a> <a id="67450" href="/lia/part1/Semantics/#66856" class="InductiveConstructor">Iff</a> <a id="67454" class="Symbol">_</a> <a id="67456" class="Symbol">=</a> <a id="67458" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

<p>Since equality is decidable on natural numbers <code class="language-plaintext highlighter-rouge">ℕ</code> and <code class="language-plaintext highlighter-rouge">Connective</code> maps
injectively to <code class="language-plaintext highlighter-rouge">ℕ</code>, equality is decidable for <code class="language-plaintext highlighter-rouge">Connective</code> as well.</p>

<pre class="Agda"><a id="67614" class="Keyword">instance</a> <a id="eqConnective"></a><a id="67623" href="/lia/part1/Semantics/#67623" class="Function">eqConnective</a> <a id="67636" class="Symbol">:</a> <a id="67638" href="/lia/part0/Equality/#2845" class="Record">Eq</a> <a id="67641" href="/lia/part1/Semantics/#66801" class="Datatype">Connective</a>
<a id="67652" href="/lia/part0/Equality/#2906" class="Field Operator">_≡?_</a> <a id="67657" class="Symbol">{{</a><a id="67659" href="/lia/part1/Semantics/#67623" class="Function">eqConnective</a><a id="67671" class="Symbol">}}</a> <a id="67674" class="Symbol">=</a> <a id="67676" href="/lia/part1/Semantics/#67688" class="Function">go</a> <a id="67679" class="Keyword">where</a>

  <a id="67688" href="/lia/part1/Semantics/#67688" class="Function">go</a> <a id="67691" class="Symbol">:</a> <a id="67693" class="Symbol">∀</a> <a id="67695" href="/lia/part1/Semantics/#67695" class="Bound">C1</a> <a id="67698" href="/lia/part1/Semantics/#67698" class="Bound">C2</a> <a id="67701" class="Symbol">→</a> <a id="67703" href="/lia/part0/Decidable/#150" class="Datatype">Dec</a> <a id="67707" class="Symbol">(</a><a id="67708" href="/lia/part1/Semantics/#67695" class="Bound">C1</a> <a id="67711" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="67713" href="/lia/part1/Semantics/#67698" class="Bound">C2</a><a id="67715" class="Symbol">)</a>
  <a id="67719" href="/lia/part1/Semantics/#67688" class="Function">go</a> <a id="67722" href="/lia/part1/Semantics/#67722" class="Bound">C1</a> <a id="67725" href="/lia/part1/Semantics/#67725" class="Bound">C2</a> <a id="67728" class="Keyword">with</a> <a id="67733" href="/lia/part1/Semantics/#66978" class="Function">c2ℕ</a> <a id="67737" href="/lia/part1/Semantics/#67722" class="Bound">C1</a> <a id="67740" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="67743" href="/lia/part1/Semantics/#66978" class="Function">c2ℕ</a> <a id="67747" href="/lia/part1/Semantics/#67725" class="Bound">C2</a>
  <a id="67752" class="Comment">-- by injectivity</a>
  <a id="67772" class="Symbol">...</a> <a id="67776" class="Symbol">|</a> <a id="67778" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="67782" href="/lia/part1/Semantics/#67782" class="Bound">eq</a> <a id="67785" class="Symbol">=</a> <a id="67787" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="67791" class="Symbol">(</a><a id="67792" href="/lia/part1/Semantics/#67252" class="Function">c2ℕ-inj</a> <a id="67800" class="Bound">C1</a> <a id="67803" class="Bound">C2</a> <a id="67806" href="/lia/part1/Semantics/#67782" class="Bound">eq</a><a id="67808" class="Symbol">)</a>
  <a id="67812" class="Comment">-- by functionality</a>
  <a id="67834" class="Symbol">...</a> <a id="67838" class="Symbol">|</a> <a id="67840" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="67843" href="/lia/part1/Semantics/#67843" class="Bound">neq</a> <a id="67847" class="Symbol">=</a> <a id="67849" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="67852" class="Symbol">λ{</a><a id="67854" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="67859" class="Symbol">→</a> <a id="67861" href="/lia/part1/Semantics/#67843" class="Bound">neq</a> <a id="67865" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="67869" class="Symbol">}</a></pre>

<p><strong>Step 2</strong>. We now injectively map formulas to
<code class="language-plaintext highlighter-rouge">Connective ⊎ PropName</code>-labelled trees. Since <code class="language-plaintext highlighter-rouge">Connective</code> and
<code class="language-plaintext highlighter-rouge">PropName</code> have decidable equality, so does their tagged union
<code class="language-plaintext highlighter-rouge">Connective ⊎ VarName</code>.</p>

<pre class="Agda"><a id="FormulaTree"></a><a id="68078" href="/lia/part1/Semantics/#68078" class="Function">FormulaTree</a> <a id="68090" class="Symbol">=</a> <a id="68092" href="/lia/part0/Tree/#358" class="Datatype">Tree</a> <a id="68097" class="Symbol">(</a><a id="68098" href="/lia/part1/Semantics/#66801" class="Datatype">Connective</a> <a id="68109" href="/lia/part0/Logic/#2456" class="Datatype Operator">⊎</a> <a id="68111" href="/lia/part1/Semantics/#1069" class="Function">PropName</a><a id="68119" class="Symbol">)</a></pre>

<p>We map formulas to trees by structural induction as follows:</p>

<pre class="Agda"><a id="Formula2Tree"></a><a id="68192" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a> <a id="68205" class="Symbol">:</a> <a id="68207" href="/lia/part1/Semantics/#3558" class="Datatype">Formula</a> <a id="68215" class="Symbol">→</a> <a id="68217" href="/lia/part1/Semantics/#68078" class="Function">FormulaTree</a>
<a id="68229" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a> <a id="68242" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="68244" class="Symbol">=</a> <a id="68246" href="/lia/part0/Tree/#414" class="InductiveConstructor">Node</a> <a id="68251" class="Symbol">(</a><a id="68252" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="68257" href="/lia/part1/Semantics/#66826" class="InductiveConstructor">True</a><a id="68261" class="Symbol">)</a> <a id="68263" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a>
<a id="68265" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a> <a id="68278" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="68280" class="Symbol">=</a> <a id="68282" href="/lia/part0/Tree/#414" class="InductiveConstructor">Node</a> <a id="68287" class="Symbol">(</a><a id="68288" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="68293" href="/lia/part1/Semantics/#66831" class="InductiveConstructor">False</a><a id="68298" class="Symbol">)</a> <a id="68300" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a>
<a id="68302" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a> <a id="68315" class="Symbol">(</a><a id="68316" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="68318" href="/lia/part1/Semantics/#68318" class="Bound">p</a><a id="68319" class="Symbol">)</a> <a id="68321" class="Symbol">=</a> <a id="68323" href="/lia/part0/Tree/#414" class="InductiveConstructor">Node</a> <a id="68328" class="Symbol">(</a><a id="68329" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="68335" href="/lia/part1/Semantics/#68318" class="Bound">p</a><a id="68336" class="Symbol">)</a> <a id="68338" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a>
<a id="68340" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a> <a id="68353" class="Symbol">(</a><a id="68354" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="68356" href="/lia/part1/Semantics/#68356" class="Bound">φ</a><a id="68357" class="Symbol">)</a> <a id="68359" class="Symbol">=</a> <a id="68361" href="/lia/part0/Tree/#414" class="InductiveConstructor">Node</a> <a id="68366" class="Symbol">(</a><a id="68367" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="68372" href="/lia/part1/Semantics/#66837" class="InductiveConstructor">Not</a><a id="68375" class="Symbol">)</a> <a id="68377" class="Symbol">(</a><a id="68378" href="/lia/part0/List/#1792" class="Function">[</a> <a id="68380" class="Symbol">(</a><a id="68381" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a> <a id="68394" href="/lia/part1/Semantics/#68356" class="Bound">φ</a><a id="68395" class="Symbol">)</a> <a id="68397" href="/lia/part0/List/#2043" class="Function Operator">]</a><a id="68398" class="Symbol">)</a>
<a id="68400" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a> <a id="68413" class="Symbol">(</a><a id="68414" href="/lia/part1/Semantics/#68414" class="Bound">φ</a> <a id="68416" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="68418" href="/lia/part1/Semantics/#68418" class="Bound">ψ</a><a id="68419" class="Symbol">)</a> <a id="68421" class="Symbol">=</a> <a id="68423" href="/lia/part0/Tree/#414" class="InductiveConstructor">Node</a> <a id="68428" class="Symbol">(</a><a id="68429" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="68434" href="/lia/part1/Semantics/#66845" class="InductiveConstructor">Or</a><a id="68436" class="Symbol">)</a> <a id="68438" class="Symbol">(</a><a id="68439" href="/lia/part0/List/#1792" class="Function">[</a> <a id="68441" class="Symbol">(</a><a id="68442" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a> <a id="68455" href="/lia/part1/Semantics/#68414" class="Bound">φ</a><a id="68456" class="Symbol">)</a> <a id="68458" class="Symbol">(</a><a id="68459" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a> <a id="68472" href="/lia/part1/Semantics/#68418" class="Bound">ψ</a><a id="68473" class="Symbol">)</a> <a id="68475" href="/lia/part0/List/#2043" class="Function Operator">]</a><a id="68476" class="Symbol">)</a>
<a id="68478" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a> <a id="68491" class="Symbol">(</a><a id="68492" href="/lia/part1/Semantics/#68492" class="Bound">φ</a> <a id="68494" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="68496" href="/lia/part1/Semantics/#68496" class="Bound">ψ</a><a id="68497" class="Symbol">)</a> <a id="68499" class="Symbol">=</a> <a id="68501" href="/lia/part0/Tree/#414" class="InductiveConstructor">Node</a> <a id="68506" class="Symbol">(</a><a id="68507" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="68512" href="/lia/part1/Semantics/#66841" class="InductiveConstructor">And</a><a id="68515" class="Symbol">)</a> <a id="68517" class="Symbol">(</a><a id="68518" href="/lia/part0/List/#1792" class="Function">[</a> <a id="68520" class="Symbol">(</a><a id="68521" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a> <a id="68534" href="/lia/part1/Semantics/#68492" class="Bound">φ</a><a id="68535" class="Symbol">)</a> <a id="68537" class="Symbol">(</a><a id="68538" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a> <a id="68551" href="/lia/part1/Semantics/#68496" class="Bound">ψ</a><a id="68552" class="Symbol">)</a> <a id="68554" href="/lia/part0/List/#2043" class="Function Operator">]</a><a id="68555" class="Symbol">)</a>
<a id="68557" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a> <a id="68570" class="Symbol">(</a><a id="68571" href="/lia/part1/Semantics/#68571" class="Bound">φ</a> <a id="68573" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="68575" href="/lia/part1/Semantics/#68575" class="Bound">ψ</a><a id="68576" class="Symbol">)</a> <a id="68578" class="Symbol">=</a> <a id="68580" href="/lia/part0/Tree/#414" class="InductiveConstructor">Node</a> <a id="68585" class="Symbol">(</a><a id="68586" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="68591" href="/lia/part1/Semantics/#66848" class="InductiveConstructor">Implies</a><a id="68598" class="Symbol">)</a> <a id="68600" class="Symbol">(</a><a id="68601" href="/lia/part0/List/#1792" class="Function">[</a> <a id="68603" class="Symbol">(</a><a id="68604" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a> <a id="68617" href="/lia/part1/Semantics/#68571" class="Bound">φ</a><a id="68618" class="Symbol">)</a> <a id="68620" class="Symbol">(</a><a id="68621" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a> <a id="68634" href="/lia/part1/Semantics/#68575" class="Bound">ψ</a><a id="68635" class="Symbol">)</a> <a id="68637" href="/lia/part0/List/#2043" class="Function Operator">]</a><a id="68638" class="Symbol">)</a>
<a id="68640" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a> <a id="68653" class="Symbol">(</a><a id="68654" href="/lia/part1/Semantics/#68654" class="Bound">φ</a> <a id="68656" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="68658" href="/lia/part1/Semantics/#68658" class="Bound">ψ</a><a id="68659" class="Symbol">)</a> <a id="68661" class="Symbol">=</a> <a id="68663" href="/lia/part0/Tree/#414" class="InductiveConstructor">Node</a> <a id="68668" class="Symbol">(</a><a id="68669" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="68674" href="/lia/part1/Semantics/#66856" class="InductiveConstructor">Iff</a><a id="68677" class="Symbol">)</a> <a id="68679" class="Symbol">(</a><a id="68680" href="/lia/part0/List/#1792" class="Function">[</a> <a id="68682" class="Symbol">(</a><a id="68683" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a> <a id="68696" href="/lia/part1/Semantics/#68654" class="Bound">φ</a><a id="68697" class="Symbol">)</a> <a id="68699" class="Symbol">(</a><a id="68700" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a> <a id="68713" href="/lia/part1/Semantics/#68658" class="Bound">ψ</a><a id="68714" class="Symbol">)</a> <a id="68716" href="/lia/part0/List/#2043" class="Function Operator">]</a><a id="68717" class="Symbol">)</a></pre>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:Formula2Tree-inj" class="pandoc-numbering-text exercise"><strong>Exercise 23</strong> <em>(<code class="language-plaintext highlighter-rouge">Formula2Tree-inj</code>)</em></span></dt>
    <dd>Prove that the mapping <code class="language-plaintext highlighter-rouge">Formula2Tree</code> is injective.</dd>
  </dl>

  <pre class="Agda"><a id="Formula2Tree-inj"></a><a id="68891" href="/lia/part1/Semantics/#68891" class="Function">Formula2Tree-inj</a> <a id="68908" class="Symbol">:</a> <a id="68910" href="/lia/part0/Functions/#3996" class="Function">Injective</a> <a id="68920" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a></pre>
  <pre data-executable="true" data-language="agda" id="part1.Semantics.Formula2Tree-inj">

module part1.Semantics.Formula2Tree-inj where

open import TypeOf

open import part0.index
postulate n' : ℕ

open import part1.Semantics n' renaming (Formula2Tree-inj to Formula2Tree-inj-orig)

Formula2Tree-inj : typeOf Formula2Tree-inj-orig
-- BEGIN SOLUTION
Formula2Tree-inj = ?</pre>

  <p><em>Hint:</em> Exploit the fact that the list constructor <code class="language-plaintext highlighter-rouge">_∷_</code> is injective on
both arguments (c.f. <a href="../../part0/List#%E2%88%B7-inj-left"><code class="language-plaintext highlighter-rouge">∷-inj-left</code></a> and
<a href="../../part0/List#%E2%88%B7-inj-right"><code class="language-plaintext highlighter-rouge">∷-inj-right</code></a> from <a href="../../part0/List">Ch.
part0/List</a> ). <span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:Formula2Tree-inj-solution)
:::::::
-->

</div>

<p>With this ingredients in hand, we can show that <code class="language-plaintext highlighter-rouge">Formula</code> has decidable
equality:</p>

<pre class="Agda"><a id="70454" href="/lia/part0/Equality/#2906" class="Field Operator">_≡?_</a> <a id="70459" class="Symbol">{{</a><a id="70461" href="/lia/part1/Semantics/#4892" class="Function">eqFormula</a><a id="70470" class="Symbol">}}</a> <a id="70473" class="Symbol">=</a> <a id="70475" href="/lia/part1/Semantics/#70491" class="Function">go</a> <a id="70478" class="Keyword">where</a>
  
    <a id="70491" href="/lia/part1/Semantics/#70491" class="Function">go</a> <a id="70494" class="Symbol">:</a> <a id="70496" class="Symbol">∀</a> <a id="70498" href="/lia/part1/Semantics/#70498" class="Bound">φ</a> <a id="70500" href="/lia/part1/Semantics/#70500" class="Bound">ψ</a> <a id="70502" class="Symbol">→</a> <a id="70504" href="/lia/part0/Decidable/#150" class="Datatype">Dec</a> <a id="70508" class="Symbol">(</a><a id="70509" href="/lia/part1/Semantics/#70498" class="Bound">φ</a> <a id="70511" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="70513" href="/lia/part1/Semantics/#70500" class="Bound">ψ</a><a id="70514" class="Symbol">)</a>
    <a id="70520" href="/lia/part1/Semantics/#70491" class="Function">go</a> <a id="70523" href="/lia/part1/Semantics/#70523" class="Bound">φ</a> <a id="70525" href="/lia/part1/Semantics/#70525" class="Bound">ψ</a> <a id="70527" class="Keyword">with</a> <a id="70532" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a> <a id="70545" href="/lia/part1/Semantics/#70523" class="Bound">φ</a> <a id="70547" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="70550" href="/lia/part1/Semantics/#68192" class="Function">Formula2Tree</a> <a id="70563" href="/lia/part1/Semantics/#70525" class="Bound">ψ</a>
    <a id="70569" class="Symbol">...</a> <a id="70573" class="Symbol">|</a> <a id="70575" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="70579" href="/lia/part1/Semantics/#70579" class="Bound">eq</a> <a id="70582" class="Symbol">=</a> <a id="70584" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="70588" class="Symbol">(</a><a id="70589" href="/lia/part1/Semantics/#68891" class="Function">Formula2Tree-inj</a> <a id="70606" class="Symbol">_</a> <a id="70608" class="Symbol">_</a> <a id="70610" href="/lia/part1/Semantics/#70579" class="Bound">eq</a><a id="70612" class="Symbol">)</a>
    <a id="70618" class="Symbol">...</a> <a id="70622" class="Symbol">|</a> <a id="70624" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="70627" href="/lia/part1/Semantics/#70627" class="Bound">neq</a> <a id="70631" class="Symbol">=</a> <a id="70633" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="70636" class="Symbol">λ{</a><a id="70638" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="70643" class="Symbol">→</a> <a id="70645" href="/lia/part1/Semantics/#70627" class="Bound">neq</a> <a id="70649" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="70653" class="Symbol">}</a></pre>

<div class="examplebox">

  <dl>
    <dt><span id="example:equality" class="pandoc-numbering-text example"><strong>Example 5</strong></span></dt>
    <dd>We demonstrate decidability of formula equality. We have</dd>
  </dl>

  <pre class="Agda"><a id="70784" href="/lia/part1/Semantics/#70784" class="Function">_</a> <a id="70786" class="Symbol">:</a> <a id="70788" class="Symbol">(</a><a id="70789" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="70791" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="70794" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="70796" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="70798" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="70801" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="70804" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="70806" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="70809" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="70811" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="70813" href="/lia/part1/Semantics/#1197" class="Function">p₁</a><a id="70815" class="Symbol">)</a> <a id="70817" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="70819" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="70823" class="Symbol">_</a>
<a id="70825" class="Symbol">_</a> <a id="70827" class="Symbol">=</a> <a id="70829" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

  <p>but</p>

  <pre class="Agda"><a id="70849" href="/lia/part1/Semantics/#70849" class="Function">_</a> <a id="70851" class="Symbol">:</a> <a id="70853" class="Symbol">(</a><a id="70854" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="70856" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="70859" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="70861" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="70863" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="70866" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="70869" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="70871" href="/lia/part1/Semantics/#1197" class="Function">p₁</a> <a id="70874" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="70876" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="70878" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="70880" class="Symbol">)</a> <a id="70882" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="70884" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="70887" class="UnsolvedMeta Symbol">_</a>
<a id="70889" class="Symbol">_</a> <a id="70891" class="Symbol">=</a> <a id="70893" class="Symbol">{! refl !}</a></pre>

  <p><span class="hidden">∎</span><span class="right-aligned">∎</span></p>

</div>

<div id="refs" class="references csl-bib-body hanging-indent">

  <h1 id="references">
<a class="anchor" href="#references" aria-hidden="true"><span class="octicon octicon-link"></span></a>References</h1>

  <div id="ref-McBrideMcKinna:JFL:2004" class="csl-entry">

    <p>[McBride and McKinna(2004)] C McBride and J McKinna. The view from the
left. <em>J. Funct. Program.</em> 14(1):69–111, January 2004. doi:
<a href="https://doi.org/10.1017/S0956796803004829">10.1017/S0956796803004829</a>.</p>

  </div>

  <div id="ref-Wadler:POPL:1987" class="csl-entry">

    <p>[Wadler(1987)] P Wadler. Views: A way for pattern matching to cohabit
with data abstraction. <em>Proc. Of POPL’87</em> (New York, NY, USA, 1987),
307–313.</p>

  </div>

</div>

<h1 id="solutions">
<a class="anchor" href="#solutions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Solutions</h1>

<div class="solutionbox">

  <h6 id="exercise:invariance-solution">Solution to <a href="#exercise:invariance" title="Exercise 1">Exercise 1</a>
</h6>

  <pre class="Agda"><a id="10184" href="/lia/part1/Semantics/#8988" class="Function">invariance</a> <a id="10195" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="10197" href="/lia/part1/Semantics/#10197" class="Bound">agree</a> <a id="10203" class="Symbol">=</a> <a id="10205" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="10210" href="/lia/part1/Semantics/#8988" class="Function">invariance</a> <a id="10221" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="10223" href="/lia/part1/Semantics/#10223" class="Bound">agree</a> <a id="10229" class="Symbol">=</a> <a id="10231" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="10236" href="/lia/part1/Semantics/#8988" class="Function">invariance</a> <a id="10247" class="Symbol">(</a><a id="10248" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="10250" href="/lia/part1/Semantics/#10250" class="Bound">p</a><a id="10251" class="Symbol">)</a> <a id="10253" href="/lia/part1/Semantics/#10253" class="Bound">agree</a> <a id="10259" class="Symbol">=</a> <a id="10261" href="/lia/part1/Semantics/#10253" class="Bound">agree</a> <a id="10267" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a>
<a id="10272" href="/lia/part1/Semantics/#8988" class="Function">invariance</a> <a id="10283" class="Symbol">(</a><a id="10284" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="10286" href="/lia/part1/Semantics/#10286" class="Bound">φ</a><a id="10287" class="Symbol">)</a> <a id="10289" href="/lia/part1/Semantics/#10289" class="Bound">agree</a>
  <a id="10297" class="Keyword">rewrite</a> <a id="10305" href="/lia/part1/Semantics/#8988" class="Function">invariance</a> <a id="10316" href="/lia/part1/Semantics/#10286" class="Bound">φ</a> <a id="10318" href="/lia/part1/Semantics/#10289" class="Bound">agree</a> <a id="10324" class="Symbol">=</a> <a id="10326" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="10331" href="/lia/part1/Semantics/#8988" class="Function">invariance</a> <a id="10342" class="Symbol">(</a><a id="10343" href="/lia/part1/Semantics/#10343" class="Bound">φ</a> <a id="10345" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="10347" href="/lia/part1/Semantics/#10347" class="Bound">ψ</a><a id="10348" class="Symbol">)</a> <a id="10350" href="/lia/part1/Semantics/#10350" class="Bound">agree</a>
  <a id="10358" class="Keyword">rewrite</a> <a id="10366" href="/lia/part1/Semantics/#8988" class="Function">invariance</a> <a id="10377" href="/lia/part1/Semantics/#10343" class="Bound">φ</a> <a id="10379" class="Symbol">(</a><a id="10380" href="/lia/part0/List/#23442" class="Function">Agree-⊆</a> <a id="10388" href="/lia/part1/Semantics/#10350" class="Bound">agree</a> <a id="10394" href="/lia/part0/List/#22147" class="UnsolvedMeta UnsolvedConstraint Function">⊆-++-left</a><a id="10403" class="Symbol">)</a> <a id="10405" class="Symbol">|</a>
          <a id="10417" href="/lia/part1/Semantics/#8988" class="Function">invariance</a> <a id="10428" href="/lia/part1/Semantics/#10347" class="Bound">ψ</a> <a id="10430" class="Symbol">(</a><a id="10431" href="/lia/part0/List/#23442" class="Function">Agree-⊆</a> <a id="10439" href="/lia/part1/Semantics/#10350" class="Bound">agree</a> <a id="10445" class="Symbol">(</a><a id="10446" href="/lia/part0/List/#22265" class="Function">⊆-++-right</a> <a id="10457" class="Symbol">(</a><a id="10458" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="10464" href="/lia/part1/Semantics/#10343" class="Bound">φ</a><a id="10465" class="Symbol">)))</a> <a id="10469" class="Symbol">=</a> <a id="10471" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="10476" href="/lia/part1/Semantics/#8988" class="Function">invariance</a> <a id="10487" class="Symbol">(</a><a id="10488" href="/lia/part1/Semantics/#10488" class="Bound">φ</a> <a id="10490" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="10492" href="/lia/part1/Semantics/#10492" class="Bound">ψ</a><a id="10493" class="Symbol">)</a> <a id="10495" href="/lia/part1/Semantics/#10495" class="Bound">agree</a>
  <a id="10503" class="Keyword">rewrite</a> <a id="10511" href="/lia/part1/Semantics/#8988" class="Function">invariance</a> <a id="10522" href="/lia/part1/Semantics/#10488" class="Bound">φ</a> <a id="10524" class="Symbol">(</a><a id="10525" href="/lia/part0/List/#23442" class="Function">Agree-⊆</a> <a id="10533" href="/lia/part1/Semantics/#10495" class="Bound">agree</a> <a id="10539" href="/lia/part0/List/#22147" class="UnsolvedMeta UnsolvedConstraint Function">⊆-++-left</a><a id="10548" class="Symbol">)</a> <a id="10550" class="Symbol">|</a>
          <a id="10562" href="/lia/part1/Semantics/#8988" class="Function">invariance</a> <a id="10573" href="/lia/part1/Semantics/#10492" class="Bound">ψ</a> <a id="10575" class="Symbol">(</a><a id="10576" href="/lia/part0/List/#23442" class="Function">Agree-⊆</a> <a id="10584" href="/lia/part1/Semantics/#10495" class="Bound">agree</a> <a id="10590" class="Symbol">(</a><a id="10591" href="/lia/part0/List/#22265" class="Function">⊆-++-right</a> <a id="10602" class="Symbol">(</a><a id="10603" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="10609" href="/lia/part1/Semantics/#10488" class="Bound">φ</a><a id="10610" class="Symbol">)))</a> <a id="10614" class="Symbol">=</a> <a id="10616" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="10621" href="/lia/part1/Semantics/#8988" class="Function">invariance</a> <a id="10632" class="Symbol">(</a><a id="10633" href="/lia/part1/Semantics/#10633" class="Bound">φ</a> <a id="10635" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="10637" href="/lia/part1/Semantics/#10637" class="Bound">ψ</a><a id="10638" class="Symbol">)</a> <a id="10640" href="/lia/part1/Semantics/#10640" class="Bound">agree</a>
  <a id="10648" class="Keyword">rewrite</a> <a id="10656" href="/lia/part1/Semantics/#8988" class="Function">invariance</a> <a id="10667" href="/lia/part1/Semantics/#10633" class="Bound">φ</a> <a id="10669" class="Symbol">(</a><a id="10670" href="/lia/part0/List/#23442" class="Function">Agree-⊆</a> <a id="10678" href="/lia/part1/Semantics/#10640" class="Bound">agree</a> <a id="10684" href="/lia/part0/List/#22147" class="UnsolvedMeta UnsolvedConstraint Function">⊆-++-left</a><a id="10693" class="Symbol">)</a> <a id="10695" class="Symbol">|</a>
          <a id="10707" href="/lia/part1/Semantics/#8988" class="Function">invariance</a> <a id="10718" href="/lia/part1/Semantics/#10637" class="Bound">ψ</a> <a id="10720" class="Symbol">(</a><a id="10721" href="/lia/part0/List/#23442" class="Function">Agree-⊆</a> <a id="10729" href="/lia/part1/Semantics/#10640" class="Bound">agree</a> <a id="10735" class="Symbol">(</a><a id="10736" href="/lia/part0/List/#22265" class="Function">⊆-++-right</a> <a id="10747" class="Symbol">(</a><a id="10748" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="10754" href="/lia/part1/Semantics/#10633" class="Bound">φ</a><a id="10755" class="Symbol">)))</a> <a id="10759" class="Symbol">=</a> <a id="10761" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="10766" href="/lia/part1/Semantics/#8988" class="Function">invariance</a> <a id="10777" class="Symbol">(</a><a id="10778" href="/lia/part1/Semantics/#10778" class="Bound">φ</a> <a id="10780" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="10782" href="/lia/part1/Semantics/#10782" class="Bound">ψ</a><a id="10783" class="Symbol">)</a> <a id="10785" href="/lia/part1/Semantics/#10785" class="Bound">agree</a>
  <a id="10793" class="Keyword">rewrite</a> <a id="10801" href="/lia/part1/Semantics/#8988" class="Function">invariance</a> <a id="10812" href="/lia/part1/Semantics/#10778" class="Bound">φ</a> <a id="10814" class="Symbol">(</a><a id="10815" href="/lia/part0/List/#23442" class="Function">Agree-⊆</a> <a id="10823" href="/lia/part1/Semantics/#10785" class="Bound">agree</a> <a id="10829" href="/lia/part0/List/#22147" class="UnsolvedMeta UnsolvedConstraint Function">⊆-++-left</a><a id="10838" class="Symbol">)</a> <a id="10840" class="Symbol">|</a>
          <a id="10852" href="/lia/part1/Semantics/#8988" class="Function">invariance</a> <a id="10863" href="/lia/part1/Semantics/#10782" class="Bound">ψ</a> <a id="10865" class="Symbol">(</a><a id="10866" href="/lia/part0/List/#23442" class="Function">Agree-⊆</a> <a id="10874" href="/lia/part1/Semantics/#10785" class="Bound">agree</a> <a id="10880" class="Symbol">(</a><a id="10881" href="/lia/part0/List/#22265" class="Function">⊆-++-right</a> <a id="10892" class="Symbol">(</a><a id="10893" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="10899" href="/lia/part1/Semantics/#10778" class="Bound">φ</a><a id="10900" class="Symbol">)))</a> <a id="10904" class="Symbol">=</a> <a id="10906" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:coincidence-solution">Solution to <a href="#exercise:coincidence" title="Exercise 2">Exercise 2</a>
</h6>

  <pre class="Agda"><a id="11498" href="/lia/part1/Semantics/#11237" class="Function">coincidence</a> <a id="11510" class="Symbol">{</a><a id="11511" href="/lia/part1/Semantics/#11511" class="Bound">p</a><a id="11512" class="Symbol">}</a> <a id="11514" class="Symbol">{</a><a id="11515" href="/lia/part1/Semantics/#11515" class="Bound">ϱ</a><a id="11516" class="Symbol">}</a> <a id="11518" class="Symbol">{</a><a id="11519" href="/lia/part1/Semantics/#11519" class="Bound">b</a><a id="11520" class="Symbol">}</a> <a id="11522" href="/lia/part1/Semantics/#11522" class="Bound">φ</a> <a id="11524" href="/lia/part1/Semantics/#11524" class="Bound">p∉φ</a> <a id="11528" class="Symbol">=</a> <a id="11530" href="/lia/part1/Semantics/#8988" class="Function">invariance</a> <a id="11541" href="/lia/part1/Semantics/#11522" class="Bound">φ</a> <a id="11543" href="/lia/part1/Semantics/#11558" class="Function">agree</a> <a id="11549" class="Keyword">where</a>

  <a id="11558" href="/lia/part1/Semantics/#11558" class="Function">agree</a> <a id="11564" class="Symbol">:</a> <a id="11566" href="/lia/part0/List/#19150" class="Function">Agree</a> <a id="11572" href="/lia/part1/Semantics/#11515" class="Bound">ϱ</a> <a id="11574" class="Symbol">(</a><a id="11575" href="/lia/part1/Semantics/#11515" class="Bound">ϱ</a> <a id="11577" href="/lia/part0/Functions/#570" class="Function Operator">[</a> <a id="11579" href="/lia/part1/Semantics/#11511" class="Bound">p</a> <a id="11581" href="/lia/part0/Functions/#570" class="Function Operator">↦</a> <a id="11583" href="/lia/part1/Semantics/#11519" class="Bound">b</a> <a id="11585" href="/lia/part0/Functions/#570" class="Function Operator">]</a><a id="11586" class="Symbol">)</a> <a id="11588" class="Symbol">(</a><a id="11589" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="11595" href="/lia/part1/Semantics/#11522" class="Bound">φ</a><a id="11596" class="Symbol">)</a>
  <a id="11600" href="/lia/part1/Semantics/#11558" class="Function">agree</a> <a id="11606" class="Symbol">=</a> <a id="11608" href="/lia/part0/List/#21115" class="Function">Agree-update-~∈</a> <a id="11624" class="Symbol">(</a><a id="11625" href="/lia/part0/List/#14707" class="Function">∉→~∈</a> <a id="11630" href="/lia/part1/Semantics/#11524" class="Bound">p∉φ</a><a id="11633" class="Symbol">)</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:parallel-substitution-solution">Solution to <a href="#exercise:parallel-substitution" title="Exercise 3">Exercise 3</a>
</h6>

  <pre class="Agda"><a id="13603" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="13605" href="/lia/part1/Semantics/#13369" class="Function Operator">F2[</a> <a id="13609" href="/lia/part1/Semantics/#13609" class="Bound">p</a> <a id="13611" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13613" href="/lia/part1/Semantics/#13613" class="Bound">q</a> <a id="13615" href="/lia/part1/Semantics/#13369" class="Function Operator">↦</a> <a id="13617" href="/lia/part1/Semantics/#13617" class="Bound">ψ</a> <a id="13619" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13621" href="/lia/part1/Semantics/#13621" class="Bound">ξ</a> <a id="13623" href="/lia/part1/Semantics/#13369" class="Function Operator">]</a> <a id="13625" class="Symbol">=</a> <a id="13627" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a>

<a id="13630" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="13632" href="/lia/part1/Semantics/#13369" class="Function Operator">F2[</a> <a id="13636" href="/lia/part1/Semantics/#13636" class="Bound">p</a> <a id="13638" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13640" href="/lia/part1/Semantics/#13640" class="Bound">q</a> <a id="13642" href="/lia/part1/Semantics/#13369" class="Function Operator">↦</a> <a id="13644" href="/lia/part1/Semantics/#13644" class="Bound">ψ</a> <a id="13646" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13648" href="/lia/part1/Semantics/#13648" class="Bound">ξ</a> <a id="13650" href="/lia/part1/Semantics/#13369" class="Function Operator">]</a> <a id="13652" class="Symbol">=</a> <a id="13654" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>

<a id="13657" class="Symbol">(</a><a id="13658" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="13660" href="/lia/part1/Semantics/#13660" class="Bound">r</a><a id="13661" class="Symbol">)</a> <a id="13663" href="/lia/part1/Semantics/#13369" class="Function Operator">F2[</a> <a id="13667" href="/lia/part1/Semantics/#13667" class="Bound">p</a> <a id="13669" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13671" href="/lia/part1/Semantics/#13671" class="Bound">q</a> <a id="13673" href="/lia/part1/Semantics/#13369" class="Function Operator">↦</a> <a id="13675" href="/lia/part1/Semantics/#13675" class="Bound">ψ</a> <a id="13677" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13679" href="/lia/part1/Semantics/#13679" class="Bound">ξ</a> <a id="13681" href="/lia/part1/Semantics/#13369" class="Function Operator">]</a>
  <a id="13685" class="Keyword">with</a> <a id="13690" href="/lia/part1/Semantics/#13667" class="Bound">p</a> <a id="13692" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="13695" href="/lia/part1/Semantics/#13660" class="Bound">r</a>
<a id="13697" class="Symbol">...</a> <a id="13701" class="Symbol">|</a> <a id="13703" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="13707" class="Symbol">_</a> <a id="13709" class="Symbol">=</a> <a id="13711" class="Bound">ψ</a>
<a id="13713" class="Symbol">...</a> <a id="13717" class="Symbol">|</a> <a id="13719" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="13722" class="Symbol">_</a>
  <a id="13726" class="Keyword">with</a> <a id="13731" class="Bound">q</a> <a id="13733" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="13736" class="Bound">r</a>
<a id="13738" class="Symbol">...</a> <a id="13742" class="Symbol">|</a> <a id="13744" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="13748" class="Symbol">_</a> <a id="13750" class="Symbol">=</a> <a id="13752" class="Bound">ξ</a>
<a id="13754" class="Symbol">...</a> <a id="13758" class="Symbol">|</a> <a id="13760" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="13763" class="Symbol">_</a> <a id="13765" class="Symbol">=</a> <a id="13767" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="13769" class="Bound">r</a>

<a id="13772" class="Symbol">(</a><a id="13773" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="13775" href="/lia/part1/Semantics/#13775" class="Bound">φ</a><a id="13776" class="Symbol">)</a> <a id="13778" href="/lia/part1/Semantics/#13369" class="Function Operator">F2[</a> <a id="13782" href="/lia/part1/Semantics/#13782" class="Bound">p</a> <a id="13784" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13786" href="/lia/part1/Semantics/#13786" class="Bound">q</a> <a id="13788" href="/lia/part1/Semantics/#13369" class="Function Operator">↦</a> <a id="13790" href="/lia/part1/Semantics/#13790" class="Bound">ψ</a> <a id="13792" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13794" href="/lia/part1/Semantics/#13794" class="Bound">ξ</a> <a id="13796" href="/lia/part1/Semantics/#13369" class="Function Operator">]</a> <a id="13798" class="Symbol">=</a> <a id="13800" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="13802" href="/lia/part1/Semantics/#13775" class="Bound">φ</a> <a id="13804" href="/lia/part1/Semantics/#13369" class="Function Operator">F2[</a> <a id="13808" href="/lia/part1/Semantics/#13782" class="Bound">p</a> <a id="13810" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13812" href="/lia/part1/Semantics/#13786" class="Bound">q</a> <a id="13814" href="/lia/part1/Semantics/#13369" class="Function Operator">↦</a> <a id="13816" href="/lia/part1/Semantics/#13790" class="Bound">ψ</a> <a id="13818" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13820" href="/lia/part1/Semantics/#13794" class="Bound">ξ</a> <a id="13822" href="/lia/part1/Semantics/#13369" class="Function Operator">]</a>

<a id="13825" class="Symbol">(</a><a id="13826" href="/lia/part1/Semantics/#13826" class="Bound">φ₁</a> <a id="13829" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="13831" href="/lia/part1/Semantics/#13831" class="Bound">φ₂</a><a id="13833" class="Symbol">)</a> <a id="13835" href="/lia/part1/Semantics/#13369" class="Function Operator">F2[</a> <a id="13839" href="/lia/part1/Semantics/#13839" class="Bound">p</a> <a id="13841" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13843" href="/lia/part1/Semantics/#13843" class="Bound">q</a> <a id="13845" href="/lia/part1/Semantics/#13369" class="Function Operator">↦</a> <a id="13847" href="/lia/part1/Semantics/#13847" class="Bound">ψ</a> <a id="13849" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13851" href="/lia/part1/Semantics/#13851" class="Bound">ξ</a> <a id="13853" href="/lia/part1/Semantics/#13369" class="Function Operator">]</a> <a id="13855" class="Symbol">=</a> <a id="13857" href="/lia/part1/Semantics/#13826" class="Bound">φ₁</a> <a id="13860" href="/lia/part1/Semantics/#13369" class="Function Operator">F2[</a> <a id="13864" href="/lia/part1/Semantics/#13839" class="Bound">p</a> <a id="13866" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13868" href="/lia/part1/Semantics/#13843" class="Bound">q</a> <a id="13870" href="/lia/part1/Semantics/#13369" class="Function Operator">↦</a> <a id="13872" href="/lia/part1/Semantics/#13847" class="Bound">ψ</a> <a id="13874" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13876" href="/lia/part1/Semantics/#13851" class="Bound">ξ</a> <a id="13878" href="/lia/part1/Semantics/#13369" class="Function Operator">]</a> <a id="13880" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="13882" href="/lia/part1/Semantics/#13831" class="Bound">φ₂</a> <a id="13885" href="/lia/part1/Semantics/#13369" class="Function Operator">F2[</a> <a id="13889" href="/lia/part1/Semantics/#13839" class="Bound">p</a> <a id="13891" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13893" href="/lia/part1/Semantics/#13843" class="Bound">q</a> <a id="13895" href="/lia/part1/Semantics/#13369" class="Function Operator">↦</a> <a id="13897" href="/lia/part1/Semantics/#13847" class="Bound">ψ</a> <a id="13899" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13901" href="/lia/part1/Semantics/#13851" class="Bound">ξ</a> <a id="13903" href="/lia/part1/Semantics/#13369" class="Function Operator">]</a>

<a id="13906" class="Symbol">(</a><a id="13907" href="/lia/part1/Semantics/#13907" class="Bound">φ₁</a> <a id="13910" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="13912" href="/lia/part1/Semantics/#13912" class="Bound">φ₂</a><a id="13914" class="Symbol">)</a> <a id="13916" href="/lia/part1/Semantics/#13369" class="Function Operator">F2[</a> <a id="13920" href="/lia/part1/Semantics/#13920" class="Bound">p</a> <a id="13922" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13924" href="/lia/part1/Semantics/#13924" class="Bound">q</a> <a id="13926" href="/lia/part1/Semantics/#13369" class="Function Operator">↦</a> <a id="13928" href="/lia/part1/Semantics/#13928" class="Bound">ψ</a> <a id="13930" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13932" href="/lia/part1/Semantics/#13932" class="Bound">ξ</a> <a id="13934" href="/lia/part1/Semantics/#13369" class="Function Operator">]</a> <a id="13936" class="Symbol">=</a> <a id="13938" href="/lia/part1/Semantics/#13907" class="Bound">φ₁</a> <a id="13941" href="/lia/part1/Semantics/#13369" class="Function Operator">F2[</a> <a id="13945" href="/lia/part1/Semantics/#13920" class="Bound">p</a> <a id="13947" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13949" href="/lia/part1/Semantics/#13924" class="Bound">q</a> <a id="13951" href="/lia/part1/Semantics/#13369" class="Function Operator">↦</a> <a id="13953" href="/lia/part1/Semantics/#13928" class="Bound">ψ</a> <a id="13955" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13957" href="/lia/part1/Semantics/#13932" class="Bound">ξ</a> <a id="13959" href="/lia/part1/Semantics/#13369" class="Function Operator">]</a> <a id="13961" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="13963" href="/lia/part1/Semantics/#13912" class="Bound">φ₂</a> <a id="13966" href="/lia/part1/Semantics/#13369" class="Function Operator">F2[</a> <a id="13970" href="/lia/part1/Semantics/#13920" class="Bound">p</a> <a id="13972" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13974" href="/lia/part1/Semantics/#13924" class="Bound">q</a> <a id="13976" href="/lia/part1/Semantics/#13369" class="Function Operator">↦</a> <a id="13978" href="/lia/part1/Semantics/#13928" class="Bound">ψ</a> <a id="13980" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="13982" href="/lia/part1/Semantics/#13932" class="Bound">ξ</a> <a id="13984" href="/lia/part1/Semantics/#13369" class="Function Operator">]</a>

<a id="13987" class="Symbol">(</a><a id="13988" href="/lia/part1/Semantics/#13988" class="Bound">φ₁</a> <a id="13991" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="13993" href="/lia/part1/Semantics/#13993" class="Bound">φ₂</a><a id="13995" class="Symbol">)</a> <a id="13997" href="/lia/part1/Semantics/#13369" class="Function Operator">F2[</a> <a id="14001" href="/lia/part1/Semantics/#14001" class="Bound">p</a> <a id="14003" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="14005" href="/lia/part1/Semantics/#14005" class="Bound">q</a> <a id="14007" href="/lia/part1/Semantics/#13369" class="Function Operator">↦</a> <a id="14009" href="/lia/part1/Semantics/#14009" class="Bound">ψ</a> <a id="14011" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="14013" href="/lia/part1/Semantics/#14013" class="Bound">ξ</a> <a id="14015" href="/lia/part1/Semantics/#13369" class="Function Operator">]</a> <a id="14017" class="Symbol">=</a> <a id="14019" href="/lia/part1/Semantics/#13988" class="Bound">φ₁</a> <a id="14022" href="/lia/part1/Semantics/#13369" class="Function Operator">F2[</a> <a id="14026" href="/lia/part1/Semantics/#14001" class="Bound">p</a> <a id="14028" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="14030" href="/lia/part1/Semantics/#14005" class="Bound">q</a> <a id="14032" href="/lia/part1/Semantics/#13369" class="Function Operator">↦</a> <a id="14034" href="/lia/part1/Semantics/#14009" class="Bound">ψ</a> <a id="14036" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="14038" href="/lia/part1/Semantics/#14013" class="Bound">ξ</a> <a id="14040" href="/lia/part1/Semantics/#13369" class="Function Operator">]</a> <a id="14042" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="14044" href="/lia/part1/Semantics/#13993" class="Bound">φ₂</a> <a id="14047" href="/lia/part1/Semantics/#13369" class="Function Operator">F2[</a> <a id="14051" href="/lia/part1/Semantics/#14001" class="Bound">p</a> <a id="14053" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="14055" href="/lia/part1/Semantics/#14005" class="Bound">q</a> <a id="14057" href="/lia/part1/Semantics/#13369" class="Function Operator">↦</a> <a id="14059" href="/lia/part1/Semantics/#14009" class="Bound">ψ</a> <a id="14061" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="14063" href="/lia/part1/Semantics/#14013" class="Bound">ξ</a> <a id="14065" href="/lia/part1/Semantics/#13369" class="Function Operator">]</a>

<a id="14068" class="Symbol">(</a><a id="14069" href="/lia/part1/Semantics/#14069" class="Bound">φ₁</a> <a id="14072" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="14074" href="/lia/part1/Semantics/#14074" class="Bound">φ₂</a><a id="14076" class="Symbol">)</a> <a id="14078" href="/lia/part1/Semantics/#13369" class="Function Operator">F2[</a> <a id="14082" href="/lia/part1/Semantics/#14082" class="Bound">p</a> <a id="14084" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="14086" href="/lia/part1/Semantics/#14086" class="Bound">q</a> <a id="14088" href="/lia/part1/Semantics/#13369" class="Function Operator">↦</a> <a id="14090" href="/lia/part1/Semantics/#14090" class="Bound">ψ</a> <a id="14092" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="14094" href="/lia/part1/Semantics/#14094" class="Bound">ξ</a> <a id="14096" href="/lia/part1/Semantics/#13369" class="Function Operator">]</a> <a id="14098" class="Symbol">=</a> <a id="14100" href="/lia/part1/Semantics/#14069" class="Bound">φ₁</a> <a id="14103" href="/lia/part1/Semantics/#13369" class="Function Operator">F2[</a> <a id="14107" href="/lia/part1/Semantics/#14082" class="Bound">p</a> <a id="14109" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="14111" href="/lia/part1/Semantics/#14086" class="Bound">q</a> <a id="14113" href="/lia/part1/Semantics/#13369" class="Function Operator">↦</a> <a id="14115" href="/lia/part1/Semantics/#14090" class="Bound">ψ</a> <a id="14117" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="14119" href="/lia/part1/Semantics/#14094" class="Bound">ξ</a> <a id="14121" href="/lia/part1/Semantics/#13369" class="Function Operator">]</a> <a id="14123" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="14125" href="/lia/part1/Semantics/#14074" class="Bound">φ₂</a> <a id="14128" href="/lia/part1/Semantics/#13369" class="Function Operator">F2[</a> <a id="14132" href="/lia/part1/Semantics/#14082" class="Bound">p</a> <a id="14134" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="14136" href="/lia/part1/Semantics/#14086" class="Bound">q</a> <a id="14138" href="/lia/part1/Semantics/#13369" class="Function Operator">↦</a> <a id="14140" href="/lia/part1/Semantics/#14090" class="Bound">ψ</a> <a id="14142" href="/lia/part1/Semantics/#13369" class="Function Operator">,</a> <a id="14144" href="/lia/part1/Semantics/#14094" class="Bound">ξ</a> <a id="14146" href="/lia/part1/Semantics/#13369" class="Function Operator">]</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:substitution-solution">Solution to <a href="#exercise:substitution" title="Exercise 4">Exercise 4</a>
</h6>

  <pre class="Agda"><a id="14954" href="/lia/part1/Semantics/#14337" class="Function">substitution</a> <a id="14967" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="14969" href="/lia/part1/Semantics/#14969" class="Bound">p</a> <a id="14971" href="/lia/part1/Semantics/#14971" class="Bound">ξ</a> <a id="14973" href="/lia/part1/Semantics/#14973" class="Bound">ϱ</a> <a id="14975" class="Symbol">=</a> <a id="14977" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="14982" href="/lia/part1/Semantics/#14337" class="Function">substitution</a> <a id="14995" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="14997" href="/lia/part1/Semantics/#14997" class="Bound">p</a> <a id="14999" href="/lia/part1/Semantics/#14999" class="Bound">ξ</a> <a id="15001" href="/lia/part1/Semantics/#15001" class="Bound">ϱ</a> <a id="15003" class="Symbol">=</a> <a id="15005" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="15010" href="/lia/part1/Semantics/#14337" class="Function">substitution</a> <a id="15023" class="Symbol">(</a><a id="15024" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="15026" href="/lia/part1/Semantics/#15026" class="Bound">q</a><a id="15027" class="Symbol">)</a> <a id="15029" href="/lia/part1/Semantics/#15029" class="Bound">p</a> <a id="15031" href="/lia/part1/Semantics/#15031" class="Bound">ξ</a> <a id="15033" href="/lia/part1/Semantics/#15033" class="Bound">ϱ</a> <a id="15035" class="Keyword">with</a> <a id="15040" href="/lia/part1/Semantics/#15029" class="Bound">p</a> <a id="15042" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="15045" href="/lia/part1/Semantics/#15026" class="Bound">q</a>
<a id="15047" class="Symbol">...</a> <a id="15051" class="Symbol">|</a> <a id="15053" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="15057" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="15062" class="Symbol">=</a> <a id="15064" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="15069" class="Symbol">...</a> <a id="15073" class="Symbol">|</a> <a id="15075" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="15078" class="Symbol">_</a> <a id="15080" class="Symbol">=</a> <a id="15082" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="15087" href="/lia/part1/Semantics/#14337" class="Function">substitution</a> <a id="15100" class="Symbol">(</a><a id="15101" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="15103" href="/lia/part1/Semantics/#15103" class="Bound">φ</a><a id="15104" class="Symbol">)</a> <a id="15106" href="/lia/part1/Semantics/#15106" class="Bound">p</a> <a id="15108" href="/lia/part1/Semantics/#15108" class="Bound">ξ</a> <a id="15110" href="/lia/part1/Semantics/#15110" class="Bound">ϱ</a> <a id="15112" class="Keyword">rewrite</a> <a id="15120" href="/lia/part1/Semantics/#14337" class="Function">substitution</a> <a id="15133" href="/lia/part1/Semantics/#15103" class="Bound">φ</a> <a id="15135" href="/lia/part1/Semantics/#15106" class="Bound">p</a> <a id="15137" href="/lia/part1/Semantics/#15108" class="Bound">ξ</a> <a id="15139" href="/lia/part1/Semantics/#15110" class="Bound">ϱ</a> <a id="15141" class="Symbol">=</a> <a id="15143" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="15148" href="/lia/part1/Semantics/#14337" class="Function">substitution</a> <a id="15161" class="Symbol">(</a><a id="15162" href="/lia/part1/Semantics/#15162" class="Bound">φ</a> <a id="15164" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="15166" href="/lia/part1/Semantics/#15166" class="Bound">ψ</a><a id="15167" class="Symbol">)</a> <a id="15169" href="/lia/part1/Semantics/#15169" class="Bound">p</a> <a id="15171" href="/lia/part1/Semantics/#15171" class="Bound">ξ</a> <a id="15173" href="/lia/part1/Semantics/#15173" class="Bound">ϱ</a> <a id="15175" class="Keyword">rewrite</a> <a id="15183" href="/lia/part1/Semantics/#14337" class="Function">substitution</a> <a id="15196" href="/lia/part1/Semantics/#15162" class="Bound">φ</a> <a id="15198" href="/lia/part1/Semantics/#15169" class="Bound">p</a> <a id="15200" href="/lia/part1/Semantics/#15171" class="Bound">ξ</a> <a id="15202" href="/lia/part1/Semantics/#15173" class="Bound">ϱ</a> <a id="15204" class="Symbol">|</a> <a id="15206" href="/lia/part1/Semantics/#14337" class="Function">substitution</a> <a id="15219" href="/lia/part1/Semantics/#15166" class="Bound">ψ</a> <a id="15221" href="/lia/part1/Semantics/#15169" class="Bound">p</a> <a id="15223" href="/lia/part1/Semantics/#15171" class="Bound">ξ</a> <a id="15225" href="/lia/part1/Semantics/#15173" class="Bound">ϱ</a> <a id="15227" class="Symbol">=</a> <a id="15229" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="15234" href="/lia/part1/Semantics/#14337" class="Function">substitution</a> <a id="15247" class="Symbol">(</a><a id="15248" href="/lia/part1/Semantics/#15248" class="Bound">φ</a> <a id="15250" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="15252" href="/lia/part1/Semantics/#15252" class="Bound">ψ</a><a id="15253" class="Symbol">)</a> <a id="15255" href="/lia/part1/Semantics/#15255" class="Bound">p</a> <a id="15257" href="/lia/part1/Semantics/#15257" class="Bound">ξ</a> <a id="15259" href="/lia/part1/Semantics/#15259" class="Bound">ϱ</a> <a id="15261" class="Keyword">rewrite</a> <a id="15269" href="/lia/part1/Semantics/#14337" class="Function">substitution</a> <a id="15282" href="/lia/part1/Semantics/#15248" class="Bound">φ</a> <a id="15284" href="/lia/part1/Semantics/#15255" class="Bound">p</a> <a id="15286" href="/lia/part1/Semantics/#15257" class="Bound">ξ</a> <a id="15288" href="/lia/part1/Semantics/#15259" class="Bound">ϱ</a> <a id="15290" class="Symbol">|</a> <a id="15292" href="/lia/part1/Semantics/#14337" class="Function">substitution</a> <a id="15305" href="/lia/part1/Semantics/#15252" class="Bound">ψ</a> <a id="15307" href="/lia/part1/Semantics/#15255" class="Bound">p</a> <a id="15309" href="/lia/part1/Semantics/#15257" class="Bound">ξ</a> <a id="15311" href="/lia/part1/Semantics/#15259" class="Bound">ϱ</a> <a id="15313" class="Symbol">=</a> <a id="15315" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="15320" href="/lia/part1/Semantics/#14337" class="Function">substitution</a> <a id="15333" class="Symbol">(</a><a id="15334" href="/lia/part1/Semantics/#15334" class="Bound">φ</a> <a id="15336" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="15338" href="/lia/part1/Semantics/#15338" class="Bound">ψ</a><a id="15339" class="Symbol">)</a> <a id="15341" href="/lia/part1/Semantics/#15341" class="Bound">p</a> <a id="15343" href="/lia/part1/Semantics/#15343" class="Bound">ξ</a> <a id="15345" href="/lia/part1/Semantics/#15345" class="Bound">ϱ</a> <a id="15347" class="Keyword">rewrite</a> <a id="15355" href="/lia/part1/Semantics/#14337" class="Function">substitution</a> <a id="15368" href="/lia/part1/Semantics/#15334" class="Bound">φ</a> <a id="15370" href="/lia/part1/Semantics/#15341" class="Bound">p</a> <a id="15372" href="/lia/part1/Semantics/#15343" class="Bound">ξ</a> <a id="15374" href="/lia/part1/Semantics/#15345" class="Bound">ϱ</a> <a id="15376" class="Symbol">|</a> <a id="15378" href="/lia/part1/Semantics/#14337" class="Function">substitution</a> <a id="15391" href="/lia/part1/Semantics/#15338" class="Bound">ψ</a> <a id="15393" href="/lia/part1/Semantics/#15341" class="Bound">p</a> <a id="15395" href="/lia/part1/Semantics/#15343" class="Bound">ξ</a> <a id="15397" href="/lia/part1/Semantics/#15345" class="Bound">ϱ</a> <a id="15399" class="Symbol">=</a> <a id="15401" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="15406" href="/lia/part1/Semantics/#14337" class="Function">substitution</a> <a id="15419" class="Symbol">(</a><a id="15420" href="/lia/part1/Semantics/#15420" class="Bound">φ</a> <a id="15422" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="15424" href="/lia/part1/Semantics/#15424" class="Bound">ψ</a><a id="15425" class="Symbol">)</a> <a id="15427" href="/lia/part1/Semantics/#15427" class="Bound">p</a> <a id="15429" href="/lia/part1/Semantics/#15429" class="Bound">ξ</a> <a id="15431" href="/lia/part1/Semantics/#15431" class="Bound">ϱ</a> <a id="15433" class="Keyword">rewrite</a> <a id="15441" href="/lia/part1/Semantics/#14337" class="Function">substitution</a> <a id="15454" href="/lia/part1/Semantics/#15420" class="Bound">φ</a> <a id="15456" href="/lia/part1/Semantics/#15427" class="Bound">p</a> <a id="15458" href="/lia/part1/Semantics/#15429" class="Bound">ξ</a> <a id="15460" href="/lia/part1/Semantics/#15431" class="Bound">ϱ</a> <a id="15462" class="Symbol">|</a> <a id="15464" href="/lia/part1/Semantics/#14337" class="Function">substitution</a> <a id="15477" href="/lia/part1/Semantics/#15424" class="Bound">ψ</a> <a id="15479" href="/lia/part1/Semantics/#15427" class="Bound">p</a> <a id="15481" href="/lia/part1/Semantics/#15429" class="Bound">ξ</a> <a id="15483" href="/lia/part1/Semantics/#15431" class="Bound">ϱ</a> <a id="15485" class="Symbol">=</a> <a id="15487" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:subst-id-solution">Solution to <a href="#exercise:subst-id" title="Exercise 5">Exercise 5</a>
</h6>

  <pre class="Agda"><a id="16534" href="/lia/part1/Semantics/#16100" class="Function">subst-id</a> <a id="16543" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="16545" href="/lia/part1/Semantics/#16545" class="Bound">p</a> <a id="16547" href="/lia/part1/Semantics/#16547" class="Bound">ξ</a> <a id="16549" href="/lia/part1/Semantics/#16549" class="Bound">p~∈φ</a> <a id="16554" class="Symbol">=</a> <a id="16556" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="16561" href="/lia/part1/Semantics/#16100" class="Function">subst-id</a> <a id="16570" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="16572" href="/lia/part1/Semantics/#16572" class="Bound">p</a> <a id="16574" href="/lia/part1/Semantics/#16574" class="Bound">ξ</a> <a id="16576" href="/lia/part1/Semantics/#16576" class="Bound">p~∈φ</a> <a id="16581" class="Symbol">=</a> <a id="16583" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="16588" href="/lia/part1/Semantics/#16100" class="Function">subst-id</a> <a id="16597" class="Symbol">(</a><a id="16598" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="16600" href="/lia/part1/Semantics/#16600" class="Bound">q</a><a id="16601" class="Symbol">)</a> <a id="16603" href="/lia/part1/Semantics/#16603" class="Bound">p</a> <a id="16605" href="/lia/part1/Semantics/#16605" class="Bound">ξ</a> <a id="16607" href="/lia/part1/Semantics/#16607" class="Bound">p~∈φ</a> <a id="16612" class="Keyword">with</a> <a id="16617" href="/lia/part1/Semantics/#16603" class="Bound">p</a> <a id="16619" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="16622" href="/lia/part1/Semantics/#16600" class="Bound">q</a>
<a id="16624" class="Comment">-- contradiction</a>
<a id="16641" class="Symbol">...</a> <a id="16645" class="Symbol">|</a> <a id="16647" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="16651" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="16656" class="Symbol">=</a> <a id="16658" href="/lia/part0/Logic/#2277" class="Function">F-elim</a> <a id="16665" class="Symbol">(</a><a id="16666" class="Bound">p~∈φ</a> <a id="16671" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a><a id="16675" class="Symbol">)</a>
<a id="16677" class="Symbol">...</a> <a id="16681" class="Symbol">|</a> <a id="16683" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="16686" class="Symbol">_</a> <a id="16688" class="Symbol">=</a> <a id="16690" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> 
<a id="16696" href="/lia/part1/Semantics/#16100" class="Function">subst-id</a> <a id="16705" class="Symbol">(</a><a id="16706" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="16708" href="/lia/part1/Semantics/#16708" class="Bound">φ</a><a id="16709" class="Symbol">)</a> <a id="16711" href="/lia/part1/Semantics/#16711" class="Bound">p</a> <a id="16713" href="/lia/part1/Semantics/#16713" class="Bound">ξ</a> <a id="16715" href="/lia/part1/Semantics/#16715" class="Bound">p~∈φ</a>
  <a id="16722" class="Keyword">rewrite</a> <a id="16730" href="/lia/part1/Semantics/#16100" class="Function">subst-id</a> <a id="16739" href="/lia/part1/Semantics/#16708" class="Bound">φ</a> <a id="16741" href="/lia/part1/Semantics/#16711" class="Bound">p</a> <a id="16743" href="/lia/part1/Semantics/#16713" class="Bound">ξ</a> <a id="16745" href="/lia/part1/Semantics/#16715" class="Bound">p~∈φ</a> <a id="16750" class="Symbol">=</a> <a id="16752" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="16757" href="/lia/part1/Semantics/#16100" class="Function">subst-id</a> <a id="16766" class="Symbol">(</a><a id="16767" href="/lia/part1/Semantics/#16767" class="Bound">φ</a> <a id="16769" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="16771" href="/lia/part1/Semantics/#16771" class="Bound">ψ</a><a id="16772" class="Symbol">)</a> <a id="16774" href="/lia/part1/Semantics/#16774" class="Bound">p</a> <a id="16776" href="/lia/part1/Semantics/#16776" class="Bound">ξ</a> <a id="16778" href="/lia/part1/Semantics/#16778" class="Bound">p~∈φ</a>
  <a id="16785" class="Keyword">rewrite</a> <a id="16793" href="/lia/part1/Semantics/#16100" class="Function">subst-id</a> <a id="16802" href="/lia/part1/Semantics/#16767" class="Bound">φ</a> <a id="16804" href="/lia/part1/Semantics/#16774" class="Bound">p</a> <a id="16806" href="/lia/part1/Semantics/#16776" class="Bound">ξ</a> <a id="16808" class="Symbol">(</a><a id="16809" href="/lia/part0/List/#14282" class="UnsolvedMeta Function">~∈-++-left</a>  <a id="16821" href="/lia/part1/Semantics/#16778" class="UnsolvedMeta UnsolvedConstraint Bound">p~∈φ</a><a id="16825" class="Symbol">)</a> <a id="16827" class="Symbol">|</a>
          <a id="16839" href="/lia/part1/Semantics/#16100" class="Function">subst-id</a> <a id="16848" href="/lia/part1/Semantics/#16771" class="Bound">ψ</a> <a id="16850" href="/lia/part1/Semantics/#16774" class="Bound">p</a> <a id="16852" href="/lia/part1/Semantics/#16776" class="Bound">ξ</a> <a id="16854" class="Symbol">(</a><a id="16855" href="/lia/part0/List/#14431" class="Function">~∈-++-right</a> <a id="16867" class="Symbol">(</a><a id="16868" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="16874" href="/lia/part1/Semantics/#16767" class="Bound">φ</a><a id="16875" class="Symbol">)</a> <a id="16877" href="/lia/part1/Semantics/#16778" class="Bound">p~∈φ</a><a id="16881" class="Symbol">)</a> <a id="16883" class="Symbol">=</a> <a id="16885" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> 
<a id="16891" href="/lia/part1/Semantics/#16100" class="Function">subst-id</a> <a id="16900" class="Symbol">(</a><a id="16901" href="/lia/part1/Semantics/#16901" class="Bound">φ</a> <a id="16903" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="16905" href="/lia/part1/Semantics/#16905" class="Bound">ψ</a><a id="16906" class="Symbol">)</a> <a id="16908" href="/lia/part1/Semantics/#16908" class="Bound">p</a> <a id="16910" href="/lia/part1/Semantics/#16910" class="Bound">ξ</a> <a id="16912" href="/lia/part1/Semantics/#16912" class="Bound">p~∈φ</a>
  <a id="16919" class="Keyword">rewrite</a> <a id="16927" href="/lia/part1/Semantics/#16100" class="Function">subst-id</a> <a id="16936" href="/lia/part1/Semantics/#16901" class="Bound">φ</a> <a id="16938" href="/lia/part1/Semantics/#16908" class="Bound">p</a> <a id="16940" href="/lia/part1/Semantics/#16910" class="Bound">ξ</a> <a id="16942" class="Symbol">(</a><a id="16943" href="/lia/part0/List/#14282" class="UnsolvedMeta Function">~∈-++-left</a> <a id="16954" href="/lia/part1/Semantics/#16912" class="UnsolvedMeta UnsolvedConstraint Bound">p~∈φ</a><a id="16958" class="Symbol">)</a> <a id="16960" class="Symbol">|</a>
          <a id="16972" href="/lia/part1/Semantics/#16100" class="Function">subst-id</a> <a id="16981" href="/lia/part1/Semantics/#16905" class="Bound">ψ</a> <a id="16983" href="/lia/part1/Semantics/#16908" class="Bound">p</a> <a id="16985" href="/lia/part1/Semantics/#16910" class="Bound">ξ</a> <a id="16987" class="Symbol">(</a><a id="16988" href="/lia/part0/List/#14431" class="Function">~∈-++-right</a> <a id="17000" class="Symbol">(</a><a id="17001" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="17007" href="/lia/part1/Semantics/#16901" class="Bound">φ</a><a id="17008" class="Symbol">)</a> <a id="17010" href="/lia/part1/Semantics/#16912" class="Bound">p~∈φ</a><a id="17014" class="Symbol">)</a> <a id="17016" class="Symbol">=</a> <a id="17018" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> 
<a id="17024" href="/lia/part1/Semantics/#16100" class="Function">subst-id</a> <a id="17033" class="Symbol">(</a><a id="17034" href="/lia/part1/Semantics/#17034" class="Bound">φ</a> <a id="17036" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="17038" href="/lia/part1/Semantics/#17038" class="Bound">ψ</a><a id="17039" class="Symbol">)</a> <a id="17041" href="/lia/part1/Semantics/#17041" class="Bound">p</a> <a id="17043" href="/lia/part1/Semantics/#17043" class="Bound">ξ</a> <a id="17045" href="/lia/part1/Semantics/#17045" class="Bound">p~∈φ</a>
  <a id="17052" class="Keyword">rewrite</a> <a id="17060" href="/lia/part1/Semantics/#16100" class="Function">subst-id</a> <a id="17069" href="/lia/part1/Semantics/#17034" class="Bound">φ</a> <a id="17071" href="/lia/part1/Semantics/#17041" class="Bound">p</a> <a id="17073" href="/lia/part1/Semantics/#17043" class="Bound">ξ</a> <a id="17075" class="Symbol">(</a><a id="17076" href="/lia/part0/List/#14282" class="UnsolvedMeta Function">~∈-++-left</a> <a id="17087" href="/lia/part1/Semantics/#17045" class="UnsolvedMeta UnsolvedConstraint Bound">p~∈φ</a><a id="17091" class="Symbol">)</a> <a id="17093" class="Symbol">|</a>
          <a id="17105" href="/lia/part1/Semantics/#16100" class="Function">subst-id</a> <a id="17114" href="/lia/part1/Semantics/#17038" class="Bound">ψ</a> <a id="17116" href="/lia/part1/Semantics/#17041" class="Bound">p</a> <a id="17118" href="/lia/part1/Semantics/#17043" class="Bound">ξ</a> <a id="17120" class="Symbol">(</a><a id="17121" href="/lia/part0/List/#14431" class="Function">~∈-++-right</a> <a id="17133" class="Symbol">(</a><a id="17134" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="17140" href="/lia/part1/Semantics/#17034" class="Bound">φ</a><a id="17141" class="Symbol">)</a> <a id="17143" href="/lia/part1/Semantics/#17045" class="Bound">p~∈φ</a><a id="17147" class="Symbol">)</a> <a id="17149" class="Symbol">=</a> <a id="17151" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> 
<a id="17157" href="/lia/part1/Semantics/#16100" class="Function">subst-id</a> <a id="17166" class="Symbol">(</a><a id="17167" href="/lia/part1/Semantics/#17167" class="Bound">φ</a> <a id="17169" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="17171" href="/lia/part1/Semantics/#17171" class="Bound">ψ</a><a id="17172" class="Symbol">)</a> <a id="17174" href="/lia/part1/Semantics/#17174" class="Bound">p</a> <a id="17176" href="/lia/part1/Semantics/#17176" class="Bound">ξ</a> <a id="17178" href="/lia/part1/Semantics/#17178" class="Bound">p~∈φ</a>
  <a id="17185" class="Keyword">rewrite</a> <a id="17193" href="/lia/part1/Semantics/#16100" class="Function">subst-id</a> <a id="17202" href="/lia/part1/Semantics/#17167" class="Bound">φ</a> <a id="17204" href="/lia/part1/Semantics/#17174" class="Bound">p</a> <a id="17206" href="/lia/part1/Semantics/#17176" class="Bound">ξ</a> <a id="17208" class="Symbol">(</a><a id="17209" href="/lia/part0/List/#14282" class="UnsolvedMeta Function">~∈-++-left</a> <a id="17220" href="/lia/part1/Semantics/#17178" class="UnsolvedMeta UnsolvedConstraint Bound">p~∈φ</a><a id="17224" class="Symbol">)</a> <a id="17226" class="Symbol">|</a>
          <a id="17238" href="/lia/part1/Semantics/#16100" class="Function">subst-id</a> <a id="17247" href="/lia/part1/Semantics/#17171" class="Bound">ψ</a> <a id="17249" href="/lia/part1/Semantics/#17174" class="Bound">p</a> <a id="17251" href="/lia/part1/Semantics/#17176" class="Bound">ξ</a> <a id="17253" class="Symbol">(</a><a id="17254" href="/lia/part0/List/#14431" class="Function">~∈-++-right</a> <a id="17266" class="Symbol">(</a><a id="17267" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="17273" href="/lia/part1/Semantics/#17167" class="Bound">φ</a><a id="17274" class="Symbol">)</a> <a id="17276" href="/lia/part1/Semantics/#17178" class="Bound">p~∈φ</a><a id="17280" class="Symbol">)</a> <a id="17282" class="Symbol">=</a> <a id="17284" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:rename-undo-solution">Solution to <a href="#exercise:rename-undo" title="Exercise 6">Exercise 6</a>
</h6>

  <pre class="Agda"><a id="18511" href="/lia/part1/Semantics/#17642" class="Function">rename-undo</a> <a id="18523" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="18525" href="/lia/part1/Semantics/#18525" class="Bound">p</a> <a id="18527" href="/lia/part1/Semantics/#18527" class="Bound">q</a> <a id="18529" href="/lia/part1/Semantics/#18529" class="Bound">q∉φ</a> <a id="18533" class="Symbol">=</a> <a id="18535" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="18540" href="/lia/part1/Semantics/#17642" class="Function">rename-undo</a> <a id="18552" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="18554" href="/lia/part1/Semantics/#18554" class="Bound">p</a> <a id="18556" href="/lia/part1/Semantics/#18556" class="Bound">q</a> <a id="18558" href="/lia/part1/Semantics/#18558" class="Bound">q∉φ</a> <a id="18562" class="Symbol">=</a> <a id="18564" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="18570" href="/lia/part1/Semantics/#17642" class="Function">rename-undo</a> <a id="18582" class="Symbol">(</a><a id="18583" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="18585" href="/lia/part1/Semantics/#18585" class="Bound">r</a><a id="18586" class="Symbol">)</a> <a id="18588" href="/lia/part1/Semantics/#18588" class="Bound">p</a> <a id="18590" href="/lia/part1/Semantics/#18590" class="Bound">q</a> <a id="18592" class="Symbol">(</a><a id="18593" href="/lia/part0/List/#14620" class="InductiveConstructor">notThere</a> <a id="18602" href="/lia/part1/Semantics/#18602" class="Bound">q≢r</a> <a id="18606" class="Symbol">_)</a>
  <a id="18611" class="Keyword">with</a> <a id="18616" href="/lia/part0/Equality/#2964" class="Function">refl-≡?</a> <a id="18624" href="/lia/part1/Semantics/#18590" class="Bound">q</a>
<a id="18626" class="Symbol">...</a> <a id="18630" class="Symbol">|</a> <a id="18632" href="/lia/part1/Semantics/#18632" class="Bound">q≡?q≡yes</a>
  <a id="18643" class="Keyword">with</a> <a id="18648" class="Bound">p</a> <a id="18650" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="18653" class="Bound">r</a>
<a id="18655" class="Symbol">...</a> <a id="18659" class="Symbol">|</a> <a id="18661" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="18665" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="18670" class="Keyword">rewrite</a> <a id="18678" class="Bound">q≡?q≡yes</a> <a id="18687" class="Symbol">=</a> <a id="18689" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> 
<a id="18695" class="Symbol">...</a> <a id="18699" class="Symbol">|</a> <a id="18701" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="18704" class="Symbol">_</a>
  <a id="18708" class="Keyword">with</a> <a id="18713" class="Bound">q</a> <a id="18715" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="18718" class="Bound">r</a>
<a id="18720" class="Symbol">...</a> <a id="18724" class="Symbol">|</a> <a id="18726" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="18730" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="18735" class="Symbol">=</a> <a id="18737" href="/lia/part0/Equality/#2282" class="Function">x≢x-elim</a> <a id="18746" class="Bound">q≢r</a>
<a id="18750" class="Symbol">...</a> <a id="18754" class="Symbol">|</a> <a id="18756" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="18759" class="Symbol">_</a> <a id="18761" class="Symbol">=</a> <a id="18763" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> 

<a id="18770" href="/lia/part1/Semantics/#17642" class="Function">rename-undo</a> <a id="18782" class="Symbol">(</a><a id="18783" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="18785" href="/lia/part1/Semantics/#18785" class="Bound">φ</a><a id="18786" class="Symbol">)</a> <a id="18788" href="/lia/part1/Semantics/#18788" class="Bound">p</a> <a id="18790" href="/lia/part1/Semantics/#18790" class="Bound">q</a> <a id="18792" href="/lia/part1/Semantics/#18792" class="Bound">q∉φ</a>
  <a id="18798" class="Keyword">rewrite</a> <a id="18806" href="/lia/part1/Semantics/#17642" class="Function">rename-undo</a> <a id="18818" href="/lia/part1/Semantics/#18785" class="Bound">φ</a> <a id="18820" href="/lia/part1/Semantics/#18788" class="Bound">p</a> <a id="18822" href="/lia/part1/Semantics/#18790" class="Bound">q</a> <a id="18824" href="/lia/part1/Semantics/#18792" class="Bound">q∉φ</a> <a id="18828" class="Symbol">=</a> <a id="18830" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="18836" href="/lia/part1/Semantics/#17642" class="Function">rename-undo</a> <a id="18848" class="Symbol">(</a><a id="18849" href="/lia/part1/Semantics/#18849" class="Bound">φ</a> <a id="18851" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="18853" href="/lia/part1/Semantics/#18853" class="Bound">ψ</a><a id="18854" class="Symbol">)</a> <a id="18856" href="/lia/part1/Semantics/#18856" class="Bound">p</a> <a id="18858" href="/lia/part1/Semantics/#18858" class="Bound">q</a> <a id="18860" href="/lia/part1/Semantics/#18860" class="Bound">q∉φ</a>
  <a id="18866" class="Keyword">rewrite</a> <a id="18874" href="/lia/part1/Semantics/#17642" class="Function">rename-undo</a> <a id="18886" href="/lia/part1/Semantics/#18849" class="Bound">φ</a> <a id="18888" href="/lia/part1/Semantics/#18856" class="Bound">p</a> <a id="18890" href="/lia/part1/Semantics/#18858" class="Bound">q</a> <a id="18892" class="Symbol">(</a><a id="18893" href="/lia/part0/List/#15246" class="UnsolvedMeta Function">∉-++-left</a> <a id="18903" href="/lia/part1/Semantics/#18860" class="UnsolvedMeta UnsolvedConstraint Bound">q∉φ</a><a id="18906" class="Symbol">)</a> <a id="18908" class="Symbol">|</a>
          <a id="18920" href="/lia/part1/Semantics/#17642" class="Function">rename-undo</a> <a id="18932" href="/lia/part1/Semantics/#18853" class="Bound">ψ</a> <a id="18934" href="/lia/part1/Semantics/#18856" class="Bound">p</a> <a id="18936" href="/lia/part1/Semantics/#18858" class="Bound">q</a> <a id="18938" class="Symbol">(</a><a id="18939" href="/lia/part0/List/#15344" class="Function">∉-++-right</a> <a id="18950" class="Symbol">{</a><a id="18951" class="Argument">as</a> <a id="18954" class="Symbol">=</a> <a id="18956" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="18962" href="/lia/part1/Semantics/#18849" class="Bound">φ</a><a id="18963" class="Symbol">}</a> <a id="18965" href="/lia/part1/Semantics/#18860" class="Bound">q∉φ</a><a id="18968" class="Symbol">)</a>
  <a id="18972" class="Symbol">=</a> <a id="18974" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  
<a id="18982" href="/lia/part1/Semantics/#17642" class="Function">rename-undo</a> <a id="18994" class="Symbol">(</a><a id="18995" href="/lia/part1/Semantics/#18995" class="Bound">φ</a> <a id="18997" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="18999" href="/lia/part1/Semantics/#18999" class="Bound">ψ</a><a id="19000" class="Symbol">)</a> <a id="19002" href="/lia/part1/Semantics/#19002" class="Bound">p</a> <a id="19004" href="/lia/part1/Semantics/#19004" class="Bound">q</a> <a id="19006" href="/lia/part1/Semantics/#19006" class="Bound">q∉φ</a>
  <a id="19012" class="Keyword">rewrite</a> <a id="19020" href="/lia/part1/Semantics/#17642" class="Function">rename-undo</a> <a id="19032" href="/lia/part1/Semantics/#18995" class="Bound">φ</a> <a id="19034" href="/lia/part1/Semantics/#19002" class="Bound">p</a> <a id="19036" href="/lia/part1/Semantics/#19004" class="Bound">q</a> <a id="19038" class="Symbol">(</a><a id="19039" href="/lia/part0/List/#15246" class="UnsolvedMeta Function">∉-++-left</a> <a id="19049" href="/lia/part1/Semantics/#19006" class="UnsolvedMeta UnsolvedConstraint Bound">q∉φ</a><a id="19052" class="Symbol">)</a> <a id="19054" class="Symbol">|</a>
          <a id="19066" href="/lia/part1/Semantics/#17642" class="Function">rename-undo</a> <a id="19078" href="/lia/part1/Semantics/#18999" class="Bound">ψ</a> <a id="19080" href="/lia/part1/Semantics/#19002" class="Bound">p</a> <a id="19082" href="/lia/part1/Semantics/#19004" class="Bound">q</a> <a id="19084" class="Symbol">(</a><a id="19085" href="/lia/part0/List/#15344" class="Function">∉-++-right</a> <a id="19096" class="Symbol">{</a><a id="19097" class="Argument">as</a> <a id="19100" class="Symbol">=</a> <a id="19102" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="19108" href="/lia/part1/Semantics/#18995" class="Bound">φ</a><a id="19109" class="Symbol">}</a> <a id="19111" href="/lia/part1/Semantics/#19006" class="Bound">q∉φ</a><a id="19114" class="Symbol">)</a>
  <a id="19118" class="Symbol">=</a> <a id="19120" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  
<a id="19128" href="/lia/part1/Semantics/#17642" class="Function">rename-undo</a> <a id="19140" class="Symbol">(</a><a id="19141" href="/lia/part1/Semantics/#19141" class="Bound">φ</a> <a id="19143" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="19145" href="/lia/part1/Semantics/#19145" class="Bound">ψ</a><a id="19146" class="Symbol">)</a> <a id="19148" href="/lia/part1/Semantics/#19148" class="Bound">p</a> <a id="19150" href="/lia/part1/Semantics/#19150" class="Bound">q</a> <a id="19152" href="/lia/part1/Semantics/#19152" class="Bound">q∉φ</a>
  <a id="19158" class="Keyword">rewrite</a> <a id="19166" href="/lia/part1/Semantics/#17642" class="Function">rename-undo</a> <a id="19178" href="/lia/part1/Semantics/#19141" class="Bound">φ</a> <a id="19180" href="/lia/part1/Semantics/#19148" class="Bound">p</a> <a id="19182" href="/lia/part1/Semantics/#19150" class="Bound">q</a> <a id="19184" class="Symbol">(</a><a id="19185" href="/lia/part0/List/#15246" class="UnsolvedMeta Function">∉-++-left</a> <a id="19195" href="/lia/part1/Semantics/#19152" class="UnsolvedMeta UnsolvedConstraint Bound">q∉φ</a><a id="19198" class="Symbol">)</a> <a id="19200" class="Symbol">|</a>
          <a id="19212" href="/lia/part1/Semantics/#17642" class="Function">rename-undo</a> <a id="19224" href="/lia/part1/Semantics/#19145" class="Bound">ψ</a> <a id="19226" href="/lia/part1/Semantics/#19148" class="Bound">p</a> <a id="19228" href="/lia/part1/Semantics/#19150" class="Bound">q</a> <a id="19230" class="Symbol">(</a><a id="19231" href="/lia/part0/List/#15344" class="Function">∉-++-right</a> <a id="19242" class="Symbol">{</a><a id="19243" class="Argument">as</a> <a id="19246" class="Symbol">=</a> <a id="19248" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="19254" href="/lia/part1/Semantics/#19141" class="Bound">φ</a><a id="19255" class="Symbol">}</a> <a id="19257" href="/lia/part1/Semantics/#19152" class="Bound">q∉φ</a><a id="19260" class="Symbol">)</a>
  <a id="19264" class="Symbol">=</a> <a id="19266" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  
<a id="19274" href="/lia/part1/Semantics/#17642" class="Function">rename-undo</a> <a id="19286" class="Symbol">(</a><a id="19287" href="/lia/part1/Semantics/#19287" class="Bound">φ</a> <a id="19289" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="19291" href="/lia/part1/Semantics/#19291" class="Bound">ψ</a><a id="19292" class="Symbol">)</a> <a id="19294" href="/lia/part1/Semantics/#19294" class="Bound">p</a> <a id="19296" href="/lia/part1/Semantics/#19296" class="Bound">q</a> <a id="19298" href="/lia/part1/Semantics/#19298" class="Bound">q∉φ</a>
  <a id="19304" class="Keyword">rewrite</a> <a id="19312" href="/lia/part1/Semantics/#17642" class="Function">rename-undo</a> <a id="19324" href="/lia/part1/Semantics/#19287" class="Bound">φ</a> <a id="19326" href="/lia/part1/Semantics/#19294" class="Bound">p</a> <a id="19328" href="/lia/part1/Semantics/#19296" class="Bound">q</a> <a id="19330" class="Symbol">(</a><a id="19331" href="/lia/part0/List/#15246" class="UnsolvedMeta Function">∉-++-left</a> <a id="19341" href="/lia/part1/Semantics/#19298" class="UnsolvedMeta UnsolvedConstraint Bound">q∉φ</a><a id="19344" class="Symbol">)</a> <a id="19346" class="Symbol">|</a>
          <a id="19358" href="/lia/part1/Semantics/#17642" class="Function">rename-undo</a> <a id="19370" href="/lia/part1/Semantics/#19291" class="Bound">ψ</a> <a id="19372" href="/lia/part1/Semantics/#19294" class="Bound">p</a> <a id="19374" href="/lia/part1/Semantics/#19296" class="Bound">q</a> <a id="19376" class="Symbol">(</a><a id="19377" href="/lia/part0/List/#15344" class="Function">∉-++-right</a> <a id="19388" class="Symbol">{</a><a id="19389" class="Argument">as</a> <a id="19392" class="Symbol">=</a> <a id="19394" href="/lia/part1/Semantics/#7915" class="Function">props</a> <a id="19400" href="/lia/part1/Semantics/#19287" class="Bound">φ</a><a id="19401" class="Symbol">}</a> <a id="19403" href="/lia/part1/Semantics/#19298" class="Bound">q∉φ</a><a id="19406" class="Symbol">)</a>
  <a id="19410" class="Symbol">=</a> <a id="19412" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:tautology-substitution-solution">Solution to <a href="#exercise:tautology-substitution" title="Exercise 7">Exercise 7</a>
</h6>

  <p>The proof is an immediate application of the substitution lemma:</p>

  <pre class="Agda"><a id="21899" href="/lia/part1/Semantics/#21551" class="Function">tautology-subst</a> <a id="21915" href="/lia/part1/Semantics/#21915" class="Bound">φ</a> <a id="21917" href="/lia/part1/Semantics/#21917" class="Bound">p</a> <a id="21919" href="/lia/part1/Semantics/#21919" class="Bound">ψ</a> <a id="21921" href="/lia/part1/Semantics/#21921" class="Bound">tau-φ</a> <a id="21927" href="/lia/part1/Semantics/#21927" class="Bound">ϱ</a>
  <a id="21931" class="Keyword">rewrite</a> <a id="21939" href="/lia/part1/Semantics/#14337" class="Function">substitution</a> <a id="21952" href="/lia/part1/Semantics/#21915" class="Bound">φ</a> <a id="21954" href="/lia/part1/Semantics/#21917" class="Bound">p</a> <a id="21956" href="/lia/part1/Semantics/#21919" class="Bound">ψ</a> <a id="21958" href="/lia/part1/Semantics/#21927" class="Bound">ϱ</a> <a id="21960" class="Symbol">=</a> <a id="21962" href="/lia/part1/Semantics/#21921" class="Bound">tau-φ</a> <a id="21968" class="Symbol">(</a><a id="21969" href="/lia/part1/Semantics/#21927" class="Bound">ϱ</a> <a id="21971" href="/lia/part0/Functions/#570" class="Function Operator">[</a> <a id="21973" href="/lia/part1/Semantics/#21917" class="Bound">p</a> <a id="21975" href="/lia/part0/Functions/#570" class="Function Operator">↦</a> <a id="21977" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="21979" href="/lia/part1/Semantics/#21919" class="Bound">ψ</a> <a id="21981" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="21983" href="/lia/part1/Semantics/#21927" class="Bound">ϱ</a> <a id="21985" href="/lia/part0/Functions/#570" class="Function Operator">]</a><a id="21986" class="Symbol">)</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:entailment-preorder-solution">Solution to <a href="#exercise:entailment-preorder" title="Exercise 8">Exercise 8</a>
</h6>

  <pre class="Agda"><a id="23814" href="/lia/part1/Semantics/#23568" class="Function">refl-⇛</a> <a id="23821" href="/lia/part1/Semantics/#23821" class="Bound">φ</a> <a id="23823" class="Symbol">_</a> <a id="23825" class="Symbol">=</a> <a id="23827" href="/lia/part0/Utils/#311" class="Function">id</a>
<a id="23830" href="/lia/part1/Semantics/#23589" class="Function">trans-⇛</a> <a id="23838" class="Symbol">_</a> <a id="23840" class="Symbol">_</a> <a id="23842" class="Symbol">_</a> <a id="23844" href="/lia/part1/Semantics/#23844" class="Bound">φ⊨ψ</a> <a id="23848" href="/lia/part1/Semantics/#23848" class="Bound">ψ⊨ξ</a> <a id="23852" href="/lia/part1/Semantics/#23852" class="Bound">ϱ</a> <a id="23854" class="Symbol">=</a> <a id="23856" href="/lia/part1/Semantics/#23848" class="Bound">ψ⊨ξ</a> <a id="23860" href="/lia/part1/Semantics/#23852" class="Bound">ϱ</a> <a id="23862" href="/lia/part0/Utils/#705" class="Function Operator">∘</a> <a id="23864" href="/lia/part1/Semantics/#23844" class="Bound">φ⊨ψ</a> <a id="23868" href="/lia/part1/Semantics/#23852" class="Bound">ϱ</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:entailment-implication-solution">Solution to <a href="#exercise:entailment-implication" title="Exercise 9">Exercise 9</a>
</h6>

  <p>We begin with <a href="#entailment-implication"><code class="language-plaintext highlighter-rouge">entailment-implication</code></a> . We
break it up into two directions, which are proved separately:</p>

  <pre class="Agda"><a id="entailment-implication-1"></a><a id="25695" href="/lia/part1/Semantics/#25695" class="Function">entailment-implication-1</a> <a id="25720" class="Symbol">:</a> <a id="25722" class="Symbol">∀</a> <a id="25724" href="/lia/part1/Semantics/#25724" class="Bound">φ</a> <a id="25726" href="/lia/part1/Semantics/#25726" class="Bound">ψ</a> <a id="25728" class="Symbol">→</a>
  <a id="25732" href="/lia/part1/Semantics/#25724" class="Bound">φ</a> <a id="25734" href="/lia/part1/Semantics/#22369" class="Function Operator">⇛</a> <a id="25736" href="/lia/part1/Semantics/#25726" class="Bound">ψ</a> <a id="25738" class="Symbol">→</a>
  <a id="25742" class="Comment">------------------</a>
  <a id="25763" href="/lia/part1/Semantics/#19630" class="Function">Tautology</a> <a id="25773" class="Symbol">(</a><a id="25774" href="/lia/part1/Semantics/#25724" class="Bound">φ</a> <a id="25776" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="25778" href="/lia/part1/Semantics/#25726" class="Bound">ψ</a><a id="25779" class="Symbol">)</a>

<a id="25782" href="/lia/part1/Semantics/#25695" class="Function">entailment-implication-1</a> <a id="25807" href="/lia/part1/Semantics/#25807" class="Bound">φ</a> <a id="25809" href="/lia/part1/Semantics/#25809" class="Bound">ψ</a> <a id="25811" href="/lia/part1/Semantics/#25811" class="Bound">φ⇛ψ</a> <a id="25815" href="/lia/part1/Semantics/#25815" class="Bound">ϱ</a>
  <a id="25819" class="Keyword">with</a> <a id="25824" href="/lia/part0/Equality/#4517" class="Function">inspect</a> <a id="25832" class="Symbol">(</a><a id="25833" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="25835" href="/lia/part1/Semantics/#25807" class="Bound">φ</a> <a id="25837" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="25839" href="/lia/part1/Semantics/#25815" class="Bound">ϱ</a><a id="25840" class="Symbol">)</a>
<a id="25842" class="Symbol">...</a> <a id="25846" class="Symbol">|</a> <a id="25848" href="/lia/part0/Equality/#4483" class="InductiveConstructor">it</a> <a id="25851" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="25854" href="/lia/part1/Semantics/#25854" class="Bound">⟦φ⟧ϱ=tt</a>
  <a id="25864" class="Keyword">rewrite</a> <a id="25872" href="/lia/part1/Semantics/#25854" class="Bound">⟦φ⟧ϱ=tt</a> <a id="25880" class="Symbol">|</a> <a id="25882" class="Bound">φ⇛ψ</a> <a id="25886" class="Bound">ϱ</a> <a id="25888" href="/lia/part1/Semantics/#25854" class="Bound">⟦φ⟧ϱ=tt</a> <a id="25896" class="Symbol">=</a> <a id="25898" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="25903" class="Symbol">...</a> <a id="25907" class="Symbol">|</a> <a id="25909" href="/lia/part0/Equality/#4483" class="InductiveConstructor">it</a> <a id="25912" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="25915" href="/lia/part1/Semantics/#25915" class="Bound">⟦φ⟧ϱ=ff</a>
  <a id="25925" class="Keyword">rewrite</a> <a id="25933" href="/lia/part1/Semantics/#25915" class="Bound">⟦φ⟧ϱ=ff</a> <a id="25941" class="Symbol">=</a> <a id="25943" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>
  <pre class="Agda"><a id="entailment-implication-2"></a><a id="25957" href="/lia/part1/Semantics/#25957" class="Function">entailment-implication-2</a> <a id="25982" class="Symbol">:</a> <a id="25984" class="Symbol">∀</a> <a id="25986" href="/lia/part1/Semantics/#25986" class="Bound">φ</a> <a id="25988" href="/lia/part1/Semantics/#25988" class="Bound">ψ</a> <a id="25990" class="Symbol">→</a>
  <a id="25994" href="/lia/part1/Semantics/#19630" class="Function">Tautology</a> <a id="26004" class="Symbol">(</a><a id="26005" href="/lia/part1/Semantics/#25986" class="Bound">φ</a> <a id="26007" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="26009" href="/lia/part1/Semantics/#25988" class="Bound">ψ</a><a id="26010" class="Symbol">)</a> <a id="26012" class="Symbol">→</a>
  <a id="26016" class="Comment">------------------</a>
  <a id="26037" href="/lia/part1/Semantics/#25986" class="Bound">φ</a> <a id="26039" href="/lia/part1/Semantics/#22369" class="Function Operator">⇛</a> <a id="26041" href="/lia/part1/Semantics/#25988" class="Bound">ψ</a>
 
<a id="26045" href="/lia/part1/Semantics/#25957" class="Function">entailment-implication-2</a> <a id="26070" href="/lia/part1/Semantics/#26070" class="Bound">φ</a> <a id="26072" href="/lia/part1/Semantics/#26072" class="Bound">ψ</a> <a id="26074" href="/lia/part1/Semantics/#26074" class="Bound">tau</a> <a id="26078" href="/lia/part1/Semantics/#26078" class="Bound">ϱ</a> <a id="26080" href="/lia/part1/Semantics/#26080" class="Bound">⟦φ⟧ϱ≡tt</a> <a id="26088" class="Symbol">=</a> <a id="26090" href="/lia/part1/Semantics/#26245" class="Function">⟦ψ⟧ϱ≡tt</a> <a id="26098" class="Keyword">where</a>

  <a id="26107" href="/lia/part1/Semantics/#26107" class="Function">have</a> <a id="26112" class="Symbol">:</a> <a id="26114" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="26116" href="/lia/part1/Semantics/#26070" class="Bound">φ</a> <a id="26118" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="26120" href="/lia/part1/Semantics/#26078" class="Bound">ϱ</a> <a id="26122" href="/lia/part0/Booleans/#1154" class="Function Operator">⇒𝔹</a> <a id="26125" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="26127" href="/lia/part1/Semantics/#26072" class="Bound">ψ</a> <a id="26129" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="26131" href="/lia/part1/Semantics/#26078" class="Bound">ϱ</a> <a id="26133" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="26135" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a>
  <a id="26140" href="/lia/part1/Semantics/#26107" class="Function">have</a> <a id="26145" class="Symbol">=</a> <a id="26147" href="/lia/part1/Semantics/#26074" class="Bound">tau</a> <a id="26151" href="/lia/part1/Semantics/#26078" class="Bound">ϱ</a>

  <a id="26156" href="/lia/part1/Semantics/#26156" class="Function">equiv</a> <a id="26162" class="Symbol">:</a> <a id="26164" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="26166" href="/lia/part1/Semantics/#26070" class="Bound">φ</a> <a id="26168" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="26170" href="/lia/part1/Semantics/#26078" class="Bound">ϱ</a> <a id="26172" href="/lia/part0/Booleans/#1154" class="Function Operator">⇒𝔹</a> <a id="26175" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="26177" href="/lia/part1/Semantics/#26072" class="Bound">ψ</a> <a id="26179" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="26181" href="/lia/part1/Semantics/#26078" class="Bound">ϱ</a> <a id="26183" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="26185" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="26187" href="/lia/part1/Semantics/#26072" class="Bound">ψ</a> <a id="26189" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="26191" href="/lia/part1/Semantics/#26078" class="Bound">ϱ</a>
  <a id="26195" href="/lia/part1/Semantics/#26156" class="Function">equiv</a> <a id="26201" class="Symbol">=</a> <a id="26203" href="/lia/part0/Booleans/#6688" class="Function">𝔹implProp2</a> <a id="26214" class="Symbol">(</a><a id="26215" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="26217" href="/lia/part1/Semantics/#26070" class="Bound">φ</a> <a id="26219" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="26221" href="/lia/part1/Semantics/#26078" class="Bound">ϱ</a><a id="26222" class="Symbol">)</a> <a id="26224" class="Symbol">(</a><a id="26225" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="26227" href="/lia/part1/Semantics/#26072" class="Bound">ψ</a> <a id="26229" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="26231" href="/lia/part1/Semantics/#26078" class="Bound">ϱ</a><a id="26232" class="Symbol">)</a> <a id="26234" href="/lia/part1/Semantics/#26080" class="Bound">⟦φ⟧ϱ≡tt</a>

  <a id="26245" href="/lia/part1/Semantics/#26245" class="Function">⟦ψ⟧ϱ≡tt</a> <a id="26253" class="Symbol">:</a> <a id="26255" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="26257" href="/lia/part1/Semantics/#26072" class="Bound">ψ</a> <a id="26259" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="26261" href="/lia/part1/Semantics/#26078" class="Bound">ϱ</a> <a id="26263" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="26265" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a>
  <a id="26270" href="/lia/part1/Semantics/#26245" class="Function">⟦ψ⟧ϱ≡tt</a> <a id="26278" class="Keyword">rewrite</a> <a id="26286" href="/lia/part0/Equality/#458" class="Function">sym</a> <a id="26290" href="/lia/part1/Semantics/#26156" class="Function">equiv</a> <a id="26296" class="Symbol">=</a> <a id="26298" href="/lia/part1/Semantics/#26107" class="Function">have</a></pre>

  <p>We put the two directions together:</p>

  <pre class="Agda"><a id="26349" href="/lia/part1/Semantics/#25217" class="Function">entailment-implication</a> <a id="26372" href="/lia/part1/Semantics/#26372" class="Bound">φ</a> <a id="26374" href="/lia/part1/Semantics/#26374" class="Bound">ψ</a> <a id="26376" class="Symbol">=</a> <a id="26378" href="/lia/part1/Semantics/#25695" class="Function">entailment-implication-1</a> <a id="26403" href="/lia/part1/Semantics/#26372" class="Bound">φ</a> <a id="26405" href="/lia/part1/Semantics/#26374" class="Bound">ψ</a> <a id="26407" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="26409" href="/lia/part1/Semantics/#25957" class="Function">entailment-implication-2</a> <a id="26434" href="/lia/part1/Semantics/#26372" class="Bound">φ</a> <a id="26436" href="/lia/part1/Semantics/#26374" class="Bound">ψ</a></pre>

  <p>The treatment for equivalence:</p>

  <pre class="Agda"><a id="26479" href="/lia/part1/Semantics/#25276" class="Function">entailment-equivalence</a> <a id="26502" href="/lia/part1/Semantics/#26502" class="Bound">φ</a> <a id="26504" href="/lia/part1/Semantics/#26504" class="Bound">ψ</a> <a id="26506" class="Symbol">=</a> <a id="26508" class="Symbol">{!!}</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:common-equivalences-solution">Solution to <a href="#exercise:common-equivalences" title="Exercise 10">Exercise 10</a>
</h6>

  <pre class="Agda"><a id="28173" href="/lia/part1/Semantics/#26958" class="Function">idempotAnd</a> <a id="28184" href="/lia/part1/Semantics/#28184" class="Bound">φ</a> <a id="28186" href="/lia/part1/Semantics/#28186" class="Bound">ϱ</a> <a id="28188" class="Symbol">=</a> <a id="28190" href="/lia/part0/Booleans/#4062" class="Function">idempot-∧𝔹</a> <a id="28201" class="Symbol">(</a><a id="28202" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28204" href="/lia/part1/Semantics/#28184" class="Bound">φ</a> <a id="28206" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28208" href="/lia/part1/Semantics/#28186" class="Bound">ϱ</a><a id="28209" class="Symbol">)</a>

<a id="28212" href="/lia/part1/Semantics/#26988" class="Function">commAnd</a> <a id="28220" href="/lia/part1/Semantics/#28220" class="Bound">φ</a> <a id="28222" href="/lia/part1/Semantics/#28222" class="Bound">ψ</a> <a id="28224" href="/lia/part1/Semantics/#28224" class="Bound">ϱ</a> <a id="28226" class="Symbol">=</a> <a id="28228" href="/lia/part0/Booleans/#4282" class="Function">comm-∧𝔹</a> <a id="28236" class="Symbol">(</a><a id="28237" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28239" href="/lia/part1/Semantics/#28220" class="Bound">φ</a> <a id="28241" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28243" href="/lia/part1/Semantics/#28224" class="Bound">ϱ</a><a id="28244" class="Symbol">)</a> <a id="28246" class="Symbol">(</a><a id="28247" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28249" href="/lia/part1/Semantics/#28222" class="Bound">ψ</a> <a id="28251" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28253" href="/lia/part1/Semantics/#28224" class="Bound">ϱ</a><a id="28254" class="Symbol">)</a>
<a id="28256" href="/lia/part1/Semantics/#27020" class="Function">commOr</a> <a id="28263" href="/lia/part1/Semantics/#28263" class="Bound">φ</a> <a id="28265" href="/lia/part1/Semantics/#28265" class="Bound">ψ</a> <a id="28267" href="/lia/part1/Semantics/#28267" class="Bound">ϱ</a> <a id="28269" class="Symbol">=</a> <a id="28271" href="/lia/part0/Booleans/#4163" class="Function">comm-∨𝔹</a> <a id="28279" class="Symbol">(</a><a id="28280" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28282" href="/lia/part1/Semantics/#28263" class="Bound">φ</a> <a id="28284" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28286" href="/lia/part1/Semantics/#28267" class="Bound">ϱ</a><a id="28287" class="Symbol">)</a> <a id="28289" class="Symbol">(</a><a id="28290" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28292" href="/lia/part1/Semantics/#28265" class="Bound">ψ</a> <a id="28294" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28296" href="/lia/part1/Semantics/#28267" class="Bound">ϱ</a><a id="28297" class="Symbol">)</a>

<a id="28300" href="/lia/part1/Semantics/#27052" class="Function">assocOr</a> <a id="28308" href="/lia/part1/Semantics/#28308" class="Bound">φ</a> <a id="28310" href="/lia/part1/Semantics/#28310" class="Bound">ψ</a> <a id="28312" href="/lia/part1/Semantics/#28312" class="Bound">ξ</a> <a id="28314" href="/lia/part1/Semantics/#28314" class="Bound">ϱ</a> <a id="28316" class="Symbol">=</a> <a id="28318" href="/lia/part0/Booleans/#4428" class="Function">assoc-∨𝔹</a> <a id="28327" class="Symbol">(</a><a id="28328" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28330" href="/lia/part1/Semantics/#28308" class="Bound">φ</a> <a id="28332" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28334" href="/lia/part1/Semantics/#28314" class="Bound">ϱ</a><a id="28335" class="Symbol">)</a> <a id="28337" class="Symbol">(</a><a id="28338" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28340" href="/lia/part1/Semantics/#28310" class="Bound">ψ</a> <a id="28342" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28344" href="/lia/part1/Semantics/#28314" class="Bound">ϱ</a><a id="28345" class="Symbol">)</a> <a id="28347" class="Symbol">(</a><a id="28348" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28350" href="/lia/part1/Semantics/#28312" class="Bound">ξ</a> <a id="28352" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28354" href="/lia/part1/Semantics/#28314" class="Bound">ϱ</a><a id="28355" class="Symbol">)</a>
<a id="28357" href="/lia/part1/Semantics/#27096" class="Function">assocAnd</a> <a id="28366" href="/lia/part1/Semantics/#28366" class="Bound">φ</a> <a id="28368" href="/lia/part1/Semantics/#28368" class="Bound">ψ</a> <a id="28370" href="/lia/part1/Semantics/#28370" class="Bound">ξ</a> <a id="28372" href="/lia/part1/Semantics/#28372" class="Bound">ϱ</a> <a id="28374" class="Symbol">=</a> <a id="28376" href="/lia/part0/Booleans/#4686" class="Function">assoc-∧𝔹</a> <a id="28385" class="Symbol">(</a><a id="28386" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28388" href="/lia/part1/Semantics/#28366" class="Bound">φ</a> <a id="28390" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28392" href="/lia/part1/Semantics/#28372" class="Bound">ϱ</a><a id="28393" class="Symbol">)</a> <a id="28395" class="Symbol">(</a><a id="28396" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28398" href="/lia/part1/Semantics/#28368" class="Bound">ψ</a> <a id="28400" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28402" href="/lia/part1/Semantics/#28372" class="Bound">ϱ</a><a id="28403" class="Symbol">)</a> <a id="28405" class="Symbol">(</a><a id="28406" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28408" href="/lia/part1/Semantics/#28370" class="Bound">ξ</a> <a id="28410" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28412" href="/lia/part1/Semantics/#28372" class="Bound">ϱ</a><a id="28413" class="Symbol">)</a>
<a id="28415" href="/lia/part1/Semantics/#27142" class="Function">distrAndOr-left</a> <a id="28431" href="/lia/part1/Semantics/#28431" class="Bound">φ</a> <a id="28433" href="/lia/part1/Semantics/#28433" class="Bound">ψ</a> <a id="28435" href="/lia/part1/Semantics/#28435" class="Bound">ξ</a> <a id="28437" href="/lia/part1/Semantics/#28437" class="Bound">ϱ</a> <a id="28439" class="Symbol">=</a> <a id="28441" href="/lia/part0/Booleans/#4964" class="Function">distr-left-∧∨𝔹</a> <a id="28456" class="Symbol">(</a><a id="28457" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28459" href="/lia/part1/Semantics/#28431" class="Bound">φ</a> <a id="28461" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28463" href="/lia/part1/Semantics/#28437" class="Bound">ϱ</a><a id="28464" class="Symbol">)</a> <a id="28466" class="Symbol">(</a><a id="28467" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28469" href="/lia/part1/Semantics/#28433" class="Bound">ψ</a> <a id="28471" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28473" href="/lia/part1/Semantics/#28437" class="Bound">ϱ</a><a id="28474" class="Symbol">)</a> <a id="28476" class="Symbol">(</a><a id="28477" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28479" href="/lia/part1/Semantics/#28435" class="Bound">ξ</a> <a id="28481" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28483" href="/lia/part1/Semantics/#28437" class="Bound">ϱ</a><a id="28484" class="Symbol">)</a>
<a id="28486" href="/lia/part1/Semantics/#27198" class="Function">distrAndOr-right</a> <a id="28503" href="/lia/part1/Semantics/#28503" class="Bound">φ</a> <a id="28505" href="/lia/part1/Semantics/#28505" class="Bound">ψ</a> <a id="28507" href="/lia/part1/Semantics/#28507" class="Bound">ξ</a> <a id="28509" href="/lia/part1/Semantics/#28509" class="Bound">ϱ</a> <a id="28511" class="Symbol">=</a> <a id="28513" href="/lia/part0/Booleans/#5273" class="Function">distr-right-∧∨𝔹</a> <a id="28529" class="Symbol">(</a><a id="28530" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28532" href="/lia/part1/Semantics/#28503" class="Bound">φ</a> <a id="28534" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28536" href="/lia/part1/Semantics/#28509" class="Bound">ϱ</a><a id="28537" class="Symbol">)</a> <a id="28539" class="Symbol">(</a><a id="28540" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28542" href="/lia/part1/Semantics/#28505" class="Bound">ψ</a> <a id="28544" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28546" href="/lia/part1/Semantics/#28509" class="Bound">ϱ</a><a id="28547" class="Symbol">)</a> <a id="28549" class="Symbol">(</a><a id="28550" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28552" href="/lia/part1/Semantics/#28507" class="Bound">ξ</a> <a id="28554" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28556" href="/lia/part1/Semantics/#28509" class="Bound">ϱ</a><a id="28557" class="Symbol">)</a>

<a id="28560" href="/lia/part1/Semantics/#27256" class="Function">expandImplies</a> <a id="28574" href="/lia/part1/Semantics/#28574" class="Bound">φ</a> <a id="28576" href="/lia/part1/Semantics/#28576" class="Bound">ψ</a> <a id="28578" href="/lia/part1/Semantics/#28578" class="Bound">ϱ</a> <a id="28580" class="Keyword">with</a> <a id="28585" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28587" href="/lia/part1/Semantics/#28574" class="Bound">φ</a> <a id="28589" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28591" href="/lia/part1/Semantics/#28578" class="Bound">ϱ</a> <a id="28593" class="Symbol">|</a> <a id="28595" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28597" href="/lia/part1/Semantics/#28576" class="Bound">ψ</a> <a id="28599" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28601" href="/lia/part1/Semantics/#28578" class="Bound">ϱ</a>
<a id="28603" class="Symbol">...</a> <a id="28607" class="Symbol">|</a> <a id="28609" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="28612" class="Symbol">|</a> <a id="28614" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="28617" class="Symbol">=</a> <a id="28619" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="28624" class="Symbol">...</a> <a id="28628" class="Symbol">|</a> <a id="28630" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="28633" class="Symbol">|</a> <a id="28635" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="28638" class="Symbol">=</a> <a id="28640" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="28645" class="Symbol">...</a> <a id="28649" class="Symbol">|</a> <a id="28651" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="28654" class="Symbol">|</a> <a id="28656" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="28659" class="Symbol">=</a> <a id="28661" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="28666" class="Symbol">...</a> <a id="28670" class="Symbol">|</a> <a id="28672" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="28675" class="Symbol">|</a> <a id="28677" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="28680" class="Symbol">=</a> <a id="28682" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="28688" href="/lia/part1/Semantics/#27296" class="Function">expandIff</a> <a id="28698" href="/lia/part1/Semantics/#28698" class="Bound">φ</a> <a id="28700" href="/lia/part1/Semantics/#28700" class="Bound">ψ</a> <a id="28702" href="/lia/part1/Semantics/#28702" class="Bound">ϱ</a> <a id="28704" class="Keyword">with</a> <a id="28709" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28711" href="/lia/part1/Semantics/#28698" class="Bound">φ</a> <a id="28713" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28715" href="/lia/part1/Semantics/#28702" class="Bound">ϱ</a> <a id="28717" class="Symbol">|</a> <a id="28719" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28721" href="/lia/part1/Semantics/#28700" class="Bound">ψ</a> <a id="28723" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28725" href="/lia/part1/Semantics/#28702" class="Bound">ϱ</a>
<a id="28727" class="Symbol">...</a> <a id="28731" class="Symbol">|</a> <a id="28733" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="28736" class="Symbol">|</a> <a id="28738" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="28741" class="Symbol">=</a> <a id="28743" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="28748" class="Symbol">...</a> <a id="28752" class="Symbol">|</a> <a id="28754" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="28757" class="Symbol">|</a> <a id="28759" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="28762" class="Symbol">=</a> <a id="28764" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="28769" class="Symbol">...</a> <a id="28773" class="Symbol">|</a> <a id="28775" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="28778" class="Symbol">|</a> <a id="28780" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="28783" class="Symbol">=</a> <a id="28785" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="28790" class="Symbol">...</a> <a id="28794" class="Symbol">|</a> <a id="28796" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="28799" class="Symbol">|</a> <a id="28801" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="28804" class="Symbol">=</a> <a id="28806" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="28812" href="/lia/part1/Semantics/#27347" class="Function">doubleNegationLaw</a> <a id="28830" href="/lia/part1/Semantics/#28830" class="Bound">φ</a> <a id="28832" href="/lia/part1/Semantics/#28832" class="Bound">ϱ</a> <a id="28834" class="Keyword">with</a> <a id="28839" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28841" href="/lia/part1/Semantics/#28830" class="Bound">φ</a> <a id="28843" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28845" href="/lia/part1/Semantics/#28832" class="Bound">ϱ</a>
<a id="28847" class="Symbol">...</a> <a id="28851" class="Symbol">|</a> <a id="28853" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="28856" class="Symbol">=</a> <a id="28858" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="28863" class="Symbol">...</a> <a id="28867" class="Symbol">|</a> <a id="28869" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="28872" class="Symbol">=</a> <a id="28874" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="28880" href="/lia/part1/Semantics/#27383" class="Function">deMorganAnd</a> <a id="28892" href="/lia/part1/Semantics/#28892" class="Bound">φ</a> <a id="28894" href="/lia/part1/Semantics/#28894" class="Bound">ψ</a> <a id="28896" href="/lia/part1/Semantics/#28896" class="Bound">ϱ</a> <a id="28898" class="Keyword">with</a> <a id="28903" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28905" href="/lia/part1/Semantics/#28892" class="Bound">φ</a> <a id="28907" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28909" href="/lia/part1/Semantics/#28896" class="Bound">ϱ</a> <a id="28911" class="Symbol">|</a> <a id="28913" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="28915" href="/lia/part1/Semantics/#28894" class="Bound">ψ</a> <a id="28917" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="28919" href="/lia/part1/Semantics/#28896" class="Bound">ϱ</a>
<a id="28921" class="Symbol">...</a> <a id="28925" class="Symbol">|</a> <a id="28927" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="28930" class="Symbol">|</a> <a id="28932" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="28935" class="Symbol">=</a> <a id="28937" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="28942" class="Symbol">...</a> <a id="28946" class="Symbol">|</a> <a id="28948" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="28951" class="Symbol">|</a> <a id="28953" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="28956" class="Symbol">=</a> <a id="28958" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="28963" class="Symbol">...</a> <a id="28967" class="Symbol">|</a> <a id="28969" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="28972" class="Symbol">|</a> <a id="28974" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="28977" class="Symbol">=</a> <a id="28979" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="28984" class="Symbol">...</a> <a id="28988" class="Symbol">|</a> <a id="28990" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="28993" class="Symbol">|</a> <a id="28995" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="28998" class="Symbol">=</a> <a id="29000" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="29006" href="/lia/part1/Semantics/#27427" class="Function">deMorganOr</a> <a id="29017" href="/lia/part1/Semantics/#29017" class="Bound">φ</a> <a id="29019" href="/lia/part1/Semantics/#29019" class="Bound">ψ</a> <a id="29021" href="/lia/part1/Semantics/#29021" class="Bound">ϱ</a> <a id="29023" class="Keyword">with</a> <a id="29028" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="29030" href="/lia/part1/Semantics/#29017" class="Bound">φ</a> <a id="29032" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="29034" href="/lia/part1/Semantics/#29021" class="Bound">ϱ</a> <a id="29036" class="Symbol">|</a> <a id="29038" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="29040" href="/lia/part1/Semantics/#29019" class="Bound">ψ</a> <a id="29042" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="29044" href="/lia/part1/Semantics/#29021" class="Bound">ϱ</a>
<a id="29046" class="Symbol">...</a> <a id="29050" class="Symbol">|</a> <a id="29052" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="29055" class="Symbol">|</a> <a id="29057" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="29060" class="Symbol">=</a> <a id="29062" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="29067" class="Symbol">...</a> <a id="29071" class="Symbol">|</a> <a id="29073" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="29076" class="Symbol">|</a> <a id="29078" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="29081" class="Symbol">=</a> <a id="29083" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="29088" class="Symbol">...</a> <a id="29092" class="Symbol">|</a> <a id="29094" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="29097" class="Symbol">|</a> <a id="29099" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="29102" class="Symbol">=</a> <a id="29104" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="29109" class="Symbol">...</a> <a id="29113" class="Symbol">|</a> <a id="29115" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="29118" class="Symbol">|</a> <a id="29120" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="29123" class="Symbol">=</a> <a id="29125" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="29131" href="/lia/part1/Semantics/#27470" class="Function">deMorganOr-alt</a> <a id="29146" href="/lia/part1/Semantics/#29146" class="Bound">φ</a> <a id="29148" href="/lia/part1/Semantics/#29148" class="Bound">ψ</a> <a id="29150" href="/lia/part1/Semantics/#29150" class="Bound">ϱ</a> <a id="29152" class="Keyword">with</a> <a id="29157" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="29159" href="/lia/part1/Semantics/#29146" class="Bound">φ</a> <a id="29161" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="29163" href="/lia/part1/Semantics/#29150" class="Bound">ϱ</a> <a id="29165" class="Symbol">|</a> <a id="29167" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="29169" href="/lia/part1/Semantics/#29148" class="Bound">ψ</a> <a id="29171" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="29173" href="/lia/part1/Semantics/#29150" class="Bound">ϱ</a>
<a id="29175" class="Symbol">...</a> <a id="29179" class="Symbol">|</a> <a id="29181" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="29184" class="Symbol">|</a> <a id="29186" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="29189" class="Symbol">=</a> <a id="29191" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="29196" class="Symbol">...</a> <a id="29200" class="Symbol">|</a> <a id="29202" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="29205" class="Symbol">|</a> <a id="29207" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="29210" class="Symbol">=</a> <a id="29212" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="29217" class="Symbol">...</a> <a id="29221" class="Symbol">|</a> <a id="29223" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="29226" class="Symbol">|</a> <a id="29228" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="29231" class="Symbol">=</a> <a id="29233" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="29238" class="Symbol">...</a> <a id="29242" class="Symbol">|</a> <a id="29244" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="29247" class="Symbol">|</a> <a id="29249" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="29252" class="Symbol">=</a> <a id="29254" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="29260" href="/lia/part1/Semantics/#27517" class="Function">deMorganImplies</a> <a id="29276" href="/lia/part1/Semantics/#29276" class="Bound">φ</a> <a id="29278" href="/lia/part1/Semantics/#29278" class="Bound">ψ</a> <a id="29280" href="/lia/part1/Semantics/#29280" class="Bound">ϱ</a> <a id="29282" class="Keyword">with</a> <a id="29287" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="29289" href="/lia/part1/Semantics/#29276" class="Bound">φ</a> <a id="29291" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="29293" href="/lia/part1/Semantics/#29280" class="Bound">ϱ</a> <a id="29295" class="Symbol">|</a> <a id="29297" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="29299" href="/lia/part1/Semantics/#29278" class="Bound">ψ</a> <a id="29301" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="29303" href="/lia/part1/Semantics/#29280" class="Bound">ϱ</a>
<a id="29305" class="Symbol">...</a> <a id="29309" class="Symbol">|</a> <a id="29311" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="29314" class="Symbol">|</a> <a id="29316" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="29319" class="Symbol">=</a> <a id="29321" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="29326" class="Symbol">...</a> <a id="29330" class="Symbol">|</a> <a id="29332" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="29335" class="Symbol">|</a> <a id="29337" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="29340" class="Symbol">=</a> <a id="29342" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="29347" class="Symbol">...</a> <a id="29351" class="Symbol">|</a> <a id="29353" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="29356" class="Symbol">|</a> <a id="29358" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="29361" class="Symbol">=</a> <a id="29363" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="29368" class="Symbol">...</a> <a id="29372" class="Symbol">|</a> <a id="29374" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="29377" class="Symbol">|</a> <a id="29379" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="29382" class="Symbol">=</a> <a id="29384" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="29390" href="/lia/part1/Semantics/#27563" class="Function">deMorganIff-left</a> <a id="29407" href="/lia/part1/Semantics/#29407" class="Bound">φ</a> <a id="29409" href="/lia/part1/Semantics/#29409" class="Bound">ψ</a> <a id="29411" href="/lia/part1/Semantics/#29411" class="Bound">ϱ</a> <a id="29413" class="Keyword">with</a> <a id="29418" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="29420" href="/lia/part1/Semantics/#29407" class="Bound">φ</a> <a id="29422" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="29424" href="/lia/part1/Semantics/#29411" class="Bound">ϱ</a> <a id="29426" class="Symbol">|</a> <a id="29428" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="29430" href="/lia/part1/Semantics/#29409" class="Bound">ψ</a> <a id="29432" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="29434" href="/lia/part1/Semantics/#29411" class="Bound">ϱ</a>
<a id="29436" class="Symbol">...</a> <a id="29440" class="Symbol">|</a> <a id="29442" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="29445" class="Symbol">|</a> <a id="29447" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="29450" class="Symbol">=</a> <a id="29452" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="29457" class="Symbol">...</a> <a id="29461" class="Symbol">|</a> <a id="29463" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="29466" class="Symbol">|</a> <a id="29468" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="29471" class="Symbol">=</a> <a id="29473" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="29478" class="Symbol">...</a> <a id="29482" class="Symbol">|</a> <a id="29484" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="29487" class="Symbol">|</a> <a id="29489" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="29492" class="Symbol">=</a> <a id="29494" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="29499" class="Symbol">...</a> <a id="29503" class="Symbol">|</a> <a id="29505" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="29508" class="Symbol">|</a> <a id="29510" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="29513" class="Symbol">=</a> <a id="29515" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="29521" href="/lia/part1/Semantics/#27610" class="Function">deMorganIff-right</a> <a id="29539" href="/lia/part1/Semantics/#29539" class="Bound">φ</a> <a id="29541" href="/lia/part1/Semantics/#29541" class="Bound">ψ</a> <a id="29543" href="/lia/part1/Semantics/#29543" class="Bound">ϱ</a> <a id="29545" class="Keyword">with</a> <a id="29550" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="29552" href="/lia/part1/Semantics/#29539" class="Bound">φ</a> <a id="29554" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="29556" href="/lia/part1/Semantics/#29543" class="Bound">ϱ</a> <a id="29558" class="Symbol">|</a> <a id="29560" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="29562" href="/lia/part1/Semantics/#29541" class="Bound">ψ</a> <a id="29564" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="29566" href="/lia/part1/Semantics/#29543" class="Bound">ϱ</a>
<a id="29568" class="Symbol">...</a> <a id="29572" class="Symbol">|</a> <a id="29574" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="29577" class="Symbol">|</a> <a id="29579" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="29582" class="Symbol">=</a> <a id="29584" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="29589" class="Symbol">...</a> <a id="29593" class="Symbol">|</a> <a id="29595" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="29598" class="Symbol">|</a> <a id="29600" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="29603" class="Symbol">=</a> <a id="29605" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="29610" class="Symbol">...</a> <a id="29614" class="Symbol">|</a> <a id="29616" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="29619" class="Symbol">|</a> <a id="29621" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="29624" class="Symbol">=</a> <a id="29626" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="29631" class="Symbol">...</a> <a id="29635" class="Symbol">|</a> <a id="29637" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="29640" class="Symbol">|</a> <a id="29642" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="29645" class="Symbol">=</a> <a id="29647" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:cong2F-solution">Solution to <a href="#exercise:cong2F" title="Exercise 11">Exercise 11</a>
</h6>

  <pre class="Agda"><a id="31421" href="/lia/part1/Semantics/#31168" class="Function">cong2F</a> <a id="31428" href="/lia/part1/Semantics/#31428" class="Bound">φ₀</a> <a id="31431" href="/lia/part1/Semantics/#31431" class="Bound">φ₁</a> <a id="31434" href="/lia/part1/Semantics/#31434" class="Bound">ψ₀</a> <a id="31437" href="/lia/part1/Semantics/#31437" class="Bound">ψ₁</a> <a id="31440" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="31442" href="/lia/part1/Semantics/#31442" class="Bound">p₀</a> <a id="31445" href="/lia/part1/Semantics/#31445" class="Bound">p₁</a> <a id="31448" href="/lia/part1/Semantics/#31448" class="Bound">φ₀⟺ψ₀</a> <a id="31454" href="/lia/part1/Semantics/#31454" class="Bound">φ₁⟺ψ₁</a> <a id="31460" href="/lia/part1/Semantics/#31460" class="Bound">ϱ</a> <a id="31462" class="Symbol">=</a> <a id="31464" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="31470" href="/lia/part1/Semantics/#31168" class="Function">cong2F</a> <a id="31477" href="/lia/part1/Semantics/#31477" class="Bound">φ₀</a> <a id="31480" href="/lia/part1/Semantics/#31480" class="Bound">φ₁</a> <a id="31483" href="/lia/part1/Semantics/#31483" class="Bound">ψ₀</a> <a id="31486" href="/lia/part1/Semantics/#31486" class="Bound">ψ₁</a> <a id="31489" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="31491" href="/lia/part1/Semantics/#31491" class="Bound">p₀</a> <a id="31494" href="/lia/part1/Semantics/#31494" class="Bound">p₁</a> <a id="31497" href="/lia/part1/Semantics/#31497" class="Bound">φ₀⟺ψ₀</a> <a id="31503" href="/lia/part1/Semantics/#31503" class="Bound">φ₁⟺ψ₁</a> <a id="31509" href="/lia/part1/Semantics/#31509" class="Bound">ϱ</a> <a id="31511" class="Symbol">=</a> <a id="31513" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="31519" href="/lia/part1/Semantics/#31168" class="Function">cong2F</a> <a id="31526" href="/lia/part1/Semantics/#31526" class="Bound">φ₀</a> <a id="31529" href="/lia/part1/Semantics/#31529" class="Bound">φ₁</a> <a id="31532" href="/lia/part1/Semantics/#31532" class="Bound">ψ₀</a> <a id="31535" href="/lia/part1/Semantics/#31535" class="Bound">ψ₁</a> <a id="31538" class="Symbol">(</a><a id="31539" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="31541" href="/lia/part1/Semantics/#31541" class="Bound">p</a><a id="31542" class="Symbol">)</a> <a id="31544" href="/lia/part1/Semantics/#31544" class="Bound">p₀</a> <a id="31547" href="/lia/part1/Semantics/#31547" class="Bound">p₁</a> <a id="31550" href="/lia/part1/Semantics/#31550" class="Bound">φ₀⟺ψ₀</a> <a id="31556" href="/lia/part1/Semantics/#31556" class="Bound">φ₁⟺ψ₁</a> <a id="31562" href="/lia/part1/Semantics/#31562" class="Bound">ϱ</a>
  <a id="31566" class="Keyword">with</a> <a id="31571" href="/lia/part1/Semantics/#31544" class="Bound">p₀</a> <a id="31574" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="31577" href="/lia/part1/Semantics/#31541" class="Bound">p</a>
<a id="31579" class="Symbol">...</a> <a id="31583" class="Symbol">|</a> <a id="31585" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="31589" class="Symbol">_</a> <a id="31591" class="Symbol">=</a> <a id="31593" class="Bound">φ₀⟺ψ₀</a> <a id="31599" class="Bound">ϱ</a>
<a id="31601" class="Symbol">...</a> <a id="31605" class="Symbol">|</a> <a id="31607" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31610" class="Symbol">_</a>
  <a id="31614" class="Keyword">with</a> <a id="31619" class="Bound">p₁</a> <a id="31622" href="/lia/part0/Equality/#2906" class="Field Operator">≡?</a> <a id="31625" class="Bound">p</a>
<a id="31627" class="Symbol">...</a> <a id="31631" class="Symbol">|</a> <a id="31633" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="31637" class="Symbol">_</a> <a id="31639" class="Symbol">=</a> <a id="31641" class="Bound">φ₁⟺ψ₁</a> <a id="31647" class="Bound">ϱ</a>
<a id="31649" class="Symbol">...</a> <a id="31653" class="Symbol">|</a> <a id="31655" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="31658" class="Symbol">_</a> <a id="31660" class="Symbol">=</a> <a id="31662" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="31668" href="/lia/part1/Semantics/#31168" class="Function">cong2F</a> <a id="31675" href="/lia/part1/Semantics/#31675" class="Bound">φ₀</a> <a id="31678" href="/lia/part1/Semantics/#31678" class="Bound">φ₁</a> <a id="31681" href="/lia/part1/Semantics/#31681" class="Bound">ψ₀</a> <a id="31684" href="/lia/part1/Semantics/#31684" class="Bound">ψ₁</a> <a id="31687" class="Symbol">(</a><a id="31688" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="31690" href="/lia/part1/Semantics/#31690" class="Bound">ξ</a><a id="31691" class="Symbol">)</a> <a id="31693" href="/lia/part1/Semantics/#31693" class="Bound">p₀</a> <a id="31696" href="/lia/part1/Semantics/#31696" class="Bound">p₁</a> <a id="31699" href="/lia/part1/Semantics/#31699" class="Bound">φ₀⟺ψ₀</a> <a id="31705" href="/lia/part1/Semantics/#31705" class="Bound">φ₁⟺ψ₁</a> <a id="31711" href="/lia/part1/Semantics/#31711" class="Bound">ϱ</a>
  <a id="31715" class="Keyword">with</a> <a id="31720" href="/lia/part1/Semantics/#31168" class="Function">cong2F</a> <a id="31727" href="/lia/part1/Semantics/#31675" class="Bound">φ₀</a> <a id="31730" href="/lia/part1/Semantics/#31678" class="Bound">φ₁</a> <a id="31733" href="/lia/part1/Semantics/#31681" class="Bound">ψ₀</a> <a id="31736" href="/lia/part1/Semantics/#31684" class="Bound">ψ₁</a> <a id="31739" href="/lia/part1/Semantics/#31690" class="Bound">ξ</a> <a id="31741" href="/lia/part1/Semantics/#31693" class="Bound">p₀</a> <a id="31744" href="/lia/part1/Semantics/#31696" class="Bound">p₁</a> <a id="31747" href="/lia/part1/Semantics/#31699" class="Bound">φ₀⟺ψ₀</a> <a id="31753" href="/lia/part1/Semantics/#31705" class="Bound">φ₁⟺ψ₁</a> <a id="31759" href="/lia/part1/Semantics/#31711" class="Bound">ϱ</a>
<a id="31761" class="Symbol">...</a> <a id="31765" class="Symbol">|</a> <a id="31767" href="/lia/part1/Semantics/#31767" class="Bound">ind</a> <a id="31771" class="Keyword">rewrite</a> <a id="31779" href="/lia/part1/Semantics/#31767" class="Bound">ind</a> <a id="31783" class="Symbol">=</a> <a id="31785" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="31791" href="/lia/part1/Semantics/#31168" class="Function">cong2F</a> <a id="31798" href="/lia/part1/Semantics/#31798" class="Bound">φ₀</a> <a id="31801" href="/lia/part1/Semantics/#31801" class="Bound">φ₁</a> <a id="31804" href="/lia/part1/Semantics/#31804" class="Bound">ψ₀</a> <a id="31807" href="/lia/part1/Semantics/#31807" class="Bound">ψ₁</a> <a id="31810" class="Symbol">(</a><a id="31811" href="/lia/part1/Semantics/#31811" class="Bound">ξ₀</a> <a id="31814" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="31816" href="/lia/part1/Semantics/#31816" class="Bound">ξ₁</a><a id="31818" class="Symbol">)</a> <a id="31820" href="/lia/part1/Semantics/#31820" class="Bound">p₀</a> <a id="31823" href="/lia/part1/Semantics/#31823" class="Bound">p₁</a> <a id="31826" href="/lia/part1/Semantics/#31826" class="Bound">φ₀⟺ψ₀</a> <a id="31832" href="/lia/part1/Semantics/#31832" class="Bound">φ₁⟺ψ₁</a> <a id="31838" href="/lia/part1/Semantics/#31838" class="Bound">ϱ</a>
  <a id="31842" class="Keyword">with</a> <a id="31847" href="/lia/part1/Semantics/#31168" class="Function">cong2F</a> <a id="31854" href="/lia/part1/Semantics/#31798" class="Bound">φ₀</a> <a id="31857" href="/lia/part1/Semantics/#31801" class="Bound">φ₁</a> <a id="31860" href="/lia/part1/Semantics/#31804" class="Bound">ψ₀</a> <a id="31863" href="/lia/part1/Semantics/#31807" class="Bound">ψ₁</a> <a id="31866" href="/lia/part1/Semantics/#31811" class="Bound">ξ₀</a> <a id="31869" href="/lia/part1/Semantics/#31820" class="Bound">p₀</a> <a id="31872" href="/lia/part1/Semantics/#31823" class="Bound">p₁</a> <a id="31875" href="/lia/part1/Semantics/#31826" class="Bound">φ₀⟺ψ₀</a> <a id="31881" href="/lia/part1/Semantics/#31832" class="Bound">φ₁⟺ψ₁</a> <a id="31887" href="/lia/part1/Semantics/#31838" class="Bound">ϱ</a> <a id="31889" class="Symbol">|</a>
       <a id="31898" href="/lia/part1/Semantics/#31168" class="Function">cong2F</a> <a id="31905" href="/lia/part1/Semantics/#31798" class="Bound">φ₀</a> <a id="31908" href="/lia/part1/Semantics/#31801" class="Bound">φ₁</a> <a id="31911" href="/lia/part1/Semantics/#31804" class="Bound">ψ₀</a> <a id="31914" href="/lia/part1/Semantics/#31807" class="Bound">ψ₁</a> <a id="31917" href="/lia/part1/Semantics/#31816" class="Bound">ξ₁</a> <a id="31920" href="/lia/part1/Semantics/#31820" class="Bound">p₀</a> <a id="31923" href="/lia/part1/Semantics/#31823" class="Bound">p₁</a> <a id="31926" href="/lia/part1/Semantics/#31826" class="Bound">φ₀⟺ψ₀</a> <a id="31932" href="/lia/part1/Semantics/#31832" class="Bound">φ₁⟺ψ₁</a> <a id="31938" href="/lia/part1/Semantics/#31838" class="Bound">ϱ</a>
<a id="31940" class="Symbol">...</a> <a id="31944" class="Symbol">|</a> <a id="31946" href="/lia/part1/Semantics/#31946" class="Bound">ind₀</a> <a id="31951" class="Symbol">|</a> <a id="31953" href="/lia/part1/Semantics/#31953" class="Bound">ind₁</a> <a id="31958" class="Keyword">rewrite</a> <a id="31966" href="/lia/part1/Semantics/#31946" class="Bound">ind₀</a> <a id="31971" class="Symbol">|</a> <a id="31973" href="/lia/part1/Semantics/#31953" class="Bound">ind₁</a> <a id="31978" class="Symbol">=</a> <a id="31980" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="31986" href="/lia/part1/Semantics/#31168" class="Function">cong2F</a> <a id="31993" href="/lia/part1/Semantics/#31993" class="Bound">φ₀</a> <a id="31996" href="/lia/part1/Semantics/#31996" class="Bound">φ₁</a> <a id="31999" href="/lia/part1/Semantics/#31999" class="Bound">ψ₀</a> <a id="32002" href="/lia/part1/Semantics/#32002" class="Bound">ψ₁</a> <a id="32005" class="Symbol">(</a><a id="32006" href="/lia/part1/Semantics/#32006" class="Bound">ξ₀</a> <a id="32009" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="32011" href="/lia/part1/Semantics/#32011" class="Bound">ξ₁</a><a id="32013" class="Symbol">)</a> <a id="32015" href="/lia/part1/Semantics/#32015" class="Bound">p₀</a> <a id="32018" href="/lia/part1/Semantics/#32018" class="Bound">p₁</a> <a id="32021" href="/lia/part1/Semantics/#32021" class="Bound">φ₀⟺ψ₀</a> <a id="32027" href="/lia/part1/Semantics/#32027" class="Bound">φ₁⟺ψ₁</a> <a id="32033" href="/lia/part1/Semantics/#32033" class="Bound">ϱ</a>
  <a id="32037" class="Keyword">with</a> <a id="32042" href="/lia/part1/Semantics/#31168" class="Function">cong2F</a> <a id="32049" href="/lia/part1/Semantics/#31993" class="Bound">φ₀</a> <a id="32052" href="/lia/part1/Semantics/#31996" class="Bound">φ₁</a> <a id="32055" href="/lia/part1/Semantics/#31999" class="Bound">ψ₀</a> <a id="32058" href="/lia/part1/Semantics/#32002" class="Bound">ψ₁</a> <a id="32061" href="/lia/part1/Semantics/#32006" class="Bound">ξ₀</a> <a id="32064" href="/lia/part1/Semantics/#32015" class="Bound">p₀</a> <a id="32067" href="/lia/part1/Semantics/#32018" class="Bound">p₁</a> <a id="32070" href="/lia/part1/Semantics/#32021" class="Bound">φ₀⟺ψ₀</a> <a id="32076" href="/lia/part1/Semantics/#32027" class="Bound">φ₁⟺ψ₁</a> <a id="32082" href="/lia/part1/Semantics/#32033" class="Bound">ϱ</a> <a id="32084" class="Symbol">|</a>
       <a id="32093" href="/lia/part1/Semantics/#31168" class="Function">cong2F</a> <a id="32100" href="/lia/part1/Semantics/#31993" class="Bound">φ₀</a> <a id="32103" href="/lia/part1/Semantics/#31996" class="Bound">φ₁</a> <a id="32106" href="/lia/part1/Semantics/#31999" class="Bound">ψ₀</a> <a id="32109" href="/lia/part1/Semantics/#32002" class="Bound">ψ₁</a> <a id="32112" href="/lia/part1/Semantics/#32011" class="Bound">ξ₁</a> <a id="32115" href="/lia/part1/Semantics/#32015" class="Bound">p₀</a> <a id="32118" href="/lia/part1/Semantics/#32018" class="Bound">p₁</a> <a id="32121" href="/lia/part1/Semantics/#32021" class="Bound">φ₀⟺ψ₀</a> <a id="32127" href="/lia/part1/Semantics/#32027" class="Bound">φ₁⟺ψ₁</a> <a id="32133" href="/lia/part1/Semantics/#32033" class="Bound">ϱ</a>
<a id="32135" class="Symbol">...</a> <a id="32139" class="Symbol">|</a> <a id="32141" href="/lia/part1/Semantics/#32141" class="Bound">ind₀</a> <a id="32146" class="Symbol">|</a> <a id="32148" href="/lia/part1/Semantics/#32148" class="Bound">ind₁</a> <a id="32153" class="Keyword">rewrite</a> <a id="32161" href="/lia/part1/Semantics/#32141" class="Bound">ind₀</a> <a id="32166" class="Symbol">|</a> <a id="32168" href="/lia/part1/Semantics/#32148" class="Bound">ind₁</a> <a id="32173" class="Symbol">=</a> <a id="32175" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="32181" href="/lia/part1/Semantics/#31168" class="Function">cong2F</a> <a id="32188" href="/lia/part1/Semantics/#32188" class="Bound">φ₀</a> <a id="32191" href="/lia/part1/Semantics/#32191" class="Bound">φ₁</a> <a id="32194" href="/lia/part1/Semantics/#32194" class="Bound">ψ₀</a> <a id="32197" href="/lia/part1/Semantics/#32197" class="Bound">ψ₁</a> <a id="32200" class="Symbol">(</a><a id="32201" href="/lia/part1/Semantics/#32201" class="Bound">ξ₀</a> <a id="32204" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="32206" href="/lia/part1/Semantics/#32206" class="Bound">ξ₁</a><a id="32208" class="Symbol">)</a> <a id="32210" href="/lia/part1/Semantics/#32210" class="Bound">p₀</a> <a id="32213" href="/lia/part1/Semantics/#32213" class="Bound">p₁</a> <a id="32216" href="/lia/part1/Semantics/#32216" class="Bound">φ₀⟺ψ₀</a> <a id="32222" href="/lia/part1/Semantics/#32222" class="Bound">φ₁⟺ψ₁</a> <a id="32228" href="/lia/part1/Semantics/#32228" class="Bound">ϱ</a>
  <a id="32232" class="Keyword">with</a> <a id="32237" href="/lia/part1/Semantics/#31168" class="Function">cong2F</a> <a id="32244" href="/lia/part1/Semantics/#32188" class="Bound">φ₀</a> <a id="32247" href="/lia/part1/Semantics/#32191" class="Bound">φ₁</a> <a id="32250" href="/lia/part1/Semantics/#32194" class="Bound">ψ₀</a> <a id="32253" href="/lia/part1/Semantics/#32197" class="Bound">ψ₁</a> <a id="32256" href="/lia/part1/Semantics/#32201" class="Bound">ξ₀</a> <a id="32259" href="/lia/part1/Semantics/#32210" class="Bound">p₀</a> <a id="32262" href="/lia/part1/Semantics/#32213" class="Bound">p₁</a> <a id="32265" href="/lia/part1/Semantics/#32216" class="Bound">φ₀⟺ψ₀</a> <a id="32271" href="/lia/part1/Semantics/#32222" class="Bound">φ₁⟺ψ₁</a> <a id="32277" href="/lia/part1/Semantics/#32228" class="Bound">ϱ</a> <a id="32279" class="Symbol">|</a>
       <a id="32288" href="/lia/part1/Semantics/#31168" class="Function">cong2F</a> <a id="32295" href="/lia/part1/Semantics/#32188" class="Bound">φ₀</a> <a id="32298" href="/lia/part1/Semantics/#32191" class="Bound">φ₁</a> <a id="32301" href="/lia/part1/Semantics/#32194" class="Bound">ψ₀</a> <a id="32304" href="/lia/part1/Semantics/#32197" class="Bound">ψ₁</a> <a id="32307" href="/lia/part1/Semantics/#32206" class="Bound">ξ₁</a> <a id="32310" href="/lia/part1/Semantics/#32210" class="Bound">p₀</a> <a id="32313" href="/lia/part1/Semantics/#32213" class="Bound">p₁</a> <a id="32316" href="/lia/part1/Semantics/#32216" class="Bound">φ₀⟺ψ₀</a> <a id="32322" href="/lia/part1/Semantics/#32222" class="Bound">φ₁⟺ψ₁</a> <a id="32328" href="/lia/part1/Semantics/#32228" class="Bound">ϱ</a>
<a id="32330" class="Symbol">...</a> <a id="32334" class="Symbol">|</a> <a id="32336" href="/lia/part1/Semantics/#32336" class="Bound">ind₀</a> <a id="32341" class="Symbol">|</a> <a id="32343" href="/lia/part1/Semantics/#32343" class="Bound">ind₁</a> <a id="32348" class="Keyword">rewrite</a> <a id="32356" href="/lia/part1/Semantics/#32336" class="Bound">ind₀</a> <a id="32361" class="Symbol">|</a> <a id="32363" href="/lia/part1/Semantics/#32343" class="Bound">ind₁</a> <a id="32368" class="Symbol">=</a> <a id="32370" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="32376" href="/lia/part1/Semantics/#31168" class="Function">cong2F</a> <a id="32383" href="/lia/part1/Semantics/#32383" class="Bound">φ₀</a> <a id="32386" href="/lia/part1/Semantics/#32386" class="Bound">φ₁</a> <a id="32389" href="/lia/part1/Semantics/#32389" class="Bound">ψ₀</a> <a id="32392" href="/lia/part1/Semantics/#32392" class="Bound">ψ₁</a> <a id="32395" class="Symbol">(</a><a id="32396" href="/lia/part1/Semantics/#32396" class="Bound">ξ₀</a> <a id="32399" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="32401" href="/lia/part1/Semantics/#32401" class="Bound">ξ₁</a><a id="32403" class="Symbol">)</a> <a id="32405" href="/lia/part1/Semantics/#32405" class="Bound">p₀</a> <a id="32408" href="/lia/part1/Semantics/#32408" class="Bound">p₁</a> <a id="32411" href="/lia/part1/Semantics/#32411" class="Bound">φ₀⟺ψ₀</a> <a id="32417" href="/lia/part1/Semantics/#32417" class="Bound">φ₁⟺ψ₁</a> <a id="32423" href="/lia/part1/Semantics/#32423" class="Bound">ϱ</a>
  <a id="32427" class="Keyword">with</a> <a id="32432" href="/lia/part1/Semantics/#31168" class="Function">cong2F</a> <a id="32439" href="/lia/part1/Semantics/#32383" class="Bound">φ₀</a> <a id="32442" href="/lia/part1/Semantics/#32386" class="Bound">φ₁</a> <a id="32445" href="/lia/part1/Semantics/#32389" class="Bound">ψ₀</a> <a id="32448" href="/lia/part1/Semantics/#32392" class="Bound">ψ₁</a> <a id="32451" href="/lia/part1/Semantics/#32396" class="Bound">ξ₀</a> <a id="32454" href="/lia/part1/Semantics/#32405" class="Bound">p₀</a> <a id="32457" href="/lia/part1/Semantics/#32408" class="Bound">p₁</a> <a id="32460" href="/lia/part1/Semantics/#32411" class="Bound">φ₀⟺ψ₀</a> <a id="32466" href="/lia/part1/Semantics/#32417" class="Bound">φ₁⟺ψ₁</a> <a id="32472" href="/lia/part1/Semantics/#32423" class="Bound">ϱ</a> <a id="32474" class="Symbol">|</a>
       <a id="32483" href="/lia/part1/Semantics/#31168" class="Function">cong2F</a> <a id="32490" href="/lia/part1/Semantics/#32383" class="Bound">φ₀</a> <a id="32493" href="/lia/part1/Semantics/#32386" class="Bound">φ₁</a> <a id="32496" href="/lia/part1/Semantics/#32389" class="Bound">ψ₀</a> <a id="32499" href="/lia/part1/Semantics/#32392" class="Bound">ψ₁</a> <a id="32502" href="/lia/part1/Semantics/#32401" class="Bound">ξ₁</a> <a id="32505" href="/lia/part1/Semantics/#32405" class="Bound">p₀</a> <a id="32508" href="/lia/part1/Semantics/#32408" class="Bound">p₁</a> <a id="32511" href="/lia/part1/Semantics/#32411" class="Bound">φ₀⟺ψ₀</a> <a id="32517" href="/lia/part1/Semantics/#32417" class="Bound">φ₁⟺ψ₁</a> <a id="32523" href="/lia/part1/Semantics/#32423" class="Bound">ϱ</a>
<a id="32525" class="Symbol">...</a> <a id="32529" class="Symbol">|</a> <a id="32531" href="/lia/part1/Semantics/#32531" class="Bound">ind₀</a> <a id="32536" class="Symbol">|</a> <a id="32538" href="/lia/part1/Semantics/#32538" class="Bound">ind₁</a> <a id="32543" class="Keyword">rewrite</a> <a id="32551" href="/lia/part1/Semantics/#32531" class="Bound">ind₀</a> <a id="32556" class="Symbol">|</a> <a id="32558" href="/lia/part1/Semantics/#32538" class="Bound">ind₁</a> <a id="32563" class="Symbol">=</a> <a id="32565" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:tau-sat-solution">Solution to <a href="#exercise:tau-sat" title="Exercise 12">Exercise 12</a>
</h6>

  <p>One possible property is the following:</p>

  <pre class="Agda"><a id="tau-sat"></a><a id="34049" href="/lia/part1/Semantics/#34049" class="Function">tau-sat</a> <a id="34057" class="Symbol">:</a> <a id="34059" class="Symbol">∀</a> <a id="34061" href="/lia/part1/Semantics/#34061" class="Bound">φ</a> <a id="34063" class="Symbol">→</a> <a id="34065" href="/lia/part1/Semantics/#19630" class="Function">Tautology</a> <a id="34075" href="/lia/part1/Semantics/#34061" class="Bound">φ</a> <a id="34077" href="/lia/part0/Logic/#3145" class="Function Operator">↔</a> <a id="34079" href="/lia/part0/Logic/#2336" class="Function Operator">~</a> <a id="34081" href="/lia/part1/Semantics/#32982" class="Function">Sat</a> <a id="34085" class="Symbol">(</a><a id="34086" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="34088" href="/lia/part1/Semantics/#34061" class="Bound">φ</a><a id="34089" class="Symbol">)</a>
<a id="34091" href="/lia/part1/Semantics/#34049" class="Function">tau-sat</a> <a id="34099" href="/lia/part1/Semantics/#34099" class="Bound">φ</a> <a id="34101" class="Symbol">=</a> <a id="34103" href="/lia/part1/Semantics/#34130" class="Function">tau→sat</a> <a id="34111" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="34113" href="/lia/part1/Semantics/#34344" class="Function">sat→tau</a> <a id="34121" class="Keyword">where</a>

  <a id="34130" href="/lia/part1/Semantics/#34130" class="Function">tau→sat</a> <a id="34138" class="Symbol">:</a> <a id="34140" href="/lia/part1/Semantics/#19630" class="Function">Tautology</a> <a id="34150" href="/lia/part1/Semantics/#34099" class="Bound">φ</a> <a id="34152" class="Symbol">→</a> <a id="34154" href="/lia/part0/Logic/#2336" class="Function Operator">~</a> <a id="34156" href="/lia/part1/Semantics/#32982" class="Function">Sat</a> <a id="34160" class="Symbol">(</a><a id="34161" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="34163" href="/lia/part1/Semantics/#34099" class="Bound">φ</a><a id="34164" class="Symbol">)</a>
  <a id="34168" href="/lia/part1/Semantics/#34130" class="Function">tau→sat</a> <a id="34176" href="/lia/part1/Semantics/#34176" class="Bound">tauφ</a> <a id="34181" class="Symbol">(</a><a id="34182" href="/lia/part1/Semantics/#34182" class="Bound">ϱ</a> <a id="34184" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="34186" href="/lia/part1/Semantics/#34186" class="Bound">⟦¬φ⟧ϱ≡tt</a><a id="34194" class="Symbol">)</a>
    <a id="34200" class="Keyword">with</a> <a id="34205" href="/lia/part0/Equality/#4517" class="Function">inspect</a> <a id="34213" class="Symbol">(</a><a id="34214" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="34216" href="/lia/part1/Semantics/#34099" class="Bound">φ</a> <a id="34218" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="34220" href="/lia/part1/Semantics/#34182" class="Bound">ϱ</a><a id="34221" class="Symbol">)</a>
  <a id="34225" class="Symbol">...</a> <a id="34229" class="Symbol">|</a> <a id="34231" href="/lia/part0/Equality/#4483" class="InductiveConstructor">it</a> <a id="34234" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="34237" href="/lia/part1/Semantics/#34237" class="Bound">⟦φ⟧ϱ≡tt</a> <a id="34245" class="Keyword">rewrite</a> <a id="34253" href="/lia/part1/Semantics/#34237" class="Bound">⟦φ⟧ϱ≡tt</a> <a id="34261" class="Symbol">=</a> <a id="34263" href="/lia/part0/Booleans/#467" class="Function">ff≢tt</a> <a id="34269" class="Bound">⟦¬φ⟧ϱ≡tt</a>
  <a id="34280" class="Symbol">...</a> <a id="34284" class="Symbol">|</a> <a id="34286" href="/lia/part0/Equality/#4483" class="InductiveConstructor">it</a> <a id="34289" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="34292" href="/lia/part1/Semantics/#34292" class="Bound">⟦φ⟧ϱ≡ff</a> <a id="34300" class="Symbol">=</a> <a id="34302" href="/lia/part0/Booleans/#467" class="Function">ff≢tt</a> <a id="34308" class="Symbol">(</a><a id="34309" href="/lia/part0/Equality/#729" class="Function">trans</a> <a id="34315" class="Symbol">(</a><a id="34316" href="/lia/part0/Equality/#458" class="Function">sym</a> <a id="34320" href="/lia/part1/Semantics/#34292" class="Bound">⟦φ⟧ϱ≡ff</a><a id="34327" class="Symbol">)</a> <a id="34329" class="Symbol">(</a><a id="34330" class="Bound">tauφ</a> <a id="34335" class="Bound">ϱ</a><a id="34336" class="Symbol">))</a>
  
  <a id="34344" href="/lia/part1/Semantics/#34344" class="Function">sat→tau</a> <a id="34352" class="Symbol">:</a> <a id="34354" href="/lia/part0/Logic/#2336" class="Function Operator">~</a> <a id="34356" href="/lia/part1/Semantics/#32982" class="Function">Sat</a> <a id="34360" class="Symbol">(</a><a id="34361" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="34363" href="/lia/part1/Semantics/#34099" class="Bound">φ</a><a id="34364" class="Symbol">)</a> <a id="34366" class="Symbol">→</a> <a id="34368" href="/lia/part1/Semantics/#19630" class="Function">Tautology</a> <a id="34378" href="/lia/part1/Semantics/#34099" class="Bound">φ</a>
  <a id="34382" href="/lia/part1/Semantics/#34344" class="Function">sat→tau</a> <a id="34390" href="/lia/part1/Semantics/#34390" class="Bound">~Sat¬φ</a> <a id="34397" href="/lia/part1/Semantics/#34397" class="Bound">ϱ</a>
    <a id="34403" class="Keyword">with</a> <a id="34408" href="/lia/part0/Equality/#4517" class="Function">inspect</a> <a id="34416" class="Symbol">(</a><a id="34417" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="34419" href="/lia/part1/Semantics/#34099" class="Bound">φ</a> <a id="34421" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="34423" href="/lia/part1/Semantics/#34397" class="Bound">ϱ</a><a id="34424" class="Symbol">)</a>
  <a id="34428" class="Symbol">...</a> <a id="34432" class="Symbol">|</a> <a id="34434" href="/lia/part0/Equality/#4483" class="InductiveConstructor">it</a> <a id="34437" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="34440" href="/lia/part1/Semantics/#34440" class="Bound">⟦φ⟧ϱ≡tt</a> <a id="34448" class="Symbol">=</a> <a id="34450" href="/lia/part1/Semantics/#34440" class="Bound">⟦φ⟧ϱ≡tt</a>
  <a id="34460" class="Symbol">...</a> <a id="34464" class="Symbol">|</a> <a id="34466" href="/lia/part0/Equality/#4483" class="InductiveConstructor">it</a> <a id="34469" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="34472" href="/lia/part1/Semantics/#34472" class="Bound">⟦φ⟧ϱ≡ff</a> <a id="34480" class="Symbol">=</a> <a id="34482" href="/lia/part0/Logic/#2277" class="Function">F-elim</a> <a id="34489" class="Symbol">(</a><a id="34490" class="Bound">~Sat¬φ</a> <a id="34497" class="Symbol">(</a><a id="34498" class="Bound">ϱ</a> <a id="34500" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="34502" href="/lia/part1/Semantics/#34525" class="Function">¬𝔹⟦φ⟧ϱ≡tt</a><a id="34511" class="Symbol">))</a> <a id="34514" class="Keyword">where</a>

    <a id="34525" href="/lia/part1/Semantics/#34525" class="Function">¬𝔹⟦φ⟧ϱ≡tt</a> <a id="34535" class="Symbol">:</a> <a id="34537" href="/lia/part0/Booleans/#1119" class="Function Operator">¬𝔹</a> <a id="34540" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="34542" href="/lia/part1/Semantics/#34099" class="Bound">φ</a> <a id="34544" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="34546" class="Bound">ϱ</a> <a id="34548" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="34550" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a>
    <a id="34557" href="/lia/part1/Semantics/#34525" class="Function">¬𝔹⟦φ⟧ϱ≡tt</a> <a id="34567" class="Keyword">rewrite</a> <a id="34575" href="/lia/part1/Semantics/#34472" class="Bound">⟦φ⟧ϱ≡ff</a> <a id="34583" class="Symbol">=</a> <a id="34585" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:equiv-unsat-solution">Solution to <a href="#exercise:equiv-unsat" title="Exercise 13">Exercise 13</a>
</h6>

  <p>One possible property is that a formula is unsatisfiable if, and only
if, it is logically equivalent to <a href="#%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> :</p>

  <pre class="Agda"><a id="equiv↔unsat"></a><a id="35089" href="/lia/part1/Semantics/#35089" class="Function">equiv↔unsat</a> <a id="35101" class="Symbol">:</a> <a id="35103" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="35105" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="35107" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="35109" href="/lia/part0/Logic/#3145" class="Function Operator">↔</a> <a id="35111" href="/lia/part0/Logic/#2336" class="Function Operator">~</a> <a id="35113" href="/lia/part1/Semantics/#32982" class="Function">Sat</a> <a id="35117" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a></pre>

  <p>We prove the two directions separately:</p>

  <pre class="Agda"><a id="equiv→unsat"></a><a id="35169" href="/lia/part1/Semantics/#35169" class="Function">equiv→unsat</a> <a id="35181" class="Symbol">:</a> <a id="35183" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="35185" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="35187" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="35189" class="Symbol">→</a> <a id="35191" href="/lia/part0/Logic/#2336" class="Function Operator">~</a> <a id="35193" href="/lia/part1/Semantics/#32982" class="Function">Sat</a> <a id="35197" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a>
<a id="35199" href="/lia/part1/Semantics/#35169" class="Function">equiv→unsat</a> <a id="35211" href="/lia/part1/Semantics/#35211" class="Bound">φ⟺⊥</a> <a id="35215" class="Symbol">(</a><a id="35216" href="/lia/part1/Semantics/#35216" class="Bound">ϱ</a> <a id="35218" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="35220" href="/lia/part1/Semantics/#35220" class="Bound">⟦φ⟧ϱ≡tt</a><a id="35227" class="Symbol">)</a>
  <a id="35231" class="Keyword">with</a> <a id="35236" href="/lia/part1/Semantics/#35211" class="Bound">φ⟺⊥</a> <a id="35240" href="/lia/part1/Semantics/#35216" class="Bound">ϱ</a>
<a id="35242" class="Symbol">...</a> <a id="35246" class="Symbol">|</a> <a id="35248" href="/lia/part1/Semantics/#35248" class="Bound">⟦φ⟧ϱ≡ff</a> <a id="35256" class="Symbol">=</a> <a id="35258" href="/lia/part0/Booleans/#639" class="Function">a≡ff→a≡tt-elim</a> <a id="35273" href="/lia/part1/Semantics/#35248" class="Bound">⟦φ⟧ϱ≡ff</a> <a id="35281" class="Bound">⟦φ⟧ϱ≡tt</a></pre>
  <pre class="Agda"><a id="unsat→equiv"></a><a id="35298" href="/lia/part1/Semantics/#35298" class="Function">unsat→equiv</a> <a id="35310" class="Symbol">:</a> <a id="35312" href="/lia/part0/Logic/#2336" class="Function Operator">~</a> <a id="35314" href="/lia/part1/Semantics/#32982" class="Function">Sat</a> <a id="35318" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="35320" class="Symbol">→</a> <a id="35322" href="/lia/part1/Semantics/#3735" class="Generalizable">φ</a> <a id="35324" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="35326" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a>
<a id="35328" href="/lia/part1/Semantics/#35298" class="Function">unsat→equiv</a> <a id="35340" class="Symbol">{</a><a id="35341" href="/lia/part1/Semantics/#35341" class="Bound">φ</a><a id="35342" class="Symbol">}</a> <a id="35344" href="/lia/part1/Semantics/#35344" class="Bound">~Satφ</a> <a id="35350" href="/lia/part1/Semantics/#35350" class="Bound">ϱ</a>
  <a id="35354" class="Keyword">with</a> <a id="35359" href="/lia/part0/Equality/#4517" class="Function">inspect</a> <a id="35367" class="Symbol">(</a><a id="35368" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="35370" href="/lia/part1/Semantics/#35341" class="Bound">φ</a> <a id="35372" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="35374" href="/lia/part1/Semantics/#35350" class="Bound">ϱ</a><a id="35375" class="Symbol">)</a>
<a id="35377" class="Symbol">...</a> <a id="35381" class="Symbol">|</a> <a id="35383" href="/lia/part0/Equality/#4483" class="InductiveConstructor">it</a> <a id="35386" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="35389" href="/lia/part1/Semantics/#35389" class="Bound">⟦φ⟧ϱ≡ff</a> <a id="35397" class="Symbol">=</a> <a id="35399" href="/lia/part1/Semantics/#35389" class="Bound">⟦φ⟧ϱ≡ff</a>
<a id="35407" class="Symbol">...</a> <a id="35411" class="Symbol">|</a> <a id="35413" href="/lia/part0/Equality/#4483" class="InductiveConstructor">it</a> <a id="35416" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="35419" href="/lia/part1/Semantics/#35419" class="Bound">⟦φ⟧ϱ≡tt</a> <a id="35427" class="Symbol">=</a> <a id="35429" href="/lia/part0/Logic/#2277" class="Function">F-elim</a> <a id="35436" class="Symbol">(</a><a id="35437" class="Bound">~Satφ</a> <a id="35443" class="Symbol">(</a><a id="35444" class="Bound">ϱ</a> <a id="35446" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="35448" href="/lia/part1/Semantics/#35419" class="Bound">⟦φ⟧ϱ≡tt</a><a id="35455" class="Symbol">))</a></pre>

  <p>It is now just a matter of combining the two directions:</p>

  <pre class="Agda"><a id="35525" href="/lia/part1/Semantics/#35089" class="Function">equiv↔unsat</a> <a id="35537" class="Symbol">{</a><a id="35538" href="/lia/part1/Semantics/#35538" class="Bound">φ</a><a id="35539" class="Symbol">}</a> <a id="35541" class="Symbol">=</a> <a id="35543" href="/lia/part1/Semantics/#35169" class="Function">equiv→unsat</a> <a id="35555" class="Symbol">{</a><a id="35556" href="/lia/part1/Semantics/#35538" class="Bound">φ</a><a id="35557" class="Symbol">}</a> <a id="35559" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="35561" href="/lia/part1/Semantics/#35298" class="Function">unsat→equiv</a> <a id="35573" class="Symbol">{</a><a id="35574" href="/lia/part1/Semantics/#35538" class="Bound">φ</a><a id="35575" class="Symbol">}</a></pre>

  <p>For instance, we can prove:</p>

  <pre class="Agda"><a id="p∧¬p⟺⊥"></a><a id="35615" href="/lia/part1/Semantics/#35615" class="Function">p∧¬p⟺⊥</a> <a id="35622" class="Symbol">:</a> <a id="35624" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="35626" href="/lia/part1/Semantics/#1701" class="Generalizable">p</a> <a id="35628" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="35630" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="35632" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="35634" href="/lia/part1/Semantics/#1701" class="Generalizable">p</a> <a id="35636" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="35638" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a>
<a id="35640" href="/lia/part1/Semantics/#35615" class="Function">p∧¬p⟺⊥</a> <a id="35647" class="Symbol">{</a><a id="35648" href="/lia/part1/Semantics/#35648" class="Bound">p</a><a id="35649" class="Symbol">}</a> <a id="35651" href="/lia/part1/Semantics/#35651" class="Bound">ϱ</a> <a id="35653" class="Symbol">=</a> <a id="35655" href="/lia/part1/Semantics/#35298" class="Function">unsat→equiv</a> <a id="35667" class="Symbol">{</a><a id="35668" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="35670" href="/lia/part1/Semantics/#35648" class="Bound">p</a> <a id="35672" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="35674" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="35676" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="35678" href="/lia/part1/Semantics/#35648" class="Bound">p</a><a id="35679" class="Symbol">}</a> <a id="35681" href="/lia/part1/Semantics/#33566" class="Function">p∧¬p-unsat</a> <a id="35692" href="/lia/part1/Semantics/#35651" class="Bound">ϱ</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:long-conjunctions-solution">Solution to <a href="#exercise:long-conjunctions" title="Exercise 14">Exercise 14</a>
</h6>

  <pre class="Agda"><a id="37004" href="/lia/part1/Semantics/#36404" class="Function">conjProp1</a> <a id="37014" class="Symbol">(</a><a id="37015" href="/lia/part1/Semantics/#37015" class="Bound">ψ</a> <a id="37017" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="37019" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a><a id="37020" class="Symbol">)</a> <a id="37022" href="/lia/part1/Semantics/#37022" class="Bound">ϱ</a> <a id="37024" href="/lia/part1/Semantics/#37024" class="Bound">⟦φs⟧≡tt</a> <a id="37032" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a> <a id="37037" class="Symbol">=</a> <a id="37039" href="/lia/part0/Booleans/#5625" class="Function">𝔹conjProp1</a> <a id="37050" class="Symbol">(</a><a id="37051" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="37053" href="/lia/part1/Semantics/#37015" class="Bound">ψ</a> <a id="37055" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="37057" href="/lia/part1/Semantics/#37022" class="Bound">ϱ</a><a id="37058" class="Symbol">)</a> <a id="37060" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="37063" href="/lia/part1/Semantics/#37024" class="Bound">⟦φs⟧≡tt</a>
<a id="37071" href="/lia/part1/Semantics/#36404" class="Function">conjProp1</a> <a id="37081" class="Symbol">(</a><a id="37082" href="/lia/part1/Semantics/#37082" class="Bound">ψ</a> <a id="37084" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="37086" href="/lia/part1/Semantics/#37086" class="Bound">φs</a><a id="37088" class="Symbol">@(_</a> <a id="37092" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="37094" class="Symbol">_))</a> <a id="37098" href="/lia/part1/Semantics/#37098" class="Bound">ϱ</a> <a id="37100" href="/lia/part1/Semantics/#37100" class="Bound">⟦φs⟧≡tt</a> <a id="37108" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a> <a id="37113" class="Symbol">=</a> <a id="37115" href="/lia/part0/Booleans/#5625" class="Function">𝔹conjProp1</a> <a id="37126" class="Symbol">(</a><a id="37127" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="37129" href="/lia/part1/Semantics/#37082" class="Bound">ψ</a> <a id="37131" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="37133" href="/lia/part1/Semantics/#37098" class="Bound">ϱ</a><a id="37134" class="Symbol">)</a> <a id="37136" class="Symbol">(</a><a id="37137" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="37139" href="/lia/part1/Semantics/#35969" class="Function Operator">⋀</a> <a id="37141" href="/lia/part1/Semantics/#37086" class="Bound">φs</a> <a id="37144" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="37146" href="/lia/part1/Semantics/#37098" class="Bound">ϱ</a><a id="37147" class="Symbol">)</a> <a id="37149" href="/lia/part1/Semantics/#37100" class="Bound">⟦φs⟧≡tt</a> 
<a id="37158" href="/lia/part1/Semantics/#36404" class="Function">conjProp1</a> <a id="37168" class="Symbol">(</a><a id="37169" href="/lia/part1/Semantics/#37169" class="Bound">ψ</a> <a id="37171" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="37173" href="/lia/part1/Semantics/#37173" class="Bound">φs</a><a id="37175" class="Symbol">@(_</a> <a id="37179" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="37181" class="Symbol">_))</a> <a id="37185" href="/lia/part1/Semantics/#37185" class="Bound">ϱ</a> <a id="37187" href="/lia/part1/Semantics/#37187" class="Bound">⟦ψ∧φs⟧≡tt</a> <a id="37197" class="Symbol">{</a><a id="37198" href="/lia/part1/Semantics/#37198" class="Bound">φ</a><a id="37199" class="Symbol">}</a> <a id="37201" class="Symbol">(</a><a id="37202" href="/lia/part0/List/#8065" class="InductiveConstructor">there</a> <a id="37208" href="/lia/part1/Semantics/#37208" class="Bound">φ∈φs</a><a id="37212" class="Symbol">)</a>
  <a id="37216" class="Symbol">=</a> <a id="37218" href="/lia/part1/Semantics/#36404" class="Function">conjProp1</a> <a id="37228" href="/lia/part1/Semantics/#37173" class="Bound">φs</a> <a id="37231" href="/lia/part1/Semantics/#37185" class="Bound">ϱ</a> <a id="37233" class="Symbol">(</a><a id="37234" href="/lia/part0/Booleans/#5697" class="Function">𝔹conjProp2</a> <a id="37245" class="Symbol">(</a><a id="37246" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="37248" href="/lia/part1/Semantics/#37169" class="Bound">ψ</a> <a id="37250" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="37252" href="/lia/part1/Semantics/#37185" class="Bound">ϱ</a><a id="37253" class="Symbol">)</a> <a id="37255" class="Symbol">_</a> <a id="37257" href="/lia/part1/Semantics/#37187" class="Bound">⟦ψ∧φs⟧≡tt</a><a id="37266" class="Symbol">)</a> <a id="37268" href="/lia/part1/Semantics/#37208" class="Bound">φ∈φs</a> 

<a id="37275" href="/lia/part1/Semantics/#36500" class="Function">conjProp2</a> <a id="37285" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a> <a id="37287" href="/lia/part1/Semantics/#37287" class="Bound">ϱ</a> <a id="37289" href="/lia/part1/Semantics/#37289" class="Bound">ass</a> <a id="37293" class="Symbol">=</a> <a id="37295" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="37300" href="/lia/part1/Semantics/#36500" class="Function">conjProp2</a> <a id="37310" class="Symbol">(</a><a id="37311" href="/lia/part1/Semantics/#37311" class="Bound">φ</a> <a id="37313" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="37315" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a><a id="37316" class="Symbol">)</a> <a id="37318" href="/lia/part1/Semantics/#37318" class="Bound">ϱ</a> <a id="37320" href="/lia/part1/Semantics/#37320" class="Bound">ass</a> <a id="37324" class="Symbol">=</a> <a id="37326" href="/lia/part1/Semantics/#37320" class="Bound">ass</a> <a id="37330" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a>
<a id="37335" href="/lia/part1/Semantics/#36500" class="Function">conjProp2</a> <a id="37345" class="Symbol">(</a><a id="37346" href="/lia/part1/Semantics/#37346" class="Bound">φ</a> <a id="37348" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="37350" href="/lia/part1/Semantics/#37350" class="Bound">φs</a><a id="37352" class="Symbol">@(_</a> <a id="37356" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="37358" class="Symbol">_))</a> <a id="37362" href="/lia/part1/Semantics/#37362" class="Bound">ϱ</a> <a id="37364" href="/lia/part1/Semantics/#37364" class="Bound">ass</a>
  <a id="37370" class="Keyword">with</a> <a id="37375" href="/lia/part1/Semantics/#36500" class="Function">conjProp2</a> <a id="37385" href="/lia/part1/Semantics/#37350" class="Bound">φs</a> <a id="37388" href="/lia/part1/Semantics/#37362" class="Bound">ϱ</a> <a id="37390" class="Symbol">λ</a> <a id="37392" href="/lia/part1/Semantics/#37392" class="Bound">ψ∈φs</a> <a id="37397" class="Symbol">→</a> <a id="37399" href="/lia/part1/Semantics/#37364" class="Bound">ass</a> <a id="37403" class="Symbol">(</a><a id="37404" href="/lia/part0/List/#8065" class="InductiveConstructor">there</a> <a id="37410" href="/lia/part1/Semantics/#37392" class="Bound">ψ∈φs</a><a id="37414" class="Symbol">)</a>
<a id="37416" class="Symbol">...</a> <a id="37420" class="Symbol">|</a> <a id="37422" href="/lia/part1/Semantics/#37422" class="Bound">⟦⋀φs⟧ϱ≡tt</a> <a id="37432" class="Symbol">=</a> <a id="37434" href="/lia/part0/Booleans/#5769" class="Function">𝔹conjProp3</a> <a id="37445" class="Symbol">_</a> <a id="37447" class="Symbol">_</a> <a id="37449" href="/lia/part1/Semantics/#37476" class="Function">⟦φ⟧ϱ≡tt</a> <a id="37457" href="/lia/part1/Semantics/#37422" class="Bound">⟦⋀φs⟧ϱ≡tt</a> <a id="37467" class="Keyword">where</a>

  <a id="37476" href="/lia/part1/Semantics/#37476" class="Function">⟦φ⟧ϱ≡tt</a> <a id="37484" class="Symbol">:</a> <a id="37486" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="37488" class="Bound">φ</a> <a id="37490" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="37492" class="Bound">ϱ</a> <a id="37494" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="37496" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a>
  <a id="37501" href="/lia/part1/Semantics/#37476" class="Function">⟦φ⟧ϱ≡tt</a> <a id="37509" class="Symbol">=</a> <a id="37511" class="Bound">ass</a> <a id="37515" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:long-disjunctions-solution">Solution to <a href="#exercise:long-disjunctions" title="Exercise 15">Exercise 15</a>
</h6>

  <pre class="Agda"><a id="38395" href="/lia/part1/Semantics/#37806" class="Function">disjProp-tt</a> <a id="38407" class="Symbol">(</a><a id="38408" href="/lia/part1/Semantics/#38408" class="Bound">φ</a> <a id="38410" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="38412" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a><a id="38413" class="Symbol">)</a> <a id="38415" href="/lia/part1/Semantics/#38415" class="Bound">ϱ</a> <a id="38417" href="/lia/part1/Semantics/#38408" class="Bound">φ</a> <a id="38419" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a> <a id="38424" href="/lia/part1/Semantics/#38424" class="Bound">⟦φ⟧ϱ≡tt</a> <a id="38432" class="Keyword">rewrite</a> <a id="38440" href="/lia/part1/Semantics/#38424" class="Bound">⟦φ⟧ϱ≡tt</a> <a id="38448" class="Symbol">=</a> <a id="38450" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="38455" href="/lia/part1/Semantics/#37806" class="Function">disjProp-tt</a> <a id="38467" class="Symbol">(</a><a id="38468" href="/lia/part1/Semantics/#38468" class="Bound">φ</a> <a id="38470" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="38472" class="Symbol">_</a> <a id="38474" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="38476" class="Symbol">_)</a> <a id="38479" href="/lia/part1/Semantics/#38479" class="Bound">ϱ</a> <a id="38481" href="/lia/part1/Semantics/#38468" class="Bound">φ</a> <a id="38483" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a> <a id="38488" href="/lia/part1/Semantics/#38488" class="Bound">⟦φ⟧ϱ≡tt</a> <a id="38496" class="Keyword">rewrite</a> <a id="38504" href="/lia/part1/Semantics/#38488" class="Bound">⟦φ⟧ϱ≡tt</a> <a id="38512" class="Symbol">=</a> <a id="38514" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="38519" href="/lia/part1/Semantics/#37806" class="Function">disjProp-tt</a> <a id="38531" class="Symbol">(</a><a id="38532" href="/lia/part1/Semantics/#38532" class="Bound">ψ</a> <a id="38534" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="38536" class="Symbol">_</a> <a id="38538" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="38540" class="Symbol">_)</a> <a id="38543" href="/lia/part1/Semantics/#38543" class="Bound">ϱ</a> <a id="38545" href="/lia/part1/Semantics/#38545" class="Bound">φ</a> <a id="38547" class="Symbol">(</a><a id="38548" href="/lia/part0/List/#8065" class="InductiveConstructor">there</a> <a id="38554" href="/lia/part1/Semantics/#38554" class="Bound">φ∈φs</a><a id="38558" class="Symbol">)</a> <a id="38560" href="/lia/part1/Semantics/#38560" class="Bound">⟦φ⟧ϱ≡tt</a>
  <a id="38570" class="Keyword">with</a> <a id="38575" href="/lia/part1/Semantics/#37806" class="Function">disjProp-tt</a> <a id="38587" class="Symbol">_</a> <a id="38589" href="/lia/part1/Semantics/#38543" class="Bound">ϱ</a> <a id="38591" href="/lia/part1/Semantics/#38545" class="Bound">φ</a> <a id="38593" href="/lia/part1/Semantics/#38554" class="Bound">φ∈φs</a> <a id="38598" href="/lia/part1/Semantics/#38560" class="Bound">⟦φ⟧ϱ≡tt</a>
<a id="38606" class="Symbol">...</a> <a id="38610" class="Symbol">|</a> <a id="38612" href="/lia/part1/Semantics/#38612" class="Bound">ind</a> <a id="38616" class="Symbol">=</a> <a id="38618" href="/lia/part0/Booleans/#6236" class="Function">𝔹disjProp2</a> <a id="38629" class="Symbol">(</a><a id="38630" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="38632" class="Bound">ψ</a> <a id="38634" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="38636" class="Bound">ϱ</a><a id="38637" class="Symbol">)</a> <a id="38639" class="Symbol">_</a> <a id="38641" href="/lia/part1/Semantics/#38612" class="Bound">ind</a>

<a id="38646" href="/lia/part1/Semantics/#37896" class="Function">disjProp-ff</a> <a id="38658" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a> <a id="38660" href="/lia/part1/Semantics/#38660" class="Bound">ϱ</a> <a id="38662" href="/lia/part1/Semantics/#38662" class="Bound">ass</a> <a id="38666" class="Symbol">=</a> <a id="38668" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="38673" href="/lia/part1/Semantics/#37896" class="Function">disjProp-ff</a> <a id="38685" class="Symbol">(</a><a id="38686" href="/lia/part1/Semantics/#38686" class="Bound">φ</a> <a id="38688" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="38690" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a><a id="38691" class="Symbol">)</a> <a id="38693" href="/lia/part1/Semantics/#38693" class="Bound">ϱ</a> <a id="38695" href="/lia/part1/Semantics/#38695" class="Bound">ass</a> <a id="38699" class="Symbol">=</a> <a id="38701" href="/lia/part1/Semantics/#38695" class="Bound">ass</a> <a id="38705" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a>
<a id="38710" href="/lia/part1/Semantics/#37896" class="Function">disjProp-ff</a> <a id="38722" class="Symbol">(</a><a id="38723" href="/lia/part1/Semantics/#38723" class="Bound">φ</a> <a id="38725" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="38727" href="/lia/part1/Semantics/#38727" class="Bound">φs</a><a id="38729" class="Symbol">@(_</a> <a id="38733" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="38735" class="Symbol">_))</a> <a id="38739" href="/lia/part1/Semantics/#38739" class="Bound">ϱ</a> <a id="38741" href="/lia/part1/Semantics/#38741" class="Bound">ass</a>
  <a id="38747" class="Keyword">with</a> <a id="38752" href="/lia/part1/Semantics/#37896" class="Function">disjProp-ff</a> <a id="38764" href="/lia/part1/Semantics/#38727" class="Bound">φs</a> <a id="38767" href="/lia/part1/Semantics/#38739" class="Bound">ϱ</a> <a id="38769" class="Symbol">λ</a> <a id="38771" href="/lia/part1/Semantics/#38771" class="Bound">ψ∈φs</a> <a id="38776" class="Symbol">→</a> <a id="38778" href="/lia/part1/Semantics/#38741" class="Bound">ass</a> <a id="38782" class="Symbol">(</a><a id="38783" href="/lia/part0/List/#8065" class="InductiveConstructor">there</a> <a id="38789" href="/lia/part1/Semantics/#38771" class="Bound">ψ∈φs</a><a id="38793" class="Symbol">)</a>
<a id="38795" class="Symbol">...</a> <a id="38799" class="Symbol">|</a> <a id="38801" href="/lia/part1/Semantics/#38801" class="Bound">ind</a> <a id="38805" class="Symbol">=</a> <a id="38807" href="/lia/part0/Booleans/#6368" class="Function">𝔹disjProp3</a> <a id="38818" class="Symbol">_</a> <a id="38820" class="Symbol">_</a> <a id="38822" class="Symbol">(</a><a id="38823" class="Bound">ass</a> <a id="38827" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a><a id="38831" class="Symbol">)</a> <a id="38833" href="/lia/part1/Semantics/#38801" class="Bound">ind</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:commutative-context-solution">Solution to <a href="#exercise:commutative-context" title="Exercise 16">Exercise 16</a>
</h6>

  <pre class="Agda"><a id="40401" href="/lia/part1/Semantics/#39879" class="Function">perm-sat</a> <a id="40410" href="/lia/part0/Permutations/#307" class="InductiveConstructor">stop</a> <a id="40415" href="/lia/part1/Semantics/#40415" class="Bound">AllΓ</a> <a id="40420" class="Symbol">{</a><a id="40421" href="/lia/part1/Semantics/#40421" class="Bound">φ</a><a id="40422" class="Symbol">}</a> <a id="40424" href="/lia/part1/Semantics/#40424" class="Bound">φ∈Δ</a> <a id="40428" class="Symbol">=</a> <a id="40430" href="/lia/part1/Semantics/#40415" class="Bound">AllΓ</a> <a id="40435" href="/lia/part1/Semantics/#40424" class="Bound">φ∈Δ</a>

<a id="40440" href="/lia/part1/Semantics/#39879" class="Function">perm-sat</a> <a id="40449" class="Symbol">{</a><a id="40450" href="/lia/part1/Semantics/#40450" class="Bound">ψ</a> <a id="40452" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="40454" href="/lia/part1/Semantics/#40454" class="Bound">Γ</a><a id="40455" class="Symbol">}</a> <a id="40457" class="Symbol">{</a><a id="40458" href="/lia/part1/Semantics/#40450" class="Bound">ψ</a> <a id="40460" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="40462" href="/lia/part1/Semantics/#40462" class="Bound">Δ</a><a id="40463" class="Symbol">}</a> <a id="40465" class="Symbol">(</a><a id="40466" href="/lia/part0/Permutations/#327" class="InductiveConstructor">skip</a> <a id="40471" href="/lia/part1/Semantics/#40471" class="Bound">perm</a><a id="40475" class="Symbol">)</a> <a id="40477" href="/lia/part1/Semantics/#40477" class="Bound">AllΓ</a> <a id="40482" class="Symbol">{</a><a id="40483" href="/lia/part1/Semantics/#40450" class="Bound">ψ</a><a id="40484" class="Symbol">}</a> <a id="40486" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a> <a id="40491" class="Symbol">=</a> <a id="40493" href="/lia/part1/Semantics/#40477" class="Bound">AllΓ</a> <a id="40498" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a>
<a id="40503" href="/lia/part1/Semantics/#39879" class="Function">perm-sat</a> <a id="40512" class="Symbol">{</a><a id="40513" href="/lia/part1/Semantics/#40513" class="Bound">ψ</a> <a id="40515" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="40517" href="/lia/part1/Semantics/#40517" class="Bound">Γ</a><a id="40518" class="Symbol">}</a> <a id="40520" class="Symbol">{</a><a id="40521" href="/lia/part1/Semantics/#40513" class="Bound">ψ</a> <a id="40523" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="40525" href="/lia/part1/Semantics/#40525" class="Bound">Δ</a><a id="40526" class="Symbol">}</a> <a id="40528" class="Symbol">(</a><a id="40529" href="/lia/part0/Permutations/#327" class="InductiveConstructor">skip</a> <a id="40534" href="/lia/part1/Semantics/#40534" class="Bound">perm</a><a id="40538" class="Symbol">)</a> <a id="40540" href="/lia/part1/Semantics/#40540" class="Bound">AllΓ</a> <a id="40545" class="Symbol">{</a><a id="40546" href="/lia/part1/Semantics/#40546" class="Bound">φ</a><a id="40547" class="Symbol">}</a> <a id="40549" class="Symbol">(</a><a id="40550" href="/lia/part0/List/#8065" class="InductiveConstructor">there</a> <a id="40556" href="/lia/part1/Semantics/#40556" class="Bound">φ∈Δ</a><a id="40559" class="Symbol">)</a>
  <a id="40563" class="Symbol">=</a> <a id="40565" href="/lia/part1/Semantics/#39879" class="Function">perm-sat</a> <a id="40574" class="Symbol">{</a><a id="40575" href="/lia/part1/Semantics/#40517" class="Bound">Γ</a><a id="40576" class="Symbol">}</a> <a id="40578" class="Symbol">{</a><a id="40579" href="/lia/part1/Semantics/#40525" class="Bound">Δ</a><a id="40580" class="Symbol">}</a> <a id="40582" href="/lia/part1/Semantics/#40534" class="Bound">perm</a> <a id="40587" class="Symbol">(λ</a> <a id="40590" class="Symbol">{</a><a id="40591" href="/lia/part1/Semantics/#40591" class="Bound">ξ</a><a id="40592" class="Symbol">}</a> <a id="40594" href="/lia/part1/Semantics/#40594" class="Bound">ξ∈Γ</a> <a id="40598" class="Symbol">→</a> <a id="40600" href="/lia/part1/Semantics/#40540" class="Bound">AllΓ</a> <a id="40605" class="Symbol">(</a><a id="40606" href="/lia/part0/List/#8065" class="InductiveConstructor">there</a> <a id="40612" href="/lia/part1/Semantics/#40594" class="Bound">ξ∈Γ</a><a id="40615" class="Symbol">))</a> <a id="40618" href="/lia/part1/Semantics/#40556" class="Bound">φ∈Δ</a>
  
<a id="40625" href="/lia/part1/Semantics/#39879" class="Function">perm-sat</a> <a id="40634" class="Symbol">(</a><a id="40635" href="/lia/part0/Permutations/#372" class="InductiveConstructor">swap</a> <a id="40640" href="/lia/part1/Semantics/#40640" class="Bound">perm</a><a id="40644" class="Symbol">)</a> <a id="40646" href="/lia/part1/Semantics/#40646" class="Bound">AllΓ</a> <a id="40651" class="Symbol">{_}</a> <a id="40655" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a> <a id="40660" class="Symbol">=</a> <a id="40662" href="/lia/part1/Semantics/#40646" class="Bound">AllΓ</a> <a id="40667" class="Symbol">(</a><a id="40668" href="/lia/part0/List/#8065" class="InductiveConstructor">there</a> <a id="40674" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a><a id="40678" class="Symbol">)</a>
<a id="40680" href="/lia/part1/Semantics/#39879" class="Function">perm-sat</a> <a id="40689" class="Symbol">(</a><a id="40690" href="/lia/part0/Permutations/#372" class="InductiveConstructor">swap</a> <a id="40695" href="/lia/part1/Semantics/#40695" class="Bound">perm</a><a id="40699" class="Symbol">)</a> <a id="40701" href="/lia/part1/Semantics/#40701" class="Bound">AllΓ</a> <a id="40706" class="Symbol">{_}</a> <a id="40710" class="Symbol">(</a><a id="40711" href="/lia/part0/List/#8065" class="InductiveConstructor">there</a> <a id="40717" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a><a id="40721" class="Symbol">)</a> <a id="40723" class="Symbol">=</a> <a id="40725" href="/lia/part1/Semantics/#40701" class="Bound">AllΓ</a> <a id="40730" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a>
<a id="40735" href="/lia/part1/Semantics/#39879" class="Function">perm-sat</a> <a id="40744" class="Symbol">{</a><a id="40745" href="/lia/part1/Semantics/#40745" class="Bound">φ</a> <a id="40747" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="40749" href="/lia/part1/Semantics/#40749" class="Bound">ψ</a> <a id="40751" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="40753" href="/lia/part1/Semantics/#40753" class="Bound">Γ</a><a id="40754" class="Symbol">}</a> <a id="40756" class="Symbol">{</a><a id="40757" href="/lia/part1/Semantics/#40749" class="Bound">ψ</a> <a id="40759" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="40761" href="/lia/part1/Semantics/#40745" class="Bound">φ</a> <a id="40763" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="40765" href="/lia/part1/Semantics/#40765" class="Bound">Δ</a><a id="40766" class="Symbol">}</a> <a id="40768" class="Symbol">(</a><a id="40769" href="/lia/part0/Permutations/#372" class="InductiveConstructor">swap</a> <a id="40774" href="/lia/part1/Semantics/#40774" class="Bound">perm</a><a id="40778" class="Symbol">)</a> <a id="40780" href="/lia/part1/Semantics/#40780" class="Bound">AllΓ</a> <a id="40785" class="Symbol">{</a><a id="40786" href="/lia/part1/Semantics/#40786" class="Bound">ξ</a><a id="40787" class="Symbol">}</a> <a id="40789" class="Symbol">(</a><a id="40790" href="/lia/part0/List/#8065" class="InductiveConstructor">there</a> <a id="40796" class="Symbol">(</a><a id="40797" href="/lia/part0/List/#8065" class="InductiveConstructor">there</a> <a id="40803" href="/lia/part1/Semantics/#40803" class="Bound">ξ∈Δ</a><a id="40806" class="Symbol">))</a>
  <a id="40811" class="Symbol">=</a> <a id="40813" href="/lia/part1/Semantics/#39879" class="Function">perm-sat</a> <a id="40822" href="/lia/part1/Semantics/#40774" class="Bound">perm</a> <a id="40827" class="Symbol">(</a><a id="40828" href="/lia/part1/Semantics/#40780" class="Bound">AllΓ</a> <a id="40833" href="/lia/part0/Utils/#705" class="Function Operator">∘</a> <a id="40835" href="/lia/part0/List/#8065" class="InductiveConstructor">there</a> <a id="40841" href="/lia/part0/Utils/#705" class="Function Operator">∘</a> <a id="40843" href="/lia/part0/List/#8065" class="InductiveConstructor">there</a><a id="40848" class="Symbol">)</a> <a id="40850" href="/lia/part1/Semantics/#40803" class="Bound">ξ∈Δ</a> 

<a id="40856" href="/lia/part1/Semantics/#39879" class="Function">perm-sat</a> <a id="40865" class="Symbol">{</a><a id="40866" href="/lia/part1/Semantics/#40866" class="Bound">Γ</a><a id="40867" class="Symbol">}</a> <a id="40869" class="Symbol">{</a><a id="40870" href="/lia/part1/Semantics/#40870" class="Bound">Δ</a><a id="40871" class="Symbol">}</a> <a id="40873" class="Symbol">(</a><a id="40874" href="/lia/part0/Permutations/#425" class="InductiveConstructor">tran</a> <a id="40879" class="Symbol">{</a><a id="40880" class="Argument">bs</a> <a id="40883" class="Symbol">=</a> <a id="40885" href="/lia/part1/Semantics/#40885" class="Bound">Ξ</a><a id="40886" class="Symbol">}</a> <a id="40888" href="/lia/part1/Semantics/#40888" class="Bound">perm1</a> <a id="40894" href="/lia/part1/Semantics/#40894" class="Bound">perm2</a><a id="40899" class="Symbol">)</a> <a id="40901" href="/lia/part1/Semantics/#40901" class="Bound">AllΓ</a>
  <a id="40908" class="Keyword">with</a> <a id="40913" href="/lia/part1/Semantics/#39879" class="Function">perm-sat</a> <a id="40922" href="/lia/part1/Semantics/#40888" class="Bound">perm1</a> <a id="40928" href="/lia/part1/Semantics/#40901" class="Bound">AllΓ</a>
<a id="40933" class="Symbol">...</a> <a id="40937" class="Symbol">|</a> <a id="40939" href="/lia/part1/Semantics/#40939" class="Bound">AllΞ</a> <a id="40944" class="Symbol">=</a> <a id="40946" href="/lia/part1/Semantics/#39879" class="Function">perm-sat</a> <a id="40955" class="Bound">perm2</a> <a id="40961" href="/lia/part1/Semantics/#40939" class="Bound">AllΞ</a>
                            
<a id="40995" href="/lia/part1/Semantics/#40179" class="Function">perm-⊨</a> <a id="41002" href="/lia/part1/Semantics/#41002" class="Bound">φ</a> <a id="41004" href="/lia/part1/Semantics/#41004" class="Bound">perm</a> <a id="41009" href="/lia/part1/Semantics/#41009" class="Bound">Γ⊨φ</a> <a id="41013" href="/lia/part1/Semantics/#41013" class="Bound">ϱ</a> <a id="41015" href="/lia/part1/Semantics/#41015" class="Bound">AllΔ</a> <a id="41020" class="Symbol">=</a> <a id="41022" href="/lia/part1/Semantics/#41009" class="Bound">Γ⊨φ</a> <a id="41026" href="/lia/part1/Semantics/#41013" class="Bound">ϱ</a> <a id="41028" class="Symbol">(</a><a id="41029" href="/lia/part1/Semantics/#39879" class="Function">perm-sat</a> <a id="41038" class="Symbol">(</a><a id="41039" href="/lia/part0/Permutations/#542" class="Function">sym-perm</a> <a id="41048" href="/lia/part1/Semantics/#41004" class="Bound">perm</a><a id="41052" class="Symbol">)</a> <a id="41054" href="/lia/part1/Semantics/#41015" class="Bound">AllΔ</a><a id="41058" class="Symbol">)</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:context-alt-solution">Solution to <a href="#exercise:context-alt" title="Exercise 17">Exercise 17</a>
</h6>

  <pre class="Agda"><a id="41831" href="/lia/part1/Semantics/#41547" class="Function">context1</a> <a id="41840" class="Symbol">{</a><a id="41841" href="/lia/part1/Semantics/#41841" class="Bound">Γ</a><a id="41842" class="Symbol">}</a> <a id="41844" href="/lia/part1/Semantics/#41844" class="Bound">φ</a> <a id="41846" href="/lia/part1/Semantics/#41846" class="Bound">Γ⊨φ</a> <a id="41850" href="/lia/part1/Semantics/#41850" class="Bound">ϱ</a> <a id="41852" href="/lia/part1/Semantics/#41852" class="Bound">⟦⋀Γ⟧ϱ≡tt</a> <a id="41861" class="Symbol">=</a> <a id="41863" href="/lia/part1/Semantics/#41846" class="Bound">Γ⊨φ</a> <a id="41867" href="/lia/part1/Semantics/#41850" class="Bound">ϱ</a> <a id="41869" class="Symbol">(</a><a id="41870" href="/lia/part1/Semantics/#36404" class="Function">conjProp1</a> <a id="41880" href="/lia/part1/Semantics/#41841" class="Bound">Γ</a> <a id="41882" href="/lia/part1/Semantics/#41850" class="Bound">ϱ</a> <a id="41884" href="/lia/part1/Semantics/#41852" class="Bound">⟦⋀Γ⟧ϱ≡tt</a><a id="41892" class="Symbol">)</a>
<a id="41894" href="/lia/part1/Semantics/#41599" class="Function">context2</a> <a id="41903" href="/lia/part1/Semantics/#41903" class="Bound">Γ</a> <a id="41905" class="Symbol">{</a><a id="41906" href="/lia/part1/Semantics/#41906" class="Bound">φ</a><a id="41907" class="Symbol">}</a> <a id="41909" href="/lia/part1/Semantics/#41909" class="Bound">⋀Γ⇛φ</a> <a id="41914" href="/lia/part1/Semantics/#41914" class="Bound">ϱ</a> <a id="41916" href="/lia/part1/Semantics/#41916" class="Bound">AllΓ</a> <a id="41921" class="Symbol">=</a> <a id="41923" href="/lia/part1/Semantics/#41909" class="Bound">⋀Γ⇛φ</a> <a id="41928" href="/lia/part1/Semantics/#41914" class="Bound">ϱ</a> <a id="41930" class="Symbol">(</a><a id="41931" href="/lia/part1/Semantics/#36500" class="Function">conjProp2</a> <a id="41941" href="/lia/part1/Semantics/#41903" class="Bound">Γ</a> <a id="41943" href="/lia/part1/Semantics/#41914" class="Bound">ϱ</a> <a id="41945" href="/lia/part1/Semantics/#41916" class="Bound">AllΓ</a><a id="41949" class="Symbol">)</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:sem-DT-solution">Solution to <a href="#exercise:sem-DT" title="Exercise 18">Exercise 18</a>
</h6>

  <pre class="Agda"><a id="43968" href="/lia/part1/Semantics/#43575" class="Function">semDT2</a> <a id="43975" class="Symbol">{</a><a id="43976" href="/lia/part1/Semantics/#43976" class="Bound">Γ</a><a id="43977" class="Symbol">}</a> <a id="43979" href="/lia/part1/Semantics/#43979" class="Bound">ψ</a> <a id="43981" href="/lia/part1/Semantics/#43981" class="Bound">φ</a> <a id="43983" href="/lia/part1/Semantics/#43983" class="Bound">Γ·ψ⊨φ</a> <a id="43989" class="Symbol">=</a> <a id="43991" href="/lia/part1/Semantics/#44006" class="Function">Δ⊨ψ⇒φ</a> <a id="43997" class="Keyword">where</a>

  <a id="44006" href="/lia/part1/Semantics/#44006" class="Function">Δ⊨ψ⇒φ</a> <a id="44012" class="Symbol">:</a> <a id="44014" href="/lia/part1/Semantics/#43976" class="Bound">Γ</a> <a id="44016" href="/lia/part1/Semantics/#39554" class="Function Operator">⊨</a> <a id="44018" href="/lia/part1/Semantics/#43979" class="Bound">ψ</a> <a id="44020" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="44022" href="/lia/part1/Semantics/#43981" class="Bound">φ</a>
  <a id="44026" href="/lia/part1/Semantics/#44006" class="Function">Δ⊨ψ⇒φ</a> <a id="44032" href="/lia/part1/Semantics/#44032" class="Bound">ϱ</a> <a id="44034" href="/lia/part1/Semantics/#44034" class="Bound">⟦Γ⟧</a> <a id="44038" class="Keyword">with</a> <a id="44043" href="/lia/part0/Equality/#4517" class="Function">inspect</a> <a id="44051" class="Symbol">(</a><a id="44052" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="44054" href="/lia/part1/Semantics/#43979" class="Bound">ψ</a> <a id="44056" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="44058" href="/lia/part1/Semantics/#44032" class="Bound">ϱ</a><a id="44059" class="Symbol">)</a>
  <a id="44063" class="Symbol">...</a> <a id="44067" class="Symbol">|</a> <a id="44069" href="/lia/part0/Equality/#4483" class="InductiveConstructor">it</a> <a id="44072" href="/lia/part0/Booleans/#275" class="InductiveConstructor">ff</a> <a id="44075" href="/lia/part1/Semantics/#44075" class="Bound">⟦ψ⟧ϱ≡ff</a> <a id="44083" class="Keyword">rewrite</a> <a id="44091" href="/lia/part1/Semantics/#44075" class="Bound">⟦ψ⟧ϱ≡ff</a> <a id="44099" class="Symbol">=</a> <a id="44101" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="44108" class="Symbol">...</a> <a id="44112" class="Symbol">|</a> <a id="44114" href="/lia/part0/Equality/#4483" class="InductiveConstructor">it</a> <a id="44117" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="44120" href="/lia/part1/Semantics/#44120" class="Bound">⟦ψ⟧ϱ≡tt</a> <a id="44128" class="Keyword">rewrite</a> <a id="44136" href="/lia/part1/Semantics/#44120" class="Bound">⟦ψ⟧ϱ≡tt</a> <a id="44144" class="Symbol">=</a> <a id="44146" href="/lia/part0/Equality/#729" class="Function">trans</a> <a id="44152" href="/lia/part1/Semantics/#44175" class="Function">eql</a> <a id="44156" href="/lia/part1/Semantics/#44244" class="Function">⟦φ⟧ϱ≡tt</a> <a id="44164" class="Keyword">where</a>

    <a id="44175" href="/lia/part1/Semantics/#44175" class="Function">eql</a> <a id="44179" class="Symbol">:</a> <a id="44181" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="44184" href="/lia/part0/Booleans/#1154" class="Function Operator">⇒𝔹</a> <a id="44187" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="44189" href="/lia/part1/Semantics/#43981" class="Bound">φ</a> <a id="44191" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="44193" class="Bound">ϱ</a> <a id="44195" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="44197" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="44199" href="/lia/part1/Semantics/#43981" class="Bound">φ</a> <a id="44201" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="44203" class="Bound">ϱ</a>
    <a id="44209" href="/lia/part1/Semantics/#44175" class="Function">eql</a> <a id="44213" class="Symbol">=</a> <a id="44215" href="/lia/part0/Booleans/#6688" class="Function">𝔹implProp2</a> <a id="44226" class="Symbol">_</a> <a id="44228" class="Symbol">_</a> <a id="44230" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
    
    <a id="44244" href="/lia/part1/Semantics/#44244" class="Function">⟦φ⟧ϱ≡tt</a> <a id="44252" class="Symbol">:</a> <a id="44254" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="44256" href="/lia/part1/Semantics/#43981" class="Bound">φ</a> <a id="44258" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="44260" class="Bound">ϱ</a> <a id="44262" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="44264" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a>
    <a id="44271" href="/lia/part1/Semantics/#44244" class="Function">⟦φ⟧ϱ≡tt</a> <a id="44279" class="Symbol">=</a> <a id="44281" href="/lia/part1/Semantics/#43983" class="Bound">Γ·ψ⊨φ</a> <a id="44287" class="Bound">ϱ</a> <a id="44289" href="/lia/part1/Semantics/#44308" class="Function">⟦ψ∷Γ⟧</a> <a id="44295" class="Keyword">where</a>

      <a id="44308" href="/lia/part1/Semantics/#44308" class="Function">⟦ψ∷Γ⟧</a> <a id="44314" class="Symbol">:</a> <a id="44316" href="/lia/part0/List/#9607" class="Function">∀[</a> <a id="44319" href="/lia/part1/Semantics/#44319" class="Bound">ξ</a> <a id="44321" href="/lia/part0/List/#9607" class="Function">∈</a> <a id="44323" href="/lia/part1/Semantics/#43979" class="Bound">ψ</a> <a id="44325" href="/lia/part0/List/#517" class="InductiveConstructor Operator">∷</a> <a id="44327" href="/lia/part1/Semantics/#43976" class="Bound">Γ</a> <a id="44329" href="/lia/part0/List/#9607" class="Function">]</a> <a id="44331" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="44333" href="/lia/part1/Semantics/#44319" class="Bound">ξ</a> <a id="44335" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="44337" class="Bound">ϱ</a> <a id="44339" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="44341" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a>
      <a id="44350" href="/lia/part1/Semantics/#44308" class="Function">⟦ψ∷Γ⟧</a> <a id="44356" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a> <a id="44361" class="Symbol">=</a> <a id="44363" href="/lia/part1/Semantics/#44120" class="Bound">⟦ψ⟧ϱ≡tt</a>
      <a id="44377" href="/lia/part1/Semantics/#44308" class="Function">⟦ψ∷Γ⟧</a> <a id="44383" class="Symbol">(</a><a id="44384" href="/lia/part0/List/#8065" class="InductiveConstructor">there</a> <a id="44390" href="/lia/part1/Semantics/#44390" class="Bound">ξ∈Γ</a><a id="44393" class="Symbol">)</a> <a id="44395" class="Symbol">=</a> <a id="44397" class="Bound">⟦Γ⟧</a> <a id="44401" href="/lia/part1/Semantics/#44390" class="Bound">ξ∈Γ</a>

<a id="44406" href="/lia/part1/Semantics/#43464" class="Function">semDT1</a> <a id="44413" class="Symbol">{</a><a id="44414" href="/lia/part1/Semantics/#44414" class="Bound">Γ</a><a id="44415" class="Symbol">}</a> <a id="44417" href="/lia/part1/Semantics/#44417" class="Bound">φ</a> <a id="44419" href="/lia/part1/Semantics/#44419" class="Bound">ψ</a> <a id="44421" href="/lia/part1/Semantics/#44421" class="Bound">Γ⊨φ⇒ψ</a> <a id="44427" href="/lia/part1/Semantics/#44427" class="Bound">ϱ</a> <a id="44429" href="/lia/part1/Semantics/#44429" class="Bound">AllΓ·φ</a> <a id="44436" class="Symbol">=</a> <a id="44438" href="/lia/part1/Semantics/#44580" class="Function">⟦ψ⟧ϱ≡tt</a> <a id="44446" class="Keyword">where</a>

  <a id="44455" href="/lia/part1/Semantics/#44455" class="Function">AllΓ</a> <a id="44460" class="Symbol">:</a> <a id="44462" href="/lia/part0/List/#9607" class="Function">All</a> <a id="44466" class="Symbol">(λ</a> <a id="44469" href="/lia/part1/Semantics/#44469" class="Bound">φ</a> <a id="44471" class="Symbol">→</a> <a id="44473" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="44475" href="/lia/part1/Semantics/#44469" class="Bound">φ</a> <a id="44477" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="44479" href="/lia/part1/Semantics/#44427" class="Bound">ϱ</a> <a id="44481" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="44483" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a><a id="44485" class="Symbol">)</a> <a id="44487" href="/lia/part1/Semantics/#44414" class="Bound">Γ</a>
  <a id="44491" href="/lia/part1/Semantics/#44455" class="Function">AllΓ</a> <a id="44496" class="Symbol">{</a><a id="44497" href="/lia/part1/Semantics/#44497" class="Bound">φ</a><a id="44498" class="Symbol">}</a> <a id="44500" href="/lia/part1/Semantics/#44500" class="Bound">φ∈Γ</a> <a id="44504" class="Symbol">=</a> <a id="44506" href="/lia/part1/Semantics/#44429" class="Bound">AllΓ·φ</a> <a id="44513" class="Symbol">(</a><a id="44514" href="/lia/part0/List/#8065" class="InductiveConstructor">there</a> <a id="44520" href="/lia/part1/Semantics/#44500" class="Bound">φ∈Γ</a><a id="44523" class="Symbol">)</a>

  <a id="44528" href="/lia/part1/Semantics/#44528" class="Function">⟦φ⟧ϱ≡tt</a> <a id="44536" class="Symbol">:</a> <a id="44538" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="44540" href="/lia/part1/Semantics/#44417" class="Bound">φ</a> <a id="44542" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="44544" href="/lia/part1/Semantics/#44427" class="Bound">ϱ</a> <a id="44546" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="44548" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a>
  <a id="44553" href="/lia/part1/Semantics/#44528" class="Function">⟦φ⟧ϱ≡tt</a> <a id="44561" class="Symbol">=</a> <a id="44563" href="/lia/part1/Semantics/#44429" class="Bound">AllΓ·φ</a> <a id="44570" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a>
  
  <a id="44580" href="/lia/part1/Semantics/#44580" class="Function">⟦ψ⟧ϱ≡tt</a> <a id="44588" class="Symbol">:</a> <a id="44590" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="44592" href="/lia/part1/Semantics/#44419" class="Bound">ψ</a> <a id="44594" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="44596" href="/lia/part1/Semantics/#44427" class="Bound">ϱ</a> <a id="44598" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="44600" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a>
  <a id="44605" href="/lia/part1/Semantics/#44580" class="Function">⟦ψ⟧ϱ≡tt</a> <a id="44613" class="Keyword">rewrite</a> <a id="44621" href="/lia/part0/Equality/#458" class="Function">sym</a> <a id="44625" class="Symbol">(</a><a id="44626" href="/lia/part0/Booleans/#6688" class="Function">𝔹implProp2</a> <a id="44637" class="Symbol">_</a> <a id="44639" class="Symbol">(</a><a id="44640" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="44642" href="/lia/part1/Semantics/#44419" class="Bound">ψ</a> <a id="44644" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="44646" href="/lia/part1/Semantics/#44427" class="Bound">ϱ</a><a id="44647" class="Symbol">)</a> <a id="44649" href="/lia/part1/Semantics/#44528" class="Function">⟦φ⟧ϱ≡tt</a><a id="44656" class="Symbol">)</a> <a id="44658" class="Symbol">=</a> <a id="44660" href="/lia/part1/Semantics/#44421" class="Bound">Γ⊨φ⇒ψ</a> <a id="44666" href="/lia/part1/Semantics/#44427" class="Bound">ϱ</a> <a id="44668" href="/lia/part1/Semantics/#44455" class="Function">AllΓ</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:dual-involution-solution">Solution to <a href="#exercise:dual-involution" title="Exercise 19">Exercise 19</a>
</h6>

  <pre class="Agda"><a id="60052" href="/lia/part1/Semantics/#59811" class="Function">dual-involutive</a> <a id="60068" href="/lia/part1/Semantics/#58718" class="InductiveConstructor">⊥</a> <a id="60070" class="Symbol">=</a> <a id="60072" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="60077" href="/lia/part1/Semantics/#59811" class="Function">dual-involutive</a> <a id="60093" href="/lia/part1/Semantics/#58745" class="InductiveConstructor">⊤</a> <a id="60095" class="Symbol">=</a> <a id="60097" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="60102" href="/lia/part1/Semantics/#59811" class="Function">dual-involutive</a> <a id="60118" class="Symbol">(</a><a id="60119" href="/lia/part1/Semantics/#58772" class="InductiveConstructor Operator">`</a> <a id="60121" href="/lia/part1/Semantics/#60121" class="Bound">p</a><a id="60122" class="Symbol">)</a> <a id="60124" class="Symbol">=</a> <a id="60126" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="60131" href="/lia/part1/Semantics/#59811" class="Function">dual-involutive</a> <a id="60147" class="Symbol">(</a><a id="60148" href="/lia/part1/Semantics/#58810" class="InductiveConstructor Operator">¬</a> <a id="60150" href="/lia/part1/Semantics/#60150" class="Bound">φ</a><a id="60151" class="Symbol">)</a>
  <a id="60155" class="Keyword">rewrite</a> <a id="60163" href="/lia/part1/Semantics/#59811" class="Function">dual-involutive</a> <a id="60179" href="/lia/part1/Semantics/#60150" class="Bound">φ</a> <a id="60181" class="Symbol">=</a> <a id="60183" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="60188" href="/lia/part1/Semantics/#59811" class="Function">dual-involutive</a> <a id="60204" class="Symbol">(</a><a id="60205" href="/lia/part1/Semantics/#60205" class="Bound">φ</a> <a id="60207" href="/lia/part1/Semantics/#58968" class="InductiveConstructor Operator">∧</a> <a id="60209" href="/lia/part1/Semantics/#60209" class="Bound">ψ</a><a id="60210" class="Symbol">)</a>
  <a id="60214" class="Keyword">rewrite</a> <a id="60222" href="/lia/part1/Semantics/#59811" class="Function">dual-involutive</a> <a id="60238" href="/lia/part1/Semantics/#60205" class="Bound">φ</a> <a id="60240" class="Symbol">|</a>
          <a id="60252" href="/lia/part1/Semantics/#59811" class="Function">dual-involutive</a> <a id="60268" href="/lia/part1/Semantics/#60209" class="Bound">ψ</a> <a id="60270" class="Symbol">=</a> <a id="60272" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="60277" href="/lia/part1/Semantics/#59811" class="Function">dual-involutive</a> <a id="60293" class="Symbol">(</a><a id="60294" href="/lia/part1/Semantics/#60294" class="Bound">φ</a> <a id="60296" href="/lia/part1/Semantics/#58873" class="InductiveConstructor Operator">∨</a> <a id="60298" href="/lia/part1/Semantics/#60298" class="Bound">ψ</a><a id="60299" class="Symbol">)</a>
  <a id="60303" class="Keyword">rewrite</a> <a id="60311" href="/lia/part1/Semantics/#59811" class="Function">dual-involutive</a> <a id="60327" href="/lia/part1/Semantics/#60294" class="Bound">φ</a> <a id="60329" class="Symbol">|</a>
          <a id="60341" href="/lia/part1/Semantics/#59811" class="Function">dual-involutive</a> <a id="60357" href="/lia/part1/Semantics/#60298" class="Bound">ψ</a> <a id="60359" class="Symbol">=</a> <a id="60361" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:duality-equivalence-1-solution">Solution to <a href="#exercise:duality-equivalence-1" title="Exercise 20">Exercise 20</a>
</h6>

  <pre class="Agda"><a id="61955" href="/lia/part1/Semantics/#61743" class="Function">duality-equivalence-1</a> <a id="61977" href="/lia/part1/Semantics/#61977" class="Bound">view-φ</a> <a id="61984" href="/lia/part1/Semantics/#61984" class="Bound">view-ψ</a> <a id="61991" href="/lia/part1/Semantics/#61991" class="Bound">φ⟺ψ</a> <a id="61995" href="/lia/part1/Semantics/#61995" class="Bound">ϱ</a>
  <a id="61999" class="Keyword">rewrite</a> <a id="62007" href="/lia/part1/Semantics/#60733" class="Function">duality</a> <a id="62015" href="/lia/part1/Semantics/#61995" class="Bound">ϱ</a> <a id="62017" href="/lia/part1/Semantics/#61977" class="Bound">view-φ</a> <a id="62024" class="Symbol">|</a>
          <a id="62036" href="/lia/part1/Semantics/#60733" class="Function">duality</a> <a id="62044" href="/lia/part1/Semantics/#61995" class="Bound">ϱ</a> <a id="62046" href="/lia/part1/Semantics/#61984" class="Bound">view-ψ</a> <a id="62053" class="Symbol">|</a>
          <a id="62065" href="/lia/part1/Semantics/#61991" class="Bound">φ⟺ψ</a> <a id="62069" class="Symbol">(</a><a id="62070" href="/lia/part1/Semantics/#60565" class="Function Operator">-</a> <a id="62072" href="/lia/part1/Semantics/#61995" class="Bound">ϱ</a><a id="62073" class="Symbol">)</a> <a id="62075" class="Symbol">=</a> <a id="62077" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:duality-equivalence-2-solution">Solution to <a href="#exercise:duality-equivalence-2" title="Exercise 21">Exercise 21</a>
</h6>

  <p>We begin by proving that dualisation preserves <code class="language-plaintext highlighter-rouge">{⊥,⊤,¬,∨,∧}</code> formulas:</p>

  <pre class="Agda"><a id="62721" href="/lia/part1/Semantics/#62450" class="Function">dual-preservation</a> <a id="62739" href="/lia/part1/Semantics/#58718" class="InductiveConstructor">⊥</a> <a id="62741" class="Symbol">=</a> <a id="62743" href="/lia/part1/Semantics/#58745" class="InductiveConstructor">⊤</a>
<a id="62745" href="/lia/part1/Semantics/#62450" class="Function">dual-preservation</a> <a id="62763" href="/lia/part1/Semantics/#58745" class="InductiveConstructor">⊤</a> <a id="62765" class="Symbol">=</a> <a id="62767" href="/lia/part1/Semantics/#58718" class="InductiveConstructor">⊥</a>
<a id="62769" href="/lia/part1/Semantics/#62450" class="Function">dual-preservation</a> <a id="62787" class="Symbol">(</a><a id="62788" href="/lia/part1/Semantics/#58772" class="InductiveConstructor Operator">`</a> <a id="62790" href="/lia/part1/Semantics/#62790" class="Bound">p</a><a id="62791" class="Symbol">)</a> <a id="62793" class="Symbol">=</a> <a id="62795" href="/lia/part1/Semantics/#58772" class="InductiveConstructor Operator">`</a> <a id="62797" href="/lia/part1/Semantics/#62790" class="Bound">p</a>
<a id="62799" href="/lia/part1/Semantics/#62450" class="Function">dual-preservation</a> <a id="62817" class="Symbol">(</a><a id="62818" href="/lia/part1/Semantics/#58810" class="InductiveConstructor Operator">¬</a> <a id="62820" href="/lia/part1/Semantics/#62820" class="Bound">view-φ</a><a id="62826" class="Symbol">)</a>
  <a id="62830" class="Symbol">=</a> <a id="62832" href="/lia/part1/Semantics/#58810" class="InductiveConstructor Operator">¬</a> <a id="62834" href="/lia/part1/Semantics/#62450" class="Function">dual-preservation</a> <a id="62852" href="/lia/part1/Semantics/#62820" class="Bound">view-φ</a>
<a id="62859" href="/lia/part1/Semantics/#62450" class="Function">dual-preservation</a> <a id="62877" class="Symbol">(</a><a id="62878" href="/lia/part1/Semantics/#62878" class="Bound">view-φ</a> <a id="62885" href="/lia/part1/Semantics/#58968" class="InductiveConstructor Operator">∧</a> <a id="62887" href="/lia/part1/Semantics/#62887" class="Bound">view-ψ</a><a id="62893" class="Symbol">)</a>
  <a id="62897" class="Symbol">=</a> <a id="62899" href="/lia/part1/Semantics/#62450" class="Function">dual-preservation</a> <a id="62917" href="/lia/part1/Semantics/#62878" class="Bound">view-φ</a> <a id="62924" href="/lia/part1/Semantics/#58873" class="InductiveConstructor Operator">∨</a> <a id="62926" href="/lia/part1/Semantics/#62450" class="Function">dual-preservation</a> <a id="62944" href="/lia/part1/Semantics/#62887" class="Bound">view-ψ</a>
<a id="62951" href="/lia/part1/Semantics/#62450" class="Function">dual-preservation</a> <a id="62969" class="Symbol">(</a><a id="62970" href="/lia/part1/Semantics/#62970" class="Bound">view-φ</a> <a id="62977" href="/lia/part1/Semantics/#58873" class="InductiveConstructor Operator">∨</a> <a id="62979" href="/lia/part1/Semantics/#62979" class="Bound">view-ψ</a><a id="62985" class="Symbol">)</a>
  <a id="62989" class="Symbol">=</a> <a id="62991" href="/lia/part1/Semantics/#62450" class="Function">dual-preservation</a> <a id="63009" href="/lia/part1/Semantics/#62970" class="Bound">view-φ</a> <a id="63016" href="/lia/part1/Semantics/#58968" class="InductiveConstructor Operator">∧</a> <a id="63018" href="/lia/part1/Semantics/#62450" class="Function">dual-preservation</a> <a id="63036" href="/lia/part1/Semantics/#62979" class="Bound">view-ψ</a></pre>

  <p>With <a href="#dual-preservation"><code class="language-plaintext highlighter-rouge">dual-preservation</code></a> in hand, we can show
<a href="#duality-equivalence-2"><code class="language-plaintext highlighter-rouge">duality-equivalence-2</code></a> by appealing to
<a href="#duality-equivalence-1"><code class="language-plaintext highlighter-rouge">duality-equivalence-1</code></a> :</p>

  <pre class="Agda"><a id="63176" href="/lia/part1/Semantics/#62194" class="Function">duality-equivalence-2</a> <a id="63198" class="Symbol">{</a><a id="63199" href="/lia/part1/Semantics/#63199" class="Bound">φ</a><a id="63200" class="Symbol">}</a> <a id="63202" class="Symbol">{</a><a id="63203" href="/lia/part1/Semantics/#63203" class="Bound">ψ</a><a id="63204" class="Symbol">}</a> <a id="63206" href="/lia/part1/Semantics/#63206" class="Bound">view-φ</a> <a id="63213" href="/lia/part1/Semantics/#63213" class="Bound">view-ψ</a> <a id="63220" href="/lia/part1/Semantics/#63220" class="Bound">φ⁻⟺ψ⁻</a> <a id="63226" href="/lia/part1/Semantics/#63226" class="Bound">ϱ</a> <a id="63228" class="Symbol">=</a> <a id="63230" href="/lia/part1/Semantics/#63425" class="Function">⟦φ⟧ϱ≡⟦ψ⟧ϱ</a> <a id="63240" class="Keyword">where</a>

  <a id="63249" href="/lia/part1/Semantics/#63249" class="Function">⟦φ⁻⁻⟧ϱ≡⟦ψ⁻⁻⟧ϱ</a> <a id="63263" class="Symbol">:</a> <a id="63265" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="63267" href="/lia/part1/Semantics/#63199" class="Bound">φ</a> <a id="63269" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="63271" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="63273" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="63275" href="/lia/part1/Semantics/#63226" class="Bound">ϱ</a> <a id="63277" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="63279" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="63281" href="/lia/part1/Semantics/#63203" class="Bound">ψ</a> <a id="63283" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="63285" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="63287" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="63289" href="/lia/part1/Semantics/#63226" class="Bound">ϱ</a>
  <a id="63293" href="/lia/part1/Semantics/#63249" class="Function">⟦φ⁻⁻⟧ϱ≡⟦ψ⁻⁻⟧ϱ</a>
    <a id="63311" class="Keyword">rewrite</a> <a id="63319" href="/lia/part1/Semantics/#61743" class="Function">duality-equivalence-1</a>
      <a id="63347" class="Symbol">(</a><a id="63348" href="/lia/part1/Semantics/#62450" class="Function">dual-preservation</a> <a id="63366" href="/lia/part1/Semantics/#63206" class="Bound">view-φ</a><a id="63372" class="Symbol">)</a>
      <a id="63380" class="Symbol">(</a><a id="63381" href="/lia/part1/Semantics/#62450" class="Function">dual-preservation</a> <a id="63399" href="/lia/part1/Semantics/#63213" class="Bound">view-ψ</a><a id="63405" class="Symbol">)</a> <a id="63407" href="/lia/part1/Semantics/#63220" class="Bound">φ⁻⟺ψ⁻</a> <a id="63413" href="/lia/part1/Semantics/#63226" class="Bound">ϱ</a> <a id="63415" class="Symbol">=</a> <a id="63417" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

  <a id="63425" href="/lia/part1/Semantics/#63425" class="Function">⟦φ⟧ϱ≡⟦ψ⟧ϱ</a> <a id="63435" class="Symbol">:</a> <a id="63437" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="63439" href="/lia/part1/Semantics/#63199" class="Bound">φ</a> <a id="63441" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="63443" href="/lia/part1/Semantics/#63226" class="Bound">ϱ</a> <a id="63445" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="63447" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="63449" href="/lia/part1/Semantics/#63203" class="Bound">ψ</a> <a id="63451" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="63453" href="/lia/part1/Semantics/#63226" class="Bound">ϱ</a>
  <a id="63457" href="/lia/part1/Semantics/#63425" class="Function">⟦φ⟧ϱ≡⟦ψ⟧ϱ</a>
    <a id="63471" class="Keyword">rewrite</a> <a id="63479" href="/lia/part0/Equality/#458" class="Function">sym</a> <a id="63483" class="Symbol">(</a><a id="63484" href="/lia/part1/Semantics/#59811" class="Function">dual-involutive</a> <a id="63500" href="/lia/part1/Semantics/#63206" class="Bound">view-φ</a><a id="63506" class="Symbol">)</a> <a id="63508" class="Symbol">|</a>
            <a id="63522" href="/lia/part0/Equality/#458" class="Function">sym</a> <a id="63526" class="Symbol">(</a><a id="63527" href="/lia/part1/Semantics/#59811" class="Function">dual-involutive</a> <a id="63543" href="/lia/part1/Semantics/#63213" class="Bound">view-ψ</a><a id="63549" class="Symbol">)</a> <a id="63551" class="Symbol">=</a> <a id="63553" href="/lia/part1/Semantics/#63249" class="Function">⟦φ⁻⁻⟧ϱ≡⟦ψ⁻⁻⟧ϱ</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<div class="solutionbox">

  <h6 id="exercise:duality-tautology-solution">Solution to <a href="#exercise:duality-tautology" title="Exercise 22">Exercise 22</a>
</h6>

  <pre class="Agda"><a id="64144" href="/lia/part1/Semantics/#63769" class="Function">duality-tautology</a> <a id="64162" class="Symbol">{</a><a id="64163" href="/lia/part1/Semantics/#64163" class="Bound">φ</a><a id="64164" class="Symbol">}</a> <a id="64166" href="/lia/part1/Semantics/#64166" class="Bound">view-φ</a> <a id="64173" href="/lia/part1/Semantics/#64173" class="Bound">tau-φ</a> <a id="64179" href="/lia/part1/Semantics/#64179" class="Bound">ϱ</a> <a id="64181" class="Symbol">=</a> <a id="64183" href="/lia/part1/Semantics/#64202" class="Function">goal</a> <a id="64188" href="/lia/part1/Semantics/#64173" class="Bound">tau-φ</a> <a id="64194" class="Keyword">where</a>
  <a id="64202" href="/lia/part1/Semantics/#64202" class="Function">goal</a> <a id="64207" class="Symbol">=</a> <a id="64209" href="/lia/part1/Semantics/#19630" class="Function">Tautology</a> <a id="64219" href="/lia/part1/Semantics/#64163" class="Bound">φ</a>       <a id="64227" class="Comment">{-1-}</a> <a id="64233" href="/lia/part0/Functions/#4493" class="Function Operator">by⟨</a> <a id="64237" href="/lia/part0/Logic/#1854" class="Field">fst</a> <a id="64241" class="Symbol">(</a><a id="64242" href="/lia/part1/Semantics/#24399" class="Function">tautology-equivalence</a> <a id="64264" href="/lia/part1/Semantics/#64163" class="Bound">φ</a><a id="64265" class="Symbol">)</a> <a id="64267" href="/lia/part0/Functions/#4493" class="Function Operator">⟩</a>
         <a id="64278" href="/lia/part1/Semantics/#64163" class="Bound">φ</a> <a id="64280" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="64282" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>             <a id="64296" class="Comment">{-2-}</a> <a id="64302" href="/lia/part0/Functions/#4493" class="Function Operator">by⟨</a> <a id="64306" href="/lia/part1/Semantics/#61743" class="Function">duality-equivalence-1</a> <a id="64328" href="/lia/part1/Semantics/#64166" class="Bound">view-φ</a> <a id="64335" href="/lia/part1/Semantics/#58745" class="InductiveConstructor">⊤</a> <a id="64337" href="/lia/part0/Functions/#4493" class="Function Operator">⟩</a>
         <a id="64348" href="/lia/part1/Semantics/#64163" class="Bound">φ</a> <a id="64350" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="64352" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="64354" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="64356" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>         <a id="64366" class="Comment">{-3-}</a> <a id="64372" href="/lia/part0/Functions/#4493" class="Function Operator">by⟨</a> <a id="64376" href="/lia/part1/Semantics/#29876" class="Function">congF</a> <a id="64382" class="Symbol">(</a><a id="64383" href="/lia/part1/Semantics/#64163" class="Bound">φ</a> <a id="64385" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a><a id="64386" class="Symbol">)</a> <a id="64388" class="Symbol">(</a><a id="64389" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="64391" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a><a id="64392" class="Symbol">)</a> <a id="64394" class="Symbol">(</a><a id="64395" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="64397" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="64399" href="/lia/part1/Semantics/#1194" class="Function">p₀</a><a id="64401" class="Symbol">)</a> <a id="64403" href="/lia/part1/Semantics/#1194" class="Function">p₀</a> <a id="64406" href="/lia/part0/Functions/#4493" class="Function Operator">⟩</a>
         <a id="64417" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="64419" href="/lia/part1/Semantics/#64163" class="Bound">φ</a> <a id="64421" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="64423" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="64425" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="64427" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="64429" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>     <a id="64435" class="Comment">{-4-}</a> <a id="64441" href="/lia/part0/Functions/#4493" class="Function Operator">by⟨</a> <a id="64445" href="/lia/part0/Functions/#301" class="Function">flip</a> <a id="64450" class="Symbol">(</a><a id="64451" href="/lia/part1/Semantics/#24097" class="Function">trans-⟺</a> <a id="64459" class="Symbol">(</a><a id="64460" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="64462" href="/lia/part1/Semantics/#64163" class="Bound">φ</a> <a id="64464" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a><a id="64465" class="Symbol">)</a> <a id="64467" class="Symbol">(</a><a id="64468" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="64470" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="64472" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a><a id="64473" class="Symbol">)</a> <a id="64475" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a><a id="64476" class="Symbol">)</a> <a id="64478" href="/lia/part1/Semantics/#26633" class="Function">¬¬⊤⟺⊤</a> <a id="64484" href="/lia/part0/Functions/#4493" class="Function Operator">⟩</a>
         <a id="64495" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="64497" href="/lia/part1/Semantics/#64163" class="Bound">φ</a> <a id="64499" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="64501" href="/lia/part1/Semantics/#22445" class="Function Operator">⟺</a> <a id="64503" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a>         <a id="64513" class="Comment">{-5-}</a> <a id="64519" href="/lia/part0/Functions/#4493" class="Function Operator">by⟨</a> <a id="64523" href="/lia/part0/Functions/#301" class="Function">flip</a> <a id="64528" class="Symbol">(</a><a id="64529" href="/lia/part0/Logic/#1866" class="Field">snd</a> <a id="64533" class="Symbol">(</a><a id="64534" href="/lia/part1/Semantics/#24399" class="Function">tautology-equivalence</a> <a id="64556" class="Symbol">(</a><a id="64557" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="64559" href="/lia/part1/Semantics/#64163" class="Bound">φ</a> <a id="64561" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a><a id="64562" class="Symbol">)))</a> <a id="64566" href="/lia/part1/Semantics/#64179" class="Bound">ϱ</a> <a id="64568" href="/lia/part0/Functions/#4493" class="Function Operator">⟩</a>
         <a id="64579" href="/lia/part0/Booleans/#1119" class="Function Operator">¬𝔹</a> <a id="64582" href="/lia/part1/Semantics/#6868" class="Function Operator">⟦</a> <a id="64584" href="/lia/part1/Semantics/#64163" class="Bound">φ</a> <a id="64586" href="/lia/part1/Semantics/#58099" class="Function Operator">⁻</a> <a id="64588" href="/lia/part1/Semantics/#6868" class="Function Operator">⟧</a> <a id="64590" href="/lia/part1/Semantics/#64179" class="Bound">ϱ</a> <a id="64592" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="64594" href="/lia/part0/Booleans/#284" class="InductiveConstructor">tt</a> <a id="64597" href="/lia/part0/Functions/#4658" class="Function Operator">QED</a></pre>

  <p>TODO: provide somewhere an introduction to
<a href="../../part0/Functions#_by%E2%9F%A8_%E2%9F%A9_"><code class="language-plaintext highlighter-rouge">_by⟨_⟩_</code></a> .</p>

  <p>We comment on each step of the proof:</p>

  <ol>
    <li>We begin by applying the left-to-right direction of
<a href="../../part1/Semantics#tautology-equivalence"><code class="language-plaintext highlighter-rouge">tautology-equivalence</code></a>
.</li>
    <li>By <a href="#duality-equivalence-1"><code class="language-plaintext highlighter-rouge">duality-equivalence-1</code></a> we lift the
equivalence to the dual formula <code class="language-plaintext highlighter-rouge">φ ⁻</code>.</li>
    <li>By simple reasoning based on the fact that
<a href="../../part1/Semantics#_%E2%9F%BA_"><code class="language-plaintext highlighter-rouge">_⟺_</code></a> is a congruence, we have that
<code class="language-plaintext highlighter-rouge">¬ φ ⁻</code> is logically equivalent to <code class="language-plaintext highlighter-rouge">¬ ¬ ⊤</code>
</li>
    <li>Thanks to <a href="../../part1/Semantics#%C2%AC%C2%AC%E2%8A%A4%E2%9F%BA%E2%8A%A4"><code class="language-plaintext highlighter-rouge">¬¬⊤⟺⊤</code></a> , <code class="language-plaintext highlighter-rouge">¬ φ ⁻</code> is
logically equivalent to <a href="../../part1/Semantics#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> .</li>
    <li>The proof is concluded by applying the right-to-left direction of
<a href="../../part1/Semantics#tautology-equivalence"><code class="language-plaintext highlighter-rouge">tautology-equivalence</code></a>
. <span class="hidden">∎</span> <span class="right-aligned">∎</span>
</li>
  </ol>

</div>

<div class="solutionbox">

  <h6 id="exercise:Formula2Tree-inj-solution">Solution to <a href="#exercise:Formula2Tree-inj" title="Exercise 23">Exercise 23</a>
</h6>

  <pre class="Agda"><a id="69280" href="/lia/part1/Semantics/#68891" class="Function">Formula2Tree-inj</a> <a id="69297" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="69299" href="/lia/part1/Semantics/#3584" class="InductiveConstructor">⊤</a> <a id="69301" class="Symbol">_</a> <a id="69303" class="Symbol">=</a> <a id="69305" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="69310" href="/lia/part1/Semantics/#68891" class="Function">Formula2Tree-inj</a> <a id="69327" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="69329" href="/lia/part1/Semantics/#3582" class="InductiveConstructor">⊥</a> <a id="69331" class="Symbol">_</a> <a id="69333" class="Symbol">=</a> <a id="69335" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="69340" href="/lia/part1/Semantics/#68891" class="Function">Formula2Tree-inj</a> <a id="69357" class="Symbol">(</a><a id="69358" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="69360" href="/lia/part1/Semantics/#69360" class="Bound">p</a><a id="69361" class="Symbol">)</a> <a id="69363" class="Symbol">(</a><a id="69364" href="/lia/part1/Semantics/#3600" class="InductiveConstructor Operator">`</a> <a id="69366" href="/lia/part1/Semantics/#69360" class="Bound">p</a><a id="69367" class="Symbol">)</a> <a id="69369" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="69374" class="Symbol">=</a> <a id="69376" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="69381" href="/lia/part1/Semantics/#68891" class="Function">Formula2Tree-inj</a> <a id="69398" class="Symbol">(</a><a id="69399" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="69401" href="/lia/part1/Semantics/#69401" class="Bound">a</a><a id="69402" class="Symbol">)</a> <a id="69404" class="Symbol">(</a><a id="69405" href="/lia/part1/Semantics/#3634" class="InductiveConstructor Operator">¬</a> <a id="69407" href="/lia/part1/Semantics/#69407" class="Bound">b</a><a id="69408" class="Symbol">)</a> <a id="69410" href="/lia/part1/Semantics/#69410" class="Bound">eql</a>
  <a id="69416" class="Keyword">with</a> <a id="69421" href="/lia/part1/Semantics/#68891" class="Function">Formula2Tree-inj</a> <a id="69438" class="Symbol">_</a> <a id="69440" class="Symbol">_</a> <a id="69442" class="Symbol">(</a><a id="69443" href="/lia/part0/List/#790" class="Function">∷-inj-left</a> <a id="69454" class="Symbol">(</a><a id="69455" href="/lia/part0/Tree/#560" class="Function">Node-inj-right</a> <a id="69470" href="/lia/part1/Semantics/#69410" class="Bound">eql</a><a id="69473" class="Symbol">))</a>
<a id="69476" class="Symbol">...</a> <a id="69480" class="Symbol">|</a> <a id="69482" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="69487" class="Symbol">=</a> <a id="69489" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="69494" href="/lia/part1/Semantics/#68891" class="Function">Formula2Tree-inj</a> <a id="69511" class="Symbol">(</a><a id="69512" href="/lia/part1/Semantics/#69512" class="Bound">φ</a> <a id="69514" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="69516" href="/lia/part1/Semantics/#69516" class="Bound">ψ</a><a id="69517" class="Symbol">)</a> <a id="69519" class="Symbol">(</a><a id="69520" href="/lia/part1/Semantics/#69520" class="Bound">φ'</a> <a id="69523" href="/lia/part1/Semantics/#3671" class="InductiveConstructor Operator">∧</a> <a id="69525" href="/lia/part1/Semantics/#69525" class="Bound">ψ'</a><a id="69527" class="Symbol">)</a> <a id="69529" href="/lia/part1/Semantics/#69529" class="Bound">eql</a>
  <a id="69535" class="Keyword">with</a> <a id="69540" href="/lia/part1/Semantics/#68891" class="Function">Formula2Tree-inj</a> <a id="69557" class="Symbol">_</a> <a id="69559" class="Symbol">_</a> <a id="69561" class="Symbol">(</a><a id="69562" href="/lia/part0/List/#790" class="Function">∷-inj-left</a> <a id="69573" class="Symbol">(</a><a id="69574" href="/lia/part0/Tree/#560" class="Function">Node-inj-right</a> <a id="69589" href="/lia/part1/Semantics/#69529" class="Bound">eql</a><a id="69592" class="Symbol">))</a> <a id="69595" class="Symbol">|</a>
       <a id="69604" href="/lia/part1/Semantics/#68891" class="Function">Formula2Tree-inj</a> <a id="69621" class="Symbol">_</a> <a id="69623" class="Symbol">_</a> <a id="69625" class="Symbol">(</a><a id="69626" href="/lia/part0/List/#790" class="Function">∷-inj-left</a> <a id="69637" class="Symbol">(</a><a id="69638" href="/lia/part0/List/#900" class="Function">∷-inj-right</a> <a id="69650" class="Symbol">(</a><a id="69651" href="/lia/part0/Tree/#560" class="Function">Node-inj-right</a> <a id="69666" href="/lia/part1/Semantics/#69529" class="Bound">eql</a><a id="69669" class="Symbol">)))</a>
<a id="69673" class="Symbol">...</a> <a id="69677" class="Symbol">|</a> <a id="69679" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="69684" class="Symbol">|</a> <a id="69686" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="69691" class="Symbol">=</a> <a id="69693" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="69698" href="/lia/part1/Semantics/#68891" class="Function">Formula2Tree-inj</a> <a id="69715" class="Symbol">(</a><a id="69716" href="/lia/part1/Semantics/#69716" class="Bound">φ</a> <a id="69718" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="69720" href="/lia/part1/Semantics/#69720" class="Bound">ψ</a><a id="69721" class="Symbol">)</a> <a id="69723" class="Symbol">(</a><a id="69724" href="/lia/part1/Semantics/#69724" class="Bound">φ'</a> <a id="69727" href="/lia/part1/Semantics/#3667" class="InductiveConstructor Operator">∨</a> <a id="69729" href="/lia/part1/Semantics/#69729" class="Bound">ψ'</a><a id="69731" class="Symbol">)</a> <a id="69733" href="/lia/part1/Semantics/#69733" class="Bound">eql</a>
  <a id="69739" class="Keyword">with</a> <a id="69744" href="/lia/part1/Semantics/#68891" class="Function">Formula2Tree-inj</a> <a id="69761" class="Symbol">_</a> <a id="69763" class="Symbol">_</a> <a id="69765" class="Symbol">(</a><a id="69766" href="/lia/part0/List/#790" class="Function">∷-inj-left</a> <a id="69777" class="Symbol">(</a><a id="69778" href="/lia/part0/Tree/#560" class="Function">Node-inj-right</a> <a id="69793" href="/lia/part1/Semantics/#69733" class="Bound">eql</a><a id="69796" class="Symbol">))</a> <a id="69799" class="Symbol">|</a>
       <a id="69808" href="/lia/part1/Semantics/#68891" class="Function">Formula2Tree-inj</a> <a id="69825" class="Symbol">_</a> <a id="69827" class="Symbol">_</a> <a id="69829" class="Symbol">(</a><a id="69830" href="/lia/part0/List/#790" class="Function">∷-inj-left</a> <a id="69841" class="Symbol">(</a><a id="69842" href="/lia/part0/List/#900" class="Function">∷-inj-right</a> <a id="69854" class="Symbol">(</a><a id="69855" href="/lia/part0/Tree/#560" class="Function">Node-inj-right</a> <a id="69870" href="/lia/part1/Semantics/#69733" class="Bound">eql</a><a id="69873" class="Symbol">)))</a>
<a id="69877" class="Symbol">...</a> <a id="69881" class="Symbol">|</a> <a id="69883" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="69888" class="Symbol">|</a> <a id="69890" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="69895" class="Symbol">=</a> <a id="69897" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="69902" href="/lia/part1/Semantics/#68891" class="Function">Formula2Tree-inj</a> <a id="69919" class="Symbol">(</a><a id="69920" href="/lia/part1/Semantics/#69920" class="Bound">φ</a> <a id="69922" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="69924" href="/lia/part1/Semantics/#69924" class="Bound">ψ</a><a id="69925" class="Symbol">)</a> <a id="69927" class="Symbol">(</a><a id="69928" href="/lia/part1/Semantics/#69928" class="Bound">φ'</a> <a id="69931" href="/lia/part1/Semantics/#3675" class="InductiveConstructor Operator">⇒</a> <a id="69933" href="/lia/part1/Semantics/#69933" class="Bound">ψ'</a><a id="69935" class="Symbol">)</a> <a id="69937" href="/lia/part1/Semantics/#69937" class="Bound">eql</a>
  <a id="69943" class="Keyword">with</a> <a id="69948" href="/lia/part1/Semantics/#68891" class="Function">Formula2Tree-inj</a> <a id="69965" class="Symbol">_</a> <a id="69967" class="Symbol">_</a> <a id="69969" class="Symbol">(</a><a id="69970" href="/lia/part0/List/#790" class="Function">∷-inj-left</a> <a id="69981" class="Symbol">(</a><a id="69982" href="/lia/part0/Tree/#560" class="Function">Node-inj-right</a> <a id="69997" href="/lia/part1/Semantics/#69937" class="Bound">eql</a><a id="70000" class="Symbol">))</a> <a id="70003" class="Symbol">|</a>
       <a id="70012" href="/lia/part1/Semantics/#68891" class="Function">Formula2Tree-inj</a> <a id="70029" class="Symbol">_</a> <a id="70031" class="Symbol">_</a> <a id="70033" class="Symbol">(</a><a id="70034" href="/lia/part0/List/#790" class="Function">∷-inj-left</a> <a id="70045" class="Symbol">(</a><a id="70046" href="/lia/part0/List/#900" class="Function">∷-inj-right</a> <a id="70058" class="Symbol">(</a><a id="70059" href="/lia/part0/Tree/#560" class="Function">Node-inj-right</a> <a id="70074" href="/lia/part1/Semantics/#69937" class="Bound">eql</a><a id="70077" class="Symbol">)))</a>
<a id="70081" class="Symbol">...</a> <a id="70085" class="Symbol">|</a> <a id="70087" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="70092" class="Symbol">|</a> <a id="70094" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="70099" class="Symbol">=</a> <a id="70101" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="70106" href="/lia/part1/Semantics/#68891" class="Function">Formula2Tree-inj</a> <a id="70123" class="Symbol">(</a><a id="70124" href="/lia/part1/Semantics/#70124" class="Bound">φ</a> <a id="70126" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="70128" href="/lia/part1/Semantics/#70128" class="Bound">ψ</a><a id="70129" class="Symbol">)</a> <a id="70131" class="Symbol">(</a><a id="70132" href="/lia/part1/Semantics/#70132" class="Bound">φ'</a> <a id="70135" href="/lia/part1/Semantics/#3679" class="InductiveConstructor Operator">⇔</a> <a id="70137" href="/lia/part1/Semantics/#70137" class="Bound">ψ'</a><a id="70139" class="Symbol">)</a> <a id="70141" href="/lia/part1/Semantics/#70141" class="Bound">eql</a>
  <a id="70147" class="Keyword">with</a> <a id="70152" href="/lia/part1/Semantics/#68891" class="Function">Formula2Tree-inj</a> <a id="70169" class="Symbol">_</a> <a id="70171" class="Symbol">_</a> <a id="70173" class="Symbol">(</a><a id="70174" href="/lia/part0/List/#790" class="Function">∷-inj-left</a> <a id="70185" class="Symbol">(</a><a id="70186" href="/lia/part0/Tree/#560" class="Function">Node-inj-right</a> <a id="70201" href="/lia/part1/Semantics/#70141" class="Bound">eql</a><a id="70204" class="Symbol">))</a> <a id="70207" class="Symbol">|</a>
       <a id="70216" href="/lia/part1/Semantics/#68891" class="Function">Formula2Tree-inj</a> <a id="70233" class="Symbol">_</a> <a id="70235" class="Symbol">_</a> <a id="70237" class="Symbol">(</a><a id="70238" href="/lia/part0/List/#790" class="Function">∷-inj-left</a> <a id="70249" class="Symbol">(</a><a id="70250" href="/lia/part0/List/#900" class="Function">∷-inj-right</a> <a id="70262" class="Symbol">(</a><a id="70263" href="/lia/part0/Tree/#560" class="Function">Node-inj-right</a> <a id="70278" href="/lia/part1/Semantics/#70141" class="Bound">eql</a><a id="70281" class="Symbol">)))</a>
<a id="70285" class="Symbol">...</a> <a id="70289" class="Symbol">|</a> <a id="70291" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="70296" class="Symbol">|</a> <a id="70298" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="70303" class="Symbol">=</a> <a id="70305" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<hr>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>With the simpler and perhaps more natural definition
<code class="language-plaintext highlighter-rouge">PropName = Fin n′</code> we would not be able to name any specific
proposition such as <code class="language-plaintext highlighter-rouge">p = fzero</code> since <code class="language-plaintext highlighter-rouge">n′</code> is arbitrary and in
particular it could be <code class="language-plaintext highlighter-rouge">0</code>, i.e., there could be no proposition at
all. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
    <li id="fn:2" role="doc-endnote">
      <p>Other commonly used symbols for implication are “→” (which
conflicts with Agda’s function space constructor <code class="language-plaintext highlighter-rouge">→</code> and thus must
be avoided), and the old-fashioned “⊃” (which conflicts with common
sense, since in terms of the subset relation, and implication is
more akin to “⊆”). <a href="#fnref:2" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
    <li id="fn:3" role="doc-endnote">
      <p>Currently there is a
<a href="https://github.com/agda/agda/issues/3209">bug</a> in Agda when
case-splitting (Ctr-c+Ctrl-c) on an argument (such as <code class="language-plaintext highlighter-rouge">Formula</code>)
which is defined in a parametric module (such as <code class="language-plaintext highlighter-rouge">part1.Semantics</code>).
For instance, if we case-split on <code class="language-plaintext highlighter-rouge">φ</code> in</p>

      <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>fun : Formula → Formula
fun φ = {! φ !}
</code></pre></div>      </div>

      <p>we get</p>

      <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>fun part1.Semantics.Formula.⊥ = ?
fun part1.Semantics.Formula.⊤ = ?
fun (part1.Semantics.Formula.` p) = ?
...
</code></pre></div>      </div>

      <p>instead of the expected</p>

      <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>fun ⊥ = ?
fun ⊤ = ?
fun (` p) = ?
...
</code></pre></div>      </div>
      <p><a href="#fnref:3" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
    <li id="fn:4" role="doc-endnote">
      <p>Recall that the similar notation
<a href="../../part0/Functions#_%5B_%E2%86%A6_%5D"><code class="language-plaintext highlighter-rouge">_[_↦_]</code></a> is reserved for
function updates. <a href="#fnref:4" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
    <li id="fn:5" role="doc-endnote">
      <p>The issue is that Agda does not perform splits on a catch-all
pattern <code class="language-plaintext highlighter-rouge">_</code>, thus preventing the following intuitive linear-sized
code from working:</p>

      <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>instance eqFormula : Eq (Formula)
_≡?_  = go where
  go : ∀ φ ψ → Dec (φ ≡ ψ)
  go ⊤ ⊤ = yes refl
  go ⊤ _ = no (λ ())
...
</code></pre></div>      </div>

      <p>This seems to be an often-made
<a href="https://github.com/agda/agda/issues/4804">complaint</a> about Agda. <a href="#fnref:5" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
    <li id="fn:6" role="doc-endnote">
      <p>We present a solution inspired from a discussion on
<a href="https://stackoverflow.com/questions/45150324/decidable-equality-in-agda-with-less-than-n2-cases">stackoverflow</a>. <a href="#fnref:6" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
  </ol>
</div>

    </div>
  
    <header class="nav-header">
    <p style="text-align:center;">
        
        
        
        <a alt="Part" href="/lia/part1/index/">Part</a>
        &bullet;
        
        
        <a alt="Source code" href="https://github.com/lclem/lia/blob/main/src/part1/Semantics.lagda.md">Source</a>
        
        
        
    </p>
</header>

    <p class="p-name"> Last-modified: Jan  9 17:39:48 2021 </p>
  </article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/lia/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Logic in Agda</h2><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Lorenzo Clemente</li>
          <li><a class="u-email" href="mailto:clementelorenzo@gmail.com">clementelorenzo@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/lclem"><svg class="svg-icon"><use xlink:href="/lia/assets/minima-social-icons.svg#github"></use></svg> <span class="username">lclem</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
  </div>
</footer>

<!-- Parse the Latex divs with Katex
<script type="text/javascript">
  $("script[type='math/tex']").replaceWith(
    function(){
      var tex = $(this).text();
      return katex.renderToString(tex, {displayMode: false});
  });
  
  $("script[type='math/tex; mode=display']").replaceWith(
    function(){
      var tex = $(this).text();
      return katex.renderToString(tex.replace(/%.*/g, ''), {displayMode: true});
  });
</script>
-->

<script type="text/javascript" src="/lia/assets/hidebox.js"></script>
</body>

</html>
