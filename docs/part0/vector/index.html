<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Vectors | Logic in Agda</title><!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Vectors" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Lropositional and fist-order logic developed with the proof assistant Agda." />
<meta property="og:description" content="Lropositional and fist-order logic developed with the proof assistant Agda." />
<link rel="canonical" href="http://localhost:4000/part0/vector/" />
<meta property="og:url" content="http://localhost:4000/part0/vector/" />
<meta property="og:site_name" content="Logic in Agda" />
<script type="application/ld+json">
{"url":"http://localhost:4000/part0/vector/","headline":"Vectors","description":"Lropositional and fist-order logic developed with the proof assistant Agda.","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css">
  <!-- <link rel="stylesheet" href="/assets/custom.css"> --><!-- Mathjax Support -->
  <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  <!-- Load KaTeX -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.js"></script>
</head>
<body><header class="site-header" role="banner">

    <div class="wrapper">

        <a class="site-title" href="/">Logic in Agda</a>

        <nav class="site-nav">
            <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                    <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                    <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                    <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
                </svg>
            </span>

            <div class="trigger">
                <a class="page-link" href="/part0/index/">Part 0</a>
                <a class="page-link" href="/part1/index/">Part 1</a>
                <a class="page-link" href="/part2/index/">Part 2</a>
                <a class="page-link" href="/part3/index/">Part 3</a>
                <a class="page-link" href="/part4/index/">Part 4</a>
            </div>
        </nav>

    </div>

</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

    <header class="post-header">
        <h1 class="post-title">Vectors</h1>
    </header>
  
    <p style="text-align:center;">
    
    
    
    <a alt="Part" href="/part0/index/">Part</a>
    &bullet;
    
    
    <a alt="Source code" href="https://github.com/lclem/lia/blob/mainsrc/part0/vector.lagda.md">Source</a>
    
    
    
</p>

  
    <div class="post-content">
        <h2>Contents</h2>    
        <ul class="section-nav">
</ul><pre class="Agda"><a id="29" class="Symbol">{-#</a> <a id="33" class="Keyword">OPTIONS</a> <a id="41" class="Pragma">--allow-unsolved-metas</a> <a id="64" class="Symbol">#-}</a>

<a id="69" class="Keyword">module</a> <a id="76" href="/part0/vector/" class="Module">part0.vector</a> <a id="89" class="Keyword">where</a>
<a id="95" class="Keyword">open</a> <a id="100" class="Keyword">import</a> <a id="107" href="/part0/list/" class="Module">part0.list</a>
<a id="118" class="Keyword">open</a> <a id="123" class="Keyword">import</a> <a id="130" href="/part0/logic/" class="Module">part0.logic</a>
<a id="142" class="Keyword">open</a> <a id="147" class="Keyword">import</a> <a id="154" href="/part0/depeq/" class="Module">part0.depeq</a>
<a id="166" class="Keyword">open</a> <a id="171" class="Keyword">import</a> <a id="178" href="/part0/nat/" class="Module">part0.nat</a>
<a id="188" class="Keyword">open</a> <a id="193" class="Keyword">import</a> <a id="200" href="/part0/utils/" class="Module">part0.utils</a>
<a id="212" class="Keyword">open</a> <a id="217" class="Keyword">import</a> <a id="224" href="/part0/Fin/" class="Module">part0.Fin</a>
<a id="234" class="Keyword">open</a> <a id="239" class="Keyword">import</a> <a id="246" href="/part0/fun/" class="Module">part0.fun</a>
<a id="256" class="Keyword">open</a> <a id="261" class="Keyword">import</a> <a id="268" href="/part0/decidable/" class="Module">part0.decidable</a>

<a id="285" class="Keyword">data</a> <a id="Vector"></a><a id="290" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="297" class="Symbol">{</a><a id="298" href="/part0/vector/#298" class="Bound">ℓ</a><a id="299" class="Symbol">}</a> <a id="301" class="Symbol">(</a><a id="302" href="/part0/vector/#302" class="Bound">A</a> <a id="304" class="Symbol">:</a> <a id="306" class="PrimitiveType">Set</a> <a id="310" href="/part0/vector/#298" class="Bound">ℓ</a><a id="311" class="Symbol">)</a> <a id="313" class="Symbol">:</a> <a id="315" href="/part0/nat/#203" class="Datatype">ℕ</a> <a id="317" class="Symbol">→</a> <a id="319" class="PrimitiveType">Set</a> <a id="323" href="/part0/vector/#298" class="Bound">ℓ</a> <a id="325" class="Keyword">where</a>
  <a id="Vector.ε"></a><a id="333" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="335" class="Symbol">:</a> <a id="337" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="344" href="/part0/vector/#302" class="Bound">A</a> <a id="346" href="/part0/nat/#219" class="InductiveConstructor">zero</a>
  <a id="Vector._∷_"></a><a id="353" href="/part0/vector/#353" class="InductiveConstructor Operator">_∷_</a> <a id="357" class="Symbol">:</a> <a id="359" class="Symbol">∀</a> <a id="361" class="Symbol">{</a><a id="362" href="/part0/vector/#362" class="Bound">n</a><a id="363" class="Symbol">}</a> <a id="365" class="Symbol">→</a> <a id="367" href="/part0/vector/#302" class="Bound">A</a> <a id="369" class="Symbol">→</a> <a id="371" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="378" href="/part0/vector/#302" class="Bound">A</a> <a id="380" href="/part0/vector/#362" class="Bound">n</a> <a id="382" class="Symbol">→</a> <a id="384" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="391" href="/part0/vector/#302" class="Bound">A</a> <a id="393" class="Symbol">(</a><a id="394" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="398" href="/part0/vector/#362" class="Bound">n</a><a id="399" class="Symbol">)</a>

<a id="402" class="Comment">-- dependent equality of two vectors of equal length:</a>
<a id="456" class="Comment">-- _≡v[_]_ : ∀ {ℓ m n} {A : Set ℓ} → Vector A m → m ≡ n → Vector A n → Set ℓ</a>
<a id="533" class="Comment">-- xs ≡v[ refl ] ys = xs ≡ ys</a>

<a id="564" class="Comment">-- cons-≡v : ∀ {ℓ m n} {A : Set ℓ} {as : Vector A m} {bs : Vector A n} {a : A} →</a>
<a id="645" class="Comment">--   (m≡n : m ≡ n) →</a>
<a id="666" class="Comment">--   as ≡[ m≡n ] bs →</a>
<a id="688" class="Comment">--   (a ∷ as) ≡[ cong suc m≡n ] (a ∷ bs)</a>
<a id="729" class="Comment">-- cons-≡v refl refl = refl</a>

<a id="758" class="Comment">-- convenient tuple-like notation</a>
<a id="&lt;_&gt;"></a><a id="792" href="/part0/vector/#792" class="Function Operator">&lt;_&gt;</a> <a id="796" class="Symbol">:</a> <a id="798" class="Symbol">∀</a> <a id="800" class="Symbol">{</a><a id="801" href="/part0/vector/#801" class="Bound">ℓ</a><a id="802" class="Symbol">}</a> <a id="804" class="Symbol">{</a><a id="805" href="/part0/vector/#805" class="Bound">A</a> <a id="807" class="Symbol">:</a> <a id="809" class="PrimitiveType">Set</a> <a id="813" href="/part0/vector/#801" class="Bound">ℓ</a><a id="814" class="Symbol">}</a> <a id="816" class="Symbol">{</a><a id="817" href="/part0/vector/#817" class="Bound">n</a> <a id="819" class="Symbol">:</a> <a id="821" href="/part0/nat/#203" class="Datatype">ℕ</a><a id="822" class="Symbol">}</a> <a id="824" class="Symbol">→</a> <a id="826" href="/part0/nat/#5828" class="Function">longAnd</a> <a id="834" href="/part0/vector/#805" class="Bound">A</a> <a id="836" href="/part0/vector/#817" class="Bound">n</a> <a id="838" class="Symbol">→</a> <a id="840" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="847" href="/part0/vector/#805" class="Bound">A</a> <a id="849" href="/part0/vector/#817" class="Bound">n</a>
<a id="851" href="/part0/vector/#792" class="Function Operator">&lt;_&gt;</a> <a id="855" class="Symbol">{</a><a id="856" class="Argument">n</a> <a id="858" class="Symbol">=</a> <a id="860" class="Number">0</a><a id="861" class="Symbol">}</a> <a id="863" href="/part0/logic/#1635" class="InductiveConstructor">tt</a> <a id="866" class="Symbol">=</a> <a id="868" href="/part0/vector/#333" class="InductiveConstructor">ε</a>
<a id="870" href="/part0/vector/#792" class="Function Operator">&lt;_&gt;</a> <a id="874" class="Symbol">{</a><a id="875" class="Argument">n</a> <a id="877" class="Symbol">=</a> <a id="879" class="Number">1</a><a id="880" class="Symbol">}</a> <a id="882" href="/part0/vector/#882" class="Bound">a</a> <a id="884" class="Symbol">=</a> <a id="886" href="/part0/vector/#882" class="Bound">a</a> <a id="888" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="890" href="/part0/vector/#792" class="Function Operator">&lt;</a> <a id="892" href="/part0/logic/#1635" class="InductiveConstructor">tt</a> <a id="895" href="/part0/vector/#792" class="Function Operator">&gt;</a>
<a id="897" href="/part0/vector/#792" class="Function Operator">&lt;_&gt;</a> <a id="901" class="Symbol">{</a><a id="902" class="Argument">n</a> <a id="904" class="Symbol">=</a> <a id="906" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="910" class="Symbol">(</a><a id="911" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="915" href="/part0/vector/#915" class="Bound">n</a><a id="916" class="Symbol">)}</a> <a id="919" class="Symbol">(</a><a id="920" href="/part0/vector/#920" class="Bound">a</a> <a id="922" href="/part0/logic/#1224" class="InductiveConstructor Operator">,</a> <a id="924" href="/part0/vector/#924" class="Bound">as</a><a id="926" class="Symbol">)</a> <a id="928" class="Symbol">=</a> <a id="930" href="/part0/vector/#920" class="Bound">a</a> <a id="932" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="934" href="/part0/vector/#792" class="Function Operator">&lt;</a> <a id="936" href="/part0/vector/#924" class="Bound">as</a> <a id="939" href="/part0/vector/#792" class="Function Operator">&gt;</a>

<a id="vsingleton"></a><a id="942" href="/part0/vector/#942" class="Function">vsingleton</a> <a id="953" class="Symbol">:</a> <a id="955" class="Symbol">∀</a> <a id="957" class="Symbol">{</a><a id="958" href="/part0/vector/#958" class="Bound">ℓ</a><a id="959" class="Symbol">}</a> <a id="961" class="Symbol">{</a><a id="962" href="/part0/vector/#962" class="Bound">A</a> <a id="964" class="Symbol">:</a> <a id="966" class="PrimitiveType">Set</a> <a id="970" href="/part0/vector/#958" class="Bound">ℓ</a><a id="971" class="Symbol">}</a> <a id="973" class="Symbol">→</a> <a id="975" href="/part0/vector/#962" class="Bound">A</a> <a id="977" class="Symbol">→</a> <a id="979" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="986" href="/part0/vector/#962" class="Bound">A</a> <a id="988" class="Number">1</a>
<a id="990" href="/part0/vector/#942" class="Function">vsingleton</a> <a id="1001" href="/part0/vector/#1001" class="Bound">a</a> <a id="1003" class="Symbol">=</a> <a id="1005" href="/part0/vector/#792" class="Function Operator">&lt;</a> <a id="1007" href="/part0/vector/#1001" class="Bound">a</a> <a id="1009" href="/part0/vector/#792" class="Function Operator">&gt;</a>

<a id="1012" class="Keyword">infixr</a> <a id="1019" class="Number">26</a> <a id="1022" href="/part0/vector/#1028" class="Function Operator">_++v_</a>
<a id="_++v_"></a><a id="1028" href="/part0/vector/#1028" class="Function Operator">_++v_</a> <a id="1034" class="Symbol">:</a> <a id="1036" class="Symbol">∀</a> <a id="1038" class="Symbol">{</a><a id="1039" href="/part0/vector/#1039" class="Bound">ℓ</a><a id="1040" class="Symbol">}</a> <a id="1042" class="Symbol">{</a><a id="1043" href="/part0/vector/#1043" class="Bound">m</a> <a id="1045" href="/part0/vector/#1045" class="Bound">n</a><a id="1046" class="Symbol">}</a> <a id="1048" class="Symbol">{</a><a id="1049" href="/part0/vector/#1049" class="Bound">A</a> <a id="1051" class="Symbol">:</a> <a id="1053" class="PrimitiveType">Set</a> <a id="1057" href="/part0/vector/#1039" class="Bound">ℓ</a><a id="1058" class="Symbol">}</a> <a id="1060" class="Symbol">→</a> <a id="1062" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="1069" href="/part0/vector/#1049" class="Bound">A</a> <a id="1071" href="/part0/vector/#1043" class="Bound">m</a> <a id="1073" class="Symbol">→</a> <a id="1075" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="1082" href="/part0/vector/#1049" class="Bound">A</a> <a id="1084" href="/part0/vector/#1045" class="Bound">n</a> <a id="1086" class="Symbol">→</a> <a id="1088" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="1095" href="/part0/vector/#1049" class="Bound">A</a> <a id="1097" class="Symbol">(</a><a id="1098" href="/part0/vector/#1043" class="Bound">m</a> <a id="1100" href="/part0/nat/#3683" class="Function Operator">+</a> <a id="1102" href="/part0/vector/#1045" class="Bound">n</a><a id="1103" class="Symbol">)</a>
<a id="1105" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="1107" href="/part0/vector/#1028" class="Function Operator">++v</a> <a id="1111" href="/part0/vector/#1111" class="Bound">bs</a> <a id="1114" class="Symbol">=</a> <a id="1116" href="/part0/vector/#1111" class="Bound">bs</a>
<a id="1119" class="Symbol">(</a><a id="1120" href="/part0/vector/#1120" class="Bound">a</a> <a id="1122" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="1124" href="/part0/vector/#1124" class="Bound">as</a><a id="1126" class="Symbol">)</a> <a id="1128" href="/part0/vector/#1028" class="Function Operator">++v</a> <a id="1132" href="/part0/vector/#1132" class="Bound">bs</a> <a id="1135" class="Symbol">=</a> <a id="1137" href="/part0/vector/#1120" class="Bound">a</a> <a id="1139" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="1141" class="Symbol">(</a><a id="1142" href="/part0/vector/#1124" class="Bound">as</a> <a id="1145" href="/part0/vector/#1028" class="Function Operator">++v</a> <a id="1149" href="/part0/vector/#1132" class="Bound">bs</a><a id="1151" class="Symbol">)</a>

<a id="vmap"></a><a id="1154" href="/part0/vector/#1154" class="Function">vmap</a> <a id="1159" class="Symbol">:</a> <a id="1161" class="Symbol">∀</a> <a id="1163" class="Symbol">{</a><a id="1164" href="/part0/vector/#1164" class="Bound">ℓ</a> <a id="1166" href="/part0/vector/#1166" class="Bound">m</a><a id="1167" class="Symbol">}</a> <a id="1169" class="Symbol">{</a><a id="1170" href="/part0/vector/#1170" class="Bound">n</a><a id="1171" class="Symbol">}</a> <a id="1173" class="Symbol">{</a><a id="1174" href="/part0/vector/#1174" class="Bound">A</a> <a id="1176" class="Symbol">:</a> <a id="1178" class="PrimitiveType">Set</a> <a id="1182" href="/part0/vector/#1164" class="Bound">ℓ</a><a id="1183" class="Symbol">}</a> <a id="1185" class="Symbol">{</a><a id="1186" href="/part0/vector/#1186" class="Bound">B</a> <a id="1188" class="Symbol">:</a> <a id="1190" class="PrimitiveType">Set</a> <a id="1194" href="/part0/vector/#1166" class="Bound">m</a><a id="1195" class="Symbol">}</a> <a id="1197" class="Symbol">→</a> <a id="1199" class="Symbol">(</a><a id="1200" href="/part0/vector/#1174" class="Bound">A</a> <a id="1202" class="Symbol">→</a> <a id="1204" href="/part0/vector/#1186" class="Bound">B</a><a id="1205" class="Symbol">)</a> <a id="1207" class="Symbol">→</a> <a id="1209" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="1216" href="/part0/vector/#1174" class="Bound">A</a> <a id="1218" href="/part0/vector/#1170" class="Bound">n</a> <a id="1220" class="Symbol">→</a> <a id="1222" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="1229" href="/part0/vector/#1186" class="Bound">B</a> <a id="1231" href="/part0/vector/#1170" class="Bound">n</a>
<a id="1233" href="/part0/vector/#1154" class="Function">vmap</a> <a id="1238" class="Symbol">_</a> <a id="1240" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="1242" class="Symbol">=</a> <a id="1244" href="/part0/vector/#333" class="InductiveConstructor">ε</a>
<a id="1246" href="/part0/vector/#1154" class="Function">vmap</a> <a id="1251" href="/part0/vector/#1251" class="Bound">f</a> <a id="1253" class="Symbol">(</a><a id="1254" href="/part0/vector/#1254" class="Bound">a</a> <a id="1256" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="1258" href="/part0/vector/#1258" class="Bound">as</a><a id="1260" class="Symbol">)</a> <a id="1262" class="Symbol">=</a> <a id="1264" href="/part0/vector/#1251" class="Bound">f</a> <a id="1266" href="/part0/vector/#1254" class="Bound">a</a> <a id="1268" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="1270" href="/part0/vector/#1154" class="Function">vmap</a> <a id="1275" href="/part0/vector/#1251" class="Bound">f</a> <a id="1277" href="/part0/vector/#1258" class="Bound">as</a>

<a id="vmap-id"></a><a id="1281" href="/part0/vector/#1281" class="Function">vmap-id</a> <a id="1289" class="Symbol">:</a> <a id="1291" class="Symbol">∀</a> <a id="1293" class="Symbol">{</a><a id="1294" href="/part0/vector/#1294" class="Bound">ℓ</a><a id="1295" class="Symbol">}</a> <a id="1297" class="Symbol">{</a><a id="1298" href="/part0/vector/#1298" class="Bound">n</a><a id="1299" class="Symbol">}</a> <a id="1301" class="Symbol">{</a><a id="1302" href="/part0/vector/#1302" class="Bound">A</a> <a id="1304" class="Symbol">:</a> <a id="1306" class="PrimitiveType">Set</a> <a id="1310" href="/part0/vector/#1294" class="Bound">ℓ</a><a id="1311" class="Symbol">}</a> <a id="1313" class="Symbol">{</a><a id="1314" href="/part0/vector/#1314" class="Bound">as</a> <a id="1317" class="Symbol">:</a> <a id="1319" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="1326" href="/part0/vector/#1302" class="Bound">A</a> <a id="1328" href="/part0/vector/#1298" class="Bound">n</a><a id="1329" class="Symbol">}</a> <a id="1331" class="Symbol">→</a> <a id="1333" href="/part0/vector/#1154" class="Function">vmap</a> <a id="1338" href="/part0/utils/#261" class="Function">id</a> <a id="1341" href="/part0/vector/#1314" class="Bound">as</a> <a id="1344" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="1346" href="/part0/vector/#1314" class="Bound">as</a>
<a id="1349" href="/part0/vector/#1281" class="Function">vmap-id</a> <a id="1357" class="Symbol">{</a><a id="1358" class="Argument">as</a> <a id="1361" class="Symbol">=</a> <a id="1363" href="/part0/vector/#333" class="InductiveConstructor">ε</a><a id="1364" class="Symbol">}</a> <a id="1366" class="Symbol">=</a> <a id="1368" href="/part0/eq/#222" class="InductiveConstructor">refl</a>
<a id="1373" href="/part0/vector/#1281" class="Function">vmap-id</a> <a id="1381" class="Symbol">{</a><a id="1382" class="Argument">as</a> <a id="1385" class="Symbol">=</a> <a id="1387" href="/part0/vector/#1387" class="Bound">a</a> <a id="1389" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="1391" href="/part0/vector/#1391" class="Bound">as</a><a id="1393" class="Symbol">}</a> <a id="1395" class="Symbol">=</a> <a id="1397" href="/part0/eq/#488" class="Function">cong</a> <a id="1402" class="Symbol">(</a><a id="1403" href="/part0/vector/#353" class="InductiveConstructor Operator">_∷_</a> <a id="1407" href="/part0/vector/#1387" class="Bound">a</a><a id="1408" class="Symbol">)</a> <a id="1410" href="/part0/vector/#1281" class="Function">vmap-id</a>

<a id="vmap-∘"></a><a id="1419" href="/part0/vector/#1419" class="Function">vmap-∘</a> <a id="1426" class="Symbol">:</a> <a id="1428" class="Symbol">∀</a> <a id="1430" class="Symbol">{</a><a id="1431" href="/part0/vector/#1431" class="Bound">ℓ</a> <a id="1433" href="/part0/vector/#1433" class="Bound">m</a> <a id="1435" href="/part0/vector/#1435" class="Bound">o</a><a id="1436" class="Symbol">}</a> <a id="1438" class="Symbol">{</a><a id="1439" href="/part0/vector/#1439" class="Bound">n</a><a id="1440" class="Symbol">}</a> <a id="1442" class="Symbol">{</a><a id="1443" href="/part0/vector/#1443" class="Bound">A</a> <a id="1445" class="Symbol">:</a> <a id="1447" class="PrimitiveType">Set</a> <a id="1451" href="/part0/vector/#1431" class="Bound">ℓ</a><a id="1452" class="Symbol">}</a> <a id="1454" class="Symbol">{</a><a id="1455" href="/part0/vector/#1455" class="Bound">B</a> <a id="1457" class="Symbol">:</a> <a id="1459" class="PrimitiveType">Set</a> <a id="1463" href="/part0/vector/#1433" class="Bound">m</a><a id="1464" class="Symbol">}</a> <a id="1466" class="Symbol">{</a><a id="1467" href="/part0/vector/#1467" class="Bound">C</a> <a id="1469" class="Symbol">:</a> <a id="1471" class="PrimitiveType">Set</a> <a id="1475" href="/part0/vector/#1435" class="Bound">o</a><a id="1476" class="Symbol">}</a> <a id="1478" class="Symbol">→</a>
  <a id="1482" class="Symbol">{</a><a id="1483" href="/part0/vector/#1483" class="Bound">f</a> <a id="1485" class="Symbol">:</a> <a id="1487" href="/part0/vector/#1443" class="Bound">A</a> <a id="1489" class="Symbol">→</a> <a id="1491" href="/part0/vector/#1455" class="Bound">B</a><a id="1492" class="Symbol">}</a> <a id="1494" class="Symbol">→</a>
  <a id="1498" class="Symbol">{</a><a id="1499" href="/part0/vector/#1499" class="Bound">g</a> <a id="1501" class="Symbol">:</a> <a id="1503" href="/part0/vector/#1455" class="Bound">B</a> <a id="1505" class="Symbol">→</a> <a id="1507" href="/part0/vector/#1467" class="Bound">C</a><a id="1508" class="Symbol">}</a> <a id="1510" class="Symbol">→</a>
  <a id="1514" class="Symbol">{</a><a id="1515" href="/part0/vector/#1515" class="Bound">as</a> <a id="1518" class="Symbol">:</a> <a id="1520" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="1527" href="/part0/vector/#1443" class="Bound">A</a> <a id="1529" href="/part0/vector/#1439" class="Bound">n</a><a id="1530" class="Symbol">}</a> <a id="1532" class="Symbol">→</a>
  <a id="1536" href="/part0/vector/#1154" class="Function">vmap</a> <a id="1541" href="/part0/vector/#1499" class="Bound">g</a> <a id="1543" class="Symbol">(</a><a id="1544" href="/part0/vector/#1154" class="Function">vmap</a> <a id="1549" href="/part0/vector/#1483" class="Bound">f</a> <a id="1551" href="/part0/vector/#1515" class="Bound">as</a><a id="1553" class="Symbol">)</a> <a id="1555" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="1557" href="/part0/vector/#1154" class="Function">vmap</a> <a id="1562" class="Symbol">(</a><a id="1563" href="/part0/vector/#1499" class="Bound">g</a> <a id="1565" href="/part0/utils/#636" class="Function Operator">∘</a> <a id="1567" href="/part0/vector/#1483" class="Bound">f</a><a id="1568" class="Symbol">)</a> <a id="1570" href="/part0/vector/#1515" class="Bound">as</a>
<a id="1573" href="/part0/vector/#1419" class="Function">vmap-∘</a> <a id="1580" class="Symbol">{</a><a id="1581" class="Argument">as</a> <a id="1584" class="Symbol">=</a> <a id="1586" href="/part0/vector/#333" class="InductiveConstructor">ε</a><a id="1587" class="Symbol">}</a> <a id="1589" class="Symbol">=</a> <a id="1591" href="/part0/eq/#222" class="InductiveConstructor">refl</a>
<a id="1596" href="/part0/vector/#1419" class="Function">vmap-∘</a> <a id="1603" class="Symbol">{</a><a id="1604" class="Argument">f</a> <a id="1606" class="Symbol">=</a> <a id="1608" href="/part0/vector/#1608" class="Bound">f</a><a id="1609" class="Symbol">}</a> <a id="1611" class="Symbol">{</a><a id="1612" href="/part0/vector/#1612" class="Bound">g</a><a id="1613" class="Symbol">}</a> <a id="1615" class="Symbol">{</a><a id="1616" href="/part0/vector/#1616" class="Bound">a</a> <a id="1618" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="1620" href="/part0/vector/#1620" class="Bound">as</a><a id="1622" class="Symbol">}</a> <a id="1624" class="Keyword">with</a> <a id="1629" href="/part0/vector/#1419" class="Function">vmap-∘</a> <a id="1636" class="Symbol">{</a><a id="1637" class="Argument">as</a> <a id="1640" class="Symbol">=</a> <a id="1642" href="/part0/vector/#1620" class="Bound">as</a><a id="1644" class="Symbol">}</a>
<a id="1646" class="Symbol">...</a> <a id="1650" class="Symbol">|</a> <a id="1652" href="/part0/vector/#1652" class="Bound">eq</a> <a id="1655" class="Symbol">=</a> <a id="1657" href="/part0/eq/#488" class="Function">cong</a> <a id="1662" class="Symbol">(λ</a> <a id="1665" href="/part0/vector/#1665" class="Bound">as</a> <a id="1668" class="Symbol">→</a> <a id="1670" class="Bound">g</a> <a id="1672" class="Symbol">(</a><a id="1673" class="Bound">f</a> <a id="1675" class="Bound">a</a><a id="1676" class="Symbol">)</a> <a id="1678" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="1680" href="/part0/vector/#1665" class="Bound">as</a><a id="1682" class="Symbol">)</a> <a id="1684" href="/part0/vector/#1652" class="Bound">eq</a>

<a id="1688" class="Comment">-- vmap-∘-auto : ∀ {ℓ m o} {n} {A : Set ℓ} {B : Set m} {C : Set o}</a>
<a id="1755" class="Comment">--   {f : A → B}</a>
<a id="1772" class="Comment">--   {g : B → C} →</a>
<a id="1791" class="Comment">--   (as : Vector A n) →</a>
<a id="1816" class="Comment">--   vmap g (vmap f as) ≡ vmap (g ∘ f) as</a>
<a id="1858" class="Comment">-- vmap-∘-auto {f = f} {g = g} as = vmap-∘ {as = as}</a>

<a id="vmap'"></a><a id="1912" href="/part0/vector/#1912" class="Function">vmap'</a> <a id="1918" class="Symbol">:</a> <a id="1920" class="Symbol">∀</a> <a id="1922" class="Symbol">{</a><a id="1923" href="/part0/vector/#1923" class="Bound">ℓ</a> <a id="1925" href="/part0/vector/#1925" class="Bound">m</a><a id="1926" class="Symbol">}</a> <a id="1928" class="Symbol">{</a><a id="1929" href="/part0/vector/#1929" class="Bound">n</a><a id="1930" class="Symbol">}</a> <a id="1932" class="Symbol">{</a><a id="1933" href="/part0/vector/#1933" class="Bound">A</a> <a id="1935" class="Symbol">:</a> <a id="1937" class="PrimitiveType">Set</a> <a id="1941" href="/part0/vector/#1923" class="Bound">ℓ</a><a id="1942" class="Symbol">}</a> <a id="1944" class="Symbol">{</a><a id="1945" href="/part0/vector/#1945" class="Bound">B</a> <a id="1947" class="Symbol">:</a> <a id="1949" class="PrimitiveType">Set</a> <a id="1953" href="/part0/vector/#1925" class="Bound">m</a><a id="1954" class="Symbol">}</a> <a id="1956" class="Symbol">→</a> <a id="1958" class="Symbol">(</a><a id="1959" href="/part0/vector/#1933" class="Bound">A</a> <a id="1961" class="Symbol">→</a> <a id="1963" href="/part0/nat/#203" class="Datatype">ℕ</a> <a id="1965" class="Symbol">→</a> <a id="1967" href="/part0/vector/#1945" class="Bound">B</a><a id="1968" class="Symbol">)</a> <a id="1970" class="Symbol">→</a> <a id="1972" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="1979" href="/part0/vector/#1933" class="Bound">A</a> <a id="1981" href="/part0/vector/#1929" class="Bound">n</a> <a id="1983" class="Symbol">→</a> <a id="1985" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="1992" href="/part0/vector/#1945" class="Bound">B</a> <a id="1994" href="/part0/vector/#1929" class="Bound">n</a>
<a id="1996" href="/part0/vector/#1912" class="Function">vmap'</a> <a id="2002" href="/part0/vector/#2002" class="Bound">f</a> <a id="2004" href="/part0/vector/#2004" class="Bound">as</a> <a id="2007" class="Symbol">=</a> <a id="2009" href="/part0/vector/#2032" class="Function">go</a> <a id="2012" href="/part0/vector/#2002" class="Bound">f</a> <a id="2014" href="/part0/vector/#2004" class="Bound">as</a> <a id="2017" href="/part0/nat/#219" class="InductiveConstructor">zero</a> <a id="2022" class="Keyword">where</a>
    <a id="2032" href="/part0/vector/#2032" class="Function">go</a> <a id="2035" class="Symbol">:</a> <a id="2037" class="Symbol">∀</a> <a id="2039" class="Symbol">{</a><a id="2040" href="/part0/vector/#2040" class="Bound">ℓ</a> <a id="2042" href="/part0/vector/#2042" class="Bound">m</a><a id="2043" class="Symbol">}</a> <a id="2045" class="Symbol">{</a><a id="2046" href="/part0/vector/#2046" class="Bound">n</a><a id="2047" class="Symbol">}</a> <a id="2049" class="Symbol">{</a><a id="2050" href="/part0/vector/#2050" class="Bound">A</a> <a id="2052" class="Symbol">:</a> <a id="2054" class="PrimitiveType">Set</a> <a id="2058" href="/part0/vector/#2040" class="Bound">ℓ</a><a id="2059" class="Symbol">}</a> <a id="2061" class="Symbol">{</a><a id="2062" href="/part0/vector/#2062" class="Bound">B</a> <a id="2064" class="Symbol">:</a> <a id="2066" class="PrimitiveType">Set</a> <a id="2070" href="/part0/vector/#2042" class="Bound">m</a><a id="2071" class="Symbol">}</a> <a id="2073" class="Symbol">→</a> <a id="2075" class="Symbol">(</a><a id="2076" href="/part0/vector/#2050" class="Bound">A</a> <a id="2078" class="Symbol">→</a> <a id="2080" href="/part0/nat/#203" class="Datatype">ℕ</a> <a id="2082" class="Symbol">→</a> <a id="2084" href="/part0/vector/#2062" class="Bound">B</a><a id="2085" class="Symbol">)</a> <a id="2087" class="Symbol">→</a> <a id="2089" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="2096" href="/part0/vector/#2050" class="Bound">A</a> <a id="2098" href="/part0/vector/#2046" class="Bound">n</a> <a id="2100" class="Symbol">→</a> <a id="2102" href="/part0/nat/#203" class="Datatype">ℕ</a> <a id="2104" class="Symbol">→</a> <a id="2106" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="2113" href="/part0/vector/#2062" class="Bound">B</a> <a id="2115" href="/part0/vector/#2046" class="Bound">n</a>
    <a id="2121" href="/part0/vector/#2032" class="Function">go</a> <a id="2124" class="Symbol">_</a> <a id="2126" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="2128" class="Symbol">_</a> <a id="2130" class="Symbol">=</a> <a id="2132" href="/part0/vector/#333" class="InductiveConstructor">ε</a>
    <a id="2138" href="/part0/vector/#2032" class="Function">go</a> <a id="2141" href="/part0/vector/#2141" class="Bound">f</a> <a id="2143" class="Symbol">(</a><a id="2144" href="/part0/vector/#2144" class="Bound">a</a> <a id="2146" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="2148" href="/part0/vector/#2148" class="Bound">as</a><a id="2150" class="Symbol">)</a> <a id="2152" href="/part0/vector/#2152" class="Bound">n</a> <a id="2154" class="Symbol">=</a> <a id="2156" href="/part0/vector/#2141" class="Bound">f</a> <a id="2158" href="/part0/vector/#2144" class="Bound">a</a> <a id="2160" href="/part0/vector/#2152" class="Bound">n</a> <a id="2162" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="2164" href="/part0/vector/#2032" class="Function">go</a> <a id="2167" href="/part0/vector/#2141" class="Bound">f</a> <a id="2169" href="/part0/vector/#2148" class="Bound">as</a> <a id="2172" class="Symbol">(</a><a id="2173" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="2177" href="/part0/vector/#2152" class="Bound">n</a><a id="2178" class="Symbol">)</a>

<a id="vlength"></a><a id="2181" href="/part0/vector/#2181" class="Function">vlength</a> <a id="2189" class="Symbol">:</a> <a id="2191" class="Symbol">∀</a> <a id="2193" class="Symbol">{</a><a id="2194" href="/part0/vector/#2194" class="Bound">ℓ</a><a id="2195" class="Symbol">}</a> <a id="2197" class="Symbol">{</a><a id="2198" href="/part0/vector/#2198" class="Bound">n</a><a id="2199" class="Symbol">}</a> <a id="2201" class="Symbol">{</a><a id="2202" href="/part0/vector/#2202" class="Bound">A</a> <a id="2204" class="Symbol">:</a> <a id="2206" class="PrimitiveType">Set</a> <a id="2210" href="/part0/vector/#2194" class="Bound">ℓ</a><a id="2211" class="Symbol">}</a> <a id="2213" class="Symbol">→</a> <a id="2215" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="2222" href="/part0/vector/#2202" class="Bound">A</a> <a id="2224" href="/part0/vector/#2198" class="Bound">n</a> <a id="2226" class="Symbol">→</a> <a id="2228" href="/part0/nat/#203" class="Datatype">ℕ</a>
<a id="2230" href="/part0/vector/#2181" class="Function">vlength</a> <a id="2238" class="Symbol">{_}</a> <a id="2242" class="Symbol">{</a><a id="2243" href="/part0/vector/#2243" class="Bound">n</a><a id="2244" class="Symbol">}</a> <a id="2246" class="Symbol">_</a> <a id="2248" class="Symbol">=</a> <a id="2250" href="/part0/vector/#2243" class="Bound">n</a>

<a id="vzipWith"></a><a id="2253" href="/part0/vector/#2253" class="Function">vzipWith</a> <a id="2262" class="Symbol">:</a> <a id="2264" class="Symbol">∀</a> <a id="2266" class="Symbol">{</a><a id="2267" href="/part0/vector/#2267" class="Bound">ℓ</a> <a id="2269" href="/part0/vector/#2269" class="Bound">m</a> <a id="2271" href="/part0/vector/#2271" class="Bound">o</a><a id="2272" class="Symbol">}</a> <a id="2274" class="Symbol">{</a><a id="2275" href="/part0/vector/#2275" class="Bound">n</a><a id="2276" class="Symbol">}</a> <a id="2278" class="Symbol">{</a><a id="2279" href="/part0/vector/#2279" class="Bound">A</a> <a id="2281" class="Symbol">:</a> <a id="2283" class="PrimitiveType">Set</a> <a id="2287" href="/part0/vector/#2267" class="Bound">ℓ</a><a id="2288" class="Symbol">}</a> <a id="2290" class="Symbol">{</a><a id="2291" href="/part0/vector/#2291" class="Bound">B</a> <a id="2293" class="Symbol">:</a> <a id="2295" class="PrimitiveType">Set</a> <a id="2299" href="/part0/vector/#2269" class="Bound">m</a><a id="2300" class="Symbol">}</a> <a id="2302" class="Symbol">{</a><a id="2303" href="/part0/vector/#2303" class="Bound">C</a> <a id="2305" class="Symbol">:</a> <a id="2307" class="PrimitiveType">Set</a> <a id="2311" href="/part0/vector/#2271" class="Bound">o</a><a id="2312" class="Symbol">}</a> <a id="2314" class="Symbol">→</a> <a id="2316" class="Symbol">(</a><a id="2317" href="/part0/vector/#2279" class="Bound">A</a> <a id="2319" class="Symbol">→</a> <a id="2321" href="/part0/vector/#2291" class="Bound">B</a> <a id="2323" class="Symbol">→</a> <a id="2325" href="/part0/vector/#2303" class="Bound">C</a><a id="2326" class="Symbol">)</a> <a id="2328" class="Symbol">→</a> <a id="2330" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="2337" href="/part0/vector/#2279" class="Bound">A</a> <a id="2339" href="/part0/vector/#2275" class="Bound">n</a> <a id="2341" class="Symbol">→</a> <a id="2343" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="2350" href="/part0/vector/#2291" class="Bound">B</a> <a id="2352" href="/part0/vector/#2275" class="Bound">n</a> <a id="2354" class="Symbol">→</a> <a id="2356" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="2363" href="/part0/vector/#2303" class="Bound">C</a> <a id="2365" href="/part0/vector/#2275" class="Bound">n</a>
<a id="2367" href="/part0/vector/#2253" class="Function">vzipWith</a> <a id="2376" class="Symbol">_</a> <a id="2378" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="2380" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="2382" class="Symbol">=</a> <a id="2384" href="/part0/vector/#333" class="InductiveConstructor">ε</a>
<a id="2386" href="/part0/vector/#2253" class="Function">vzipWith</a> <a id="2395" href="/part0/vector/#2395" class="Bound">f</a> <a id="2397" class="Symbol">(</a><a id="2398" href="/part0/vector/#2398" class="Bound">a</a> <a id="2400" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="2402" href="/part0/vector/#2402" class="Bound">as</a><a id="2404" class="Symbol">)</a> <a id="2406" class="Symbol">(</a><a id="2407" href="/part0/vector/#2407" class="Bound">b</a> <a id="2409" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="2411" href="/part0/vector/#2411" class="Bound">bs</a><a id="2413" class="Symbol">)</a> <a id="2415" class="Symbol">=</a> <a id="2417" href="/part0/vector/#2395" class="Bound">f</a> <a id="2419" href="/part0/vector/#2398" class="Bound">a</a> <a id="2421" href="/part0/vector/#2407" class="Bound">b</a> <a id="2423" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="2425" href="/part0/vector/#2253" class="Function">vzipWith</a> <a id="2434" href="/part0/vector/#2395" class="Bound">f</a> <a id="2436" href="/part0/vector/#2402" class="Bound">as</a> <a id="2439" href="/part0/vector/#2411" class="Bound">bs</a>

<a id="vmap-zipWith"></a><a id="2443" href="/part0/vector/#2443" class="Function">vmap-zipWith</a> <a id="2456" class="Symbol">:</a> <a id="2458" class="Symbol">∀</a> <a id="2460" class="Symbol">{</a><a id="2461" href="/part0/vector/#2461" class="Bound">ℓA</a> <a id="2464" href="/part0/vector/#2464" class="Bound">ℓB</a> <a id="2467" href="/part0/vector/#2467" class="Bound">ℓC</a> <a id="2470" href="/part0/vector/#2470" class="Bound">ℓD</a><a id="2472" class="Symbol">}</a> <a id="2474" class="Symbol">{</a><a id="2475" href="/part0/vector/#2475" class="Bound">n</a><a id="2476" class="Symbol">}</a> <a id="2478" class="Symbol">{</a><a id="2479" href="/part0/vector/#2479" class="Bound">A</a> <a id="2481" class="Symbol">:</a> <a id="2483" class="PrimitiveType">Set</a> <a id="2487" href="/part0/vector/#2461" class="Bound">ℓA</a><a id="2489" class="Symbol">}</a> <a id="2491" class="Symbol">{</a><a id="2492" href="/part0/vector/#2492" class="Bound">B</a> <a id="2494" class="Symbol">:</a> <a id="2496" class="PrimitiveType">Set</a> <a id="2500" href="/part0/vector/#2464" class="Bound">ℓB</a><a id="2502" class="Symbol">}</a> <a id="2504" class="Symbol">{</a><a id="2505" href="/part0/vector/#2505" class="Bound">C</a> <a id="2507" class="Symbol">:</a> <a id="2509" class="PrimitiveType">Set</a> <a id="2513" href="/part0/vector/#2467" class="Bound">ℓC</a><a id="2515" class="Symbol">}</a> <a id="2517" class="Symbol">{</a><a id="2518" href="/part0/vector/#2518" class="Bound">D</a> <a id="2520" class="Symbol">:</a> <a id="2522" class="PrimitiveType">Set</a> <a id="2526" href="/part0/vector/#2470" class="Bound">ℓD</a><a id="2528" class="Symbol">}</a> <a id="2530" class="Symbol">→</a>
  <a id="2534" class="Symbol">(</a><a id="2535" href="/part0/vector/#2535" class="Bound">f</a> <a id="2537" class="Symbol">:</a> <a id="2539" href="/part0/vector/#2479" class="Bound">A</a> <a id="2541" class="Symbol">→</a> <a id="2543" href="/part0/vector/#2492" class="Bound">B</a><a id="2544" class="Symbol">)</a> <a id="2546" class="Symbol">→</a>
  <a id="2550" class="Symbol">(</a><a id="2551" href="/part0/vector/#2551" class="Bound">g</a> <a id="2553" class="Symbol">:</a> <a id="2555" href="/part0/vector/#2479" class="Bound">A</a> <a id="2557" class="Symbol">→</a> <a id="2559" href="/part0/vector/#2505" class="Bound">C</a><a id="2560" class="Symbol">)</a> <a id="2562" class="Symbol">→</a>
  <a id="2566" class="Symbol">(</a><a id="2567" href="/part0/vector/#2567" class="Bound">h</a> <a id="2569" class="Symbol">:</a> <a id="2571" href="/part0/vector/#2492" class="Bound">B</a> <a id="2573" class="Symbol">→</a> <a id="2575" href="/part0/vector/#2505" class="Bound">C</a> <a id="2577" class="Symbol">→</a> <a id="2579" href="/part0/vector/#2518" class="Bound">D</a><a id="2580" class="Symbol">)</a> <a id="2582" class="Symbol">→</a>
  <a id="2586" class="Symbol">(</a><a id="2587" href="/part0/vector/#2587" class="Bound">as</a> <a id="2590" class="Symbol">:</a> <a id="2592" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="2599" href="/part0/vector/#2479" class="Bound">A</a> <a id="2601" href="/part0/vector/#2475" class="Bound">n</a><a id="2602" class="Symbol">)</a> <a id="2604" class="Symbol">→</a>
  <a id="2608" href="/part0/vector/#1154" class="Function">vmap</a> <a id="2613" class="Symbol">(λ</a> <a id="2616" href="/part0/vector/#2616" class="Bound">x</a> <a id="2618" class="Symbol">→</a> <a id="2620" href="/part0/vector/#2567" class="Bound">h</a> <a id="2622" class="Symbol">(</a><a id="2623" href="/part0/vector/#2535" class="Bound">f</a> <a id="2625" href="/part0/vector/#2616" class="Bound">x</a><a id="2626" class="Symbol">)</a> <a id="2628" class="Symbol">(</a><a id="2629" href="/part0/vector/#2551" class="Bound">g</a> <a id="2631" href="/part0/vector/#2616" class="Bound">x</a><a id="2632" class="Symbol">))</a> <a id="2635" href="/part0/vector/#2587" class="Bound">as</a> <a id="2638" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="2640" href="/part0/vector/#2253" class="Function">vzipWith</a> <a id="2649" href="/part0/vector/#2567" class="Bound">h</a> <a id="2651" class="Symbol">(</a><a id="2652" href="/part0/vector/#1154" class="Function">vmap</a> <a id="2657" href="/part0/vector/#2535" class="Bound">f</a> <a id="2659" href="/part0/vector/#2587" class="Bound">as</a><a id="2661" class="Symbol">)</a> <a id="2663" class="Symbol">(</a><a id="2664" href="/part0/vector/#1154" class="Function">vmap</a> <a id="2669" href="/part0/vector/#2551" class="Bound">g</a> <a id="2671" href="/part0/vector/#2587" class="Bound">as</a><a id="2673" class="Symbol">)</a>
<a id="2675" href="/part0/vector/#2443" class="Function">vmap-zipWith</a> <a id="2688" class="Symbol">_</a> <a id="2690" class="Symbol">_</a> <a id="2692" class="Symbol">_</a> <a id="2694" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="2696" class="Symbol">=</a> <a id="2698" href="/part0/eq/#222" class="InductiveConstructor">refl</a>
<a id="2703" href="/part0/vector/#2443" class="Function">vmap-zipWith</a> <a id="2716" href="/part0/vector/#2716" class="Bound">f</a> <a id="2718" href="/part0/vector/#2718" class="Bound">g</a> <a id="2720" href="/part0/vector/#2720" class="Bound">h</a> <a id="2722" class="Symbol">(</a><a id="2723" href="/part0/vector/#2723" class="Bound">a</a> <a id="2725" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="2727" href="/part0/vector/#2727" class="Bound">as</a><a id="2729" class="Symbol">)</a> <a id="2731" class="Keyword">with</a> <a id="2736" href="/part0/vector/#2443" class="Function">vmap-zipWith</a> <a id="2749" href="/part0/vector/#2716" class="Bound">f</a> <a id="2751" href="/part0/vector/#2718" class="Bound">g</a> <a id="2753" href="/part0/vector/#2720" class="Bound">h</a> <a id="2755" href="/part0/vector/#2727" class="Bound">as</a>
<a id="2758" class="Symbol">...</a> <a id="2762" class="Symbol">|</a> <a id="2764" href="/part0/vector/#2764" class="Bound">p</a> <a id="2766" class="Symbol">=</a> <a id="2768" href="/part0/eq/#771" class="Function">cong2</a> <a id="2774" href="/part0/vector/#353" class="InductiveConstructor Operator">_∷_</a> <a id="2778" href="/part0/eq/#222" class="InductiveConstructor">refl</a> <a id="2783" href="/part0/vector/#2764" class="Bound">p</a>

<a id="vfoldl"></a><a id="2786" href="/part0/vector/#2786" class="Function">vfoldl</a> <a id="2793" class="Symbol">:</a> <a id="2795" class="Symbol">∀</a> <a id="2797" class="Symbol">{</a><a id="2798" href="/part0/vector/#2798" class="Bound">ℓ</a> <a id="2800" href="/part0/vector/#2800" class="Bound">m</a><a id="2801" class="Symbol">}</a> <a id="2803" class="Symbol">{</a><a id="2804" href="/part0/vector/#2804" class="Bound">n</a><a id="2805" class="Symbol">}</a> <a id="2807" class="Symbol">{</a><a id="2808" href="/part0/vector/#2808" class="Bound">A</a> <a id="2810" class="Symbol">:</a> <a id="2812" class="PrimitiveType">Set</a> <a id="2816" href="/part0/vector/#2798" class="Bound">ℓ</a><a id="2817" class="Symbol">}</a> <a id="2819" class="Symbol">{</a><a id="2820" href="/part0/vector/#2820" class="Bound">B</a> <a id="2822" class="Symbol">:</a> <a id="2824" class="PrimitiveType">Set</a> <a id="2828" href="/part0/vector/#2800" class="Bound">m</a><a id="2829" class="Symbol">}</a> <a id="2831" class="Symbol">→</a> <a id="2833" class="Symbol">(</a><a id="2834" href="/part0/vector/#2820" class="Bound">B</a> <a id="2836" class="Symbol">→</a> <a id="2838" href="/part0/vector/#2808" class="Bound">A</a> <a id="2840" class="Symbol">→</a> <a id="2842" href="/part0/vector/#2820" class="Bound">B</a><a id="2843" class="Symbol">)</a> <a id="2845" class="Symbol">→</a> <a id="2847" href="/part0/vector/#2820" class="Bound">B</a> <a id="2849" class="Symbol">→</a> <a id="2851" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="2858" href="/part0/vector/#2808" class="Bound">A</a> <a id="2860" href="/part0/vector/#2804" class="Bound">n</a> <a id="2862" class="Symbol">→</a> <a id="2864" href="/part0/vector/#2820" class="Bound">B</a>
<a id="2866" href="/part0/vector/#2786" class="Function">vfoldl</a> <a id="2873" href="/part0/vector/#2873" class="Bound">f</a> <a id="2875" href="/part0/vector/#2875" class="Bound">b</a> <a id="2877" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="2879" class="Symbol">=</a> <a id="2881" href="/part0/vector/#2875" class="Bound">b</a>
<a id="2883" href="/part0/vector/#2786" class="Function">vfoldl</a> <a id="2890" href="/part0/vector/#2890" class="Bound">f</a> <a id="2892" href="/part0/vector/#2892" class="Bound">b</a> <a id="2894" class="Symbol">(</a><a id="2895" href="/part0/vector/#2895" class="Bound">a</a> <a id="2897" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="2899" href="/part0/vector/#2899" class="Bound">as</a><a id="2901" class="Symbol">)</a> <a id="2903" class="Symbol">=</a> <a id="2905" href="/part0/vector/#2786" class="Function">vfoldl</a> <a id="2912" href="/part0/vector/#2890" class="Bound">f</a> <a id="2914" class="Symbol">(</a><a id="2915" href="/part0/vector/#2890" class="Bound">f</a> <a id="2917" href="/part0/vector/#2892" class="Bound">b</a> <a id="2919" href="/part0/vector/#2895" class="Bound">a</a><a id="2920" class="Symbol">)</a> <a id="2922" href="/part0/vector/#2899" class="Bound">as</a>

<a id="vconcat"></a><a id="2926" href="/part0/vector/#2926" class="Function">vconcat</a> <a id="2934" class="Symbol">:</a> <a id="2936" class="Symbol">∀</a> <a id="2938" class="Symbol">{</a><a id="2939" href="/part0/vector/#2939" class="Bound">ℓ</a><a id="2940" class="Symbol">}</a> <a id="2942" class="Symbol">{</a><a id="2943" href="/part0/vector/#2943" class="Bound">m</a> <a id="2945" href="/part0/vector/#2945" class="Bound">n</a><a id="2946" class="Symbol">}</a> <a id="2948" class="Symbol">{</a><a id="2949" href="/part0/vector/#2949" class="Bound">A</a> <a id="2951" class="Symbol">:</a> <a id="2953" class="PrimitiveType">Set</a> <a id="2957" href="/part0/vector/#2939" class="Bound">ℓ</a><a id="2958" class="Symbol">}</a> <a id="2960" class="Symbol">→</a> <a id="2962" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="2969" class="Symbol">(</a><a id="2970" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="2977" href="/part0/vector/#2949" class="Bound">A</a> <a id="2979" href="/part0/vector/#2943" class="Bound">m</a><a id="2980" class="Symbol">)</a> <a id="2982" href="/part0/vector/#2945" class="Bound">n</a> <a id="2984" class="Symbol">→</a> <a id="2986" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="2993" href="/part0/vector/#2949" class="Bound">A</a> <a id="2995" class="Symbol">(</a><a id="2996" href="/part0/vector/#2945" class="Bound">n</a> <a id="2998" href="/part0/nat/#4250" class="Function Operator">*</a> <a id="3000" href="/part0/vector/#2943" class="Bound">m</a><a id="3001" class="Symbol">)</a>
<a id="3003" class="Comment">-- cannot use "vfoldl _++v_ ε" since the type of _++v_ changes at every step</a>
<a id="3080" class="Comment">-- (could use TVectors though...</a>
<a id="3113" href="/part0/vector/#2926" class="Function">vconcat</a> <a id="3121" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="3123" class="Symbol">=</a> <a id="3125" href="/part0/vector/#333" class="InductiveConstructor">ε</a>
<a id="3127" href="/part0/vector/#2926" class="Function">vconcat</a> <a id="3135" class="Symbol">(</a><a id="3136" href="/part0/vector/#3136" class="Bound">as</a> <a id="3139" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="3141" href="/part0/vector/#3141" class="Bound">ass</a><a id="3144" class="Symbol">)</a> <a id="3146" class="Symbol">=</a> <a id="3148" href="/part0/vector/#3136" class="Bound">as</a> <a id="3151" href="/part0/vector/#1028" class="Function Operator">++v</a> <a id="3155" href="/part0/vector/#2926" class="Function">vconcat</a> <a id="3163" href="/part0/vector/#3141" class="Bound">ass</a>

<a id="3168" class="Comment">-- essentially vfoldl1 _∧_</a>
<a id="vand"></a><a id="3195" href="/part0/vector/#3195" class="Function">vand</a> <a id="3200" class="Symbol">:</a> <a id="3202" class="Symbol">∀</a> <a id="3204" class="Symbol">{</a><a id="3205" href="/part0/vector/#3205" class="Bound">ℓ</a> <a id="3207" href="/part0/vector/#3207" class="Bound">n</a><a id="3208" class="Symbol">}</a> <a id="3210" class="Symbol">→</a> <a id="3212" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="3219" class="Symbol">(</a><a id="3220" class="PrimitiveType">Set</a> <a id="3224" href="/part0/vector/#3205" class="Bound">ℓ</a><a id="3225" class="Symbol">)</a> <a id="3227" href="/part0/vector/#3207" class="Bound">n</a> <a id="3229" class="Symbol">→</a> <a id="3231" class="PrimitiveType">Set</a> <a id="3235" href="/part0/vector/#3205" class="Bound">ℓ</a>
<a id="3237" href="/part0/vector/#3195" class="Function">vand</a> <a id="3242" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="3244" class="Symbol">=</a> <a id="3246" href="/part0/logic/#1611" class="Datatype">⊤</a>
<a id="3248" href="/part0/vector/#3195" class="Function">vand</a> <a id="3253" class="Symbol">(</a><a id="3254" href="/part0/vector/#3254" class="Bound">A</a> <a id="3256" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="3258" href="/part0/vector/#333" class="InductiveConstructor">ε</a><a id="3259" class="Symbol">)</a> <a id="3261" class="Symbol">=</a> <a id="3263" href="/part0/vector/#3254" class="Bound">A</a>
<a id="3265" href="/part0/vector/#3195" class="CatchallClause Function">vand</a><a id="3269" class="CatchallClause"> </a><a id="3270" class="CatchallClause Symbol">(</a><a id="3271" href="/part0/vector/#3271" class="CatchallClause Bound">A</a><a id="3272" class="CatchallClause"> </a><a id="3273" href="/part0/vector/#353" class="CatchallClause InductiveConstructor Operator">∷</a><a id="3274" class="CatchallClause"> </a><a id="3275" href="/part0/vector/#3275" class="CatchallClause Bound">As</a><a id="3277" class="CatchallClause Symbol">)</a> <a id="3279" class="Symbol">=</a> <a id="3281" href="/part0/vector/#3271" class="Bound">A</a> <a id="3283" href="/part0/logic/#1156" class="Record Operator">∧</a> <a id="3285" href="/part0/vector/#3195" class="Function">vand</a> <a id="3290" href="/part0/vector/#3275" class="Bound">As</a>

<a id="vtake"></a><a id="3294" href="/part0/vector/#3294" class="Function">vtake</a> <a id="3300" class="Symbol">:</a> <a id="3302" class="Symbol">∀</a> <a id="3304" class="Symbol">{</a><a id="3305" href="/part0/vector/#3305" class="Bound">ℓ</a><a id="3306" class="Symbol">}</a> <a id="3308" class="Symbol">{</a><a id="3309" href="/part0/vector/#3309" class="Bound">A</a> <a id="3311" class="Symbol">:</a> <a id="3313" class="PrimitiveType">Set</a> <a id="3317" href="/part0/vector/#3305" class="Bound">ℓ</a><a id="3318" class="Symbol">}</a> <a id="3320" class="Symbol">(</a><a id="3321" href="/part0/vector/#3321" class="Bound">m</a> <a id="3323" class="Symbol">:</a> <a id="3325" href="/part0/nat/#203" class="Datatype">ℕ</a><a id="3326" class="Symbol">)</a> <a id="3328" class="Symbol">{</a><a id="3329" href="/part0/vector/#3329" class="Bound">n</a> <a id="3331" class="Symbol">:</a> <a id="3333" href="/part0/nat/#203" class="Datatype">ℕ</a><a id="3334" class="Symbol">}</a> <a id="3336" class="Symbol">→</a> <a id="3338" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="3345" href="/part0/vector/#3309" class="Bound">A</a> <a id="3347" class="Symbol">(</a><a id="3348" href="/part0/vector/#3321" class="Bound">m</a> <a id="3350" href="/part0/nat/#3683" class="Function Operator">+</a> <a id="3352" href="/part0/vector/#3329" class="Bound">n</a><a id="3353" class="Symbol">)</a> <a id="3355" class="Symbol">→</a> <a id="3357" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="3364" href="/part0/vector/#3309" class="Bound">A</a> <a id="3366" href="/part0/vector/#3321" class="Bound">m</a>
<a id="3368" href="/part0/vector/#3294" class="Function">vtake</a> <a id="3374" href="/part0/nat/#219" class="InductiveConstructor">zero</a> <a id="3379" class="Symbol">_</a> <a id="3381" class="Symbol">=</a> <a id="3383" href="/part0/vector/#333" class="InductiveConstructor">ε</a>
<a id="3385" href="/part0/vector/#3294" class="Function">vtake</a> <a id="3391" class="Symbol">(</a><a id="3392" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="3396" href="/part0/vector/#3396" class="Bound">k</a><a id="3397" class="Symbol">)</a> <a id="3399" class="Symbol">(</a><a id="3400" href="/part0/vector/#3400" class="Bound">a</a> <a id="3402" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="3404" href="/part0/vector/#3404" class="Bound">as</a><a id="3406" class="Symbol">)</a> <a id="3408" class="Symbol">=</a> <a id="3410" href="/part0/vector/#3400" class="Bound">a</a> <a id="3412" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="3414" href="/part0/vector/#3294" class="Function">vtake</a> <a id="3420" href="/part0/vector/#3396" class="Bound">k</a> <a id="3422" href="/part0/vector/#3404" class="Bound">as</a>

<a id="3426" class="Comment">-- alternative definition</a>
<a id="3452" class="Comment">-- vtake : ∀ {ℓ n} {A : Set ℓ} → (k : Fin n) → Vector A n → Vector A (Fin2ℕ k)</a>
<a id="3531" class="Comment">-- vtake fzero _ = ε</a>
<a id="3552" class="Comment">-- vtake (fsuc k) (a ∷ as) = a ∷ vtake k as</a>

<a id="vdrop"></a><a id="3597" href="/part0/vector/#3597" class="Function">vdrop</a> <a id="3603" class="Symbol">:</a> <a id="3605" class="Symbol">∀</a> <a id="3607" class="Symbol">{</a><a id="3608" href="/part0/vector/#3608" class="Bound">ℓ</a><a id="3609" class="Symbol">}</a> <a id="3611" class="Symbol">{</a><a id="3612" href="/part0/vector/#3612" class="Bound">A</a> <a id="3614" class="Symbol">:</a> <a id="3616" class="PrimitiveType">Set</a> <a id="3620" href="/part0/vector/#3608" class="Bound">ℓ</a><a id="3621" class="Symbol">}</a> <a id="3623" class="Symbol">(</a><a id="3624" href="/part0/vector/#3624" class="Bound">m</a> <a id="3626" class="Symbol">:</a> <a id="3628" href="/part0/nat/#203" class="Datatype">ℕ</a><a id="3629" class="Symbol">)</a> <a id="3631" class="Symbol">{</a><a id="3632" href="/part0/vector/#3632" class="Bound">n</a> <a id="3634" class="Symbol">:</a> <a id="3636" href="/part0/nat/#203" class="Datatype">ℕ</a><a id="3637" class="Symbol">}</a> <a id="3639" class="Symbol">→</a> <a id="3641" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="3648" href="/part0/vector/#3612" class="Bound">A</a> <a id="3650" class="Symbol">(</a><a id="3651" href="/part0/vector/#3624" class="Bound">m</a> <a id="3653" href="/part0/nat/#3683" class="Function Operator">+</a> <a id="3655" href="/part0/vector/#3632" class="Bound">n</a><a id="3656" class="Symbol">)</a> <a id="3658" class="Symbol">→</a> <a id="3660" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="3667" href="/part0/vector/#3612" class="Bound">A</a> <a id="3669" href="/part0/vector/#3632" class="Bound">n</a>
<a id="3671" href="/part0/vector/#3597" class="Function">vdrop</a> <a id="3677" href="/part0/nat/#219" class="InductiveConstructor">zero</a> <a id="3682" href="/part0/vector/#3682" class="Bound">as</a> <a id="3685" class="Symbol">=</a> <a id="3687" href="/part0/vector/#3682" class="Bound">as</a>
<a id="3690" href="/part0/vector/#3597" class="Function">vdrop</a> <a id="3696" class="Symbol">(</a><a id="3697" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="3701" href="/part0/vector/#3701" class="Bound">m</a><a id="3702" class="Symbol">)</a> <a id="3704" class="Symbol">(_</a> <a id="3707" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="3709" href="/part0/vector/#3709" class="Bound">as</a><a id="3711" class="Symbol">)</a> <a id="3713" class="Symbol">=</a> <a id="3715" href="/part0/vector/#3597" class="Function">vdrop</a> <a id="3721" href="/part0/vector/#3701" class="Bound">m</a> <a id="3723" href="/part0/vector/#3709" class="Bound">as</a>

<a id="vtake-drop-++"></a><a id="3727" href="/part0/vector/#3727" class="Function">vtake-drop-++</a> <a id="3741" class="Symbol">:</a> <a id="3743" class="Symbol">∀</a> <a id="3745" class="Symbol">{</a><a id="3746" href="/part0/vector/#3746" class="Bound">ℓ</a><a id="3747" class="Symbol">}</a> <a id="3749" class="Symbol">{</a><a id="3750" href="/part0/vector/#3750" class="Bound">A</a> <a id="3752" class="Symbol">:</a> <a id="3754" class="PrimitiveType">Set</a> <a id="3758" href="/part0/vector/#3746" class="Bound">ℓ</a><a id="3759" class="Symbol">}</a> <a id="3761" class="Symbol">(</a><a id="3762" href="/part0/vector/#3762" class="Bound">m</a> <a id="3764" class="Symbol">:</a> <a id="3766" href="/part0/nat/#203" class="Datatype">ℕ</a><a id="3767" class="Symbol">)</a> <a id="3769" class="Symbol">{</a><a id="3770" href="/part0/vector/#3770" class="Bound">n</a> <a id="3772" class="Symbol">:</a> <a id="3774" href="/part0/nat/#203" class="Datatype">ℕ</a><a id="3775" class="Symbol">}</a> <a id="3777" class="Symbol">(</a><a id="3778" href="/part0/vector/#3778" class="Bound">as</a> <a id="3781" class="Symbol">:</a> <a id="3783" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="3790" href="/part0/vector/#3750" class="Bound">A</a> <a id="3792" class="Symbol">(</a><a id="3793" href="/part0/vector/#3762" class="Bound">m</a> <a id="3795" href="/part0/nat/#3683" class="Function Operator">+</a> <a id="3797" href="/part0/vector/#3770" class="Bound">n</a><a id="3798" class="Symbol">))</a> <a id="3801" class="Symbol">→</a> <a id="3803" href="/part0/vector/#3294" class="Function">vtake</a> <a id="3809" href="/part0/vector/#3762" class="Bound">m</a> <a id="3811" href="/part0/vector/#3778" class="Bound">as</a> <a id="3814" href="/part0/vector/#1028" class="Function Operator">++v</a> <a id="3818" href="/part0/vector/#3597" class="Function">vdrop</a> <a id="3824" href="/part0/vector/#3762" class="Bound">m</a> <a id="3826" href="/part0/vector/#3778" class="Bound">as</a> <a id="3829" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="3831" href="/part0/vector/#3778" class="Bound">as</a>
<a id="3834" href="/part0/vector/#3727" class="Function">vtake-drop-++</a> <a id="3848" href="/part0/nat/#219" class="InductiveConstructor">zero</a> <a id="3853" class="Symbol">_</a> <a id="3855" class="Symbol">=</a> <a id="3857" href="/part0/eq/#222" class="InductiveConstructor">refl</a>
<a id="3862" href="/part0/vector/#3727" class="Function">vtake-drop-++</a> <a id="3876" class="Symbol">(</a><a id="3877" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="3881" href="/part0/vector/#3881" class="Bound">m</a><a id="3882" class="Symbol">)</a> <a id="3884" class="Symbol">(</a><a id="3885" href="/part0/vector/#3885" class="Bound">a</a> <a id="3887" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="3889" href="/part0/vector/#3889" class="Bound">as</a><a id="3891" class="Symbol">)</a> <a id="3893" class="Keyword">with</a> <a id="3898" href="/part0/vector/#3727" class="Function">vtake-drop-++</a> <a id="3912" href="/part0/vector/#3881" class="Bound">m</a> <a id="3914" href="/part0/vector/#3889" class="Bound">as</a>
<a id="3917" class="Symbol">...</a> <a id="3921" class="Symbol">|</a> <a id="3923" href="/part0/vector/#3923" class="Bound">ind</a> <a id="3927" class="Symbol">=</a> <a id="3929" href="/part0/eq/#488" class="Function">cong</a> <a id="3934" class="Symbol">(</a><a id="3935" href="/part0/vector/#353" class="InductiveConstructor Operator">_∷_</a> <a id="3939" class="Bound">a</a><a id="3940" class="Symbol">)</a> <a id="3942" href="/part0/vector/#3923" class="Bound">ind</a>

<a id="l2v"></a><a id="3947" href="/part0/vector/#3947" class="Function">l2v</a> <a id="3951" class="Symbol">:</a> <a id="3953" class="Symbol">∀</a> <a id="3955" class="Symbol">{</a><a id="3956" href="/part0/vector/#3956" class="Bound">ℓ</a><a id="3957" class="Symbol">}</a> <a id="3959" class="Symbol">{</a><a id="3960" href="/part0/vector/#3960" class="Bound">A</a> <a id="3962" class="Symbol">:</a> <a id="3964" class="PrimitiveType">Set</a> <a id="3968" href="/part0/vector/#3956" class="Bound">ℓ</a><a id="3969" class="Symbol">}</a> <a id="3971" class="Symbol">→</a> <a id="3973" class="Symbol">(</a><a id="3974" href="/part0/vector/#3974" class="Bound">as</a> <a id="3977" class="Symbol">:</a> <a id="3979" href="/part0/vector/#3960" class="Bound">A</a> <a id="3981" href="/part0/list/#548" class="Datatype Operator">*</a><a id="3982" class="Symbol">)</a> <a id="3984" class="Symbol">→</a> <a id="3986" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="3993" href="/part0/vector/#3960" class="Bound">A</a> <a id="3995" class="Symbol">(</a><a id="3996" href="/part0/list/#2416" class="Function">length</a> <a id="4003" href="/part0/vector/#3974" class="Bound">as</a><a id="4005" class="Symbol">)</a>
<a id="4007" href="/part0/vector/#3947" class="Function">l2v</a> <a id="4011" href="/part0/list/#585" class="InductiveConstructor">ε</a> <a id="4013" class="Symbol">=</a> <a id="4015" href="/part0/vector/#333" class="InductiveConstructor">ε</a>
<a id="4017" href="/part0/vector/#3947" class="Function">l2v</a> <a id="4021" class="Symbol">(</a><a id="4022" href="/part0/vector/#4022" class="Bound">a</a> <a id="4024" href="/part0/list/#597" class="InductiveConstructor Operator">∷</a> <a id="4026" href="/part0/vector/#4026" class="Bound">as</a><a id="4028" class="Symbol">)</a> <a id="4030" class="Symbol">=</a> <a id="4032" href="/part0/vector/#4022" class="Bound">a</a> <a id="4034" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="4036" href="/part0/vector/#3947" class="Function">l2v</a> <a id="4040" href="/part0/vector/#4026" class="Bound">as</a>

<a id="v2l"></a><a id="4044" href="/part0/vector/#4044" class="Function">v2l</a> <a id="4048" class="Symbol">:</a> <a id="4050" class="Symbol">∀</a> <a id="4052" class="Symbol">{</a><a id="4053" href="/part0/vector/#4053" class="Bound">ℓ</a><a id="4054" class="Symbol">}</a> <a id="4056" class="Symbol">{</a><a id="4057" href="/part0/vector/#4057" class="Bound">n</a><a id="4058" class="Symbol">}</a> <a id="4060" class="Symbol">{</a><a id="4061" href="/part0/vector/#4061" class="Bound">A</a> <a id="4063" class="Symbol">:</a> <a id="4065" class="PrimitiveType">Set</a> <a id="4069" href="/part0/vector/#4053" class="Bound">ℓ</a><a id="4070" class="Symbol">}</a> <a id="4072" class="Symbol">→</a> <a id="4074" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="4081" href="/part0/vector/#4061" class="Bound">A</a> <a id="4083" href="/part0/vector/#4057" class="Bound">n</a> <a id="4085" class="Symbol">→</a> <a id="4087" href="/part0/vector/#4061" class="Bound">A</a> <a id="4089" href="/part0/list/#548" class="Datatype Operator">*</a>
<a id="4091" href="/part0/vector/#4044" class="Function">v2l</a> <a id="4095" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="4097" class="Symbol">=</a> <a id="4099" href="/part0/list/#585" class="InductiveConstructor">ε</a>
<a id="4101" href="/part0/vector/#4044" class="Function">v2l</a> <a id="4105" class="Symbol">(</a><a id="4106" href="/part0/vector/#4106" class="Bound">a</a> <a id="4108" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="4110" href="/part0/vector/#4110" class="Bound">as</a><a id="4112" class="Symbol">)</a> <a id="4114" class="Symbol">=</a> <a id="4116" href="/part0/vector/#4106" class="Bound">a</a> <a id="4118" href="/part0/list/#597" class="InductiveConstructor Operator">∷</a> <a id="4120" href="/part0/vector/#4044" class="Function">v2l</a> <a id="4124" href="/part0/vector/#4110" class="Bound">as</a>

<a id="v2l-length"></a><a id="4128" href="/part0/vector/#4128" class="Function">v2l-length</a> <a id="4139" class="Symbol">:</a> <a id="4141" class="Symbol">∀</a> <a id="4143" class="Symbol">{</a><a id="4144" href="/part0/vector/#4144" class="Bound">ℓ</a><a id="4145" class="Symbol">}</a> <a id="4147" class="Symbol">{</a><a id="4148" href="/part0/vector/#4148" class="Bound">n</a><a id="4149" class="Symbol">}</a> <a id="4151" class="Symbol">{</a><a id="4152" href="/part0/vector/#4152" class="Bound">A</a> <a id="4154" class="Symbol">:</a> <a id="4156" class="PrimitiveType">Set</a> <a id="4160" href="/part0/vector/#4144" class="Bound">ℓ</a><a id="4161" class="Symbol">}</a> <a id="4163" class="Symbol">→</a> <a id="4165" class="Symbol">(</a><a id="4166" href="/part0/vector/#4166" class="Bound">as</a> <a id="4169" class="Symbol">:</a> <a id="4171" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="4178" href="/part0/vector/#4152" class="Bound">A</a> <a id="4180" href="/part0/vector/#4148" class="Bound">n</a><a id="4181" class="Symbol">)</a> <a id="4183" class="Symbol">→</a> <a id="4185" href="/part0/list/#2416" class="Function">length</a> <a id="4192" class="Symbol">(</a><a id="4193" href="/part0/vector/#4044" class="Function">v2l</a> <a id="4197" href="/part0/vector/#4166" class="Bound">as</a><a id="4199" class="Symbol">)</a> <a id="4201" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="4203" href="/part0/vector/#4148" class="Bound">n</a>
<a id="4205" href="/part0/vector/#4128" class="Function">v2l-length</a> <a id="4216" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="4218" class="Symbol">=</a> <a id="4220" href="/part0/eq/#222" class="InductiveConstructor">refl</a>
<a id="4225" href="/part0/vector/#4128" class="Function">v2l-length</a> <a id="4236" class="Symbol">(_</a> <a id="4239" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="4241" href="/part0/vector/#4241" class="Bound">as</a><a id="4243" class="Symbol">)</a> <a id="4245" class="Keyword">with</a> <a id="4250" href="/part0/vector/#4128" class="Function">v2l-length</a> <a id="4261" href="/part0/vector/#4241" class="Bound">as</a>
<a id="4264" class="Symbol">...</a> <a id="4268" class="Symbol">|</a> <a id="4270" href="/part0/vector/#4270" class="Bound">ind</a> <a id="4274" class="Symbol">=</a> <a id="4276" href="/part0/eq/#488" class="Function">cong</a> <a id="4281" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="4285" href="/part0/vector/#4270" class="Bound">ind</a>

<a id="4290" class="Comment">-- problem: n != length (v2l as)</a>
<a id="4323" class="Comment">-- solution: we use dependent equality of two vectors of provably equal length!</a>
<a id="l2v-v2l-id"></a><a id="4403" href="/part0/vector/#4403" class="Function">l2v-v2l-id</a> <a id="4414" class="Symbol">:</a> <a id="4416" class="Symbol">∀</a> <a id="4418" class="Symbol">{</a><a id="4419" href="/part0/vector/#4419" class="Bound">ℓ</a><a id="4420" class="Symbol">}</a> <a id="4422" class="Symbol">{</a><a id="4423" href="/part0/vector/#4423" class="Bound">n</a><a id="4424" class="Symbol">}</a> <a id="4426" class="Symbol">{</a><a id="4427" href="/part0/vector/#4427" class="Bound">A</a> <a id="4429" class="Symbol">:</a> <a id="4431" class="PrimitiveType">Set</a> <a id="4435" href="/part0/vector/#4419" class="Bound">ℓ</a><a id="4436" class="Symbol">}</a> <a id="4438" class="Symbol">→</a> <a id="4440" class="Symbol">(</a><a id="4441" href="/part0/vector/#4441" class="Bound">as</a> <a id="4444" class="Symbol">:</a> <a id="4446" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="4453" href="/part0/vector/#4427" class="Bound">A</a> <a id="4455" href="/part0/vector/#4423" class="Bound">n</a><a id="4456" class="Symbol">)</a> <a id="4458" class="Symbol">→</a> <a id="4460" href="/part0/vector/#3947" class="Function">l2v</a> <a id="4464" class="Symbol">(</a><a id="4465" href="/part0/vector/#4044" class="Function">v2l</a> <a id="4469" href="/part0/vector/#4441" class="Bound">as</a><a id="4471" class="Symbol">)</a> <a id="4473" href="/part0/depeq/#187" class="Function Operator">≡[</a> <a id="4476" href="/part0/vector/#4128" class="Function">v2l-length</a> <a id="4487" href="/part0/vector/#4441" class="Bound">as</a> <a id="4490" href="/part0/depeq/#187" class="Function Operator">]</a> <a id="4492" href="/part0/vector/#4441" class="Bound">as</a>
<a id="4495" href="/part0/vector/#4403" class="Function">l2v-v2l-id</a> <a id="4506" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="4508" class="Symbol">=</a> <a id="4510" href="/part0/eq/#222" class="InductiveConstructor">refl</a>
<a id="4515" href="/part0/vector/#4403" class="Function">l2v-v2l-id</a> <a id="4526" class="Symbol">{</a><a id="4527" class="Argument">A</a> <a id="4529" class="Symbol">=</a> <a id="4531" href="/part0/vector/#4531" class="Bound">A</a><a id="4532" class="Symbol">}</a> <a id="4534" class="Symbol">(</a><a id="4535" href="/part0/vector/#4535" class="Bound">a</a> <a id="4537" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="4539" href="/part0/vector/#4539" class="Bound">as</a><a id="4541" class="Symbol">)</a> <a id="4543" class="Keyword">with</a> <a id="4548" href="/part0/vector/#4128" class="Function">v2l-length</a> <a id="4559" href="/part0/vector/#4539" class="Bound">as</a> <a id="4562" class="Symbol">|</a> <a id="4564" href="/part0/vector/#4403" class="Function">l2v-v2l-id</a> <a id="4575" href="/part0/vector/#4539" class="Bound">as</a>
<a id="4578" class="Comment">-- we need to call v2l-length for the dependent equality to go through</a>
<a id="4649" class="Comment">-- new it takes forever to check</a>
<a id="4682" class="Symbol">...</a> <a id="4686" class="Symbol">|</a> <a id="4688" href="/part0/vector/#4688" class="Bound">p</a> <a id="4690" class="Symbol">|</a> <a id="4692" href="/part0/vector/#4692" class="Bound">ind</a> <a id="4696" class="Symbol">=</a> <a id="4698" href="/part0/depeq/#758" class="Function">dcong''</a> <a id="4706" class="Symbol">{</a><a id="4707" class="Argument">A</a> <a id="4709" class="Symbol">=</a> <a id="4711" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="4718" class="Bound">A</a><a id="4719" class="Symbol">}</a> <a id="4721" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="4725" class="Symbol">(</a><a id="4726" href="/part0/vector/#353" class="InductiveConstructor Operator">_∷_</a> <a id="4730" class="Bound">a</a><a id="4731" class="Symbol">)</a> <a id="4733" href="/part0/vector/#4688" class="Bound">p</a> <a id="4735" href="/part0/vector/#4692" class="Bound">ind</a>

<a id="v2l-l2v-id"></a><a id="4740" href="/part0/vector/#4740" class="Function">v2l-l2v-id</a> <a id="4751" class="Symbol">:</a> <a id="4753" class="Symbol">∀</a> <a id="4755" class="Symbol">{</a><a id="4756" href="/part0/vector/#4756" class="Bound">ℓ</a><a id="4757" class="Symbol">}</a> <a id="4759" class="Symbol">{</a><a id="4760" href="/part0/vector/#4760" class="Bound">A</a> <a id="4762" class="Symbol">:</a> <a id="4764" class="PrimitiveType">Set</a> <a id="4768" href="/part0/vector/#4756" class="Bound">ℓ</a><a id="4769" class="Symbol">}</a> <a id="4771" class="Symbol">→</a> <a id="4773" class="Symbol">(</a><a id="4774" href="/part0/vector/#4774" class="Bound">as</a> <a id="4777" class="Symbol">:</a> <a id="4779" href="/part0/vector/#4760" class="Bound">A</a> <a id="4781" href="/part0/list/#548" class="Datatype Operator">*</a><a id="4782" class="Symbol">)</a> <a id="4784" class="Symbol">→</a> <a id="4786" href="/part0/vector/#4044" class="Function">v2l</a> <a id="4790" class="Symbol">(</a><a id="4791" href="/part0/vector/#3947" class="Function">l2v</a> <a id="4795" href="/part0/vector/#4774" class="Bound">as</a><a id="4797" class="Symbol">)</a> <a id="4799" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="4801" href="/part0/vector/#4774" class="Bound">as</a>
<a id="4804" href="/part0/vector/#4740" class="Function">v2l-l2v-id</a> <a id="4815" href="/part0/vector/#4815" class="Bound">as</a> <a id="4818" class="Symbol">=</a> <a id="4820" class="Symbol">{! as  !}</a>

<a id="4831" class="Comment">-- [_] : ∀ {ℓ} {A : Set ℓ} {n : ℕ} → longAnd A n → A *</a>
<a id="4886" class="Comment">-- [ as ] = v2l (&lt; as &gt;)</a>
<a id="4911" class="Comment">--</a>
<a id="4914" class="Comment">-- singleton : ∀ {ℓ} {A : Set ℓ} → A → A *</a>
<a id="4957" class="Comment">-- singleton a = [ a ]</a>

<a id="concat-vconcat"></a><a id="4981" href="/part0/vector/#4981" class="Function">concat-vconcat</a> <a id="4996" class="Symbol">:</a> <a id="4998" class="Symbol">∀</a> <a id="5000" class="Symbol">{</a><a id="5001" href="/part0/vector/#5001" class="Bound">ℓ</a><a id="5002" class="Symbol">}</a> <a id="5004" class="Symbol">{</a><a id="5005" href="/part0/vector/#5005" class="Bound">m</a> <a id="5007" href="/part0/vector/#5007" class="Bound">n</a><a id="5008" class="Symbol">}</a> <a id="5010" class="Symbol">{</a><a id="5011" href="/part0/vector/#5011" class="Bound">A</a> <a id="5013" class="Symbol">:</a> <a id="5015" class="PrimitiveType">Set</a> <a id="5019" href="/part0/vector/#5001" class="Bound">ℓ</a><a id="5020" class="Symbol">}</a> <a id="5022" class="Symbol">→</a>
  <a id="5026" class="Symbol">(</a><a id="5027" href="/part0/vector/#5027" class="Bound">ass</a> <a id="5031" class="Symbol">:</a> <a id="5033" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="5040" class="Symbol">(</a><a id="5041" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="5048" href="/part0/vector/#5011" class="Bound">A</a> <a id="5050" href="/part0/vector/#5005" class="Bound">m</a><a id="5051" class="Symbol">)</a> <a id="5053" href="/part0/vector/#5007" class="Bound">n</a><a id="5054" class="Symbol">)</a> <a id="5056" class="Symbol">→</a>
  <a id="5060" href="/part0/list/#4459" class="Function">concat</a> <a id="5067" class="Symbol">(</a><a id="5068" href="/part0/vector/#4044" class="Function">v2l</a> <a id="5072" href="/part0/utils/#457" class="Function Operator">$</a> <a id="5074" href="/part0/vector/#1154" class="Function">vmap</a> <a id="5079" href="/part0/vector/#4044" class="Function">v2l</a> <a id="5083" href="/part0/vector/#5027" class="Bound">ass</a><a id="5086" class="Symbol">)</a> <a id="5088" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="5090" href="/part0/vector/#4044" class="Function">v2l</a> <a id="5094" class="Symbol">(</a><a id="5095" href="/part0/vector/#2926" class="Function">vconcat</a> <a id="5103" href="/part0/vector/#5027" class="Bound">ass</a><a id="5106" class="Symbol">)</a>
<a id="5108" href="/part0/vector/#4981" class="Function">concat-vconcat</a> <a id="5123" class="Symbol">=</a> <a id="5125" class="Symbol">{!   !}</a>

<a id="concat-vconcat1"></a><a id="5134" href="/part0/vector/#5134" class="Function">concat-vconcat1</a> <a id="5150" class="Symbol">:</a> <a id="5152" class="Symbol">∀</a> <a id="5154" class="Symbol">{</a><a id="5155" href="/part0/vector/#5155" class="Bound">ℓ</a><a id="5156" class="Symbol">}</a> <a id="5158" class="Symbol">{</a><a id="5159" href="/part0/vector/#5159" class="Bound">n</a><a id="5160" class="Symbol">}</a> <a id="5162" class="Symbol">{</a><a id="5163" href="/part0/vector/#5163" class="Bound">A</a> <a id="5165" class="Symbol">:</a> <a id="5167" class="PrimitiveType">Set</a> <a id="5171" href="/part0/vector/#5155" class="Bound">ℓ</a><a id="5172" class="Symbol">}</a> <a id="5174" class="Symbol">→</a>
  <a id="5178" class="Symbol">(</a><a id="5179" href="/part0/vector/#5179" class="Bound">ass</a> <a id="5183" class="Symbol">:</a> <a id="5185" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="5192" class="Symbol">(</a><a id="5193" href="/part0/vector/#5163" class="Bound">A</a> <a id="5195" href="/part0/list/#548" class="Datatype Operator">*</a><a id="5196" class="Symbol">)</a> <a id="5198" href="/part0/vector/#5159" class="Bound">n</a><a id="5199" class="Symbol">)</a> <a id="5201" class="Symbol">→</a>
  <a id="5205" href="/part0/list/#4459" class="Function">concat</a> <a id="5212" class="Symbol">(</a><a id="5213" href="/part0/vector/#4044" class="Function">v2l</a> <a id="5217" href="/part0/vector/#5179" class="Bound">ass</a><a id="5220" class="Symbol">)</a> <a id="5222" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="5224" href="/part0/vector/#2786" class="Function">vfoldl</a> <a id="5231" href="/part0/list/#3229" class="Function Operator">_++_</a> <a id="5236" href="/part0/list/#585" class="InductiveConstructor">ε</a> <a id="5238" href="/part0/vector/#5179" class="Bound">ass</a>
<a id="5242" href="/part0/vector/#5134" class="Function">concat-vconcat1</a> <a id="5258" class="Symbol">=</a> <a id="5260" class="Symbol">{!   !}</a>

<a id="5269" class="Comment">-- this direction cannot be stated, need TList (?) ...</a>
<a id="5324" class="Comment">-- vconcat-concat : ∀ {ℓ} {A : Set ℓ} →</a>
<a id="5364" class="Comment">--   (ass : A * *) →</a>
<a id="5385" class="Comment">--   vconcat (l2v $ map l2v ass) ≡ l2v (concat ass)</a>
<a id="5437" class="Comment">-- vconcat-concat = {!   !}</a>

<a id="5466" class="Comment">-- infixl 9 _!_  -- _[!]_</a>
<a id="5492" class="Comment">-- _!_ : {n : ℕ} {A : Set} → Vector A n → Fin n → A</a>
<a id="5544" class="Comment">-- ε ! ()</a>
<a id="5554" class="Comment">-- x ∷ xs ! fzero  = x</a>
<a id="5577" class="Comment">-- x ∷ xs ! fsuc i = xs ! i</a>

<a id="5606" class="Comment">-- if needed, replace "!" with "at"</a>
<a id="5642" class="Comment">-- infix 5 _∈v_at_</a>
<a id="5661" class="Comment">-- data _∈v_at_ {ℓ} {A : Set ℓ} : ∀ {n} → A → Vector A n → Fin n → Set ℓ where</a>
<a id="5740" class="Comment">--     here : ∀ {x} {n} {xs : Vector A n} → x ∈v (x ∷ xs) at fzero</a>
<a id="5807" class="Comment">--     there : ∀ {x y} {n k} {xs : Vector A n} → x ∈v xs at k → x ∈v (y ∷ xs) at (fsuc k)</a>

<a id="5898" class="Keyword">infix</a> <a id="5904" class="Number">5</a> <a id="5906" href="/part0/vector/#5916" class="Datatype Operator">_∈v_</a>
<a id="5911" class="Keyword">data</a> <a id="_∈v_"></a><a id="5916" href="/part0/vector/#5916" class="Datatype Operator">_∈v_</a> <a id="5921" class="Symbol">{</a><a id="5922" href="/part0/vector/#5922" class="Bound">ℓ</a><a id="5923" class="Symbol">}</a> <a id="5925" class="Symbol">{</a><a id="5926" href="/part0/vector/#5926" class="Bound">A</a> <a id="5928" class="Symbol">:</a> <a id="5930" class="PrimitiveType">Set</a> <a id="5934" href="/part0/vector/#5922" class="Bound">ℓ</a><a id="5935" class="Symbol">}</a> <a id="5937" class="Symbol">:</a> <a id="5939" class="Symbol">∀</a> <a id="5941" class="Symbol">{</a><a id="5942" href="/part0/vector/#5942" class="Bound">n</a><a id="5943" class="Symbol">}</a> <a id="5945" class="Symbol">→</a> <a id="5947" href="/part0/vector/#5926" class="Bound">A</a> <a id="5949" class="Symbol">→</a> <a id="5951" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="5958" href="/part0/vector/#5926" class="Bound">A</a> <a id="5960" href="/part0/vector/#5942" class="Bound">n</a> <a id="5962" class="Symbol">→</a> <a id="5964" class="PrimitiveType">Set</a> <a id="5968" href="/part0/vector/#5922" class="Bound">ℓ</a> <a id="5970" class="Keyword">where</a>
    <a id="_∈v_.here"></a><a id="5980" href="/part0/vector/#5980" class="InductiveConstructor">here</a> <a id="5985" class="Symbol">:</a> <a id="5987" class="Symbol">∀</a> <a id="5989" class="Symbol">{</a><a id="5990" href="/part0/vector/#5990" class="Bound">x</a><a id="5991" class="Symbol">}</a> <a id="5993" class="Symbol">{</a><a id="5994" href="/part0/vector/#5994" class="Bound">n</a><a id="5995" class="Symbol">}</a> <a id="5997" class="Symbol">{</a><a id="5998" href="/part0/vector/#5998" class="Bound">xs</a> <a id="6001" class="Symbol">:</a> <a id="6003" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="6010" href="/part0/vector/#5926" class="Bound">A</a> <a id="6012" href="/part0/vector/#5994" class="Bound">n</a><a id="6013" class="Symbol">}</a> <a id="6015" class="Symbol">→</a> <a id="6017" href="/part0/vector/#5990" class="Bound">x</a> <a id="6019" href="/part0/vector/#5916" class="Datatype Operator">∈v</a> <a id="6022" class="Symbol">(</a><a id="6023" href="/part0/vector/#5990" class="Bound">x</a> <a id="6025" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="6027" href="/part0/vector/#5998" class="Bound">xs</a><a id="6029" class="Symbol">)</a>
    <a id="_∈v_.there"></a><a id="6035" href="/part0/vector/#6035" class="InductiveConstructor">there</a> <a id="6041" class="Symbol">:</a> <a id="6043" class="Symbol">∀</a> <a id="6045" class="Symbol">{</a><a id="6046" href="/part0/vector/#6046" class="Bound">x</a> <a id="6048" href="/part0/vector/#6048" class="Bound">y</a><a id="6049" class="Symbol">}</a> <a id="6051" class="Symbol">{</a><a id="6052" href="/part0/vector/#6052" class="Bound">n</a><a id="6053" class="Symbol">}</a> <a id="6055" class="Symbol">{</a><a id="6056" href="/part0/vector/#6056" class="Bound">xs</a> <a id="6059" class="Symbol">:</a> <a id="6061" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="6068" href="/part0/vector/#5926" class="Bound">A</a> <a id="6070" href="/part0/vector/#6052" class="Bound">n</a><a id="6071" class="Symbol">}</a> <a id="6073" class="Symbol">→</a> <a id="6075" href="/part0/vector/#6046" class="Bound">x</a> <a id="6077" href="/part0/vector/#5916" class="Datatype Operator">∈v</a> <a id="6080" href="/part0/vector/#6056" class="Bound">xs</a> <a id="6083" class="Symbol">→</a> <a id="6085" href="/part0/vector/#6046" class="Bound">x</a> <a id="6087" href="/part0/vector/#5916" class="Datatype Operator">∈v</a> <a id="6090" class="Symbol">(</a><a id="6091" href="/part0/vector/#6048" class="Bound">y</a> <a id="6093" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="6095" href="/part0/vector/#6056" class="Bound">xs</a><a id="6097" class="Symbol">)</a>

<a id="6100" class="Keyword">infix</a> <a id="6106" class="Number">5</a> <a id="6108" href="/part0/vector/#6121" class="Datatype Operator">_∈v_at_</a>
<a id="6116" class="Keyword">data</a> <a id="_∈v_at_"></a><a id="6121" href="/part0/vector/#6121" class="Datatype Operator">_∈v_at_</a> <a id="6129" class="Symbol">{</a><a id="6130" href="/part0/vector/#6130" class="Bound">ℓ</a><a id="6131" class="Symbol">}</a> <a id="6133" class="Symbol">{</a><a id="6134" href="/part0/vector/#6134" class="Bound">A</a> <a id="6136" class="Symbol">:</a> <a id="6138" class="PrimitiveType">Set</a> <a id="6142" href="/part0/vector/#6130" class="Bound">ℓ</a><a id="6143" class="Symbol">}</a> <a id="6145" class="Symbol">:</a> <a id="6147" class="Symbol">∀</a> <a id="6149" class="Symbol">{</a><a id="6150" href="/part0/vector/#6150" class="Bound">n</a><a id="6151" class="Symbol">}</a> <a id="6153" class="Symbol">→</a> <a id="6155" href="/part0/vector/#6134" class="Bound">A</a> <a id="6157" class="Symbol">→</a> <a id="6159" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="6166" href="/part0/vector/#6134" class="Bound">A</a> <a id="6168" href="/part0/vector/#6150" class="Bound">n</a> <a id="6170" class="Symbol">→</a> <a id="6172" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="6176" href="/part0/vector/#6150" class="Bound">n</a> <a id="6178" class="Symbol">→</a> <a id="6180" class="PrimitiveType">Set</a> <a id="6184" href="/part0/vector/#6130" class="Bound">ℓ</a> <a id="6186" class="Keyword">where</a>
    <a id="_∈v_at_.here"></a><a id="6196" href="/part0/vector/#6196" class="InductiveConstructor">here</a> <a id="6201" class="Symbol">:</a> <a id="6203" class="Symbol">∀</a> <a id="6205" class="Symbol">{</a><a id="6206" href="/part0/vector/#6206" class="Bound">x</a><a id="6207" class="Symbol">}</a> <a id="6209" class="Symbol">{</a><a id="6210" href="/part0/vector/#6210" class="Bound">n</a><a id="6211" class="Symbol">}</a> <a id="6213" class="Symbol">{</a><a id="6214" href="/part0/vector/#6214" class="Bound">xs</a> <a id="6217" class="Symbol">:</a> <a id="6219" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="6226" href="/part0/vector/#6134" class="Bound">A</a> <a id="6228" href="/part0/vector/#6210" class="Bound">n</a><a id="6229" class="Symbol">}</a> <a id="6231" class="Symbol">→</a> <a id="6233" href="/part0/vector/#6206" class="Bound">x</a> <a id="6235" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="6238" class="Symbol">(</a><a id="6239" href="/part0/vector/#6206" class="Bound">x</a> <a id="6241" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="6243" href="/part0/vector/#6214" class="Bound">xs</a><a id="6245" class="Symbol">)</a> <a id="6247" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="6250" href="/part0/Fin/#225" class="InductiveConstructor">fzero</a>
    <a id="_∈v_at_.there"></a><a id="6260" href="/part0/vector/#6260" class="InductiveConstructor">there</a> <a id="6266" class="Symbol">:</a> <a id="6268" class="Symbol">∀</a> <a id="6270" class="Symbol">{</a><a id="6271" href="/part0/vector/#6271" class="Bound">x</a> <a id="6273" href="/part0/vector/#6273" class="Bound">y</a><a id="6274" class="Symbol">}</a> <a id="6276" class="Symbol">{</a><a id="6277" href="/part0/vector/#6277" class="Bound">n</a><a id="6278" class="Symbol">}</a> <a id="6280" class="Symbol">{</a><a id="6281" href="/part0/vector/#6281" class="Bound">k</a><a id="6282" class="Symbol">}</a> <a id="6284" class="Symbol">{</a><a id="6285" href="/part0/vector/#6285" class="Bound">xs</a> <a id="6288" class="Symbol">:</a> <a id="6290" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="6297" href="/part0/vector/#6134" class="Bound">A</a> <a id="6299" href="/part0/vector/#6277" class="Bound">n</a><a id="6300" class="Symbol">}</a> <a id="6302" class="Symbol">→</a> <a id="6304" href="/part0/vector/#6271" class="Bound">x</a> <a id="6306" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="6309" href="/part0/vector/#6285" class="Bound">xs</a> <a id="6312" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="6315" href="/part0/vector/#6281" class="Bound">k</a> <a id="6317" class="Symbol">→</a> <a id="6319" href="/part0/vector/#6271" class="Bound">x</a> <a id="6321" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="6324" class="Symbol">(</a><a id="6325" href="/part0/vector/#6273" class="Bound">y</a> <a id="6327" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="6329" href="/part0/vector/#6285" class="Bound">xs</a><a id="6331" class="Symbol">)</a> <a id="6333" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="6336" class="Symbol">(</a><a id="6337" href="/part0/Fin/#259" class="InductiveConstructor">fsuc</a> <a id="6342" href="/part0/vector/#6281" class="Bound">k</a><a id="6343" class="Symbol">)</a>

<a id="getIndex"></a><a id="6346" href="/part0/vector/#6346" class="Function">getIndex</a> <a id="6355" class="Symbol">:</a> <a id="6357" class="Symbol">∀</a> <a id="6359" class="Symbol">{</a><a id="6360" href="/part0/vector/#6360" class="Bound">ℓ</a> <a id="6362" href="/part0/vector/#6362" class="Bound">n</a><a id="6363" class="Symbol">}</a> <a id="6365" class="Symbol">{</a><a id="6366" href="/part0/vector/#6366" class="Bound">A</a> <a id="6368" class="Symbol">:</a> <a id="6370" class="PrimitiveType">Set</a> <a id="6374" href="/part0/vector/#6360" class="Bound">ℓ</a><a id="6375" class="Symbol">}</a> <a id="6377" class="Symbol">{</a><a id="6378" href="/part0/vector/#6378" class="Bound">a</a> <a id="6380" class="Symbol">:</a> <a id="6382" href="/part0/vector/#6366" class="Bound">A</a><a id="6383" class="Symbol">}</a> <a id="6385" class="Symbol">{</a><a id="6386" href="/part0/vector/#6386" class="Bound">as</a> <a id="6389" class="Symbol">:</a> <a id="6391" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="6398" href="/part0/vector/#6366" class="Bound">A</a> <a id="6400" href="/part0/vector/#6362" class="Bound">n</a><a id="6401" class="Symbol">}</a> <a id="6403" class="Symbol">→</a> <a id="6405" href="/part0/vector/#6378" class="Bound">a</a> <a id="6407" href="/part0/vector/#5916" class="Datatype Operator">∈v</a> <a id="6410" href="/part0/vector/#6386" class="Bound">as</a> <a id="6413" class="Symbol">→</a> <a id="6415" href="/part0/logic/#453" class="Function">∃[</a> <a id="6418" href="/part0/vector/#6418" class="Bound">k</a> <a id="6420" href="/part0/logic/#453" class="Function">]</a> <a id="6422" href="/part0/vector/#6378" class="Bound">a</a> <a id="6424" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="6427" href="/part0/vector/#6386" class="Bound">as</a> <a id="6430" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="6433" href="/part0/vector/#6418" class="Bound">k</a>
<a id="6435" href="/part0/vector/#6346" class="Function">getIndex</a> <a id="6444" href="/part0/vector/#5980" class="InductiveConstructor">here</a> <a id="6449" class="Symbol">=</a> <a id="6451" href="/part0/Fin/#225" class="InductiveConstructor">fzero</a> <a id="6457" href="/part0/logic/#388" class="InductiveConstructor Operator">,</a> <a id="6459" href="/part0/vector/#6196" class="InductiveConstructor">here</a>
<a id="6464" href="/part0/vector/#6346" class="Function">getIndex</a> <a id="6473" class="Symbol">(</a><a id="6474" href="/part0/vector/#6035" class="InductiveConstructor">there</a> <a id="6480" href="/part0/vector/#6480" class="Bound">a∈vas</a><a id="6485" class="Symbol">)</a> <a id="6487" class="Keyword">with</a> <a id="6492" href="/part0/vector/#6346" class="Function">getIndex</a> <a id="6501" href="/part0/vector/#6480" class="Bound">a∈vas</a>
<a id="6507" class="Symbol">...</a> <a id="6511" class="Symbol">|</a> <a id="6513" class="Symbol">(</a><a id="6514" href="/part0/vector/#6514" class="Bound">k</a> <a id="6516" href="/part0/logic/#388" class="InductiveConstructor Operator">,</a> <a id="6518" href="/part0/vector/#6518" class="Bound">a∈vasatk</a><a id="6526" class="Symbol">)</a> <a id="6528" class="Symbol">=</a> <a id="6530" href="/part0/Fin/#259" class="InductiveConstructor">fsuc</a> <a id="6535" href="/part0/vector/#6514" class="Bound">k</a> <a id="6537" href="/part0/logic/#388" class="InductiveConstructor Operator">,</a> <a id="6539" href="/part0/vector/#6260" class="InductiveConstructor">there</a> <a id="6545" href="/part0/vector/#6518" class="Bound">a∈vasatk</a>

<a id="forgetIndex"></a><a id="6555" href="/part0/vector/#6555" class="Function">forgetIndex</a> <a id="6567" class="Symbol">:</a> <a id="6569" class="Symbol">∀</a> <a id="6571" class="Symbol">{</a><a id="6572" href="/part0/vector/#6572" class="Bound">ℓ</a> <a id="6574" href="/part0/vector/#6574" class="Bound">n</a><a id="6575" class="Symbol">}</a> <a id="6577" class="Symbol">{</a><a id="6578" href="/part0/vector/#6578" class="Bound">A</a> <a id="6580" class="Symbol">:</a> <a id="6582" class="PrimitiveType">Set</a> <a id="6586" href="/part0/vector/#6572" class="Bound">ℓ</a><a id="6587" class="Symbol">}</a> <a id="6589" class="Symbol">{</a><a id="6590" href="/part0/vector/#6590" class="Bound">a</a> <a id="6592" class="Symbol">:</a> <a id="6594" href="/part0/vector/#6578" class="Bound">A</a><a id="6595" class="Symbol">}</a> <a id="6597" class="Symbol">{</a><a id="6598" href="/part0/vector/#6598" class="Bound">as</a> <a id="6601" class="Symbol">:</a> <a id="6603" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="6610" href="/part0/vector/#6578" class="Bound">A</a> <a id="6612" href="/part0/vector/#6574" class="Bound">n</a><a id="6613" class="Symbol">}</a> <a id="6615" class="Symbol">{</a><a id="6616" href="/part0/vector/#6616" class="Bound">k</a><a id="6617" class="Symbol">}</a> <a id="6619" class="Symbol">→</a> <a id="6621" href="/part0/vector/#6590" class="Bound">a</a> <a id="6623" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="6626" href="/part0/vector/#6598" class="Bound">as</a> <a id="6629" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="6632" href="/part0/vector/#6616" class="Bound">k</a> <a id="6634" class="Symbol">→</a> <a id="6636" href="/part0/vector/#6590" class="Bound">a</a> <a id="6638" href="/part0/vector/#5916" class="Datatype Operator">∈v</a> <a id="6641" href="/part0/vector/#6598" class="Bound">as</a>
<a id="6644" href="/part0/vector/#6555" class="Function">forgetIndex</a> <a id="6656" class="Symbol">=</a> <a id="6658" class="Symbol">{!   !}</a>

<a id="_¬∈v_"></a><a id="6667" href="/part0/vector/#6667" class="Function Operator">_¬∈v_</a> <a id="6673" class="Symbol">:</a> <a id="6675" class="Symbol">∀</a> <a id="6677" class="Symbol">{</a><a id="6678" href="/part0/vector/#6678" class="Bound">ℓ</a><a id="6679" class="Symbol">}</a> <a id="6681" class="Symbol">{</a><a id="6682" href="/part0/vector/#6682" class="Bound">A</a> <a id="6684" class="Symbol">:</a> <a id="6686" class="PrimitiveType">Set</a> <a id="6690" href="/part0/vector/#6678" class="Bound">ℓ</a><a id="6691" class="Symbol">}</a> <a id="6693" class="Symbol">{</a><a id="6694" href="/part0/vector/#6694" class="Bound">n</a><a id="6695" class="Symbol">}</a> <a id="6697" class="Symbol">→</a> <a id="6699" href="/part0/vector/#6682" class="Bound">A</a> <a id="6701" class="Symbol">→</a> <a id="6703" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="6710" href="/part0/vector/#6682" class="Bound">A</a> <a id="6712" href="/part0/vector/#6694" class="Bound">n</a> <a id="6714" class="Symbol">→</a> <a id="6716" class="PrimitiveType">Set</a> <a id="6720" href="/part0/vector/#6678" class="Bound">ℓ</a>
<a id="6722" href="/part0/vector/#6722" class="Bound">a</a> <a id="6724" href="/part0/vector/#6667" class="Function Operator">¬∈v</a> <a id="6728" href="/part0/vector/#6728" class="Bound">as</a> <a id="6731" class="Symbol">=</a> <a id="6733" href="/part0/logic/#1722" class="Function Operator">¬</a><a id="6734" class="Symbol">(</a><a id="6735" href="/part0/vector/#6722" class="Bound">a</a> <a id="6737" href="/part0/vector/#5916" class="Datatype Operator">∈v</a> <a id="6740" href="/part0/vector/#6728" class="Bound">as</a><a id="6742" class="Symbol">)</a>

<a id="vfind"></a><a id="6745" href="/part0/vector/#6745" class="Function">vfind</a> <a id="6751" class="Symbol">:</a> <a id="6753" class="Symbol">∀</a> <a id="6755" class="Symbol">{</a><a id="6756" href="/part0/vector/#6756" class="Bound">ℓ</a> <a id="6758" href="/part0/vector/#6758" class="Bound">n</a><a id="6759" class="Symbol">}</a> <a id="6761" class="Symbol">{</a><a id="6762" href="/part0/vector/#6762" class="Bound">A</a> <a id="6764" class="Symbol">:</a> <a id="6766" class="PrimitiveType">Set</a> <a id="6770" href="/part0/vector/#6756" class="Bound">ℓ</a><a id="6771" class="Symbol">}</a> <a id="6773" class="Symbol">→</a> <a id="6775" class="Symbol">(</a><a id="6776" href="/part0/vector/#6776" class="Bound">a</a> <a id="6778" class="Symbol">:</a> <a id="6780" href="/part0/vector/#6762" class="Bound">A</a><a id="6781" class="Symbol">)</a> <a id="6783" class="Symbol">→</a> <a id="6785" class="Symbol">(</a><a id="6786" href="/part0/vector/#6786" class="Bound">as</a> <a id="6789" class="Symbol">:</a> <a id="6791" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="6798" href="/part0/vector/#6762" class="Bound">A</a> <a id="6800" href="/part0/vector/#6758" class="Bound">n</a><a id="6801" class="Symbol">)</a> <a id="6803" class="Symbol">→</a> <a id="6805" class="Symbol">(</a><a id="6806" href="/part0/logic/#453" class="Function">∃[</a> <a id="6809" href="/part0/vector/#6809" class="Bound">i</a> <a id="6811" href="/part0/logic/#453" class="Function">]</a> <a id="6813" href="/part0/vector/#6776" class="Bound">a</a> <a id="6815" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="6818" href="/part0/vector/#6786" class="Bound">as</a> <a id="6821" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="6824" href="/part0/vector/#6809" class="Bound">i</a><a id="6825" class="Symbol">)</a> <a id="6827" href="/part0/logic/#1842" class="Datatype Operator">∨</a> <a id="6829" href="/part0/vector/#6776" class="Bound">a</a> <a id="6831" href="/part0/vector/#6667" class="Function Operator">¬∈v</a> <a id="6835" href="/part0/vector/#6786" class="Bound">as</a>
<a id="6838" href="/part0/vector/#6745" class="Function">vfind</a> <a id="6844" class="Symbol">=</a> <a id="6846" class="Symbol">{!   !}</a>

<a id="6855" class="Comment">-- by induction on the membership evidence</a>
<a id="∈v-++1"></a><a id="6898" href="/part0/vector/#6898" class="Function">∈v-++1</a> <a id="6905" class="Symbol">:</a> <a id="6907" class="Symbol">∀</a> <a id="6909" class="Symbol">{</a><a id="6910" href="/part0/vector/#6910" class="Bound">ℓ</a> <a id="6912" href="/part0/vector/#6912" class="Bound">m</a> <a id="6914" href="/part0/vector/#6914" class="Bound">n</a><a id="6915" class="Symbol">}</a> <a id="6917" class="Symbol">{</a><a id="6918" href="/part0/vector/#6918" class="Bound">A</a> <a id="6920" class="Symbol">:</a> <a id="6922" class="PrimitiveType">Set</a> <a id="6926" href="/part0/vector/#6910" class="Bound">ℓ</a><a id="6927" class="Symbol">}</a> <a id="6929" class="Symbol">{</a><a id="6930" href="/part0/vector/#6930" class="Bound">a</a> <a id="6932" class="Symbol">:</a> <a id="6934" href="/part0/vector/#6918" class="Bound">A</a><a id="6935" class="Symbol">}</a> <a id="6937" class="Symbol">{</a><a id="6938" href="/part0/vector/#6938" class="Bound">i</a> <a id="6940" class="Symbol">:</a> <a id="6942" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="6946" href="/part0/vector/#6912" class="Bound">m</a><a id="6947" class="Symbol">}</a> <a id="6949" class="Symbol">{</a><a id="6950" href="/part0/vector/#6950" class="Bound">as</a> <a id="6953" class="Symbol">:</a> <a id="6955" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="6962" href="/part0/vector/#6918" class="Bound">A</a> <a id="6964" href="/part0/vector/#6912" class="Bound">m</a><a id="6965" class="Symbol">}</a> <a id="6967" class="Symbol">{</a><a id="6968" href="/part0/vector/#6968" class="Bound">bs</a> <a id="6971" class="Symbol">:</a> <a id="6973" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="6980" href="/part0/vector/#6918" class="Bound">A</a> <a id="6982" href="/part0/vector/#6914" class="Bound">n</a><a id="6983" class="Symbol">}</a> <a id="6985" class="Symbol">→</a>
  <a id="6989" href="/part0/vector/#6930" class="Bound">a</a> <a id="6991" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="6994" href="/part0/vector/#6950" class="Bound">as</a> <a id="6997" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="7000" href="/part0/vector/#6938" class="Bound">i</a> <a id="7002" class="Symbol">→</a>
  <a id="7006" href="/part0/vector/#6930" class="Bound">a</a> <a id="7008" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="7011" class="Symbol">(</a><a id="7012" href="/part0/vector/#6950" class="Bound">as</a> <a id="7015" href="/part0/vector/#1028" class="Function Operator">++v</a> <a id="7019" href="/part0/vector/#6968" class="Bound">bs</a><a id="7021" class="Symbol">)</a> <a id="7023" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="7026" class="Symbol">(</a><a id="7027" href="/part0/Fin/#1539" class="Function">Fin-monotone</a> <a id="7040" href="/part0/nat/#4166" class="Function">≤+</a> <a id="7043" href="/part0/vector/#6938" class="Bound">i</a><a id="7044" class="Symbol">)</a>
<a id="7046" href="/part0/vector/#6898" class="Function">∈v-++1</a> <a id="7053" href="/part0/vector/#6196" class="InductiveConstructor">here</a> <a id="7058" class="Symbol">=</a> <a id="7060" href="/part0/vector/#6196" class="InductiveConstructor">here</a>
<a id="7065" href="/part0/vector/#6898" class="Function">∈v-++1</a> <a id="7072" class="Symbol">(</a><a id="7073" href="/part0/vector/#6260" class="InductiveConstructor">there</a> <a id="7079" href="/part0/vector/#7079" class="Bound">a∈as!i</a><a id="7085" class="Symbol">)</a> <a id="7087" class="Keyword">with</a> <a id="7092" href="/part0/vector/#6898" class="Function">∈v-++1</a> <a id="7099" href="/part0/vector/#7079" class="Bound">a∈as!i</a>
<a id="7106" class="Symbol">...</a> <a id="7110" class="Symbol">|</a> <a id="7112" href="/part0/vector/#7112" class="Bound">a∈as++bs!i</a> <a id="7123" class="Symbol">=</a> <a id="7125" href="/part0/vector/#6260" class="InductiveConstructor">there</a> <a id="7131" href="/part0/vector/#7112" class="Bound">a∈as++bs!i</a>

<a id="7143" class="Comment">-- by induction on the vector as</a>
<a id="∈v-++2"></a><a id="7176" href="/part0/vector/#7176" class="Function">∈v-++2</a> <a id="7183" class="Symbol">:</a> <a id="7185" class="Symbol">∀</a> <a id="7187" class="Symbol">{</a><a id="7188" href="/part0/vector/#7188" class="Bound">ℓ</a> <a id="7190" href="/part0/vector/#7190" class="Bound">m</a> <a id="7192" href="/part0/vector/#7192" class="Bound">n</a><a id="7193" class="Symbol">}</a> <a id="7195" class="Symbol">{</a><a id="7196" href="/part0/vector/#7196" class="Bound">A</a> <a id="7198" class="Symbol">:</a> <a id="7200" class="PrimitiveType">Set</a> <a id="7204" href="/part0/vector/#7188" class="Bound">ℓ</a><a id="7205" class="Symbol">}</a> <a id="7207" class="Symbol">{</a><a id="7208" href="/part0/vector/#7208" class="Bound">a</a> <a id="7210" class="Symbol">:</a> <a id="7212" href="/part0/vector/#7196" class="Bound">A</a><a id="7213" class="Symbol">}</a> <a id="7215" class="Symbol">{</a><a id="7216" href="/part0/vector/#7216" class="Bound">i</a> <a id="7218" class="Symbol">:</a> <a id="7220" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="7224" href="/part0/vector/#7192" class="Bound">n</a><a id="7225" class="Symbol">}</a> <a id="7227" class="Symbol">{</a><a id="7228" href="/part0/vector/#7228" class="Bound">as</a> <a id="7231" class="Symbol">:</a> <a id="7233" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="7240" href="/part0/vector/#7196" class="Bound">A</a> <a id="7242" href="/part0/vector/#7190" class="Bound">m</a><a id="7243" class="Symbol">}</a> <a id="7245" class="Symbol">{</a><a id="7246" href="/part0/vector/#7246" class="Bound">bs</a> <a id="7249" class="Symbol">:</a> <a id="7251" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="7258" href="/part0/vector/#7196" class="Bound">A</a> <a id="7260" href="/part0/vector/#7192" class="Bound">n</a><a id="7261" class="Symbol">}</a> <a id="7263" class="Symbol">→</a>
  <a id="7267" href="/part0/vector/#7208" class="Bound">a</a> <a id="7269" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="7272" href="/part0/vector/#7246" class="Bound">bs</a> <a id="7275" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="7278" href="/part0/vector/#7216" class="Bound">i</a> <a id="7280" class="Symbol">→</a>
  <a id="7284" href="/part0/vector/#7208" class="Bound">a</a> <a id="7286" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="7289" class="Symbol">(</a><a id="7290" href="/part0/vector/#7228" class="Bound">as</a> <a id="7293" href="/part0/vector/#1028" class="Function Operator">++v</a> <a id="7297" href="/part0/vector/#7246" class="Bound">bs</a><a id="7299" class="Symbol">)</a> <a id="7301" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="7304" class="Symbol">(</a><a id="7305" href="/part0/Fin/#1700" class="Function">fadd</a> <a id="7310" href="/part0/vector/#7190" class="Bound">m</a> <a id="7312" href="/part0/vector/#7216" class="Bound">i</a><a id="7313" class="Symbol">)</a>
<a id="7315" href="/part0/vector/#7176" class="Function">∈v-++2</a> <a id="7322" class="Symbol">{</a><a id="7323" class="Argument">as</a> <a id="7326" class="Symbol">=</a> <a id="7328" href="/part0/vector/#333" class="InductiveConstructor">ε</a><a id="7329" class="Symbol">}</a> <a id="7331" href="/part0/vector/#7331" class="Bound">a∈bs!i</a> <a id="7338" class="Symbol">=</a> <a id="7340" href="/part0/vector/#7331" class="Bound">a∈bs!i</a>
<a id="7347" href="/part0/vector/#7176" class="Function">∈v-++2</a> <a id="7354" class="Symbol">{</a><a id="7355" class="Argument">as</a> <a id="7358" class="Symbol">=</a> <a id="7360" class="Symbol">_</a> <a id="7362" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="7364" href="/part0/vector/#7364" class="Bound">as</a><a id="7366" class="Symbol">}</a> <a id="7368" href="/part0/vector/#7368" class="Bound">a∈bs!i</a> <a id="7375" class="Keyword">with</a> <a id="7380" href="/part0/vector/#7176" class="Function">∈v-++2</a> <a id="7387" class="Symbol">{</a><a id="7388" class="Argument">as</a> <a id="7391" class="Symbol">=</a> <a id="7393" href="/part0/vector/#7364" class="Bound">as</a><a id="7395" class="Symbol">}</a> <a id="7397" href="/part0/vector/#7368" class="Bound">a∈bs!i</a>
<a id="7404" class="Symbol">...</a> <a id="7408" class="Symbol">|</a> <a id="7410" href="/part0/vector/#7410" class="Bound">a∈as++bs!faddni</a> <a id="7426" class="Symbol">=</a> <a id="7428" href="/part0/vector/#6260" class="InductiveConstructor">there</a> <a id="7434" href="/part0/vector/#7410" class="Bound">a∈as++bs!faddni</a>

<a id="7451" class="Comment">--</a>
<a id="7454" class="Comment">-- j : Fin n</a>
<a id="7467" class="Comment">-- j = dfst q</a>
<a id="7481" class="Comment">--</a>
<a id="7484" class="Comment">-- j' : Fin (m + n)</a>
<a id="7504" class="Comment">-- j' = fadd m j</a>

<a id="7522" class="Comment">-- it could be improved to return a non-membership proof in the Nothing case...</a>
<a id="7602" class="Comment">-- _∈v?_ : ∀ {ℓ} {A : Set ℓ} {n} {{_ : Eq A}} → (a : A) → (as : Vector A n) → Maybe (∃[ k ] a ∈v as ! k)</a>
<a id="7707" class="Comment">-- a ∈v? ε = Nothing</a>
<a id="7728" class="Comment">-- a ∈v? (b ∷ as) with a ≡? b</a>
<a id="7758" class="Comment">-- ... | yes {proof = refl} = Just (0 , here)</a>
<a id="7804" class="Comment">-- ... | no with a ∈v? as</a>
<a id="7830" class="Comment">-- ... | Nothing = Nothing</a>
<a id="7857" class="Comment">-- ... | Just (k , a∈vas!k) = Just (suc k , there a∈vas!k)</a>

<a id="7917" class="Comment">-- fetch : ∀ {ℓ m} {A : Set ℓ} {B : Set m} {a : A} {n k} {as : Vector A n} → a ∈v as ! k → (bs : Vector B n) → ∃[ b ] b ∈v bs ! k</a>
<a id="8047" class="Comment">-- fetch here (b ∷ _) = b , here</a>
<a id="8080" class="Comment">-- fetch (there p) (_ ∷ bs) with fetch p bs</a>
<a id="8124" class="Comment">-- ... | b , q = b , there q</a>

<a id="8154" class="Comment">-- safe vector indexing</a>
<a id="8178" class="Keyword">infix</a> <a id="8184" class="Number">11</a> <a id="8187" href="/part0/vector/#8191" class="Function Operator">_!_</a>
<a id="_!_"></a><a id="8191" href="/part0/vector/#8191" class="Function Operator">_!_</a> <a id="8195" class="Symbol">:</a> <a id="8197" class="Symbol">∀</a> <a id="8199" class="Symbol">{</a><a id="8200" href="/part0/vector/#8200" class="Bound">ℓ</a><a id="8201" class="Symbol">}</a> <a id="8203" class="Symbol">{</a><a id="8204" href="/part0/vector/#8204" class="Bound">A</a> <a id="8206" class="Symbol">:</a> <a id="8208" class="PrimitiveType">Set</a> <a id="8212" href="/part0/vector/#8200" class="Bound">ℓ</a><a id="8213" class="Symbol">}</a> <a id="8215" class="Symbol">{</a><a id="8216" href="/part0/vector/#8216" class="Bound">n</a><a id="8217" class="Symbol">}</a> <a id="8219" class="Symbol">→</a> <a id="8221" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="8228" href="/part0/vector/#8204" class="Bound">A</a> <a id="8230" href="/part0/vector/#8216" class="Bound">n</a> <a id="8232" class="Symbol">→</a> <a id="8234" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="8238" href="/part0/vector/#8216" class="Bound">n</a> <a id="8240" class="Symbol">→</a> <a id="8242" href="/part0/vector/#8204" class="Bound">A</a>
<a id="8244" class="Symbol">(</a><a id="8245" href="/part0/vector/#8245" class="Bound">a</a> <a id="8247" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="8249" class="Symbol">_)</a> <a id="8252" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="8254" href="/part0/Fin/#225" class="InductiveConstructor">fzero</a> <a id="8260" class="Symbol">=</a> <a id="8262" href="/part0/vector/#8245" class="Bound">a</a>
<a id="8264" class="Symbol">(_</a> <a id="8267" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="8269" href="/part0/vector/#8269" class="Bound">as</a><a id="8271" class="Symbol">)</a> <a id="8273" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="8275" href="/part0/Fin/#259" class="InductiveConstructor">fsuc</a> <a id="8280" href="/part0/vector/#8280" class="Bound">k</a> <a id="8282" class="Symbol">=</a> <a id="8284" href="/part0/vector/#8269" class="Bound">as</a> <a id="8287" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="8289" href="/part0/vector/#8280" class="Bound">k</a>

<a id="membershipCorrect1"></a><a id="8292" href="/part0/vector/#8292" class="Function">membershipCorrect1</a> <a id="8311" class="Symbol">:</a> <a id="8313" class="Symbol">∀</a> <a id="8315" class="Symbol">{</a><a id="8316" href="/part0/vector/#8316" class="Bound">ℓ</a><a id="8317" class="Symbol">}</a> <a id="8319" class="Symbol">{</a><a id="8320" href="/part0/vector/#8320" class="Bound">n</a><a id="8321" class="Symbol">}</a> <a id="8323" class="Symbol">{</a><a id="8324" href="/part0/vector/#8324" class="Bound">A</a> <a id="8326" class="Symbol">:</a> <a id="8328" class="PrimitiveType">Set</a> <a id="8332" href="/part0/vector/#8316" class="Bound">ℓ</a><a id="8333" class="Symbol">}</a> <a id="8335" class="Symbol">{</a><a id="8336" href="/part0/vector/#8336" class="Bound">i</a> <a id="8338" class="Symbol">:</a> <a id="8340" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="8344" href="/part0/vector/#8320" class="Bound">n</a><a id="8345" class="Symbol">}</a> <a id="8347" class="Symbol">{</a><a id="8348" href="/part0/vector/#8348" class="Bound">as</a> <a id="8351" class="Symbol">:</a> <a id="8353" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="8360" href="/part0/vector/#8324" class="Bound">A</a> <a id="8362" href="/part0/vector/#8320" class="Bound">n</a><a id="8363" class="Symbol">}</a> <a id="8365" class="Symbol">{</a><a id="8366" href="/part0/vector/#8366" class="Bound">a</a> <a id="8368" class="Symbol">:</a> <a id="8370" href="/part0/vector/#8324" class="Bound">A</a><a id="8371" class="Symbol">}</a> <a id="8373" class="Symbol">→</a> <a id="8375" href="/part0/vector/#8366" class="Bound">a</a> <a id="8377" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="8380" href="/part0/vector/#8348" class="Bound">as</a> <a id="8383" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="8386" href="/part0/vector/#8336" class="Bound">i</a> <a id="8388" class="Symbol">→</a> <a id="8390" href="/part0/vector/#8348" class="Bound">as</a> <a id="8393" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="8395" href="/part0/vector/#8336" class="Bound">i</a> <a id="8397" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="8399" href="/part0/vector/#8366" class="Bound">a</a>
<a id="8401" href="/part0/vector/#8292" class="Function">membershipCorrect1</a> <a id="8420" href="/part0/vector/#6196" class="InductiveConstructor">here</a> <a id="8425" class="Symbol">=</a> <a id="8427" href="/part0/eq/#222" class="InductiveConstructor">refl</a>
<a id="8432" href="/part0/vector/#8292" class="Function">membershipCorrect1</a> <a id="8451" class="Symbol">(</a><a id="8452" href="/part0/vector/#6260" class="InductiveConstructor">there</a> <a id="8458" href="/part0/vector/#8458" class="Bound">memb</a><a id="8462" class="Symbol">)</a> <a id="8464" class="Symbol">=</a> <a id="8466" href="/part0/vector/#8292" class="Function">membershipCorrect1</a> <a id="8485" href="/part0/vector/#8458" class="Bound">memb</a>

<a id="membershipCorrect2"></a><a id="8491" href="/part0/vector/#8491" class="Function">membershipCorrect2</a> <a id="8510" class="Symbol">:</a> <a id="8512" class="Symbol">∀</a> <a id="8514" class="Symbol">{</a><a id="8515" href="/part0/vector/#8515" class="Bound">ℓ</a><a id="8516" class="Symbol">}</a> <a id="8518" class="Symbol">{</a><a id="8519" href="/part0/vector/#8519" class="Bound">n</a><a id="8520" class="Symbol">}</a> <a id="8522" class="Symbol">{</a><a id="8523" href="/part0/vector/#8523" class="Bound">A</a> <a id="8525" class="Symbol">:</a> <a id="8527" class="PrimitiveType">Set</a> <a id="8531" href="/part0/vector/#8515" class="Bound">ℓ</a><a id="8532" class="Symbol">}</a> <a id="8534" class="Symbol">{</a><a id="8535" href="/part0/vector/#8535" class="Bound">i</a> <a id="8537" class="Symbol">:</a> <a id="8539" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="8543" href="/part0/vector/#8519" class="Bound">n</a><a id="8544" class="Symbol">}</a> <a id="8546" class="Symbol">{</a><a id="8547" href="/part0/vector/#8547" class="Bound">as</a> <a id="8550" class="Symbol">:</a> <a id="8552" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="8559" href="/part0/vector/#8523" class="Bound">A</a> <a id="8561" href="/part0/vector/#8519" class="Bound">n</a><a id="8562" class="Symbol">}</a> <a id="8564" class="Symbol">→</a> <a id="8566" class="Symbol">(</a><a id="8567" href="/part0/vector/#8547" class="Bound">as</a> <a id="8570" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="8572" href="/part0/vector/#8535" class="Bound">i</a><a id="8573" class="Symbol">)</a> <a id="8575" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="8578" href="/part0/vector/#8547" class="Bound">as</a> <a id="8581" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="8584" href="/part0/vector/#8535" class="Bound">i</a>
<a id="8586" href="/part0/vector/#8491" class="Function">membershipCorrect2</a> <a id="8605" class="Symbol">=</a> <a id="8607" class="Symbol">{!   !}</a>

<a id="vmap-!"></a><a id="8616" href="/part0/vector/#8616" class="Function">vmap-!</a> <a id="8623" class="Symbol">:</a> <a id="8625" class="Symbol">∀</a> <a id="8627" class="Symbol">{</a><a id="8628" href="/part0/vector/#8628" class="Bound">ℓ</a> <a id="8630" href="/part0/vector/#8630" class="Bound">m</a><a id="8631" class="Symbol">}</a> <a id="8633" class="Symbol">{</a><a id="8634" href="/part0/vector/#8634" class="Bound">n</a><a id="8635" class="Symbol">}</a> <a id="8637" class="Symbol">{</a><a id="8638" href="/part0/vector/#8638" class="Bound">A</a> <a id="8640" class="Symbol">:</a> <a id="8642" class="PrimitiveType">Set</a> <a id="8646" href="/part0/vector/#8628" class="Bound">ℓ</a><a id="8647" class="Symbol">}</a> <a id="8649" class="Symbol">{</a><a id="8650" href="/part0/vector/#8650" class="Bound">B</a> <a id="8652" class="Symbol">:</a> <a id="8654" class="PrimitiveType">Set</a> <a id="8658" href="/part0/vector/#8630" class="Bound">m</a><a id="8659" class="Symbol">}</a> <a id="8661" class="Symbol">→</a>
  <a id="8665" class="Symbol">{</a><a id="8666" href="/part0/vector/#8666" class="Bound">f</a> <a id="8668" class="Symbol">:</a> <a id="8670" href="/part0/vector/#8638" class="Bound">A</a> <a id="8672" class="Symbol">→</a> <a id="8674" href="/part0/vector/#8650" class="Bound">B</a><a id="8675" class="Symbol">}</a> <a id="8677" class="Symbol">→</a>
  <a id="8681" class="Symbol">{</a><a id="8682" href="/part0/vector/#8682" class="Bound">k</a> <a id="8684" class="Symbol">:</a> <a id="8686" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="8690" href="/part0/vector/#8634" class="Bound">n</a><a id="8691" class="Symbol">}</a> <a id="8693" class="Symbol">→</a>
  <a id="8697" class="Symbol">(</a><a id="8698" href="/part0/vector/#8698" class="Bound">as</a> <a id="8701" class="Symbol">:</a> <a id="8703" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="8710" href="/part0/vector/#8638" class="Bound">A</a> <a id="8712" href="/part0/vector/#8634" class="Bound">n</a><a id="8713" class="Symbol">)</a> <a id="8715" class="Symbol">→</a>
  <a id="8719" href="/part0/vector/#1154" class="Function">vmap</a> <a id="8724" href="/part0/vector/#8666" class="Bound">f</a> <a id="8726" href="/part0/vector/#8698" class="Bound">as</a> <a id="8729" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="8731" href="/part0/vector/#8682" class="Bound">k</a> <a id="8733" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="8735" href="/part0/vector/#8666" class="Bound">f</a> <a id="8737" class="Symbol">(</a><a id="8738" href="/part0/vector/#8698" class="Bound">as</a> <a id="8741" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="8743" href="/part0/vector/#8682" class="Bound">k</a><a id="8744" class="Symbol">)</a>
<a id="8746" href="/part0/vector/#8616" class="Function">vmap-!</a> <a id="8753" class="Symbol">{</a><a id="8754" class="Argument">k</a> <a id="8756" class="Symbol">=</a> <a id="8758" href="/part0/Fin/#225" class="InductiveConstructor">fzero</a><a id="8763" class="Symbol">}</a> <a id="8765" class="Symbol">(</a><a id="8766" href="/part0/vector/#8766" class="Bound">a</a> <a id="8768" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="8770" href="/part0/vector/#8770" class="Bound">as</a><a id="8772" class="Symbol">)</a> <a id="8774" class="Symbol">=</a> <a id="8776" href="/part0/eq/#222" class="InductiveConstructor">refl</a>
<a id="8781" href="/part0/vector/#8616" class="Function">vmap-!</a> <a id="8788" class="Symbol">{</a><a id="8789" class="Argument">k</a> <a id="8791" class="Symbol">=</a> <a id="8793" href="/part0/Fin/#259" class="InductiveConstructor">fsuc</a> <a id="8798" href="/part0/vector/#8798" class="Bound">k</a><a id="8799" class="Symbol">}</a> <a id="8801" class="Symbol">(_</a> <a id="8804" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="8806" href="/part0/vector/#8806" class="Bound">as</a><a id="8808" class="Symbol">)</a> <a id="8810" class="Symbol">=</a> <a id="8812" href="/part0/vector/#8616" class="Function">vmap-!</a> <a id="8819" class="Symbol">{</a><a id="8820" class="Argument">k</a> <a id="8822" class="Symbol">=</a> <a id="8824" href="/part0/vector/#8798" class="Bound">k</a><a id="8825" class="Symbol">}</a> <a id="8827" href="/part0/vector/#8806" class="Bound">as</a>

<a id="∈v→∈"></a><a id="8831" href="/part0/vector/#8831" class="Function">∈v→∈</a> <a id="8836" class="Symbol">:</a> <a id="8838" class="Symbol">∀</a> <a id="8840" class="Symbol">{</a><a id="8841" href="/part0/vector/#8841" class="Bound">ℓ</a> <a id="8843" href="/part0/vector/#8843" class="Bound">n</a><a id="8844" class="Symbol">}</a> <a id="8846" class="Symbol">{</a><a id="8847" href="/part0/vector/#8847" class="Bound">A</a> <a id="8849" class="Symbol">:</a> <a id="8851" class="PrimitiveType">Set</a> <a id="8855" href="/part0/vector/#8841" class="Bound">ℓ</a><a id="8856" class="Symbol">}</a> <a id="8858" class="Symbol">{</a><a id="8859" href="/part0/vector/#8859" class="Bound">a</a> <a id="8861" class="Symbol">:</a> <a id="8863" href="/part0/vector/#8847" class="Bound">A</a><a id="8864" class="Symbol">}</a> <a id="8866" class="Symbol">{</a><a id="8867" href="/part0/vector/#8867" class="Bound">as</a> <a id="8870" class="Symbol">:</a> <a id="8872" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="8879" href="/part0/vector/#8847" class="Bound">A</a> <a id="8881" href="/part0/vector/#8843" class="Bound">n</a><a id="8882" class="Symbol">}</a> <a id="8884" class="Symbol">→</a> <a id="8886" href="/part0/vector/#8859" class="Bound">a</a> <a id="8888" href="/part0/vector/#5916" class="Datatype Operator">∈v</a> <a id="8891" href="/part0/vector/#8867" class="Bound">as</a> <a id="8894" class="Symbol">→</a> <a id="8896" href="/part0/vector/#8859" class="Bound">a</a> <a id="8898" href="/part0/list/#7294" class="Datatype Operator">∈</a> <a id="8900" href="/part0/vector/#4044" class="Function">v2l</a> <a id="8904" href="/part0/vector/#8867" class="Bound">as</a>
<a id="8907" href="/part0/vector/#8831" class="Function">∈v→∈</a> <a id="8912" class="Symbol">=</a> <a id="8914" class="Symbol">{!   !}</a>

<a id="∈→∈v"></a><a id="8923" href="/part0/vector/#8923" class="Function">∈→∈v</a> <a id="8928" class="Symbol">:</a> <a id="8930" class="Symbol">∀</a> <a id="8932" class="Symbol">{</a><a id="8933" href="/part0/vector/#8933" class="Bound">ℓ</a><a id="8934" class="Symbol">}</a> <a id="8936" class="Symbol">{</a><a id="8937" href="/part0/vector/#8937" class="Bound">A</a> <a id="8939" class="Symbol">:</a> <a id="8941" class="PrimitiveType">Set</a> <a id="8945" href="/part0/vector/#8933" class="Bound">ℓ</a><a id="8946" class="Symbol">}</a> <a id="8948" class="Symbol">{</a><a id="8949" href="/part0/vector/#8949" class="Bound">a</a> <a id="8951" class="Symbol">:</a> <a id="8953" href="/part0/vector/#8937" class="Bound">A</a><a id="8954" class="Symbol">}</a> <a id="8956" class="Symbol">{</a><a id="8957" href="/part0/vector/#8957" class="Bound">as</a> <a id="8960" class="Symbol">:</a> <a id="8962" href="/part0/vector/#8937" class="Bound">A</a> <a id="8964" href="/part0/list/#548" class="Datatype Operator">*</a><a id="8965" class="Symbol">}</a> <a id="8967" class="Symbol">→</a> <a id="8969" href="/part0/vector/#8949" class="Bound">a</a> <a id="8971" href="/part0/list/#7294" class="Datatype Operator">∈</a> <a id="8973" href="/part0/vector/#8957" class="Bound">as</a> <a id="8976" class="Symbol">→</a> <a id="8978" href="/part0/vector/#8949" class="Bound">a</a> <a id="8980" href="/part0/vector/#5916" class="Datatype Operator">∈v</a> <a id="8983" href="/part0/vector/#3947" class="Function">l2v</a> <a id="8987" href="/part0/vector/#8957" class="Bound">as</a>
<a id="8990" href="/part0/vector/#8923" class="Function">∈→∈v</a> <a id="8995" class="Symbol">=</a> <a id="8997" class="Symbol">{!   !}</a>

<a id="∈→∈v-2"></a><a id="9006" href="/part0/vector/#9006" class="Function">∈→∈v-2</a> <a id="9013" class="Symbol">:</a> <a id="9015" class="Symbol">∀</a> <a id="9017" class="Symbol">{</a><a id="9018" href="/part0/vector/#9018" class="Bound">ℓ</a> <a id="9020" href="/part0/vector/#9020" class="Bound">n</a><a id="9021" class="Symbol">}</a> <a id="9023" class="Symbol">{</a><a id="9024" href="/part0/vector/#9024" class="Bound">A</a> <a id="9026" class="Symbol">:</a> <a id="9028" class="PrimitiveType">Set</a> <a id="9032" href="/part0/vector/#9018" class="Bound">ℓ</a><a id="9033" class="Symbol">}</a> <a id="9035" class="Symbol">{</a><a id="9036" href="/part0/vector/#9036" class="Bound">a</a> <a id="9038" class="Symbol">:</a> <a id="9040" href="/part0/vector/#9024" class="Bound">A</a><a id="9041" class="Symbol">}</a> <a id="9043" class="Symbol">{</a><a id="9044" href="/part0/vector/#9044" class="Bound">as</a> <a id="9047" class="Symbol">:</a> <a id="9049" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="9056" href="/part0/vector/#9024" class="Bound">A</a> <a id="9058" href="/part0/vector/#9020" class="Bound">n</a><a id="9059" class="Symbol">}</a> <a id="9061" class="Symbol">→</a> <a id="9063" href="/part0/vector/#9036" class="Bound">a</a> <a id="9065" href="/part0/list/#7294" class="Datatype Operator">∈</a> <a id="9067" class="Symbol">(</a><a id="9068" href="/part0/vector/#4044" class="Function">v2l</a> <a id="9072" href="/part0/vector/#9044" class="Bound">as</a><a id="9074" class="Symbol">)</a> <a id="9076" class="Symbol">→</a> <a id="9078" href="/part0/vector/#9036" class="Bound">a</a> <a id="9080" href="/part0/vector/#5916" class="Datatype Operator">∈v</a> <a id="9083" href="/part0/vector/#9044" class="Bound">as</a>
<a id="9086" href="/part0/vector/#9006" class="Function">∈→∈v-2</a> <a id="9093" class="Symbol">=</a> <a id="9095" class="Symbol">{!   !}</a>

<a id="9104" class="Comment">-- vector-list concat</a>
<a id="vlconcat"></a><a id="9126" href="/part0/vector/#9126" class="Function">vlconcat</a> <a id="9135" class="Symbol">:</a> <a id="9137" class="Symbol">∀</a> <a id="9139" class="Symbol">{</a><a id="9140" href="/part0/vector/#9140" class="Bound">ℓ</a><a id="9141" class="Symbol">}</a> <a id="9143" class="Symbol">{</a><a id="9144" href="/part0/vector/#9144" class="Bound">n</a><a id="9145" class="Symbol">}</a> <a id="9147" class="Symbol">{</a><a id="9148" href="/part0/vector/#9148" class="Bound">A</a> <a id="9150" class="Symbol">:</a> <a id="9152" class="PrimitiveType">Set</a> <a id="9156" href="/part0/vector/#9140" class="Bound">ℓ</a><a id="9157" class="Symbol">}</a> <a id="9159" class="Symbol">→</a> <a id="9161" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="9168" class="Symbol">(</a><a id="9169" href="/part0/vector/#9148" class="Bound">A</a> <a id="9171" href="/part0/list/#548" class="Datatype Operator">*</a><a id="9172" class="Symbol">)</a> <a id="9174" href="/part0/vector/#9144" class="Bound">n</a> <a id="9176" class="Symbol">→</a> <a id="9178" href="/part0/vector/#9148" class="Bound">A</a> <a id="9180" href="/part0/list/#548" class="Datatype Operator">*</a>
<a id="9182" href="/part0/vector/#9126" class="Function">vlconcat</a> <a id="9191" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="9193" class="Symbol">=</a> <a id="9195" href="/part0/list/#585" class="InductiveConstructor">ε</a>
<a id="9197" href="/part0/vector/#9126" class="Function">vlconcat</a> <a id="9206" class="Symbol">(</a><a id="9207" href="/part0/vector/#9207" class="Bound">as</a> <a id="9210" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="9212" href="/part0/vector/#9212" class="Bound">ass</a><a id="9215" class="Symbol">)</a> <a id="9217" class="Symbol">=</a> <a id="9219" href="/part0/vector/#9207" class="Bound">as</a> <a id="9222" href="/part0/list/#3229" class="Function Operator">++</a> <a id="9225" href="/part0/vector/#9126" class="Function">vlconcat</a> <a id="9234" href="/part0/vector/#9212" class="Bound">ass</a>

<a id="vlconcat-vmap-singleton"></a><a id="9239" href="/part0/vector/#9239" class="Function">vlconcat-vmap-singleton</a> <a id="9263" class="Symbol">:</a> <a id="9265" class="Symbol">∀</a> <a id="9267" class="Symbol">{</a><a id="9268" href="/part0/vector/#9268" class="Bound">ℓ</a> <a id="9270" href="/part0/vector/#9270" class="Bound">n</a><a id="9271" class="Symbol">}</a> <a id="9273" class="Symbol">{</a><a id="9274" href="/part0/vector/#9274" class="Bound">A</a> <a id="9276" class="Symbol">:</a> <a id="9278" class="PrimitiveType">Set</a> <a id="9282" href="/part0/vector/#9268" class="Bound">ℓ</a><a id="9283" class="Symbol">}</a> <a id="9285" class="Symbol">(</a><a id="9286" href="/part0/vector/#9286" class="Bound">xs</a> <a id="9289" class="Symbol">:</a> <a id="9291" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="9298" href="/part0/vector/#9274" class="Bound">A</a> <a id="9300" href="/part0/vector/#9270" class="Bound">n</a><a id="9301" class="Symbol">)</a> <a id="9303" class="Symbol">→</a> <a id="9305" href="/part0/vector/#9126" class="Function">vlconcat</a> <a id="9314" class="Symbol">(</a><a id="9315" href="/part0/vector/#1154" class="Function">vmap</a> <a id="9320" class="Symbol">(λ</a> <a id="9323" href="/part0/vector/#9323" class="Bound">x</a> <a id="9325" class="Symbol">→</a> <a id="9327" href="/part0/list/#1921" class="Function">[</a> <a id="9329" href="/part0/vector/#9323" class="Bound">x</a> <a id="9331" href="/part0/list/#2172" class="Function Operator">]</a><a id="9332" class="Symbol">)</a> <a id="9334" href="/part0/vector/#9286" class="Bound">xs</a><a id="9336" class="Symbol">)</a> <a id="9338" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="9340" href="/part0/vector/#4044" class="Function">v2l</a> <a id="9344" href="/part0/vector/#9286" class="Bound">xs</a>
<a id="9347" href="/part0/vector/#9239" class="Function">vlconcat-vmap-singleton</a> <a id="9371" class="Symbol">=</a> <a id="9373" class="Symbol">{!   !}</a>

<a id="∉-vlconcat"></a><a id="9382" href="/part0/vector/#9382" class="Function">∉-vlconcat</a> <a id="9393" class="Symbol">:</a> <a id="9395" class="Symbol">∀</a> <a id="9397" class="Symbol">{</a><a id="9398" href="/part0/vector/#9398" class="Bound">ℓ</a><a id="9399" class="Symbol">}</a> <a id="9401" class="Symbol">{</a><a id="9402" href="/part0/vector/#9402" class="Bound">n</a><a id="9403" class="Symbol">}</a> <a id="9405" class="Symbol">{</a><a id="9406" href="/part0/vector/#9406" class="Bound">A</a> <a id="9408" class="Symbol">:</a> <a id="9410" class="PrimitiveType">Set</a> <a id="9414" href="/part0/vector/#9398" class="Bound">ℓ</a><a id="9415" class="Symbol">}</a> <a id="9417" class="Symbol">{</a><a id="9418" href="/part0/vector/#9418" class="Bound">a</a> <a id="9420" class="Symbol">:</a> <a id="9422" href="/part0/vector/#9406" class="Bound">A</a><a id="9423" class="Symbol">}</a> <a id="9425" class="Symbol">{</a><a id="9426" href="/part0/vector/#9426" class="Bound">as</a> <a id="9429" class="Symbol">:</a> <a id="9431" href="/part0/vector/#9406" class="Bound">A</a> <a id="9433" href="/part0/list/#548" class="Datatype Operator">*</a><a id="9434" class="Symbol">}</a> <a id="9436" class="Symbol">{</a><a id="9437" href="/part0/vector/#9437" class="Bound">ass</a> <a id="9441" class="Symbol">:</a> <a id="9443" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="9450" class="Symbol">(</a><a id="9451" href="/part0/vector/#9406" class="Bound">A</a> <a id="9453" href="/part0/list/#548" class="Datatype Operator">*</a><a id="9454" class="Symbol">)</a> <a id="9456" href="/part0/vector/#9402" class="Bound">n</a><a id="9457" class="Symbol">}</a> <a id="9459" class="Symbol">→</a>
  <a id="9463" href="/part0/vector/#9418" class="Bound">a</a> <a id="9465" href="/part0/list/#14028" class="Datatype Operator">∉</a> <a id="9467" href="/part0/vector/#9126" class="Function">vlconcat</a> <a id="9476" href="/part0/vector/#9437" class="Bound">ass</a> <a id="9480" class="Symbol">→</a>
  <a id="9484" href="/part0/vector/#9426" class="Bound">as</a> <a id="9487" href="/part0/vector/#5916" class="Datatype Operator">∈v</a> <a id="9490" href="/part0/vector/#9437" class="Bound">ass</a> <a id="9494" class="Symbol">→</a>
  <a id="9498" href="/part0/vector/#9418" class="Bound">a</a> <a id="9500" href="/part0/list/#14028" class="Datatype Operator">∉</a> <a id="9502" href="/part0/vector/#9426" class="Bound">as</a>
<a id="9505" href="/part0/vector/#9382" class="Function">∉-vlconcat</a> <a id="9516" href="/part0/vector/#9516" class="Bound">p</a> <a id="9518" href="/part0/vector/#9518" class="Bound">q</a> <a id="9520" class="Symbol">=</a> <a id="9522" class="Symbol">{!   !}</a>

<a id="9531" class="Keyword">data</a> <a id="DVector'"></a><a id="9536" href="/part0/vector/#9536" class="Datatype">DVector'</a> <a id="9545" class="Symbol">{</a><a id="9546" href="/part0/vector/#9546" class="Bound">ℓ</a><a id="9547" class="Symbol">}</a> <a id="9549" class="Symbol">(</a><a id="9550" href="/part0/vector/#9550" class="Bound">A</a> <a id="9552" class="Symbol">:</a> <a id="9554" href="/part0/nat/#203" class="Datatype">ℕ</a> <a id="9556" class="Symbol">→</a> <a id="9558" class="PrimitiveType">Set</a> <a id="9562" href="/part0/vector/#9546" class="Bound">ℓ</a><a id="9563" class="Symbol">)</a> <a id="9565" class="Symbol">:</a> <a id="9567" href="/part0/nat/#203" class="Datatype">ℕ</a> <a id="9569" class="Symbol">→</a> <a id="9571" href="/part0/nat/#203" class="Datatype">ℕ</a> <a id="9573" class="Symbol">→</a> <a id="9575" class="PrimitiveType">Set</a> <a id="9579" href="/part0/vector/#9546" class="Bound">ℓ</a> <a id="9581" class="Keyword">where</a>
  <a id="DVector'.ε"></a><a id="9589" href="/part0/vector/#9589" class="InductiveConstructor">ε</a> <a id="9591" class="Symbol">:</a> <a id="9593" class="Symbol">∀</a> <a id="9595" class="Symbol">{</a><a id="9596" href="/part0/vector/#9596" class="Bound">k</a><a id="9597" class="Symbol">}</a> <a id="9599" class="Symbol">→</a> <a id="9601" href="/part0/vector/#9536" class="Datatype">DVector'</a> <a id="9610" href="/part0/vector/#9550" class="Bound">A</a> <a id="9612" href="/part0/vector/#9596" class="Bound">k</a> <a id="9614" href="/part0/nat/#219" class="InductiveConstructor">zero</a>
  <a id="DVector'._∷_"></a><a id="9621" href="/part0/vector/#9621" class="InductiveConstructor Operator">_∷_</a> <a id="9625" class="Symbol">:</a> <a id="9627" class="Symbol">∀</a> <a id="9629" class="Symbol">{</a><a id="9630" href="/part0/vector/#9630" class="Bound">n</a> <a id="9632" href="/part0/vector/#9632" class="Bound">k</a><a id="9633" class="Symbol">}</a> <a id="9635" class="Symbol">→</a> <a id="9637" href="/part0/vector/#9550" class="Bound">A</a> <a id="9639" href="/part0/vector/#9632" class="Bound">k</a> <a id="9641" class="Symbol">→</a> <a id="9643" href="/part0/vector/#9536" class="Datatype">DVector'</a> <a id="9652" href="/part0/vector/#9550" class="Bound">A</a> <a id="9654" class="Symbol">(</a><a id="9655" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="9659" href="/part0/vector/#9632" class="Bound">k</a><a id="9660" class="Symbol">)</a> <a id="9662" href="/part0/vector/#9630" class="Bound">n</a> <a id="9664" class="Symbol">→</a> <a id="9666" href="/part0/vector/#9536" class="Datatype">DVector'</a> <a id="9675" href="/part0/vector/#9550" class="Bound">A</a> <a id="9677" href="/part0/vector/#9632" class="Bound">k</a> <a id="9679" class="Symbol">(</a><a id="9680" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="9684" href="/part0/vector/#9630" class="Bound">n</a><a id="9685" class="Symbol">)</a>

<a id="DVector"></a><a id="9688" href="/part0/vector/#9688" class="Function">DVector</a> <a id="9696" class="Symbol">:</a> <a id="9698" class="Symbol">∀</a> <a id="9700" class="Symbol">{</a><a id="9701" href="/part0/vector/#9701" class="Bound">ℓ</a><a id="9702" class="Symbol">}</a> <a id="9704" class="Symbol">→</a> <a id="9706" class="Symbol">(</a><a id="9707" href="/part0/nat/#203" class="Datatype">ℕ</a> <a id="9709" class="Symbol">→</a> <a id="9711" class="PrimitiveType">Set</a> <a id="9715" href="/part0/vector/#9701" class="Bound">ℓ</a><a id="9716" class="Symbol">)</a> <a id="9718" class="Symbol">→</a> <a id="9720" href="/part0/nat/#203" class="Datatype">ℕ</a> <a id="9722" class="Symbol">→</a> <a id="9724" class="PrimitiveType">Set</a> <a id="9728" href="/part0/vector/#9701" class="Bound">ℓ</a>
<a id="9730" href="/part0/vector/#9688" class="Function">DVector</a> <a id="9738" href="/part0/vector/#9738" class="Bound">A</a> <a id="9740" class="Symbol">=</a> <a id="9742" href="/part0/vector/#9536" class="Datatype">DVector'</a> <a id="9751" href="/part0/vector/#9738" class="Bound">A</a> <a id="9753" href="/part0/nat/#219" class="InductiveConstructor">zero</a>

<a id="dvmap"></a><a id="9759" href="/part0/vector/#9759" class="Function">dvmap</a> <a id="9765" class="Symbol">:</a> <a id="9767" class="Symbol">∀</a> <a id="9769" class="Symbol">{</a><a id="9770" href="/part0/vector/#9770" class="Bound">n</a><a id="9771" class="Symbol">}</a> <a id="9773" class="Symbol">{</a><a id="9774" href="/part0/vector/#9774" class="Bound">A</a> <a id="9776" href="/part0/vector/#9776" class="Bound">B</a> <a id="9778" class="Symbol">:</a> <a id="9780" href="/part0/nat/#203" class="Datatype">ℕ</a> <a id="9782" class="Symbol">→</a> <a id="9784" class="PrimitiveType">Set</a><a id="9787" class="Symbol">}</a> <a id="9789" class="Symbol">→</a> <a id="9791" class="Symbol">((</a><a id="9793" href="/part0/vector/#9793" class="Bound">n</a> <a id="9795" class="Symbol">:</a> <a id="9797" href="/part0/nat/#203" class="Datatype">ℕ</a><a id="9798" class="Symbol">)</a> <a id="9800" class="Symbol">→</a> <a id="9802" href="/part0/vector/#9774" class="Bound">A</a> <a id="9804" href="/part0/vector/#9793" class="Bound">n</a> <a id="9806" class="Symbol">→</a> <a id="9808" href="/part0/vector/#9776" class="Bound">B</a> <a id="9810" href="/part0/vector/#9793" class="Bound">n</a><a id="9811" class="Symbol">)</a> <a id="9813" class="Symbol">→</a> <a id="9815" href="/part0/vector/#9688" class="Function">DVector</a> <a id="9823" href="/part0/vector/#9774" class="Bound">A</a> <a id="9825" href="/part0/vector/#9770" class="Bound">n</a> <a id="9827" class="Symbol">→</a> <a id="9829" href="/part0/vector/#9688" class="Function">DVector</a> <a id="9837" href="/part0/vector/#9776" class="Bound">B</a> <a id="9839" href="/part0/vector/#9770" class="Bound">n</a>
<a id="9841" href="/part0/vector/#9759" class="Function">dvmap</a> <a id="9847" href="/part0/vector/#9847" class="Bound">f</a> <a id="9849" href="/part0/vector/#9849" class="Bound">as</a> <a id="9852" class="Symbol">=</a> <a id="9854" href="/part0/vector/#9878" class="Function">go</a> <a id="9857" href="/part0/vector/#9847" class="Bound">f</a> <a id="9859" href="/part0/nat/#219" class="InductiveConstructor">zero</a> <a id="9864" href="/part0/vector/#9849" class="Bound">as</a> <a id="9867" class="Keyword">where</a>
     <a id="9878" href="/part0/vector/#9878" class="Function">go</a> <a id="9881" class="Symbol">:</a> <a id="9883" class="Symbol">∀</a> <a id="9885" class="Symbol">{</a><a id="9886" href="/part0/vector/#9886" class="Bound">n</a><a id="9887" class="Symbol">}</a> <a id="9889" class="Symbol">{</a><a id="9890" href="/part0/vector/#9890" class="Bound">A</a> <a id="9892" href="/part0/vector/#9892" class="Bound">B</a> <a id="9894" class="Symbol">:</a> <a id="9896" href="/part0/nat/#203" class="Datatype">ℕ</a> <a id="9898" class="Symbol">→</a> <a id="9900" class="PrimitiveType">Set</a><a id="9903" class="Symbol">}</a> <a id="9905" class="Symbol">→</a> <a id="9907" class="Symbol">((</a><a id="9909" href="/part0/vector/#9909" class="Bound">n</a> <a id="9911" class="Symbol">:</a> <a id="9913" href="/part0/nat/#203" class="Datatype">ℕ</a><a id="9914" class="Symbol">)</a> <a id="9916" class="Symbol">→</a> <a id="9918" href="/part0/vector/#9890" class="Bound">A</a> <a id="9920" href="/part0/vector/#9909" class="Bound">n</a> <a id="9922" class="Symbol">→</a> <a id="9924" href="/part0/vector/#9892" class="Bound">B</a> <a id="9926" href="/part0/vector/#9909" class="Bound">n</a><a id="9927" class="Symbol">)</a> <a id="9929" class="Symbol">→</a> <a id="9931" class="Symbol">(</a><a id="9932" href="/part0/vector/#9932" class="Bound">k</a> <a id="9934" class="Symbol">:</a> <a id="9936" href="/part0/nat/#203" class="Datatype">ℕ</a><a id="9937" class="Symbol">)</a> <a id="9939" class="Symbol">→</a> <a id="9941" href="/part0/vector/#9536" class="Datatype">DVector'</a> <a id="9950" href="/part0/vector/#9890" class="Bound">A</a> <a id="9952" href="/part0/vector/#9932" class="Bound">k</a> <a id="9954" href="/part0/vector/#9886" class="Bound">n</a> <a id="9956" class="Symbol">→</a> <a id="9958" href="/part0/vector/#9536" class="Datatype">DVector'</a> <a id="9967" href="/part0/vector/#9892" class="Bound">B</a> <a id="9969" href="/part0/vector/#9932" class="Bound">k</a> <a id="9971" href="/part0/vector/#9886" class="Bound">n</a>
     <a id="9978" href="/part0/vector/#9878" class="Function">go</a> <a id="9981" class="Symbol">_</a> <a id="9983" class="Symbol">_</a> <a id="9985" href="/part0/vector/#9589" class="InductiveConstructor">ε</a> <a id="9987" class="Symbol">=</a> <a id="9989" href="/part0/vector/#9589" class="InductiveConstructor">ε</a>
     <a id="9996" href="/part0/vector/#9878" class="Function">go</a> <a id="9999" href="/part0/vector/#9999" class="Bound">f</a> <a id="10001" href="/part0/vector/#10001" class="Bound">n</a> <a id="10003" class="Symbol">(</a><a id="10004" href="/part0/vector/#10004" class="Bound">a</a> <a id="10006" href="/part0/vector/#9621" class="InductiveConstructor Operator">∷</a> <a id="10008" href="/part0/vector/#10008" class="Bound">as</a><a id="10010" class="Symbol">)</a> <a id="10012" class="Symbol">=</a> <a id="10014" href="/part0/vector/#9999" class="Bound">f</a> <a id="10016" href="/part0/vector/#10001" class="Bound">n</a> <a id="10018" href="/part0/vector/#10004" class="Bound">a</a> <a id="10020" href="/part0/vector/#9621" class="InductiveConstructor Operator">∷</a> <a id="10022" href="/part0/vector/#9878" class="Function">go</a> <a id="10025" href="/part0/vector/#9999" class="Bound">f</a> <a id="10027" class="Symbol">(</a><a id="10028" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="10032" href="/part0/vector/#10001" class="Bound">n</a><a id="10033" class="Symbol">)</a> <a id="10035" href="/part0/vector/#10008" class="Bound">as</a>

<a id="10039" class="Comment">-- v2dvec</a>

<a id="10050" class="Comment">-- each element in the vector has its own type</a>
<a id="10097" class="Keyword">data</a> <a id="TVector"></a><a id="10102" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="10110" class="Symbol">{</a><a id="10111" href="/part0/vector/#10111" class="Bound">ℓ</a><a id="10112" class="Symbol">}</a> <a id="10114" class="Symbol">:</a> <a id="10116" class="Symbol">{</a><a id="10117" href="/part0/vector/#10117" class="Bound">n</a> <a id="10119" class="Symbol">:</a> <a id="10121" href="/part0/nat/#203" class="Datatype">ℕ</a><a id="10122" class="Symbol">}</a> <a id="10124" class="Symbol">→</a> <a id="10126" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="10133" class="Symbol">(</a><a id="10134" class="PrimitiveType">Set</a> <a id="10138" href="/part0/vector/#10111" class="Bound">ℓ</a><a id="10139" class="Symbol">)</a> <a id="10141" href="/part0/vector/#10117" class="Bound">n</a> <a id="10143" class="Symbol">→</a> <a id="10145" class="PrimitiveType">Set</a> <a id="10149" href="/part0/vector/#10111" class="Bound">ℓ</a> <a id="10151" class="Keyword">where</a>
    <a id="TVector.ε"></a><a id="10161" href="/part0/vector/#10161" class="InductiveConstructor">ε</a> <a id="10163" class="Symbol">:</a> <a id="10165" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="10173" href="/part0/vector/#333" class="InductiveConstructor">ε</a>
    <a id="TVector._∷_"></a><a id="10179" href="/part0/vector/#10179" class="InductiveConstructor Operator">_∷_</a> <a id="10183" class="Symbol">:</a> <a id="10185" class="Symbol">∀</a> <a id="10187" class="Symbol">{</a><a id="10188" href="/part0/vector/#10188" class="Bound">n</a><a id="10189" class="Symbol">}</a> <a id="10191" class="Symbol">{</a><a id="10192" href="/part0/vector/#10192" class="Bound">A</a> <a id="10194" class="Symbol">:</a> <a id="10196" class="PrimitiveType">Set</a> <a id="10200" href="/part0/vector/#10111" class="Bound">ℓ</a><a id="10201" class="Symbol">}</a> <a id="10203" class="Symbol">{</a><a id="10204" href="/part0/vector/#10204" class="Bound">As</a> <a id="10207" class="Symbol">:</a> <a id="10209" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="10216" class="Symbol">(</a><a id="10217" class="PrimitiveType">Set</a> <a id="10221" href="/part0/vector/#10111" class="Bound">ℓ</a><a id="10222" class="Symbol">)</a> <a id="10224" href="/part0/vector/#10188" class="Bound">n</a><a id="10225" class="Symbol">}</a> <a id="10227" class="Symbol">→</a> <a id="10229" href="/part0/vector/#10192" class="Bound">A</a> <a id="10231" class="Symbol">→</a> <a id="10233" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="10241" href="/part0/vector/#10204" class="Bound">As</a> <a id="10244" class="Symbol">→</a> <a id="10246" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="10254" class="Symbol">(</a><a id="10255" href="/part0/vector/#10192" class="Bound">A</a> <a id="10257" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="10259" href="/part0/vector/#10204" class="Bound">As</a><a id="10261" class="Symbol">)</a>

<a id="ttypes"></a><a id="10264" href="/part0/vector/#10264" class="Function">ttypes</a> <a id="10271" class="Symbol">:</a> <a id="10273" class="Symbol">∀</a> <a id="10275" class="Symbol">{</a><a id="10276" href="/part0/vector/#10276" class="Bound">ℓ</a><a id="10277" class="Symbol">}</a> <a id="10279" class="Symbol">{</a><a id="10280" href="/part0/vector/#10280" class="Bound">n</a><a id="10281" class="Symbol">}</a> <a id="10283" class="Symbol">{</a><a id="10284" href="/part0/vector/#10284" class="Bound">As</a> <a id="10287" class="Symbol">:</a> <a id="10289" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="10296" class="Symbol">(</a><a id="10297" class="PrimitiveType">Set</a> <a id="10301" href="/part0/vector/#10276" class="Bound">ℓ</a><a id="10302" class="Symbol">)</a> <a id="10304" href="/part0/vector/#10280" class="Bound">n</a><a id="10305" class="Symbol">}</a> <a id="10307" class="Symbol">→</a> <a id="10309" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="10317" href="/part0/vector/#10284" class="Bound">As</a> <a id="10320" class="Symbol">→</a> <a id="10322" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="10329" class="Symbol">(</a><a id="10330" class="PrimitiveType">Set</a> <a id="10334" href="/part0/vector/#10276" class="Bound">ℓ</a><a id="10335" class="Symbol">)</a> <a id="10337" href="/part0/vector/#10280" class="Bound">n</a>
<a id="10339" href="/part0/vector/#10264" class="Function">ttypes</a> <a id="10346" class="Symbol">{</a><a id="10347" class="Argument">As</a> <a id="10350" class="Symbol">=</a> <a id="10352" href="/part0/vector/#10352" class="Bound">As</a><a id="10354" class="Symbol">}</a> <a id="10356" class="Symbol">_</a> <a id="10358" class="Symbol">=</a> <a id="10360" href="/part0/vector/#10352" class="Bound">As</a>

<a id="tlength"></a><a id="10364" href="/part0/vector/#10364" class="Function">tlength</a> <a id="10372" class="Symbol">:</a> <a id="10374" class="Symbol">∀</a> <a id="10376" class="Symbol">{</a><a id="10377" href="/part0/vector/#10377" class="Bound">ℓ</a><a id="10378" class="Symbol">}</a> <a id="10380" class="Symbol">{</a><a id="10381" href="/part0/vector/#10381" class="Bound">n</a><a id="10382" class="Symbol">}</a> <a id="10384" class="Symbol">{</a><a id="10385" href="/part0/vector/#10385" class="Bound">As</a> <a id="10388" class="Symbol">:</a> <a id="10390" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="10397" class="Symbol">(</a><a id="10398" class="PrimitiveType">Set</a> <a id="10402" href="/part0/vector/#10377" class="Bound">ℓ</a><a id="10403" class="Symbol">)</a> <a id="10405" href="/part0/vector/#10381" class="Bound">n</a><a id="10406" class="Symbol">}</a> <a id="10408" class="Symbol">→</a> <a id="10410" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="10418" href="/part0/vector/#10385" class="Bound">As</a> <a id="10421" class="Symbol">→</a> <a id="10423" href="/part0/nat/#203" class="Datatype">ℕ</a>
<a id="10425" href="/part0/vector/#10364" class="Function">tlength</a> <a id="10433" class="Symbol">{</a><a id="10434" class="Argument">n</a> <a id="10436" class="Symbol">=</a> <a id="10438" href="/part0/vector/#10438" class="Bound">n</a><a id="10439" class="Symbol">}</a> <a id="10441" class="Symbol">_</a> <a id="10443" class="Symbol">=</a> <a id="10445" href="/part0/vector/#10438" class="Bound">n</a>

<a id="_++t_"></a><a id="10448" href="/part0/vector/#10448" class="Function Operator">_++t_</a> <a id="10454" class="Symbol">:</a> <a id="10456" class="Symbol">∀</a> <a id="10458" class="Symbol">{</a><a id="10459" href="/part0/vector/#10459" class="Bound">ℓ</a><a id="10460" class="Symbol">}</a> <a id="10462" class="Symbol">{</a><a id="10463" href="/part0/vector/#10463" class="Bound">m</a> <a id="10465" href="/part0/vector/#10465" class="Bound">n</a><a id="10466" class="Symbol">}</a> <a id="10468" class="Symbol">{</a><a id="10469" href="/part0/vector/#10469" class="Bound">As</a> <a id="10472" class="Symbol">:</a> <a id="10474" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="10481" class="Symbol">(</a><a id="10482" class="PrimitiveType">Set</a> <a id="10486" href="/part0/vector/#10459" class="Bound">ℓ</a><a id="10487" class="Symbol">)</a> <a id="10489" href="/part0/vector/#10463" class="Bound">m</a><a id="10490" class="Symbol">}</a> <a id="10492" class="Symbol">{</a><a id="10493" href="/part0/vector/#10493" class="Bound">Bs</a> <a id="10496" class="Symbol">:</a> <a id="10498" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="10505" class="Symbol">(</a><a id="10506" class="PrimitiveType">Set</a> <a id="10510" href="/part0/vector/#10459" class="Bound">ℓ</a><a id="10511" class="Symbol">)</a> <a id="10513" href="/part0/vector/#10465" class="Bound">n</a><a id="10514" class="Symbol">}</a> <a id="10516" class="Symbol">→</a>
  <a id="10520" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="10528" href="/part0/vector/#10469" class="Bound">As</a> <a id="10531" class="Symbol">→</a>
  <a id="10535" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="10543" href="/part0/vector/#10493" class="Bound">Bs</a> <a id="10546" class="Symbol">→</a>
  <a id="10550" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="10558" class="Symbol">(</a><a id="10559" href="/part0/vector/#10469" class="Bound">As</a> <a id="10562" href="/part0/vector/#1028" class="Function Operator">++v</a> <a id="10566" href="/part0/vector/#10493" class="Bound">Bs</a><a id="10568" class="Symbol">)</a>
<a id="10570" href="/part0/vector/#10448" class="Function Operator">_++t_</a> <a id="10576" href="/part0/vector/#10161" class="InductiveConstructor">ε</a> <a id="10578" href="/part0/vector/#10578" class="Bound">bs</a> <a id="10581" class="Symbol">=</a> <a id="10583" href="/part0/vector/#10578" class="Bound">bs</a>
<a id="10586" href="/part0/vector/#10448" class="Function Operator">_++t_</a> <a id="10592" class="Symbol">(</a><a id="10593" href="/part0/vector/#10593" class="Bound">a</a> <a id="10595" href="/part0/vector/#10179" class="InductiveConstructor Operator">∷</a> <a id="10597" href="/part0/vector/#10597" class="Bound">as</a><a id="10599" class="Symbol">)</a> <a id="10601" href="/part0/vector/#10601" class="Bound">bs</a> <a id="10604" class="Symbol">=</a> <a id="10606" href="/part0/vector/#10593" class="Bound">a</a> <a id="10608" href="/part0/vector/#10179" class="InductiveConstructor Operator">∷</a> <a id="10610" href="/part0/vector/#10448" class="Function Operator">_++t_</a> <a id="10616" href="/part0/vector/#10597" class="Bound">as</a> <a id="10619" href="/part0/vector/#10601" class="Bound">bs</a>

<a id="10623" class="Comment">-- infix 5 _∈t_!_</a>
<a id="10641" class="Comment">-- data _∈t_!_ {ℓ} : ∀ {n} {As : Vector (Set ℓ) n} → A → TVector As n → ℕ → Set ℓ where</a>
<a id="10729" class="Comment">--     here : ∀ {x} {n} {xs : TVector As n} → x ∈t (x ∷ xs) ! zero</a>
<a id="10796" class="Comment">--     there : ∀ {x y} {n k} {xs : TVector As n} → x ∈t xs ! k → x ∈t (y ∷ xs) ! (suc k)</a>

<a id="10886" class="Comment">-- tfind : ∀ {ℓ} {n k} {A : Set ℓ} {As : Vector (Set ℓ) n} → A ∈v As ! k → TVector As → A</a>
<a id="10976" class="Comment">-- tfind here (a ∷ _) = a</a>
<a id="11002" class="Comment">-- tfind (there p) (_ ∷ as) = tfind p as</a>

<a id="11044" class="Comment">-- tfetch : ∀ {ℓ m} {A : Set ℓ} {B : Set m} {a : A} {n k} {as : Vector A n} {Bs : Vector (Set m) n} →</a>
<a id="11146" class="Comment">--     a ∈v as ! k →</a>
<a id="11167" class="Comment">--     TVector Bs →</a>
<a id="11187" class="Comment">--     ∃[ B ] B ∈v Bs ! k ∧ B</a>
<a id="11217" class="Comment">-- tfetch {Bs = Bs} p bs with fetch p Bs</a>
<a id="11258" class="Comment">-- ... | B , q = B , q , tfind q bs</a>

<a id="11295" class="Comment">-- map a TVector of functions (each of different type) on a TVector of arguments</a>
<a id="tmap"></a><a id="11376" href="/part0/vector/#11376" class="Function">tmap</a> <a id="11381" class="Symbol">:</a> <a id="11383" class="Symbol">∀</a> <a id="11385" class="Symbol">{</a><a id="11386" href="/part0/vector/#11386" class="Bound">ℓ</a><a id="11387" class="Symbol">}</a> <a id="11389" class="Symbol">{</a><a id="11390" href="/part0/vector/#11390" class="Bound">n</a><a id="11391" class="Symbol">}</a> <a id="11393" class="Symbol">{</a><a id="11394" href="/part0/vector/#11394" class="Bound">As</a> <a id="11397" href="/part0/vector/#11397" class="Bound">Bs</a> <a id="11400" class="Symbol">:</a> <a id="11402" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="11409" class="Symbol">(</a><a id="11410" class="PrimitiveType">Set</a> <a id="11414" href="/part0/vector/#11386" class="Bound">ℓ</a><a id="11415" class="Symbol">)</a> <a id="11417" href="/part0/vector/#11390" class="Bound">n</a><a id="11418" class="Symbol">}</a> <a id="11420" class="Symbol">→</a>
  <a id="11424" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="11432" class="Symbol">(</a><a id="11433" href="/part0/vector/#2253" class="Function">vzipWith</a> <a id="11442" href="/part0/utils/#143" class="Function">Fn</a> <a id="11445" href="/part0/vector/#11394" class="Bound">As</a> <a id="11448" href="/part0/vector/#11397" class="Bound">Bs</a><a id="11450" class="Symbol">)</a> <a id="11452" class="Symbol">→</a>
  <a id="11456" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="11464" href="/part0/vector/#11394" class="Bound">As</a> <a id="11467" class="Symbol">→</a>
  <a id="11471" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="11479" href="/part0/vector/#11397" class="Bound">Bs</a>
<a id="11482" href="/part0/vector/#11376" class="Function">tmap</a> <a id="11487" class="Symbol">{_}</a> <a id="11491" class="DottedPattern Symbol">.{</a><a id="11493" href="/part0/nat/#219" class="DottedPattern InductiveConstructor">zero</a><a id="11497" class="DottedPattern Symbol">}</a> <a id="11499" class="Symbol">{</a><a id="11500" href="/part0/vector/#333" class="InductiveConstructor">ε</a><a id="11501" class="Symbol">}</a> <a id="11503" class="Symbol">{</a><a id="11504" href="/part0/vector/#333" class="InductiveConstructor">ε</a><a id="11505" class="Symbol">}</a> <a id="11507" href="/part0/vector/#10161" class="InductiveConstructor">ε</a> <a id="11509" href="/part0/vector/#10161" class="InductiveConstructor">ε</a> <a id="11511" class="Symbol">=</a> <a id="11513" href="/part0/vector/#10161" class="InductiveConstructor">ε</a>
<a id="11515" href="/part0/vector/#11376" class="Function">tmap</a> <a id="11520" class="Symbol">{</a><a id="11521" href="/part0/vector/#11521" class="Bound">ℓ</a><a id="11522" class="Symbol">}</a> <a id="11524" class="Symbol">{</a><a id="11525" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="11529" href="/part0/vector/#11529" class="Bound">n</a><a id="11530" class="Symbol">}</a> <a id="11532" class="Symbol">{</a><a id="11533" href="/part0/vector/#11533" class="Bound">A</a> <a id="11535" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="11537" href="/part0/vector/#11537" class="Bound">As</a><a id="11539" class="Symbol">}</a> <a id="11541" class="Symbol">{</a><a id="11542" href="/part0/vector/#11542" class="Bound">B</a> <a id="11544" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="11546" href="/part0/vector/#11546" class="Bound">Bs</a><a id="11548" class="Symbol">}</a> <a id="11550" class="Symbol">(</a><a id="11551" href="/part0/vector/#11551" class="Bound">f</a> <a id="11553" href="/part0/vector/#10179" class="InductiveConstructor Operator">∷</a> <a id="11555" href="/part0/vector/#11555" class="Bound">fs</a><a id="11557" class="Symbol">)</a> <a id="11559" class="Symbol">(</a><a id="11560" href="/part0/vector/#11560" class="Bound">a</a> <a id="11562" href="/part0/vector/#10179" class="InductiveConstructor Operator">∷</a> <a id="11564" href="/part0/vector/#11564" class="Bound">as</a><a id="11566" class="Symbol">)</a> <a id="11568" class="Symbol">=</a> <a id="11570" href="/part0/vector/#11551" class="Bound">f</a> <a id="11572" href="/part0/vector/#11560" class="Bound">a</a> <a id="11574" href="/part0/vector/#10179" class="InductiveConstructor Operator">∷</a> <a id="11576" href="/part0/vector/#11376" class="Function">tmap</a> <a id="11581" href="/part0/vector/#11555" class="Bound">fs</a> <a id="11584" href="/part0/vector/#11564" class="Bound">as</a>

<a id="11588" class="Comment">-- map the same dependent function onto a Vector</a>
<a id="tmap1"></a><a id="11637" href="/part0/vector/#11637" class="Function">tmap1</a> <a id="11643" class="Symbol">:</a> <a id="11645" class="Symbol">∀</a> <a id="11647" class="Symbol">{</a><a id="11648" href="/part0/vector/#11648" class="Bound">ℓ</a> <a id="11650" href="/part0/vector/#11650" class="Bound">m</a><a id="11651" class="Symbol">}</a> <a id="11653" class="Symbol">{</a><a id="11654" href="/part0/vector/#11654" class="Bound">n</a><a id="11655" class="Symbol">}</a> <a id="11657" class="Symbol">{</a><a id="11658" href="/part0/vector/#11658" class="Bound">A</a> <a id="11660" class="Symbol">:</a> <a id="11662" class="PrimitiveType">Set</a> <a id="11666" href="/part0/vector/#11648" class="Bound">ℓ</a><a id="11667" class="Symbol">}</a> <a id="11669" class="Symbol">{</a><a id="11670" href="/part0/vector/#11670" class="Bound">B</a> <a id="11672" class="Symbol">:</a> <a id="11674" href="/part0/vector/#11658" class="Bound">A</a> <a id="11676" class="Symbol">→</a> <a id="11678" class="PrimitiveType">Set</a> <a id="11682" href="/part0/vector/#11650" class="Bound">m</a><a id="11683" class="Symbol">}</a> <a id="11685" class="Symbol">→</a>
  <a id="11689" class="Symbol">(</a><a id="11690" href="/part0/vector/#11690" class="Bound">f</a> <a id="11692" class="Symbol">:</a> <a id="11694" class="Symbol">((</a><a id="11696" href="/part0/vector/#11696" class="Bound">a</a> <a id="11698" class="Symbol">:</a> <a id="11700" href="/part0/vector/#11658" class="Bound">A</a><a id="11701" class="Symbol">)</a> <a id="11703" class="Symbol">→</a> <a id="11705" href="/part0/vector/#11670" class="Bound">B</a> <a id="11707" href="/part0/vector/#11696" class="Bound">a</a><a id="11708" class="Symbol">))</a> <a id="11711" class="Symbol">→</a>
  <a id="11715" class="Symbol">(</a><a id="11716" href="/part0/vector/#11716" class="Bound">as</a> <a id="11719" class="Symbol">:</a> <a id="11721" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="11728" href="/part0/vector/#11658" class="Bound">A</a> <a id="11730" href="/part0/vector/#11654" class="Bound">n</a><a id="11731" class="Symbol">)</a> <a id="11733" class="Symbol">→</a>
  <a id="11737" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="11745" class="Symbol">(</a><a id="11746" href="/part0/vector/#1154" class="Function">vmap</a> <a id="11751" href="/part0/vector/#11670" class="Bound">B</a> <a id="11753" href="/part0/vector/#11716" class="Bound">as</a><a id="11755" class="Symbol">)</a>
<a id="11757" href="/part0/vector/#11637" class="Function">tmap1</a> <a id="11763" class="Symbol">_</a> <a id="11765" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="11767" class="Symbol">=</a> <a id="11769" href="/part0/vector/#10161" class="InductiveConstructor">ε</a>
<a id="11771" href="/part0/vector/#11637" class="Function">tmap1</a> <a id="11777" href="/part0/vector/#11777" class="Bound">f</a> <a id="11779" class="Symbol">(</a><a id="11780" href="/part0/vector/#11780" class="Bound">a</a> <a id="11782" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="11784" href="/part0/vector/#11784" class="Bound">as</a><a id="11786" class="Symbol">)</a> <a id="11788" class="Symbol">=</a> <a id="11790" href="/part0/vector/#11777" class="Bound">f</a> <a id="11792" href="/part0/vector/#11780" class="Bound">a</a> <a id="11794" href="/part0/vector/#10179" class="InductiveConstructor Operator">∷</a> <a id="11796" href="/part0/vector/#11637" class="Function">tmap1</a> <a id="11802" href="/part0/vector/#11777" class="Bound">f</a> <a id="11804" href="/part0/vector/#11784" class="Bound">as</a>

<a id="11808" class="Comment">-- map a Vector of dependent functions onto a Vector of arguments</a>
<a id="tmap2"></a><a id="11874" href="/part0/vector/#11874" class="Function">tmap2</a> <a id="11880" class="Symbol">:</a> <a id="11882" class="Symbol">∀</a> <a id="11884" class="Symbol">{</a><a id="11885" href="/part0/vector/#11885" class="Bound">ℓ</a><a id="11886" class="Symbol">}</a> <a id="11888" class="Symbol">{</a><a id="11889" href="/part0/vector/#11889" class="Bound">n</a><a id="11890" class="Symbol">}</a> <a id="11892" class="Symbol">{</a><a id="11893" href="/part0/vector/#11893" class="Bound">A</a> <a id="11895" class="Symbol">:</a> <a id="11897" class="PrimitiveType">Set</a> <a id="11901" href="/part0/vector/#11885" class="Bound">ℓ</a><a id="11902" class="Symbol">}</a> <a id="11904" class="Symbol">{</a><a id="11905" href="/part0/vector/#11905" class="Bound">B</a> <a id="11907" class="Symbol">:</a> <a id="11909" href="/part0/vector/#11893" class="Bound">A</a> <a id="11911" class="Symbol">→</a> <a id="11913" class="PrimitiveType">Set</a> <a id="11917" href="/part0/vector/#11885" class="Bound">ℓ</a><a id="11918" class="Symbol">}</a> <a id="11920" class="Symbol">→</a>
  <a id="11924" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="11931" class="Symbol">((</a><a id="11933" href="/part0/vector/#11933" class="Bound">a</a> <a id="11935" class="Symbol">:</a> <a id="11937" href="/part0/vector/#11893" class="Bound">A</a><a id="11938" class="Symbol">)</a> <a id="11940" class="Symbol">→</a> <a id="11942" href="/part0/vector/#11905" class="Bound">B</a> <a id="11944" href="/part0/vector/#11933" class="Bound">a</a><a id="11945" class="Symbol">)</a> <a id="11947" href="/part0/vector/#11889" class="Bound">n</a> <a id="11949" class="Symbol">→</a>
  <a id="11953" class="Symbol">(</a><a id="11954" href="/part0/vector/#11954" class="Bound">as</a> <a id="11957" class="Symbol">:</a> <a id="11959" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="11966" href="/part0/vector/#11893" class="Bound">A</a> <a id="11968" href="/part0/vector/#11889" class="Bound">n</a><a id="11969" class="Symbol">)</a> <a id="11971" class="Symbol">→</a>
  <a id="11975" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="11983" class="Symbol">(</a><a id="11984" href="/part0/vector/#1154" class="Function">vmap</a> <a id="11989" href="/part0/vector/#11905" class="Bound">B</a> <a id="11991" href="/part0/vector/#11954" class="Bound">as</a><a id="11993" class="Symbol">)</a>
<a id="11995" href="/part0/vector/#11874" class="Function">tmap2</a> <a id="12001" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="12003" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="12005" class="Symbol">=</a> <a id="12007" href="/part0/vector/#10161" class="InductiveConstructor">ε</a>
<a id="12009" href="/part0/vector/#11874" class="Function">tmap2</a> <a id="12015" class="Symbol">(</a><a id="12016" href="/part0/vector/#12016" class="Bound">f</a> <a id="12018" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="12020" href="/part0/vector/#12020" class="Bound">fs</a><a id="12022" class="Symbol">)</a> <a id="12024" class="Symbol">(</a><a id="12025" href="/part0/vector/#12025" class="Bound">a</a> <a id="12027" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="12029" href="/part0/vector/#12029" class="Bound">as</a><a id="12031" class="Symbol">)</a> <a id="12033" class="Symbol">=</a> <a id="12035" href="/part0/vector/#12016" class="Bound">f</a> <a id="12037" href="/part0/vector/#12025" class="Bound">a</a> <a id="12039" href="/part0/vector/#10179" class="InductiveConstructor Operator">∷</a> <a id="12041" href="/part0/vector/#11874" class="Function">tmap2</a> <a id="12047" href="/part0/vector/#12020" class="Bound">fs</a> <a id="12050" href="/part0/vector/#12029" class="Bound">as</a>

<a id="12054" class="Comment">-- another useful variant</a>
<a id="tmap3"></a><a id="12080" href="/part0/vector/#12080" class="Function">tmap3</a> <a id="12086" class="Symbol">:</a> <a id="12088" class="Symbol">∀</a> <a id="12090" class="Symbol">{</a><a id="12091" href="/part0/vector/#12091" class="Bound">ℓ</a> <a id="12093" href="/part0/vector/#12093" class="Bound">m</a><a id="12094" class="Symbol">}</a> <a id="12096" class="Symbol">{</a><a id="12097" href="/part0/vector/#12097" class="Bound">n</a><a id="12098" class="Symbol">}</a>
  <a id="12102" class="Symbol">{</a><a id="12103" href="/part0/vector/#12103" class="Bound">A</a> <a id="12105" class="Symbol">:</a> <a id="12107" class="PrimitiveType">Set</a> <a id="12111" href="/part0/vector/#12091" class="Bound">ℓ</a><a id="12112" class="Symbol">}</a>
  <a id="12116" class="Symbol">{</a><a id="12117" href="/part0/vector/#12117" class="Bound">B</a> <a id="12119" href="/part0/vector/#12119" class="Bound">C</a> <a id="12121" class="Symbol">:</a> <a id="12123" href="/part0/vector/#12103" class="Bound">A</a> <a id="12125" class="Symbol">→</a> <a id="12127" class="PrimitiveType">Set</a> <a id="12131" href="/part0/vector/#12093" class="Bound">m</a><a id="12132" class="Symbol">}</a> <a id="12134" class="Symbol">→</a>
  <a id="12138" class="Symbol">(</a><a id="12139" href="/part0/vector/#12139" class="Bound">As</a> <a id="12142" class="Symbol">:</a> <a id="12144" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="12151" href="/part0/vector/#12103" class="Bound">A</a> <a id="12153" href="/part0/vector/#12097" class="Bound">n</a><a id="12154" class="Symbol">)</a> <a id="12156" class="Symbol">→</a>
  <a id="12160" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="12168" class="Symbol">(</a><a id="12169" href="/part0/vector/#1154" class="Function">vmap</a> <a id="12174" class="Symbol">(λ</a> <a id="12177" href="/part0/vector/#12177" class="Bound">a</a> <a id="12179" class="Symbol">→</a> <a id="12181" class="Symbol">(</a><a id="12182" href="/part0/vector/#12117" class="Bound">B</a> <a id="12184" href="/part0/vector/#12177" class="Bound">a</a> <a id="12186" class="Symbol">→</a> <a id="12188" href="/part0/vector/#12119" class="Bound">C</a> <a id="12190" href="/part0/vector/#12177" class="Bound">a</a><a id="12191" class="Symbol">))</a> <a id="12194" href="/part0/vector/#12139" class="Bound">As</a><a id="12196" class="Symbol">)</a> <a id="12198" class="Symbol">→</a>
  <a id="12202" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="12210" class="Symbol">(</a><a id="12211" href="/part0/vector/#1154" class="Function">vmap</a> <a id="12216" href="/part0/vector/#12117" class="Bound">B</a> <a id="12218" href="/part0/vector/#12139" class="Bound">As</a><a id="12220" class="Symbol">)</a> <a id="12222" class="Symbol">→</a>
  <a id="12226" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="12234" class="Symbol">(</a><a id="12235" href="/part0/vector/#1154" class="Function">vmap</a> <a id="12240" href="/part0/vector/#12119" class="Bound">C</a> <a id="12242" href="/part0/vector/#12139" class="Bound">As</a><a id="12244" class="Symbol">)</a>
<a id="12246" href="/part0/vector/#12080" class="Function">tmap3</a> <a id="12252" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="12254" class="Symbol">_</a> <a id="12256" class="Symbol">_</a> <a id="12258" class="Symbol">=</a> <a id="12260" href="/part0/vector/#10161" class="InductiveConstructor">ε</a>
<a id="12262" href="/part0/vector/#12080" class="Function">tmap3</a> <a id="12268" class="Symbol">(_</a> <a id="12271" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="12273" href="/part0/vector/#12273" class="Bound">as</a><a id="12275" class="Symbol">)</a> <a id="12277" class="Symbol">(</a><a id="12278" href="/part0/vector/#12278" class="Bound">f</a> <a id="12280" href="/part0/vector/#10179" class="InductiveConstructor Operator">∷</a> <a id="12282" href="/part0/vector/#12282" class="Bound">fs</a><a id="12284" class="Symbol">)</a> <a id="12286" class="Symbol">(</a><a id="12287" href="/part0/vector/#12287" class="Bound">b</a> <a id="12289" href="/part0/vector/#10179" class="InductiveConstructor Operator">∷</a> <a id="12291" href="/part0/vector/#12291" class="Bound">bs</a><a id="12293" class="Symbol">)</a> <a id="12295" class="Symbol">=</a> <a id="12297" href="/part0/vector/#12278" class="Bound">f</a> <a id="12299" href="/part0/vector/#12287" class="Bound">b</a> <a id="12301" href="/part0/vector/#10179" class="InductiveConstructor Operator">∷</a> <a id="12303" href="/part0/vector/#12080" class="Function">tmap3</a> <a id="12309" href="/part0/vector/#12273" class="Bound">as</a> <a id="12312" href="/part0/vector/#12282" class="Bound">fs</a> <a id="12315" href="/part0/vector/#12291" class="Bound">bs</a>

<a id="12319" class="Comment">-- mapping a dependent function over a Vector yields a TVector</a>
<a id="vmapT"></a><a id="12382" href="/part0/vector/#12382" class="Function">vmapT</a> <a id="12388" class="Symbol">:</a> <a id="12390" class="Symbol">∀</a> <a id="12392" class="Symbol">{</a><a id="12393" href="/part0/vector/#12393" class="Bound">ℓ</a> <a id="12395" href="/part0/vector/#12395" class="Bound">m</a><a id="12396" class="Symbol">}</a> <a id="12398" class="Symbol">{</a><a id="12399" href="/part0/vector/#12399" class="Bound">n</a><a id="12400" class="Symbol">}</a> <a id="12402" class="Symbol">{</a><a id="12403" href="/part0/vector/#12403" class="Bound">A</a> <a id="12405" class="Symbol">:</a> <a id="12407" class="PrimitiveType">Set</a> <a id="12411" href="/part0/vector/#12393" class="Bound">ℓ</a><a id="12412" class="Symbol">}</a> <a id="12414" class="Symbol">{</a><a id="12415" href="/part0/vector/#12415" class="Bound">B</a> <a id="12417" class="Symbol">:</a> <a id="12419" href="/part0/vector/#12403" class="Bound">A</a> <a id="12421" class="Symbol">→</a> <a id="12423" class="PrimitiveType">Set</a> <a id="12427" href="/part0/vector/#12395" class="Bound">m</a><a id="12428" class="Symbol">}</a> <a id="12430" class="Symbol">→</a>
  <a id="12434" class="Symbol">(</a><a id="12435" href="/part0/vector/#12435" class="Bound">as</a> <a id="12438" class="Symbol">:</a> <a id="12440" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="12447" href="/part0/vector/#12403" class="Bound">A</a> <a id="12449" href="/part0/vector/#12399" class="Bound">n</a><a id="12450" class="Symbol">)</a> <a id="12452" class="Symbol">→</a>
  <a id="12456" class="Symbol">((</a><a id="12458" href="/part0/vector/#12458" class="Bound">a</a> <a id="12460" class="Symbol">:</a> <a id="12462" href="/part0/vector/#12403" class="Bound">A</a><a id="12463" class="Symbol">)</a> <a id="12465" class="Symbol">→</a> <a id="12467" href="/part0/vector/#12415" class="Bound">B</a> <a id="12469" href="/part0/vector/#12458" class="Bound">a</a><a id="12470" class="Symbol">)</a> <a id="12472" class="Symbol">→</a>
  <a id="12476" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="12484" class="Symbol">(</a><a id="12485" href="/part0/vector/#1154" class="Function">vmap</a> <a id="12490" href="/part0/vector/#12415" class="Bound">B</a> <a id="12492" href="/part0/vector/#12435" class="Bound">as</a><a id="12494" class="Symbol">)</a>
<a id="12496" href="/part0/vector/#12382" class="Function">vmapT</a> <a id="12502" class="Symbol">=</a> <a id="12504" class="Symbol">{!   !}</a>

<a id="vmap∈"></a><a id="12513" href="/part0/vector/#12513" class="Function">vmap∈</a> <a id="12519" class="Symbol">:</a> <a id="12521" class="Symbol">∀</a> <a id="12523" class="Symbol">{</a><a id="12524" href="/part0/vector/#12524" class="Bound">ℓ</a> <a id="12526" href="/part0/vector/#12526" class="Bound">m</a><a id="12527" class="Symbol">}</a> <a id="12529" class="Symbol">{</a><a id="12530" href="/part0/vector/#12530" class="Bound">n</a><a id="12531" class="Symbol">}</a> <a id="12533" class="Symbol">{</a><a id="12534" href="/part0/vector/#12534" class="Bound">A</a> <a id="12536" class="Symbol">:</a> <a id="12538" class="PrimitiveType">Set</a> <a id="12542" href="/part0/vector/#12524" class="Bound">ℓ</a><a id="12543" class="Symbol">}</a> <a id="12545" class="Symbol">{</a><a id="12546" href="/part0/vector/#12546" class="Bound">B</a> <a id="12548" class="Symbol">:</a> <a id="12550" href="/part0/vector/#12534" class="Bound">A</a> <a id="12552" class="Symbol">→</a> <a id="12554" class="PrimitiveType">Set</a> <a id="12558" href="/part0/vector/#12526" class="Bound">m</a><a id="12559" class="Symbol">}</a> <a id="12561" class="Symbol">→</a>
  <a id="12565" class="Symbol">(</a><a id="12566" href="/part0/vector/#12566" class="Bound">as</a> <a id="12569" class="Symbol">:</a> <a id="12571" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="12578" href="/part0/vector/#12534" class="Bound">A</a> <a id="12580" href="/part0/vector/#12530" class="Bound">n</a><a id="12581" class="Symbol">)</a> <a id="12583" class="Symbol">→</a>
  <a id="12587" class="Symbol">((</a><a id="12589" href="/part0/vector/#12589" class="Bound">a</a> <a id="12591" class="Symbol">:</a> <a id="12593" href="/part0/vector/#12534" class="Bound">A</a><a id="12594" class="Symbol">)</a> <a id="12596" class="Symbol">→</a> <a id="12598" href="/part0/vector/#12589" class="Bound">a</a> <a id="12600" href="/part0/vector/#5916" class="Datatype Operator">∈v</a> <a id="12603" href="/part0/vector/#12566" class="Bound">as</a> <a id="12606" class="Symbol">→</a> <a id="12608" href="/part0/vector/#12546" class="Bound">B</a> <a id="12610" href="/part0/vector/#12589" class="Bound">a</a><a id="12611" class="Symbol">)</a> <a id="12613" class="Symbol">→</a>
  <a id="12617" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="12625" class="Symbol">(</a><a id="12626" href="/part0/vector/#1154" class="Function">vmap</a> <a id="12631" href="/part0/vector/#12546" class="Bound">B</a> <a id="12633" href="/part0/vector/#12566" class="Bound">as</a><a id="12635" class="Symbol">)</a>
<a id="12637" href="/part0/vector/#12513" class="Function">vmap∈</a> <a id="12643" class="Symbol">=</a> <a id="12645" class="Symbol">{!   !}</a>
<a id="12653" class="Comment">-- vmap∈ ε = ε</a>
<a id="12668" class="Comment">-- vmap∈ (a ∷ as) f = f a a∈as ∷ vmap∈ as f where</a>

<a id="tzipWith"></a><a id="12719" href="/part0/vector/#12719" class="Function">tzipWith</a> <a id="12728" class="Symbol">:</a> <a id="12730" class="Symbol">∀</a> <a id="12732" class="Symbol">{</a><a id="12733" href="/part0/vector/#12733" class="Bound">ℓ</a> <a id="12735" href="/part0/vector/#12735" class="Bound">m</a> <a id="12737" href="/part0/vector/#12737" class="Bound">o</a><a id="12738" class="Symbol">}</a> <a id="12740" class="Symbol">{</a><a id="12741" href="/part0/vector/#12741" class="Bound">n</a><a id="12742" class="Symbol">}</a> <a id="12744" class="Symbol">{</a><a id="12745" href="/part0/vector/#12745" class="Bound">A</a> <a id="12747" class="Symbol">:</a> <a id="12749" class="PrimitiveType">Set</a> <a id="12753" href="/part0/vector/#12733" class="Bound">ℓ</a><a id="12754" class="Symbol">}</a> <a id="12756" class="Symbol">{</a><a id="12757" href="/part0/vector/#12757" class="Bound">B</a> <a id="12759" class="Symbol">:</a> <a id="12761" class="PrimitiveType">Set</a> <a id="12765" href="/part0/vector/#12735" class="Bound">m</a><a id="12766" class="Symbol">}</a> <a id="12768" class="Symbol">{</a><a id="12769" href="/part0/vector/#12769" class="Bound">C</a> <a id="12771" class="Symbol">:</a> <a id="12773" href="/part0/vector/#12745" class="Bound">A</a> <a id="12775" class="Symbol">→</a> <a id="12777" href="/part0/vector/#12757" class="Bound">B</a> <a id="12779" class="Symbol">→</a> <a id="12781" class="PrimitiveType">Set</a> <a id="12785" href="/part0/vector/#12737" class="Bound">o</a><a id="12786" class="Symbol">}</a> <a id="12788" class="Symbol">→</a>
    <a id="12794" class="Symbol">((</a><a id="12796" href="/part0/vector/#12796" class="Bound">a</a> <a id="12798" class="Symbol">:</a> <a id="12800" href="/part0/vector/#12745" class="Bound">A</a><a id="12801" class="Symbol">)</a> <a id="12803" class="Symbol">→</a> <a id="12805" class="Symbol">(</a><a id="12806" href="/part0/vector/#12806" class="Bound">b</a> <a id="12808" class="Symbol">:</a> <a id="12810" href="/part0/vector/#12757" class="Bound">B</a><a id="12811" class="Symbol">)</a> <a id="12813" class="Symbol">→</a> <a id="12815" href="/part0/vector/#12769" class="Bound">C</a> <a id="12817" href="/part0/vector/#12796" class="Bound">a</a> <a id="12819" href="/part0/vector/#12806" class="Bound">b</a><a id="12820" class="Symbol">)</a> <a id="12822" class="Symbol">→</a>
    <a id="12828" class="Symbol">(</a><a id="12829" href="/part0/vector/#12829" class="Bound">as</a> <a id="12832" class="Symbol">:</a> <a id="12834" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="12841" href="/part0/vector/#12745" class="Bound">A</a> <a id="12843" href="/part0/vector/#12741" class="Bound">n</a><a id="12844" class="Symbol">)</a> <a id="12846" class="Symbol">→</a> <a id="12848" class="Symbol">(</a><a id="12849" href="/part0/vector/#12849" class="Bound">bs</a> <a id="12852" class="Symbol">:</a> <a id="12854" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="12861" href="/part0/vector/#12757" class="Bound">B</a> <a id="12863" href="/part0/vector/#12741" class="Bound">n</a><a id="12864" class="Symbol">)</a> <a id="12866" class="Symbol">→</a>
    <a id="12872" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="12880" class="Symbol">(</a><a id="12881" href="/part0/vector/#2253" class="Function">vzipWith</a> <a id="12890" href="/part0/vector/#12769" class="Bound">C</a> <a id="12892" href="/part0/vector/#12829" class="Bound">as</a> <a id="12895" href="/part0/vector/#12849" class="Bound">bs</a><a id="12897" class="Symbol">)</a>
<a id="12899" href="/part0/vector/#12719" class="Function">tzipWith</a> <a id="12908" class="Symbol">_</a> <a id="12910" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="12912" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="12914" class="Symbol">=</a> <a id="12916" href="/part0/vector/#10161" class="InductiveConstructor">ε</a>
<a id="12918" href="/part0/vector/#12719" class="Function">tzipWith</a> <a id="12927" href="/part0/vector/#12927" class="Bound">f</a> <a id="12929" class="Symbol">(</a><a id="12930" href="/part0/vector/#12930" class="Bound">a</a> <a id="12932" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="12934" href="/part0/vector/#12934" class="Bound">as</a><a id="12936" class="Symbol">)</a> <a id="12938" class="Symbol">(</a><a id="12939" href="/part0/vector/#12939" class="Bound">b</a> <a id="12941" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="12943" href="/part0/vector/#12943" class="Bound">bs</a><a id="12945" class="Symbol">)</a> <a id="12947" class="Symbol">=</a> <a id="12949" href="/part0/vector/#12927" class="Bound">f</a> <a id="12951" href="/part0/vector/#12930" class="Bound">a</a> <a id="12953" href="/part0/vector/#12939" class="Bound">b</a> <a id="12955" href="/part0/vector/#10179" class="InductiveConstructor Operator">∷</a> <a id="12957" href="/part0/vector/#12719" class="Function">tzipWith</a> <a id="12966" href="/part0/vector/#12927" class="Bound">f</a> <a id="12968" href="/part0/vector/#12934" class="Bound">as</a> <a id="12971" href="/part0/vector/#12943" class="Bound">bs</a>

<a id="12975" class="Comment">-- given a vector of equality proofs return an equality proof of vectors</a>
<a id="vec≡"></a><a id="13048" href="/part0/vector/#13048" class="Function">vec≡</a> <a id="13053" class="Symbol">:</a> <a id="13055" class="Symbol">∀</a> <a id="13057" class="Symbol">{</a><a id="13058" href="/part0/vector/#13058" class="Bound">ℓ</a><a id="13059" class="Symbol">}</a> <a id="13061" class="Symbol">{</a><a id="13062" href="/part0/vector/#13062" class="Bound">n</a><a id="13063" class="Symbol">}</a> <a id="13065" class="Symbol">{</a><a id="13066" href="/part0/vector/#13066" class="Bound">A</a> <a id="13068" class="Symbol">:</a> <a id="13070" class="PrimitiveType">Set</a> <a id="13074" href="/part0/vector/#13058" class="Bound">ℓ</a><a id="13075" class="Symbol">}</a> <a id="13077" class="Symbol">{</a><a id="13078" href="/part0/vector/#13078" class="Bound">as</a> <a id="13081" href="/part0/vector/#13081" class="Bound">bs</a> <a id="13084" class="Symbol">:</a> <a id="13086" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="13093" href="/part0/vector/#13066" class="Bound">A</a> <a id="13095" href="/part0/vector/#13062" class="Bound">n</a><a id="13096" class="Symbol">}</a> <a id="13098" class="Symbol">→</a> <a id="13100" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="13108" class="Symbol">(</a><a id="13109" href="/part0/vector/#2253" class="Function">vzipWith</a> <a id="13118" href="/part0/eq/#174" class="Datatype Operator">_≡_</a> <a id="13122" href="/part0/vector/#13078" class="Bound">as</a> <a id="13125" href="/part0/vector/#13081" class="Bound">bs</a><a id="13127" class="Symbol">)</a> <a id="13129" class="Symbol">→</a> <a id="13131" href="/part0/vector/#13078" class="Bound">as</a> <a id="13134" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="13136" href="/part0/vector/#13081" class="Bound">bs</a>
<a id="13139" href="/part0/vector/#13048" class="Function">vec≡</a> <a id="13144" class="Symbol">{</a><a id="13145" class="Argument">as</a> <a id="13148" class="Symbol">=</a> <a id="13150" href="/part0/vector/#333" class="InductiveConstructor">ε</a><a id="13151" class="Symbol">}</a> <a id="13153" class="Symbol">{</a><a id="13154" class="Argument">bs</a> <a id="13157" class="Symbol">=</a> <a id="13159" href="/part0/vector/#333" class="InductiveConstructor">ε</a><a id="13160" class="Symbol">}</a> <a id="13162" href="/part0/vector/#10161" class="InductiveConstructor">ε</a> <a id="13164" class="Symbol">=</a> <a id="13166" href="/part0/eq/#222" class="InductiveConstructor">refl</a>
<a id="13171" href="/part0/vector/#13048" class="Function">vec≡</a> <a id="13176" class="Symbol">{</a><a id="13177" class="Argument">as</a> <a id="13180" class="Symbol">=</a> <a id="13182" href="/part0/vector/#13182" class="Bound">a</a> <a id="13184" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="13186" href="/part0/vector/#13186" class="Bound">as</a><a id="13188" class="Symbol">}</a> <a id="13190" class="Symbol">{</a><a id="13191" class="Argument">bs</a> <a id="13194" class="Symbol">=</a> <a id="13196" href="/part0/vector/#13196" class="Bound">b</a> <a id="13198" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="13200" href="/part0/vector/#13200" class="Bound">bs</a><a id="13202" class="Symbol">}</a> <a id="13204" class="Symbol">(</a><a id="13205" href="/part0/vector/#13205" class="Bound">p</a> <a id="13207" href="/part0/vector/#10179" class="InductiveConstructor Operator">∷</a> <a id="13209" href="/part0/vector/#13209" class="Bound">ps</a><a id="13211" class="Symbol">)</a> <a id="13213" class="Keyword">with</a> <a id="13218" href="/part0/vector/#13048" class="Function">vec≡</a> <a id="13223" href="/part0/vector/#13209" class="Bound">ps</a>
<a id="13226" class="Symbol">...</a> <a id="13230" class="Symbol">|</a> <a id="13232" href="/part0/vector/#13232" class="Bound">q</a> <a id="13234" class="Symbol">=</a> <a id="13236" href="/part0/eq/#771" class="Function">cong2</a> <a id="13242" href="/part0/vector/#353" class="InductiveConstructor Operator">_∷_</a> <a id="13246" class="Bound">p</a> <a id="13248" href="/part0/vector/#13232" class="Bound">q</a>

<a id="13251" class="Comment">-- if two functions agree on a vector, then their vmaps are equal</a>
<a id="vec≡1"></a><a id="13317" href="/part0/vector/#13317" class="Function">vec≡1</a> <a id="13323" class="Symbol">:</a> <a id="13325" class="Symbol">∀</a> <a id="13327" class="Symbol">{</a><a id="13328" href="/part0/vector/#13328" class="Bound">ℓ</a> <a id="13330" href="/part0/vector/#13330" class="Bound">m</a><a id="13331" class="Symbol">}</a> <a id="13333" class="Symbol">{</a><a id="13334" href="/part0/vector/#13334" class="Bound">n</a><a id="13335" class="Symbol">}</a> <a id="13337" class="Symbol">{</a><a id="13338" href="/part0/vector/#13338" class="Bound">A</a> <a id="13340" class="Symbol">:</a> <a id="13342" class="PrimitiveType">Set</a> <a id="13346" href="/part0/vector/#13328" class="Bound">ℓ</a><a id="13347" class="Symbol">}</a> <a id="13349" class="Symbol">{</a><a id="13350" href="/part0/vector/#13350" class="Bound">B</a> <a id="13352" class="Symbol">:</a> <a id="13354" class="PrimitiveType">Set</a> <a id="13358" href="/part0/vector/#13330" class="Bound">m</a><a id="13359" class="Symbol">}</a> <a id="13361" class="Symbol">{</a><a id="13362" href="/part0/vector/#13362" class="Bound">as</a> <a id="13365" class="Symbol">:</a> <a id="13367" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="13374" href="/part0/vector/#13338" class="Bound">A</a> <a id="13376" href="/part0/vector/#13334" class="Bound">n</a><a id="13377" class="Symbol">}</a> <a id="13379" class="Symbol">→</a>
  <a id="13383" class="Symbol">(</a><a id="13384" href="/part0/vector/#13384" class="Bound">f</a> <a id="13386" href="/part0/vector/#13386" class="Bound">g</a> <a id="13388" class="Symbol">:</a> <a id="13390" href="/part0/vector/#13338" class="Bound">A</a> <a id="13392" class="Symbol">→</a> <a id="13394" href="/part0/vector/#13350" class="Bound">B</a><a id="13395" class="Symbol">)</a> <a id="13397" class="Symbol">→</a>
  <a id="13401" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="13409" class="Symbol">(</a><a id="13410" href="/part0/vector/#1154" class="Function">vmap</a> <a id="13415" class="Symbol">(λ</a> <a id="13418" href="/part0/vector/#13418" class="Bound">x</a> <a id="13420" class="Symbol">→</a> <a id="13422" href="/part0/vector/#13384" class="Bound">f</a> <a id="13424" href="/part0/vector/#13418" class="Bound">x</a> <a id="13426" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="13428" href="/part0/vector/#13386" class="Bound">g</a> <a id="13430" href="/part0/vector/#13418" class="Bound">x</a><a id="13431" class="Symbol">)</a> <a id="13433" href="/part0/vector/#13362" class="Bound">as</a><a id="13435" class="Symbol">)</a> <a id="13437" class="Symbol">→</a>
  <a id="13441" href="/part0/vector/#1154" class="Function">vmap</a> <a id="13446" href="/part0/vector/#13384" class="Bound">f</a> <a id="13448" href="/part0/vector/#13362" class="Bound">as</a> <a id="13451" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="13453" href="/part0/vector/#1154" class="Function">vmap</a> <a id="13458" href="/part0/vector/#13386" class="Bound">g</a> <a id="13460" href="/part0/vector/#13362" class="Bound">as</a>
<a id="13463" href="/part0/vector/#13317" class="Function">vec≡1</a> <a id="13469" class="Symbol">{</a><a id="13470" class="Argument">A</a> <a id="13472" class="Symbol">=</a> <a id="13474" href="/part0/vector/#13474" class="Bound">A</a><a id="13475" class="Symbol">}</a> <a id="13477" class="Symbol">{</a><a id="13478" class="Argument">B</a> <a id="13480" class="Symbol">=</a> <a id="13482" href="/part0/vector/#13482" class="Bound">B</a><a id="13483" class="Symbol">}</a> <a id="13485" class="Symbol">{</a><a id="13486" class="Argument">as</a> <a id="13489" class="Symbol">=</a> <a id="13491" href="/part0/vector/#13491" class="Bound">as</a><a id="13493" class="Symbol">}</a> <a id="13495" href="/part0/vector/#13495" class="Bound">f</a> <a id="13497" href="/part0/vector/#13497" class="Bound">g</a> <a id="13499" href="/part0/vector/#13499" class="Bound">p</a> <a id="13501" class="Keyword">with</a> <a id="13506" href="/part0/vector/#2443" class="Function">vmap-zipWith</a> <a id="13519" href="/part0/vector/#13495" class="Bound">f</a> <a id="13521" href="/part0/vector/#13497" class="Bound">g</a> <a id="13523" class="Symbol">(</a><a id="13524" href="/part0/eq/#174" class="Datatype Operator">_≡_</a><a id="13527" class="Symbol">)</a> <a id="13529" href="/part0/vector/#13491" class="Bound">as</a>
<a id="13532" class="Symbol">...</a> <a id="13536" class="Symbol">|</a> <a id="13538" href="/part0/vector/#13538" class="Bound">q</a> <a id="13540" class="Symbol">=</a> <a id="13542" href="/part0/vector/#13048" class="Function">vec≡</a> <a id="13547" href="/part0/utils/#457" class="Function Operator">$</a> <a id="13549" href="/part0/eq/#919" class="Function">subst</a> <a id="13555" href="/part0/vector/#10102" class="Datatype">TVector</a> <a id="13563" href="/part0/vector/#13538" class="Bound">q</a> <a id="13565" class="Bound">p</a>

<a id="13568" class="Comment">-- combine vec≡1 and tmap1</a>
<a id="vmap-≡"></a><a id="13595" href="/part0/vector/#13595" class="Function">vmap-≡</a> <a id="13602" class="Symbol">:</a> <a id="13604" class="Symbol">∀</a> <a id="13606" class="Symbol">{</a><a id="13607" href="/part0/vector/#13607" class="Bound">ℓ</a> <a id="13609" href="/part0/vector/#13609" class="Bound">m</a><a id="13610" class="Symbol">}</a> <a id="13612" class="Symbol">{</a><a id="13613" href="/part0/vector/#13613" class="Bound">n</a><a id="13614" class="Symbol">}</a> <a id="13616" class="Symbol">{</a><a id="13617" href="/part0/vector/#13617" class="Bound">A</a> <a id="13619" class="Symbol">:</a> <a id="13621" class="PrimitiveType">Set</a> <a id="13625" href="/part0/vector/#13607" class="Bound">ℓ</a><a id="13626" class="Symbol">}</a> <a id="13628" class="Symbol">{</a><a id="13629" href="/part0/vector/#13629" class="Bound">B</a> <a id="13631" class="Symbol">:</a> <a id="13633" class="PrimitiveType">Set</a> <a id="13637" href="/part0/vector/#13609" class="Bound">m</a><a id="13638" class="Symbol">}</a> <a id="13640" class="Symbol">→</a>
  <a id="13644" class="Symbol">(</a><a id="13645" href="/part0/vector/#13645" class="Bound">f</a> <a id="13647" href="/part0/vector/#13647" class="Bound">g</a> <a id="13649" class="Symbol">:</a> <a id="13651" href="/part0/vector/#13617" class="Bound">A</a> <a id="13653" class="Symbol">→</a> <a id="13655" href="/part0/vector/#13629" class="Bound">B</a><a id="13656" class="Symbol">)</a> <a id="13658" class="Symbol">→</a>
  <a id="13662" class="Symbol">(</a><a id="13663" href="/part0/vector/#13663" class="Bound">f≡g</a> <a id="13667" class="Symbol">:</a> <a id="13669" class="Symbol">(</a><a id="13670" href="/part0/vector/#13670" class="Bound">a</a> <a id="13672" class="Symbol">:</a> <a id="13674" href="/part0/vector/#13617" class="Bound">A</a><a id="13675" class="Symbol">)</a> <a id="13677" class="Symbol">→</a> <a id="13679" href="/part0/vector/#13645" class="Bound">f</a> <a id="13681" href="/part0/vector/#13670" class="Bound">a</a> <a id="13683" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="13685" href="/part0/vector/#13647" class="Bound">g</a> <a id="13687" href="/part0/vector/#13670" class="Bound">a</a><a id="13688" class="Symbol">)</a> <a id="13690" class="Symbol">→</a>
  <a id="13694" class="Symbol">(</a><a id="13695" href="/part0/vector/#13695" class="Bound">as</a> <a id="13698" class="Symbol">:</a> <a id="13700" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="13707" href="/part0/vector/#13617" class="Bound">A</a> <a id="13709" href="/part0/vector/#13613" class="Bound">n</a><a id="13710" class="Symbol">)</a> <a id="13712" class="Symbol">→</a>
  <a id="13716" href="/part0/vector/#1154" class="Function">vmap</a> <a id="13721" href="/part0/vector/#13645" class="Bound">f</a> <a id="13723" href="/part0/vector/#13695" class="Bound">as</a> <a id="13726" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="13728" href="/part0/vector/#1154" class="Function">vmap</a> <a id="13733" href="/part0/vector/#13647" class="Bound">g</a> <a id="13735" href="/part0/vector/#13695" class="Bound">as</a>
<a id="13738" href="/part0/vector/#13595" class="Function">vmap-≡</a> <a id="13745" href="/part0/vector/#13745" class="Bound">f</a> <a id="13747" href="/part0/vector/#13747" class="Bound">g</a> <a id="13749" href="/part0/vector/#13749" class="Bound">f≡g</a> <a id="13753" href="/part0/vector/#13753" class="Bound">as</a> <a id="13756" class="Symbol">=</a> <a id="13758" href="/part0/vector/#13317" class="Function">vec≡1</a> <a id="13764" href="/part0/vector/#13745" class="Bound">f</a> <a id="13766" href="/part0/vector/#13747" class="Bound">g</a> <a id="13768" class="Symbol">(</a><a id="13769" href="/part0/vector/#11637" class="Function">tmap1</a> <a id="13775" href="/part0/vector/#13749" class="Bound">f≡g</a> <a id="13779" href="/part0/vector/#13753" class="Bound">as</a><a id="13781" class="Symbol">)</a>

<a id="vmap-≡-auto"></a><a id="13784" href="/part0/vector/#13784" class="Function">vmap-≡-auto</a> <a id="13796" class="Symbol">:</a> <a id="13798" class="Symbol">∀</a> <a id="13800" class="Symbol">{</a><a id="13801" href="/part0/vector/#13801" class="Bound">ℓ</a> <a id="13803" href="/part0/vector/#13803" class="Bound">m</a><a id="13804" class="Symbol">}</a> <a id="13806" class="Symbol">{</a><a id="13807" href="/part0/vector/#13807" class="Bound">n</a><a id="13808" class="Symbol">}</a> <a id="13810" class="Symbol">{</a><a id="13811" href="/part0/vector/#13811" class="Bound">A</a> <a id="13813" class="Symbol">:</a> <a id="13815" class="PrimitiveType">Set</a> <a id="13819" href="/part0/vector/#13801" class="Bound">ℓ</a><a id="13820" class="Symbol">}</a> <a id="13822" class="Symbol">{</a><a id="13823" href="/part0/vector/#13823" class="Bound">B</a> <a id="13825" class="Symbol">:</a> <a id="13827" class="PrimitiveType">Set</a> <a id="13831" href="/part0/vector/#13803" class="Bound">m</a><a id="13832" class="Symbol">}</a>
  <a id="13836" class="Symbol">{</a><a id="13837" href="/part0/vector/#13837" class="Bound">f</a> <a id="13839" href="/part0/vector/#13839" class="Bound">g</a> <a id="13841" class="Symbol">:</a> <a id="13843" href="/part0/vector/#13811" class="Bound">A</a> <a id="13845" class="Symbol">→</a> <a id="13847" href="/part0/vector/#13823" class="Bound">B</a><a id="13848" class="Symbol">}</a> <a id="13850" class="Symbol">→</a>
  <a id="13854" class="Symbol">(</a><a id="13855" href="/part0/vector/#13855" class="Bound">f≡g</a> <a id="13859" class="Symbol">:</a> <a id="13861" class="Symbol">(</a><a id="13862" href="/part0/vector/#13862" class="Bound">a</a> <a id="13864" class="Symbol">:</a> <a id="13866" href="/part0/vector/#13811" class="Bound">A</a><a id="13867" class="Symbol">)</a> <a id="13869" class="Symbol">→</a> <a id="13871" href="/part0/vector/#13837" class="Bound">f</a> <a id="13873" href="/part0/vector/#13862" class="Bound">a</a> <a id="13875" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="13877" href="/part0/vector/#13839" class="Bound">g</a> <a id="13879" href="/part0/vector/#13862" class="Bound">a</a><a id="13880" class="Symbol">)</a> <a id="13882" class="Symbol">→</a>
  <a id="13886" class="Symbol">(</a><a id="13887" href="/part0/vector/#13887" class="Bound">as</a> <a id="13890" class="Symbol">:</a> <a id="13892" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="13899" href="/part0/vector/#13811" class="Bound">A</a> <a id="13901" href="/part0/vector/#13807" class="Bound">n</a><a id="13902" class="Symbol">)</a> <a id="13904" class="Symbol">→</a>
  <a id="13908" href="/part0/vector/#1154" class="Function">vmap</a> <a id="13913" href="/part0/vector/#13837" class="Bound">f</a> <a id="13915" href="/part0/vector/#13887" class="Bound">as</a> <a id="13918" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="13920" href="/part0/vector/#1154" class="Function">vmap</a> <a id="13925" href="/part0/vector/#13839" class="Bound">g</a> <a id="13927" href="/part0/vector/#13887" class="Bound">as</a>
<a id="13930" href="/part0/vector/#13784" class="Function">vmap-≡-auto</a> <a id="13942" class="Symbol">{</a><a id="13943" class="Argument">f</a> <a id="13945" class="Symbol">=</a> <a id="13947" href="/part0/vector/#13947" class="Bound">f</a><a id="13948" class="Symbol">}</a> <a id="13950" class="Symbol">{</a><a id="13951" class="Argument">g</a> <a id="13953" class="Symbol">=</a> <a id="13955" href="/part0/vector/#13955" class="Bound">g</a><a id="13956" class="Symbol">}</a> <a id="13958" class="Symbol">=</a> <a id="13960" href="/part0/vector/#13595" class="Function">vmap-≡</a> <a id="13967" href="/part0/vector/#13947" class="Bound">f</a> <a id="13969" href="/part0/vector/#13955" class="Bound">g</a>

<a id="13972" class="Comment">-- an equality principle for vectors</a>
<a id="vec-≡-!"></a><a id="14009" href="/part0/vector/#14009" class="Function">vec-≡-!</a> <a id="14017" class="Symbol">:</a> <a id="14019" class="Symbol">∀</a> <a id="14021" class="Symbol">{</a><a id="14022" href="/part0/vector/#14022" class="Bound">ℓ</a><a id="14023" class="Symbol">}</a> <a id="14025" class="Symbol">{</a><a id="14026" href="/part0/vector/#14026" class="Bound">n</a><a id="14027" class="Symbol">}</a> <a id="14029" class="Symbol">{</a><a id="14030" href="/part0/vector/#14030" class="Bound">A</a> <a id="14032" class="Symbol">:</a> <a id="14034" class="PrimitiveType">Set</a> <a id="14038" href="/part0/vector/#14022" class="Bound">ℓ</a><a id="14039" class="Symbol">}</a> <a id="14041" class="Symbol">{</a><a id="14042" href="/part0/vector/#14042" class="Bound">as</a> <a id="14045" href="/part0/vector/#14045" class="Bound">bs</a> <a id="14048" class="Symbol">:</a> <a id="14050" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="14057" href="/part0/vector/#14030" class="Bound">A</a> <a id="14059" href="/part0/vector/#14026" class="Bound">n</a><a id="14060" class="Symbol">}</a> <a id="14062" class="Symbol">→</a> <a id="14064" href="/part0/logic/#208" class="Function">∀[</a> <a id="14067" href="/part0/vector/#14067" class="Bound">k</a> <a id="14069" href="/part0/logic/#208" class="Function">]</a> <a id="14071" href="/part0/vector/#14042" class="Bound">as</a> <a id="14074" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="14076" href="/part0/vector/#14067" class="Bound">k</a> <a id="14078" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="14080" href="/part0/vector/#14045" class="Bound">bs</a> <a id="14083" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="14085" href="/part0/vector/#14067" class="Bound">k</a> <a id="14087" class="Symbol">→</a> <a id="14089" href="/part0/vector/#14042" class="Bound">as</a> <a id="14092" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="14094" href="/part0/vector/#14045" class="Bound">bs</a>
<a id="14097" href="/part0/vector/#14009" class="Function">vec-≡-!</a> <a id="14105" class="Symbol">{</a><a id="14106" class="Argument">as</a> <a id="14109" class="Symbol">=</a> <a id="14111" href="/part0/vector/#333" class="InductiveConstructor">ε</a><a id="14112" class="Symbol">}</a> <a id="14114" class="Symbol">{</a><a id="14115" href="/part0/vector/#333" class="InductiveConstructor">ε</a><a id="14116" class="Symbol">}</a> <a id="14118" class="Symbol">_</a> <a id="14120" class="Symbol">=</a> <a id="14122" href="/part0/eq/#222" class="InductiveConstructor">refl</a>
<a id="14127" href="/part0/vector/#14009" class="Function">vec-≡-!</a> <a id="14135" class="Symbol">{</a><a id="14136" class="Argument">as</a> <a id="14139" class="Symbol">=</a> <a id="14141" href="/part0/vector/#14141" class="Bound">a</a> <a id="14143" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="14145" href="/part0/vector/#14145" class="Bound">as</a><a id="14147" class="Symbol">}</a> <a id="14149" class="Symbol">{</a><a id="14150" href="/part0/vector/#14150" class="Bound">b</a> <a id="14152" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="14154" href="/part0/vector/#14154" class="Bound">bs</a><a id="14156" class="Symbol">}</a> <a id="14158" href="/part0/vector/#14158" class="Bound">f</a> <a id="14160" class="Keyword">with</a> <a id="14165" href="/part0/vector/#14158" class="Bound">f</a> <a id="14167" href="/part0/Fin/#225" class="InductiveConstructor">fzero</a>
<a id="14173" class="Symbol">...</a> <a id="14177" class="Symbol">|</a> <a id="14179" href="/part0/eq/#222" class="InductiveConstructor">refl</a> <a id="14184" class="Keyword">with</a> <a id="14189" href="/part0/vector/#14009" class="Function">vec-≡-!</a> <a id="14197" class="Symbol">{</a><a id="14198" class="Argument">as</a> <a id="14201" class="Symbol">=</a> <a id="14203" class="Bound">as</a><a id="14205" class="Symbol">}</a> <a id="14207" class="Symbol">{</a><a id="14208" class="Bound">bs</a><a id="14210" class="Symbol">}</a> <a id="14212" class="Symbol">λ</a> <a id="14214" href="/part0/vector/#14214" class="Bound">k</a> <a id="14216" class="Symbol">→</a> <a id="14218" class="Bound">f</a> <a id="14220" class="Symbol">(</a><a id="14221" href="/part0/Fin/#259" class="InductiveConstructor">fsuc</a> <a id="14226" href="/part0/vector/#14214" class="Bound">k</a><a id="14227" class="Symbol">)</a>
<a id="14229" class="Symbol">...</a> <a id="14233" class="Symbol">|</a> <a id="14235" href="/part0/eq/#222" class="InductiveConstructor">refl</a> <a id="14240" class="Symbol">=</a> <a id="14242" href="/part0/eq/#222" class="InductiveConstructor">refl</a>

<a id="14248" class="Comment">-- Nice constructor for functions of many arguments</a>
<a id="IFn"></a><a id="14300" href="/part0/vector/#14300" class="Function">IFn</a> <a id="14304" class="Symbol">:</a> <a id="14306" class="Symbol">∀</a> <a id="14308" class="Symbol">{</a><a id="14309" href="/part0/vector/#14309" class="Bound">ℓ</a><a id="14310" class="Symbol">}</a> <a id="14312" class="Symbol">(</a><a id="14313" href="/part0/vector/#14313" class="Bound">A</a> <a id="14315" class="Symbol">:</a> <a id="14317" class="PrimitiveType">Set</a> <a id="14321" href="/part0/vector/#14309" class="Bound">ℓ</a><a id="14322" class="Symbol">)</a> <a id="14324" class="Symbol">(</a><a id="14325" href="/part0/vector/#14325" class="Bound">n</a> <a id="14327" class="Symbol">:</a> <a id="14329" href="/part0/nat/#203" class="Datatype">ℕ</a><a id="14330" class="Symbol">)</a> <a id="14332" class="Symbol">(</a><a id="14333" href="/part0/vector/#14333" class="Bound">B</a> <a id="14335" class="Symbol">:</a> <a id="14337" class="PrimitiveType">Set</a> <a id="14341" href="/part0/vector/#14309" class="Bound">ℓ</a><a id="14342" class="Symbol">)</a> <a id="14344" class="Symbol">→</a> <a id="14346" class="PrimitiveType">Set</a> <a id="14350" href="/part0/vector/#14309" class="Bound">ℓ</a>
<a id="14352" href="/part0/vector/#14300" class="Function">IFn</a> <a id="14356" class="Symbol">_</a> <a id="14358" href="/part0/nat/#219" class="InductiveConstructor">zero</a> <a id="14363" href="/part0/vector/#14363" class="Bound">B</a> <a id="14365" class="Symbol">=</a> <a id="14367" href="/part0/vector/#14363" class="Bound">B</a>
<a id="14369" href="/part0/vector/#14300" class="Function">IFn</a> <a id="14373" href="/part0/vector/#14373" class="Bound">A</a> <a id="14375" class="Symbol">(</a><a id="14376" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="14380" href="/part0/vector/#14380" class="Bound">n</a><a id="14381" class="Symbol">)</a> <a id="14383" href="/part0/vector/#14383" class="Bound">B</a> <a id="14385" class="Symbol">=</a> <a id="14387" href="/part0/vector/#14373" class="Bound">A</a> <a id="14389" class="Symbol">→</a> <a id="14391" href="/part0/vector/#14300" class="Function">IFn</a> <a id="14395" href="/part0/vector/#14373" class="Bound">A</a> <a id="14397" href="/part0/vector/#14380" class="Bound">n</a> <a id="14399" href="/part0/vector/#14383" class="Bound">B</a>

<a id="vcurry"></a><a id="14402" href="/part0/vector/#14402" class="Function">vcurry</a> <a id="14409" class="Symbol">:</a> <a id="14411" class="Symbol">∀</a> <a id="14413" class="Symbol">{</a><a id="14414" href="/part0/vector/#14414" class="Bound">ℓ</a><a id="14415" class="Symbol">}</a> <a id="14417" class="Symbol">{</a><a id="14418" href="/part0/vector/#14418" class="Bound">n</a><a id="14419" class="Symbol">}</a> <a id="14421" class="Symbol">{</a><a id="14422" href="/part0/vector/#14422" class="Bound">A</a> <a id="14424" class="Symbol">:</a> <a id="14426" class="PrimitiveType">Set</a> <a id="14430" href="/part0/vector/#14414" class="Bound">ℓ</a><a id="14431" class="Symbol">}</a> <a id="14433" class="Symbol">{</a><a id="14434" href="/part0/vector/#14434" class="Bound">B</a> <a id="14436" class="Symbol">:</a> <a id="14438" class="PrimitiveType">Set</a> <a id="14442" href="/part0/vector/#14414" class="Bound">ℓ</a><a id="14443" class="Symbol">}</a> <a id="14445" class="Symbol">→</a> <a id="14447" class="Symbol">(</a><a id="14448" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="14455" href="/part0/vector/#14422" class="Bound">A</a> <a id="14457" href="/part0/vector/#14418" class="Bound">n</a> <a id="14459" class="Symbol">→</a> <a id="14461" href="/part0/vector/#14434" class="Bound">B</a><a id="14462" class="Symbol">)</a> <a id="14464" class="Symbol">→</a> <a id="14466" href="/part0/vector/#14300" class="Function">IFn</a> <a id="14470" href="/part0/vector/#14422" class="Bound">A</a> <a id="14472" href="/part0/vector/#14418" class="Bound">n</a> <a id="14474" href="/part0/vector/#14434" class="Bound">B</a>
<a id="14476" href="/part0/vector/#14402" class="Function">vcurry</a> <a id="14483" class="Symbol">{</a><a id="14484" class="Argument">n</a> <a id="14486" class="Symbol">=</a> <a id="14488" href="/part0/nat/#219" class="InductiveConstructor">zero</a><a id="14492" class="Symbol">}</a> <a id="14494" href="/part0/vector/#14494" class="Bound">f</a> <a id="14496" class="Symbol">=</a> <a id="14498" href="/part0/vector/#14494" class="Bound">f</a> <a id="14500" href="/part0/vector/#333" class="InductiveConstructor">ε</a>
<a id="14502" href="/part0/vector/#14402" class="Function">vcurry</a> <a id="14509" class="Symbol">{</a><a id="14510" class="Argument">n</a> <a id="14512" class="Symbol">=</a> <a id="14514" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="14518" href="/part0/vector/#14518" class="Bound">n</a><a id="14519" class="Symbol">}</a> <a id="14521" href="/part0/vector/#14521" class="Bound">f</a> <a id="14523" href="/part0/vector/#14523" class="Bound">a</a> <a id="14525" class="Symbol">=</a> <a id="14527" href="/part0/vector/#14402" class="Function">vcurry</a> <a id="14534" class="Symbol">{</a><a id="14535" class="Argument">n</a> <a id="14537" class="Symbol">=</a> <a id="14539" href="/part0/vector/#14518" class="Bound">n</a><a id="14540" class="Symbol">}</a> <a id="14542" class="Symbol">(λ</a> <a id="14545" href="/part0/vector/#14545" class="Bound">as</a> <a id="14548" class="Symbol">→</a> <a id="14550" href="/part0/vector/#14521" class="Bound">f</a> <a id="14552" class="Symbol">(</a><a id="14553" href="/part0/vector/#14523" class="Bound">a</a> <a id="14555" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="14557" href="/part0/vector/#14545" class="Bound">as</a><a id="14559" class="Symbol">))</a>

<a id="vuncurry"></a><a id="14563" href="/part0/vector/#14563" class="Function">vuncurry</a> <a id="14572" class="Symbol">:</a> <a id="14574" class="Symbol">∀</a> <a id="14576" class="Symbol">{</a><a id="14577" href="/part0/vector/#14577" class="Bound">ℓ</a><a id="14578" class="Symbol">}</a> <a id="14580" class="Symbol">{</a><a id="14581" href="/part0/vector/#14581" class="Bound">n</a><a id="14582" class="Symbol">}</a> <a id="14584" class="Symbol">{</a><a id="14585" href="/part0/vector/#14585" class="Bound">A</a> <a id="14587" class="Symbol">:</a> <a id="14589" class="PrimitiveType">Set</a> <a id="14593" href="/part0/vector/#14577" class="Bound">ℓ</a><a id="14594" class="Symbol">}</a> <a id="14596" class="Symbol">{</a><a id="14597" href="/part0/vector/#14597" class="Bound">B</a> <a id="14599" class="Symbol">:</a> <a id="14601" class="PrimitiveType">Set</a> <a id="14605" href="/part0/vector/#14577" class="Bound">ℓ</a><a id="14606" class="Symbol">}</a> <a id="14608" class="Symbol">→</a> <a id="14610" href="/part0/vector/#14300" class="Function">IFn</a> <a id="14614" href="/part0/vector/#14585" class="Bound">A</a> <a id="14616" href="/part0/vector/#14581" class="Bound">n</a> <a id="14618" href="/part0/vector/#14597" class="Bound">B</a> <a id="14620" class="Symbol">→</a> <a id="14622" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="14629" href="/part0/vector/#14585" class="Bound">A</a> <a id="14631" href="/part0/vector/#14581" class="Bound">n</a> <a id="14633" class="Symbol">→</a> <a id="14635" href="/part0/vector/#14597" class="Bound">B</a>
<a id="14637" href="/part0/vector/#14563" class="Function">vuncurry</a> <a id="14646" href="/part0/vector/#14646" class="Bound">b</a> <a id="14648" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="14650" class="Symbol">=</a> <a id="14652" href="/part0/vector/#14646" class="Bound">b</a>
<a id="14654" href="/part0/vector/#14563" class="Function">vuncurry</a> <a id="14663" href="/part0/vector/#14663" class="Bound">f</a> <a id="14665" class="Symbol">(</a><a id="14666" href="/part0/vector/#14666" class="Bound">a</a> <a id="14668" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="14670" href="/part0/vector/#14670" class="Bound">as</a><a id="14672" class="Symbol">)</a> <a id="14674" class="Symbol">=</a> <a id="14676" href="/part0/vector/#14563" class="Function">vuncurry</a> <a id="14685" class="Symbol">(</a><a id="14686" href="/part0/vector/#14663" class="Bound">f</a> <a id="14688" href="/part0/vector/#14666" class="Bound">a</a><a id="14689" class="Symbol">)</a> <a id="14691" href="/part0/vector/#14670" class="Bound">as</a>

<a id="14695" class="Comment">-- fconst : ∀ {ℓ} {n} {A : Set ℓ} {B : Set ℓ} → B → IFn A n B</a>
<a id="14757" class="Comment">-- fconst b = vcurry (λ _ → b)</a>

<a id="14789" class="Comment">-- sequential vector valuation update</a>
<a id="14827" class="Keyword">infixl</a> <a id="14834" class="Number">300</a> <a id="14838" href="/part0/vector/#14846" class="Function Operator">_v[_↦_]</a>
<a id="_v[_↦_]"></a><a id="14846" href="/part0/vector/#14846" class="Function Operator">_v[_↦_]</a> <a id="vupdate"></a><a id="14854" href="/part0/vector/#14854" class="Function">vupdate</a> <a id="14862" class="Symbol">:</a> <a id="14864" class="Symbol">∀</a> <a id="14866" class="Symbol">{</a><a id="14867" href="/part0/vector/#14867" class="Bound">ℓ</a> <a id="14869" href="/part0/vector/#14869" class="Bound">m</a><a id="14870" class="Symbol">}</a> <a id="14872" class="Symbol">{</a><a id="14873" href="/part0/vector/#14873" class="Bound">A</a> <a id="14875" class="Symbol">:</a> <a id="14877" class="PrimitiveType">Set</a> <a id="14881" href="/part0/vector/#14867" class="Bound">ℓ</a><a id="14882" class="Symbol">}</a> <a id="14884" class="Symbol">{</a><a id="14885" href="/part0/vector/#14885" class="Bound">B</a> <a id="14887" class="Symbol">:</a> <a id="14889" class="PrimitiveType">Set</a> <a id="14893" href="/part0/vector/#14869" class="Bound">m</a><a id="14894" class="Symbol">}</a> <a id="14896" class="Symbol">{</a><a id="14897" href="/part0/vector/#14897" class="Bound">n</a><a id="14898" class="Symbol">}</a> <a id="14900" class="Symbol">{{</a><a id="14902" href="/part0/vector/#14902" class="Bound">_</a> <a id="14904" class="Symbol">:</a> <a id="14906" href="/part0/eq/#2111" class="Record">Eq</a> <a id="14909" href="/part0/vector/#14873" class="Bound">A</a><a id="14910" class="Symbol">}}</a> <a id="14913" class="Symbol">→</a> <a id="14915" class="Symbol">(</a><a id="14916" href="/part0/vector/#14873" class="Bound">A</a> <a id="14918" class="Symbol">→</a> <a id="14920" href="/part0/vector/#14885" class="Bound">B</a><a id="14921" class="Symbol">)</a> <a id="14923" class="Symbol">→</a> <a id="14925" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="14932" href="/part0/vector/#14873" class="Bound">A</a> <a id="14934" href="/part0/vector/#14897" class="Bound">n</a> <a id="14936" class="Symbol">→</a> <a id="14938" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="14945" href="/part0/vector/#14885" class="Bound">B</a> <a id="14947" href="/part0/vector/#14897" class="Bound">n</a> <a id="14949" class="Symbol">→</a> <a id="14951" href="/part0/vector/#14873" class="Bound">A</a> <a id="14953" class="Symbol">→</a> <a id="14955" href="/part0/vector/#14885" class="Bound">B</a>
<a id="14957" class="Comment">-- it should alternatively be defined by induction based on ρ [ x ↦ a ]</a>
<a id="15029" class="Comment">-- (ρ v[ xs ↦ as ]) y with y ∈v? xs</a>
<a id="15065" class="Comment">-- ... | Nothing = ρ y</a>
<a id="15088" class="Comment">-- ... | Just (k , y∈xs!k) = dfst $ fetch y∈xs!k as</a>
<a id="15140" href="/part0/vector/#15140" class="Bound">ρ</a> <a id="15142" href="/part0/vector/#14846" class="Function Operator">v[</a> <a id="15145" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="15147" href="/part0/vector/#14846" class="Function Operator">↦</a> <a id="15149" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="15151" href="/part0/vector/#14846" class="Function Operator">]</a> <a id="15153" class="Symbol">=</a> <a id="15155" href="/part0/vector/#15140" class="Bound">ρ</a>
<a id="15157" class="Comment">-- we need the last occurrence of a variable to be used for the substitution</a>
<a id="15234" href="/part0/vector/#15234" class="Bound">ρ</a> <a id="15236" href="/part0/vector/#14846" class="Function Operator">v[</a> <a id="15239" href="/part0/vector/#15239" class="Bound">x</a> <a id="15241" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="15243" href="/part0/vector/#15243" class="Bound">xs</a> <a id="15246" href="/part0/vector/#14846" class="Function Operator">↦</a> <a id="15248" href="/part0/vector/#15248" class="Bound">a</a> <a id="15250" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="15252" href="/part0/vector/#15252" class="Bound">as</a> <a id="15255" href="/part0/vector/#14846" class="Function Operator">]</a> <a id="15257" class="Symbol">=</a> <a id="15259" href="/part0/vector/#15234" class="Bound">ρ</a> <a id="15261" href="/part0/fun/#419" class="Function Operator">[</a> <a id="15263" href="/part0/vector/#15239" class="Bound">x</a> <a id="15265" href="/part0/fun/#419" class="Function Operator">↦</a> <a id="15267" href="/part0/vector/#15248" class="Bound">a</a> <a id="15269" href="/part0/fun/#419" class="Function Operator">]</a> <a id="15271" href="/part0/vector/#14846" class="Function Operator">v[</a> <a id="15274" href="/part0/vector/#15243" class="Bound">xs</a> <a id="15277" href="/part0/vector/#14846" class="Function Operator">↦</a> <a id="15279" href="/part0/vector/#15252" class="Bound">as</a> <a id="15282" href="/part0/vector/#14846" class="Function Operator">]</a>

<a id="15285" href="/part0/vector/#14854" class="Function">vupdate</a> <a id="15293" href="/part0/vector/#15293" class="Bound">ρ</a> <a id="15295" href="/part0/vector/#15295" class="Bound">xs</a> <a id="15298" href="/part0/vector/#15298" class="Bound">as</a> <a id="15301" class="Symbol">=</a> <a id="15303" href="/part0/vector/#15293" class="Bound">ρ</a> <a id="15305" href="/part0/vector/#14846" class="Function Operator">v[</a> <a id="15308" href="/part0/vector/#15295" class="Bound">xs</a> <a id="15311" href="/part0/vector/#14846" class="Function Operator">↦</a> <a id="15313" href="/part0/vector/#15298" class="Bound">as</a> <a id="15316" href="/part0/vector/#14846" class="Function Operator">]</a>

<a id="vupdate-++"></a><a id="15319" href="/part0/vector/#15319" class="Function">vupdate-++</a> <a id="15330" class="Symbol">:</a> <a id="15332" class="Symbol">∀</a> <a id="15334" class="Symbol">{</a><a id="15335" href="/part0/vector/#15335" class="Bound">ℓ</a> <a id="15337" href="/part0/vector/#15337" class="Bound">m</a><a id="15338" class="Symbol">}</a> <a id="15340" class="Symbol">{</a><a id="15341" href="/part0/vector/#15341" class="Bound">X</a> <a id="15343" class="Symbol">:</a> <a id="15345" class="PrimitiveType">Set</a> <a id="15349" href="/part0/vector/#15335" class="Bound">ℓ</a><a id="15350" class="Symbol">}</a> <a id="15352" class="Symbol">{{</a><a id="15354" href="/part0/vector/#15354" class="Bound">_</a> <a id="15356" class="Symbol">:</a> <a id="15358" href="/part0/eq/#2111" class="Record">Eq</a> <a id="15361" href="/part0/vector/#15341" class="Bound">X</a><a id="15362" class="Symbol">}}</a> <a id="15365" class="Symbol">{</a><a id="15366" href="/part0/vector/#15366" class="Bound">A</a> <a id="15368" class="Symbol">:</a> <a id="15370" class="PrimitiveType">Set</a> <a id="15374" href="/part0/vector/#15337" class="Bound">m</a><a id="15375" class="Symbol">}</a> <a id="15377" class="Symbol">{</a><a id="15378" href="/part0/vector/#15378" class="Bound">n</a> <a id="15380" href="/part0/vector/#15380" class="Bound">k</a><a id="15381" class="Symbol">}</a> <a id="15383" class="Symbol">{</a><a id="15384" href="/part0/vector/#15384" class="Bound">ρ</a> <a id="15386" class="Symbol">:</a> <a id="15388" href="/part0/vector/#15341" class="Bound">X</a> <a id="15390" class="Symbol">→</a> <a id="15392" href="/part0/vector/#15366" class="Bound">A</a><a id="15393" class="Symbol">}</a> <a id="15395" class="Symbol">{</a><a id="15396" href="/part0/vector/#15396" class="Bound">xs</a> <a id="15399" class="Symbol">:</a> <a id="15401" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="15408" href="/part0/vector/#15341" class="Bound">X</a> <a id="15410" href="/part0/vector/#15378" class="Bound">n</a><a id="15411" class="Symbol">}</a> <a id="15413" class="Symbol">{</a><a id="15414" href="/part0/vector/#15414" class="Bound">ys</a> <a id="15417" class="Symbol">:</a> <a id="15419" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="15426" href="/part0/vector/#15341" class="Bound">X</a> <a id="15428" href="/part0/vector/#15380" class="Bound">k</a><a id="15429" class="Symbol">}</a> <a id="15431" class="Symbol">{</a><a id="15432" href="/part0/vector/#15432" class="Bound">as</a> <a id="15435" class="Symbol">:</a> <a id="15437" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="15444" href="/part0/vector/#15366" class="Bound">A</a> <a id="15446" href="/part0/vector/#15378" class="Bound">n</a><a id="15447" class="Symbol">}</a> <a id="15449" class="Symbol">{</a><a id="15450" href="/part0/vector/#15450" class="Bound">bs</a> <a id="15453" class="Symbol">:</a> <a id="15455" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="15462" href="/part0/vector/#15366" class="Bound">A</a> <a id="15464" href="/part0/vector/#15380" class="Bound">k</a><a id="15465" class="Symbol">}</a> <a id="15467" class="Symbol">→</a>
  <a id="15471" href="/part0/vector/#15384" class="Bound">ρ</a> <a id="15473" href="/part0/vector/#14846" class="Function Operator">v[</a> <a id="15476" href="/part0/vector/#15396" class="Bound">xs</a> <a id="15479" href="/part0/vector/#1028" class="Function Operator">++v</a> <a id="15483" href="/part0/vector/#15414" class="Bound">ys</a> <a id="15486" href="/part0/vector/#14846" class="Function Operator">↦</a> <a id="15488" href="/part0/vector/#15432" class="Bound">as</a> <a id="15491" href="/part0/vector/#1028" class="Function Operator">++v</a> <a id="15495" href="/part0/vector/#15450" class="Bound">bs</a> <a id="15498" href="/part0/vector/#14846" class="Function Operator">]</a> <a id="15500" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="15502" href="/part0/vector/#15384" class="Bound">ρ</a> <a id="15504" href="/part0/vector/#14846" class="Function Operator">v[</a> <a id="15507" href="/part0/vector/#15396" class="Bound">xs</a> <a id="15510" href="/part0/vector/#14846" class="Function Operator">↦</a> <a id="15512" href="/part0/vector/#15432" class="Bound">as</a> <a id="15515" href="/part0/vector/#14846" class="Function Operator">]</a> <a id="15517" href="/part0/vector/#14846" class="Function Operator">v[</a> <a id="15520" href="/part0/vector/#15414" class="Bound">ys</a> <a id="15523" href="/part0/vector/#14846" class="Function Operator">↦</a> <a id="15525" href="/part0/vector/#15450" class="Bound">bs</a> <a id="15528" href="/part0/vector/#14846" class="Function Operator">]</a>
<a id="15530" href="/part0/vector/#15319" class="Function">vupdate-++</a> <a id="15541" class="Symbol">{</a><a id="15542" class="Argument">xs</a> <a id="15545" class="Symbol">=</a> <a id="15547" href="/part0/vector/#333" class="InductiveConstructor">ε</a><a id="15548" class="Symbol">}</a> <a id="15550" class="Symbol">{</a><a id="15551" class="Argument">as</a> <a id="15554" class="Symbol">=</a> <a id="15556" href="/part0/vector/#333" class="InductiveConstructor">ε</a><a id="15557" class="Symbol">}</a> <a id="15559" class="Symbol">=</a> <a id="15561" href="/part0/eq/#222" class="InductiveConstructor">refl</a>
<a id="15566" href="/part0/vector/#15319" class="Function">vupdate-++</a> <a id="15577" class="Symbol">{</a><a id="15578" class="Argument">ρ</a> <a id="15580" class="Symbol">=</a> <a id="15582" href="/part0/vector/#15582" class="Bound">ρ</a><a id="15583" class="Symbol">}</a> <a id="15585" class="Symbol">{</a><a id="15586" class="Argument">xs</a> <a id="15589" class="Symbol">=</a> <a id="15591" href="/part0/vector/#15591" class="Bound">x</a> <a id="15593" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="15595" href="/part0/vector/#15595" class="Bound">xs</a><a id="15597" class="Symbol">}</a> <a id="15599" class="Symbol">{</a><a id="15600" class="Argument">as</a> <a id="15603" class="Symbol">=</a> <a id="15605" href="/part0/vector/#15605" class="Bound">a</a> <a id="15607" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="15609" href="/part0/vector/#15609" class="Bound">as</a><a id="15611" class="Symbol">}</a> <a id="15613" class="Symbol">=</a> <a id="15615" href="/part0/vector/#15319" class="Function">vupdate-++</a> <a id="15626" class="Symbol">{</a><a id="15627" class="Argument">ρ</a> <a id="15629" class="Symbol">=</a> <a id="15631" href="/part0/vector/#15582" class="Bound">ρ</a> <a id="15633" href="/part0/fun/#419" class="Function Operator">[</a> <a id="15635" href="/part0/vector/#15591" class="Bound">x</a> <a id="15637" href="/part0/fun/#419" class="Function Operator">↦</a> <a id="15639" href="/part0/vector/#15605" class="Bound">a</a> <a id="15641" href="/part0/fun/#419" class="Function Operator">]</a><a id="15642" class="Symbol">}</a> <a id="15644" class="Symbol">{</a><a id="15645" class="Argument">xs</a> <a id="15648" class="Symbol">=</a> <a id="15650" href="/part0/vector/#15595" class="Bound">xs</a><a id="15652" class="Symbol">}</a> <a id="15654" class="Symbol">{</a><a id="15655" class="Argument">as</a> <a id="15658" class="Symbol">=</a> <a id="15660" href="/part0/vector/#15609" class="Bound">as</a><a id="15662" class="Symbol">}</a>

<a id="vupdate-¬∈v"></a><a id="15665" href="/part0/vector/#15665" class="Function">vupdate-¬∈v</a> <a id="15677" class="Symbol">:</a> <a id="15679" class="Symbol">∀</a> <a id="15681" class="Symbol">{</a><a id="15682" href="/part0/vector/#15682" class="Bound">ℓ</a> <a id="15684" href="/part0/vector/#15684" class="Bound">m</a> <a id="15686" href="/part0/vector/#15686" class="Bound">n</a><a id="15687" class="Symbol">}</a> <a id="15689" class="Symbol">{</a><a id="15690" href="/part0/vector/#15690" class="Bound">A</a> <a id="15692" class="Symbol">:</a> <a id="15694" class="PrimitiveType">Set</a> <a id="15698" href="/part0/vector/#15682" class="Bound">ℓ</a><a id="15699" class="Symbol">}</a> <a id="15701" class="Symbol">{</a><a id="15702" href="/part0/vector/#15702" class="Bound">B</a> <a id="15704" class="Symbol">:</a> <a id="15706" class="PrimitiveType">Set</a> <a id="15710" href="/part0/vector/#15684" class="Bound">m</a><a id="15711" class="Symbol">}</a> <a id="15713" class="Symbol">{{</a><a id="15715" href="/part0/vector/#15715" class="Bound">_</a> <a id="15717" class="Symbol">:</a> <a id="15719" href="/part0/eq/#2111" class="Record">Eq</a> <a id="15722" href="/part0/vector/#15690" class="Bound">A</a><a id="15723" class="Symbol">}}</a> <a id="15726" class="Symbol">(</a><a id="15727" href="/part0/vector/#15727" class="Bound">ρ</a> <a id="15729" class="Symbol">:</a> <a id="15731" href="/part0/vector/#15690" class="Bound">A</a> <a id="15733" class="Symbol">→</a> <a id="15735" href="/part0/vector/#15702" class="Bound">B</a><a id="15736" class="Symbol">)</a> <a id="15738" class="Symbol">{</a><a id="15739" href="/part0/vector/#15739" class="Bound">a</a> <a id="15741" class="Symbol">:</a> <a id="15743" href="/part0/vector/#15690" class="Bound">A</a><a id="15744" class="Symbol">}</a> <a id="15746" class="Symbol">{</a><a id="15747" href="/part0/vector/#15747" class="Bound">as</a> <a id="15750" class="Symbol">:</a> <a id="15752" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="15759" href="/part0/vector/#15690" class="Bound">A</a> <a id="15761" href="/part0/vector/#15686" class="Bound">n</a><a id="15762" class="Symbol">}</a> <a id="15764" class="Symbol">{</a><a id="15765" href="/part0/vector/#15765" class="Bound">bs</a> <a id="15768" class="Symbol">:</a> <a id="15770" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="15777" href="/part0/vector/#15702" class="Bound">B</a> <a id="15779" href="/part0/vector/#15686" class="Bound">n</a><a id="15780" class="Symbol">}</a> <a id="15782" class="Symbol">→</a>
  <a id="15786" href="/part0/vector/#15739" class="Bound">a</a> <a id="15788" href="/part0/vector/#6667" class="Function Operator">¬∈v</a> <a id="15792" href="/part0/vector/#15747" class="Bound">as</a> <a id="15795" class="Symbol">→</a>
  <a id="15799" class="Symbol">(</a><a id="15800" href="/part0/vector/#15727" class="Bound">ρ</a> <a id="15802" href="/part0/vector/#14846" class="Function Operator">v[</a> <a id="15805" href="/part0/vector/#15747" class="Bound">as</a> <a id="15808" href="/part0/vector/#14846" class="Function Operator">↦</a> <a id="15810" href="/part0/vector/#15765" class="Bound">bs</a> <a id="15813" href="/part0/vector/#14846" class="Function Operator">]</a><a id="15814" class="Symbol">)</a> <a id="15816" href="/part0/vector/#15739" class="Bound">a</a> <a id="15818" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="15820" href="/part0/vector/#15727" class="Bound">ρ</a> <a id="15822" href="/part0/vector/#15739" class="Bound">a</a>
<a id="15824" href="/part0/vector/#15665" class="Function">vupdate-¬∈v</a> <a id="15836" href="/part0/vector/#15836" class="Bound">ρ</a> <a id="15838" href="/part0/vector/#15838" class="Bound">a¬∈as</a> <a id="15844" class="Symbol">=</a> <a id="15846" class="Symbol">{!   !}</a>

<a id="15855" class="Comment">-- express that all elements in a vector are distinct</a>
<a id="vdistinct"></a><a id="15909" href="/part0/vector/#15909" class="Function">vdistinct</a> <a id="15919" class="Symbol">:</a> <a id="15921" class="Symbol">∀</a> <a id="15923" class="Symbol">{</a><a id="15924" href="/part0/vector/#15924" class="Bound">ℓ</a> <a id="15926" href="/part0/vector/#15926" class="Bound">n</a><a id="15927" class="Symbol">}</a> <a id="15929" class="Symbol">{</a><a id="15930" href="/part0/vector/#15930" class="Bound">A</a> <a id="15932" class="Symbol">:</a> <a id="15934" class="PrimitiveType">Set</a> <a id="15938" href="/part0/vector/#15924" class="Bound">ℓ</a><a id="15939" class="Symbol">}</a> <a id="15941" class="Symbol">→</a> <a id="15943" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="15950" href="/part0/vector/#15930" class="Bound">A</a> <a id="15952" href="/part0/vector/#15926" class="Bound">n</a> <a id="15954" class="Symbol">→</a> <a id="15956" class="PrimitiveType">Set</a> <a id="15960" href="/part0/vector/#15924" class="Bound">ℓ</a>
<a id="15962" href="/part0/vector/#15909" class="Function">vdistinct</a> <a id="15972" href="/part0/vector/#15972" class="Bound">as</a> <a id="15975" class="Symbol">=</a> <a id="15977" href="/part0/logic/#208" class="Function">∀[</a> <a id="15980" href="/part0/vector/#15980" class="Bound">i</a> <a id="15982" href="/part0/logic/#208" class="Function">]</a> <a id="15984" href="/part0/logic/#208" class="Function">∀[</a> <a id="15987" href="/part0/vector/#15987" class="Bound">j</a> <a id="15989" href="/part0/logic/#208" class="Function">]</a> <a id="15991" href="/part0/logic/#208" class="Function">∀[</a> <a id="15994" href="/part0/vector/#15994" class="Bound">a</a> <a id="15996" href="/part0/logic/#208" class="Function">]</a> <a id="15998" class="Symbol">(</a><a id="15999" href="/part0/vector/#15994" class="Bound">a</a> <a id="16001" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="16004" href="/part0/vector/#15972" class="Bound">as</a> <a id="16007" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="16010" href="/part0/vector/#15980" class="Bound">i</a> <a id="16012" class="Symbol">→</a> <a id="16014" href="/part0/vector/#15994" class="Bound">a</a> <a id="16016" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="16019" href="/part0/vector/#15972" class="Bound">as</a> <a id="16022" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="16025" href="/part0/vector/#15987" class="Bound">j</a> <a id="16027" class="Symbol">→</a> <a id="16029" href="/part0/vector/#15980" class="Bound">i</a> <a id="16031" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="16033" href="/part0/vector/#15987" class="Bound">j</a><a id="16034" class="Symbol">)</a>

<a id="vrepetition"></a><a id="16037" href="/part0/vector/#16037" class="Function">vrepetition</a> <a id="16049" class="Symbol">:</a> <a id="16051" class="Symbol">∀</a> <a id="16053" class="Symbol">{</a><a id="16054" href="/part0/vector/#16054" class="Bound">ℓ</a> <a id="16056" href="/part0/vector/#16056" class="Bound">n</a><a id="16057" class="Symbol">}</a> <a id="16059" class="Symbol">{</a><a id="16060" href="/part0/vector/#16060" class="Bound">A</a> <a id="16062" class="Symbol">:</a> <a id="16064" class="PrimitiveType">Set</a> <a id="16068" href="/part0/vector/#16054" class="Bound">ℓ</a><a id="16069" class="Symbol">}</a> <a id="16071" class="Symbol">→</a> <a id="16073" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="16080" href="/part0/vector/#16060" class="Bound">A</a> <a id="16082" href="/part0/vector/#16056" class="Bound">n</a> <a id="16084" class="Symbol">→</a> <a id="16086" class="PrimitiveType">Set</a>
<a id="16090" href="/part0/vector/#16037" class="Function">vrepetition</a> <a id="16102" href="/part0/vector/#16102" class="Bound">as</a> <a id="16105" class="Symbol">=</a> <a id="16107" href="/part0/logic/#453" class="Function">∃[</a> <a id="16110" href="/part0/vector/#16110" class="Bound">i</a> <a id="16112" href="/part0/logic/#453" class="Function">]</a> <a id="16114" href="/part0/logic/#453" class="Function">∃[</a> <a id="16117" href="/part0/vector/#16117" class="Bound">j</a> <a id="16119" href="/part0/logic/#453" class="Function">]</a> <a id="16121" href="/part0/vector/#16110" class="Bound">i</a> <a id="16123" href="/part0/eq/#1423" class="Function Operator">≢</a> <a id="16125" href="/part0/vector/#16117" class="Bound">j</a> <a id="16127" href="/part0/logic/#1156" class="Record Operator">∧</a> <a id="16129" href="/part0/vector/#16102" class="Bound">as</a> <a id="16132" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="16134" href="/part0/vector/#16110" class="Bound">i</a> <a id="16136" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="16138" href="/part0/vector/#16102" class="Bound">as</a> <a id="16141" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="16143" href="/part0/vector/#16117" class="Bound">j</a>

<a id="distinct→¬repetition"></a><a id="16146" href="/part0/vector/#16146" class="Function">distinct→¬repetition</a> <a id="16167" class="Symbol">:</a> <a id="16169" class="Symbol">∀</a> <a id="16171" class="Symbol">{</a><a id="16172" href="/part0/vector/#16172" class="Bound">ℓ</a> <a id="16174" href="/part0/vector/#16174" class="Bound">m</a><a id="16175" class="Symbol">}</a> <a id="16177" class="Symbol">{</a><a id="16178" href="/part0/vector/#16178" class="Bound">A</a> <a id="16180" class="Symbol">:</a> <a id="16182" class="PrimitiveType">Set</a> <a id="16186" href="/part0/vector/#16172" class="Bound">ℓ</a><a id="16187" class="Symbol">}</a> <a id="16189" class="Symbol">{</a><a id="16190" href="/part0/vector/#16190" class="Bound">as</a> <a id="16193" class="Symbol">:</a> <a id="16195" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="16202" href="/part0/vector/#16178" class="Bound">A</a> <a id="16204" href="/part0/vector/#16174" class="Bound">m</a><a id="16205" class="Symbol">}</a> <a id="16207" class="Symbol">→</a> <a id="16209" href="/part0/vector/#15909" class="Function">vdistinct</a> <a id="16219" href="/part0/vector/#16190" class="Bound">as</a> <a id="16222" class="Symbol">→</a> <a id="16224" href="/part0/logic/#1722" class="Function Operator">¬</a> <a id="16226" href="/part0/vector/#16037" class="Function">vrepetition</a> <a id="16238" href="/part0/vector/#16190" class="Bound">as</a>
<a id="16241" href="/part0/vector/#16146" class="Function">distinct→¬repetition</a> <a id="16262" class="Symbol">{</a><a id="16263" class="Argument">as</a> <a id="16266" class="Symbol">=</a> <a id="16268" href="/part0/vector/#16268" class="Bound">as</a><a id="16270" class="Symbol">}</a> <a id="16272" href="/part0/vector/#16272" class="Bound">dist</a> <a id="16277" class="Symbol">(</a><a id="16278" href="/part0/vector/#16278" class="Bound">i</a> <a id="16280" href="/part0/logic/#388" class="InductiveConstructor Operator">,</a> <a id="16282" href="/part0/vector/#16282" class="Bound">j</a> <a id="16284" href="/part0/logic/#388" class="InductiveConstructor Operator">,</a> <a id="16286" href="/part0/vector/#16286" class="Bound">i≢j</a> <a id="16290" href="/part0/logic/#1224" class="InductiveConstructor Operator">,</a> <a id="16292" href="/part0/vector/#16292" class="Bound">as!i≡as!j</a><a id="16301" class="Symbol">)</a> <a id="16303" class="Symbol">=</a> <a id="16305" href="/part0/vector/#16286" class="Bound">i≢j</a> <a id="16309" class="Symbol">(</a><a id="16310" href="/part0/vector/#16272" class="Bound">dist</a> <a id="16315" href="/part0/vector/#16278" class="Bound">i</a> <a id="16317" href="/part0/vector/#16282" class="Bound">j</a> <a id="16319" class="Symbol">(</a><a id="16320" href="/part0/vector/#16268" class="Bound">as</a> <a id="16323" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="16325" href="/part0/vector/#16278" class="Bound">i</a><a id="16326" class="Symbol">)</a> <a id="16328" href="/part0/vector/#8491" class="Function">membershipCorrect2</a> <a id="16347" href="/part0/vector/#16370" class="Function">as!i∈vasatj</a> <a id="16359" class="Symbol">)</a> <a id="16361" class="Keyword">where</a>

  <a id="16370" href="/part0/vector/#16370" class="Function">as!i∈vasatj</a> <a id="16382" class="Symbol">:</a> <a id="16384" href="/part0/vector/#16268" class="Bound">as</a> <a id="16387" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="16389" href="/part0/vector/#16278" class="Bound">i</a> <a id="16391" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="16394" href="/part0/vector/#16268" class="Bound">as</a> <a id="16397" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="16400" href="/part0/vector/#16282" class="Bound">j</a>
  <a id="16404" href="/part0/vector/#16370" class="Function">as!i∈vasatj</a> <a id="16416" class="Symbol">=</a> <a id="16418" href="/part0/eq/#1015" class="Function">repl</a> <a id="16423" href="/part0/vector/#8491" class="Function">membershipCorrect2</a> <a id="16442" class="Symbol">(</a><a id="16443" href="/part0/eq/#488" class="Function">cong</a> <a id="16448" class="Symbol">(λ</a> <a id="16451" href="/part0/vector/#16451" class="Bound">bs</a> <a id="16454" class="Symbol">→</a> <a id="16456" href="/part0/vector/#16451" class="Bound">bs</a> <a id="16459" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="16462" href="/part0/vector/#16268" class="Bound">as</a> <a id="16465" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="16468" href="/part0/vector/#16282" class="Bound">j</a><a id="16469" class="Symbol">)</a> <a id="16471" class="Symbol">(</a><a id="16472" href="/part0/eq/#335" class="Function">sym</a> <a id="16476" href="/part0/vector/#16292" class="Bound">as!i≡as!j</a><a id="16485" class="Symbol">))</a>

<a id="16489" class="Comment">-- using decidability of equality on Fin</a>
<a id="¬repetition→distinct"></a><a id="16530" href="/part0/vector/#16530" class="Function">¬repetition→distinct</a> <a id="16551" class="Symbol">:</a> <a id="16553" class="Symbol">∀</a> <a id="16555" class="Symbol">{</a><a id="16556" href="/part0/vector/#16556" class="Bound">ℓ</a> <a id="16558" href="/part0/vector/#16558" class="Bound">m</a><a id="16559" class="Symbol">}</a> <a id="16561" class="Symbol">{</a><a id="16562" href="/part0/vector/#16562" class="Bound">A</a> <a id="16564" class="Symbol">:</a> <a id="16566" class="PrimitiveType">Set</a> <a id="16570" href="/part0/vector/#16556" class="Bound">ℓ</a><a id="16571" class="Symbol">}</a> <a id="16573" class="Symbol">{</a><a id="16574" href="/part0/vector/#16574" class="Bound">as</a> <a id="16577" class="Symbol">:</a> <a id="16579" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="16586" href="/part0/vector/#16562" class="Bound">A</a> <a id="16588" href="/part0/vector/#16558" class="Bound">m</a><a id="16589" class="Symbol">}</a> <a id="16591" class="Symbol">→</a> <a id="16593" href="/part0/logic/#1722" class="Function Operator">¬</a> <a id="16595" href="/part0/vector/#16037" class="Function">vrepetition</a> <a id="16607" href="/part0/vector/#16574" class="Bound">as</a> <a id="16610" class="Symbol">→</a> <a id="16612" href="/part0/vector/#15909" class="Function">vdistinct</a> <a id="16622" href="/part0/vector/#16574" class="Bound">as</a>
<a id="16625" href="/part0/vector/#16530" class="Function">¬repetition→distinct</a> <a id="16646" class="Symbol">{</a><a id="16647" class="Argument">as</a> <a id="16650" class="Symbol">=</a> <a id="16652" href="/part0/vector/#16652" class="Bound">as</a><a id="16654" class="Symbol">}</a> <a id="16656" href="/part0/vector/#16656" class="Bound">¬rep</a> <a id="16661" href="/part0/vector/#16661" class="Bound">i</a> <a id="16663" href="/part0/vector/#16663" class="Bound">j</a> <a id="16665" href="/part0/vector/#16665" class="Bound">a</a> <a id="16667" href="/part0/vector/#16667" class="Bound">a∈as!i</a> <a id="16674" href="/part0/vector/#16674" class="Bound">a∈as!j</a> <a id="16681" class="Keyword">with</a> <a id="16686" href="/part0/vector/#16661" class="Bound">i</a> <a id="16688" href="/part0/eq/#2172" class="Field Operator">≡?</a> <a id="16691" href="/part0/vector/#16663" class="Bound">j</a>
<a id="16693" class="Symbol">...</a> <a id="16697" class="Symbol">|</a> <a id="16699" href="/part0/decidable/#238" class="InductiveConstructor">yes</a> <a id="16703" class="Symbol">{</a><a id="16704" href="/part0/eq/#222" class="InductiveConstructor">refl</a><a id="16708" class="Symbol">}</a> <a id="16710" class="Symbol">=</a> <a id="16712" href="/part0/eq/#222" class="InductiveConstructor">refl</a>
<a id="16717" class="Symbol">...</a> <a id="16721" class="Symbol">|</a> <a id="16723" href="/part0/decidable/#275" class="InductiveConstructor">no</a> <a id="16726" class="Symbol">{</a><a id="16727" href="/part0/vector/#16727" class="Bound">i≢j</a><a id="16730" class="Symbol">}</a> <a id="16732" class="Symbol">=</a> <a id="16734" href="/part0/logic/#1663" class="Function">⊥-elim</a> <a id="16741" class="Symbol">(</a><a id="16742" class="Bound">¬rep</a> <a id="16747" href="/part0/vector/#16761" class="Function">rep</a><a id="16750" class="Symbol">)</a> <a id="16752" class="Keyword">where</a>

  <a id="16761" href="/part0/vector/#16761" class="Function">rep</a> <a id="16765" class="Symbol">:</a> <a id="16767" href="/part0/vector/#16037" class="Function">vrepetition</a> <a id="16779" class="Bound">as</a>
  <a id="16784" href="/part0/vector/#16761" class="Function">rep</a> <a id="16788" class="Symbol">=</a> <a id="16790" class="Bound">i</a> <a id="16792" href="/part0/logic/#388" class="InductiveConstructor Operator">,</a> <a id="16794" class="Bound">j</a> <a id="16796" href="/part0/logic/#388" class="InductiveConstructor Operator">,</a> <a id="16798" href="/part0/vector/#16727" class="Bound">i≢j</a> <a id="16802" href="/part0/logic/#1224" class="InductiveConstructor Operator">,</a> <a id="16804" class="Symbol">(</a><a id="16805" href="/part0/eq/#1126" class="Function Operator">begin</a>
    <a id="16815" class="Bound">as</a> <a id="16818" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="16820" class="Bound">i</a>
      <a id="16828" href="/part0/eq/#1271" class="Function Operator">≡⟨</a> <a id="16831" href="/part0/vector/#8292" class="Function">membershipCorrect1</a> <a id="16850" class="Bound">a∈as!i</a> <a id="16857" href="/part0/eq/#1271" class="Function Operator">⟩</a>
    <a id="16863" class="Bound">a</a>
      <a id="16871" href="/part0/eq/#1271" class="Function Operator">≡⟨</a> <a id="16874" href="/part0/eq/#335" class="Function">sym</a> <a id="16878" class="Symbol">(</a><a id="16879" href="/part0/vector/#8292" class="Function">membershipCorrect1</a> <a id="16898" class="Bound">a∈as!j</a><a id="16904" class="Symbol">)</a> <a id="16906" href="/part0/eq/#1271" class="Function Operator">⟩</a>
    <a id="16912" class="Bound">as</a> <a id="16915" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="16917" class="Bound">j</a>
    <a id="16923" href="/part0/eq/#1372" class="Function Operator">∎</a><a id="16924" class="Symbol">)</a>

<a id="vrepetition-++"></a><a id="16927" href="/part0/vector/#16927" class="Function">vrepetition-++</a> <a id="16942" class="Symbol">:</a> <a id="16944" class="Symbol">∀</a> <a id="16946" class="Symbol">{</a><a id="16947" href="/part0/vector/#16947" class="Bound">ℓ</a> <a id="16949" href="/part0/vector/#16949" class="Bound">m</a> <a id="16951" href="/part0/vector/#16951" class="Bound">n</a><a id="16952" class="Symbol">}</a> <a id="16954" class="Symbol">{</a><a id="16955" href="/part0/vector/#16955" class="Bound">A</a> <a id="16957" class="Symbol">:</a> <a id="16959" class="PrimitiveType">Set</a> <a id="16963" href="/part0/vector/#16947" class="Bound">ℓ</a><a id="16964" class="Symbol">}</a> <a id="16966" class="Symbol">{</a><a id="16967" href="/part0/vector/#16967" class="Bound">as</a> <a id="16970" class="Symbol">:</a> <a id="16972" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="16979" href="/part0/vector/#16955" class="Bound">A</a> <a id="16981" href="/part0/vector/#16949" class="Bound">m</a><a id="16982" class="Symbol">}</a> <a id="16984" class="Symbol">{</a><a id="16985" href="/part0/vector/#16985" class="Bound">bs</a> <a id="16988" class="Symbol">:</a> <a id="16990" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="16997" href="/part0/vector/#16955" class="Bound">A</a> <a id="16999" href="/part0/vector/#16951" class="Bound">n</a><a id="17000" class="Symbol">}</a> <a id="17002" class="Symbol">{</a><a id="17003" href="/part0/vector/#17003" class="Bound">a</a> <a id="17005" class="Symbol">:</a> <a id="17007" href="/part0/vector/#16955" class="Bound">A</a><a id="17008" class="Symbol">}</a> <a id="17010" class="Symbol">→</a>
  <a id="17014" href="/part0/vector/#17003" class="Bound">a</a> <a id="17016" href="/part0/vector/#5916" class="Datatype Operator">∈v</a> <a id="17019" href="/part0/vector/#16967" class="Bound">as</a> <a id="17022" class="Symbol">→</a>
  <a id="17026" href="/part0/vector/#17003" class="Bound">a</a> <a id="17028" href="/part0/vector/#5916" class="Datatype Operator">∈v</a> <a id="17031" href="/part0/vector/#16985" class="Bound">bs</a> <a id="17034" class="Symbol">→</a>
  <a id="17038" href="/part0/vector/#16037" class="Function">vrepetition</a> <a id="17050" class="Symbol">(</a><a id="17051" href="/part0/vector/#16967" class="Bound">as</a> <a id="17054" href="/part0/vector/#1028" class="Function Operator">++v</a> <a id="17058" href="/part0/vector/#16985" class="Bound">bs</a><a id="17060" class="Symbol">)</a>
<a id="17062" href="/part0/vector/#16927" class="Function">vrepetition-++</a> <a id="17077" class="Symbol">{</a><a id="17078" class="Argument">m</a> <a id="17080" class="Symbol">=</a> <a id="17082" href="/part0/vector/#17082" class="Bound">m</a><a id="17083" class="Symbol">}</a> <a id="17085" class="Symbol">{</a><a id="17086" href="/part0/vector/#17086" class="Bound">n</a><a id="17087" class="Symbol">}</a> <a id="17089" class="Symbol">{</a><a id="17090" class="Argument">as</a> <a id="17093" class="Symbol">=</a> <a id="17095" href="/part0/vector/#17095" class="Bound">as</a><a id="17097" class="Symbol">}</a> <a id="17099" class="Symbol">{</a><a id="17100" href="/part0/vector/#17100" class="Bound">bs</a><a id="17102" class="Symbol">}</a> <a id="17104" class="Symbol">{</a><a id="17105" href="/part0/vector/#17105" class="Bound">a</a><a id="17106" class="Symbol">}</a> <a id="17108" href="/part0/vector/#17108" class="Bound">a∈as</a> <a id="17113" href="/part0/vector/#17113" class="Bound">a∈bs</a> <a id="17118" class="Symbol">=</a> <a id="17120" href="/part0/vector/#17271" class="Function">i'</a> <a id="17123" href="/part0/logic/#388" class="InductiveConstructor Operator">,</a> <a id="17125" href="/part0/vector/#17342" class="Function">j'</a> <a id="17128" href="/part0/logic/#388" class="InductiveConstructor Operator">,</a> <a id="17130" href="/part0/vector/#17378" class="Function">i'≢j'</a> <a id="17136" href="/part0/logic/#1224" class="InductiveConstructor Operator">,</a> <a id="17138" href="/part0/vector/#17533" class="Function">eql</a> <a id="17142" class="Keyword">where</a>

  <a id="17151" href="/part0/vector/#17151" class="Function">p</a> <a id="17153" class="Symbol">:</a> <a id="17155" href="/part0/logic/#453" class="Function">∃[</a> <a id="17158" href="/part0/vector/#17158" class="Bound">i</a> <a id="17160" href="/part0/logic/#453" class="Function">]</a> <a id="17162" href="/part0/vector/#17105" class="Bound">a</a> <a id="17164" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="17167" href="/part0/vector/#17095" class="Bound">as</a> <a id="17170" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="17173" href="/part0/vector/#17158" class="Bound">i</a>
  <a id="17177" href="/part0/vector/#17151" class="Function">p</a> <a id="17179" class="Symbol">=</a> <a id="17181" href="/part0/vector/#6346" class="Function">getIndex</a> <a id="17190" href="/part0/vector/#17108" class="Bound">a∈as</a>

  <a id="17198" href="/part0/vector/#17198" class="Function">q</a> <a id="17200" class="Symbol">:</a> <a id="17202" href="/part0/logic/#453" class="Function">∃[</a> <a id="17205" href="/part0/vector/#17205" class="Bound">j</a> <a id="17207" href="/part0/logic/#453" class="Function">]</a> <a id="17209" href="/part0/vector/#17105" class="Bound">a</a> <a id="17211" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="17214" href="/part0/vector/#17100" class="Bound">bs</a> <a id="17217" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="17220" href="/part0/vector/#17205" class="Bound">j</a>
  <a id="17224" href="/part0/vector/#17198" class="Function">q</a> <a id="17226" class="Symbol">=</a> <a id="17228" href="/part0/vector/#6346" class="Function">getIndex</a> <a id="17237" href="/part0/vector/#17113" class="Bound">a∈bs</a>

  <a id="17245" href="/part0/vector/#17245" class="Function">i</a> <a id="17247" class="Symbol">:</a> <a id="17249" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="17253" href="/part0/vector/#17082" class="Bound">m</a>
  <a id="17257" href="/part0/vector/#17245" class="Function">i</a> <a id="17259" class="Symbol">=</a> <a id="17261" href="/part0/logic/#408" class="Field">dfst</a> <a id="17266" href="/part0/vector/#17151" class="Function">p</a>

  <a id="17271" href="/part0/vector/#17271" class="Function">i'</a> <a id="17274" class="Symbol">:</a> <a id="17276" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="17280" class="Symbol">(</a><a id="17281" href="/part0/vector/#17082" class="Bound">m</a> <a id="17283" href="/part0/nat/#3683" class="Function Operator">+</a> <a id="17285" href="/part0/vector/#17086" class="Bound">n</a><a id="17286" class="Symbol">)</a>
  <a id="17290" href="/part0/vector/#17271" class="Function">i'</a> <a id="17293" class="Symbol">=</a> <a id="17295" href="/part0/Fin/#1539" class="Function">Fin-monotone</a> <a id="17308" href="/part0/nat/#4166" class="Function">≤+</a> <a id="17311" href="/part0/vector/#17245" class="Function">i</a>

  <a id="17316" href="/part0/vector/#17316" class="Function">j</a> <a id="17318" class="Symbol">:</a> <a id="17320" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="17324" href="/part0/vector/#17086" class="Bound">n</a>
  <a id="17328" href="/part0/vector/#17316" class="Function">j</a> <a id="17330" class="Symbol">=</a> <a id="17332" href="/part0/logic/#408" class="Field">dfst</a> <a id="17337" href="/part0/vector/#17198" class="Function">q</a>

  <a id="17342" href="/part0/vector/#17342" class="Function">j'</a> <a id="17345" class="Symbol">:</a> <a id="17347" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="17351" class="Symbol">(</a><a id="17352" href="/part0/vector/#17082" class="Bound">m</a> <a id="17354" href="/part0/nat/#3683" class="Function Operator">+</a> <a id="17356" href="/part0/vector/#17086" class="Bound">n</a><a id="17357" class="Symbol">)</a>
  <a id="17361" href="/part0/vector/#17342" class="Function">j'</a> <a id="17364" class="Symbol">=</a> <a id="17366" href="/part0/Fin/#1700" class="Function">fadd</a> <a id="17371" href="/part0/vector/#17082" class="Bound">m</a> <a id="17373" href="/part0/vector/#17316" class="Function">j</a>

  <a id="17378" href="/part0/vector/#17378" class="Function">i'≢j'</a> <a id="17384" class="Symbol">:</a> <a id="17386" href="/part0/vector/#17271" class="Function">i'</a> <a id="17389" href="/part0/eq/#1423" class="Function Operator">≢</a> <a id="17391" href="/part0/vector/#17342" class="Function">j'</a>
  <a id="17396" href="/part0/vector/#17378" class="Function">i'≢j'</a> <a id="17402" class="Symbol">=</a> <a id="17404" href="/part0/Fin/#1797" class="Function">Fin-add-≢</a> <a id="17414" href="/part0/vector/#17245" class="Function">i</a> <a id="17416" href="/part0/vector/#17316" class="Function">j</a>

  <a id="17421" href="/part0/vector/#17421" class="Function">ati</a> <a id="17425" class="Symbol">:</a> <a id="17427" href="/part0/vector/#17105" class="Bound">a</a> <a id="17429" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="17432" class="Symbol">(</a><a id="17433" href="/part0/vector/#17095" class="Bound">as</a> <a id="17436" href="/part0/vector/#1028" class="Function Operator">++v</a> <a id="17440" href="/part0/vector/#17100" class="Bound">bs</a><a id="17442" class="Symbol">)</a> <a id="17444" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="17447" href="/part0/vector/#17271" class="Function">i'</a>
  <a id="17452" href="/part0/vector/#17421" class="Function">ati</a> <a id="17456" class="Symbol">=</a> <a id="17458" href="/part0/vector/#6898" class="Function">∈v-++1</a> <a id="17465" class="Symbol">(</a><a id="17466" href="/part0/logic/#423" class="Field">dsnd</a> <a id="17471" href="/part0/vector/#17151" class="Function">p</a><a id="17472" class="Symbol">)</a>

  <a id="17477" href="/part0/vector/#17477" class="Function">atj</a> <a id="17481" class="Symbol">:</a> <a id="17483" href="/part0/vector/#17105" class="Bound">a</a> <a id="17485" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="17488" class="Symbol">(</a><a id="17489" href="/part0/vector/#17095" class="Bound">as</a> <a id="17492" href="/part0/vector/#1028" class="Function Operator">++v</a> <a id="17496" href="/part0/vector/#17100" class="Bound">bs</a><a id="17498" class="Symbol">)</a> <a id="17500" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="17503" href="/part0/vector/#17342" class="Function">j'</a>
  <a id="17508" href="/part0/vector/#17477" class="Function">atj</a> <a id="17512" class="Symbol">=</a> <a id="17514" href="/part0/vector/#7176" class="Function">∈v-++2</a> <a id="17521" class="Symbol">(</a><a id="17522" href="/part0/logic/#423" class="Field">dsnd</a> <a id="17527" href="/part0/vector/#17198" class="Function">q</a><a id="17528" class="Symbol">)</a>

  <a id="17533" href="/part0/vector/#17533" class="Function">eql</a> <a id="17537" class="Symbol">:</a> <a id="17539" class="Symbol">(</a><a id="17540" href="/part0/vector/#17095" class="Bound">as</a> <a id="17543" href="/part0/vector/#1028" class="Function Operator">++v</a> <a id="17547" href="/part0/vector/#17100" class="Bound">bs</a><a id="17549" class="Symbol">)</a> <a id="17551" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="17553" href="/part0/vector/#17271" class="Function">i'</a> <a id="17556" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="17558" class="Symbol">(</a><a id="17559" href="/part0/vector/#17095" class="Bound">as</a> <a id="17562" href="/part0/vector/#1028" class="Function Operator">++v</a> <a id="17566" href="/part0/vector/#17100" class="Bound">bs</a><a id="17568" class="Symbol">)</a> <a id="17570" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="17572" href="/part0/vector/#17342" class="Function">j'</a>
  <a id="17577" href="/part0/vector/#17533" class="Function">eql</a> <a id="17581" class="Symbol">=</a> <a id="17583" href="/part0/eq/#1126" class="Function Operator">begin</a>
    <a id="17593" class="Symbol">(</a><a id="17594" href="/part0/vector/#17095" class="Bound">as</a> <a id="17597" href="/part0/vector/#1028" class="Function Operator">++v</a> <a id="17601" href="/part0/vector/#17100" class="Bound">bs</a><a id="17603" class="Symbol">)</a> <a id="17605" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="17607" href="/part0/vector/#17271" class="Function">i'</a>
      <a id="17616" href="/part0/eq/#1271" class="Function Operator">≡⟨</a> <a id="17619" href="/part0/vector/#8292" class="Function">membershipCorrect1</a> <a id="17638" href="/part0/vector/#17421" class="Function">ati</a> <a id="17642" href="/part0/eq/#1271" class="Function Operator">⟩</a>
    <a id="17648" href="/part0/vector/#17105" class="Bound">a</a>
      <a id="17656" href="/part0/eq/#1271" class="Function Operator">≡⟨</a> <a id="17659" href="/part0/eq/#335" class="Function">sym</a> <a id="17663" class="Symbol">(</a><a id="17664" href="/part0/vector/#8292" class="Function">membershipCorrect1</a> <a id="17683" href="/part0/vector/#17477" class="Function">atj</a><a id="17686" class="Symbol">)</a> <a id="17688" href="/part0/eq/#1271" class="Function Operator">⟩</a>
    <a id="17694" class="Symbol">(</a><a id="17695" href="/part0/vector/#17095" class="Bound">as</a> <a id="17698" href="/part0/vector/#1028" class="Function Operator">++v</a> <a id="17702" href="/part0/vector/#17100" class="Bound">bs</a><a id="17704" class="Symbol">)</a> <a id="17706" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="17708" href="/part0/vector/#17342" class="Function">j'</a>
    <a id="17715" href="/part0/eq/#1372" class="Function Operator">∎</a>

<a id="vdistinct-++"></a><a id="17718" href="/part0/vector/#17718" class="Function">vdistinct-++</a> <a id="17731" class="Symbol">:</a> <a id="17733" class="Symbol">∀</a> <a id="17735" class="Symbol">{</a><a id="17736" href="/part0/vector/#17736" class="Bound">ℓ</a> <a id="17738" href="/part0/vector/#17738" class="Bound">m</a> <a id="17740" href="/part0/vector/#17740" class="Bound">n</a><a id="17741" class="Symbol">}</a> <a id="17743" class="Symbol">{</a><a id="17744" href="/part0/vector/#17744" class="Bound">A</a> <a id="17746" class="Symbol">:</a> <a id="17748" class="PrimitiveType">Set</a> <a id="17752" href="/part0/vector/#17736" class="Bound">ℓ</a><a id="17753" class="Symbol">}</a> <a id="17755" class="Symbol">{</a><a id="17756" href="/part0/vector/#17756" class="Bound">as</a> <a id="17759" class="Symbol">:</a> <a id="17761" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="17768" href="/part0/vector/#17744" class="Bound">A</a> <a id="17770" href="/part0/vector/#17738" class="Bound">m</a><a id="17771" class="Symbol">}</a> <a id="17773" class="Symbol">{</a><a id="17774" href="/part0/vector/#17774" class="Bound">bs</a> <a id="17777" class="Symbol">:</a> <a id="17779" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="17786" href="/part0/vector/#17744" class="Bound">A</a> <a id="17788" href="/part0/vector/#17740" class="Bound">n</a><a id="17789" class="Symbol">}</a> <a id="17791" class="Symbol">{</a><a id="17792" href="/part0/vector/#17792" class="Bound">a</a> <a id="17794" class="Symbol">:</a> <a id="17796" href="/part0/vector/#17744" class="Bound">A</a><a id="17797" class="Symbol">}</a> <a id="17799" class="Symbol">→</a>
  <a id="17803" href="/part0/vector/#17792" class="Bound">a</a> <a id="17805" href="/part0/vector/#5916" class="Datatype Operator">∈v</a> <a id="17808" href="/part0/vector/#17756" class="Bound">as</a> <a id="17811" class="Symbol">→</a>
  <a id="17815" href="/part0/vector/#15909" class="Function">vdistinct</a> <a id="17825" class="Symbol">(</a><a id="17826" href="/part0/vector/#17756" class="Bound">as</a> <a id="17829" href="/part0/vector/#1028" class="Function Operator">++v</a> <a id="17833" href="/part0/vector/#17774" class="Bound">bs</a><a id="17835" class="Symbol">)</a> <a id="17837" class="Symbol">→</a>
  <a id="17841" href="/part0/vector/#17792" class="Bound">a</a> <a id="17843" href="/part0/vector/#6667" class="Function Operator">¬∈v</a> <a id="17847" href="/part0/vector/#17774" class="Bound">bs</a>
<a id="17850" href="/part0/vector/#17718" class="Function">vdistinct-++</a> <a id="17863" href="/part0/vector/#17863" class="Bound">a∈as</a> <a id="17868" href="/part0/vector/#17868" class="Bound">dst</a> <a id="17872" href="/part0/vector/#17872" class="Bound">a∈bs</a> <a id="17877" class="Symbol">=</a> <a id="17879" href="/part0/vector/#16146" class="Function">distinct→¬repetition</a> <a id="17900" href="/part0/vector/#17868" class="Bound">dst</a> <a id="17904" class="Symbol">(</a><a id="17905" href="/part0/vector/#16927" class="Function">vrepetition-++</a> <a id="17920" href="/part0/vector/#17863" class="Bound">a∈as</a> <a id="17925" href="/part0/vector/#17872" class="Bound">a∈bs</a><a id="17929" class="Symbol">)</a>

<a id="vdistinct-¬∈"></a><a id="17932" href="/part0/vector/#17932" class="Function">vdistinct-¬∈</a> <a id="17945" class="Symbol">:</a> <a id="17947" class="Symbol">∀</a> <a id="17949" class="Symbol">{</a><a id="17950" href="/part0/vector/#17950" class="Bound">ℓ</a> <a id="17952" href="/part0/vector/#17952" class="Bound">n</a><a id="17953" class="Symbol">}</a> <a id="17955" class="Symbol">{</a><a id="17956" href="/part0/vector/#17956" class="Bound">A</a> <a id="17958" class="Symbol">:</a> <a id="17960" class="PrimitiveType">Set</a> <a id="17964" href="/part0/vector/#17950" class="Bound">ℓ</a><a id="17965" class="Symbol">}</a> <a id="17967" class="Symbol">{</a><a id="17968" href="/part0/vector/#17968" class="Bound">as</a> <a id="17971" class="Symbol">:</a> <a id="17973" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="17980" href="/part0/vector/#17956" class="Bound">A</a> <a id="17982" href="/part0/vector/#17952" class="Bound">n</a><a id="17983" class="Symbol">}</a> <a id="17985" class="Symbol">{</a><a id="17986" href="/part0/vector/#17986" class="Bound">a</a> <a id="17988" class="Symbol">:</a> <a id="17990" href="/part0/vector/#17956" class="Bound">A</a><a id="17991" class="Symbol">}</a> <a id="17993" class="Symbol">→</a>
  <a id="17997" href="/part0/vector/#15909" class="Function">vdistinct</a> <a id="18007" href="/part0/vector/#17968" class="Bound">as</a> <a id="18010" class="Symbol">→</a>
  <a id="18014" href="/part0/vector/#17986" class="Bound">a</a> <a id="18016" href="/part0/vector/#6667" class="Function Operator">¬∈v</a> <a id="18020" href="/part0/vector/#17968" class="Bound">as</a> <a id="18023" class="Symbol">→</a>
  <a id="18027" href="/part0/vector/#15909" class="Function">vdistinct</a> <a id="18037" class="Symbol">(</a><a id="18038" href="/part0/vector/#17986" class="Bound">a</a> <a id="18040" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="18042" href="/part0/vector/#17968" class="Bound">as</a><a id="18044" class="Symbol">)</a>
<a id="18046" href="/part0/vector/#17932" class="Function">vdistinct-¬∈</a> <a id="18059" class="Symbol">=</a> <a id="18061" class="Symbol">{!   !}</a>

<a id="18070" class="Keyword">infixl</a> <a id="18077" class="Number">20</a> <a id="18080" href="/part0/vector/#18085" class="Function Operator">_⊆v_</a>
<a id="_⊆v_"></a><a id="18085" href="/part0/vector/#18085" class="Function Operator">_⊆v_</a> <a id="18090" class="Symbol">:</a> <a id="18092" class="Symbol">∀</a> <a id="18094" class="Symbol">{</a><a id="18095" href="/part0/vector/#18095" class="Bound">ℓ</a> <a id="18097" href="/part0/vector/#18097" class="Bound">m</a> <a id="18099" href="/part0/vector/#18099" class="Bound">n</a><a id="18100" class="Symbol">}</a> <a id="18102" class="Symbol">{</a><a id="18103" href="/part0/vector/#18103" class="Bound">A</a> <a id="18105" class="Symbol">:</a> <a id="18107" class="PrimitiveType">Set</a> <a id="18111" href="/part0/vector/#18095" class="Bound">ℓ</a><a id="18112" class="Symbol">}</a> <a id="18114" class="Symbol">{{</a><a id="18116" href="/part0/vector/#18116" class="Bound">_</a> <a id="18118" class="Symbol">:</a> <a id="18120" href="/part0/eq/#2111" class="Record">Eq</a> <a id="18123" href="/part0/vector/#18103" class="Bound">A</a><a id="18124" class="Symbol">}}</a> <a id="18127" class="Symbol">→</a> <a id="18129" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="18136" href="/part0/vector/#18103" class="Bound">A</a> <a id="18138" href="/part0/vector/#18097" class="Bound">m</a> <a id="18140" class="Symbol">→</a> <a id="18142" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="18149" href="/part0/vector/#18103" class="Bound">A</a> <a id="18151" href="/part0/vector/#18099" class="Bound">n</a> <a id="18153" class="Symbol">→</a> <a id="18155" class="PrimitiveType">Set</a> <a id="18159" href="/part0/vector/#18095" class="Bound">ℓ</a>
<a id="18161" href="/part0/vector/#18161" class="Bound">xs</a> <a id="18164" href="/part0/vector/#18085" class="Function Operator">⊆v</a> <a id="18167" href="/part0/vector/#18167" class="Bound">ys</a> <a id="18170" class="Symbol">=</a> <a id="18172" href="/part0/logic/#208" class="Function">∀[</a> <a id="18175" href="/part0/vector/#18175" class="Bound">x</a> <a id="18177" href="/part0/logic/#208" class="Function">]</a> <a id="18179" class="Symbol">(</a><a id="18180" href="/part0/vector/#18175" class="Bound">x</a> <a id="18182" href="/part0/vector/#5916" class="Datatype Operator">∈v</a> <a id="18185" href="/part0/vector/#18161" class="Bound">xs</a> <a id="18188" class="Symbol">→</a> <a id="18190" href="/part0/vector/#18175" class="Bound">x</a> <a id="18192" href="/part0/vector/#5916" class="Datatype Operator">∈v</a> <a id="18195" href="/part0/vector/#18167" class="Bound">ys</a><a id="18197" class="Symbol">)</a>

<a id="18200" class="Comment">-- noncontiguous subword embedding</a>
<a id="18235" class="Keyword">infixl</a> <a id="18242" class="Number">9</a> <a id="18244" href="/part0/vector/#18254" class="Datatype Operator">_⊑v_</a>
<a id="18249" class="Keyword">data</a> <a id="_⊑v_"></a><a id="18254" href="/part0/vector/#18254" class="Datatype Operator">_⊑v_</a> <a id="18259" class="Symbol">{</a><a id="18260" href="/part0/vector/#18260" class="Bound">ℓ</a><a id="18261" class="Symbol">}</a> <a id="18263" class="Symbol">{</a><a id="18264" href="/part0/vector/#18264" class="Bound">A</a> <a id="18266" class="Symbol">:</a> <a id="18268" class="PrimitiveType">Set</a> <a id="18272" href="/part0/vector/#18260" class="Bound">ℓ</a><a id="18273" class="Symbol">}</a> <a id="18275" class="Symbol">:</a> <a id="18277" class="Symbol">∀</a> <a id="18279" class="Symbol">{</a><a id="18280" href="/part0/vector/#18280" class="Bound">m</a> <a id="18282" href="/part0/vector/#18282" class="Bound">n</a><a id="18283" class="Symbol">}</a> <a id="18285" class="Symbol">→</a> <a id="18287" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="18294" href="/part0/vector/#18264" class="Bound">A</a> <a id="18296" href="/part0/vector/#18280" class="Bound">m</a> <a id="18298" class="Symbol">→</a> <a id="18300" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="18307" href="/part0/vector/#18264" class="Bound">A</a> <a id="18309" href="/part0/vector/#18282" class="Bound">n</a> <a id="18311" class="Symbol">→</a> <a id="18313" class="PrimitiveType">Set</a> <a id="18317" class="Keyword">where</a>
  <a id="_⊑v_.stop"></a><a id="18325" href="/part0/vector/#18325" class="InductiveConstructor">stop</a> <a id="18330" class="Symbol">:</a> <a id="18332" class="Symbol">∀</a> <a id="18334" class="Symbol">{</a><a id="18335" href="/part0/vector/#18335" class="Bound">n</a><a id="18336" class="Symbol">}</a> <a id="18338" class="Symbol">{</a><a id="18339" href="/part0/vector/#18339" class="Bound">bs</a> <a id="18342" class="Symbol">:</a> <a id="18344" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="18351" href="/part0/vector/#18264" class="Bound">A</a> <a id="18353" href="/part0/vector/#18335" class="Bound">n</a><a id="18354" class="Symbol">}</a> <a id="18356" class="Symbol">→</a> <a id="18358" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="18360" href="/part0/vector/#18254" class="Datatype Operator">⊑v</a> <a id="18363" href="/part0/vector/#18339" class="Bound">bs</a>
  <a id="_⊑v_.match"></a><a id="18368" href="/part0/vector/#18368" class="InductiveConstructor">match</a> <a id="18374" class="Symbol">:</a> <a id="18376" class="Symbol">∀</a> <a id="18378" class="Symbol">{</a><a id="18379" href="/part0/vector/#18379" class="Bound">m</a> <a id="18381" href="/part0/vector/#18381" class="Bound">n</a><a id="18382" class="Symbol">}</a> <a id="18384" class="Symbol">{</a><a id="18385" href="/part0/vector/#18385" class="Bound">a</a> <a id="18387" class="Symbol">:</a> <a id="18389" href="/part0/vector/#18264" class="Bound">A</a><a id="18390" class="Symbol">}</a> <a id="18392" class="Symbol">{</a><a id="18393" href="/part0/vector/#18393" class="Bound">as</a> <a id="18396" class="Symbol">:</a> <a id="18398" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="18405" href="/part0/vector/#18264" class="Bound">A</a> <a id="18407" href="/part0/vector/#18379" class="Bound">m</a><a id="18408" class="Symbol">}</a> <a id="18410" class="Symbol">{</a><a id="18411" href="/part0/vector/#18411" class="Bound">bs</a> <a id="18414" class="Symbol">:</a> <a id="18416" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="18423" href="/part0/vector/#18264" class="Bound">A</a> <a id="18425" href="/part0/vector/#18381" class="Bound">n</a><a id="18426" class="Symbol">}</a> <a id="18428" class="Symbol">→</a> <a id="18430" href="/part0/vector/#18393" class="Bound">as</a> <a id="18433" href="/part0/vector/#18254" class="Datatype Operator">⊑v</a> <a id="18436" href="/part0/vector/#18411" class="Bound">bs</a> <a id="18439" class="Symbol">→</a> <a id="18441" href="/part0/vector/#18385" class="Bound">a</a> <a id="18443" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="18445" href="/part0/vector/#18393" class="Bound">as</a> <a id="18448" href="/part0/vector/#18254" class="Datatype Operator">⊑v</a> <a id="18451" href="/part0/vector/#18385" class="Bound">a</a> <a id="18453" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="18455" href="/part0/vector/#18411" class="Bound">bs</a>
  <a id="_⊑v_.skip"></a><a id="18460" href="/part0/vector/#18460" class="InductiveConstructor">skip</a> <a id="18465" class="Symbol">:</a> <a id="18467" class="Symbol">∀</a> <a id="18469" class="Symbol">{</a><a id="18470" href="/part0/vector/#18470" class="Bound">m</a> <a id="18472" href="/part0/vector/#18472" class="Bound">n</a><a id="18473" class="Symbol">}</a> <a id="18475" class="Symbol">{</a><a id="18476" href="/part0/vector/#18476" class="Bound">a</a> <a id="18478" class="Symbol">:</a> <a id="18480" href="/part0/vector/#18264" class="Bound">A</a><a id="18481" class="Symbol">}</a> <a id="18483" class="Symbol">{</a><a id="18484" href="/part0/vector/#18484" class="Bound">as</a> <a id="18487" class="Symbol">:</a> <a id="18489" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="18496" href="/part0/vector/#18264" class="Bound">A</a> <a id="18498" href="/part0/vector/#18470" class="Bound">m</a><a id="18499" class="Symbol">}</a> <a id="18501" class="Symbol">{</a><a id="18502" href="/part0/vector/#18502" class="Bound">bs</a> <a id="18505" class="Symbol">:</a> <a id="18507" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="18514" href="/part0/vector/#18264" class="Bound">A</a> <a id="18516" href="/part0/vector/#18472" class="Bound">n</a><a id="18517" class="Symbol">}</a> <a id="18519" class="Symbol">→</a> <a id="18521" href="/part0/vector/#18484" class="Bound">as</a> <a id="18524" href="/part0/vector/#18254" class="Datatype Operator">⊑v</a> <a id="18527" href="/part0/vector/#18502" class="Bound">bs</a> <a id="18530" class="Symbol">→</a> <a id="18532" href="/part0/vector/#18484" class="Bound">as</a> <a id="18535" href="/part0/vector/#18254" class="Datatype Operator">⊑v</a> <a id="18538" href="/part0/vector/#18476" class="Bound">a</a> <a id="18540" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="18542" href="/part0/vector/#18502" class="Bound">bs</a>

<a id="refl-⊑v"></a><a id="18546" href="/part0/vector/#18546" class="Function">refl-⊑v</a> <a id="18554" class="Symbol">:</a> <a id="18556" class="Symbol">∀</a> <a id="18558" class="Symbol">{</a><a id="18559" href="/part0/vector/#18559" class="Bound">ℓ</a> <a id="18561" href="/part0/vector/#18561" class="Bound">n</a><a id="18562" class="Symbol">}</a> <a id="18564" class="Symbol">{</a><a id="18565" href="/part0/vector/#18565" class="Bound">A</a> <a id="18567" class="Symbol">:</a> <a id="18569" class="PrimitiveType">Set</a> <a id="18573" href="/part0/vector/#18559" class="Bound">ℓ</a><a id="18574" class="Symbol">}</a> <a id="18576" class="Symbol">{</a><a id="18577" href="/part0/vector/#18577" class="Bound">as</a> <a id="18580" class="Symbol">:</a> <a id="18582" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="18589" href="/part0/vector/#18565" class="Bound">A</a> <a id="18591" href="/part0/vector/#18561" class="Bound">n</a><a id="18592" class="Symbol">}</a> <a id="18594" class="Symbol">→</a> <a id="18596" href="/part0/vector/#18577" class="Bound">as</a> <a id="18599" href="/part0/vector/#18254" class="Datatype Operator">⊑v</a> <a id="18602" href="/part0/vector/#18577" class="Bound">as</a>
<a id="18605" href="/part0/vector/#18546" class="Function">refl-⊑v</a> <a id="18613" class="Symbol">=</a> <a id="18615" class="Symbol">{!   !}</a>

<a id="vtakeIs⊑"></a><a id="18624" href="/part0/vector/#18624" class="Function">vtakeIs⊑</a> <a id="18633" class="Symbol">:</a> <a id="18635" class="Symbol">∀</a> <a id="18637" class="Symbol">{</a><a id="18638" href="/part0/vector/#18638" class="Bound">ℓ</a> <a id="18640" href="/part0/vector/#18640" class="Bound">n</a><a id="18641" class="Symbol">}</a> <a id="18643" class="Symbol">{</a><a id="18644" href="/part0/vector/#18644" class="Bound">A</a> <a id="18646" class="Symbol">:</a> <a id="18648" class="PrimitiveType">Set</a> <a id="18652" href="/part0/vector/#18638" class="Bound">ℓ</a><a id="18653" class="Symbol">}</a> <a id="18655" class="Symbol">(</a><a id="18656" href="/part0/vector/#18656" class="Bound">m</a> <a id="18658" class="Symbol">:</a> <a id="18660" href="/part0/nat/#203" class="Datatype">ℕ</a><a id="18661" class="Symbol">)</a> <a id="18663" class="Symbol">(</a><a id="18664" href="/part0/vector/#18664" class="Bound">as</a> <a id="18667" class="Symbol">:</a> <a id="18669" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="18676" href="/part0/vector/#18644" class="Bound">A</a> <a id="18678" class="Symbol">(</a><a id="18679" href="/part0/vector/#18656" class="Bound">m</a> <a id="18681" href="/part0/nat/#3683" class="Function Operator">+</a> <a id="18683" href="/part0/vector/#18640" class="Bound">n</a><a id="18684" class="Symbol">))</a> <a id="18687" class="Symbol">→</a> <a id="18689" href="/part0/vector/#3294" class="Function">vtake</a> <a id="18695" href="/part0/vector/#18656" class="Bound">m</a> <a id="18697" href="/part0/vector/#18664" class="Bound">as</a> <a id="18700" href="/part0/vector/#18254" class="Datatype Operator">⊑v</a> <a id="18703" href="/part0/vector/#18664" class="Bound">as</a>
<a id="18706" href="/part0/vector/#18624" class="Function">vtakeIs⊑</a> <a id="18715" href="/part0/nat/#219" class="InductiveConstructor">zero</a> <a id="18720" class="Symbol">_</a> <a id="18722" class="Symbol">=</a> <a id="18724" href="/part0/vector/#18325" class="InductiveConstructor">stop</a>
<a id="18729" href="/part0/vector/#18624" class="Function">vtakeIs⊑</a> <a id="18738" class="Symbol">(</a><a id="18739" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="18743" href="/part0/vector/#18743" class="Bound">m</a><a id="18744" class="Symbol">)</a> <a id="18746" class="Symbol">(_</a> <a id="18749" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="18751" href="/part0/vector/#18751" class="Bound">as</a><a id="18753" class="Symbol">)</a> <a id="18755" class="Keyword">with</a> <a id="18760" href="/part0/vector/#18624" class="Function">vtakeIs⊑</a> <a id="18769" href="/part0/vector/#18743" class="Bound">m</a> <a id="18771" href="/part0/vector/#18751" class="Bound">as</a>
<a id="18774" class="Symbol">...</a> <a id="18778" class="Symbol">|</a> <a id="18780" href="/part0/vector/#18780" class="Bound">take⊑as</a> <a id="18788" class="Symbol">=</a> <a id="18790" href="/part0/vector/#18368" class="InductiveConstructor">match</a> <a id="18796" href="/part0/vector/#18780" class="Bound">take⊑as</a>

<a id="vdropIs⊑"></a><a id="18805" href="/part0/vector/#18805" class="Function">vdropIs⊑</a> <a id="18814" class="Symbol">:</a> <a id="18816" class="Symbol">∀</a> <a id="18818" class="Symbol">{</a><a id="18819" href="/part0/vector/#18819" class="Bound">ℓ</a> <a id="18821" href="/part0/vector/#18821" class="Bound">n</a><a id="18822" class="Symbol">}</a> <a id="18824" class="Symbol">{</a><a id="18825" href="/part0/vector/#18825" class="Bound">A</a> <a id="18827" class="Symbol">:</a> <a id="18829" class="PrimitiveType">Set</a> <a id="18833" href="/part0/vector/#18819" class="Bound">ℓ</a><a id="18834" class="Symbol">}</a> <a id="18836" class="Symbol">(</a><a id="18837" href="/part0/vector/#18837" class="Bound">m</a> <a id="18839" class="Symbol">:</a> <a id="18841" href="/part0/nat/#203" class="Datatype">ℕ</a><a id="18842" class="Symbol">)</a> <a id="18844" class="Symbol">(</a><a id="18845" href="/part0/vector/#18845" class="Bound">as</a> <a id="18848" class="Symbol">:</a> <a id="18850" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="18857" href="/part0/vector/#18825" class="Bound">A</a> <a id="18859" class="Symbol">(</a><a id="18860" href="/part0/vector/#18837" class="Bound">m</a> <a id="18862" href="/part0/nat/#3683" class="Function Operator">+</a> <a id="18864" href="/part0/vector/#18821" class="Bound">n</a><a id="18865" class="Symbol">))</a> <a id="18868" class="Symbol">→</a> <a id="18870" href="/part0/vector/#3597" class="Function">vdrop</a> <a id="18876" href="/part0/vector/#18837" class="Bound">m</a> <a id="18878" href="/part0/vector/#18845" class="Bound">as</a> <a id="18881" href="/part0/vector/#18254" class="Datatype Operator">⊑v</a> <a id="18884" href="/part0/vector/#18845" class="Bound">as</a>
<a id="18887" href="/part0/vector/#18805" class="Function">vdropIs⊑</a> <a id="18896" href="/part0/nat/#219" class="InductiveConstructor">zero</a> <a id="18901" class="Symbol">_</a> <a id="18903" class="Symbol">=</a> <a id="18905" href="/part0/vector/#18546" class="Function">refl-⊑v</a>
<a id="18913" href="/part0/vector/#18805" class="Function">vdropIs⊑</a> <a id="18922" class="Symbol">(</a><a id="18923" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="18927" href="/part0/vector/#18927" class="Bound">m</a><a id="18928" class="Symbol">)</a> <a id="18930" class="Symbol">(_</a> <a id="18933" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="18935" href="/part0/vector/#18935" class="Bound">as</a><a id="18937" class="Symbol">)</a> <a id="18939" class="Keyword">with</a> <a id="18944" href="/part0/vector/#18805" class="Function">vdropIs⊑</a> <a id="18953" href="/part0/vector/#18927" class="Bound">m</a> <a id="18955" href="/part0/vector/#18935" class="Bound">as</a>
<a id="18958" class="Symbol">...</a> <a id="18962" class="Symbol">|</a> <a id="18964" href="/part0/vector/#18964" class="Bound">drop⊑as</a> <a id="18972" class="Symbol">=</a> <a id="18974" href="/part0/vector/#18460" class="InductiveConstructor">skip</a> <a id="18979" href="/part0/vector/#18964" class="Bound">drop⊑as</a>

<a id="⊑v-++-1"></a><a id="18988" href="/part0/vector/#18988" class="Function">⊑v-++-1</a> <a id="18996" class="Symbol">:</a> <a id="18998" class="Symbol">∀</a> <a id="19000" class="Symbol">{</a><a id="19001" href="/part0/vector/#19001" class="Bound">ℓ</a> <a id="19003" href="/part0/vector/#19003" class="Bound">m</a> <a id="19005" href="/part0/vector/#19005" class="Bound">n</a><a id="19006" class="Symbol">}</a> <a id="19008" class="Symbol">{</a><a id="19009" href="/part0/vector/#19009" class="Bound">A</a> <a id="19011" class="Symbol">:</a> <a id="19013" class="PrimitiveType">Set</a> <a id="19017" href="/part0/vector/#19001" class="Bound">ℓ</a><a id="19018" class="Symbol">}</a> <a id="19020" class="Symbol">(</a><a id="19021" href="/part0/vector/#19021" class="Bound">as</a> <a id="19024" class="Symbol">:</a> <a id="19026" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="19033" href="/part0/vector/#19009" class="Bound">A</a> <a id="19035" href="/part0/vector/#19003" class="Bound">m</a><a id="19036" class="Symbol">)</a> <a id="19038" class="Symbol">(</a><a id="19039" href="/part0/vector/#19039" class="Bound">bs</a> <a id="19042" class="Symbol">:</a> <a id="19044" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="19051" href="/part0/vector/#19009" class="Bound">A</a> <a id="19053" href="/part0/vector/#19005" class="Bound">n</a><a id="19054" class="Symbol">)</a> <a id="19056" class="Symbol">→</a> <a id="19058" href="/part0/vector/#19021" class="Bound">as</a> <a id="19061" href="/part0/vector/#18254" class="Datatype Operator">⊑v</a> <a id="19064" href="/part0/vector/#19021" class="Bound">as</a> <a id="19067" href="/part0/vector/#1028" class="Function Operator">++v</a> <a id="19071" href="/part0/vector/#19039" class="Bound">bs</a>
<a id="19074" href="/part0/vector/#18988" class="Function">⊑v-++-1</a> <a id="19082" class="Symbol">=</a> <a id="19084" class="Symbol">{!   !}</a>

<a id="⊑v-++-2"></a><a id="19093" href="/part0/vector/#19093" class="Function">⊑v-++-2</a> <a id="19101" class="Symbol">:</a> <a id="19103" class="Symbol">∀</a> <a id="19105" class="Symbol">{</a><a id="19106" href="/part0/vector/#19106" class="Bound">ℓ</a> <a id="19108" href="/part0/vector/#19108" class="Bound">m</a> <a id="19110" href="/part0/vector/#19110" class="Bound">n</a><a id="19111" class="Symbol">}</a> <a id="19113" class="Symbol">{</a><a id="19114" href="/part0/vector/#19114" class="Bound">A</a> <a id="19116" class="Symbol">:</a> <a id="19118" class="PrimitiveType">Set</a> <a id="19122" href="/part0/vector/#19106" class="Bound">ℓ</a><a id="19123" class="Symbol">}</a> <a id="19125" class="Symbol">(</a><a id="19126" href="/part0/vector/#19126" class="Bound">as</a> <a id="19129" class="Symbol">:</a> <a id="19131" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="19138" href="/part0/vector/#19114" class="Bound">A</a> <a id="19140" href="/part0/vector/#19108" class="Bound">m</a><a id="19141" class="Symbol">)</a> <a id="19143" class="Symbol">(</a><a id="19144" href="/part0/vector/#19144" class="Bound">bs</a> <a id="19147" class="Symbol">:</a> <a id="19149" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="19156" href="/part0/vector/#19114" class="Bound">A</a> <a id="19158" href="/part0/vector/#19110" class="Bound">n</a><a id="19159" class="Symbol">)</a> <a id="19161" class="Symbol">→</a> <a id="19163" href="/part0/vector/#19126" class="Bound">as</a> <a id="19166" href="/part0/vector/#18254" class="Datatype Operator">⊑v</a> <a id="19169" href="/part0/vector/#19144" class="Bound">bs</a> <a id="19172" href="/part0/vector/#1028" class="Function Operator">++v</a> <a id="19176" href="/part0/vector/#19126" class="Bound">as</a>
<a id="19179" href="/part0/vector/#19093" class="Function">⊑v-++-2</a> <a id="19187" class="Symbol">=</a> <a id="19189" class="Symbol">{!   !}</a>

<a id="19198" class="Keyword">infixl</a> <a id="19205" class="Number">9</a> <a id="19207" href="/part0/vector/#19227" class="Datatype Operator">_⊑v_atIndices_</a>
<a id="19222" class="Keyword">data</a> <a id="_⊑v_atIndices_"></a><a id="19227" href="/part0/vector/#19227" class="Datatype Operator">_⊑v_atIndices_</a> <a id="19242" class="Symbol">{</a><a id="19243" href="/part0/vector/#19243" class="Bound">ℓ</a><a id="19244" class="Symbol">}</a> <a id="19246" class="Symbol">{</a><a id="19247" href="/part0/vector/#19247" class="Bound">A</a> <a id="19249" class="Symbol">:</a> <a id="19251" class="PrimitiveType">Set</a> <a id="19255" href="/part0/vector/#19243" class="Bound">ℓ</a><a id="19256" class="Symbol">}</a> <a id="19258" class="Symbol">:</a> <a id="19260" class="Symbol">∀</a> <a id="19262" class="Symbol">{</a><a id="19263" href="/part0/vector/#19263" class="Bound">m</a> <a id="19265" href="/part0/vector/#19265" class="Bound">n</a><a id="19266" class="Symbol">}</a> <a id="19268" class="Symbol">→</a> <a id="19270" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="19277" href="/part0/vector/#19247" class="Bound">A</a> <a id="19279" href="/part0/vector/#19263" class="Bound">m</a> <a id="19281" class="Symbol">→</a> <a id="19283" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="19290" href="/part0/vector/#19247" class="Bound">A</a> <a id="19292" href="/part0/vector/#19265" class="Bound">n</a> <a id="19294" class="Symbol">→</a> <a id="19296" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="19303" class="Symbol">(</a><a id="19304" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="19308" href="/part0/vector/#19265" class="Bound">n</a><a id="19309" class="Symbol">)</a> <a id="19311" href="/part0/vector/#19263" class="Bound">m</a> <a id="19313" class="Symbol">→</a> <a id="19315" class="PrimitiveType">Set</a> <a id="19319" class="Keyword">where</a>
  <a id="_⊑v_atIndices_.stop"></a><a id="19327" href="/part0/vector/#19327" class="InductiveConstructor">stop</a> <a id="19332" class="Symbol">:</a> <a id="19334" class="Symbol">∀</a> <a id="19336" class="Symbol">{</a><a id="19337" href="/part0/vector/#19337" class="Bound">n</a><a id="19338" class="Symbol">}</a> <a id="19340" class="Symbol">{</a><a id="19341" href="/part0/vector/#19341" class="Bound">bs</a> <a id="19344" class="Symbol">:</a> <a id="19346" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="19353" href="/part0/vector/#19247" class="Bound">A</a> <a id="19355" href="/part0/vector/#19337" class="Bound">n</a><a id="19356" class="Symbol">}</a> <a id="19358" class="Symbol">→</a> <a id="19360" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="19362" href="/part0/vector/#19227" class="Datatype Operator">⊑v</a> <a id="19365" href="/part0/vector/#19341" class="Bound">bs</a> <a id="19368" href="/part0/vector/#19227" class="Datatype Operator">atIndices</a> <a id="19378" href="/part0/vector/#333" class="InductiveConstructor">ε</a>
  <a id="_⊑v_atIndices_.match"></a><a id="19382" href="/part0/vector/#19382" class="InductiveConstructor">match</a> <a id="19388" class="Symbol">:</a> <a id="19390" class="Symbol">∀</a> <a id="19392" class="Symbol">{</a><a id="19393" href="/part0/vector/#19393" class="Bound">m</a> <a id="19395" href="/part0/vector/#19395" class="Bound">n</a><a id="19396" class="Symbol">}</a> <a id="19398" class="Symbol">{</a><a id="19399" href="/part0/vector/#19399" class="Bound">a</a> <a id="19401" class="Symbol">:</a> <a id="19403" href="/part0/vector/#19247" class="Bound">A</a><a id="19404" class="Symbol">}</a> <a id="19406" class="Symbol">{</a><a id="19407" href="/part0/vector/#19407" class="Bound">as</a> <a id="19410" class="Symbol">:</a> <a id="19412" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="19419" href="/part0/vector/#19247" class="Bound">A</a> <a id="19421" href="/part0/vector/#19393" class="Bound">m</a><a id="19422" class="Symbol">}</a> <a id="19424" class="Symbol">{</a><a id="19425" href="/part0/vector/#19425" class="Bound">bs</a> <a id="19428" class="Symbol">:</a> <a id="19430" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="19437" href="/part0/vector/#19247" class="Bound">A</a> <a id="19439" href="/part0/vector/#19395" class="Bound">n</a><a id="19440" class="Symbol">}</a> <a id="19442" class="Symbol">{</a><a id="19443" href="/part0/vector/#19443" class="Bound">is</a> <a id="19446" class="Symbol">:</a> <a id="19448" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="19455" class="Symbol">(</a><a id="19456" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="19460" href="/part0/vector/#19395" class="Bound">n</a><a id="19461" class="Symbol">)</a> <a id="19463" href="/part0/vector/#19393" class="Bound">m</a><a id="19464" class="Symbol">}</a> <a id="19466" class="Symbol">→</a> <a id="19468" href="/part0/vector/#19407" class="Bound">as</a> <a id="19471" href="/part0/vector/#19227" class="Datatype Operator">⊑v</a> <a id="19474" href="/part0/vector/#19425" class="Bound">bs</a> <a id="19477" href="/part0/vector/#19227" class="Datatype Operator">atIndices</a> <a id="19487" href="/part0/vector/#19443" class="Bound">is</a> <a id="19490" class="Symbol">→</a> <a id="19492" href="/part0/vector/#19399" class="Bound">a</a> <a id="19494" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="19496" href="/part0/vector/#19407" class="Bound">as</a> <a id="19499" href="/part0/vector/#19227" class="Datatype Operator">⊑v</a> <a id="19502" href="/part0/vector/#19399" class="Bound">a</a> <a id="19504" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="19506" href="/part0/vector/#19425" class="Bound">bs</a> <a id="19509" href="/part0/vector/#19227" class="Datatype Operator">atIndices</a> <a id="19519" class="Symbol">(</a><a id="19520" href="/part0/Fin/#225" class="InductiveConstructor">fzero</a> <a id="19526" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="19528" href="/part0/vector/#1154" class="Function">vmap</a> <a id="19533" href="/part0/Fin/#259" class="InductiveConstructor">fsuc</a> <a id="19538" href="/part0/vector/#19443" class="Bound">is</a><a id="19540" class="Symbol">)</a>
  <a id="_⊑v_atIndices_.skip"></a><a id="19544" href="/part0/vector/#19544" class="InductiveConstructor">skip</a> <a id="19549" class="Symbol">:</a> <a id="19551" class="Symbol">∀</a> <a id="19553" class="Symbol">{</a><a id="19554" href="/part0/vector/#19554" class="Bound">m</a> <a id="19556" href="/part0/vector/#19556" class="Bound">n</a><a id="19557" class="Symbol">}</a> <a id="19559" class="Symbol">{</a><a id="19560" href="/part0/vector/#19560" class="Bound">a</a> <a id="19562" class="Symbol">:</a> <a id="19564" href="/part0/vector/#19247" class="Bound">A</a><a id="19565" class="Symbol">}</a> <a id="19567" class="Symbol">{</a><a id="19568" href="/part0/vector/#19568" class="Bound">as</a> <a id="19571" class="Symbol">:</a> <a id="19573" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="19580" href="/part0/vector/#19247" class="Bound">A</a> <a id="19582" href="/part0/vector/#19554" class="Bound">m</a><a id="19583" class="Symbol">}</a> <a id="19585" class="Symbol">{</a><a id="19586" href="/part0/vector/#19586" class="Bound">bs</a> <a id="19589" class="Symbol">:</a> <a id="19591" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="19598" href="/part0/vector/#19247" class="Bound">A</a> <a id="19600" href="/part0/vector/#19556" class="Bound">n</a><a id="19601" class="Symbol">}</a> <a id="19603" class="Symbol">{</a><a id="19604" href="/part0/vector/#19604" class="Bound">is</a> <a id="19607" class="Symbol">:</a> <a id="19609" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="19616" class="Symbol">(</a><a id="19617" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="19621" href="/part0/vector/#19556" class="Bound">n</a><a id="19622" class="Symbol">)</a> <a id="19624" href="/part0/vector/#19554" class="Bound">m</a><a id="19625" class="Symbol">}</a> <a id="19627" class="Symbol">→</a> <a id="19629" href="/part0/vector/#19568" class="Bound">as</a> <a id="19632" href="/part0/vector/#19227" class="Datatype Operator">⊑v</a> <a id="19635" href="/part0/vector/#19586" class="Bound">bs</a> <a id="19638" href="/part0/vector/#19227" class="Datatype Operator">atIndices</a> <a id="19648" href="/part0/vector/#19604" class="Bound">is</a> <a id="19651" class="Symbol">→</a> <a id="19653" href="/part0/vector/#19568" class="Bound">as</a> <a id="19656" href="/part0/vector/#19227" class="Datatype Operator">⊑v</a> <a id="19659" href="/part0/vector/#19560" class="Bound">a</a> <a id="19661" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="19663" href="/part0/vector/#19586" class="Bound">bs</a> <a id="19666" href="/part0/vector/#19227" class="Datatype Operator">atIndices</a> <a id="19676" class="Symbol">(</a><a id="19677" href="/part0/vector/#1154" class="Function">vmap</a> <a id="19682" href="/part0/Fin/#259" class="InductiveConstructor">fsuc</a> <a id="19687" href="/part0/vector/#19604" class="Bound">is</a><a id="19689" class="Symbol">)</a>

<a id="⊑v→⊆v"></a><a id="19692" href="/part0/vector/#19692" class="Function">⊑v→⊆v</a> <a id="19698" class="Symbol">:</a> <a id="19700" class="Symbol">∀</a> <a id="19702" class="Symbol">{</a><a id="19703" href="/part0/vector/#19703" class="Bound">ℓ</a> <a id="19705" href="/part0/vector/#19705" class="Bound">m</a> <a id="19707" href="/part0/vector/#19707" class="Bound">n</a><a id="19708" class="Symbol">}</a> <a id="19710" class="Symbol">{</a><a id="19711" href="/part0/vector/#19711" class="Bound">A</a> <a id="19713" class="Symbol">:</a> <a id="19715" class="PrimitiveType">Set</a> <a id="19719" href="/part0/vector/#19703" class="Bound">ℓ</a><a id="19720" class="Symbol">}</a> <a id="19722" class="Symbol">{{</a><a id="19724" href="/part0/vector/#19724" class="Bound">_</a> <a id="19726" class="Symbol">:</a> <a id="19728" href="/part0/eq/#2111" class="Record">Eq</a> <a id="19731" href="/part0/vector/#19711" class="Bound">A</a><a id="19732" class="Symbol">}}</a> <a id="19735" class="Symbol">{</a><a id="19736" href="/part0/vector/#19736" class="Bound">as</a> <a id="19739" class="Symbol">:</a> <a id="19741" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="19748" href="/part0/vector/#19711" class="Bound">A</a> <a id="19750" href="/part0/vector/#19705" class="Bound">m</a><a id="19751" class="Symbol">}</a> <a id="19753" class="Symbol">{</a><a id="19754" href="/part0/vector/#19754" class="Bound">bs</a> <a id="19757" class="Symbol">:</a> <a id="19759" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="19766" href="/part0/vector/#19711" class="Bound">A</a> <a id="19768" href="/part0/vector/#19707" class="Bound">n</a><a id="19769" class="Symbol">}</a> <a id="19771" class="Symbol">→</a> <a id="19773" href="/part0/vector/#19736" class="Bound">as</a> <a id="19776" href="/part0/vector/#18254" class="Datatype Operator">⊑v</a> <a id="19779" href="/part0/vector/#19754" class="Bound">bs</a> <a id="19782" class="Symbol">→</a> <a id="19784" href="/part0/vector/#19736" class="Bound">as</a> <a id="19787" href="/part0/vector/#18085" class="Function Operator">⊆v</a> <a id="19790" href="/part0/vector/#19754" class="Bound">bs</a>
<a id="19793" href="/part0/vector/#19692" class="Function">⊑v→⊆v</a> <a id="19799" class="Symbol">=</a> <a id="19801" class="Symbol">{!   !}</a>

<a id="⊆v→⊆"></a><a id="19810" href="/part0/vector/#19810" class="Function">⊆v→⊆</a> <a id="19815" class="Symbol">:</a> <a id="19817" class="Symbol">∀</a> <a id="19819" class="Symbol">{</a><a id="19820" href="/part0/vector/#19820" class="Bound">ℓ</a> <a id="19822" href="/part0/vector/#19822" class="Bound">m</a> <a id="19824" href="/part0/vector/#19824" class="Bound">n</a><a id="19825" class="Symbol">}</a> <a id="19827" class="Symbol">{</a><a id="19828" href="/part0/vector/#19828" class="Bound">A</a> <a id="19830" class="Symbol">:</a> <a id="19832" class="PrimitiveType">Set</a> <a id="19836" href="/part0/vector/#19820" class="Bound">ℓ</a><a id="19837" class="Symbol">}</a> <a id="19839" class="Symbol">{{</a><a id="19841" href="/part0/vector/#19841" class="Bound">_</a> <a id="19843" class="Symbol">:</a> <a id="19845" href="/part0/eq/#2111" class="Record">Eq</a> <a id="19848" href="/part0/vector/#19828" class="Bound">A</a><a id="19849" class="Symbol">}}</a> <a id="19852" class="Symbol">{</a><a id="19853" href="/part0/vector/#19853" class="Bound">as</a> <a id="19856" class="Symbol">:</a> <a id="19858" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="19865" href="/part0/vector/#19828" class="Bound">A</a> <a id="19867" href="/part0/vector/#19822" class="Bound">m</a><a id="19868" class="Symbol">}</a> <a id="19870" class="Symbol">{</a><a id="19871" href="/part0/vector/#19871" class="Bound">bs</a> <a id="19874" class="Symbol">:</a> <a id="19876" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="19883" href="/part0/vector/#19828" class="Bound">A</a> <a id="19885" href="/part0/vector/#19824" class="Bound">n</a><a id="19886" class="Symbol">}</a> <a id="19888" class="Symbol">→</a> <a id="19890" href="/part0/vector/#19853" class="Bound">as</a> <a id="19893" href="/part0/vector/#18085" class="Function Operator">⊆v</a> <a id="19896" href="/part0/vector/#19871" class="Bound">bs</a> <a id="19899" class="Symbol">→</a> <a id="19901" href="/part0/vector/#4044" class="Function">v2l</a> <a id="19905" href="/part0/vector/#19853" class="Bound">as</a> <a id="19908" href="/part0/list/#21469" class="Function Operator">⊆</a> <a id="19910" href="/part0/vector/#4044" class="Function">v2l</a> <a id="19914" href="/part0/vector/#19871" class="Bound">bs</a>
<a id="19917" href="/part0/vector/#19810" class="Function">⊆v→⊆</a> <a id="19922" class="Symbol">=</a> <a id="19924" class="Symbol">{!   !}</a>

<a id="buildIndices"></a><a id="19933" href="/part0/vector/#19933" class="Function">buildIndices</a> <a id="19946" class="Symbol">:</a> <a id="19948" class="Symbol">∀</a> <a id="19950" class="Symbol">{</a><a id="19951" href="/part0/vector/#19951" class="Bound">ℓ</a><a id="19952" class="Symbol">}</a> <a id="19954" class="Symbol">{</a><a id="19955" href="/part0/vector/#19955" class="Bound">A</a> <a id="19957" class="Symbol">:</a> <a id="19959" class="PrimitiveType">Set</a> <a id="19963" href="/part0/vector/#19951" class="Bound">ℓ</a><a id="19964" class="Symbol">}</a> <a id="19966" class="Symbol">{</a><a id="19967" href="/part0/vector/#19967" class="Bound">m</a> <a id="19969" href="/part0/vector/#19969" class="Bound">n</a><a id="19970" class="Symbol">}</a> <a id="19972" class="Symbol">{</a><a id="19973" href="/part0/vector/#19973" class="Bound">as</a> <a id="19976" class="Symbol">:</a> <a id="19978" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="19985" href="/part0/vector/#19955" class="Bound">A</a> <a id="19987" href="/part0/vector/#19967" class="Bound">m</a><a id="19988" class="Symbol">}</a> <a id="19990" class="Symbol">{</a><a id="19991" href="/part0/vector/#19991" class="Bound">bs</a> <a id="19994" class="Symbol">:</a> <a id="19996" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="20003" href="/part0/vector/#19955" class="Bound">A</a> <a id="20005" href="/part0/vector/#19969" class="Bound">n</a><a id="20006" class="Symbol">}</a> <a id="20008" class="Symbol">→</a>
  <a id="20012" href="/part0/vector/#19973" class="Bound">as</a> <a id="20015" href="/part0/vector/#18254" class="Datatype Operator">⊑v</a> <a id="20018" href="/part0/vector/#19991" class="Bound">bs</a> <a id="20021" class="Symbol">→</a>
  <a id="20025" href="/part0/logic/#453" class="Function">∃[</a> <a id="20028" href="/part0/vector/#20028" class="Bound">is</a> <a id="20031" href="/part0/logic/#453" class="Function">]</a> <a id="20033" href="/part0/vector/#19973" class="Bound">as</a> <a id="20036" href="/part0/vector/#19227" class="Datatype Operator">⊑v</a> <a id="20039" href="/part0/vector/#19991" class="Bound">bs</a> <a id="20042" href="/part0/vector/#19227" class="Datatype Operator">atIndices</a> <a id="20052" href="/part0/vector/#20028" class="Bound">is</a>
<a id="20055" href="/part0/vector/#19933" class="Function">buildIndices</a> <a id="20068" href="/part0/vector/#18325" class="InductiveConstructor">stop</a> <a id="20073" class="Symbol">=</a> <a id="20075" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="20077" href="/part0/logic/#388" class="InductiveConstructor Operator">,</a> <a id="20079" href="/part0/vector/#19327" class="InductiveConstructor">stop</a>
<a id="20084" href="/part0/vector/#19933" class="Function">buildIndices</a> <a id="20097" class="Symbol">(</a><a id="20098" href="/part0/vector/#18368" class="InductiveConstructor">match</a> <a id="20104" href="/part0/vector/#20104" class="Bound">as⊑bs</a><a id="20109" class="Symbol">)</a> <a id="20111" class="Keyword">with</a> <a id="20116" href="/part0/vector/#19933" class="Function">buildIndices</a> <a id="20129" href="/part0/vector/#20104" class="Bound">as⊑bs</a>
<a id="20135" class="Symbol">...</a> <a id="20139" class="Symbol">|</a> <a id="20141" href="/part0/vector/#20141" class="Bound">is</a> <a id="20144" href="/part0/logic/#388" class="InductiveConstructor Operator">,</a> <a id="20146" href="/part0/vector/#20146" class="Bound">as⊑bsAtis</a> <a id="20156" class="Symbol">=</a> <a id="20158" class="Symbol">(</a><a id="20159" href="/part0/Fin/#225" class="InductiveConstructor">fzero</a> <a id="20165" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="20167" href="/part0/vector/#1154" class="Function">vmap</a> <a id="20172" href="/part0/Fin/#259" class="InductiveConstructor">fsuc</a> <a id="20177" href="/part0/vector/#20141" class="Bound">is</a><a id="20179" class="Symbol">)</a> <a id="20181" href="/part0/logic/#388" class="InductiveConstructor Operator">,</a> <a id="20183" href="/part0/vector/#19382" class="InductiveConstructor">match</a> <a id="20189" href="/part0/vector/#20146" class="Bound">as⊑bsAtis</a>
<a id="20199" href="/part0/vector/#19933" class="Function">buildIndices</a> <a id="20212" class="Symbol">(</a><a id="20213" href="/part0/vector/#18460" class="InductiveConstructor">skip</a> <a id="20218" href="/part0/vector/#20218" class="Bound">as⊑bs</a><a id="20223" class="Symbol">)</a> <a id="20225" class="Keyword">with</a> <a id="20230" href="/part0/vector/#19933" class="Function">buildIndices</a> <a id="20243" href="/part0/vector/#20218" class="Bound">as⊑bs</a>
<a id="20249" class="Symbol">...</a> <a id="20253" class="Symbol">|</a> <a id="20255" href="/part0/vector/#20255" class="Bound">is</a> <a id="20258" href="/part0/logic/#388" class="InductiveConstructor Operator">,</a> <a id="20260" href="/part0/vector/#20260" class="Bound">as⊑bsAtis</a> <a id="20270" class="Symbol">=</a> <a id="20272" href="/part0/vector/#1154" class="Function">vmap</a> <a id="20277" href="/part0/Fin/#259" class="InductiveConstructor">fsuc</a> <a id="20282" href="/part0/vector/#20255" class="Bound">is</a> <a id="20285" href="/part0/logic/#388" class="InductiveConstructor Operator">,</a> <a id="20287" href="/part0/vector/#19544" class="InductiveConstructor">skip</a> <a id="20292" href="/part0/vector/#20260" class="Bound">as⊑bsAtis</a>

<a id="indicesDistinct"></a><a id="20303" href="/part0/vector/#20303" class="Function">indicesDistinct</a> <a id="20319" class="Symbol">:</a> <a id="20321" class="Symbol">∀</a> <a id="20323" class="Symbol">{</a><a id="20324" href="/part0/vector/#20324" class="Bound">ℓ</a> <a id="20326" href="/part0/vector/#20326" class="Bound">m</a> <a id="20328" href="/part0/vector/#20328" class="Bound">n</a><a id="20329" class="Symbol">}</a> <a id="20331" class="Symbol">{</a><a id="20332" href="/part0/vector/#20332" class="Bound">A</a> <a id="20334" class="Symbol">:</a> <a id="20336" class="PrimitiveType">Set</a> <a id="20340" href="/part0/vector/#20324" class="Bound">ℓ</a><a id="20341" class="Symbol">}</a> <a id="20343" class="Symbol">{</a><a id="20344" href="/part0/vector/#20344" class="Bound">as</a> <a id="20347" class="Symbol">:</a> <a id="20349" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="20356" href="/part0/vector/#20332" class="Bound">A</a> <a id="20358" href="/part0/vector/#20326" class="Bound">m</a><a id="20359" class="Symbol">}</a> <a id="20361" class="Symbol">{</a><a id="20362" href="/part0/vector/#20362" class="Bound">bs</a> <a id="20365" class="Symbol">:</a> <a id="20367" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="20374" href="/part0/vector/#20332" class="Bound">A</a> <a id="20376" href="/part0/vector/#20328" class="Bound">n</a><a id="20377" class="Symbol">}</a> <a id="20379" class="Symbol">{</a><a id="20380" href="/part0/vector/#20380" class="Bound">is</a> <a id="20383" class="Symbol">:</a> <a id="20385" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="20392" class="Symbol">(</a><a id="20393" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="20397" href="/part0/vector/#20328" class="Bound">n</a><a id="20398" class="Symbol">)</a> <a id="20400" href="/part0/vector/#20326" class="Bound">m</a><a id="20401" class="Symbol">}</a> <a id="20403" class="Symbol">{</a><a id="20404" href="/part0/vector/#20404" class="Bound">i</a> <a id="20406" href="/part0/vector/#20406" class="Bound">j</a> <a id="20408" class="Symbol">:</a> <a id="20410" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="20414" href="/part0/vector/#20326" class="Bound">m</a><a id="20415" class="Symbol">}</a> <a id="20417" class="Symbol">→</a>
  <a id="20421" href="/part0/vector/#20344" class="Bound">as</a> <a id="20424" href="/part0/vector/#19227" class="Datatype Operator">⊑v</a> <a id="20427" href="/part0/vector/#20362" class="Bound">bs</a> <a id="20430" href="/part0/vector/#19227" class="Datatype Operator">atIndices</a> <a id="20440" href="/part0/vector/#20380" class="Bound">is</a> <a id="20443" class="Symbol">→</a> <a id="20445" href="/part0/vector/#20404" class="Bound">i</a> <a id="20447" href="/part0/eq/#1423" class="Function Operator">≢</a> <a id="20449" href="/part0/vector/#20406" class="Bound">j</a> <a id="20451" class="Symbol">→</a> <a id="20453" href="/part0/vector/#20380" class="Bound">is</a> <a id="20456" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="20458" href="/part0/vector/#20404" class="Bound">i</a> <a id="20460" href="/part0/eq/#1423" class="Function Operator">≢</a> <a id="20462" href="/part0/vector/#20380" class="Bound">is</a> <a id="20465" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="20467" href="/part0/vector/#20406" class="Bound">j</a>
<a id="20469" href="/part0/vector/#20303" class="Function">indicesDistinct</a> <a id="20485" class="Symbol">=</a> <a id="20487" class="Symbol">{!   !}</a>

<a id="indicesCorrect"></a><a id="20496" href="/part0/vector/#20496" class="Function">indicesCorrect</a> <a id="20511" class="Symbol">:</a> <a id="20513" class="Symbol">∀</a> <a id="20515" class="Symbol">{</a><a id="20516" href="/part0/vector/#20516" class="Bound">ℓ</a> <a id="20518" href="/part0/vector/#20518" class="Bound">m</a> <a id="20520" href="/part0/vector/#20520" class="Bound">n</a><a id="20521" class="Symbol">}</a> <a id="20523" class="Symbol">{</a><a id="20524" href="/part0/vector/#20524" class="Bound">A</a> <a id="20526" class="Symbol">:</a> <a id="20528" class="PrimitiveType">Set</a> <a id="20532" href="/part0/vector/#20516" class="Bound">ℓ</a><a id="20533" class="Symbol">}</a> <a id="20535" class="Symbol">{</a><a id="20536" href="/part0/vector/#20536" class="Bound">as</a> <a id="20539" class="Symbol">:</a> <a id="20541" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="20548" href="/part0/vector/#20524" class="Bound">A</a> <a id="20550" href="/part0/vector/#20518" class="Bound">m</a><a id="20551" class="Symbol">}</a> <a id="20553" class="Symbol">{</a><a id="20554" href="/part0/vector/#20554" class="Bound">bs</a> <a id="20557" class="Symbol">:</a> <a id="20559" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="20566" href="/part0/vector/#20524" class="Bound">A</a> <a id="20568" href="/part0/vector/#20520" class="Bound">n</a><a id="20569" class="Symbol">}</a> <a id="20571" class="Symbol">{</a><a id="20572" href="/part0/vector/#20572" class="Bound">is</a> <a id="20575" class="Symbol">:</a> <a id="20577" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="20584" class="Symbol">(</a><a id="20585" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="20589" href="/part0/vector/#20520" class="Bound">n</a><a id="20590" class="Symbol">)</a> <a id="20592" href="/part0/vector/#20518" class="Bound">m</a><a id="20593" class="Symbol">}</a> <a id="20595" class="Symbol">→</a> <a id="20597" href="/part0/vector/#20536" class="Bound">as</a> <a id="20600" href="/part0/vector/#19227" class="Datatype Operator">⊑v</a> <a id="20603" href="/part0/vector/#20554" class="Bound">bs</a> <a id="20606" href="/part0/vector/#19227" class="Datatype Operator">atIndices</a> <a id="20616" href="/part0/vector/#20572" class="Bound">is</a> <a id="20619" class="Symbol">→</a> <a id="20621" href="/part0/logic/#208" class="Function">∀[</a> <a id="20624" href="/part0/vector/#20624" class="Bound">i</a> <a id="20626" href="/part0/logic/#208" class="Function">]</a> <a id="20628" href="/part0/vector/#20554" class="Bound">bs</a> <a id="20631" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="20633" class="Symbol">(</a><a id="20634" href="/part0/vector/#20572" class="Bound">is</a> <a id="20637" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="20639" href="/part0/vector/#20624" class="Bound">i</a><a id="20640" class="Symbol">)</a> <a id="20642" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="20644" href="/part0/vector/#20536" class="Bound">as</a> <a id="20647" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="20649" href="/part0/vector/#20624" class="Bound">i</a>
<a id="20651" href="/part0/vector/#20496" class="Function">indicesCorrect</a> <a id="20666" class="Symbol">=</a> <a id="20668" class="Symbol">{!   !}</a>

<a id="vrepetition-⊑"></a><a id="20677" href="/part0/vector/#20677" class="Function">vrepetition-⊑</a> <a id="20691" class="Symbol">:</a> <a id="20693" class="Symbol">∀</a> <a id="20695" class="Symbol">{</a><a id="20696" href="/part0/vector/#20696" class="Bound">ℓ</a> <a id="20698" href="/part0/vector/#20698" class="Bound">m</a> <a id="20700" href="/part0/vector/#20700" class="Bound">n</a><a id="20701" class="Symbol">}</a> <a id="20703" class="Symbol">{</a><a id="20704" href="/part0/vector/#20704" class="Bound">A</a> <a id="20706" class="Symbol">:</a> <a id="20708" class="PrimitiveType">Set</a> <a id="20712" href="/part0/vector/#20696" class="Bound">ℓ</a><a id="20713" class="Symbol">}</a> <a id="20715" class="Symbol">(</a><a id="20716" href="/part0/vector/#20716" class="Bound">as</a> <a id="20719" class="Symbol">:</a> <a id="20721" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="20728" href="/part0/vector/#20704" class="Bound">A</a> <a id="20730" href="/part0/vector/#20698" class="Bound">m</a><a id="20731" class="Symbol">)</a> <a id="20733" class="Symbol">(</a><a id="20734" href="/part0/vector/#20734" class="Bound">bs</a> <a id="20737" class="Symbol">:</a> <a id="20739" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="20746" href="/part0/vector/#20704" class="Bound">A</a> <a id="20748" href="/part0/vector/#20700" class="Bound">n</a><a id="20749" class="Symbol">)</a> <a id="20751" class="Symbol">→</a>
  <a id="20755" href="/part0/vector/#20716" class="Bound">as</a> <a id="20758" href="/part0/vector/#18254" class="Datatype Operator">⊑v</a> <a id="20761" href="/part0/vector/#20734" class="Bound">bs</a> <a id="20764" class="Symbol">→</a>
  <a id="20768" href="/part0/vector/#16037" class="Function">vrepetition</a> <a id="20780" href="/part0/vector/#20716" class="Bound">as</a> <a id="20783" class="Symbol">→</a>
  <a id="20787" href="/part0/vector/#16037" class="Function">vrepetition</a> <a id="20799" href="/part0/vector/#20734" class="Bound">bs</a>
<a id="20802" href="/part0/vector/#20677" class="Function">vrepetition-⊑</a> <a id="20816" href="/part0/vector/#20816" class="Bound">as</a> <a id="20819" href="/part0/vector/#20819" class="Bound">bs</a> <a id="20822" href="/part0/vector/#20822" class="Bound">as⊑bs</a> <a id="20828" class="Symbol">(</a><a id="20829" href="/part0/vector/#20829" class="Bound">i</a> <a id="20831" href="/part0/logic/#388" class="InductiveConstructor Operator">,</a> <a id="20833" href="/part0/vector/#20833" class="Bound">j</a> <a id="20835" href="/part0/logic/#388" class="InductiveConstructor Operator">,</a> <a id="20837" href="/part0/vector/#20837" class="Bound">i≢j</a> <a id="20841" href="/part0/logic/#1224" class="InductiveConstructor Operator">,</a> <a id="20843" href="/part0/vector/#20843" class="Bound">as!i≡as!j</a><a id="20852" class="Symbol">)</a>
  <a id="20856" class="Keyword">with</a> <a id="20861" href="/part0/vector/#19933" class="Function">buildIndices</a> <a id="20874" href="/part0/vector/#20822" class="Bound">as⊑bs</a>
<a id="20880" class="Symbol">...</a> <a id="20884" class="Symbol">|</a> <a id="20886" href="/part0/vector/#20886" class="Bound">is</a> <a id="20889" href="/part0/logic/#388" class="InductiveConstructor Operator">,</a> <a id="20891" href="/part0/vector/#20891" class="Bound">as⊑bsAtis</a> <a id="20901" class="Symbol">=</a> <a id="20903" href="/part0/vector/#20886" class="Bound">is</a> <a id="20906" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="20908" class="Bound">i</a> <a id="20910" href="/part0/logic/#388" class="InductiveConstructor Operator">,</a> <a id="20912" href="/part0/vector/#20886" class="Bound">is</a> <a id="20915" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="20917" class="Bound">j</a> <a id="20919" href="/part0/logic/#388" class="InductiveConstructor Operator">,</a> <a id="20921" href="/part0/vector/#20303" class="Function">indicesDistinct</a> <a id="20937" href="/part0/vector/#20891" class="Bound">as⊑bsAtis</a> <a id="20947" class="Bound">i≢j</a> <a id="20951" href="/part0/logic/#1224" class="InductiveConstructor Operator">,</a> <a id="20953" href="/part0/vector/#20967" class="Function">goal</a> <a id="20958" class="Keyword">where</a>

  <a id="20967" href="/part0/vector/#20967" class="Function">goal</a> <a id="20972" class="Symbol">:</a> <a id="20974" class="Bound">bs</a> <a id="20977" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="20979" class="Symbol">(</a><a id="20980" href="/part0/vector/#20886" class="Bound">is</a> <a id="20983" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="20985" class="Bound">i</a><a id="20986" class="Symbol">)</a> <a id="20988" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="20990" class="Bound">bs</a> <a id="20993" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="20995" class="Symbol">(</a><a id="20996" href="/part0/vector/#20886" class="Bound">is</a> <a id="20999" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="21001" class="Bound">j</a><a id="21002" class="Symbol">)</a>
  <a id="21006" href="/part0/vector/#20967" class="Function">goal</a> <a id="21011" class="Symbol">=</a> <a id="21013" href="/part0/eq/#1126" class="Function Operator">begin</a>
    <a id="21023" class="Bound">bs</a> <a id="21026" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="21028" class="Symbol">(</a><a id="21029" href="/part0/vector/#20886" class="Bound">is</a> <a id="21032" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="21034" class="Bound">i</a><a id="21035" class="Symbol">)</a>
      <a id="21043" href="/part0/eq/#1271" class="Function Operator">≡⟨</a> <a id="21046" href="/part0/vector/#20496" class="Function">indicesCorrect</a> <a id="21061" href="/part0/vector/#20891" class="Bound">as⊑bsAtis</a> <a id="21071" class="Bound">i</a> <a id="21073" href="/part0/eq/#1271" class="Function Operator">⟩</a>
    <a id="21079" class="Bound">as</a> <a id="21082" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="21084" class="Bound">i</a>
      <a id="21092" href="/part0/eq/#1271" class="Function Operator">≡⟨</a> <a id="21095" class="Bound">as!i≡as!j</a> <a id="21105" href="/part0/eq/#1271" class="Function Operator">⟩</a>
    <a id="21111" class="Bound">as</a> <a id="21114" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="21116" class="Bound">j</a>
      <a id="21124" href="/part0/eq/#1271" class="Function Operator">≡⟨</a> <a id="21127" href="/part0/eq/#335" class="Function">sym</a> <a id="21131" class="Symbol">(</a><a id="21132" href="/part0/vector/#20496" class="Function">indicesCorrect</a> <a id="21147" href="/part0/vector/#20891" class="Bound">as⊑bsAtis</a> <a id="21157" class="Bound">j</a><a id="21158" class="Symbol">)</a> <a id="21160" href="/part0/eq/#1271" class="Function Operator">⟩</a>
    <a id="21166" class="Bound">bs</a> <a id="21169" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="21171" class="Symbol">(</a><a id="21172" href="/part0/vector/#20886" class="Bound">is</a> <a id="21175" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="21177" class="Bound">j</a><a id="21178" class="Symbol">)</a>
    <a id="21184" href="/part0/eq/#1372" class="Function Operator">∎</a>

<a id="vdistinct-⊑"></a><a id="21187" href="/part0/vector/#21187" class="Function">vdistinct-⊑</a> <a id="21199" class="Symbol">:</a> <a id="21201" class="Symbol">∀</a> <a id="21203" class="Symbol">{</a><a id="21204" href="/part0/vector/#21204" class="Bound">ℓ</a> <a id="21206" href="/part0/vector/#21206" class="Bound">m</a> <a id="21208" href="/part0/vector/#21208" class="Bound">n</a><a id="21209" class="Symbol">}</a> <a id="21211" class="Symbol">{</a><a id="21212" href="/part0/vector/#21212" class="Bound">A</a> <a id="21214" class="Symbol">:</a> <a id="21216" class="PrimitiveType">Set</a> <a id="21220" href="/part0/vector/#21204" class="Bound">ℓ</a><a id="21221" class="Symbol">}</a> <a id="21223" class="Symbol">(</a><a id="21224" href="/part0/vector/#21224" class="Bound">as</a> <a id="21227" class="Symbol">:</a> <a id="21229" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="21236" href="/part0/vector/#21212" class="Bound">A</a> <a id="21238" href="/part0/vector/#21206" class="Bound">m</a><a id="21239" class="Symbol">)</a> <a id="21241" class="Symbol">(</a><a id="21242" href="/part0/vector/#21242" class="Bound">bs</a> <a id="21245" class="Symbol">:</a> <a id="21247" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="21254" href="/part0/vector/#21212" class="Bound">A</a> <a id="21256" href="/part0/vector/#21208" class="Bound">n</a><a id="21257" class="Symbol">)</a> <a id="21259" class="Symbol">→</a>
  <a id="21263" href="/part0/vector/#21224" class="Bound">as</a> <a id="21266" href="/part0/vector/#18254" class="Datatype Operator">⊑v</a> <a id="21269" href="/part0/vector/#21242" class="Bound">bs</a> <a id="21272" class="Symbol">→</a>
  <a id="21276" href="/part0/vector/#15909" class="Function">vdistinct</a> <a id="21286" href="/part0/vector/#21242" class="Bound">bs</a> <a id="21289" class="Symbol">→</a>
  <a id="21293" href="/part0/vector/#15909" class="Function">vdistinct</a> <a id="21303" href="/part0/vector/#21224" class="Bound">as</a>
<a id="21306" href="/part0/vector/#21187" class="Function">vdistinct-⊑</a> <a id="21318" href="/part0/vector/#21318" class="Bound">as</a> <a id="21321" href="/part0/vector/#21321" class="Bound">bs</a> <a id="21324" href="/part0/vector/#21324" class="Bound">as⊑bs</a> <a id="21330" class="Symbol">=</a> <a id="21332" href="/part0/vector/#16530" class="Function">¬repetition→distinct</a> <a id="21353" href="/part0/utils/#636" class="Function Operator">∘</a> <a id="21355" href="/part0/logic/#2409" class="Function">¬→-Lemma2</a> <a id="21365" class="Symbol">(</a><a id="21366" href="/part0/vector/#20677" class="Function">vrepetition-⊑</a> <a id="21380" href="/part0/vector/#21318" class="Bound">as</a> <a id="21383" href="/part0/vector/#21321" class="Bound">bs</a> <a id="21386" href="/part0/vector/#21324" class="Bound">as⊑bs</a><a id="21391" class="Symbol">)</a> <a id="21393" href="/part0/utils/#636" class="Function Operator">∘</a> <a id="21395" href="/part0/vector/#16146" class="Function">distinct→¬repetition</a>

<a id="21417" class="Comment">-- this only holds if k is the largest index s.t. as ! k occurs in as...</a>
<a id="21490" class="Comment">-- in particular, this holds if all the as are distinct...</a>
<a id="vupdate-!"></a><a id="21549" href="/part0/vector/#21549" class="Function">vupdate-!</a> <a id="21559" class="Symbol">:</a> <a id="21561" class="Symbol">∀</a> <a id="21563" class="Symbol">{</a><a id="21564" href="/part0/vector/#21564" class="Bound">ℓ</a> <a id="21566" href="/part0/vector/#21566" class="Bound">m</a><a id="21567" class="Symbol">}</a> <a id="21569" class="Symbol">{</a><a id="21570" href="/part0/vector/#21570" class="Bound">A</a> <a id="21572" class="Symbol">:</a> <a id="21574" class="PrimitiveType">Set</a> <a id="21578" href="/part0/vector/#21564" class="Bound">ℓ</a><a id="21579" class="Symbol">}</a> <a id="21581" class="Symbol">{</a><a id="21582" href="/part0/vector/#21582" class="Bound">B</a> <a id="21584" class="Symbol">:</a> <a id="21586" class="PrimitiveType">Set</a> <a id="21590" href="/part0/vector/#21566" class="Bound">m</a><a id="21591" class="Symbol">}</a> <a id="21593" class="Symbol">{</a><a id="21594" href="/part0/vector/#21594" class="Bound">n</a><a id="21595" class="Symbol">}</a> <a id="21597" class="Symbol">{{</a><a id="21599" href="/part0/vector/#21599" class="Bound">_</a> <a id="21601" class="Symbol">:</a> <a id="21603" href="/part0/eq/#2111" class="Record">Eq</a> <a id="21606" href="/part0/vector/#21570" class="Bound">A</a><a id="21607" class="Symbol">}}</a> <a id="21610" class="Symbol">{</a><a id="21611" href="/part0/vector/#21611" class="Bound">ρ</a> <a id="21613" class="Symbol">:</a> <a id="21615" href="/part0/vector/#21570" class="Bound">A</a> <a id="21617" class="Symbol">→</a> <a id="21619" href="/part0/vector/#21582" class="Bound">B</a><a id="21620" class="Symbol">}</a> <a id="21622" class="Symbol">{</a><a id="21623" href="/part0/vector/#21623" class="Bound">as</a> <a id="21626" class="Symbol">:</a> <a id="21628" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="21635" href="/part0/vector/#21570" class="Bound">A</a> <a id="21637" href="/part0/vector/#21594" class="Bound">n</a><a id="21638" class="Symbol">}</a> <a id="21640" class="Symbol">{</a><a id="21641" href="/part0/vector/#21641" class="Bound">bs</a> <a id="21644" class="Symbol">:</a> <a id="21646" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="21653" href="/part0/vector/#21582" class="Bound">B</a> <a id="21655" href="/part0/vector/#21594" class="Bound">n</a><a id="21656" class="Symbol">}</a> <a id="21658" class="Symbol">{</a><a id="21659" href="/part0/vector/#21659" class="Bound">k</a> <a id="21661" class="Symbol">:</a> <a id="21663" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="21667" href="/part0/vector/#21594" class="Bound">n</a><a id="21668" class="Symbol">}</a> <a id="21670" class="Symbol">→</a>
  <a id="21674" href="/part0/vector/#15909" class="Function">vdistinct</a> <a id="21684" href="/part0/vector/#21623" class="Bound">as</a> <a id="21687" class="Symbol">→</a>
  <a id="21691" class="Symbol">(</a><a id="21692" href="/part0/vector/#21611" class="Bound">ρ</a> <a id="21694" href="/part0/vector/#14846" class="Function Operator">v[</a> <a id="21697" href="/part0/vector/#21623" class="Bound">as</a> <a id="21700" href="/part0/vector/#14846" class="Function Operator">↦</a> <a id="21702" href="/part0/vector/#21641" class="Bound">bs</a> <a id="21705" href="/part0/vector/#14846" class="Function Operator">]</a><a id="21706" class="Symbol">)</a> <a id="21708" class="Symbol">(</a><a id="21709" href="/part0/vector/#21623" class="Bound">as</a> <a id="21712" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="21714" href="/part0/vector/#21659" class="Bound">k</a><a id="21715" class="Symbol">)</a> <a id="21717" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="21719" href="/part0/vector/#21641" class="Bound">bs</a> <a id="21722" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="21724" href="/part0/vector/#21659" class="Bound">k</a>

<a id="21727" href="/part0/vector/#21549" class="Function">vupdate-!</a> <a id="21737" class="Symbol">{</a><a id="21738" class="Argument">n</a> <a id="21740" class="Symbol">=</a> <a id="21742" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="21746" href="/part0/vector/#21746" class="Bound">n</a><a id="21747" class="Symbol">}</a> <a id="21749" class="Symbol">{</a><a id="21750" class="Argument">ρ</a> <a id="21752" class="Symbol">=</a> <a id="21754" href="/part0/vector/#21754" class="Bound">ρ</a><a id="21755" class="Symbol">}</a> <a id="21757" class="Symbol">{</a><a id="21758" href="/part0/vector/#21758" class="Bound">a</a> <a id="21760" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="21762" href="/part0/vector/#21762" class="Bound">as</a><a id="21764" class="Symbol">}</a> <a id="21766" class="Symbol">{</a><a id="21767" href="/part0/vector/#21767" class="Bound">b</a> <a id="21769" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="21771" href="/part0/vector/#21771" class="Bound">bs</a><a id="21773" class="Symbol">}</a> <a id="21775" class="Symbol">{</a><a id="21776" href="/part0/Fin/#225" class="InductiveConstructor">fzero</a><a id="21781" class="Symbol">}</a> <a id="21783" href="/part0/vector/#21783" class="Bound">p</a> <a id="21785" class="Symbol">=</a> <a id="21787" href="/part0/eq/#1126" class="Function Operator">begin</a>
  <a id="21795" class="Symbol">(</a><a id="21796" href="/part0/vector/#21754" class="Bound">ρ</a> <a id="21798" href="/part0/fun/#419" class="Function Operator">[</a> <a id="21800" href="/part0/vector/#21758" class="Bound">a</a> <a id="21802" href="/part0/fun/#419" class="Function Operator">↦</a> <a id="21804" href="/part0/vector/#21767" class="Bound">b</a> <a id="21806" href="/part0/fun/#419" class="Function Operator">]</a> <a id="21808" href="/part0/vector/#14846" class="Function Operator">v[</a> <a id="21811" href="/part0/vector/#21762" class="Bound">as</a> <a id="21814" href="/part0/vector/#14846" class="Function Operator">↦</a> <a id="21816" href="/part0/vector/#21771" class="Bound">bs</a> <a id="21819" href="/part0/vector/#14846" class="Function Operator">]</a><a id="21820" class="Symbol">)</a> <a id="21822" href="/part0/vector/#21758" class="Bound">a</a>
    <a id="21828" href="/part0/eq/#1271" class="Function Operator">≡⟨</a> <a id="21831" href="/part0/vector/#15665" class="Function">vupdate-¬∈v</a> <a id="21843" class="Symbol">_</a> <a id="21845" href="/part0/vector/#21909" class="Function">a¬∈vas</a> <a id="21852" href="/part0/eq/#1271" class="Function Operator">⟩</a>
  <a id="21856" class="Symbol">(</a><a id="21857" href="/part0/vector/#21754" class="Bound">ρ</a> <a id="21859" href="/part0/fun/#419" class="Function Operator">[</a> <a id="21861" href="/part0/vector/#21758" class="Bound">a</a> <a id="21863" href="/part0/fun/#419" class="Function Operator">↦</a> <a id="21865" href="/part0/vector/#21767" class="Bound">b</a> <a id="21867" href="/part0/fun/#419" class="Function Operator">]</a><a id="21868" class="Symbol">)</a> <a id="21870" href="/part0/vector/#21758" class="Bound">a</a>
    <a id="21876" href="/part0/eq/#1271" class="Function Operator">≡⟨</a> <a id="21879" href="/part0/fun/#1108" class="Function">update-≡</a> <a id="21888" href="/part0/vector/#21758" class="Bound">a</a> <a id="21890" href="/part0/eq/#1271" class="Function Operator">⟩</a>
  <a id="21894" href="/part0/vector/#21767" class="Bound">b</a>
  <a id="21898" href="/part0/eq/#1372" class="Function Operator">∎</a> <a id="21900" class="Keyword">where</a>

  <a id="21909" href="/part0/vector/#21909" class="Function">a¬∈vas</a> <a id="21916" class="Symbol">:</a> <a id="21918" href="/part0/vector/#21758" class="Bound">a</a> <a id="21920" href="/part0/vector/#6667" class="Function Operator">¬∈v</a> <a id="21924" href="/part0/vector/#21762" class="Bound">as</a>
  <a id="21929" href="/part0/vector/#21909" class="Function">a¬∈vas</a> <a id="21936" href="/part0/vector/#21936" class="Bound">a∈vas</a> <a id="21942" class="Symbol">=</a> <a id="21944" href="/part0/Fin/#1476" class="Function">fzero≢fsuc</a> <a id="21955" class="Symbol">(</a><a id="21956" href="/part0/vector/#21783" class="Bound">p</a> <a id="21958" href="/part0/Fin/#225" class="InductiveConstructor">fzero</a> <a id="21964" class="Symbol">(</a><a id="21965" href="/part0/Fin/#259" class="InductiveConstructor">fsuc</a> <a id="21970" href="/part0/vector/#22063" class="Function">k</a><a id="21971" class="Symbol">)</a> <a id="21973" href="/part0/vector/#21758" class="Bound">a</a> <a id="21975" href="/part0/vector/#6196" class="InductiveConstructor">here</a> <a id="21980" class="Symbol">(</a><a id="21981" href="/part0/vector/#6260" class="InductiveConstructor">there</a> <a id="21987" href="/part0/vector/#22094" class="Function">a∈vasatk</a><a id="21995" class="Symbol">))</a> <a id="21998" class="Keyword">where</a>

    <a id="22009" href="/part0/vector/#22009" class="Function">pp</a> <a id="22012" class="Symbol">:</a> <a id="22014" href="/part0/logic/#453" class="Function">∃[</a> <a id="22017" href="/part0/vector/#22017" class="Bound">k</a> <a id="22019" href="/part0/logic/#453" class="Function">]</a> <a id="22021" href="/part0/vector/#21758" class="Bound">a</a> <a id="22023" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="22026" href="/part0/vector/#21762" class="Bound">as</a> <a id="22029" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="22032" href="/part0/vector/#22017" class="Bound">k</a>
    <a id="22038" href="/part0/vector/#22009" class="Function">pp</a> <a id="22041" class="Symbol">=</a> <a id="22043" href="/part0/vector/#6346" class="Function">getIndex</a> <a id="22052" href="/part0/vector/#21936" class="Bound">a∈vas</a>

    <a id="22063" href="/part0/vector/#22063" class="Function">k</a> <a id="22065" class="Symbol">:</a> <a id="22067" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="22071" href="/part0/vector/#21746" class="Bound">n</a>
    <a id="22077" href="/part0/vector/#22063" class="Function">k</a> <a id="22079" class="Symbol">=</a> <a id="22081" href="/part0/logic/#408" class="Field">dfst</a> <a id="22086" href="/part0/vector/#22009" class="Function">pp</a>

    <a id="22094" href="/part0/vector/#22094" class="Function">a∈vasatk</a> <a id="22103" class="Symbol">:</a> <a id="22105" href="/part0/vector/#21758" class="Bound">a</a> <a id="22107" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="22110" href="/part0/vector/#21762" class="Bound">as</a> <a id="22113" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="22116" href="/part0/vector/#22063" class="Function">k</a>
    <a id="22122" href="/part0/vector/#22094" class="Function">a∈vasatk</a> <a id="22131" class="Symbol">=</a> <a id="22133" href="/part0/logic/#423" class="Field">dsnd</a> <a id="22138" href="/part0/vector/#22009" class="Function">pp</a>

<a id="22142" href="/part0/vector/#21549" class="Function">vupdate-!</a> <a id="22152" class="Symbol">{</a><a id="22153" class="Argument">ρ</a> <a id="22155" class="Symbol">=</a> <a id="22157" href="/part0/vector/#22157" class="Bound">ρ</a><a id="22158" class="Symbol">}</a> <a id="22160" class="Symbol">{</a><a id="22161" href="/part0/vector/#22161" class="Bound">a</a> <a id="22163" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="22165" href="/part0/vector/#22165" class="Bound">as</a><a id="22167" class="Symbol">}</a> <a id="22169" class="Symbol">{</a><a id="22170" href="/part0/vector/#22170" class="Bound">b</a> <a id="22172" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="22174" href="/part0/vector/#22174" class="Bound">bs</a><a id="22176" class="Symbol">}</a> <a id="22178" class="Symbol">{</a><a id="22179" href="/part0/Fin/#259" class="InductiveConstructor">fsuc</a> <a id="22184" href="/part0/vector/#22184" class="Bound">k</a><a id="22185" class="Symbol">}</a> <a id="22187" href="/part0/vector/#22187" class="Bound">p</a> <a id="22189" class="Symbol">=</a> <a id="22191" href="/part0/vector/#21549" class="Function">vupdate-!</a> <a id="22201" class="Symbol">{</a><a id="22202" class="Argument">ρ</a> <a id="22204" class="Symbol">=</a> <a id="22206" href="/part0/vector/#22157" class="Bound">ρ</a> <a id="22208" href="/part0/fun/#419" class="Function Operator">[</a> <a id="22210" href="/part0/vector/#22161" class="Bound">a</a> <a id="22212" href="/part0/fun/#419" class="Function Operator">↦</a> <a id="22214" href="/part0/vector/#22170" class="Bound">b</a> <a id="22216" href="/part0/fun/#419" class="Function Operator">]</a><a id="22217" class="Symbol">}</a> <a id="22219" class="Symbol">{</a><a id="22220" href="/part0/vector/#22165" class="Bound">as</a><a id="22222" class="Symbol">}</a> <a id="22224" class="Symbol">{</a><a id="22225" href="/part0/vector/#22174" class="Bound">bs</a><a id="22227" class="Symbol">}</a> <a id="22229" class="Symbol">{</a><a id="22230" href="/part0/vector/#22184" class="Bound">k</a><a id="22231" class="Symbol">}</a> <a id="22233" href="/part0/vector/#22244" class="Function">q</a> <a id="22235" class="Keyword">where</a>

  <a id="22244" href="/part0/vector/#22244" class="Function">q</a> <a id="22246" class="Symbol">:</a> <a id="22248" href="/part0/logic/#208" class="Function">∀[</a> <a id="22251" href="/part0/vector/#22251" class="Bound">i</a> <a id="22253" href="/part0/logic/#208" class="Function">]</a> <a id="22255" href="/part0/logic/#208" class="Function">∀[</a> <a id="22258" href="/part0/vector/#22258" class="Bound">j</a> <a id="22260" href="/part0/logic/#208" class="Function">]</a> <a id="22262" href="/part0/logic/#208" class="Function">∀[</a> <a id="22265" href="/part0/vector/#22265" class="Bound">a</a> <a id="22267" href="/part0/logic/#208" class="Function">]</a> <a id="22269" class="Symbol">(</a><a id="22270" href="/part0/vector/#22265" class="Bound">a</a> <a id="22272" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="22275" href="/part0/vector/#22165" class="Bound">as</a> <a id="22278" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="22281" href="/part0/vector/#22251" class="Bound">i</a> <a id="22283" class="Symbol">→</a> <a id="22285" href="/part0/vector/#22265" class="Bound">a</a> <a id="22287" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="22290" href="/part0/vector/#22165" class="Bound">as</a> <a id="22293" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="22296" href="/part0/vector/#22258" class="Bound">j</a> <a id="22298" class="Symbol">→</a> <a id="22300" href="/part0/vector/#22251" class="Bound">i</a> <a id="22302" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="22304" href="/part0/vector/#22258" class="Bound">j</a><a id="22305" class="Symbol">)</a>
  <a id="22309" href="/part0/vector/#22244" class="Function">q</a> <a id="22311" href="/part0/vector/#22311" class="Bound">i</a> <a id="22313" href="/part0/vector/#22313" class="Bound">j</a> <a id="22315" href="/part0/vector/#22315" class="Bound">a</a> <a id="22317" href="/part0/vector/#22317" class="Bound">a∈vasati</a> <a id="22326" href="/part0/vector/#22326" class="Bound">a∈vasatj</a> <a id="22335" class="Symbol">=</a> <a id="22337" href="/part0/Fin/#297" class="Function">inj-fsuc</a> <a id="22346" class="Symbol">(</a><a id="22347" href="/part0/vector/#22187" class="Bound">p</a> <a id="22349" class="Symbol">(</a><a id="22350" href="/part0/Fin/#259" class="InductiveConstructor">fsuc</a> <a id="22355" href="/part0/vector/#22311" class="Bound">i</a><a id="22356" class="Symbol">)</a> <a id="22358" class="Symbol">(</a><a id="22359" href="/part0/Fin/#259" class="InductiveConstructor">fsuc</a> <a id="22364" href="/part0/vector/#22313" class="Bound">j</a><a id="22365" class="Symbol">)</a> <a id="22367" href="/part0/vector/#22315" class="Bound">a</a> <a id="22369" class="Symbol">(</a><a id="22370" href="/part0/vector/#6260" class="InductiveConstructor">there</a> <a id="22376" href="/part0/vector/#22317" class="Bound">a∈vasati</a><a id="22384" class="Symbol">)</a> <a id="22386" class="Symbol">(</a><a id="22387" href="/part0/vector/#6260" class="InductiveConstructor">there</a> <a id="22393" href="/part0/vector/#22326" class="Bound">a∈vasatj</a><a id="22401" class="Symbol">))</a>

<a id="22405" class="Comment">-- inclusion of vectors (up to permutation)</a>
<a id="22449" class="Comment">-- infixl 20 _⊆_</a>
<a id="22466" class="Comment">-- _⊆_ : ∀ {ℓ} {A : Set ℓ} {m n} → {{Eq A}} → Vector A m → Vector A n → Set ℓ</a>
<a id="22544" class="Comment">-- xs ⊆ ys = ∀[ x ] (x ∈v xs → x ∈v ys)</a>

<a id="vdisjoint"></a><a id="22585" href="/part0/vector/#22585" class="Function">vdisjoint</a> <a id="22595" class="Symbol">:</a> <a id="22597" class="Symbol">∀</a> <a id="22599" class="Symbol">{</a><a id="22600" href="/part0/vector/#22600" class="Bound">ℓ</a> <a id="22602" href="/part0/vector/#22602" class="Bound">m</a> <a id="22604" href="/part0/vector/#22604" class="Bound">n</a><a id="22605" class="Symbol">}</a> <a id="22607" class="Symbol">{</a><a id="22608" href="/part0/vector/#22608" class="Bound">A</a> <a id="22610" class="Symbol">:</a> <a id="22612" class="PrimitiveType">Set</a> <a id="22616" href="/part0/vector/#22600" class="Bound">ℓ</a><a id="22617" class="Symbol">}</a> <a id="22619" class="Symbol">{{</a><a id="22621" href="/part0/vector/#22621" class="Bound">_</a> <a id="22623" class="Symbol">:</a> <a id="22625" href="/part0/eq/#2111" class="Record">Eq</a> <a id="22628" href="/part0/vector/#22608" class="Bound">A</a><a id="22629" class="Symbol">}}</a> <a id="22632" class="Symbol">→</a> <a id="22634" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="22641" href="/part0/vector/#22608" class="Bound">A</a> <a id="22643" href="/part0/vector/#22602" class="Bound">m</a> <a id="22645" class="Symbol">→</a> <a id="22647" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="22654" href="/part0/vector/#22608" class="Bound">A</a> <a id="22656" href="/part0/vector/#22604" class="Bound">n</a> <a id="22658" class="Symbol">→</a> <a id="22660" class="PrimitiveType">Set</a> <a id="22664" href="/part0/vector/#22600" class="Bound">ℓ</a>
<a id="22666" href="/part0/vector/#22585" class="Function">vdisjoint</a> <a id="22676" href="/part0/vector/#22676" class="Bound">as</a> <a id="22679" href="/part0/vector/#22679" class="Bound">bs</a> <a id="22682" class="Symbol">=</a> <a id="22684" href="/part0/logic/#208" class="Function">∀[</a> <a id="22687" href="/part0/vector/#22687" class="Bound">a</a> <a id="22689" href="/part0/logic/#208" class="Function">]</a> <a id="22691" class="Symbol">(</a><a id="22692" href="/part0/vector/#22687" class="Bound">a</a> <a id="22694" href="/part0/vector/#5916" class="Datatype Operator">∈v</a> <a id="22697" href="/part0/vector/#22676" class="Bound">as</a> <a id="22700" class="Symbol">→</a> <a id="22702" href="/part0/vector/#22687" class="Bound">a</a> <a id="22704" href="/part0/vector/#6667" class="Function Operator">¬∈v</a> <a id="22708" href="/part0/vector/#22679" class="Bound">bs</a><a id="22710" class="Symbol">)</a>

<a id="vupdate-flip"></a><a id="22713" href="/part0/vector/#22713" class="Function">vupdate-flip</a> <a id="22726" class="Symbol">:</a> <a id="22728" class="Symbol">∀</a> <a id="22730" class="Symbol">{</a><a id="22731" href="/part0/vector/#22731" class="Bound">ℓ</a> <a id="22733" href="/part0/vector/#22733" class="Bound">m</a> <a id="22735" href="/part0/vector/#22735" class="Bound">n</a> <a id="22737" href="/part0/vector/#22737" class="Bound">o</a><a id="22738" class="Symbol">}</a> <a id="22740" class="Symbol">{</a><a id="22741" href="/part0/vector/#22741" class="Bound">A</a> <a id="22743" class="Symbol">:</a> <a id="22745" class="PrimitiveType">Set</a> <a id="22749" href="/part0/vector/#22731" class="Bound">ℓ</a><a id="22750" class="Symbol">}</a> <a id="22752" class="Symbol">{</a><a id="22753" href="/part0/vector/#22753" class="Bound">B</a> <a id="22755" class="Symbol">:</a> <a id="22757" class="PrimitiveType">Set</a> <a id="22761" href="/part0/vector/#22733" class="Bound">m</a><a id="22762" class="Symbol">}</a> <a id="22764" class="Symbol">{{</a><a id="22766" href="/part0/vector/#22766" class="Bound">_</a> <a id="22768" class="Symbol">:</a> <a id="22770" href="/part0/eq/#2111" class="Record">Eq</a> <a id="22773" href="/part0/vector/#22741" class="Bound">A</a><a id="22774" class="Symbol">}}</a> <a id="22777" class="Symbol">(</a><a id="22778" href="/part0/vector/#22778" class="Bound">ρ</a> <a id="22780" class="Symbol">:</a> <a id="22782" href="/part0/vector/#22741" class="Bound">A</a> <a id="22784" class="Symbol">→</a> <a id="22786" href="/part0/vector/#22753" class="Bound">B</a><a id="22787" class="Symbol">)</a> <a id="22789" class="Symbol">{</a><a id="22790" href="/part0/vector/#22790" class="Bound">as</a> <a id="22793" class="Symbol">:</a> <a id="22795" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="22802" href="/part0/vector/#22741" class="Bound">A</a> <a id="22804" href="/part0/vector/#22735" class="Bound">n</a><a id="22805" class="Symbol">}</a> <a id="22807" class="Symbol">{</a><a id="22808" href="/part0/vector/#22808" class="Bound">bs</a> <a id="22811" class="Symbol">:</a> <a id="22813" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="22820" href="/part0/vector/#22753" class="Bound">B</a> <a id="22822" href="/part0/vector/#22735" class="Bound">n</a><a id="22823" class="Symbol">}</a> <a id="22825" class="Symbol">{</a><a id="22826" href="/part0/vector/#22826" class="Bound">cs</a> <a id="22829" class="Symbol">:</a> <a id="22831" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="22838" href="/part0/vector/#22741" class="Bound">A</a> <a id="22840" href="/part0/vector/#22737" class="Bound">o</a><a id="22841" class="Symbol">}</a> <a id="22843" class="Symbol">{</a><a id="22844" href="/part0/vector/#22844" class="Bound">ds</a> <a id="22847" class="Symbol">:</a> <a id="22849" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="22856" href="/part0/vector/#22753" class="Bound">B</a> <a id="22858" href="/part0/vector/#22737" class="Bound">o</a><a id="22859" class="Symbol">}</a> <a id="22861" class="Symbol">→</a>
  <a id="22865" href="/part0/vector/#22585" class="Function">vdisjoint</a> <a id="22875" href="/part0/vector/#22790" class="Bound">as</a> <a id="22878" href="/part0/vector/#22826" class="Bound">cs</a> <a id="22881" class="Symbol">→</a>
  <a id="22885" href="/part0/vector/#22778" class="Bound">ρ</a> <a id="22887" href="/part0/vector/#14846" class="Function Operator">v[</a> <a id="22890" href="/part0/vector/#22790" class="Bound">as</a> <a id="22893" href="/part0/vector/#14846" class="Function Operator">↦</a> <a id="22895" href="/part0/vector/#22808" class="Bound">bs</a> <a id="22898" href="/part0/vector/#14846" class="Function Operator">]</a> <a id="22900" href="/part0/vector/#14846" class="Function Operator">v[</a> <a id="22903" href="/part0/vector/#22826" class="Bound">cs</a> <a id="22906" href="/part0/vector/#14846" class="Function Operator">↦</a> <a id="22908" href="/part0/vector/#22844" class="Bound">ds</a> <a id="22911" href="/part0/vector/#14846" class="Function Operator">]</a> <a id="22913" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="22915" href="/part0/vector/#22778" class="Bound">ρ</a> <a id="22917" href="/part0/vector/#14846" class="Function Operator">v[</a> <a id="22920" href="/part0/vector/#22826" class="Bound">cs</a> <a id="22923" href="/part0/vector/#14846" class="Function Operator">↦</a> <a id="22925" href="/part0/vector/#22844" class="Bound">ds</a> <a id="22928" href="/part0/vector/#14846" class="Function Operator">]</a> <a id="22930" href="/part0/vector/#14846" class="Function Operator">v[</a> <a id="22933" href="/part0/vector/#22790" class="Bound">as</a> <a id="22936" href="/part0/vector/#14846" class="Function Operator">↦</a> <a id="22938" href="/part0/vector/#22808" class="Bound">bs</a> <a id="22941" href="/part0/vector/#14846" class="Function Operator">]</a>
<a id="22943" href="/part0/vector/#22713" class="Function">vupdate-flip</a> <a id="22956" class="Symbol">=</a> <a id="22958" class="Symbol">{!   !}</a>

<a id="vupdate-swap"></a><a id="22967" href="/part0/vector/#22967" class="Function">vupdate-swap</a> <a id="22980" class="Symbol">:</a> <a id="22982" class="Symbol">∀</a> <a id="22984" class="Symbol">{</a><a id="22985" href="/part0/vector/#22985" class="Bound">ℓ</a> <a id="22987" href="/part0/vector/#22987" class="Bound">m</a> <a id="22989" href="/part0/vector/#22989" class="Bound">n</a><a id="22990" class="Symbol">}</a> <a id="22992" class="Symbol">{</a><a id="22993" href="/part0/vector/#22993" class="Bound">A</a> <a id="22995" class="Symbol">:</a> <a id="22997" class="PrimitiveType">Set</a> <a id="23001" href="/part0/vector/#22985" class="Bound">ℓ</a><a id="23002" class="Symbol">}</a> <a id="23004" class="Symbol">{</a><a id="23005" href="/part0/vector/#23005" class="Bound">B</a> <a id="23007" class="Symbol">:</a> <a id="23009" class="PrimitiveType">Set</a> <a id="23013" href="/part0/vector/#22987" class="Bound">m</a><a id="23014" class="Symbol">}</a> <a id="23016" class="Symbol">{{</a><a id="23018" href="/part0/vector/#23018" class="Bound">_</a> <a id="23020" class="Symbol">:</a> <a id="23022" href="/part0/eq/#2111" class="Record">Eq</a> <a id="23025" href="/part0/vector/#22993" class="Bound">A</a><a id="23026" class="Symbol">}}</a> <a id="23029" class="Symbol">(</a><a id="23030" href="/part0/vector/#23030" class="Bound">ρ</a> <a id="23032" class="Symbol">:</a> <a id="23034" href="/part0/vector/#22993" class="Bound">A</a> <a id="23036" class="Symbol">→</a> <a id="23038" href="/part0/vector/#23005" class="Bound">B</a><a id="23039" class="Symbol">)</a> <a id="23041" class="Symbol">{</a><a id="23042" href="/part0/vector/#23042" class="Bound">as</a> <a id="23045" class="Symbol">:</a> <a id="23047" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="23054" href="/part0/vector/#22993" class="Bound">A</a> <a id="23056" href="/part0/vector/#22989" class="Bound">n</a><a id="23057" class="Symbol">}</a> <a id="23059" class="Symbol">{</a><a id="23060" href="/part0/vector/#23060" class="Bound">bs</a> <a id="23063" class="Symbol">:</a> <a id="23065" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="23072" href="/part0/vector/#23005" class="Bound">B</a> <a id="23074" href="/part0/vector/#22989" class="Bound">n</a><a id="23075" class="Symbol">}</a> <a id="23077" class="Symbol">{</a><a id="23078" href="/part0/vector/#23078" class="Bound">a</a> <a id="23080" class="Symbol">:</a> <a id="23082" href="/part0/vector/#22993" class="Bound">A</a><a id="23083" class="Symbol">}</a> <a id="23085" class="Symbol">{</a><a id="23086" href="/part0/vector/#23086" class="Bound">b</a> <a id="23088" class="Symbol">:</a> <a id="23090" href="/part0/vector/#23005" class="Bound">B</a><a id="23091" class="Symbol">}</a> <a id="23093" class="Symbol">→</a>
  <a id="23097" href="/part0/vector/#23078" class="Bound">a</a> <a id="23099" href="/part0/vector/#6667" class="Function Operator">¬∈v</a> <a id="23103" href="/part0/vector/#23042" class="Bound">as</a> <a id="23106" class="Symbol">→</a>
  <a id="23110" href="/part0/vector/#23030" class="Bound">ρ</a> <a id="23112" href="/part0/vector/#14846" class="Function Operator">v[</a> <a id="23115" href="/part0/vector/#23042" class="Bound">as</a> <a id="23118" href="/part0/vector/#14846" class="Function Operator">↦</a> <a id="23120" href="/part0/vector/#23060" class="Bound">bs</a> <a id="23123" href="/part0/vector/#14846" class="Function Operator">]</a> <a id="23125" href="/part0/fun/#419" class="Function Operator">[</a> <a id="23127" href="/part0/vector/#23078" class="Bound">a</a> <a id="23129" href="/part0/fun/#419" class="Function Operator">↦</a> <a id="23131" href="/part0/vector/#23086" class="Bound">b</a> <a id="23133" href="/part0/fun/#419" class="Function Operator">]</a> <a id="23135" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="23137" href="/part0/vector/#23030" class="Bound">ρ</a> <a id="23139" href="/part0/fun/#419" class="Function Operator">[</a> <a id="23141" href="/part0/vector/#23078" class="Bound">a</a> <a id="23143" href="/part0/fun/#419" class="Function Operator">↦</a> <a id="23145" href="/part0/vector/#23086" class="Bound">b</a> <a id="23147" href="/part0/fun/#419" class="Function Operator">]</a> <a id="23149" href="/part0/vector/#14846" class="Function Operator">v[</a> <a id="23152" href="/part0/vector/#23042" class="Bound">as</a> <a id="23155" href="/part0/vector/#14846" class="Function Operator">↦</a> <a id="23157" href="/part0/vector/#23060" class="Bound">bs</a> <a id="23160" href="/part0/vector/#14846" class="Function Operator">]</a>
<a id="23162" href="/part0/vector/#22967" class="Function">vupdate-swap</a> <a id="23175" class="Symbol">=</a> <a id="23177" class="Symbol">{!   !}</a>

<a id="23186" class="Comment">-- prove it using vupdate-! above</a>
<a id="vupdate-∈at"></a><a id="23220" href="/part0/vector/#23220" class="Function">vupdate-∈at</a> <a id="23232" class="Symbol">:</a> <a id="23234" class="Symbol">∀</a> <a id="23236" class="Symbol">{</a><a id="23237" href="/part0/vector/#23237" class="Bound">ℓ</a> <a id="23239" href="/part0/vector/#23239" class="Bound">m</a> <a id="23241" href="/part0/vector/#23241" class="Bound">n</a><a id="23242" class="Symbol">}</a> <a id="23244" class="Symbol">{</a><a id="23245" href="/part0/vector/#23245" class="Bound">A</a> <a id="23247" class="Symbol">:</a> <a id="23249" class="PrimitiveType">Set</a> <a id="23253" href="/part0/vector/#23237" class="Bound">ℓ</a><a id="23254" class="Symbol">}</a> <a id="23256" class="Symbol">{</a><a id="23257" href="/part0/vector/#23257" class="Bound">B</a> <a id="23259" class="Symbol">:</a> <a id="23261" class="PrimitiveType">Set</a> <a id="23265" href="/part0/vector/#23239" class="Bound">m</a><a id="23266" class="Symbol">}</a> <a id="23268" class="Symbol">{{</a><a id="23270" href="/part0/vector/#23270" class="Bound">_</a> <a id="23272" class="Symbol">:</a> <a id="23274" href="/part0/eq/#2111" class="Record">Eq</a> <a id="23277" href="/part0/vector/#23245" class="Bound">A</a><a id="23278" class="Symbol">}}</a> <a id="23281" class="Symbol">(</a><a id="23282" href="/part0/vector/#23282" class="Bound">ρ</a> <a id="23284" class="Symbol">:</a> <a id="23286" href="/part0/vector/#23245" class="Bound">A</a> <a id="23288" class="Symbol">→</a> <a id="23290" href="/part0/vector/#23257" class="Bound">B</a><a id="23291" class="Symbol">)</a> <a id="23293" class="Symbol">{</a><a id="23294" href="/part0/vector/#23294" class="Bound">a</a> <a id="23296" class="Symbol">:</a> <a id="23298" href="/part0/vector/#23245" class="Bound">A</a><a id="23299" class="Symbol">}</a> <a id="23301" class="Symbol">{</a><a id="23302" href="/part0/vector/#23302" class="Bound">as</a> <a id="23305" class="Symbol">:</a> <a id="23307" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="23314" href="/part0/vector/#23245" class="Bound">A</a> <a id="23316" href="/part0/vector/#23241" class="Bound">n</a><a id="23317" class="Symbol">}</a> <a id="23319" class="Symbol">{</a><a id="23320" href="/part0/vector/#23320" class="Bound">bs</a> <a id="23323" class="Symbol">:</a> <a id="23325" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="23332" href="/part0/vector/#23257" class="Bound">B</a> <a id="23334" href="/part0/vector/#23241" class="Bound">n</a><a id="23335" class="Symbol">}</a> <a id="23337" class="Symbol">{</a><a id="23338" href="/part0/vector/#23338" class="Bound">k</a> <a id="23340" class="Symbol">:</a> <a id="23342" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="23346" href="/part0/vector/#23241" class="Bound">n</a><a id="23347" class="Symbol">}</a> <a id="23349" class="Symbol">→</a>
  <a id="23353" href="/part0/vector/#15909" class="Function">vdistinct</a> <a id="23363" href="/part0/vector/#23302" class="Bound">as</a> <a id="23366" class="Symbol">→</a>
  <a id="23370" href="/part0/vector/#23294" class="Bound">a</a> <a id="23372" href="/part0/vector/#6121" class="Datatype Operator">∈v</a> <a id="23375" href="/part0/vector/#23302" class="Bound">as</a> <a id="23378" href="/part0/vector/#6121" class="Datatype Operator">at</a> <a id="23381" href="/part0/vector/#23338" class="Bound">k</a> <a id="23383" class="Symbol">→</a>
  <a id="23387" class="Symbol">(</a><a id="23388" href="/part0/vector/#23282" class="Bound">ρ</a> <a id="23390" href="/part0/vector/#14846" class="Function Operator">v[</a> <a id="23393" href="/part0/vector/#23302" class="Bound">as</a> <a id="23396" href="/part0/vector/#14846" class="Function Operator">↦</a> <a id="23398" href="/part0/vector/#23320" class="Bound">bs</a> <a id="23401" href="/part0/vector/#14846" class="Function Operator">]</a><a id="23402" class="Symbol">)</a> <a id="23404" href="/part0/vector/#23294" class="Bound">a</a> <a id="23406" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="23408" href="/part0/vector/#23320" class="Bound">bs</a> <a id="23411" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="23413" href="/part0/vector/#23338" class="Bound">k</a>
<a id="23415" href="/part0/vector/#23220" class="Function">vupdate-∈at</a> <a id="23427" href="/part0/vector/#23427" class="Bound">ρ</a> <a id="23429" href="/part0/vector/#23429" class="Bound">dst-as</a> <a id="23436" href="/part0/vector/#23436" class="Bound">a∈asatk</a> <a id="23444" class="Symbol">=</a> <a id="23446" class="Symbol">{!   !}</a>

<a id="vcons"></a><a id="23455" href="/part0/vector/#23455" class="Function">vcons</a> <a id="23461" class="Symbol">:</a> <a id="23463" class="Symbol">∀</a> <a id="23465" class="Symbol">{</a><a id="23466" href="/part0/vector/#23466" class="Bound">ℓ</a> <a id="23468" href="/part0/vector/#23468" class="Bound">n</a><a id="23469" class="Symbol">}</a> <a id="23471" class="Symbol">{</a><a id="23472" href="/part0/vector/#23472" class="Bound">A</a> <a id="23474" class="Symbol">:</a> <a id="23476" class="PrimitiveType">Set</a> <a id="23480" href="/part0/vector/#23466" class="Bound">ℓ</a><a id="23481" class="Symbol">}</a> <a id="23483" class="Symbol">→</a> <a id="23485" href="/part0/vector/#23472" class="Bound">A</a> <a id="23487" class="Symbol">→</a> <a id="23489" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="23496" href="/part0/vector/#23472" class="Bound">A</a> <a id="23498" href="/part0/vector/#23468" class="Bound">n</a> <a id="23500" class="Symbol">→</a> <a id="23502" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="23509" href="/part0/vector/#23472" class="Bound">A</a> <a id="23511" class="Symbol">(</a><a id="23512" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="23516" href="/part0/vector/#23468" class="Bound">n</a><a id="23517" class="Symbol">)</a>
<a id="23519" href="/part0/vector/#23455" class="Function">vcons</a> <a id="23525" href="/part0/vector/#23525" class="Bound">a</a> <a id="23527" href="/part0/vector/#23527" class="Bound">as</a> <a id="23530" class="Symbol">=</a> <a id="23532" href="/part0/vector/#23525" class="Bound">a</a> <a id="23534" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="23536" href="/part0/vector/#23527" class="Bound">as</a>

<a id="23540" class="Comment">-- for some reason the following is yellow...</a>
<a id="23586" class="Comment">-- vcons-≡1 : ∀ {ℓ n} {A : Set ℓ} {a b : A} {as bs : Vector A n} → a ∷ as ≡ b ∷ bs → a ≡ b ∧ as ≡ bs</a>
<a id="vcons-≡1"></a><a id="23687" href="/part0/vector/#23687" class="Function">vcons-≡1</a> <a id="23696" class="Symbol">:</a> <a id="23698" class="Symbol">∀</a> <a id="23700" class="Symbol">{</a><a id="23701" href="/part0/vector/#23701" class="Bound">ℓ</a> <a id="23703" href="/part0/vector/#23703" class="Bound">n</a><a id="23704" class="Symbol">}</a> <a id="23706" class="Symbol">{</a><a id="23707" href="/part0/vector/#23707" class="Bound">A</a> <a id="23709" class="Symbol">:</a> <a id="23711" class="PrimitiveType">Set</a> <a id="23715" href="/part0/vector/#23701" class="Bound">ℓ</a><a id="23716" class="Symbol">}</a> <a id="23718" class="Symbol">{</a><a id="23719" href="/part0/vector/#23719" class="Bound">a</a> <a id="23721" href="/part0/vector/#23721" class="Bound">b</a> <a id="23723" class="Symbol">:</a> <a id="23725" href="/part0/vector/#23707" class="Bound">A</a><a id="23726" class="Symbol">}</a> <a id="23728" class="Symbol">{</a><a id="23729" href="/part0/vector/#23729" class="Bound">as</a> <a id="23732" href="/part0/vector/#23732" class="Bound">bs</a> <a id="23735" class="Symbol">:</a> <a id="23737" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="23744" href="/part0/vector/#23707" class="Bound">A</a> <a id="23746" href="/part0/vector/#23703" class="Bound">n</a><a id="23747" class="Symbol">}</a> <a id="23749" class="Symbol">→</a> <a id="23751" href="/part0/vector/#23455" class="Function">vcons</a> <a id="23757" href="/part0/vector/#23719" class="Bound">a</a> <a id="23759" href="/part0/vector/#23729" class="Bound">as</a> <a id="23762" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="23764" href="/part0/vector/#23455" class="Function">vcons</a> <a id="23770" href="/part0/vector/#23721" class="Bound">b</a> <a id="23772" href="/part0/vector/#23732" class="Bound">bs</a> <a id="23775" class="Symbol">→</a> <a id="23777" href="/part0/vector/#23719" class="Bound">a</a> <a id="23779" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="23781" href="/part0/vector/#23721" class="Bound">b</a> <a id="23783" href="/part0/logic/#1156" class="Record Operator">∧</a> <a id="23785" href="/part0/vector/#23729" class="Bound">as</a> <a id="23788" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="23790" href="/part0/vector/#23732" class="Bound">bs</a>
<a id="23793" href="/part0/vector/#23687" class="Function">vcons-≡1</a> <a id="23802" href="/part0/eq/#222" class="InductiveConstructor">refl</a> <a id="23807" class="Symbol">=</a> <a id="23809" href="/part0/eq/#222" class="InductiveConstructor">refl</a> <a id="23814" href="/part0/logic/#1224" class="InductiveConstructor Operator">,</a> <a id="23816" href="/part0/eq/#222" class="InductiveConstructor">refl</a>

<a id="23822" class="Comment">-- vcons-≡2 : ∀ {ℓ} {n} {A : Set ℓ} {a b : A} {as bs : Vector A n} → a ≡ b → as ≡ bs → a ∷ as ≡ b ∷ bs</a>
<a id="23925" class="Comment">-- vcons-≡2 refl refl = refl</a>

<a id="23955" class="Comment">-- infix 30 _\\v_</a>
<a id="23973" class="Comment">-- _\\v_ : ∀ {ℓ m n} {A : Set ℓ} {{_ : Eq A}} → Vector A m → Vector A n → Vector A ?</a>
<a id="24058" class="Comment">-- ε \\v _ = ε</a>
<a id="24073" class="Comment">-- (a ∷ as) \\v bs with a ∈v? bs</a>
<a id="24106" class="Comment">-- ... | yes = as \\v bs</a>
<a id="24131" class="Comment">-- ... | no = a ∷ (as \\v bs)</a>

<a id="indices"></a><a id="24162" href="/part0/vector/#24162" class="Function">indices</a> <a id="24170" class="Symbol">:</a> <a id="24172" class="Symbol">(</a><a id="24173" href="/part0/vector/#24173" class="Bound">n</a> <a id="24175" class="Symbol">:</a> <a id="24177" href="/part0/nat/#203" class="Datatype">ℕ</a><a id="24178" class="Symbol">)</a> <a id="24180" class="Symbol">→</a> <a id="24182" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="24189" class="Symbol">(</a><a id="24190" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="24194" href="/part0/vector/#24173" class="Bound">n</a><a id="24195" class="Symbol">)</a> <a id="24197" href="/part0/vector/#24173" class="Bound">n</a>
<a id="24199" href="/part0/vector/#24162" class="Function">indices</a> <a id="24207" class="Number">0</a> <a id="24209" class="Symbol">=</a> <a id="24211" href="/part0/vector/#333" class="InductiveConstructor">ε</a>
<a id="24213" href="/part0/vector/#24162" class="Function">indices</a> <a id="24221" class="Symbol">(</a><a id="24222" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="24226" href="/part0/vector/#24226" class="Bound">n</a><a id="24227" class="Symbol">)</a> <a id="24229" class="Symbol">=</a> <a id="24231" href="/part0/Fin/#225" class="InductiveConstructor">fzero</a> <a id="24237" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="24239" href="/part0/vector/#1154" class="Function">vmap</a> <a id="24244" href="/part0/Fin/#259" class="InductiveConstructor">fsuc</a> <a id="24249" class="Symbol">(</a><a id="24250" href="/part0/vector/#24162" class="Function">indices</a> <a id="24258" href="/part0/vector/#24226" class="Bound">n</a><a id="24259" class="Symbol">)</a>

<a id="indices-Lemma"></a><a id="24262" href="/part0/vector/#24262" class="Function">indices-Lemma</a> <a id="24276" class="Symbol">:</a> <a id="24278" class="Symbol">∀</a> <a id="24280" class="Symbol">{</a><a id="24281" href="/part0/vector/#24281" class="Bound">ℓ</a> <a id="24283" href="/part0/vector/#24283" class="Bound">n</a><a id="24284" class="Symbol">}</a> <a id="24286" class="Symbol">{</a><a id="24287" href="/part0/vector/#24287" class="Bound">A</a> <a id="24289" class="Symbol">:</a> <a id="24291" class="PrimitiveType">Set</a> <a id="24295" href="/part0/vector/#24281" class="Bound">ℓ</a><a id="24296" class="Symbol">}</a> <a id="24298" class="Symbol">(</a><a id="24299" href="/part0/vector/#24299" class="Bound">as</a> <a id="24302" class="Symbol">:</a> <a id="24304" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="24311" href="/part0/vector/#24287" class="Bound">A</a> <a id="24313" href="/part0/vector/#24283" class="Bound">n</a><a id="24314" class="Symbol">)</a> <a id="24316" class="Symbol">→</a> <a id="24318" href="/part0/vector/#1154" class="Function">vmap</a> <a id="24323" class="Symbol">(λ</a> <a id="24326" href="/part0/vector/#24326" class="Bound">i</a> <a id="24328" class="Symbol">→</a> <a id="24330" href="/part0/vector/#24299" class="Bound">as</a> <a id="24333" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="24335" href="/part0/vector/#24326" class="Bound">i</a><a id="24336" class="Symbol">)</a> <a id="24338" class="Symbol">(</a><a id="24339" href="/part0/vector/#24162" class="Function">indices</a> <a id="24347" href="/part0/vector/#24283" class="Bound">n</a><a id="24348" class="Symbol">)</a> <a id="24350" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="24352" href="/part0/vector/#24299" class="Bound">as</a>
<a id="24355" href="/part0/vector/#24262" class="Function">indices-Lemma</a> <a id="24369" href="/part0/vector/#24369" class="Bound">as</a> <a id="24372" class="Symbol">=</a> <a id="24374" class="Symbol">{!   !}</a>

<a id="indices-!"></a><a id="24383" href="/part0/vector/#24383" class="Function">indices-!</a> <a id="24393" class="Symbol">:</a> <a id="24395" class="Symbol">∀</a> <a id="24397" class="Symbol">{</a><a id="24398" href="/part0/vector/#24398" class="Bound">n</a> <a id="24400" class="Symbol">:</a> <a id="24402" href="/part0/nat/#203" class="Datatype">ℕ</a><a id="24403" class="Symbol">}</a> <a id="24405" class="Symbol">(</a><a id="24406" href="/part0/vector/#24406" class="Bound">k</a> <a id="24408" class="Symbol">:</a> <a id="24410" href="/part0/Fin/#201" class="Datatype">Fin</a> <a id="24414" href="/part0/vector/#24398" class="Bound">n</a><a id="24415" class="Symbol">)</a> <a id="24417" class="Symbol">→</a> <a id="24419" href="/part0/vector/#24162" class="Function">indices</a> <a id="24427" href="/part0/vector/#24398" class="Bound">n</a> <a id="24429" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="24431" href="/part0/vector/#24406" class="Bound">k</a> <a id="24433" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="24435" href="/part0/vector/#24406" class="Bound">k</a>
<a id="24437" href="/part0/vector/#24383" class="Function">indices-!</a> <a id="24447" href="/part0/Fin/#225" class="InductiveConstructor">fzero</a> <a id="24453" class="Symbol">=</a> <a id="24455" href="/part0/eq/#222" class="InductiveConstructor">refl</a>
<a id="24460" href="/part0/vector/#24383" class="Function">indices-!</a> <a id="24470" class="Symbol">{</a><a id="24471" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="24475" href="/part0/vector/#24475" class="Bound">n</a><a id="24476" class="Symbol">}</a> <a id="24478" class="Symbol">(</a><a id="24479" href="/part0/Fin/#259" class="InductiveConstructor">fsuc</a> <a id="24484" href="/part0/vector/#24484" class="Bound">k</a><a id="24485" class="Symbol">)</a> <a id="24487" class="Keyword">with</a> <a id="24492" href="/part0/vector/#24383" class="Function">indices-!</a> <a id="24502" href="/part0/vector/#24484" class="Bound">k</a>
<a id="24504" class="Symbol">...</a> <a id="24508" class="Symbol">|</a> <a id="24510" href="/part0/vector/#24510" class="Bound">ind</a> <a id="24514" class="Symbol">=</a> <a id="24516" href="/part0/eq/#1126" class="Function Operator">begin</a>
  <a id="24524" href="/part0/vector/#24162" class="Function">indices</a> <a id="24532" class="Symbol">(</a><a id="24533" href="/part0/nat/#230" class="InductiveConstructor">suc</a> <a id="24537" class="Bound">n</a><a id="24538" class="Symbol">)</a> <a id="24540" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="24542" class="Symbol">(</a><a id="24543" href="/part0/Fin/#259" class="InductiveConstructor">fsuc</a> <a id="24548" class="Bound">k</a><a id="24549" class="Symbol">)</a> <a id="24551" href="/part0/eq/#1196" class="Function Operator">≡⟨⟩</a>
  <a id="24557" href="/part0/vector/#1154" class="Function">vmap</a> <a id="24562" href="/part0/Fin/#259" class="InductiveConstructor">fsuc</a> <a id="24567" class="Symbol">(</a><a id="24568" href="/part0/vector/#24162" class="Function">indices</a> <a id="24576" class="Bound">n</a><a id="24577" class="Symbol">)</a> <a id="24579" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="24581" class="Bound">k</a> <a id="24583" href="/part0/eq/#1271" class="Function Operator">≡⟨</a> <a id="24586" href="/part0/vector/#8616" class="Function">vmap-!</a> <a id="24593" class="Symbol">(</a><a id="24594" href="/part0/vector/#24162" class="Function">indices</a> <a id="24602" class="Bound">n</a><a id="24603" class="Symbol">)</a> <a id="24605" href="/part0/eq/#1271" class="Function Operator">⟩</a>
  <a id="24609" href="/part0/Fin/#259" class="InductiveConstructor">fsuc</a> <a id="24614" class="Symbol">(</a><a id="24615" href="/part0/vector/#24162" class="Function">indices</a> <a id="24623" class="Bound">n</a> <a id="24625" href="/part0/vector/#8191" class="Function Operator">!</a> <a id="24627" class="Bound">k</a><a id="24628" class="Symbol">)</a> <a id="24630" href="/part0/eq/#1271" class="Function Operator">≡⟨</a> <a id="24633" href="/part0/eq/#488" class="Function">cong</a> <a id="24638" href="/part0/Fin/#259" class="InductiveConstructor">fsuc</a> <a id="24643" href="/part0/vector/#24510" class="Bound">ind</a> <a id="24647" href="/part0/eq/#1271" class="Function Operator">⟩</a>
  <a id="24651" href="/part0/Fin/#259" class="InductiveConstructor">fsuc</a> <a id="24656" class="Bound">k</a>
  <a id="24660" href="/part0/eq/#1372" class="Function Operator">∎</a>
  
<a id="24665" class="Keyword">instance</a>
  <a id="eqVector"></a><a id="24676" href="/part0/vector/#24676" class="Function">eqVector</a> <a id="24685" class="Symbol">:</a> <a id="24687" class="Symbol">∀</a> <a id="24689" class="Symbol">{</a><a id="24690" href="/part0/vector/#24690" class="Bound">ℓ</a><a id="24691" class="Symbol">}</a> <a id="24693" class="Symbol">{</a><a id="24694" href="/part0/vector/#24694" class="Bound">n</a> <a id="24696" class="Symbol">:</a> <a id="24698" href="/part0/nat/#203" class="Datatype">ℕ</a><a id="24699" class="Symbol">}</a> <a id="24701" class="Symbol">{</a><a id="24702" href="/part0/vector/#24702" class="Bound">A</a> <a id="24704" class="Symbol">:</a> <a id="24706" class="PrimitiveType">Set</a> <a id="24710" href="/part0/vector/#24690" class="Bound">ℓ</a><a id="24711" class="Symbol">}</a> <a id="24713" class="Symbol">{{</a><a id="24715" href="/part0/vector/#24715" class="Bound">_</a> <a id="24717" class="Symbol">:</a> <a id="24719" href="/part0/eq/#2111" class="Record">Eq</a> <a id="24722" href="/part0/vector/#24702" class="Bound">A</a><a id="24723" class="Symbol">}}</a> <a id="24726" class="Symbol">→</a> <a id="24728" href="/part0/eq/#2111" class="Record">Eq</a> <a id="24731" class="Symbol">(</a><a id="24732" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="24739" href="/part0/vector/#24702" class="Bound">A</a> <a id="24741" href="/part0/vector/#24694" class="Bound">n</a><a id="24742" class="Symbol">)</a>
  <a id="24746" href="/part0/eq/#2172" class="Field Operator">_≡?_</a> <a id="24751" class="Symbol">{{</a><a id="24753" href="/part0/vector/#24676" class="Function">eqVector</a> <a id="24762" class="Symbol">{</a><a id="24763" href="/part0/vector/#24763" class="Bound">ℓ</a><a id="24764" class="Symbol">}</a> <a id="24766" class="Symbol">{</a><a id="24767" href="/part0/vector/#24767" class="Bound">n</a><a id="24768" class="Symbol">}</a> <a id="24770" class="Symbol">{</a><a id="24771" href="/part0/vector/#24771" class="Bound">A</a><a id="24772" class="Symbol">}}}</a> <a id="24776" class="Symbol">=</a> <a id="24778" href="/part0/vector/#24792" class="Function">go</a> <a id="24781" class="Keyword">where</a>

    <a id="24792" href="/part0/vector/#24792" class="Function">go</a> <a id="24795" class="Symbol">:</a> <a id="24797" class="Symbol">(</a><a id="24798" href="/part0/vector/#24798" class="Bound">xs</a> <a id="24801" class="Symbol">:</a> <a id="24803" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="24810" href="/part0/vector/#24771" class="Bound">A</a> <a id="24812" href="/part0/vector/#24767" class="Bound">n</a><a id="24813" class="Symbol">)</a> <a id="24815" class="Symbol">→</a> <a id="24817" class="Symbol">(</a><a id="24818" href="/part0/vector/#24818" class="Bound">ys</a> <a id="24821" class="Symbol">:</a> <a id="24823" href="/part0/vector/#290" class="Datatype">Vector</a> <a id="24830" href="/part0/vector/#24771" class="Bound">A</a> <a id="24832" href="/part0/vector/#24767" class="Bound">n</a><a id="24833" class="Symbol">)</a> <a id="24835" class="Symbol">→</a> <a id="24837" href="/part0/decidable/#193" class="Datatype">Dec</a> <a id="24841" class="Symbol">(</a><a id="24842" href="/part0/vector/#24798" class="Bound">xs</a> <a id="24845" href="/part0/eq/#174" class="Datatype Operator">≡</a> <a id="24847" href="/part0/vector/#24818" class="Bound">ys</a><a id="24849" class="Symbol">)</a>
    <a id="24855" href="/part0/vector/#24792" class="Function">go</a> <a id="24858" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="24860" href="/part0/vector/#333" class="InductiveConstructor">ε</a> <a id="24862" class="Symbol">=</a> <a id="24864" href="/part0/decidable/#238" class="InductiveConstructor">yes</a> <a id="24868" class="Symbol">{</a><a id="24869" class="Argument">proof</a> <a id="24875" class="Symbol">=</a> <a id="24877" href="/part0/eq/#222" class="InductiveConstructor">refl</a><a id="24881" class="Symbol">}</a>
    <a id="24887" href="/part0/vector/#24792" class="Function">go</a> <a id="24890" class="Symbol">(</a><a id="24891" href="/part0/vector/#24891" class="Bound">x</a> <a id="24893" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="24895" href="/part0/vector/#24895" class="Bound">xs</a><a id="24897" class="Symbol">)</a> <a id="24899" class="Symbol">(</a><a id="24900" href="/part0/vector/#24900" class="Bound">y</a> <a id="24902" href="/part0/vector/#353" class="InductiveConstructor Operator">∷</a> <a id="24904" href="/part0/vector/#24904" class="Bound">ys</a><a id="24906" class="Symbol">)</a> <a id="24908" class="Keyword">with</a> <a id="24913" href="/part0/vector/#24891" class="Bound">x</a> <a id="24915" href="/part0/eq/#2172" class="Field Operator">≡?</a> <a id="24918" href="/part0/vector/#24900" class="Bound">y</a>
    <a id="24924" class="Symbol">...</a> <a id="24928" class="Symbol">|</a> <a id="24930" href="/part0/decidable/#275" class="InductiveConstructor">no</a> <a id="24933" class="Symbol">{</a><a id="24934" href="/part0/vector/#24934" class="Bound">proof</a><a id="24939" class="Symbol">}</a> <a id="24941" class="Symbol">=</a> <a id="24943" href="/part0/decidable/#275" class="InductiveConstructor">no</a> <a id="24946" class="Symbol">{</a><a id="24947" class="Argument">proof</a> <a id="24953" class="Symbol">=</a> <a id="24955" class="Symbol">λ</a> <a id="24957" href="/part0/vector/#24957" class="Bound">p</a> <a id="24959" class="Symbol">→</a> <a id="24961" href="/part0/vector/#24934" class="Bound">proof</a> <a id="24967" class="Symbol">(</a><a id="24968" href="/part0/logic/#1240" class="Field">fst</a> <a id="24972" class="Symbol">(</a><a id="24973" href="/part0/vector/#23687" class="Function">vcons-≡1</a> <a id="24982" href="/part0/vector/#24957" class="Bound">p</a><a id="24983" class="Symbol">))}</a>
    <a id="24991" class="Symbol">...</a> <a id="24995" class="Symbol">|</a> <a id="24997" href="/part0/decidable/#238" class="InductiveConstructor">yes</a> <a id="25001" class="Symbol">{</a><a id="25002" class="Argument">proof</a> <a id="25008" class="Symbol">=</a> <a id="25010" href="/part0/eq/#222" class="InductiveConstructor">refl</a><a id="25014" class="Symbol">}</a> <a id="25016" class="Keyword">with</a> <a id="25021" class="Bound">xs</a> <a id="25024" href="/part0/eq/#2172" class="Field Operator">≡?</a> <a id="25027" class="Bound">ys</a>
    <a id="25034" class="Symbol">...</a> <a id="25038" class="Symbol">|</a> <a id="25040" href="/part0/decidable/#238" class="InductiveConstructor">yes</a> <a id="25044" class="Symbol">{</a><a id="25045" class="Argument">proof</a> <a id="25051" class="Symbol">=</a> <a id="25053" href="/part0/eq/#222" class="InductiveConstructor">refl</a><a id="25057" class="Symbol">}</a> <a id="25059" class="Symbol">=</a> <a id="25061" href="/part0/decidable/#238" class="InductiveConstructor">yes</a> <a id="25065" class="Symbol">{</a><a id="25066" class="Argument">proof</a> <a id="25072" class="Symbol">=</a> <a id="25074" href="/part0/eq/#222" class="InductiveConstructor">refl</a><a id="25078" class="Symbol">}</a>
    <a id="25084" class="Symbol">...</a> <a id="25088" class="Symbol">|</a> <a id="25090" href="/part0/decidable/#275" class="InductiveConstructor">no</a> <a id="25093" class="Symbol">{</a><a id="25094" href="/part0/vector/#25094" class="Bound">proof</a><a id="25099" class="Symbol">}</a> <a id="25101" class="Symbol">=</a> <a id="25103" href="/part0/decidable/#275" class="InductiveConstructor">no</a> <a id="25106" class="Symbol">{</a><a id="25107" class="Argument">proof</a> <a id="25113" class="Symbol">=</a> <a id="25115" class="Symbol">λ</a> <a id="25117" href="/part0/vector/#25117" class="Bound">p</a> <a id="25119" class="Symbol">→</a> <a id="25121" href="/part0/vector/#25094" class="Bound">proof</a> <a id="25127" class="Symbol">(</a><a id="25128" href="/part0/logic/#1252" class="Field">snd</a> <a id="25132" class="Symbol">(</a><a id="25133" href="/part0/vector/#23687" class="Function">vcons-≡1</a> <a id="25142" href="/part0/vector/#25117" class="Bound">p</a><a id="25143" class="Symbol">))}</a>
</pre>

    </div>
  
    <p style="text-align:center;">
    
    
    
    <a alt="Part" href="/part0/index/">Part</a>
    &bullet;
    
    
    <a alt="Source code" href="https://github.com/lclem/lia/blob/mainsrc/part0/vector.lagda.md">Source</a>
    
    
    
</p>

    <p class="p-name"> Last-modified: Nov  8 18:21:50 2020 </p>
  </article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Logic in Agda</h2><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Lorenzo Clemente</li>
          <li><a class="u-email" href="mailto:clementelorenzo@gmail.com">clementelorenzo@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/lclem"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">lclem</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
  </div>
</footer>

<!-- Parse the Latex divs with Katex
<script type="text/javascript">
  $("script[type='math/tex']").replaceWith(
    function(){
      var tex = $(this).text();
      return katex.renderToString(tex, {displayMode: false});
  });
  
  $("script[type='math/tex; mode=display']").replaceWith(
    function(){
      var tex = $(this).text();
      return katex.renderToString(tex.replace(/%.*/g, ''), {displayMode: true});
  });
</script>
-->

<script type="text/javascript" src="/assets/hidebox.js"></script>
</body>

</html>
