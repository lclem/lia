<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Higher-order recursion 🚧 | Logic in Agda</title><!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Higher-order recursion 🚧" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Propositional and fist-order logic developed with the proof assistant Agda." />
<meta property="og:description" content="Propositional and fist-order logic developed with the proof assistant Agda." />
<link rel="canonical" href="/lia/part5/HigherOrder/" />
<meta property="og:url" content="/lia/part5/HigherOrder/" />
<meta property="og:site_name" content="Logic in Agda" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Higher-order recursion 🚧" />
<script type="application/ld+json">
{"url":"/lia/part5/HigherOrder/","description":"Propositional and fist-order logic developed with the proof assistant Agda.","@type":"WebPage","headline":"Higher-order recursion 🚧","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/lia/assets/main.css">

  <!-- <link rel="stylesheet" href="/lia/assets/custom.css"> --><!-- Mathjax Support -->
  <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  <!-- Load KaTeX -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.js"></script>

<script type="text/x-thebe-config">
  {
    bootstrap: true,
    requestKernel: true,
    runAllCells: false,
    selector: "[data-executable]",
    predefinedOutput: false,
    codeMirrorConfig: {
        //theme: "idea",
        language: "agda",
        readOnly: false,
        lineNumbers: true,
        keyMap: "default",
//        gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
    },
    kernelOptions: {
        name: "agda",
        kernelName: "agda",
        path: "src/",
        loadFromStore: true,
        persistent: false,
        // notebook server configuration; not needed with binder
        serverSettings: {
              baseUrl: "http://127.0.0.1:8888",
              token: "test-secret",
            },
    },
    binderOptions: {
      repo: "lclem/lia", // need to put here the actual github repo (if it is a fork)
      ref: "main",
      binderUrl: "https://mybinder.org",
      repoProvider: "github",
      savedSession: {
        enabled: true,
        maxAge: 86400, // the max age in seconds to consider re-using a session
        storagePrefix: "thebe-binder-lia-"
      },
    },
  }
</script>

<!-- <script type="text/javascript" src="https://unpkg.com/thebelab@latest"></script> -->

<!-- our own version of the thebe library: -->
<script type="text/javascript" src="/lia/thebe/lib/index.js"></script>

<!-- highlighting for Agda -->
<script src="/lia/codemirror-agda/lib/index.js"></script>

</head>
<body><header class="site-header" id="site-header">

    <div class="wrapper">

        <a class="site-title" href="/lia/">Logic in Agda</a>

        <nav class="site-nav">
            <!-- <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                    <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                    <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                    <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
                </svg>
            </span> -->

            <div class="trigger">
                <a class="page-link" href="/lia/part0/index/">Part 0</a>
                <a class="page-link" href="/lia/part1/index/">Part 1</a>
                <a class="page-link" href="/lia/part2/index/">Part 2</a>
                <a class="page-link" href="/lia/part3/index/">Part 3</a>
                <a class="page-link" href="/lia/part4/index/">Part 4</a>
                <a class="page-link" href="/lia/part5/index/">Part 5</a>

                <span class="kernel-status">
                    <button class="kernel-status-button" onclick="kernel_status_clicked()" title="kernel status"></button>
                    <span id="kernel-messages" class="kernel-messages"></span>
                </span>

                <div id="connection_options" class="options sidebar" style="text-align: left; line-height: normal; max-width: 800px; padding: 10px; border-radius: 15px;">
                    <!-- display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: space-between; -->
                    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
                    <div>
                        <label for="username" style="color: white;">User:</label>
                        <input type="text" placeholder="github username" id="username" name="username">
                        <label for="password" style="color: white;">Password:</label>
                        <input type="password" placeholder="password" id="password" name="password">
                    </div>
                    <div>
                        <label for="loadFromStore" style="color: white;">Load code from browser store:</label>
                        <label class="switch" style="vertical-align: middle; margin: 10px;">
                            <input type="checkbox" id="loadFromStore" name="loadFromStore">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div>
                        <label for="baseUrl" style="color: white;">Base URL:</label>
                        <input type="text" placeholder="baseUrl" id="baseUrl" name="baseUrl" value="http://127.0.0.1:8888">
                        <label for="token" style="color: white;">Token:</label>
                        <input type="text" placeholder="token" id="token" name="token" value="test-secret">
                    </div>
                    <div>
                        <label for="useBinder" style="color: white;">Use binder:</label>
                        <label class="switch" style="vertical-align: middle; margin: 10px;">
                            <input type="checkbox" id="useBinder" name="useBinder">
                            <span class="slider round"></span>
                        </label>
                        <label for="savedSession" style="color: white;">Reuse session:</label>
                        <label class="switch" style="vertical-align: middle; margin: 10px;">
                            <input type="checkbox" id="savedSession" name="savedSession">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div>
                        <label for="repository" style="color: white;">Github repo:</label>
                        <input type="text" placeholder="repository" id="repository" name="repository" value="">

                        <label for="ref" style="color: white;">Branch:</label>
                        <input type="text" placeholder="ref" id="ref" name="ref" value="main">

                        <label for="binderUrl" style="color: white;">Binder URL:</label>                        
                        <input type="text" placeholder="binderUrl" id="binderUrl" name="binderUrl" value="https://mybinder.org">
                    </div>
                </div>

                <span class="control-container" id="control-container">
                    <svg class="progress-ring" id="progress-ring" width="30" height="30" title="exercise progress" onclick="kernel_status_clicked()">
                        <circle
                            id="progress-circle"
                            class="progress-ring__circle"
                            stroke="black"
                            stroke-width="2.5"
                            fill="transparent"
                            r="14"
                            cx="15"
                            cy="15"/>
                        <circle
                            stroke="lightgray"
                            stroke-width="0.5"
                            fill="transparent"
                            r="14"
                            cx="15"
                            cy="15"/>
                    </svg>
                    <div id="connection_options" class="options sidebar" style="text-align: left; line-height: normal; max-width: 800px; padding: 10px; border-radius: 15px;"></div>
                    <span class="progress-text" id="progress-text" onclick="kernel_status_clicked()"> 0/0 </span>

                    <span id="controls" class="controls">
                        <svg version="1.1" id="run-all" class="run-all" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                            width="15" height="15" viewBox="0 0 163.861 163.861" style="enable-background:new 0 0 163.861 163.861;"
                            xml:space="preserve">
                            <g>
                                <path d="M34.857,3.613C20.084-4.861,8.107,2.081,8.107,19.106v125.637c0,17.042,11.977,23.975,26.75,15.509L144.67,97.275
                                    c14.778-8.477,14.778-22.211,0-30.686L34.857,3.613z"/>
                            </g>
                        </svg>
                    </span>
                </span>
            </div>

            <style>
                .switch {
                    position: relative;
                    display: inline-block;
                    width: 40px;
                    height: 20px;
                }

                /* Hide default HTML checkbox */
                .switch input {
                    opacity: 0;
                    width: 0;
                    height: 0;
                }

                /* The slider */
                .slider {
                    position: absolute;
                    cursor: pointer;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background-color: #ccc;
                    -webkit-transition: .4s;
                    transition: .4s;
                }

                .slider:before {
                    position: absolute;
                    content: "";
                    height: 16px;
                    width: 16px;
                    left: 2px;
                    /* right: 4px; */
                    bottom: 2px;
                    top: 2px;
                    background-color: white;
                    -webkit-transition: .4s;
                    transition: .4s;
                }

                input:checked + .slider {
                    background-color: #2196F3;
                }

                input:focus + .slider {
                    box-shadow: 0 0 1px #2196F3;
                }

                input:checked + .slider:before {
                    -webkit-transform: translateX(18px);
                    -ms-transform: translateX(18px);
                    transform: translateX(18px);
                }

                /* Rounded sliders */
                .slider.round {
                    border-radius: 30px;
                }

                .slider.round:before {
                border-radius: 50%;
                }

                .sidebar input[type=text] {
                    padding: 6px;
                    margin-top: 8px;
                    /* font-size: 17px; */
                    border: none;
                    /* width: 150px; */
                }

                .sidebar {
                    /* height: 100%; */
                    width: 0;
                    position: fixed;
                    z-index: 1000;
                    top: 0;
                    right: 20px;
                    background-color: rgba(17, 17, 17, 0.637);
                    /* overflow-x: hidden; */
                    transition: 0.5s;
                    padding-top: 60px;
                    display: none;
                    margin-top: 60px;
                }

                .sidebar .closebtn {
                    position: absolute;
                    color: white;
                    top: 0;
                    right: 10px;
                    font-size: 24px;
                    margin-left: 20px;
                }

                .progress-ring, .run-all {
                    vertical-align: middle;
                }

                .control-container {
                    transition: all .2s ease-in-out;
                }

                .controls {
                    display: none;
                    opacity: 0;
                    margin-right: 10px;
                    transition: all .5s ease-in-out;
                }

                .run-all:hover {
                    filter: brightness(135%);
                }

                .progress-ring__circle {
                    transition: 0.35s stroke-dashoffset;
                    transform: rotate(-90deg);
                    transform-origin: 50% 50%;
                    visibility: hidden;
                }

                .progress-text {
                    position: relative;
                    top: 0;
                    left: -25px;
                    font-size: 8px;
                    vertical-align: middle;
                    align-self: center;
                }

                .progress-text:hover, .progress-ring:hover, .progress-ring__circle:hover, .run-all {
                    cursor: pointer;
                }
            </style>

            <script>

                //  var storedUsername = localStorage.getItem("username");
                //  localStorage.setItem("username", storedUsername.value);
            
                function doStore(input, key) {

                    if(input.type == "checkbox") {
                        var checked = localStorage.getItem(key);

                        if (checked == "yes") {
                            localStorage.setItem(key, "no");
                        }
                        else {
                            localStorage.setItem(key, "yes");
                        }

                        console.info("checked: ", localStorage.getItem(key));
                    }
                    else {
                        console.info("value: ", input.value);
                        localStorage.setItem(key, input.value);
                    }
                }

                function persistInput(input) {
                    var key = "input-" + input.id;
                    var storedValue = localStorage.getItem(key);
                
                    console.info("Persisting input: ", input);
                
                    // if there is a stored value, use it
                    if (storedValue) {

                        if(input.type != "password") {
                            console.info("restoring value ", storedValue, " for ", input);
                        }

                        if(input.type == "checkbox") {
                            if(storedValue=="yes") {
                                input.setAttribute("checked", "");
                            }
                            else {
                                input.removeAttribute("checked");
                            }
                        }
                        else {
                            input.value = storedValue;
                        }
                    }
                    // if there is no stored value, store the current value
                    else {
                        doStore(input, key);
                    }

                    input.addEventListener('input', function () {
                        console.info("input changed: key = ", key, "; value = ", input);
                        doStore(input, key);
                    });
                    }
                
                    persistInput(document.getElementById("username"));
                    persistInput(document.getElementById("password"));

                    persistInput(document.getElementById("loadFromStore"));

                    persistInput(document.getElementById("baseUrl"));
                    persistInput(document.getElementById("token"));

                    persistInput(document.getElementById("useBinder"));
                    persistInput(document.getElementById("savedSession"));
                    persistInput(document.getElementById("repository"));
                    persistInput(document.getElementById("ref"));
                    persistInput(document.getElementById("binderUrl"));

                    // init
                    document.getElementById("connection_options").style.display = "none";

                    function kernel_status_clicked() {
                
                        console.info("Clicked kernel status");

                        document.getElementById("kernel-messages").style.display = "none";

                        document.getElementById("connection_options").style.width = "750px";
                        document.getElementById("connection_options").style.display = "block";
                        //document.getElementById("header").style.marginLeft = "250px";

                    }

                    function closeNav() {

                        document.getElementById("kernel-messages").style.display = "inline";

                        document.getElementById("connection_options").style.width = "0";
                        document.getElementById("connection_options").style.display = "none";
                        //document.getElementById("header").style.marginLeft= "0";
                    }

                var prevScrollpos = window.pageYOffset;
                var header = document.getElementById("site-header");
                var boxShadow = header.style.boxShadow;

                window.onscroll = function() {
                    var currentScrollPos = window.pageYOffset;
                    // detect scroll down
                    if (prevScrollpos > currentScrollPos) {
                        header.style.top = "0";
                        header.style.boxShadow = boxShadow;
                        prevScrollpos = currentScrollPos;
                    } else if (prevScrollpos <= currentScrollPos) {
                        header.style.top = "-55px";
                        header.style.boxShadow = "none"
                        prevScrollpos = currentScrollPos;
                    }
                }

            let control_container = document.getElementById("control-container");
            let controls = document.getElementById("controls");

            control_container.addEventListener("mouseenter", function(event) {
                controls.style.display = "inline";
//                controls.style.visibility = "visible";
                controls.style.opacity = 1;
                console.info("mouseenter");
            }, false);

            control_container.addEventListener("mouseleave", function(event) {
                // controls.style.visibility = "hidden";
                // controls.style.display = "none";
                controls.style.opacity = 0;
                console.info("mouseleave");
            }, false);

            </script>
            
        </nav>

    </div>

</header><main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

    <header class="post-header">
        <h1 class="post-title">Higher-order recursion 🚧</h1>
    </header>
  
    <header class="nav-header">
    <p style="text-align:center;">
        
        
        
        <a alt="Part" href="/lia/part5/index/">Part</a>
        &bullet;
        
        
        <a alt="Source code" href="https://github.com/lclem/lia/blob/main/src/part5/HigherOrder.lagda.md">Source</a>
        
        
        
    </p>
</header>

  
    <div class="post-content">
        <h2>Contents</h2>    
        <ul id="toc" class="section-nav">
<li class="toc-entry toc-h1"><a href="#syntax">Syntax</a>
<ul>
<li class="toc-entry toc-h2"><a href="#types">Types</a></li>
<li class="toc-entry toc-h2"><a href="#expressions">Expressions</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#well-typed-expressions">Well-typed expressions</a>
<ul>
<li class="toc-entry toc-h2"><a href="#operational-approach">Operational approach</a></li>
<li class="toc-entry toc-h2"><a href="#denotational-approach">Denotational approach</a></li>
<li class="toc-entry toc-h2"><a href="#agreement">Agreement</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#eager-evaluation-with-dynamic-binding">Eager evaluation with dynamic binding</a>
<ul>
<li class="toc-entry toc-h2"><a href="#values">Values</a></li>
<li class="toc-entry toc-h2"><a href="#big-steps-operational-semantics">Big-steps operational semantics</a></li>
<li class="toc-entry toc-h2"><a href="#denotational-semantics">Denotational semantics</a></li>
<li class="toc-entry toc-h2"><a href="#agreement-of-the-operational-and-denotational-semantics">Agreement of the operational and denotational semantics</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#eager-evaluation-with-static-binding">Eager evaluation with static binding</a></li>
<li class="toc-entry toc-h1"><a href="#lazy-evaluation-with-dynamic-binding">Lazy evaluation with dynamic binding</a></li>
<li class="toc-entry toc-h1"><a href="#lazy-evaluation-with-static-binding">Lazy evaluation with static binding</a></li>
<li class="toc-entry toc-h1"><a href="#references">References</a></li>
</ul><pre class="Agda"><a id="48" class="Symbol">{-#</a> <a id="52" class="Keyword">OPTIONS</a> <a id="60" class="Pragma">--allow-unsolved-metas</a> <a id="83" class="Symbol">#-}</a>
<a id="87" class="Keyword">module</a> <a id="94" href="/lia/part5/HigherOrder/" class="Module">part5.HigherOrder</a> <a id="112" class="Keyword">where</a>
<a id="118" class="Keyword">open</a> <a id="123" class="Keyword">import</a> <a id="130" href="/lia/part0/index/" class="Module">part0.index</a> <a id="142" class="Keyword">hiding</a> <a id="149" class="Symbol">(</a><a id="150" href="/lia/part0/Naturals/#7367" class="Datatype">AExp</a><a id="154" class="Symbol">;</a> <a id="156" href="/lia/part0/Naturals/#7478" class="Function Operator">A⟦_⟧</a><a id="160" class="Symbol">;</a> <a id="162" href="/lia/part0/List/#23605" class="Function Operator">_≈_</a><a id="165" class="Symbol">;</a> <a id="167" href="/lia/part0/List/#31344" class="Datatype Operator">_⊑_</a><a id="170" class="Symbol">;</a> <a id="172" href="/lia/part0/Utils/#526" class="Function Operator">_$_</a><a id="175" class="Symbol">;</a> <a id="177" href="/lia/part0/List/#31665" class="Function">trans-⊑</a><a id="184" class="Symbol">;</a> <a id="186" href="/lia/part0/List/#31557" class="Function">refl-⊑</a><a id="192" class="Symbol">)</a> <a id="194" class="Keyword">renaming</a> <a id="203" class="Symbol">(</a><a id="204" href="/lia/part0/Naturals/#266" class="Primitive Operator">_+_</a> <a id="208" class="Symbol">to</a> <a id="Nat._+_"></a><a id="211" href="/lia/part5/HigherOrder/#211" class="Primitive Operator">_+ℕ_</a><a id="215" class="Symbol">;</a> <a id="217" href="/lia/part0/Naturals/#288" class="Primitive Operator">_*_</a> <a id="221" class="Symbol">to</a> <a id="Nat._*_"></a><a id="224" href="/lia/part5/HigherOrder/#224" class="Primitive Operator">_·ℕ_</a><a id="228" class="Symbol">;</a> <a id="230" href="/lia/part0/Naturals/#6765" class="Function Operator">_∸_</a> <a id="234" class="Symbol">to</a> <a id="_∸_"></a><a id="237" href="/lia/part5/HigherOrder/#237" class="Function Operator">_-ℕ_</a><a id="241" class="Symbol">;</a> <a id="243" href="/lia/part0/Naturals/#798" class="Datatype Operator">_≤_</a> <a id="247" class="Symbol">to</a> <a id="_≤_"></a><a id="250" href="/lia/part5/HigherOrder/#250" class="Datatype Operator">_≤ℕ_</a><a id="254" class="Symbol">)</a> <a id="256" class="Keyword">public</a>
<a id="263" class="Keyword">open</a> <a id="268" class="Keyword">import</a> <a id="275" href="/lia/part5/Maybe/" class="Module">part5.Maybe</a></pre>

<h1 id="syntax">
<a class="anchor" href="#syntax" aria-hidden="true"><span class="octicon octicon-link"></span></a>Syntax</h1>

<h2 id="types">
<a class="anchor" href="#types" aria-hidden="true"><span class="octicon octicon-link"></span></a>Types</h2>

<pre class="Agda"><a id="316" class="Keyword">data</a> <a id="Type"></a><a id="321" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a> <a id="326" class="Symbol">:</a> <a id="328" class="PrimitiveType">Set</a> <a id="332" class="Keyword">where</a>
  <a id="Type.Int"></a><a id="340" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="344" class="Symbol">:</a> <a id="346" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a>
  <a id="Type._*_"></a><a id="353" href="/lia/part5/HigherOrder/#353" class="InductiveConstructor Operator">_*_</a> <a id="Type._⟶_"></a><a id="357" href="/lia/part5/HigherOrder/#357" class="InductiveConstructor Operator">_⟶_</a> <a id="361" class="Symbol">:</a> <a id="363" class="Symbol">(</a><a id="364" href="/lia/part5/HigherOrder/#364" class="Bound">τ₀</a> <a id="367" href="/lia/part5/HigherOrder/#367" class="Bound">τ₁</a> <a id="370" class="Symbol">:</a> <a id="372" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a><a id="376" class="Symbol">)</a> <a id="378" class="Symbol">→</a> <a id="380" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a>

<a id="386" class="Keyword">private</a>
  <a id="396" class="Keyword">variable</a>
    <a id="409" href="/lia/part5/HigherOrder/#409" class="Generalizable">τ</a> <a id="411" href="/lia/part5/HigherOrder/#411" class="Generalizable">τ₀</a> <a id="414" href="/lia/part5/HigherOrder/#414" class="Generalizable">τ₁</a> <a id="417" class="Symbol">:</a> <a id="419" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a></pre>
<pre class="Agda"><a id="inj-*"></a><a id="433" href="/lia/part5/HigherOrder/#433" class="Function">inj-*</a> <a id="439" class="Symbol">:</a> <a id="441" href="/lia/part0/Equality/#1716" class="Function">Injective2</a> <a id="452" href="/lia/part5/HigherOrder/#353" class="InductiveConstructor Operator">_*_</a>
<a id="456" href="/lia/part5/HigherOrder/#433" class="Function">inj-*</a> <a id="462" class="Symbol">_</a> <a id="464" class="Symbol">_</a> <a id="466" class="Symbol">_</a> <a id="468" class="Symbol">_</a> <a id="470" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="475" class="Symbol">=</a> <a id="477" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="482" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="484" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="inj-⟶"></a><a id="490" href="/lia/part5/HigherOrder/#490" class="Function">inj-⟶</a> <a id="496" class="Symbol">:</a> <a id="498" href="/lia/part0/Equality/#1716" class="Function">Injective2</a> <a id="509" href="/lia/part5/HigherOrder/#357" class="InductiveConstructor Operator">_⟶_</a>
<a id="513" href="/lia/part5/HigherOrder/#490" class="Function">inj-⟶</a> <a id="519" class="Symbol">_</a> <a id="521" class="Symbol">_</a> <a id="523" class="Symbol">_</a> <a id="525" class="Symbol">_</a> <a id="527" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="532" class="Symbol">=</a> <a id="534" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="539" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="541" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

<h2 id="expressions">
<a class="anchor" href="#expressions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Expressions</h2>

<p>We essentially have a λY-calculus (simply typed lambda calculus with
fixpoints) with products with an ℕ base type.</p>

<pre class="Agda"><a id="VarName"></a><a id="688" href="/lia/part5/HigherOrder/#688" class="Function">VarName</a> <a id="696" class="Symbol">=</a> <a id="698" href="/lia/part0/Naturals/#301" class="Function">ℕ</a>

<a id="x₀"></a><a id="701" href="/lia/part5/HigherOrder/#701" class="Function">x₀</a> <a id="x₁"></a><a id="704" href="/lia/part5/HigherOrder/#704" class="Function">x₁</a> <a id="f₀"></a><a id="707" href="/lia/part5/HigherOrder/#707" class="Function">f₀</a> <a id="f₁"></a><a id="710" href="/lia/part5/HigherOrder/#710" class="Function">f₁</a> <a id="713" class="Symbol">:</a> <a id="715" href="/lia/part5/HigherOrder/#688" class="Function">VarName</a>
<a id="723" href="/lia/part5/HigherOrder/#701" class="Function">x₀</a> <a id="726" class="Symbol">=</a> <a id="728" class="Number">0</a>
<a id="730" href="/lia/part5/HigherOrder/#704" class="Function">x₁</a> <a id="733" class="Symbol">=</a> <a id="735" class="Number">1</a>
<a id="737" href="/lia/part5/HigherOrder/#707" class="Function">f₀</a> <a id="740" class="Symbol">=</a> <a id="742" class="Number">2</a>
<a id="744" href="/lia/part5/HigherOrder/#710" class="Function">f₁</a> <a id="747" class="Symbol">=</a> <a id="749" class="Number">3</a>

<a id="752" class="Keyword">data</a> <a id="Exp"></a><a id="757" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a> <a id="761" class="Symbol">:</a> <a id="763" class="PrimitiveType">Set</a> <a id="767" class="Keyword">where</a>

  <a id="Exp.#_"></a><a id="776" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#_</a> <a id="779" class="Symbol">:</a> <a id="781" class="Symbol">(</a><a id="782" href="/lia/part5/HigherOrder/#782" class="Bound">n</a> <a id="784" class="Symbol">:</a> <a id="786" href="/lia/part0/Naturals/#301" class="Function">ℕ</a><a id="787" class="Symbol">)</a> <a id="789" class="Symbol">→</a> <a id="791" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a>

  <a id="Exp.`_"></a><a id="798" href="/lia/part5/HigherOrder/#798" class="InductiveConstructor Operator">`_</a> <a id="801" class="Symbol">:</a> <a id="803" class="Symbol">(</a><a id="804" href="/lia/part5/HigherOrder/#804" class="Bound">x</a> <a id="806" class="Symbol">:</a> <a id="808" href="/lia/part5/HigherOrder/#688" class="Function">VarName</a><a id="815" class="Symbol">)</a> <a id="817" class="Symbol">→</a> <a id="819" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a>

  <a id="Exp._+_"></a><a id="826" href="/lia/part5/HigherOrder/#826" class="InductiveConstructor Operator">_+_</a> <a id="Exp._-_"></a><a id="830" href="/lia/part5/HigherOrder/#830" class="InductiveConstructor Operator">_-_</a> <a id="Exp._*_"></a><a id="834" href="/lia/part5/HigherOrder/#834" class="InductiveConstructor Operator">_*_</a> <a id="838" class="Symbol">:</a> <a id="840" class="Symbol">(</a><a id="841" href="/lia/part5/HigherOrder/#841" class="Bound">e₀</a> <a id="844" href="/lia/part5/HigherOrder/#844" class="Bound">e₁</a> <a id="847" class="Symbol">:</a> <a id="849" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a><a id="852" class="Symbol">)</a> <a id="854" class="Symbol">→</a> <a id="856" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a>

  <a id="Exp.If_Then_Else_"></a><a id="863" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">If_Then_Else_</a> <a id="877" class="Symbol">:</a> <a id="879" class="Symbol">(</a><a id="880" href="/lia/part5/HigherOrder/#880" class="Bound">e₀</a> <a id="883" href="/lia/part5/HigherOrder/#883" class="Bound">e₁</a> <a id="886" href="/lia/part5/HigherOrder/#886" class="Bound">e₂</a> <a id="889" class="Symbol">:</a> <a id="891" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a><a id="894" class="Symbol">)</a> <a id="896" class="Symbol">→</a> <a id="898" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a>

  <a id="Exp.⟨_,_⟩"></a><a id="905" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟨_,_⟩</a> <a id="911" class="Symbol">:</a> <a id="913" class="Symbol">(</a><a id="914" href="/lia/part5/HigherOrder/#914" class="Bound">e₀</a> <a id="917" href="/lia/part5/HigherOrder/#917" class="Bound">e₁</a> <a id="920" class="Symbol">:</a> <a id="922" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a><a id="925" class="Symbol">)</a> <a id="927" class="Symbol">→</a> <a id="929" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a>
  <a id="Exp.π₀_"></a><a id="935" href="/lia/part5/HigherOrder/#935" class="InductiveConstructor Operator">π₀_</a> <a id="Exp.π₁_"></a><a id="939" href="/lia/part5/HigherOrder/#939" class="InductiveConstructor Operator">π₁_</a> <a id="943" class="Symbol">:</a> <a id="945" class="Symbol">(</a><a id="946" href="/lia/part5/HigherOrder/#946" class="Bound">e</a> <a id="948" class="Symbol">:</a> <a id="950" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a><a id="953" class="Symbol">)</a> <a id="955" class="Symbol">→</a> <a id="957" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a>

  <a id="Exp.ƛ_·_"></a><a id="964" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ_·_</a> <a id="969" class="Symbol">:</a> <a id="971" class="Symbol">(</a><a id="972" href="/lia/part5/HigherOrder/#972" class="Bound">x</a> <a id="974" class="Symbol">:</a> <a id="976" href="/lia/part5/HigherOrder/#688" class="Function">VarName</a><a id="983" class="Symbol">)</a> <a id="985" class="Symbol">(</a><a id="986" href="/lia/part5/HigherOrder/#986" class="Bound">e</a> <a id="988" class="Symbol">:</a> <a id="990" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a><a id="993" class="Symbol">)</a> <a id="995" class="Symbol">→</a> <a id="997" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a>
  <a id="Exp._·_"></a><a id="1003" href="/lia/part5/HigherOrder/#1003" class="InductiveConstructor Operator">_·_</a> <a id="1007" class="Symbol">:</a> <a id="1009" class="Symbol">(</a><a id="1010" href="/lia/part5/HigherOrder/#1010" class="Bound">e₀</a> <a id="1013" href="/lia/part5/HigherOrder/#1013" class="Bound">e₁</a> <a id="1016" class="Symbol">:</a> <a id="1018" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a><a id="1021" class="Symbol">)</a> <a id="1023" class="Symbol">→</a> <a id="1025" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a>

  <a id="Exp.μ_·_"></a><a id="1032" href="/lia/part5/HigherOrder/#1032" class="InductiveConstructor Operator">μ_·_</a> <a id="1037" class="Symbol">:</a> <a id="1039" class="Symbol">(</a><a id="1040" href="/lia/part5/HigherOrder/#1040" class="Bound">f</a> <a id="1042" class="Symbol">:</a> <a id="1044" href="/lia/part5/HigherOrder/#688" class="Function">VarName</a><a id="1051" class="Symbol">)</a> <a id="1053" class="Symbol">(</a><a id="1054" href="/lia/part5/HigherOrder/#1054" class="Bound">e</a> <a id="1056" class="Symbol">:</a> <a id="1058" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a><a id="1061" class="Symbol">)</a> <a id="1063" class="Symbol">→</a> <a id="1065" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a>

<a id="1070" class="Keyword">infix</a> <a id="1076" class="Number">50</a> <a id="1079" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#_</a> <a id="1082" href="/lia/part5/HigherOrder/#798" class="InductiveConstructor Operator">`_</a>
<a id="1085" class="Keyword">infixl</a> <a id="1092" class="Number">25</a> <a id="1095" href="/lia/part5/HigherOrder/#826" class="InductiveConstructor Operator">_+_</a> <a id="1099" href="/lia/part5/HigherOrder/#830" class="InductiveConstructor Operator">_-_</a>
<a id="1103" class="Keyword">infixl</a> <a id="1110" class="Number">26</a> <a id="1113" href="/lia/part5/HigherOrder/#834" class="InductiveConstructor Operator">_*_</a>
<a id="1117" class="Keyword">infixl</a> <a id="1124" class="Number">30</a> <a id="1127" href="/lia/part5/HigherOrder/#1003" class="InductiveConstructor Operator">_·_</a>
<a id="1131" class="Keyword">infixr</a> <a id="1138" class="Number">20</a> <a id="1141" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">If_Then_Else_</a>
<a id="1155" class="Keyword">infixr</a> <a id="1162" class="Number">19</a> <a id="1165" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟨_,_⟩</a>
<a id="1171" class="Keyword">infixr</a> <a id="1178" class="Number">18</a> <a id="1181" href="/lia/part5/HigherOrder/#935" class="InductiveConstructor Operator">π₀_</a> <a id="1185" href="/lia/part5/HigherOrder/#939" class="InductiveConstructor Operator">π₁_</a>
<a id="1189" class="Keyword">infixr</a> <a id="1196" class="Number">17</a> <a id="1199" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ_·_</a> <a id="1204" href="/lia/part5/HigherOrder/#1032" class="InductiveConstructor Operator">μ_·_</a>

<a id="1210" class="Keyword">private</a>
  <a id="1220" class="Keyword">variable</a>
    <a id="1233" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a> <a id="1235" href="/lia/part5/HigherOrder/#1235" class="Generalizable">y</a> <a id="1237" href="/lia/part5/HigherOrder/#1237" class="Generalizable">f</a> <a id="1239" class="Symbol">:</a> <a id="1241" href="/lia/part5/HigherOrder/#688" class="Function">VarName</a>
    <a id="1253" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="1255" href="/lia/part5/HigherOrder/#1255" class="Generalizable">e′</a> <a id="1258" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="1261" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="1264" href="/lia/part5/HigherOrder/#1264" class="Generalizable">e₂</a> <a id="1267" class="Symbol">:</a> <a id="1269" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a>
    <a id="1277" href="/lia/part5/HigherOrder/#1277" class="Generalizable">k</a> <a id="1279" href="/lia/part5/HigherOrder/#1279" class="Generalizable">k′</a> <a id="1282" href="/lia/part5/HigherOrder/#1282" class="Generalizable">k₀</a> <a id="1285" href="/lia/part5/HigherOrder/#1285" class="Generalizable">k₁</a> <a id="1288" href="/lia/part5/HigherOrder/#1288" class="Generalizable">m</a> <a id="1290" href="/lia/part5/HigherOrder/#1290" class="Generalizable">n</a> <a id="1292" href="/lia/part5/HigherOrder/#1292" class="Generalizable">n₀</a> <a id="1295" href="/lia/part5/HigherOrder/#1295" class="Generalizable">n₁</a> <a id="1298" class="Symbol">:</a> <a id="1300" href="/lia/part0/Naturals/#301" class="Function">ℕ</a></pre>

<p>Example:</p>

<pre class="Agda"><a id="1321" class="Comment">-- factorial : Exp</a>
<a id="1340" class="Comment">-- factorial = μ f₀ · ƛ x₀ · (If (` x₀) Then (# 1) Else ((` x₀) * ((` f₀) · (` x₀ - (# 1)))))</a></pre>

<p>Free variables:</p>

<pre class="Agda"><a id="∅"></a><a id="1460" href="/lia/part5/HigherOrder/#1460" class="Function">∅</a> <a id="1462" class="Symbol">:</a> <a id="1464" href="/lia/part5/HigherOrder/#688" class="Function">VarName</a> <a id="1472" href="/lia/part0/List/#468" class="Datatype Operator">*</a>
<a id="1474" href="/lia/part5/HigherOrder/#1460" class="Function">∅</a> <a id="1476" class="Symbol">=</a> <a id="1478" href="/lia/part0/List/#505" class="InductiveConstructor">ε</a>

<a id="fv"></a><a id="1481" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1484" class="Symbol">:</a> <a id="1486" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a> <a id="1490" class="Symbol">→</a> <a id="1492" href="/lia/part5/HigherOrder/#688" class="Function">VarName</a> <a id="1500" href="/lia/part0/List/#468" class="Datatype Operator">*</a>
<a id="1502" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1505" class="Symbol">(</a><a id="1506" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="1508" href="/lia/part5/HigherOrder/#1508" class="Bound">n</a><a id="1509" class="Symbol">)</a> <a id="1511" class="Symbol">=</a> <a id="1513" href="/lia/part5/HigherOrder/#1460" class="Function">∅</a>
<a id="1515" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1518" class="Symbol">(</a><a id="1519" href="/lia/part5/HigherOrder/#798" class="InductiveConstructor Operator">`</a> <a id="1521" href="/lia/part5/HigherOrder/#1521" class="Bound">x</a><a id="1522" class="Symbol">)</a> <a id="1524" class="Symbol">=</a> <a id="1526" href="/lia/part0/List/#1792" class="Function">[</a> <a id="1528" href="/lia/part5/HigherOrder/#1521" class="Bound">x</a> <a id="1530" href="/lia/part0/List/#2043" class="Function Operator">]</a>
<a id="1532" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1535" class="Symbol">(</a><a id="1536" href="/lia/part5/HigherOrder/#1536" class="Bound">e₀</a> <a id="1539" href="/lia/part5/HigherOrder/#826" class="InductiveConstructor Operator">+</a> <a id="1541" href="/lia/part5/HigherOrder/#1541" class="Bound">e₁</a><a id="1543" class="Symbol">)</a> <a id="1545" class="Symbol">=</a> <a id="1547" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1550" href="/lia/part5/HigherOrder/#1536" class="Bound">e₀</a> <a id="1553" href="/lia/part0/List/#3100" class="Function Operator">++</a> <a id="1556" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1559" href="/lia/part5/HigherOrder/#1541" class="Bound">e₁</a>
<a id="1562" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1565" class="Symbol">(</a><a id="1566" href="/lia/part5/HigherOrder/#1566" class="Bound">e₀</a> <a id="1569" href="/lia/part5/HigherOrder/#830" class="InductiveConstructor Operator">-</a> <a id="1571" href="/lia/part5/HigherOrder/#1571" class="Bound">e₁</a><a id="1573" class="Symbol">)</a> <a id="1575" class="Symbol">=</a> <a id="1577" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1580" href="/lia/part5/HigherOrder/#1566" class="Bound">e₀</a> <a id="1583" href="/lia/part0/List/#3100" class="Function Operator">++</a> <a id="1586" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1589" href="/lia/part5/HigherOrder/#1571" class="Bound">e₁</a>
<a id="1592" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1595" class="Symbol">(</a><a id="1596" href="/lia/part5/HigherOrder/#1596" class="Bound">e₀</a> <a id="1599" href="/lia/part5/HigherOrder/#834" class="InductiveConstructor Operator">*</a> <a id="1601" href="/lia/part5/HigherOrder/#1601" class="Bound">e₁</a><a id="1603" class="Symbol">)</a> <a id="1605" class="Symbol">=</a> <a id="1607" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1610" href="/lia/part5/HigherOrder/#1596" class="Bound">e₀</a> <a id="1613" href="/lia/part0/List/#3100" class="Function Operator">++</a> <a id="1616" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1619" href="/lia/part5/HigherOrder/#1601" class="Bound">e₁</a>
<a id="1622" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1625" class="Symbol">(</a><a id="1626" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">If</a> <a id="1629" href="/lia/part5/HigherOrder/#1629" class="Bound">e₀</a> <a id="1632" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">Then</a> <a id="1637" href="/lia/part5/HigherOrder/#1637" class="Bound">e₁</a> <a id="1640" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">Else</a> <a id="1645" href="/lia/part5/HigherOrder/#1645" class="Bound">e₂</a><a id="1647" class="Symbol">)</a> <a id="1649" class="Symbol">=</a> <a id="1651" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1654" href="/lia/part5/HigherOrder/#1629" class="Bound">e₀</a> <a id="1657" href="/lia/part0/List/#3100" class="Function Operator">++</a> <a id="1660" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1663" href="/lia/part5/HigherOrder/#1637" class="Bound">e₁</a> <a id="1666" href="/lia/part0/List/#3100" class="Function Operator">++</a> <a id="1669" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1672" href="/lia/part5/HigherOrder/#1645" class="Bound">e₂</a>
<a id="1675" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1678" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟨</a> <a id="1680" href="/lia/part5/HigherOrder/#1680" class="Bound">e₀</a> <a id="1683" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">,</a> <a id="1685" href="/lia/part5/HigherOrder/#1685" class="Bound">e₁</a> <a id="1688" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟩</a> <a id="1690" class="Symbol">=</a> <a id="1692" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1695" href="/lia/part5/HigherOrder/#1680" class="Bound">e₀</a> <a id="1698" href="/lia/part0/List/#3100" class="Function Operator">++</a> <a id="1701" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1704" href="/lia/part5/HigherOrder/#1685" class="Bound">e₁</a>
<a id="1707" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1710" class="Symbol">(</a><a id="1711" href="/lia/part5/HigherOrder/#935" class="InductiveConstructor Operator">π₀</a> <a id="1714" href="/lia/part5/HigherOrder/#1714" class="Bound">e</a><a id="1715" class="Symbol">)</a> <a id="1717" class="Symbol">=</a> <a id="1719" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1722" href="/lia/part5/HigherOrder/#1714" class="Bound">e</a>
<a id="1724" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1727" class="Symbol">(</a><a id="1728" href="/lia/part5/HigherOrder/#939" class="InductiveConstructor Operator">π₁</a> <a id="1731" href="/lia/part5/HigherOrder/#1731" class="Bound">e</a><a id="1732" class="Symbol">)</a> <a id="1734" class="Symbol">=</a> <a id="1736" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1739" href="/lia/part5/HigherOrder/#1731" class="Bound">e</a>
<a id="1741" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1744" class="Symbol">(</a><a id="1745" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ</a> <a id="1747" href="/lia/part5/HigherOrder/#1747" class="Bound">x</a> <a id="1749" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">·</a> <a id="1751" href="/lia/part5/HigherOrder/#1751" class="Bound">e</a><a id="1752" class="Symbol">)</a> <a id="1754" class="Symbol">=</a> <a id="1756" href="/lia/part0/List/#4927" class="Function">remove</a> <a id="1763" href="/lia/part5/HigherOrder/#1747" class="Bound">x</a> <a id="1765" class="Symbol">(</a><a id="1766" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1769" href="/lia/part5/HigherOrder/#1751" class="Bound">e</a><a id="1770" class="Symbol">)</a>
<a id="1772" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1775" class="Symbol">(</a><a id="1776" href="/lia/part5/HigherOrder/#1776" class="Bound">e₀</a> <a id="1779" href="/lia/part5/HigherOrder/#1003" class="InductiveConstructor Operator">·</a> <a id="1781" href="/lia/part5/HigherOrder/#1781" class="Bound">e₁</a><a id="1783" class="Symbol">)</a> <a id="1785" class="Symbol">=</a> <a id="1787" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1790" href="/lia/part5/HigherOrder/#1776" class="Bound">e₀</a> <a id="1793" href="/lia/part0/List/#3100" class="Function Operator">++</a> <a id="1796" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1799" href="/lia/part5/HigherOrder/#1781" class="Bound">e₁</a>
<a id="1802" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1805" class="Symbol">(</a><a id="1806" href="/lia/part5/HigherOrder/#1032" class="InductiveConstructor Operator">μ</a> <a id="1808" href="/lia/part5/HigherOrder/#1808" class="Bound">f</a> <a id="1810" href="/lia/part5/HigherOrder/#1032" class="InductiveConstructor Operator">·</a> <a id="1812" href="/lia/part5/HigherOrder/#1812" class="Bound">e</a><a id="1813" class="Symbol">)</a> <a id="1815" class="Symbol">=</a> <a id="1817" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1820" href="/lia/part5/HigherOrder/#1812" class="Bound">e</a></pre>

<p>Closed expressions:</p>

<pre class="Agda"><a id="Closed"></a><a id="1852" href="/lia/part5/HigherOrder/#1852" class="Function">Closed</a> <a id="1859" class="Symbol">:</a> <a id="1861" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a> <a id="1865" class="Symbol">→</a> <a id="1867" class="PrimitiveType">Set</a>
<a id="1871" href="/lia/part5/HigherOrder/#1852" class="Function">Closed</a> <a id="1878" href="/lia/part5/HigherOrder/#1878" class="Bound">e</a> <a id="1880" class="Symbol">=</a> <a id="1882" href="/lia/part5/HigherOrder/#1481" class="Function">fv</a> <a id="1885" href="/lia/part5/HigherOrder/#1878" class="Bound">e</a> <a id="1887" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1889" href="/lia/part5/HigherOrder/#1460" class="Function">∅</a></pre>

<h1 id="well-typed-expressions">
<a class="anchor" href="#well-typed-expressions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Well-typed expressions</h1>

<pre class="Agda"><a id="TypeEnv"></a><a id="1926" href="/lia/part5/HigherOrder/#1926" class="Function">TypeEnv</a> <a id="1934" class="Symbol">=</a> <a id="1936" href="/lia/part5/HigherOrder/#688" class="Function">VarName</a> <a id="1944" class="Symbol">→</a> <a id="1946" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a></pre>

<p>Throughout the section, we assume for simplicity a fixed, global typing
environment.</p>

<pre class="Agda"><a id="2046" class="Keyword">postulate</a> <a id="ρ"></a><a id="2056" href="/lia/part5/HigherOrder/#2056" class="Postulate">ρ</a> <a id="2058" class="Symbol">:</a> <a id="2060" href="/lia/part5/HigherOrder/#1926" class="Function">TypeEnv</a></pre>

<h2 id="operational-approach">
<a class="anchor" href="#operational-approach" aria-hidden="true"><span class="octicon octicon-link"></span></a>Operational approach</h2>

<pre class="Agda"><a id="2103" class="Keyword">infix</a> <a id="2109" class="Number">11</a> <a id="2112" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">_∶_</a>
<a id="2116" class="Keyword">data</a> <a id="_∶_"></a><a id="2121" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">_∶_</a> <a id="2125" class="Symbol">:</a> <a id="2127" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a> <a id="2131" class="Symbol">→</a> <a id="2133" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a> <a id="2138" class="Symbol">→</a> <a id="2140" class="PrimitiveType">Set</a> <a id="2144" class="Keyword">where</a>

  <a id="_∶_.Var"></a><a id="2153" href="/lia/part5/HigherOrder/#2153" class="InductiveConstructor">Var</a> <a id="2157" class="Symbol">:</a> <a id="2159" href="/lia/part5/HigherOrder/#798" class="InductiveConstructor Operator">`</a> <a id="2161" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a> <a id="2163" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2165" href="/lia/part5/HigherOrder/#2056" class="Postulate">ρ</a> <a id="2167" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a>

  <a id="_∶_.Int"></a><a id="2172" href="/lia/part5/HigherOrder/#2172" class="InductiveConstructor">Int</a> <a id="2176" class="Symbol">:</a> <a id="2178" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="2180" href="/lia/part5/HigherOrder/#1290" class="Generalizable">n</a> <a id="2182" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2184" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a>

  <a id="_∶_.Add"></a><a id="2191" href="/lia/part5/HigherOrder/#2191" class="InductiveConstructor">Add</a> <a id="2195" class="Symbol">:</a>
    <a id="2201" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="2204" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2206" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="2210" class="Symbol">→</a>
    <a id="2216" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="2219" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2221" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="2225" class="Symbol">→</a>
    <a id="2231" class="Comment">-----------------</a>
    <a id="2253" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="2256" href="/lia/part5/HigherOrder/#826" class="InductiveConstructor Operator">+</a> <a id="2258" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="2261" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2263" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a>

  <a id="_∶_.Sub"></a><a id="2270" href="/lia/part5/HigherOrder/#2270" class="InductiveConstructor">Sub</a> <a id="2274" class="Symbol">:</a>
    <a id="2280" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="2283" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2285" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="2289" class="Symbol">→</a>
    <a id="2295" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="2298" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2300" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="2304" class="Symbol">→</a>
    <a id="2310" class="Comment">-----------------</a>
    <a id="2332" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="2335" href="/lia/part5/HigherOrder/#830" class="InductiveConstructor Operator">-</a> <a id="2337" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="2340" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2342" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a>

  <a id="_∶_.Mul"></a><a id="2349" href="/lia/part5/HigherOrder/#2349" class="InductiveConstructor">Mul</a> <a id="2353" class="Symbol">:</a>
    <a id="2359" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="2362" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2364" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="2368" class="Symbol">→</a>
    <a id="2374" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="2377" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2379" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="2383" class="Symbol">→</a>
    <a id="2389" class="Comment">-----------------</a>
    <a id="2411" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="2414" href="/lia/part5/HigherOrder/#834" class="InductiveConstructor Operator">*</a> <a id="2416" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="2419" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2421" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a>

  <a id="_∶_.ITE"></a><a id="2428" href="/lia/part5/HigherOrder/#2428" class="InductiveConstructor">ITE</a> <a id="2432" class="Symbol">:</a>
    <a id="2438" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="2441" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2443" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="2447" class="Symbol">→</a>
    <a id="2453" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="2456" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2458" href="/lia/part5/HigherOrder/#409" class="Generalizable">τ</a> <a id="2460" class="Symbol">→</a>
    <a id="2466" href="/lia/part5/HigherOrder/#1264" class="Generalizable">e₂</a> <a id="2469" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2471" href="/lia/part5/HigherOrder/#409" class="Generalizable">τ</a> <a id="2473" class="Symbol">→</a>
    <a id="2479" class="Comment">--------------------------</a>
    <a id="2510" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">If</a> <a id="2513" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="2516" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">Then</a> <a id="2521" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="2524" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">Else</a> <a id="2529" href="/lia/part5/HigherOrder/#1264" class="Generalizable">e₂</a> <a id="2532" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2534" href="/lia/part5/HigherOrder/#409" class="Generalizable">τ</a>

  <a id="_∶_.Prod"></a><a id="2539" href="/lia/part5/HigherOrder/#2539" class="InductiveConstructor">Prod</a> <a id="2544" class="Symbol">:</a>
    <a id="2550" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="2553" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2555" href="/lia/part5/HigherOrder/#411" class="Generalizable">τ₀</a> <a id="2558" class="Symbol">→</a>
    <a id="2564" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="2567" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2569" href="/lia/part5/HigherOrder/#414" class="Generalizable">τ₁</a> <a id="2572" class="Symbol">→</a>
    <a id="2578" class="Comment">--------------------------</a>
    <a id="2609" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟨</a> <a id="2611" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="2614" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">,</a> <a id="2616" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="2619" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟩</a> <a id="2621" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2623" href="/lia/part5/HigherOrder/#411" class="Generalizable">τ₀</a> <a id="2626" href="/lia/part5/HigherOrder/#353" class="InductiveConstructor Operator">*</a> <a id="2628" href="/lia/part5/HigherOrder/#414" class="Generalizable">τ₁</a>

  <a id="_∶_.Proj₀"></a><a id="2634" href="/lia/part5/HigherOrder/#2634" class="InductiveConstructor">Proj₀</a> <a id="2640" class="Symbol">:</a>
    <a id="2646" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="2648" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2650" href="/lia/part5/HigherOrder/#411" class="Generalizable">τ₀</a> <a id="2653" href="/lia/part5/HigherOrder/#353" class="InductiveConstructor Operator">*</a> <a id="2655" href="/lia/part5/HigherOrder/#414" class="Generalizable">τ₁</a> <a id="2658" class="Symbol">→</a>
    <a id="2664" class="Comment">-----------------</a>
    <a id="2686" href="/lia/part5/HigherOrder/#935" class="InductiveConstructor Operator">π₀</a> <a id="2689" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="2691" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2693" href="/lia/part5/HigherOrder/#411" class="Generalizable">τ₀</a>

  <a id="_∶_.Proj₁"></a><a id="2699" href="/lia/part5/HigherOrder/#2699" class="InductiveConstructor">Proj₁</a> <a id="2705" class="Symbol">:</a>
    <a id="2711" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="2713" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2715" href="/lia/part5/HigherOrder/#411" class="Generalizable">τ₀</a> <a id="2718" href="/lia/part5/HigherOrder/#353" class="InductiveConstructor Operator">*</a> <a id="2720" href="/lia/part5/HigherOrder/#414" class="Generalizable">τ₁</a> <a id="2723" class="Symbol">→</a>
    <a id="2729" class="Comment">-----------------</a>
    <a id="2751" href="/lia/part5/HigherOrder/#939" class="InductiveConstructor Operator">π₁</a> <a id="2754" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="2756" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2758" href="/lia/part5/HigherOrder/#414" class="Generalizable">τ₁</a>

  <a id="_∶_.Abs"></a><a id="2764" href="/lia/part5/HigherOrder/#2764" class="InductiveConstructor">Abs</a> <a id="2768" class="Symbol">:</a>
    <a id="2774" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="2776" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2778" href="/lia/part5/HigherOrder/#409" class="Generalizable">τ</a> <a id="2780" class="Symbol">→</a>
    <a id="2786" class="Comment">-------------------</a>
    <a id="2810" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ</a> <a id="2812" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a> <a id="2814" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">·</a> <a id="2816" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="2818" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2820" href="/lia/part5/HigherOrder/#2056" class="Postulate">ρ</a> <a id="2822" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a> <a id="2824" href="/lia/part5/HigherOrder/#357" class="InductiveConstructor Operator">⟶</a> <a id="2826" href="/lia/part5/HigherOrder/#409" class="Generalizable">τ</a>

  <a id="_∶_.App"></a><a id="2831" href="/lia/part5/HigherOrder/#2831" class="InductiveConstructor">App</a> <a id="2835" class="Symbol">:</a>
    <a id="2841" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="2844" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2846" href="/lia/part5/HigherOrder/#411" class="Generalizable">τ₀</a> <a id="2849" href="/lia/part5/HigherOrder/#357" class="InductiveConstructor Operator">⟶</a> <a id="2851" href="/lia/part5/HigherOrder/#414" class="Generalizable">τ₁</a> <a id="2854" class="Symbol">→</a>
    <a id="2860" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="2863" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2865" href="/lia/part5/HigherOrder/#411" class="Generalizable">τ₀</a> <a id="2868" class="Symbol">→</a>
    <a id="2874" class="Comment">------------------</a>
    <a id="2897" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="2900" href="/lia/part5/HigherOrder/#1003" class="InductiveConstructor Operator">·</a> <a id="2902" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="2905" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2907" href="/lia/part5/HigherOrder/#414" class="Generalizable">τ₁</a>

  <a id="_∶_.Fix"></a><a id="2913" href="/lia/part5/HigherOrder/#2913" class="InductiveConstructor">Fix</a> <a id="2917" class="Symbol">:</a>
    <a id="2923" href="/lia/part5/HigherOrder/#798" class="InductiveConstructor Operator">`</a> <a id="2925" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a> <a id="2927" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2929" href="/lia/part5/HigherOrder/#409" class="Generalizable">τ</a> <a id="2931" class="Symbol">→</a>
    <a id="2937" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="2939" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2941" href="/lia/part5/HigherOrder/#409" class="Generalizable">τ</a> <a id="2943" class="Symbol">→</a>
    <a id="2949" class="Comment">-----------</a>
    <a id="2965" href="/lia/part5/HigherOrder/#1032" class="InductiveConstructor Operator">μ</a> <a id="2967" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a> <a id="2969" href="/lia/part5/HigherOrder/#1032" class="InductiveConstructor Operator">·</a> <a id="2971" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="2973" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="2975" href="/lia/part5/HigherOrder/#409" class="Generalizable">τ</a></pre>

<p>One could prove that a terms gets at most one type (determinism) and
that moreover this type can be computed. % One could moreover prove that
typing is decidable, in fact we can do even better. % The following
section describes a denotational approach to typing, and one could prove
that it produces exactly the unique type defined in this section (if it
exists).</p>

<p>Inversion rules:</p>

<pre class="Agda"><a id="Prod-inv"></a><a id="3369" href="/lia/part5/HigherOrder/#3369" class="Function">Prod-inv</a> <a id="3378" class="Symbol">:</a>
  <a id="3382" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟨</a> <a id="3384" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="3387" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">,</a> <a id="3389" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="3392" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟩</a> <a id="3394" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="3396" href="/lia/part5/HigherOrder/#411" class="Generalizable">τ₀</a> <a id="3399" href="/lia/part5/HigherOrder/#353" class="InductiveConstructor Operator">*</a> <a id="3401" href="/lia/part5/HigherOrder/#414" class="Generalizable">τ₁</a> <a id="3404" class="Symbol">→</a>
  <a id="3408" class="Comment">-----------------------</a>
  <a id="3434" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="3437" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="3439" href="/lia/part5/HigherOrder/#411" class="Generalizable">τ₀</a> <a id="3442" href="/lia/part0/Logic/#1770" class="Record Operator">×</a> <a id="3444" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="3447" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="3449" href="/lia/part5/HigherOrder/#414" class="Generalizable">τ₁</a>

<a id="3453" href="/lia/part5/HigherOrder/#3369" class="Function">Prod-inv</a> <a id="3462" class="Symbol">(</a><a id="3463" href="/lia/part5/HigherOrder/#2539" class="InductiveConstructor">Prod</a> <a id="3468" href="/lia/part5/HigherOrder/#3468" class="Bound">δ₀</a> <a id="3471" href="/lia/part5/HigherOrder/#3471" class="Bound">δ₁</a><a id="3473" class="Symbol">)</a> <a id="3475" class="Symbol">=</a> <a id="3477" href="/lia/part5/HigherOrder/#3468" class="Bound">δ₀</a> <a id="3480" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="3482" href="/lia/part5/HigherOrder/#3471" class="Bound">δ₁</a>

<a id="Abs-inv"></a><a id="3486" href="/lia/part5/HigherOrder/#3486" class="Function">Abs-inv</a> <a id="3494" class="Symbol">:</a>
    <a id="3500" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ</a> <a id="3502" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a> <a id="3504" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">·</a> <a id="3506" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="3508" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="3510" href="/lia/part5/HigherOrder/#411" class="Generalizable">τ₀</a> <a id="3513" href="/lia/part5/HigherOrder/#357" class="InductiveConstructor Operator">⟶</a> <a id="3515" href="/lia/part5/HigherOrder/#414" class="Generalizable">τ₁</a> <a id="3518" class="Symbol">→</a>
    <a id="3524" class="Comment">-------------------</a>
    <a id="3548" href="/lia/part5/HigherOrder/#411" class="Generalizable">τ₀</a> <a id="3551" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3553" href="/lia/part5/HigherOrder/#2056" class="Postulate">ρ</a> <a id="3555" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a> <a id="3557" href="/lia/part0/Logic/#1770" class="Record Operator">×</a> <a id="3559" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="3561" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="3563" href="/lia/part5/HigherOrder/#414" class="Generalizable">τ₁</a>

<a id="3567" href="/lia/part5/HigherOrder/#3486" class="Function">Abs-inv</a> <a id="3575" class="Symbol">(</a><a id="3576" href="/lia/part5/HigherOrder/#2764" class="InductiveConstructor">Abs</a> <a id="3580" href="/lia/part5/HigherOrder/#3580" class="Bound">δ</a><a id="3581" class="Symbol">)</a> <a id="3583" class="Symbol">=</a> <a id="3585" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="3590" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="3592" href="/lia/part5/HigherOrder/#3580" class="Bound">δ</a></pre>

<h2 id="denotational-approach">
<a class="anchor" href="#denotational-approach" aria-hidden="true"><span class="octicon octicon-link"></span></a>Denotational approach</h2>

<pre class="Agda"><a id="Type⊥"></a><a id="3629" href="/lia/part5/HigherOrder/#3629" class="Function">Type⊥</a> <a id="3635" class="Symbol">=</a> <a id="3637" href="/lia/part5/Maybe/#386" class="Datatype">Maybe</a> <a id="3643" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a></pre>

<p>Types have a decidable equality:</p>

<pre class="Agda"><a id="_≟T_"></a><a id="3691" href="/lia/part5/HigherOrder/#3691" class="Function Operator">_≟T_</a> <a id="3696" class="Symbol">:</a> <a id="3698" href="/lia/part0/Decidable/#1547" class="Function">Decidable2</a> <a id="3709" class="Symbol">(</a><a id="3710" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a> <a id="3714" class="Symbol">{</a><a id="3715" class="Argument">A</a> <a id="3717" class="Symbol">=</a> <a id="3719" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a><a id="3723" class="Symbol">})</a>
<a id="3726" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="3730" href="/lia/part5/HigherOrder/#3691" class="Function Operator">≟T</a> <a id="3733" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="3737" class="Symbol">=</a> <a id="3739" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="3743" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="3748" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="3752" href="/lia/part5/HigherOrder/#3691" class="Function Operator">≟T</a> <a id="3755" class="Symbol">(_</a> <a id="3758" href="/lia/part5/HigherOrder/#353" class="InductiveConstructor Operator">*</a> <a id="3760" class="Symbol">_)</a> <a id="3763" class="Symbol">=</a> <a id="3765" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="3768" class="Symbol">λ</a> <a id="3770" class="Symbol">()</a>
<a id="3773" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="3777" href="/lia/part5/HigherOrder/#3691" class="Function Operator">≟T</a> <a id="3780" class="Symbol">(_</a> <a id="3783" href="/lia/part5/HigherOrder/#357" class="InductiveConstructor Operator">⟶</a> <a id="3785" class="Symbol">_)</a> <a id="3788" class="Symbol">=</a> <a id="3790" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="3793" class="Symbol">λ</a> <a id="3795" class="Symbol">()</a>
<a id="3798" class="Symbol">(_</a> <a id="3801" href="/lia/part5/HigherOrder/#353" class="InductiveConstructor Operator">*</a> <a id="3803" class="Symbol">_)</a> <a id="3806" href="/lia/part5/HigherOrder/#3691" class="Function Operator">≟T</a> <a id="3809" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="3813" class="Symbol">=</a> <a id="3815" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="3818" class="Symbol">λ</a> <a id="3820" class="Symbol">()</a>
<a id="3823" class="Symbol">(</a><a id="3824" href="/lia/part5/HigherOrder/#3824" class="Bound">a₀</a> <a id="3827" href="/lia/part5/HigherOrder/#353" class="InductiveConstructor Operator">*</a> <a id="3829" href="/lia/part5/HigherOrder/#3829" class="Bound">a₁</a><a id="3831" class="Symbol">)</a> <a id="3833" href="/lia/part5/HigherOrder/#3691" class="Function Operator">≟T</a> <a id="3836" class="Symbol">(</a><a id="3837" href="/lia/part5/HigherOrder/#3837" class="Bound">b₀</a> <a id="3840" href="/lia/part5/HigherOrder/#353" class="InductiveConstructor Operator">*</a> <a id="3842" href="/lia/part5/HigherOrder/#3842" class="Bound">b₁</a><a id="3844" class="Symbol">)</a> <a id="3846" class="Symbol">=</a> <a id="3848" href="/lia/part0/Decidable/#2140" class="Function">dec-iso</a> <a id="3856" class="Symbol">((</a><a id="3858" href="/lia/part5/HigherOrder/#3824" class="Bound">a₀</a> <a id="3861" href="/lia/part5/HigherOrder/#3691" class="Function Operator">≟T</a> <a id="3864" href="/lia/part5/HigherOrder/#3837" class="Bound">b₀</a><a id="3866" class="Symbol">)</a> <a id="3868" href="/lia/part0/Decidable/#628" class="Function Operator">×?</a> <a id="3871" class="Symbol">(</a><a id="3872" href="/lia/part5/HigherOrder/#3829" class="Bound">a₁</a> <a id="3875" href="/lia/part5/HigherOrder/#3691" class="Function Operator">≟T</a> <a id="3878" href="/lia/part5/HigherOrder/#3842" class="Bound">b₁</a><a id="3880" class="Symbol">))</a> <a id="3883" class="Symbol">(</a><a id="3884" href="/lia/part0/Equality/#1428" class="Function">cong2′</a> <a id="3891" href="/lia/part5/HigherOrder/#353" class="InductiveConstructor Operator">_*_</a> <a id="3895" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="3897" href="/lia/part0/Equality/#1903" class="Function">cong2-inv</a> <a id="3907" href="/lia/part5/HigherOrder/#433" class="Function">inj-*</a><a id="3912" class="Symbol">)</a>
<a id="3914" class="Symbol">(_</a> <a id="3917" href="/lia/part5/HigherOrder/#353" class="InductiveConstructor Operator">*</a> <a id="3919" class="Symbol">_)</a> <a id="3922" href="/lia/part5/HigherOrder/#3691" class="Function Operator">≟T</a> <a id="3925" class="Symbol">(_</a> <a id="3928" href="/lia/part5/HigherOrder/#357" class="InductiveConstructor Operator">⟶</a> <a id="3930" class="Symbol">_)</a> <a id="3933" class="Symbol">=</a> <a id="3935" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="3938" class="Symbol">λ</a> <a id="3940" class="Symbol">()</a>
<a id="3943" class="Symbol">(_</a> <a id="3946" href="/lia/part5/HigherOrder/#357" class="InductiveConstructor Operator">⟶</a> <a id="3948" class="Symbol">_)</a> <a id="3951" href="/lia/part5/HigherOrder/#3691" class="Function Operator">≟T</a> <a id="3954" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="3958" class="Symbol">=</a> <a id="3960" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="3963" class="Symbol">λ</a> <a id="3965" class="Symbol">()</a>
<a id="3968" class="Symbol">(_</a> <a id="3971" href="/lia/part5/HigherOrder/#357" class="InductiveConstructor Operator">⟶</a> <a id="3973" class="Symbol">_)</a> <a id="3976" href="/lia/part5/HigherOrder/#3691" class="Function Operator">≟T</a> <a id="3979" class="Symbol">(_</a> <a id="3982" href="/lia/part5/HigherOrder/#353" class="InductiveConstructor Operator">*</a> <a id="3984" class="Symbol">_)</a> <a id="3987" class="Symbol">=</a> <a id="3989" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="3992" class="Symbol">λ</a> <a id="3994" class="Symbol">()</a>
<a id="3997" class="Symbol">(</a><a id="3998" href="/lia/part5/HigherOrder/#3998" class="Bound">a₀</a> <a id="4001" href="/lia/part5/HigherOrder/#357" class="InductiveConstructor Operator">⟶</a> <a id="4003" href="/lia/part5/HigherOrder/#4003" class="Bound">a₁</a><a id="4005" class="Symbol">)</a> <a id="4007" href="/lia/part5/HigherOrder/#3691" class="Function Operator">≟T</a> <a id="4010" class="Symbol">(</a><a id="4011" href="/lia/part5/HigherOrder/#4011" class="Bound">b₀</a> <a id="4014" href="/lia/part5/HigherOrder/#357" class="InductiveConstructor Operator">⟶</a> <a id="4016" href="/lia/part5/HigherOrder/#4016" class="Bound">b₁</a><a id="4018" class="Symbol">)</a> <a id="4020" class="Symbol">=</a> <a id="4022" href="/lia/part0/Decidable/#2140" class="Function">dec-iso</a> <a id="4030" class="Symbol">((</a><a id="4032" href="/lia/part5/HigherOrder/#3998" class="Bound">a₀</a> <a id="4035" href="/lia/part5/HigherOrder/#3691" class="Function Operator">≟T</a> <a id="4038" href="/lia/part5/HigherOrder/#4011" class="Bound">b₀</a><a id="4040" class="Symbol">)</a> <a id="4042" href="/lia/part0/Decidable/#628" class="Function Operator">×?</a> <a id="4045" class="Symbol">(</a><a id="4046" href="/lia/part5/HigherOrder/#4003" class="Bound">a₁</a> <a id="4049" href="/lia/part5/HigherOrder/#3691" class="Function Operator">≟T</a> <a id="4052" href="/lia/part5/HigherOrder/#4016" class="Bound">b₁</a><a id="4054" class="Symbol">))</a> <a id="4057" class="Symbol">(</a><a id="4058" href="/lia/part0/Equality/#1428" class="Function">cong2′</a> <a id="4065" href="/lia/part5/HigherOrder/#357" class="InductiveConstructor Operator">_⟶_</a> <a id="4069" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="4071" href="/lia/part0/Equality/#1903" class="Function">cong2-inv</a> <a id="4081" href="/lia/part5/HigherOrder/#490" class="Function">inj-⟶</a><a id="4086" class="Symbol">)</a>

<a id="4089" class="Keyword">instance</a>
  <a id="eqT"></a><a id="4100" href="/lia/part5/HigherOrder/#4100" class="Function">eqT</a> <a id="4104" class="Symbol">:</a> <a id="4106" href="/lia/part0/Equality/#3515" class="Record">Eq</a> <a id="4109" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a>
  <a id="4116" href="/lia/part0/Equality/#3576" class="Field Operator">_≡?_</a> <a id="4121" class="Symbol">{{</a><a id="4123" href="/lia/part5/HigherOrder/#4100" class="Function">eqT</a><a id="4126" class="Symbol">}}</a> <a id="4129" class="Symbol">=</a> <a id="4131" href="/lia/part5/HigherOrder/#3691" class="Function Operator">_≟T_</a></pre>
<pre class="Agda"><a id="type-Int2"></a><a id="4145" href="/lia/part5/HigherOrder/#4145" class="Function">type-Int2</a> <a id="4155" class="Symbol">:</a> <a id="4157" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a> <a id="4162" class="Symbol">→</a> <a id="4164" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a> <a id="4169" class="Symbol">→</a> <a id="4171" href="/lia/part5/HigherOrder/#3629" class="Function">Type⊥</a>
<a id="4177" href="/lia/part5/HigherOrder/#4145" class="Function">type-Int2</a> <a id="4187" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="4191" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="4195" class="Symbol">=</a> <a id="4197" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="4199" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="4203" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="4205" href="/lia/part5/HigherOrder/#4145" class="CatchallClause Function">type-Int2</a><a id="4214" class="CatchallClause"> </a><a id="4215" class="CatchallClause Symbol">_</a><a id="4216" class="CatchallClause"> </a><a id="4217" class="CatchallClause Symbol">_</a> <a id="4219" class="Symbol">=</a> <a id="4221" href="/lia/part5/Maybe/#481" class="InductiveConstructor">⊥</a>

<a id="type-Int3"></a><a id="4224" href="/lia/part5/HigherOrder/#4224" class="Function">type-Int3</a> <a id="4234" class="Symbol">:</a> <a id="4236" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a> <a id="4241" class="Symbol">→</a> <a id="4243" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a> <a id="4248" class="Symbol">→</a> <a id="4250" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a> <a id="4255" class="Symbol">→</a> <a id="4257" href="/lia/part5/HigherOrder/#3629" class="Function">Type⊥</a>
<a id="4263" href="/lia/part5/HigherOrder/#4224" class="Function">type-Int3</a> <a id="4273" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="4277" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="4281" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="4285" class="Symbol">=</a> <a id="4287" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="4289" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="4293" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="4295" href="/lia/part5/HigherOrder/#4224" class="CatchallClause Function">type-Int3</a><a id="4304" class="CatchallClause"> </a><a id="4305" class="CatchallClause Symbol">_</a><a id="4306" class="CatchallClause"> </a><a id="4307" class="CatchallClause Symbol">_</a><a id="4308" class="CatchallClause"> </a><a id="4309" class="CatchallClause Symbol">_</a> <a id="4311" class="Symbol">=</a> <a id="4313" href="/lia/part5/Maybe/#481" class="InductiveConstructor">⊥</a>

<a id="type-Proj₀"></a><a id="4316" href="/lia/part5/HigherOrder/#4316" class="Function">type-Proj₀</a> <a id="4327" class="Symbol">:</a> <a id="4329" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a> <a id="4334" class="Symbol">→</a> <a id="4336" href="/lia/part5/HigherOrder/#3629" class="Function">Type⊥</a>
<a id="4342" href="/lia/part5/HigherOrder/#4316" class="Function">type-Proj₀</a> <a id="4353" class="Symbol">(</a><a id="4354" href="/lia/part5/HigherOrder/#4354" class="Bound">τ₀</a> <a id="4357" href="/lia/part5/HigherOrder/#353" class="InductiveConstructor Operator">*</a> <a id="4359" href="/lia/part5/HigherOrder/#4359" class="Bound">τ₁</a><a id="4361" class="Symbol">)</a> <a id="4363" class="Symbol">=</a> <a id="4365" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="4367" href="/lia/part5/HigherOrder/#4354" class="Bound">τ₀</a> <a id="4370" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="4372" href="/lia/part5/HigherOrder/#4316" class="CatchallClause Function">type-Proj₀</a><a id="4382" class="CatchallClause"> </a><a id="4383" class="CatchallClause Symbol">_</a> <a id="4385" class="Symbol">=</a> <a id="4387" href="/lia/part5/Maybe/#481" class="InductiveConstructor">⊥</a>

<a id="type-Proj₁"></a><a id="4390" href="/lia/part5/HigherOrder/#4390" class="Function">type-Proj₁</a> <a id="4401" class="Symbol">:</a> <a id="4403" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a> <a id="4408" class="Symbol">→</a> <a id="4410" href="/lia/part5/HigherOrder/#3629" class="Function">Type⊥</a>
<a id="4416" href="/lia/part5/HigherOrder/#4390" class="Function">type-Proj₁</a> <a id="4427" class="Symbol">(</a><a id="4428" href="/lia/part5/HigherOrder/#4428" class="Bound">τ₀</a> <a id="4431" href="/lia/part5/HigherOrder/#353" class="InductiveConstructor Operator">*</a> <a id="4433" href="/lia/part5/HigherOrder/#4433" class="Bound">τ₁</a><a id="4435" class="Symbol">)</a> <a id="4437" class="Symbol">=</a> <a id="4439" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="4441" href="/lia/part5/HigherOrder/#4433" class="Bound">τ₁</a> <a id="4444" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="4446" href="/lia/part5/HigherOrder/#4390" class="CatchallClause Function">type-Proj₁</a><a id="4456" class="CatchallClause"> </a><a id="4457" class="CatchallClause Symbol">_</a> <a id="4459" class="Symbol">=</a> <a id="4461" href="/lia/part5/Maybe/#481" class="InductiveConstructor">⊥</a>

<a id="type-Abs"></a><a id="4464" href="/lia/part5/HigherOrder/#4464" class="Function">type-Abs</a> <a id="4473" class="Symbol">:</a> <a id="4475" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a> <a id="4480" class="Symbol">→</a> <a id="4482" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a> <a id="4487" class="Symbol">→</a> <a id="4489" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a>
<a id="4494" href="/lia/part5/HigherOrder/#4464" class="Function">type-Abs</a> <a id="4503" href="/lia/part5/HigherOrder/#4503" class="Bound">τ₀</a> <a id="4506" href="/lia/part5/HigherOrder/#4506" class="Bound">τ₁</a> <a id="4509" class="Symbol">=</a> <a id="4511" href="/lia/part5/HigherOrder/#4503" class="Bound">τ₀</a> <a id="4514" href="/lia/part5/HigherOrder/#357" class="InductiveConstructor Operator">⟶</a> <a id="4516" href="/lia/part5/HigherOrder/#4506" class="Bound">τ₁</a>

<a id="type-App"></a><a id="4520" href="/lia/part5/HigherOrder/#4520" class="Function">type-App</a> <a id="4529" class="Symbol">:</a> <a id="4531" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a> <a id="4536" class="Symbol">→</a> <a id="4538" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a> <a id="4543" class="Symbol">→</a> <a id="4545" href="/lia/part5/HigherOrder/#3629" class="Function">Type⊥</a>
<a id="4551" href="/lia/part5/HigherOrder/#4520" class="Function">type-App</a> <a id="4560" class="Symbol">(</a><a id="4561" href="/lia/part5/HigherOrder/#4561" class="Bound">τ₀</a> <a id="4564" href="/lia/part5/HigherOrder/#357" class="InductiveConstructor Operator">⟶</a> <a id="4566" href="/lia/part5/HigherOrder/#4566" class="Bound">τ₁</a><a id="4568" class="Symbol">)</a> <a id="4570" href="/lia/part5/HigherOrder/#4570" class="Bound">τ₂</a>
  <a id="4575" class="Keyword">with</a> <a id="4580" href="/lia/part5/HigherOrder/#4570" class="Bound">τ₂</a> <a id="4583" href="/lia/part0/Equality/#3576" class="Field Operator">≡?</a> <a id="4586" href="/lia/part5/HigherOrder/#4561" class="Bound">τ₀</a>
<a id="4589" class="Symbol">...</a> <a id="4593" class="Symbol">|</a> <a id="4595" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="4599" class="Symbol">_</a> <a id="4601" class="Symbol">=</a> <a id="4603" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="4605" class="Bound">τ₁</a> <a id="4608" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="4610" class="Symbol">...</a> <a id="4614" class="Symbol">|</a> <a id="4616" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="4619" class="Symbol">_</a> <a id="4621" class="Symbol">=</a> <a id="4623" href="/lia/part5/Maybe/#481" class="InductiveConstructor">⊥</a>
<a id="4625" href="/lia/part5/HigherOrder/#4520" class="CatchallClause Function">type-App</a><a id="4633" class="CatchallClause"> </a><a id="4634" class="CatchallClause Symbol">_</a><a id="4635" class="CatchallClause"> </a><a id="4636" class="CatchallClause Symbol">_</a> <a id="4638" class="Symbol">=</a> <a id="4640" href="/lia/part5/Maybe/#481" class="InductiveConstructor">⊥</a>

<a id="type-Rec"></a><a id="4643" href="/lia/part5/HigherOrder/#4643" class="Function">type-Rec</a> <a id="4652" class="Symbol">:</a> <a id="4654" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a> <a id="4659" class="Symbol">→</a> <a id="4661" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a> <a id="4666" class="Symbol">→</a> <a id="4668" href="/lia/part5/HigherOrder/#3629" class="Function">Type⊥</a>
<a id="4674" href="/lia/part5/HigherOrder/#4643" class="Function">type-Rec</a> <a id="4683" href="/lia/part5/HigherOrder/#4683" class="Bound">τ</a><a id="4684" class="Symbol">@(</a><a id="4686" href="/lia/part5/HigherOrder/#4686" class="Bound">τ₀</a> <a id="4689" href="/lia/part5/HigherOrder/#357" class="InductiveConstructor Operator">⟶</a> <a id="4691" href="/lia/part5/HigherOrder/#4691" class="Bound">τ₁</a><a id="4693" class="Symbol">)</a> <a id="4695" href="/lia/part5/HigherOrder/#4695" class="Bound">τ′</a>
  <a id="4700" class="Keyword">with</a> <a id="4705" href="/lia/part5/HigherOrder/#4695" class="Bound">τ′</a> <a id="4708" href="/lia/part0/Equality/#3576" class="Field Operator">≡?</a> <a id="4711" href="/lia/part5/HigherOrder/#4683" class="Bound">τ</a>
<a id="4713" class="Symbol">...</a> <a id="4717" class="Symbol">|</a> <a id="4719" href="/lia/part0/Decidable/#186" class="InductiveConstructor">yes</a> <a id="4723" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="4728" class="Symbol">=</a> <a id="4730" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="4732" class="Bound">τ</a> <a id="4734" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="4736" class="Symbol">...</a> <a id="4740" class="Symbol">|</a> <a id="4742" href="/lia/part0/Decidable/#204" class="InductiveConstructor">no</a> <a id="4745" class="Symbol">_</a> <a id="4747" class="Symbol">=</a> <a id="4749" href="/lia/part5/Maybe/#481" class="InductiveConstructor">⊥</a>
<a id="4751" href="/lia/part5/HigherOrder/#4643" class="CatchallClause Function">type-Rec</a><a id="4759" class="CatchallClause"> </a><a id="4760" class="CatchallClause Symbol">_</a><a id="4761" class="CatchallClause"> </a><a id="4762" class="CatchallClause Symbol">_</a> <a id="4764" class="Symbol">=</a> <a id="4766" href="/lia/part5/Maybe/#481" class="InductiveConstructor">⊥</a></pre>
<pre class="Agda"><a id="4777" class="Keyword">infix</a> <a id="4783" class="Number">11</a> <a id="4786" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦_⟧_</a>
<a id="T⟦_⟧_"></a><a id="4792" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦_⟧_</a> <a id="4798" class="Symbol">:</a> <a id="4800" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a> <a id="4804" class="Symbol">→</a> <a id="4806" href="/lia/part5/HigherOrder/#1926" class="Function">TypeEnv</a> <a id="4814" class="Symbol">→</a> <a id="4816" href="/lia/part5/HigherOrder/#3629" class="Function">Type⊥</a>

<a id="4823" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="4826" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="4828" href="/lia/part5/HigherOrder/#4828" class="Bound">n</a> <a id="4830" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="4832" href="/lia/part5/HigherOrder/#4832" class="Bound">ρ</a> <a id="4834" class="Symbol">=</a> <a id="4836" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="4838" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a> <a id="4842" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>

<a id="4845" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="4848" href="/lia/part5/HigherOrder/#798" class="InductiveConstructor Operator">`</a> <a id="4850" href="/lia/part5/HigherOrder/#4850" class="Bound">x</a> <a id="4852" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="4854" href="/lia/part5/HigherOrder/#4854" class="Bound">ρ</a> <a id="4856" class="Symbol">=</a> <a id="4858" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="4860" href="/lia/part5/HigherOrder/#4854" class="Bound">ρ</a> <a id="4862" href="/lia/part5/HigherOrder/#4850" class="Bound">x</a> <a id="4864" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>

<a id="4867" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="4870" href="/lia/part5/HigherOrder/#4870" class="Bound">e₀</a> <a id="4873" href="/lia/part5/HigherOrder/#826" class="InductiveConstructor Operator">+</a> <a id="4875" href="/lia/part5/HigherOrder/#4875" class="Bound">e₁</a> <a id="4878" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="4880" href="/lia/part5/HigherOrder/#4880" class="Bound">ρ</a> <a id="4882" class="Symbol">=</a> <a id="4884" href="/lia/part5/Maybe/#909" class="Function">lift2⊥</a> <a id="4891" href="/lia/part5/HigherOrder/#4145" class="Function">type-Int2</a> <a id="4901" class="Symbol">(</a><a id="4902" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="4905" href="/lia/part5/HigherOrder/#4870" class="Bound">e₀</a> <a id="4908" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="4910" href="/lia/part5/HigherOrder/#4880" class="Bound">ρ</a><a id="4911" class="Symbol">)</a> <a id="4913" class="Symbol">(</a><a id="4914" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="4917" href="/lia/part5/HigherOrder/#4875" class="Bound">e₁</a> <a id="4920" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="4922" href="/lia/part5/HigherOrder/#4880" class="Bound">ρ</a><a id="4923" class="Symbol">)</a>
<a id="4925" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="4928" href="/lia/part5/HigherOrder/#4928" class="Bound">e₀</a> <a id="4931" href="/lia/part5/HigherOrder/#830" class="InductiveConstructor Operator">-</a> <a id="4933" href="/lia/part5/HigherOrder/#4933" class="Bound">e₁</a> <a id="4936" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="4938" href="/lia/part5/HigherOrder/#4938" class="Bound">ρ</a> <a id="4940" class="Symbol">=</a> <a id="4942" href="/lia/part5/Maybe/#909" class="Function">lift2⊥</a> <a id="4949" href="/lia/part5/HigherOrder/#4145" class="Function">type-Int2</a> <a id="4959" class="Symbol">(</a><a id="4960" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="4963" href="/lia/part5/HigherOrder/#4928" class="Bound">e₀</a> <a id="4966" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="4968" href="/lia/part5/HigherOrder/#4938" class="Bound">ρ</a><a id="4969" class="Symbol">)</a> <a id="4971" class="Symbol">(</a><a id="4972" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="4975" href="/lia/part5/HigherOrder/#4933" class="Bound">e₁</a> <a id="4978" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="4980" href="/lia/part5/HigherOrder/#4938" class="Bound">ρ</a><a id="4981" class="Symbol">)</a>
<a id="4983" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="4986" href="/lia/part5/HigherOrder/#4986" class="Bound">e₀</a> <a id="4989" href="/lia/part5/HigherOrder/#834" class="InductiveConstructor Operator">*</a> <a id="4991" href="/lia/part5/HigherOrder/#4991" class="Bound">e₁</a> <a id="4994" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="4996" href="/lia/part5/HigherOrder/#4996" class="Bound">ρ</a> <a id="4998" class="Symbol">=</a> <a id="5000" href="/lia/part5/Maybe/#909" class="Function">lift2⊥</a> <a id="5007" href="/lia/part5/HigherOrder/#4145" class="Function">type-Int2</a> <a id="5017" class="Symbol">(</a><a id="5018" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="5021" href="/lia/part5/HigherOrder/#4986" class="Bound">e₀</a> <a id="5024" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="5026" href="/lia/part5/HigherOrder/#4996" class="Bound">ρ</a><a id="5027" class="Symbol">)</a> <a id="5029" class="Symbol">(</a><a id="5030" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="5033" href="/lia/part5/HigherOrder/#4991" class="Bound">e₁</a> <a id="5036" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="5038" href="/lia/part5/HigherOrder/#4996" class="Bound">ρ</a><a id="5039" class="Symbol">)</a>

<a id="5042" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="5045" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">If</a> <a id="5048" href="/lia/part5/HigherOrder/#5048" class="Bound">e₀</a> <a id="5051" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">Then</a> <a id="5056" href="/lia/part5/HigherOrder/#5056" class="Bound">e₁</a> <a id="5059" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">Else</a> <a id="5064" href="/lia/part5/HigherOrder/#5064" class="Bound">e₂</a> <a id="5067" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="5069" href="/lia/part5/HigherOrder/#5069" class="Bound">ρ</a> <a id="5071" class="Symbol">=</a> <a id="5073" href="/lia/part5/Maybe/#1030" class="Function">lift3⊥</a> <a id="5080" href="/lia/part5/HigherOrder/#4224" class="Function">type-Int3</a> <a id="5090" class="Symbol">(</a><a id="5091" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="5094" href="/lia/part5/HigherOrder/#5048" class="Bound">e₀</a> <a id="5097" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="5099" href="/lia/part5/HigherOrder/#5069" class="Bound">ρ</a><a id="5100" class="Symbol">)</a> <a id="5102" class="Symbol">(</a><a id="5103" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="5106" href="/lia/part5/HigherOrder/#5056" class="Bound">e₁</a> <a id="5109" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="5111" href="/lia/part5/HigherOrder/#5069" class="Bound">ρ</a><a id="5112" class="Symbol">)</a> <a id="5114" class="Symbol">(</a><a id="5115" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="5118" href="/lia/part5/HigherOrder/#5064" class="Bound">e₂</a> <a id="5121" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="5123" href="/lia/part5/HigherOrder/#5069" class="Bound">ρ</a><a id="5124" class="Symbol">)</a>

<a id="5127" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="5130" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟨</a> <a id="5132" href="/lia/part5/HigherOrder/#5132" class="Bound">e₀</a> <a id="5135" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">,</a> <a id="5137" href="/lia/part5/HigherOrder/#5137" class="Bound">e₁</a> <a id="5140" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟩</a> <a id="5142" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="5144" href="/lia/part5/HigherOrder/#5144" class="Bound">ρ</a> <a id="5146" class="Symbol">=</a> <a id="5148" href="/lia/part5/Maybe/#717" class="Function">lift2</a> <a id="5154" href="/lia/part5/HigherOrder/#353" class="InductiveConstructor Operator">_*_</a> <a id="5158" class="Symbol">(</a><a id="5159" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="5162" href="/lia/part5/HigherOrder/#5132" class="Bound">e₀</a> <a id="5165" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="5167" href="/lia/part5/HigherOrder/#5144" class="Bound">ρ</a><a id="5168" class="Symbol">)</a> <a id="5170" class="Symbol">(</a><a id="5171" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="5174" href="/lia/part5/HigherOrder/#5137" class="Bound">e₁</a> <a id="5177" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="5179" href="/lia/part5/HigherOrder/#5144" class="Bound">ρ</a><a id="5180" class="Symbol">)</a>

<a id="5183" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="5186" href="/lia/part5/HigherOrder/#935" class="InductiveConstructor Operator">π₀</a> <a id="5189" href="/lia/part5/HigherOrder/#5189" class="Bound">e</a> <a id="5191" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="5193" href="/lia/part5/HigherOrder/#5193" class="Bound">ρ</a> <a id="5195" class="Symbol">=</a> <a id="5197" href="/lia/part5/Maybe/#832" class="Function">lift⊥</a> <a id="5203" href="/lia/part5/HigherOrder/#4316" class="Function">type-Proj₀</a> <a id="5214" class="Symbol">(</a><a id="5215" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="5218" href="/lia/part5/HigherOrder/#5189" class="Bound">e</a> <a id="5220" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="5222" href="/lia/part5/HigherOrder/#5193" class="Bound">ρ</a><a id="5223" class="Symbol">)</a>
<a id="5225" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="5228" href="/lia/part5/HigherOrder/#939" class="InductiveConstructor Operator">π₁</a> <a id="5231" href="/lia/part5/HigherOrder/#5231" class="Bound">e</a> <a id="5233" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="5235" href="/lia/part5/HigherOrder/#5235" class="Bound">ρ</a> <a id="5237" class="Symbol">=</a> <a id="5239" href="/lia/part5/Maybe/#832" class="Function">lift⊥</a> <a id="5245" href="/lia/part5/HigherOrder/#4390" class="Function">type-Proj₁</a> <a id="5256" class="Symbol">(</a><a id="5257" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="5260" href="/lia/part5/HigherOrder/#5231" class="Bound">e</a> <a id="5262" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="5264" href="/lia/part5/HigherOrder/#5235" class="Bound">ρ</a><a id="5265" class="Symbol">)</a>

<a id="5268" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="5271" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ</a> <a id="5273" href="/lia/part5/HigherOrder/#5273" class="Bound">x</a> <a id="5275" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">·</a> <a id="5277" href="/lia/part5/HigherOrder/#5277" class="Bound">e</a> <a id="5279" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="5281" href="/lia/part5/HigherOrder/#5281" class="Bound">ρ</a> <a id="5283" class="Symbol">=</a> <a id="5285" href="/lia/part5/Maybe/#645" class="Function">lift</a> <a id="5290" class="Symbol">(</a><a id="5291" href="/lia/part5/HigherOrder/#4464" class="Function">type-Abs</a> <a id="5300" class="Symbol">(</a><a id="5301" href="/lia/part5/HigherOrder/#5281" class="Bound">ρ</a> <a id="5303" href="/lia/part5/HigherOrder/#5273" class="Bound">x</a><a id="5304" class="Symbol">))</a> <a id="5307" class="Symbol">(</a><a id="5308" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="5311" href="/lia/part5/HigherOrder/#5277" class="Bound">e</a> <a id="5313" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="5315" href="/lia/part5/HigherOrder/#5281" class="Bound">ρ</a><a id="5316" class="Symbol">)</a>
<a id="5318" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="5321" href="/lia/part5/HigherOrder/#5321" class="Bound">e₀</a> <a id="5324" href="/lia/part5/HigherOrder/#1003" class="InductiveConstructor Operator">·</a> <a id="5326" href="/lia/part5/HigherOrder/#5326" class="Bound">e₁</a> <a id="5329" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="5331" href="/lia/part5/HigherOrder/#5331" class="Bound">ρ</a> <a id="5333" class="Symbol">=</a> <a id="5335" href="/lia/part5/Maybe/#909" class="Function">lift2⊥</a> <a id="5342" href="/lia/part5/HigherOrder/#4520" class="Function">type-App</a> <a id="5351" class="Symbol">(</a><a id="5352" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="5355" href="/lia/part5/HigherOrder/#5321" class="Bound">e₀</a> <a id="5358" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="5360" href="/lia/part5/HigherOrder/#5331" class="Bound">ρ</a><a id="5361" class="Symbol">)</a> <a id="5363" class="Symbol">(</a><a id="5364" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="5367" href="/lia/part5/HigherOrder/#5326" class="Bound">e₁</a> <a id="5370" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="5372" href="/lia/part5/HigherOrder/#5331" class="Bound">ρ</a><a id="5373" class="Symbol">)</a>

<a id="5376" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="5379" href="/lia/part5/HigherOrder/#1032" class="InductiveConstructor Operator">μ</a> <a id="5381" href="/lia/part5/HigherOrder/#5381" class="Bound">f</a> <a id="5383" href="/lia/part5/HigherOrder/#1032" class="InductiveConstructor Operator">·</a> <a id="5385" href="/lia/part5/HigherOrder/#5385" class="Bound">e</a> <a id="5387" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="5389" href="/lia/part5/HigherOrder/#5389" class="Bound">ρ</a> <a id="5391" class="Symbol">=</a> <a id="5393" href="/lia/part5/Maybe/#832" class="Function">lift⊥</a> <a id="5399" class="Symbol">(</a><a id="5400" href="/lia/part5/HigherOrder/#4643" class="Function">type-Rec</a> <a id="5409" class="Symbol">(</a><a id="5410" href="/lia/part5/HigherOrder/#5389" class="Bound">ρ</a> <a id="5412" href="/lia/part5/HigherOrder/#5381" class="Bound">f</a><a id="5413" class="Symbol">))</a> <a id="5416" class="Symbol">(</a><a id="5417" href="/lia/part5/HigherOrder/#4792" class="Function Operator">T⟦</a> <a id="5420" href="/lia/part5/HigherOrder/#5385" class="Bound">e</a> <a id="5422" href="/lia/part5/HigherOrder/#4792" class="Function Operator">⟧</a> <a id="5424" href="/lia/part5/HigherOrder/#5389" class="Bound">ρ</a><a id="5425" class="Symbol">)</a></pre>

<h2 id="agreement">
<a class="anchor" href="#agreement" aria-hidden="true"><span class="octicon octicon-link"></span></a>Agreement</h2>

<p>TODO</p>

<h1 id="eager-evaluation-with-dynamic-binding">
<a class="anchor" href="#eager-evaluation-with-dynamic-binding" aria-hidden="true"><span class="octicon octicon-link"></span></a>Eager evaluation with dynamic binding</h1>

<h2 id="values">
<a class="anchor" href="#values" aria-hidden="true"><span class="octicon octicon-link"></span></a>Values</h2>

<p>Canonical expressions describe what it means to be a value. In the case
of eager evaluation, canonical forms are numerals and well-formed
abstractions. Moreover, pairs of canonical expressions are again
canonical.</p>

<p>Notice that we allow canonical expressions to have free variables. These
free variables are interpreted according to dynamic binding.</p>

<pre class="Agda"><a id="5871" class="Keyword">infix</a> <a id="5877" class="Number">10</a> <a id="5880" href="/lia/part5/HigherOrder/#5898" class="Datatype Operator">Canonical_∶_</a>
<a id="5893" class="Keyword">data</a> <a id="Canonical_∶_"></a><a id="5898" href="/lia/part5/HigherOrder/#5898" class="Datatype Operator">Canonical_∶_</a> <a id="5911" class="Symbol">:</a> <a id="5913" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a> <a id="5917" class="Symbol">→</a> <a id="5919" href="/lia/part5/HigherOrder/#321" class="Datatype">Type</a> <a id="5924" class="Symbol">→</a> <a id="5926" class="PrimitiveType">Set</a> <a id="5930" class="Keyword">where</a>
  <a id="Canonical_∶_.Int"></a><a id="5938" href="/lia/part5/HigherOrder/#5938" class="InductiveConstructor">Int</a> <a id="5942" class="Symbol">:</a> <a id="5944" href="/lia/part5/HigherOrder/#5898" class="Datatype Operator">Canonical</a> <a id="5954" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="5956" href="/lia/part5/HigherOrder/#1290" class="Generalizable">n</a> <a id="5958" href="/lia/part5/HigherOrder/#5898" class="Datatype Operator">∶</a> <a id="5960" href="/lia/part5/HigherOrder/#340" class="InductiveConstructor">Int</a>
  <a id="Canonical_∶_.Abs"></a><a id="5966" href="/lia/part5/HigherOrder/#5966" class="InductiveConstructor">Abs</a> <a id="5970" class="Symbol">:</a> <a id="5972" class="Comment">{- Closed (ƛ x · e) → -}</a> <a id="5997" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ</a> <a id="5999" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a> <a id="6001" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">·</a> <a id="6003" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="6005" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="6007" href="/lia/part5/HigherOrder/#411" class="Generalizable">τ₀</a> <a id="6010" href="/lia/part5/HigherOrder/#357" class="InductiveConstructor Operator">⟶</a> <a id="6012" href="/lia/part5/HigherOrder/#414" class="Generalizable">τ₁</a> <a id="6015" class="Symbol">→</a> <a id="6017" href="/lia/part5/HigherOrder/#5898" class="Datatype Operator">Canonical</a> <a id="6027" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ</a> <a id="6029" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a> <a id="6031" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">·</a> <a id="6033" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="6035" href="/lia/part5/HigherOrder/#5898" class="Datatype Operator">∶</a> <a id="6037" href="/lia/part5/HigherOrder/#411" class="Generalizable">τ₀</a> <a id="6040" href="/lia/part5/HigherOrder/#357" class="InductiveConstructor Operator">⟶</a> <a id="6042" href="/lia/part5/HigherOrder/#414" class="Generalizable">τ₁</a>
  <a id="Canonical_∶_.Prod"></a><a id="6047" href="/lia/part5/HigherOrder/#6047" class="InductiveConstructor">Prod</a> <a id="6052" class="Symbol">:</a> <a id="6054" href="/lia/part5/HigherOrder/#5898" class="Datatype Operator">Canonical</a> <a id="6064" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="6067" href="/lia/part5/HigherOrder/#5898" class="Datatype Operator">∶</a> <a id="6069" href="/lia/part5/HigherOrder/#411" class="Generalizable">τ₀</a> <a id="6072" class="Symbol">→</a> <a id="6074" href="/lia/part5/HigherOrder/#5898" class="Datatype Operator">Canonical</a> <a id="6084" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="6087" href="/lia/part5/HigherOrder/#5898" class="Datatype Operator">∶</a> <a id="6089" href="/lia/part5/HigherOrder/#414" class="Generalizable">τ₁</a> <a id="6092" class="Symbol">→</a> <a id="6094" href="/lia/part5/HigherOrder/#5898" class="Datatype Operator">Canonical</a> <a id="6104" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟨</a> <a id="6106" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="6109" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">,</a> <a id="6111" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="6114" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟩</a> <a id="6116" href="/lia/part5/HigherOrder/#5898" class="Datatype Operator">∶</a> <a id="6118" href="/lia/part5/HigherOrder/#411" class="Generalizable">τ₀</a> <a id="6121" href="/lia/part5/HigherOrder/#353" class="InductiveConstructor Operator">*</a> <a id="6123" href="/lia/part5/HigherOrder/#414" class="Generalizable">τ₁</a></pre>

<p>Notice that <code class="language-plaintext highlighter-rouge">Canonical e ∶ τ</code> implies <code class="language-plaintext highlighter-rouge">e ∶ τ</code>, i.e., <code class="language-plaintext highlighter-rouge">e</code> has type <code class="language-plaintext highlighter-rouge">τ</code>
under environment <code class="language-plaintext highlighter-rouge">ρ</code>.</p>

<pre class="Agda"><a id="canonical→wf"></a><a id="6230" href="/lia/part5/HigherOrder/#6230" class="Function">canonical→wf</a> <a id="6243" class="Symbol">:</a> <a id="6245" href="/lia/part5/HigherOrder/#5898" class="Datatype Operator">Canonical</a> <a id="6255" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="6257" href="/lia/part5/HigherOrder/#5898" class="Datatype Operator">∶</a> <a id="6259" href="/lia/part5/HigherOrder/#409" class="Generalizable">τ</a> <a id="6261" class="Symbol">→</a> <a id="6263" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="6265" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="6267" href="/lia/part5/HigherOrder/#409" class="Generalizable">τ</a>
<a id="6269" href="/lia/part5/HigherOrder/#6230" class="Function">canonical→wf</a> <a id="6282" href="/lia/part5/HigherOrder/#5938" class="InductiveConstructor">Int</a> <a id="6286" class="Symbol">=</a> <a id="6288" href="/lia/part5/HigherOrder/#2172" class="InductiveConstructor">Int</a>
<a id="6292" href="/lia/part5/HigherOrder/#6230" class="Function">canonical→wf</a> <a id="6305" class="Symbol">(</a><a id="6306" href="/lia/part5/HigherOrder/#6047" class="InductiveConstructor">Prod</a> <a id="6311" href="/lia/part5/HigherOrder/#6311" class="Bound">c₀</a> <a id="6314" href="/lia/part5/HigherOrder/#6314" class="Bound">c₁</a><a id="6316" class="Symbol">)</a>
  <a id="6320" class="Keyword">with</a> <a id="6325" href="/lia/part5/HigherOrder/#6230" class="Function">canonical→wf</a> <a id="6338" href="/lia/part5/HigherOrder/#6311" class="Bound">c₀</a> <a id="6341" class="Symbol">|</a>
       <a id="6350" href="/lia/part5/HigherOrder/#6230" class="Function">canonical→wf</a> <a id="6363" href="/lia/part5/HigherOrder/#6314" class="Bound">c₁</a>
<a id="6366" class="Symbol">...</a> <a id="6370" class="Symbol">|</a> <a id="6372" href="/lia/part5/HigherOrder/#6372" class="Bound">ρ₀⊢e₀∶τ₀</a> <a id="6381" class="Symbol">|</a> <a id="6383" href="/lia/part5/HigherOrder/#6383" class="Bound">ρ₁⊢e₁∶τ₁</a> <a id="6392" class="Symbol">=</a> <a id="6394" href="/lia/part5/HigherOrder/#2539" class="InductiveConstructor">Prod</a> <a id="6399" href="/lia/part5/HigherOrder/#6372" class="Bound">ρ₀⊢e₀∶τ₀</a> <a id="6408" href="/lia/part5/HigherOrder/#6383" class="Bound">ρ₁⊢e₁∶τ₁</a>
<a id="6417" href="/lia/part5/HigherOrder/#6230" class="Function">canonical→wf</a> <a id="6430" class="Symbol">(</a><a id="6431" href="/lia/part5/HigherOrder/#5966" class="InductiveConstructor">Abs</a> <a id="6435" href="/lia/part5/HigherOrder/#6435" class="Bound">ρ⊢ƛx·e∶τ₀⟶τ₁</a><a id="6447" class="Symbol">)</a> <a id="6449" class="Symbol">=</a> <a id="6451" href="/lia/part5/HigherOrder/#6435" class="Bound">ρ⊢ƛx·e∶τ₀⟶τ₁</a></pre>

<p>There are several ways to evaluate a higher-order expression of the form
<code class="language-plaintext highlighter-rouge">(ƛ x · e₀) · e₁</code>. One way is to syntactically replace every free
occurrence of <code class="language-plaintext highlighter-rouge">x</code> in <code class="language-plaintext highlighter-rouge">e₀</code> by <code class="language-plaintext highlighter-rouge">e₁</code>. Since <code class="language-plaintext highlighter-rouge">e₁</code> may contain free variables
in general, this is problematic since every occurrence of a free
variable of <code class="language-plaintext highlighter-rouge">e₁</code> must remain free after the substitution. This can be
achieved in a number of different ways:</p>

<ol>
  <li>we could demand that <code class="language-plaintext highlighter-rouge">e₁</code> is closed, i.e., it does not have free
variables.</li>
  <li>we could rename <code class="language-plaintext highlighter-rouge">x</code> to be a fresh variable.</li>
  <li>we could delay the substitution up to until the point when it is
necessary.</li>
</ol>

<p>We chose the third approach. Here enter <em>closures</em>. …</p>

<h2 id="big-steps-operational-semantics">
<a class="anchor" href="#big-steps-operational-semantics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Big-steps operational semantics</h2>

<p>Note that there are no types and no closures in the rules below.</p>

<pre class="Agda"><a id="7226" class="Comment">--Value : Type → Set</a>
<a id="7247" class="Comment">--Value τ = ∃[ e ] Canonical e ∶ τ</a>
<a id="7282" class="Comment">-- Env = (x : VarName) → Value (ρ x)</a>
<a id="Env"></a><a id="7319" href="/lia/part5/HigherOrder/#7319" class="Function">Env</a> <a id="7323" class="Symbol">=</a> <a id="7325" href="/lia/part5/HigherOrder/#688" class="Function">VarName</a> <a id="7333" class="Symbol">→</a> <a id="7335" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a>

<a id="7340" class="Keyword">private</a>
  <a id="7350" class="Keyword">variable</a>
    <a id="7363" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="7365" class="Symbol">:</a> <a id="7367" href="/lia/part5/HigherOrder/#7319" class="Function">Env</a>
    <a id="7375" class="Comment">-- v : ∀ {τ} → Value τ</a>
    <a id="7402" href="/lia/part5/HigherOrder/#7402" class="Generalizable">u</a> <a id="7404" href="/lia/part5/HigherOrder/#7404" class="Generalizable">u₀</a> <a id="7407" href="/lia/part5/HigherOrder/#7407" class="Generalizable">u₁</a> <a id="7410" href="/lia/part5/HigherOrder/#7410" class="Generalizable">v</a> <a id="7412" href="/lia/part5/HigherOrder/#7412" class="Generalizable">v₀</a> <a id="7415" href="/lia/part5/HigherOrder/#7415" class="Generalizable">v₁</a> <a id="7418" class="Symbol">:</a> <a id="7420" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a></pre>
<pre class="Agda"><a id="7433" class="Keyword">infix</a> <a id="7439" class="Number">10</a> <a id="7442" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">_⊢_⇒_</a>
<a id="7448" class="Keyword">data</a> <a id="_⊢_⇒_"></a><a id="7453" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">_⊢_⇒_</a> <a id="7459" class="Symbol">:</a> <a id="7461" href="/lia/part5/HigherOrder/#7319" class="Function">Env</a> <a id="7465" class="Symbol">→</a> <a id="7467" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a> <a id="7471" class="Symbol">→</a> <a id="7473" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a> <a id="7477" class="Symbol">→</a> <a id="7479" class="PrimitiveType">Set</a> <a id="7483" class="Keyword">where</a>

  <a id="_⊢_⇒_.Int"></a><a id="7492" href="/lia/part5/HigherOrder/#7492" class="InductiveConstructor">Int</a> <a id="7496" class="Symbol">:</a> <a id="7498" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="7500" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="7502" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="7504" href="/lia/part5/HigherOrder/#1290" class="Generalizable">n</a> <a id="7506" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="7508" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="7510" href="/lia/part5/HigherOrder/#1290" class="Generalizable">n</a>

<a id="7513" class="Comment">--  Var : ϱ ⊢ ` x ⇒ let e , _ = ϱ x in e</a>
  <a id="_⊢_⇒_.Var"></a><a id="7556" href="/lia/part5/HigherOrder/#7556" class="InductiveConstructor">Var</a> <a id="7560" class="Symbol">:</a> <a id="7562" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="7564" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="7566" href="/lia/part5/HigherOrder/#798" class="InductiveConstructor Operator">`</a> <a id="7568" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a> <a id="7570" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="7572" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="7574" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a>

  <a id="_⊢_⇒_.Add"></a><a id="7579" href="/lia/part5/HigherOrder/#7579" class="InductiveConstructor">Add</a> <a id="7583" class="Symbol">:</a> <a id="7585" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="7587" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="7589" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="7592" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="7594" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="7596" href="/lia/part5/HigherOrder/#1292" class="Generalizable">n₀</a> <a id="7599" class="Symbol">→</a>
        <a id="7609" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="7611" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="7613" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="7616" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="7618" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="7620" href="/lia/part5/HigherOrder/#1295" class="Generalizable">n₁</a> <a id="7623" class="Symbol">→</a>
        <a id="7633" class="Comment">--------------------------</a>
        <a id="7668" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="7670" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="7672" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="7675" href="/lia/part5/HigherOrder/#826" class="InductiveConstructor Operator">+</a> <a id="7677" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="7680" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="7682" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="7684" class="Symbol">(</a><a id="7685" href="/lia/part5/HigherOrder/#1292" class="Generalizable">n₀</a> <a id="7688" href="/lia/part5/HigherOrder/#211" class="Primitive Operator">+ℕ</a> <a id="7691" href="/lia/part5/HigherOrder/#1295" class="Generalizable">n₁</a><a id="7693" class="Symbol">)</a>

  <a id="_⊢_⇒_.Sub"></a><a id="7698" href="/lia/part5/HigherOrder/#7698" class="InductiveConstructor">Sub</a> <a id="7702" class="Symbol">:</a> <a id="7704" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="7706" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="7708" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="7711" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="7713" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="7715" href="/lia/part5/HigherOrder/#1292" class="Generalizable">n₀</a> <a id="7718" class="Symbol">→</a>
        <a id="7728" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="7730" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="7732" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="7735" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="7737" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="7739" href="/lia/part5/HigherOrder/#1295" class="Generalizable">n₁</a> <a id="7742" class="Symbol">→</a>
        <a id="7752" class="Comment">--------------------------</a>
        <a id="7787" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="7789" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="7791" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="7794" href="/lia/part5/HigherOrder/#830" class="InductiveConstructor Operator">-</a> <a id="7796" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="7799" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="7801" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="7803" class="Symbol">(</a><a id="7804" href="/lia/part5/HigherOrder/#1292" class="Generalizable">n₀</a> <a id="7807" href="/lia/part5/HigherOrder/#237" class="Function Operator">-ℕ</a> <a id="7810" href="/lia/part5/HigherOrder/#1295" class="Generalizable">n₁</a><a id="7812" class="Symbol">)</a>

  <a id="_⊢_⇒_.Mul"></a><a id="7817" href="/lia/part5/HigherOrder/#7817" class="InductiveConstructor">Mul</a> <a id="7821" class="Symbol">:</a> <a id="7823" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="7825" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="7827" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="7830" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="7832" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="7834" href="/lia/part5/HigherOrder/#1292" class="Generalizable">n₀</a> <a id="7837" class="Symbol">→</a>
        <a id="7847" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="7849" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="7851" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="7854" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="7856" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="7858" href="/lia/part5/HigherOrder/#1295" class="Generalizable">n₁</a> <a id="7861" class="Symbol">→</a>
        <a id="7871" class="Comment">--------------------------</a>
        <a id="7906" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="7908" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="7910" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="7913" href="/lia/part5/HigherOrder/#834" class="InductiveConstructor Operator">*</a> <a id="7915" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="7918" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="7920" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="7922" class="Symbol">(</a><a id="7923" href="/lia/part5/HigherOrder/#1292" class="Generalizable">n₀</a> <a id="7926" href="/lia/part5/HigherOrder/#224" class="Primitive Operator">·ℕ</a> <a id="7929" href="/lia/part5/HigherOrder/#1295" class="Generalizable">n₁</a><a id="7931" class="Symbol">)</a>

  <a id="_⊢_⇒_.ITE-0"></a><a id="7936" href="/lia/part5/HigherOrder/#7936" class="InductiveConstructor">ITE-0</a> <a id="7942" class="Symbol">:</a> <a id="7944" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="7946" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="7948" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="7951" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="7953" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="7955" class="Number">0</a> <a id="7957" class="Symbol">→</a>
          <a id="7969" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="7971" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="7973" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="7976" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="7978" href="/lia/part5/HigherOrder/#7410" class="Generalizable">v</a> <a id="7980" class="Symbol">→</a>
          <a id="7992" class="Comment">-------------------------------</a>
          <a id="8034" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8036" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8038" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">If</a> <a id="8041" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="8044" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">Then</a> <a id="8049" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="8052" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">Else</a> <a id="8057" href="/lia/part5/HigherOrder/#1264" class="Generalizable">e₂</a> <a id="8060" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8062" href="/lia/part5/HigherOrder/#7410" class="Generalizable">v</a>

  <a id="_⊢_⇒_.ITE-suc"></a><a id="8067" href="/lia/part5/HigherOrder/#8067" class="InductiveConstructor">ITE-suc</a> <a id="8075" class="Symbol">:</a> <a id="8077" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8079" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8081" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="8084" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8086" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="8088" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="8092" href="/lia/part5/HigherOrder/#1288" class="Generalizable">m</a> <a id="8094" class="Symbol">→</a>
            <a id="8108" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8110" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8112" href="/lia/part5/HigherOrder/#1264" class="Generalizable">e₂</a> <a id="8115" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8117" href="/lia/part5/HigherOrder/#7410" class="Generalizable">v</a> <a id="8119" class="Symbol">→</a>
            <a id="8133" class="Comment">-------------------------------</a>
            <a id="8177" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8179" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8181" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">If</a> <a id="8184" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="8187" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">Then</a> <a id="8192" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="8195" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">Else</a> <a id="8200" href="/lia/part5/HigherOrder/#1264" class="Generalizable">e₂</a> <a id="8203" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8205" href="/lia/part5/HigherOrder/#7410" class="Generalizable">v</a>

  <a id="_⊢_⇒_.Prod"></a><a id="8210" href="/lia/part5/HigherOrder/#8210" class="InductiveConstructor">Prod</a> <a id="8215" class="Symbol">:</a> <a id="8217" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8219" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8221" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="8224" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8226" href="/lia/part5/HigherOrder/#7412" class="Generalizable">v₀</a> <a id="8229" class="Symbol">→</a>
         <a id="8240" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8242" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8244" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="8247" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8249" href="/lia/part5/HigherOrder/#7415" class="Generalizable">v₁</a> <a id="8252" class="Symbol">→</a>
         <a id="8263" class="Comment">-----------------------------</a>
         <a id="8302" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8304" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8306" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟨</a> <a id="8308" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="8311" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">,</a> <a id="8313" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="8316" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟩</a> <a id="8318" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8320" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟨</a> <a id="8322" href="/lia/part5/HigherOrder/#7412" class="Generalizable">v₀</a> <a id="8325" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">,</a> <a id="8327" href="/lia/part5/HigherOrder/#7415" class="Generalizable">v₁</a> <a id="8330" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟩</a>

  <a id="_⊢_⇒_.Proj₀"></a><a id="8335" href="/lia/part5/HigherOrder/#8335" class="InductiveConstructor">Proj₀</a> <a id="8341" class="Symbol">:</a> <a id="8343" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8345" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8347" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="8349" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8351" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟨</a> <a id="8353" href="/lia/part5/HigherOrder/#7412" class="Generalizable">v₀</a> <a id="8356" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">,</a> <a id="8358" href="/lia/part5/HigherOrder/#7415" class="Generalizable">v₁</a> <a id="8361" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟩</a> <a id="8363" class="Symbol">→</a>
          <a id="8375" class="Comment">---------------------</a>
          <a id="8407" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8409" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8411" href="/lia/part5/HigherOrder/#935" class="InductiveConstructor Operator">π₀</a> <a id="8414" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="8416" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8418" href="/lia/part5/HigherOrder/#7412" class="Generalizable">v₀</a>

  <a id="_⊢_⇒_.Proj₁"></a><a id="8424" href="/lia/part5/HigherOrder/#8424" class="InductiveConstructor">Proj₁</a> <a id="8430" class="Symbol">:</a> <a id="8432" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8434" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8436" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="8438" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8440" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟨</a> <a id="8442" href="/lia/part5/HigherOrder/#7412" class="Generalizable">v₀</a> <a id="8445" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">,</a> <a id="8447" href="/lia/part5/HigherOrder/#7415" class="Generalizable">v₁</a> <a id="8450" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟩</a> <a id="8452" class="Symbol">→</a>
          <a id="8464" class="Comment">---------------------</a>
          <a id="8496" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8498" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8500" href="/lia/part5/HigherOrder/#939" class="InductiveConstructor Operator">π₁</a> <a id="8503" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="8505" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8507" href="/lia/part5/HigherOrder/#7415" class="Generalizable">v₁</a>

  <a id="_⊢_⇒_.Abs"></a><a id="8513" href="/lia/part5/HigherOrder/#8513" class="InductiveConstructor">Abs</a> <a id="8517" class="Symbol">:</a> <a id="8519" class="Comment">---------------------</a>
        <a id="8549" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8551" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8553" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ</a> <a id="8555" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a> <a id="8557" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">·</a> <a id="8559" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="8561" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8563" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ</a> <a id="8565" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a> <a id="8567" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">·</a> <a id="8569" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a>

  <a id="_⊢_⇒_.App"></a><a id="8574" href="/lia/part5/HigherOrder/#8574" class="InductiveConstructor">App</a> <a id="8578" class="Symbol">:</a> <a id="8580" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8582" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8584" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="8587" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8589" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ</a> <a id="8591" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a> <a id="8593" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">·</a> <a id="8595" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="8597" class="Symbol">→</a>
        <a id="8607" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8609" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8611" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="8614" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8616" href="/lia/part5/HigherOrder/#7415" class="Generalizable">v₁</a> <a id="8619" class="Symbol">→</a>
        <a id="8629" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8631" href="/lia/part0/Functions/#570" class="Function Operator">[</a> <a id="8633" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a> <a id="8635" href="/lia/part0/Functions/#570" class="Function Operator">↦</a> <a id="8637" href="/lia/part5/HigherOrder/#7415" class="Generalizable">v₁</a> <a id="8640" href="/lia/part0/Functions/#570" class="Function Operator">]</a> <a id="8642" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8644" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="8646" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8648" href="/lia/part5/HigherOrder/#7410" class="Generalizable">v</a> <a id="8650" class="Symbol">→</a>
        <a id="8660" class="Comment">----------------------</a>
        <a id="8691" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8693" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8695" href="/lia/part5/HigherOrder/#1258" class="Generalizable">e₀</a> <a id="8698" href="/lia/part5/HigherOrder/#1003" class="InductiveConstructor Operator">·</a> <a id="8700" href="/lia/part5/HigherOrder/#1261" class="Generalizable">e₁</a> <a id="8703" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8705" href="/lia/part5/HigherOrder/#7410" class="Generalizable">v</a>

  <a id="_⊢_⇒_.Fix"></a><a id="8710" href="/lia/part5/HigherOrder/#8710" class="InductiveConstructor">Fix</a> <a id="8714" class="Symbol">:</a> <a id="8716" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8718" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8720" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="8722" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8724" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ</a> <a id="8726" href="/lia/part5/HigherOrder/#1235" class="Generalizable">y</a> <a id="8728" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">·</a> <a id="8730" href="/lia/part5/HigherOrder/#1255" class="Generalizable">e′</a> <a id="8733" class="Symbol">→</a>
        <a id="8743" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8745" href="/lia/part0/Functions/#570" class="Function Operator">[</a> <a id="8747" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a> <a id="8749" href="/lia/part0/Functions/#570" class="Function Operator">↦</a> <a id="8751" href="/lia/part5/HigherOrder/#1032" class="InductiveConstructor Operator">μ</a> <a id="8753" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a> <a id="8755" href="/lia/part5/HigherOrder/#1032" class="InductiveConstructor Operator">·</a> <a id="8757" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ</a> <a id="8759" href="/lia/part5/HigherOrder/#1235" class="Generalizable">y</a> <a id="8761" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">·</a> <a id="8763" href="/lia/part5/HigherOrder/#1255" class="Generalizable">e′</a> <a id="8766" href="/lia/part0/Functions/#570" class="Function Operator">]</a> <a id="8768" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8770" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="8772" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8774" href="/lia/part5/HigherOrder/#7410" class="Generalizable">v</a> <a id="8776" class="Symbol">→</a>
        <a id="8786" class="Comment">----------------------------------</a>
        <a id="8829" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8831" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8833" href="/lia/part5/HigherOrder/#1032" class="InductiveConstructor Operator">μ</a> <a id="8835" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a> <a id="8837" href="/lia/part5/HigherOrder/#1032" class="InductiveConstructor Operator">·</a> <a id="8839" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="8841" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8843" href="/lia/part5/HigherOrder/#7410" class="Generalizable">v</a></pre>

<p>TODO: Illustrate the dynamic binding aspect.</p>

<h3 id="deterministic-values">Deterministic values</h3>

<pre class="Agda"><a id="det"></a><a id="8926" href="/lia/part5/HigherOrder/#8926" class="Function">det</a> <a id="8930" class="Symbol">:</a> <a id="8932" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8934" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8936" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="8938" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8940" href="/lia/part5/HigherOrder/#7402" class="Generalizable">u</a> <a id="8942" class="Symbol">→</a>
      <a id="8950" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="8952" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="8954" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="8956" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="8958" href="/lia/part5/HigherOrder/#7410" class="Generalizable">v</a> <a id="8960" class="Symbol">→</a>
      <a id="8968" class="Comment">-----------</a>
      <a id="8986" href="/lia/part5/HigherOrder/#7402" class="Generalizable">u</a> <a id="8988" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="8990" href="/lia/part5/HigherOrder/#7410" class="Generalizable">v</a>

<a id="8993" href="/lia/part5/HigherOrder/#8926" class="Function">det</a> <a id="8997" href="/lia/part5/HigherOrder/#8997" class="Bound">δ</a> <a id="8999" href="/lia/part5/HigherOrder/#8999" class="Bound">σ</a> <a id="9001" class="Symbol">=</a> <a id="9003" class="Symbol">{!   !}</a></pre>

<h3 id="type-preservation">Type preservation</h3>

<pre class="Agda"><a id="Consistent_"></a><a id="9043" href="/lia/part5/HigherOrder/#9043" class="Function Operator">Consistent_</a> <a id="9055" class="Symbol">:</a> <a id="9057" href="/lia/part5/HigherOrder/#7319" class="Function">Env</a> <a id="9061" class="Symbol">→</a> <a id="9063" class="PrimitiveType">Set</a>
<a id="9067" href="/lia/part5/HigherOrder/#9043" class="Function Operator">Consistent</a> <a id="9078" href="/lia/part5/HigherOrder/#9078" class="Bound">ϱ</a> <a id="9080" class="Symbol">=</a> <a id="9082" class="Symbol">∀</a> <a id="9084" href="/lia/part5/HigherOrder/#9084" class="Bound">x</a> <a id="9086" class="Symbol">→</a> <a id="9088" href="/lia/part5/HigherOrder/#9078" class="Bound">ϱ</a> <a id="9090" href="/lia/part5/HigherOrder/#9084" class="Bound">x</a> <a id="9092" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="9094" href="/lia/part5/HigherOrder/#2056" class="Postulate">ρ</a> <a id="9096" href="/lia/part5/HigherOrder/#9084" class="Bound">x</a>

<a id="Consistent-preservation"></a><a id="9099" href="/lia/part5/HigherOrder/#9099" class="Function">Consistent-preservation</a> <a id="9123" class="Symbol">:</a>
  <a id="9127" href="/lia/part5/HigherOrder/#9043" class="Function Operator">Consistent</a> <a id="9138" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="9140" class="Symbol">→</a>
  <a id="9144" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="9146" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="9148" href="/lia/part5/HigherOrder/#2056" class="Postulate">ρ</a> <a id="9150" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a> <a id="9152" class="Symbol">→</a>
  <a id="9156" class="Comment">----------------------</a>
  <a id="9181" href="/lia/part5/HigherOrder/#9043" class="Function Operator">Consistent</a> <a id="9192" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="9194" href="/lia/part0/Functions/#570" class="Function Operator">[</a> <a id="9196" href="/lia/part5/HigherOrder/#1233" class="Generalizable">x</a> <a id="9198" href="/lia/part0/Functions/#570" class="Function Operator">↦</a> <a id="9200" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="9202" href="/lia/part0/Functions/#570" class="Function Operator">]</a>

<a id="9205" href="/lia/part5/HigherOrder/#9099" class="Function">Consistent-preservation</a> <a id="9229" href="/lia/part5/HigherOrder/#9229" class="Bound">cn</a> <a id="9232" href="/lia/part5/HigherOrder/#9232" class="Bound">δ</a> <a id="9234" class="Symbol">=</a> <a id="9236" class="Symbol">{!   !}</a>

<a id="preservation"></a><a id="9245" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="9258" class="Symbol">:</a>
  <a id="9262" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="9264" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="9266" href="/lia/part5/HigherOrder/#409" class="Generalizable">τ</a> <a id="9268" class="Symbol">→</a>
  <a id="9272" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="9274" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⊢</a> <a id="9276" href="/lia/part5/HigherOrder/#1253" class="Generalizable">e</a> <a id="9278" href="/lia/part5/HigherOrder/#7453" class="Datatype Operator">⇒</a> <a id="9280" href="/lia/part5/HigherOrder/#7410" class="Generalizable">v</a> <a id="9282" class="Symbol">→</a>
  <a id="9286" href="/lia/part5/HigherOrder/#9043" class="Function Operator">Consistent</a> <a id="9297" href="/lia/part5/HigherOrder/#7363" class="Generalizable">ϱ</a> <a id="9299" class="Symbol">→</a>
  <a id="9303" class="Comment">------------</a>
  <a id="9318" href="/lia/part5/HigherOrder/#7410" class="Generalizable">v</a> <a id="9320" href="/lia/part5/HigherOrder/#2121" class="Datatype Operator">∶</a> <a id="9322" href="/lia/part5/HigherOrder/#409" class="Generalizable">τ</a>

<a id="9325" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="9338" href="/lia/part5/HigherOrder/#2172" class="InductiveConstructor">Int</a> <a id="9342" href="/lia/part5/HigherOrder/#7492" class="InductiveConstructor">Int</a> <a id="9346" class="Symbol">_</a> <a id="9348" class="Symbol">=</a> <a id="9350" href="/lia/part5/HigherOrder/#2172" class="InductiveConstructor">Int</a>
<a id="9354" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="9367" class="Symbol">{</a><a id="9368" href="/lia/part5/HigherOrder/#798" class="InductiveConstructor Operator">`</a> <a id="9370" href="/lia/part5/HigherOrder/#9370" class="Bound">x</a><a id="9371" class="Symbol">}</a> <a id="9373" href="/lia/part5/HigherOrder/#2153" class="InductiveConstructor">Var</a> <a id="9377" href="/lia/part5/HigherOrder/#7556" class="InductiveConstructor">Var</a> <a id="9381" href="/lia/part5/HigherOrder/#9381" class="Bound">cn</a> <a id="9384" class="Symbol">=</a> <a id="9386" href="/lia/part5/HigherOrder/#9381" class="Bound">cn</a> <a id="9389" href="/lia/part5/HigherOrder/#9370" class="Bound">x</a>
<a id="9391" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="9404" class="Symbol">(</a><a id="9405" href="/lia/part5/HigherOrder/#2191" class="InductiveConstructor">Add</a> <a id="9409" href="/lia/part5/HigherOrder/#9409" class="Bound">δ</a> <a id="9411" href="/lia/part5/HigherOrder/#9411" class="Bound">δ₁</a><a id="9413" class="Symbol">)</a> <a id="9415" class="Symbol">(</a><a id="9416" href="/lia/part5/HigherOrder/#7579" class="InductiveConstructor">Add</a> <a id="9420" href="/lia/part5/HigherOrder/#9420" class="Bound">σ</a> <a id="9422" href="/lia/part5/HigherOrder/#9422" class="Bound">σ₁</a><a id="9424" class="Symbol">)</a> <a id="9426" href="/lia/part5/HigherOrder/#9426" class="Bound">cn</a> <a id="9429" class="Symbol">=</a> <a id="9431" href="/lia/part5/HigherOrder/#2172" class="InductiveConstructor">Int</a>
<a id="9435" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="9448" class="Symbol">(</a><a id="9449" href="/lia/part5/HigherOrder/#2270" class="InductiveConstructor">Sub</a> <a id="9453" href="/lia/part5/HigherOrder/#9453" class="Bound">δ</a> <a id="9455" href="/lia/part5/HigherOrder/#9455" class="Bound">δ₁</a><a id="9457" class="Symbol">)</a> <a id="9459" class="Symbol">(</a><a id="9460" href="/lia/part5/HigherOrder/#7698" class="InductiveConstructor">Sub</a> <a id="9464" href="/lia/part5/HigherOrder/#9464" class="Bound">σ</a> <a id="9466" href="/lia/part5/HigherOrder/#9466" class="Bound">σ₁</a><a id="9468" class="Symbol">)</a> <a id="9470" href="/lia/part5/HigherOrder/#9470" class="Bound">cn</a> <a id="9473" class="Symbol">=</a> <a id="9475" href="/lia/part5/HigherOrder/#2172" class="InductiveConstructor">Int</a>
<a id="9479" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="9492" class="Symbol">(</a><a id="9493" href="/lia/part5/HigherOrder/#2349" class="InductiveConstructor">Mul</a> <a id="9497" href="/lia/part5/HigherOrder/#9497" class="Bound">δ</a> <a id="9499" href="/lia/part5/HigherOrder/#9499" class="Bound">δ₁</a><a id="9501" class="Symbol">)</a> <a id="9503" class="Symbol">(</a><a id="9504" href="/lia/part5/HigherOrder/#7817" class="InductiveConstructor">Mul</a> <a id="9508" href="/lia/part5/HigherOrder/#9508" class="Bound">σ</a> <a id="9510" href="/lia/part5/HigherOrder/#9510" class="Bound">σ₁</a><a id="9512" class="Symbol">)</a> <a id="9514" href="/lia/part5/HigherOrder/#9514" class="Bound">cn</a> <a id="9517" class="Symbol">=</a> <a id="9519" href="/lia/part5/HigherOrder/#2172" class="InductiveConstructor">Int</a>
<a id="9523" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="9536" class="Symbol">(</a><a id="9537" href="/lia/part5/HigherOrder/#2428" class="InductiveConstructor">ITE</a> <a id="9541" href="/lia/part5/HigherOrder/#9541" class="Bound">δ₀</a> <a id="9544" href="/lia/part5/HigherOrder/#9544" class="Bound">δ₁</a> <a id="9547" href="/lia/part5/HigherOrder/#9547" class="Bound">δ₂</a><a id="9549" class="Symbol">)</a> <a id="9551" class="Symbol">(</a><a id="9552" href="/lia/part5/HigherOrder/#7936" class="InductiveConstructor">ITE-0</a> <a id="9558" href="/lia/part5/HigherOrder/#9558" class="Bound">σ₀</a> <a id="9561" href="/lia/part5/HigherOrder/#9561" class="Bound">σ₁</a><a id="9563" class="Symbol">)</a> <a id="9565" href="/lia/part5/HigherOrder/#9565" class="Bound">cn</a> <a id="9568" class="Symbol">=</a> <a id="9570" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="9583" href="/lia/part5/HigherOrder/#9544" class="Bound">δ₁</a> <a id="9586" href="/lia/part5/HigherOrder/#9561" class="Bound">σ₁</a> <a id="9589" href="/lia/part5/HigherOrder/#9565" class="Bound">cn</a>
<a id="9592" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="9605" class="Symbol">(</a><a id="9606" href="/lia/part5/HigherOrder/#2428" class="InductiveConstructor">ITE</a> <a id="9610" href="/lia/part5/HigherOrder/#9610" class="Bound">δ₀</a> <a id="9613" href="/lia/part5/HigherOrder/#9613" class="Bound">δ₁</a> <a id="9616" href="/lia/part5/HigherOrder/#9616" class="Bound">δ₂</a><a id="9618" class="Symbol">)</a> <a id="9620" class="Symbol">(</a><a id="9621" href="/lia/part5/HigherOrder/#8067" class="InductiveConstructor">ITE-suc</a> <a id="9629" href="/lia/part5/HigherOrder/#9629" class="Bound">σ₀</a> <a id="9632" href="/lia/part5/HigherOrder/#9632" class="Bound">σ₂</a><a id="9634" class="Symbol">)</a> <a id="9636" href="/lia/part5/HigherOrder/#9636" class="Bound">cn</a> <a id="9639" class="Symbol">=</a> <a id="9641" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="9654" href="/lia/part5/HigherOrder/#9616" class="Bound">δ₂</a> <a id="9657" href="/lia/part5/HigherOrder/#9632" class="Bound">σ₂</a> <a id="9660" href="/lia/part5/HigherOrder/#9636" class="Bound">cn</a>
<a id="9663" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="9676" class="Symbol">(</a><a id="9677" href="/lia/part5/HigherOrder/#2539" class="InductiveConstructor">Prod</a> <a id="9682" href="/lia/part5/HigherOrder/#9682" class="Bound">δ₀</a> <a id="9685" href="/lia/part5/HigherOrder/#9685" class="Bound">δ₁</a><a id="9687" class="Symbol">)</a> <a id="9689" class="Symbol">(</a><a id="9690" href="/lia/part5/HigherOrder/#8210" class="InductiveConstructor">Prod</a> <a id="9695" href="/lia/part5/HigherOrder/#9695" class="Bound">σ₀</a> <a id="9698" href="/lia/part5/HigherOrder/#9698" class="Bound">σ₁</a><a id="9700" class="Symbol">)</a> <a id="9702" href="/lia/part5/HigherOrder/#9702" class="Bound">cn</a> <a id="9705" class="Symbol">=</a> <a id="9707" href="/lia/part5/HigherOrder/#2539" class="InductiveConstructor">Prod</a> <a id="9712" class="Symbol">(</a><a id="9713" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="9726" href="/lia/part5/HigherOrder/#9682" class="Bound">δ₀</a> <a id="9729" href="/lia/part5/HigherOrder/#9695" class="Bound">σ₀</a> <a id="9732" href="/lia/part5/HigherOrder/#9702" class="Bound">cn</a><a id="9734" class="Symbol">)</a> <a id="9736" class="Symbol">(</a><a id="9737" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="9750" href="/lia/part5/HigherOrder/#9685" class="Bound">δ₁</a> <a id="9753" href="/lia/part5/HigherOrder/#9698" class="Bound">σ₁</a> <a id="9756" href="/lia/part5/HigherOrder/#9702" class="Bound">cn</a><a id="9758" class="Symbol">)</a>
<a id="9760" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="9773" class="Symbol">(</a><a id="9774" href="/lia/part5/HigherOrder/#2634" class="InductiveConstructor">Proj₀</a> <a id="9780" href="/lia/part5/HigherOrder/#9780" class="Bound">δ</a><a id="9781" class="Symbol">)</a> <a id="9783" class="Symbol">(</a><a id="9784" href="/lia/part5/HigherOrder/#8335" class="InductiveConstructor">Proj₀</a> <a id="9790" href="/lia/part5/HigherOrder/#9790" class="Bound">σ</a><a id="9791" class="Symbol">)</a> <a id="9793" href="/lia/part5/HigherOrder/#9793" class="Bound">cn</a> <a id="9796" class="Symbol">=</a> <a id="9798" class="Keyword">let</a> <a id="9802" href="/lia/part5/HigherOrder/#9802" class="Bound">r</a> <a id="9804" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="9806" class="Symbol">_</a> <a id="9808" class="Symbol">=</a> <a id="9810" href="/lia/part5/HigherOrder/#3369" class="Function">Prod-inv</a> <a id="9819" class="Symbol">(</a><a id="9820" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="9833" href="/lia/part5/HigherOrder/#9780" class="Bound">δ</a> <a id="9835" href="/lia/part5/HigherOrder/#9790" class="Bound">σ</a> <a id="9837" href="/lia/part5/HigherOrder/#9793" class="Bound">cn</a><a id="9839" class="Symbol">)</a> <a id="9841" class="Keyword">in</a> <a id="9844" href="/lia/part5/HigherOrder/#9802" class="Bound">r</a>
<a id="9846" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="9859" class="Symbol">(</a><a id="9860" href="/lia/part5/HigherOrder/#2699" class="InductiveConstructor">Proj₁</a> <a id="9866" href="/lia/part5/HigherOrder/#9866" class="Bound">δ</a><a id="9867" class="Symbol">)</a> <a id="9869" class="Symbol">(</a><a id="9870" href="/lia/part5/HigherOrder/#8424" class="InductiveConstructor">Proj₁</a> <a id="9876" href="/lia/part5/HigherOrder/#9876" class="Bound">σ</a><a id="9877" class="Symbol">)</a> <a id="9879" href="/lia/part5/HigherOrder/#9879" class="Bound">cn</a> <a id="9882" class="Symbol">=</a> <a id="9884" class="Keyword">let</a> <a id="9888" class="Symbol">_</a> <a id="9890" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="9892" href="/lia/part5/HigherOrder/#9892" class="Bound">r</a> <a id="9894" class="Symbol">=</a> <a id="9896" href="/lia/part5/HigherOrder/#3369" class="Function">Prod-inv</a> <a id="9905" class="Symbol">(</a><a id="9906" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="9919" href="/lia/part5/HigherOrder/#9866" class="Bound">δ</a> <a id="9921" href="/lia/part5/HigherOrder/#9876" class="Bound">σ</a> <a id="9923" href="/lia/part5/HigherOrder/#9879" class="Bound">cn</a><a id="9925" class="Symbol">)</a> <a id="9927" class="Keyword">in</a> <a id="9930" href="/lia/part5/HigherOrder/#9892" class="Bound">r</a>
<a id="9932" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="9945" class="Symbol">(</a><a id="9946" href="/lia/part5/HigherOrder/#2764" class="InductiveConstructor">Abs</a> <a id="9950" href="/lia/part5/HigherOrder/#9950" class="Bound">δ</a><a id="9951" class="Symbol">)</a> <a id="9953" href="/lia/part5/HigherOrder/#8513" class="InductiveConstructor">Abs</a> <a id="9957" href="/lia/part5/HigherOrder/#9957" class="Bound">cn</a> <a id="9960" class="Symbol">=</a> <a id="9962" href="/lia/part5/HigherOrder/#2764" class="InductiveConstructor">Abs</a> <a id="9966" href="/lia/part5/HigherOrder/#9950" class="Bound">δ</a>
<a id="9968" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="9981" class="Symbol">(</a><a id="9982" href="/lia/part5/HigherOrder/#2831" class="InductiveConstructor">App</a> <a id="9986" href="/lia/part5/HigherOrder/#9986" class="Bound">δ₀</a> <a id="9989" href="/lia/part5/HigherOrder/#9989" class="Bound">δ₁</a><a id="9991" class="Symbol">)</a> <a id="9993" class="Symbol">(</a><a id="9994" href="/lia/part5/HigherOrder/#8574" class="InductiveConstructor">App</a> <a id="9998" class="Symbol">{</a><a id="9999" class="Argument">x</a> <a id="10001" class="Symbol">=</a> <a id="10003" href="/lia/part5/HigherOrder/#10003" class="Bound">x</a><a id="10004" class="Symbol">}</a> <a id="10006" href="/lia/part5/HigherOrder/#10006" class="Bound">σ₀</a> <a id="10009" href="/lia/part5/HigherOrder/#10009" class="Bound">σ₁</a> <a id="10012" href="/lia/part5/HigherOrder/#10012" class="Bound">σ₂</a><a id="10014" class="Symbol">)</a> <a id="10016" href="/lia/part5/HigherOrder/#10016" class="Bound">cn</a>
  <a id="10021" class="Keyword">with</a> <a id="10026" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="10039" href="/lia/part5/HigherOrder/#9986" class="Bound">δ₀</a> <a id="10042" href="/lia/part5/HigherOrder/#10006" class="Bound">σ₀</a> <a id="10045" href="/lia/part5/HigherOrder/#10016" class="Bound">cn</a> <a id="10048" class="Symbol">|</a>
       <a id="10057" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="10070" href="/lia/part5/HigherOrder/#9989" class="Bound">δ₁</a> <a id="10073" href="/lia/part5/HigherOrder/#10009" class="Bound">σ₁</a> <a id="10076" href="/lia/part5/HigherOrder/#10016" class="Bound">cn</a>
<a id="10079" class="Symbol">...</a> <a id="10083" class="Symbol">|</a> <a id="10085" href="/lia/part5/HigherOrder/#10085" class="Bound">ind₀</a> <a id="10090" class="Symbol">|</a> <a id="10092" href="/lia/part5/HigherOrder/#10092" class="Bound">ind₁</a>
  <a id="10099" class="Keyword">with</a> <a id="10104" href="/lia/part5/HigherOrder/#3486" class="Function">Abs-inv</a> <a id="10112" href="/lia/part5/HigherOrder/#10085" class="Bound">ind₀</a>
<a id="10117" class="Symbol">...</a> <a id="10121" class="Symbol">|</a> <a id="10123" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="10128" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="10130" href="/lia/part5/HigherOrder/#10130" class="Bound">ind′</a> 
  <a id="10138" class="Keyword">with</a> <a id="10143" href="/lia/part5/HigherOrder/#9099" class="Function">Consistent-preservation</a> <a id="10167" class="Bound">cn</a> <a id="10170" class="Bound">ind₁</a>
<a id="10175" class="Symbol">...</a> <a id="10179" class="Symbol">|</a> <a id="10181" href="/lia/part5/HigherOrder/#10181" class="Bound">cn′</a> <a id="10185" class="Symbol">=</a> <a id="10187" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="10200" class="Bound">ind′</a> <a id="10205" class="Bound">σ₂</a> <a id="10208" href="/lia/part5/HigherOrder/#10181" class="Bound">cn′</a>
<a id="10212" class="Comment">-- similar as Abs + App</a>
<a id="10236" href="/lia/part5/HigherOrder/#9245" class="Function">preservation</a> <a id="10249" class="Symbol">(</a><a id="10250" href="/lia/part5/HigherOrder/#2913" class="InductiveConstructor">Fix</a> <a id="10254" href="/lia/part5/HigherOrder/#10254" class="Bound">δ₀</a> <a id="10257" href="/lia/part5/HigherOrder/#10257" class="Bound">δ₁</a><a id="10259" class="Symbol">)</a> <a id="10261" class="Symbol">(</a><a id="10262" href="/lia/part5/HigherOrder/#8710" class="InductiveConstructor">Fix</a> <a id="10266" href="/lia/part5/HigherOrder/#10266" class="Bound">σ₀</a> <a id="10269" href="/lia/part5/HigherOrder/#10269" class="Bound">σ₁</a><a id="10271" class="Symbol">)</a> <a id="10273" href="/lia/part5/HigherOrder/#10273" class="Bound">cn</a> <a id="10276" class="Symbol">=</a> <a id="10278" class="Symbol">{!  !}</a></pre>

<h2 id="denotational-semantics">
<a class="anchor" href="#denotational-semantics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Denotational semantics</h2>

<p>Evaluation with gas.</p>

<p>You actually need a Krivine machine!</p>

<pre class="Agda"><a id="Exp⊥"></a><a id="10381" href="/lia/part5/HigherOrder/#10381" class="Function">Exp⊥</a> <a id="10386" class="Symbol">=</a> <a id="10388" href="/lia/part5/Maybe/#386" class="Datatype">Maybe</a> <a id="10394" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a>

<a id="⟦_⟧_#_"></a><a id="10399" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦_⟧_#_</a> <a id="10406" class="Symbol">:</a> <a id="10408" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a> <a id="10412" class="Symbol">→</a> <a id="10414" href="/lia/part5/HigherOrder/#7319" class="Function">Env</a> <a id="10418" class="Symbol">→</a> <a id="10420" href="/lia/part0/Naturals/#301" class="Function">ℕ</a> <a id="10422" class="Symbol">→</a> <a id="10424" href="/lia/part5/HigherOrder/#10381" class="Function">Exp⊥</a>

<a id="10430" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="10432" href="/lia/part5/HigherOrder/#10432" class="Bound">e</a> <a id="10434" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="10436" href="/lia/part5/HigherOrder/#10436" class="Bound">ϱ</a> <a id="10438" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="10440" class="Number">0</a> <a id="10442" class="Symbol">=</a> <a id="10444" href="/lia/part5/Maybe/#481" class="InductiveConstructor">⊥</a>

<a id="10447" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="10449" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="10451" href="/lia/part5/HigherOrder/#10451" class="Bound">m</a> <a id="10453" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="10455" href="/lia/part5/HigherOrder/#10455" class="Bound">ϱ</a> <a id="10457" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="10459" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="10463" href="/lia/part5/HigherOrder/#10463" class="Bound">n</a> <a id="10465" class="Symbol">=</a> <a id="10467" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="10469" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="10471" href="/lia/part5/HigherOrder/#10451" class="Bound">m</a> <a id="10473" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="10475" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="10477" href="/lia/part5/HigherOrder/#798" class="InductiveConstructor Operator">`</a> <a id="10479" href="/lia/part5/HigherOrder/#10479" class="Bound">x</a> <a id="10481" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="10483" href="/lia/part5/HigherOrder/#10483" class="Bound">ϱ</a> <a id="10485" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="10487" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="10491" href="/lia/part5/HigherOrder/#10491" class="Bound">n</a> <a id="10493" class="Symbol">=</a> <a id="10495" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="10497" href="/lia/part5/HigherOrder/#10483" class="Bound">ϱ</a> <a id="10499" href="/lia/part5/HigherOrder/#10479" class="Bound">x</a> <a id="10501" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>

<a id="10504" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="10506" href="/lia/part5/HigherOrder/#10506" class="Bound">e₀</a> <a id="10509" href="/lia/part5/HigherOrder/#826" class="InductiveConstructor Operator">+</a> <a id="10511" href="/lia/part5/HigherOrder/#10511" class="Bound">e₁</a> <a id="10514" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="10516" href="/lia/part5/HigherOrder/#10516" class="Bound">ϱ</a> <a id="10518" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="10520" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="10524" href="/lia/part5/HigherOrder/#10524" class="Bound">n</a>
  <a id="10528" class="Keyword">with</a> <a id="10533" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="10535" href="/lia/part5/HigherOrder/#10506" class="Bound">e₀</a> <a id="10538" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="10540" href="/lia/part5/HigherOrder/#10516" class="Bound">ϱ</a> <a id="10542" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="10544" href="/lia/part5/HigherOrder/#10524" class="Bound">n</a> <a id="10546" class="Symbol">|</a> <a id="10548" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="10550" href="/lia/part5/HigherOrder/#10511" class="Bound">e₁</a> <a id="10553" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="10555" href="/lia/part5/HigherOrder/#10516" class="Bound">ϱ</a> <a id="10557" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="10559" href="/lia/part5/HigherOrder/#10524" class="Bound">n</a>
<a id="10561" class="Symbol">...</a> <a id="10565" class="Symbol">|</a> <a id="10567" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="10569" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="10571" href="/lia/part5/HigherOrder/#10571" class="Bound">n₀</a> <a id="10574" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a> <a id="10576" class="Symbol">|</a> <a id="10578" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="10580" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="10582" href="/lia/part5/HigherOrder/#10582" class="Bound">n₁</a> <a id="10585" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a> <a id="10587" class="Symbol">=</a> <a id="10589" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="10591" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="10593" class="Symbol">(</a><a id="10594" href="/lia/part5/HigherOrder/#10571" class="Bound">n₀</a> <a id="10597" href="/lia/part5/HigherOrder/#211" class="Primitive Operator">+ℕ</a> <a id="10600" href="/lia/part5/HigherOrder/#10582" class="Bound">n₁</a><a id="10602" class="Symbol">)</a> <a id="10604" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="10606" class="CatchallClause Symbol">...</a><a id="10609" class="CatchallClause"> </a><a id="10610" class="CatchallClause Symbol">|</a><a id="10611" class="CatchallClause"> </a><a id="10612" class="CatchallClause Symbol">_</a><a id="10613" class="CatchallClause"> </a><a id="10614" class="CatchallClause Symbol">|</a><a id="10615" class="CatchallClause"> </a><a id="10616" class="CatchallClause Symbol">_</a> <a id="10618" class="Symbol">=</a> <a id="10620" href="/lia/part5/Maybe/#481" class="InductiveConstructor">⊥</a> <a id="10622" class="Comment">-- this is catching many cases</a>

<a id="10654" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="10656" href="/lia/part5/HigherOrder/#10656" class="Bound">e₀</a> <a id="10659" href="/lia/part5/HigherOrder/#830" class="InductiveConstructor Operator">-</a> <a id="10661" href="/lia/part5/HigherOrder/#10661" class="Bound">e₁</a> <a id="10664" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="10666" href="/lia/part5/HigherOrder/#10666" class="Bound">ϱ</a> <a id="10668" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="10670" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="10674" href="/lia/part5/HigherOrder/#10674" class="Bound">n</a>
  <a id="10678" class="Keyword">with</a> <a id="10683" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="10685" href="/lia/part5/HigherOrder/#10656" class="Bound">e₀</a> <a id="10688" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="10690" href="/lia/part5/HigherOrder/#10666" class="Bound">ϱ</a> <a id="10692" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="10694" href="/lia/part5/HigherOrder/#10674" class="Bound">n</a> <a id="10696" class="Symbol">|</a> <a id="10698" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="10700" href="/lia/part5/HigherOrder/#10661" class="Bound">e₁</a> <a id="10703" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="10705" href="/lia/part5/HigherOrder/#10666" class="Bound">ϱ</a> <a id="10707" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="10709" href="/lia/part5/HigherOrder/#10674" class="Bound">n</a>
<a id="10711" class="Symbol">...</a> <a id="10715" class="Symbol">|</a> <a id="10717" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="10719" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="10721" href="/lia/part5/HigherOrder/#10721" class="Bound">n₀</a> <a id="10724" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a> <a id="10726" class="Symbol">|</a> <a id="10728" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="10730" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="10732" href="/lia/part5/HigherOrder/#10732" class="Bound">n₁</a> <a id="10735" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a> <a id="10737" class="Symbol">=</a> <a id="10739" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="10741" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="10743" class="Symbol">(</a><a id="10744" href="/lia/part5/HigherOrder/#10721" class="Bound">n₀</a> <a id="10747" href="/lia/part5/HigherOrder/#237" class="Function Operator">-ℕ</a> <a id="10750" href="/lia/part5/HigherOrder/#10732" class="Bound">n₁</a><a id="10752" class="Symbol">)</a> <a id="10754" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="10756" class="CatchallClause Symbol">...</a><a id="10759" class="CatchallClause"> </a><a id="10760" class="CatchallClause Symbol">|</a><a id="10761" class="CatchallClause"> </a><a id="10762" class="CatchallClause Symbol">_</a><a id="10763" class="CatchallClause"> </a><a id="10764" class="CatchallClause Symbol">|</a><a id="10765" class="CatchallClause"> </a><a id="10766" class="CatchallClause Symbol">_</a> <a id="10768" class="Symbol">=</a> <a id="10770" href="/lia/part5/Maybe/#481" class="InductiveConstructor">⊥</a> <a id="10772" class="Comment">-- this is catching many cases</a>

<a id="10804" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="10806" href="/lia/part5/HigherOrder/#10806" class="Bound">e₀</a> <a id="10809" href="/lia/part5/HigherOrder/#834" class="InductiveConstructor Operator">*</a> <a id="10811" href="/lia/part5/HigherOrder/#10811" class="Bound">e₁</a> <a id="10814" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="10816" href="/lia/part5/HigherOrder/#10816" class="Bound">ϱ</a> <a id="10818" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="10820" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="10824" href="/lia/part5/HigherOrder/#10824" class="Bound">n</a>
  <a id="10828" class="Keyword">with</a> <a id="10833" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="10835" href="/lia/part5/HigherOrder/#10806" class="Bound">e₀</a> <a id="10838" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="10840" href="/lia/part5/HigherOrder/#10816" class="Bound">ϱ</a> <a id="10842" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="10844" href="/lia/part5/HigherOrder/#10824" class="Bound">n</a> <a id="10846" class="Symbol">|</a> <a id="10848" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="10850" href="/lia/part5/HigherOrder/#10811" class="Bound">e₁</a> <a id="10853" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="10855" href="/lia/part5/HigherOrder/#10816" class="Bound">ϱ</a> <a id="10857" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="10859" href="/lia/part5/HigherOrder/#10824" class="Bound">n</a>
<a id="10861" class="Symbol">...</a> <a id="10865" class="Symbol">|</a> <a id="10867" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="10869" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="10871" href="/lia/part5/HigherOrder/#10871" class="Bound">n₀</a> <a id="10874" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a> <a id="10876" class="Symbol">|</a> <a id="10878" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="10880" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="10882" href="/lia/part5/HigherOrder/#10882" class="Bound">n₁</a> <a id="10885" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a> <a id="10887" class="Symbol">=</a> <a id="10889" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="10891" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="10893" class="Symbol">(</a><a id="10894" href="/lia/part5/HigherOrder/#10871" class="Bound">n₀</a> <a id="10897" href="/lia/part5/HigherOrder/#224" class="Primitive Operator">·ℕ</a> <a id="10900" href="/lia/part5/HigherOrder/#10882" class="Bound">n₁</a><a id="10902" class="Symbol">)</a> <a id="10904" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="10906" class="CatchallClause Symbol">...</a><a id="10909" class="CatchallClause"> </a><a id="10910" class="CatchallClause Symbol">|</a><a id="10911" class="CatchallClause"> </a><a id="10912" class="CatchallClause Symbol">_</a><a id="10913" class="CatchallClause"> </a><a id="10914" class="CatchallClause Symbol">|</a><a id="10915" class="CatchallClause"> </a><a id="10916" class="CatchallClause Symbol">_</a> <a id="10918" class="Symbol">=</a> <a id="10920" href="/lia/part5/Maybe/#481" class="InductiveConstructor">⊥</a> <a id="10922" class="Comment">-- this is catching many cases</a>

<a id="10954" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="10956" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">If</a> <a id="10959" href="/lia/part5/HigherOrder/#10959" class="Bound">e₀</a> <a id="10962" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">Then</a> <a id="10967" href="/lia/part5/HigherOrder/#10967" class="Bound">e₁</a> <a id="10970" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">Else</a> <a id="10975" href="/lia/part5/HigherOrder/#10975" class="Bound">e₂</a> <a id="10978" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="10980" href="/lia/part5/HigherOrder/#10980" class="Bound">ϱ</a> <a id="10982" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="10984" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="10988" href="/lia/part5/HigherOrder/#10988" class="Bound">n</a>
  <a id="10992" class="Keyword">with</a> <a id="10997" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="10999" href="/lia/part5/HigherOrder/#10959" class="Bound">e₀</a> <a id="11002" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="11004" href="/lia/part5/HigherOrder/#10980" class="Bound">ϱ</a> <a id="11006" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="11008" href="/lia/part5/HigherOrder/#10988" class="Bound">n</a>
<a id="11010" class="Symbol">...</a> <a id="11014" class="Symbol">|</a> <a id="11016" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="11018" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="11020" class="Number">0</a> <a id="11022" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a> <a id="11024" class="Symbol">=</a> <a id="11026" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="11028" class="Bound">e₁</a> <a id="11031" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="11033" class="Bound">ϱ</a> <a id="11035" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="11037" class="Bound">n</a>
<a id="11039" class="Symbol">...</a> <a id="11043" class="Symbol">|</a> <a id="11045" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="11047" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="11049" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="11053" class="Symbol">_</a> <a id="11055" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a> <a id="11057" class="Symbol">=</a> <a id="11059" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="11061" class="Bound">e₂</a> <a id="11064" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="11066" class="Bound">ϱ</a> <a id="11068" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="11070" class="Bound">n</a>
<a id="11072" class="CatchallClause Symbol">...</a><a id="11075" class="CatchallClause"> </a><a id="11076" class="CatchallClause Symbol">|</a><a id="11077" class="CatchallClause"> </a><a id="11078" class="CatchallClause Symbol">_</a> <a id="11080" class="Symbol">=</a> <a id="11082" href="/lia/part5/Maybe/#481" class="InductiveConstructor">⊥</a> <a id="11084" class="Comment">-- this is catching many cases</a>

<a id="11116" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="11118" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟨</a> <a id="11120" href="/lia/part5/HigherOrder/#11120" class="Bound">e₀</a> <a id="11123" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">,</a> <a id="11125" href="/lia/part5/HigherOrder/#11125" class="Bound">e₁</a> <a id="11128" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟩</a> <a id="11130" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="11132" href="/lia/part5/HigherOrder/#11132" class="Bound">ϱ</a> <a id="11134" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="11136" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="11140" href="/lia/part5/HigherOrder/#11140" class="Bound">n</a>
  <a id="11144" class="Keyword">with</a> <a id="11149" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="11151" href="/lia/part5/HigherOrder/#11120" class="Bound">e₀</a> <a id="11154" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="11156" href="/lia/part5/HigherOrder/#11132" class="Bound">ϱ</a> <a id="11158" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="11160" href="/lia/part5/HigherOrder/#11140" class="Bound">n</a> <a id="11162" class="Symbol">|</a> <a id="11164" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="11166" href="/lia/part5/HigherOrder/#11125" class="Bound">e₁</a> <a id="11169" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="11171" href="/lia/part5/HigherOrder/#11132" class="Bound">ϱ</a> <a id="11173" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="11175" href="/lia/part5/HigherOrder/#11140" class="Bound">n</a>
<a id="11177" class="Symbol">...</a> <a id="11181" class="Symbol">|</a> <a id="11183" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="11185" href="/lia/part5/HigherOrder/#11185" class="Bound">v₀</a> <a id="11188" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a> <a id="11190" class="Symbol">|</a> <a id="11192" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="11194" href="/lia/part5/HigherOrder/#11194" class="Bound">v₁</a> <a id="11197" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a> <a id="11199" class="Symbol">=</a> <a id="11201" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="11203" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟨</a> <a id="11205" href="/lia/part5/HigherOrder/#11185" class="Bound">v₀</a> <a id="11208" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">,</a> <a id="11210" href="/lia/part5/HigherOrder/#11194" class="Bound">v₁</a> <a id="11213" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟩</a> <a id="11215" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="11217" class="CatchallClause Symbol">...</a><a id="11220" class="CatchallClause"> </a><a id="11221" class="CatchallClause Symbol">|</a><a id="11222" class="CatchallClause"> </a><a id="11223" class="CatchallClause Symbol">_</a><a id="11224" class="CatchallClause"> </a><a id="11225" class="CatchallClause Symbol">|</a><a id="11226" class="CatchallClause"> </a><a id="11227" class="CatchallClause Symbol">_</a> <a id="11229" class="Symbol">=</a> <a id="11231" href="/lia/part5/Maybe/#481" class="InductiveConstructor">⊥</a> <a id="11233" class="Comment">-- this is catching many cases</a>

<a id="11265" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="11267" href="/lia/part5/HigherOrder/#935" class="InductiveConstructor Operator">π₀</a> <a id="11270" href="/lia/part5/HigherOrder/#11270" class="Bound">e</a> <a id="11272" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="11274" href="/lia/part5/HigherOrder/#11274" class="Bound">ϱ</a> <a id="11276" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="11278" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="11282" href="/lia/part5/HigherOrder/#11282" class="Bound">n</a>
  <a id="11286" class="Keyword">with</a> <a id="11291" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="11293" href="/lia/part5/HigherOrder/#11270" class="Bound">e</a> <a id="11295" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="11297" href="/lia/part5/HigherOrder/#11274" class="Bound">ϱ</a> <a id="11299" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="11301" href="/lia/part5/HigherOrder/#11282" class="Bound">n</a>
<a id="11303" class="Symbol">...</a> <a id="11307" class="Symbol">|</a> <a id="11309" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="11311" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟨</a> <a id="11313" href="/lia/part5/HigherOrder/#11313" class="Bound">v</a> <a id="11315" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">,</a> <a id="11317" class="Symbol">_</a> <a id="11319" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟩</a> <a id="11321" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a> <a id="11323" class="Symbol">=</a> <a id="11325" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="11327" href="/lia/part5/HigherOrder/#11313" class="Bound">v</a> <a id="11329" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="11331" class="CatchallClause Symbol">...</a><a id="11334" class="CatchallClause"> </a><a id="11335" class="CatchallClause Symbol">|</a><a id="11336" class="CatchallClause"> </a><a id="11337" class="CatchallClause Symbol">_</a> <a id="11339" class="Symbol">=</a> <a id="11341" href="/lia/part5/Maybe/#481" class="InductiveConstructor">⊥</a> <a id="11343" class="Comment">-- this is catching many cases</a>

<a id="11375" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="11377" href="/lia/part5/HigherOrder/#939" class="InductiveConstructor Operator">π₁</a> <a id="11380" href="/lia/part5/HigherOrder/#11380" class="Bound">e</a> <a id="11382" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="11384" href="/lia/part5/HigherOrder/#11384" class="Bound">ϱ</a> <a id="11386" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="11388" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="11392" href="/lia/part5/HigherOrder/#11392" class="Bound">n</a>
  <a id="11396" class="Keyword">with</a> <a id="11401" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="11403" href="/lia/part5/HigherOrder/#11380" class="Bound">e</a> <a id="11405" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="11407" href="/lia/part5/HigherOrder/#11384" class="Bound">ϱ</a> <a id="11409" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="11411" href="/lia/part5/HigherOrder/#11392" class="Bound">n</a>
<a id="11413" class="Symbol">...</a> <a id="11417" class="Symbol">|</a> <a id="11419" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="11421" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟨</a> <a id="11423" class="Symbol">_</a> <a id="11425" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">,</a> <a id="11427" href="/lia/part5/HigherOrder/#11427" class="Bound">v</a> <a id="11429" href="/lia/part5/HigherOrder/#905" class="InductiveConstructor Operator">⟩</a> <a id="11431" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a> <a id="11433" class="Symbol">=</a> <a id="11435" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="11437" href="/lia/part5/HigherOrder/#11427" class="Bound">v</a> <a id="11439" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="11441" class="CatchallClause Symbol">...</a><a id="11444" class="CatchallClause"> </a><a id="11445" class="CatchallClause Symbol">|</a><a id="11446" class="CatchallClause"> </a><a id="11447" class="CatchallClause Symbol">_</a> <a id="11449" class="Symbol">=</a> <a id="11451" href="/lia/part5/Maybe/#481" class="InductiveConstructor">⊥</a> <a id="11453" class="Comment">-- this is catching many cases</a>

<a id="11485" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="11487" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ</a> <a id="11489" href="/lia/part5/HigherOrder/#11489" class="Bound">x</a> <a id="11491" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">·</a> <a id="11493" href="/lia/part5/HigherOrder/#11493" class="Bound">e</a> <a id="11495" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="11497" href="/lia/part5/HigherOrder/#11497" class="Bound">ϱ</a> <a id="11499" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="11501" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="11505" href="/lia/part5/HigherOrder/#11505" class="Bound">n</a> <a id="11507" class="Symbol">=</a> <a id="11509" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="11511" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ</a> <a id="11513" href="/lia/part5/HigherOrder/#11489" class="Bound">x</a> <a id="11515" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">·</a> <a id="11517" href="/lia/part5/HigherOrder/#11493" class="Bound">e</a> <a id="11519" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>

<a id="11522" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="11524" href="/lia/part5/HigherOrder/#11524" class="Bound">e₀</a> <a id="11527" href="/lia/part5/HigherOrder/#1003" class="InductiveConstructor Operator">·</a> <a id="11529" href="/lia/part5/HigherOrder/#11529" class="Bound">e₁</a> <a id="11532" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="11534" href="/lia/part5/HigherOrder/#11534" class="Bound">ϱ</a> <a id="11536" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="11538" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="11542" href="/lia/part5/HigherOrder/#11542" class="Bound">n</a>
  <a id="11546" class="Keyword">with</a> <a id="11551" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="11553" href="/lia/part5/HigherOrder/#11524" class="Bound">e₀</a> <a id="11556" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="11558" href="/lia/part5/HigherOrder/#11534" class="Bound">ϱ</a> <a id="11560" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="11562" href="/lia/part5/HigherOrder/#11542" class="Bound">n</a> <a id="11564" class="Symbol">|</a> <a id="11566" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="11568" href="/lia/part5/HigherOrder/#11529" class="Bound">e₁</a> <a id="11571" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="11573" href="/lia/part5/HigherOrder/#11534" class="Bound">ϱ</a> <a id="11575" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="11577" href="/lia/part5/HigherOrder/#11542" class="Bound">n</a>
<a id="11579" class="Symbol">...</a> <a id="11583" class="Symbol">|</a> <a id="11585" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="11587" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ</a> <a id="11589" href="/lia/part5/HigherOrder/#11589" class="Bound">x</a> <a id="11591" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">·</a> <a id="11593" href="/lia/part5/HigherOrder/#11593" class="Bound">e</a> <a id="11595" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a> <a id="11597" class="Symbol">|</a> <a id="11599" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="11601" href="/lia/part5/HigherOrder/#11601" class="Bound">v</a> <a id="11603" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a> <a id="11605" class="Symbol">=</a> <a id="11607" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="11609" href="/lia/part5/HigherOrder/#11593" class="Bound">e</a> <a id="11611" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="11613" class="Bound">ϱ</a> <a id="11615" href="/lia/part0/Functions/#570" class="Function Operator">[</a> <a id="11617" href="/lia/part5/HigherOrder/#11589" class="Bound">x</a> <a id="11619" href="/lia/part0/Functions/#570" class="Function Operator">↦</a> <a id="11621" href="/lia/part5/HigherOrder/#11601" class="Bound">v</a> <a id="11623" href="/lia/part0/Functions/#570" class="Function Operator">]</a> <a id="11625" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="11627" class="Bound">n</a>
<a id="11629" class="CatchallClause Symbol">...</a><a id="11632" class="CatchallClause"> </a><a id="11633" class="CatchallClause Symbol">|</a><a id="11634" class="CatchallClause"> </a><a id="11635" class="CatchallClause Symbol">_</a><a id="11636" class="CatchallClause"> </a><a id="11637" class="CatchallClause Symbol">|</a><a id="11638" class="CatchallClause"> </a><a id="11639" class="CatchallClause Symbol">_</a> <a id="11641" class="Symbol">=</a> <a id="11643" href="/lia/part5/Maybe/#481" class="InductiveConstructor">⊥</a> <a id="11645" class="Comment">-- this is catching many cases</a>

<a id="11677" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="11679" href="/lia/part5/HigherOrder/#1032" class="InductiveConstructor Operator">μ</a> <a id="11681" href="/lia/part5/HigherOrder/#11681" class="Bound">x</a> <a id="11683" href="/lia/part5/HigherOrder/#1032" class="InductiveConstructor Operator">·</a> <a id="11685" href="/lia/part5/HigherOrder/#11685" class="Bound">e</a> <a id="11687" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="11689" href="/lia/part5/HigherOrder/#11689" class="Bound">ϱ</a> <a id="11691" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="11693" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="11697" href="/lia/part5/HigherOrder/#11697" class="Bound">n</a>
  <a id="11701" class="Keyword">with</a> <a id="11706" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="11708" href="/lia/part5/HigherOrder/#11685" class="Bound">e</a> <a id="11710" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="11712" href="/lia/part5/HigherOrder/#11689" class="Bound">ϱ</a> <a id="11714" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="11716" href="/lia/part5/HigherOrder/#11697" class="Bound">n</a>
<a id="11718" class="Symbol">...</a> <a id="11722" class="Symbol">|</a> <a id="11724" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="11726" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ</a> <a id="11728" href="/lia/part5/HigherOrder/#11728" class="Bound">y</a> <a id="11730" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">·</a> <a id="11732" href="/lia/part5/HigherOrder/#11732" class="Bound">e′</a> <a id="11735" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a> <a id="11737" class="Symbol">=</a> <a id="11739" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="11741" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ</a> <a id="11743" href="/lia/part5/HigherOrder/#11728" class="Bound">y</a> <a id="11745" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">·</a> <a id="11747" href="/lia/part5/HigherOrder/#11732" class="Bound">e′</a> <a id="11750" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="11752" class="Symbol">(</a><a id="11753" class="Bound">ϱ</a> <a id="11755" href="/lia/part0/Functions/#570" class="Function Operator">[</a> <a id="11757" class="Bound">x</a> <a id="11759" href="/lia/part0/Functions/#570" class="Function Operator">↦</a> <a id="11761" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ</a> <a id="11763" href="/lia/part5/HigherOrder/#11728" class="Bound">y</a> <a id="11765" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">·</a> <a id="11767" href="/lia/part5/HigherOrder/#11732" class="Bound">e′</a> <a id="11770" href="/lia/part0/Functions/#570" class="Function Operator">]</a><a id="11771" class="Symbol">)</a> <a id="11773" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="11775" class="Bound">n</a>
<a id="11777" class="CatchallClause Symbol">...</a><a id="11780" class="CatchallClause"> </a><a id="11781" class="CatchallClause Symbol">|</a><a id="11782" class="CatchallClause"> </a><a id="11783" class="CatchallClause Symbol">_</a> <a id="11785" class="Symbol">=</a> <a id="11787" href="/lia/part5/Maybe/#481" class="InductiveConstructor">⊥</a> <a id="11789" class="Comment">-- this is catching many cases</a></pre>

<p>Example:</p>

<pre class="Agda"><a id="ϱ₀"></a><a id="11839" href="/lia/part5/HigherOrder/#11839" class="Function">ϱ₀</a> <a id="11842" class="Symbol">:</a> <a id="11844" href="/lia/part5/HigherOrder/#7319" class="Function">Env</a>
<a id="11848" href="/lia/part5/HigherOrder/#11839" class="Function">ϱ₀</a> <a id="11851" class="Number">0</a> <a id="11853" class="Symbol">=</a> <a id="11855" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="11857" class="Number">10</a>
<a id="11860" href="/lia/part5/HigherOrder/#11839" class="Function">ϱ₀</a> <a id="11863" class="Number">1</a> <a id="11865" class="Symbol">=</a> <a id="11867" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="11869" class="Number">11</a>
<a id="11872" href="/lia/part5/HigherOrder/#11839" class="Function">ϱ₀</a> <a id="11875" class="Number">2</a> <a id="11877" class="Symbol">=</a> <a id="11879" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ</a> <a id="11881" href="/lia/part5/HigherOrder/#701" class="Function">x₀</a> <a id="11884" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">·</a> <a id="11886" class="Symbol">(</a><a id="11887" href="/lia/part5/HigherOrder/#798" class="InductiveConstructor Operator">`</a> <a id="11889" href="/lia/part5/HigherOrder/#701" class="Function">x₀</a> <a id="11892" href="/lia/part5/HigherOrder/#826" class="InductiveConstructor Operator">+</a> <a id="11894" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="11896" class="Number">111</a><a id="11899" class="Symbol">)</a> <a id="11901" class="Comment">-- f₀</a>
<a id="11907" href="/lia/part5/HigherOrder/#11839" class="Function">ϱ₀</a> <a id="11910" class="Number">3</a> <a id="11912" class="Symbol">=</a> <a id="11914" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ</a> <a id="11916" href="/lia/part5/HigherOrder/#701" class="Function">x₀</a> <a id="11919" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">·</a> <a id="11921" href="/lia/part5/HigherOrder/#798" class="InductiveConstructor Operator">`</a> <a id="11923" href="/lia/part5/HigherOrder/#701" class="Function">x₀</a> <a id="11926" href="/lia/part5/HigherOrder/#826" class="InductiveConstructor Operator">+</a> <a id="11928" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="11930" class="Number">2</a>
<a id="11932" href="/lia/part5/HigherOrder/#11839" class="Function">ϱ₀</a> <a id="11935" class="Symbol">(</a><a id="11936" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="11940" class="Symbol">(</a><a id="11941" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="11945" class="Symbol">(</a><a id="11946" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="11950" class="Symbol">(</a><a id="11951" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="11955" class="Symbol">_))))</a> <a id="11961" class="Symbol">=</a> <a id="11963" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="11965" class="Number">0</a>

<a id="11968" class="Comment">-- _ : ⟦ ` f₀ ⟧ ϱ₀ # 100 ≡ ⌊ ƛ x₀ · ` x₀ ⌋</a>
<a id="12011" class="Comment">-- _ = refl</a>

<a id="12024" class="Comment">-- _ : ⟦ ` f₁ · ` x₁ ⟧ ϱ₀ # 100 ≡ ⌊ # 13 ⌋</a>
<a id="12067" class="Comment">-- _ = refl</a>

<a id="12080" class="Comment">-- test : Exp</a>
<a id="12094" class="Comment">-- test = ƛ x₀ · If ` x₀ Then # 1 Else # 2</a>

<a id="12138" class="Comment">-- _ : ⟦ test · # 0 ⟧ ϱ₀ # 4 ≡ ⌊ # 1 ⌋</a>
<a id="12177" class="Comment">-- _ = refl</a>

<a id="12190" class="Comment">-- _ : ⟦ test · # 1 ⟧ ϱ₀ # 4 ≡ ⌊ # 2 ⌋</a>
<a id="12229" class="Comment">-- _ = refl</a>

<a id="factorial"></a><a id="12242" href="/lia/part5/HigherOrder/#12242" class="Function">factorial</a> <a id="factorialBody"></a><a id="12252" href="/lia/part5/HigherOrder/#12252" class="Function">factorialBody</a> <a id="12266" class="Symbol">:</a> <a id="12268" href="/lia/part5/HigherOrder/#757" class="Datatype">Exp</a>
<a id="12272" href="/lia/part5/HigherOrder/#12252" class="Function">factorialBody</a> <a id="12286" class="Symbol">=</a> <a id="12288" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">ƛ</a> <a id="12290" href="/lia/part5/HigherOrder/#701" class="Function">x₀</a> <a id="12293" href="/lia/part5/HigherOrder/#964" class="InductiveConstructor Operator">·</a> <a id="12295" class="Symbol">(</a><a id="12296" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">If</a> <a id="12299" class="Symbol">(</a><a id="12300" href="/lia/part5/HigherOrder/#798" class="InductiveConstructor Operator">`</a> <a id="12302" href="/lia/part5/HigherOrder/#701" class="Function">x₀</a><a id="12304" class="Symbol">)</a> <a id="12306" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">Then</a> <a id="12311" class="Symbol">(</a><a id="12312" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="12314" class="Number">1</a><a id="12315" class="Symbol">)</a> <a id="12317" href="/lia/part5/HigherOrder/#863" class="InductiveConstructor Operator">Else</a> <a id="12322" class="Symbol">(</a><a id="12323" href="/lia/part5/HigherOrder/#798" class="InductiveConstructor Operator">`</a> <a id="12325" href="/lia/part5/HigherOrder/#701" class="Function">x₀</a> <a id="12328" href="/lia/part5/HigherOrder/#834" class="InductiveConstructor Operator">*</a> <a id="12330" class="Symbol">((</a><a id="12332" href="/lia/part5/HigherOrder/#798" class="InductiveConstructor Operator">`</a> <a id="12334" href="/lia/part5/HigherOrder/#707" class="Function">f₀</a><a id="12336" class="Symbol">)</a> <a id="12338" href="/lia/part5/HigherOrder/#1003" class="InductiveConstructor Operator">·</a> <a id="12340" class="Symbol">((</a><a id="12342" href="/lia/part5/HigherOrder/#798" class="InductiveConstructor Operator">`</a> <a id="12344" href="/lia/part5/HigherOrder/#701" class="Function">x₀</a><a id="12346" class="Symbol">)</a> <a id="12348" href="/lia/part5/HigherOrder/#830" class="InductiveConstructor Operator">-</a> <a id="12350" class="Symbol">(</a><a id="12351" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="12353" class="Number">1</a><a id="12354" class="Symbol">)))))</a>
<a id="12360" href="/lia/part5/HigherOrder/#12242" class="Function">factorial</a> <a id="12370" class="Symbol">=</a> <a id="12372" href="/lia/part5/HigherOrder/#1032" class="InductiveConstructor Operator">μ</a> <a id="12374" href="/lia/part5/HigherOrder/#707" class="Function">f₀</a> <a id="12377" href="/lia/part5/HigherOrder/#1032" class="InductiveConstructor Operator">·</a> <a id="12379" href="/lia/part5/HigherOrder/#12252" class="Function">factorialBody</a>

<a id="12394" href="/lia/part5/HigherOrder/#12394" class="Function">_</a> <a id="12396" class="Symbol">:</a> <a id="12398" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="12400" href="/lia/part5/HigherOrder/#12242" class="Function">factorial</a> <a id="12410" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="12412" href="/lia/part5/HigherOrder/#11839" class="Function">ϱ₀</a> <a id="12415" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="12417" class="Number">2</a> <a id="12419" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="12421" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="12423" href="/lia/part5/HigherOrder/#12252" class="Function">factorialBody</a> <a id="12437" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="12439" class="Symbol">_</a> <a id="12441" class="Symbol">=</a> <a id="12443" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="12449" href="/lia/part5/HigherOrder/#12449" class="Function">_</a> <a id="12451" class="Symbol">:</a> <a id="12453" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="12455" href="/lia/part5/HigherOrder/#12242" class="Function">factorial</a> <a id="12465" href="/lia/part5/HigherOrder/#1003" class="InductiveConstructor Operator">·</a> <a id="12467" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="12469" class="Number">0</a> <a id="12471" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="12473" href="/lia/part5/HigherOrder/#11839" class="Function">ϱ₀</a> <a id="12476" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="12478" class="Number">3</a> <a id="12480" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="12482" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="12484" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="12486" class="Number">1</a> <a id="12488" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="12490" class="Symbol">_</a> <a id="12492" class="Symbol">=</a> <a id="12494" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="ϱ₁"></a><a id="12500" href="/lia/part5/HigherOrder/#12500" class="Function">ϱ₁</a> <a id="12503" class="Symbol">=</a> <a id="12505" href="/lia/part5/HigherOrder/#11839" class="Function">ϱ₀</a> <a id="12508" href="/lia/part0/Functions/#570" class="Function Operator">[</a> <a id="12510" href="/lia/part5/HigherOrder/#707" class="Function">f₀</a> <a id="12513" href="/lia/part0/Functions/#570" class="Function Operator">↦</a> <a id="12515" href="/lia/part5/HigherOrder/#12252" class="Function">factorialBody</a> <a id="12529" href="/lia/part0/Functions/#570" class="Function Operator">]</a>

<a id="12532" href="/lia/part5/HigherOrder/#12532" class="Function">_</a> <a id="12534" class="Symbol">:</a> <a id="12536" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="12538" href="/lia/part5/HigherOrder/#798" class="InductiveConstructor Operator">`</a> <a id="12540" href="/lia/part5/HigherOrder/#707" class="Function">f₀</a> <a id="12543" href="/lia/part5/HigherOrder/#1003" class="InductiveConstructor Operator">·</a> <a id="12545" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="12547" class="Number">1</a> <a id="12549" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="12551" href="/lia/part5/HigherOrder/#12500" class="Function">ϱ₁</a> <a id="12554" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="12556" class="Number">100</a> <a id="12560" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="12562" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="12564" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="12566" class="Number">1</a> <a id="12568" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="12570" class="Symbol">_</a> <a id="12572" class="Symbol">=</a> <a id="12574" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="12580" href="/lia/part5/HigherOrder/#12580" class="Function">_</a> <a id="12582" class="Symbol">:</a> <a id="12584" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="12586" href="/lia/part5/HigherOrder/#798" class="InductiveConstructor Operator">`</a> <a id="12588" href="/lia/part5/HigherOrder/#707" class="Function">f₀</a> <a id="12591" href="/lia/part5/HigherOrder/#1003" class="InductiveConstructor Operator">·</a> <a id="12593" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="12595" class="Number">2</a> <a id="12597" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="12599" href="/lia/part5/HigherOrder/#12500" class="Function">ϱ₁</a> <a id="12602" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="12604" class="Number">100</a> <a id="12608" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="12610" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="12612" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="12614" class="Number">2</a> <a id="12616" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="12618" class="Symbol">_</a> <a id="12620" class="Symbol">=</a> <a id="12622" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="12628" href="/lia/part5/HigherOrder/#12628" class="Function">_</a> <a id="12630" class="Symbol">:</a> <a id="12632" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="12634" href="/lia/part5/HigherOrder/#798" class="InductiveConstructor Operator">`</a> <a id="12636" href="/lia/part5/HigherOrder/#707" class="Function">f₀</a> <a id="12639" href="/lia/part5/HigherOrder/#1003" class="InductiveConstructor Operator">·</a> <a id="12641" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="12643" class="Number">5</a> <a id="12645" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="12647" href="/lia/part5/HigherOrder/#12500" class="Function">ϱ₁</a> <a id="12650" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="12652" class="Number">100</a> <a id="12656" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="12658" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="12660" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="12662" class="Number">120</a> <a id="12666" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="12668" class="Symbol">_</a> <a id="12670" class="Symbol">=</a> <a id="12672" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="12678" href="/lia/part5/HigherOrder/#12678" class="Function">_</a> <a id="12680" class="Symbol">:</a> <a id="12682" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="12684" href="/lia/part5/HigherOrder/#12242" class="Function">factorial</a> <a id="12694" href="/lia/part5/HigherOrder/#1003" class="InductiveConstructor Operator">·</a> <a id="12696" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="12698" class="Number">5</a> <a id="12700" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="12702" href="/lia/part5/HigherOrder/#12500" class="Function">ϱ₁</a> <a id="12705" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="12707" class="Number">100</a> <a id="12711" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="12713" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="12715" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="12717" class="Number">120</a> <a id="12721" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="12723" class="Symbol">_</a> <a id="12725" class="Symbol">=</a> <a id="12727" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="12733" href="/lia/part5/HigherOrder/#12733" class="Function">_</a> <a id="12735" class="Symbol">:</a> <a id="12737" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="12739" href="/lia/part5/HigherOrder/#12252" class="Function">factorialBody</a> <a id="12753" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="12755" href="/lia/part5/HigherOrder/#11839" class="Function">ϱ₀</a> <a id="12758" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="12760" class="Number">100</a> <a id="12764" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="12766" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="12768" href="/lia/part5/HigherOrder/#12252" class="Function">factorialBody</a> <a id="12782" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="12784" class="Symbol">_</a> <a id="12786" class="Symbol">=</a> <a id="12788" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="12794" href="/lia/part5/HigherOrder/#12794" class="Function">_</a> <a id="12796" class="Symbol">:</a> <a id="12798" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="12800" href="/lia/part5/HigherOrder/#12252" class="Function">factorialBody</a> <a id="12814" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="12816" href="/lia/part5/HigherOrder/#12500" class="Function">ϱ₁</a> <a id="12819" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="12821" class="Number">100</a> <a id="12825" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="12827" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="12829" href="/lia/part5/HigherOrder/#12252" class="Function">factorialBody</a> <a id="12843" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="12845" class="Symbol">_</a> <a id="12847" class="Symbol">=</a> <a id="12849" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>


<a id="12856" href="/lia/part5/HigherOrder/#12856" class="Function">_</a> <a id="12858" class="Symbol">:</a> <a id="12860" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="12862" href="/lia/part5/HigherOrder/#12252" class="Function">factorialBody</a> <a id="12876" href="/lia/part5/HigherOrder/#1003" class="InductiveConstructor Operator">·</a> <a id="12878" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="12880" class="Number">1</a> <a id="12882" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="12884" href="/lia/part5/HigherOrder/#12500" class="Function">ϱ₁</a> <a id="12887" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="12889" class="Number">100</a> <a id="12893" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="12895" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="12897" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="12899" class="Number">1</a> <a id="12901" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="12903" class="Symbol">_</a> <a id="12905" class="Symbol">=</a> <a id="12907" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="12913" href="/lia/part5/HigherOrder/#12913" class="Function">_</a> <a id="12915" class="Symbol">:</a> <a id="12917" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="12919" href="/lia/part5/HigherOrder/#12242" class="Function">factorial</a> <a id="12929" href="/lia/part5/HigherOrder/#1003" class="InductiveConstructor Operator">·</a> <a id="12931" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="12933" class="Number">1</a> <a id="12935" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="12937" href="/lia/part5/HigherOrder/#12500" class="Function">ϱ₁</a> <a id="12940" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="12942" class="Number">100</a> <a id="12946" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="12948" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="12950" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="12952" class="Number">1</a> <a id="12954" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="12956" class="Symbol">_</a> <a id="12958" class="Symbol">=</a> <a id="12960" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="12966" href="/lia/part5/HigherOrder/#12966" class="Function">_</a> <a id="12968" class="Symbol">:</a> <a id="12970" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="12972" href="/lia/part5/HigherOrder/#12252" class="Function">factorialBody</a> <a id="12986" href="/lia/part5/HigherOrder/#1003" class="InductiveConstructor Operator">·</a> <a id="12988" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="12990" class="Number">0</a> <a id="12992" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="12994" href="/lia/part5/HigherOrder/#11839" class="Function">ϱ₀</a> <a id="12997" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="12999" class="Number">100</a> <a id="13003" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="13005" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌊</a> <a id="13007" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="13009" class="Number">1</a> <a id="13011" href="/lia/part5/Maybe/#501" class="InductiveConstructor Operator">⌋</a>
<a id="13013" class="Symbol">_</a> <a id="13015" class="Symbol">=</a> <a id="13017" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="13023" href="/lia/part5/HigherOrder/#13023" class="Function">_</a> <a id="13025" class="Symbol">:</a> <a id="13027" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="13029" href="/lia/part5/HigherOrder/#12242" class="Function">factorial</a> <a id="13039" href="/lia/part5/HigherOrder/#1003" class="InductiveConstructor Operator">·</a> <a id="13041" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="13043" class="Number">1</a> <a id="13045" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="13047" href="/lia/part5/HigherOrder/#11839" class="Function">ϱ₀</a> <a id="13050" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="13052" class="Number">100</a> <a id="13056" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="13058" class="Symbol">{! ⟦ (μ f₀ · factorialBody) · # 1 ⟧ ϱ₀ # 100 !}</a> <a id="13106" class="Comment">-- ⌊ # 1 ⌋</a>
<a id="13117" class="Symbol">_</a> <a id="13119" class="Symbol">=</a> <a id="13121" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="13127" class="Comment">-- _ : ⟦ factorial · # 2 ⟧ ϱ₀ # 3 ≡ ⌊ # 1 ⌋</a>
<a id="13171" class="Comment">-- _ = refl</a></pre>
<pre class="Agda"><a id="13194" class="Comment">-- not enough gas</a>
<a id="13212" href="/lia/part5/HigherOrder/#13212" class="Function">_</a> <a id="13214" class="Symbol">:</a> <a id="13216" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟦</a> <a id="13218" href="/lia/part5/HigherOrder/#12242" class="Function">factorial</a> <a id="13228" href="/lia/part5/HigherOrder/#1003" class="InductiveConstructor Operator">·</a> <a id="13230" href="/lia/part5/HigherOrder/#776" class="InductiveConstructor Operator">#</a> <a id="13232" class="Number">5</a> <a id="13234" href="/lia/part5/HigherOrder/#10399" class="Function Operator">⟧</a> <a id="13236" href="/lia/part5/HigherOrder/#11839" class="Function">ϱ₀</a> <a id="13239" href="/lia/part5/HigherOrder/#10399" class="Function Operator">#</a> <a id="13241" class="Number">5</a> <a id="13243" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="13245" href="/lia/part5/Maybe/#481" class="InductiveConstructor">⊥</a>
<a id="13247" class="Symbol">_</a> <a id="13249" class="Symbol">=</a> <a id="13251" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre>

<h2 id="agreement-of-the-operational-and-denotational-semantics">
<a class="anchor" href="#agreement-of-the-operational-and-denotational-semantics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Agreement of the operational and denotational semantics</h2>

<h1 id="eager-evaluation-with-static-binding">
<a class="anchor" href="#eager-evaluation-with-static-binding" aria-hidden="true"><span class="octicon octicon-link"></span></a>Eager evaluation with static binding</h1>

<h1 id="lazy-evaluation-with-dynamic-binding">
<a class="anchor" href="#lazy-evaluation-with-dynamic-binding" aria-hidden="true"><span class="octicon octicon-link"></span></a>Lazy evaluation with dynamic binding</h1>

<h1 id="lazy-evaluation-with-static-binding">
<a class="anchor" href="#lazy-evaluation-with-static-binding" aria-hidden="true"><span class="octicon octicon-link"></span></a>Lazy evaluation with static binding</h1>

<div id="refs">

  <h1 id="references">
<a class="anchor" href="#references" aria-hidden="true"><span class="octicon octicon-link"></span></a>References</h1>

</div>

    </div>
  
    <header class="nav-header">
    <p style="text-align:center;">
        
        
        
        <a alt="Part" href="/lia/part5/index/">Part</a>
        &bullet;
        
        
        <a alt="Source code" href="https://github.com/lclem/lia/blob/main/src/part5/HigherOrder.lagda.md">Source</a>
        
        
        
    </p>
</header>

    <p class="p-name"> Last-modified: Feb  1 19:51:04 2021 </p>
  </article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/lia/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Logic in Agda</h2><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Lorenzo Clemente</li>
          <li><a class="u-email" href="mailto:clementelorenzo@gmail.com">clementelorenzo@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/lclem"><svg class="svg-icon"><use xlink:href="/lia/assets/minima-social-icons.svg#github"></use></svg> <span class="username">lclem</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
  </div>
</footer>

<!-- Parse the Latex divs with Katex
<script type="text/javascript">
  $("script[type='math/tex']").replaceWith(
    function(){
      var tex = $(this).text();
      return katex.renderToString(tex, {displayMode: false});
  });
  
  $("script[type='math/tex; mode=display']").replaceWith(
    function(){
      var tex = $(this).text();
      return katex.renderToString(tex.replace(/%.*/g, ''), {displayMode: true});
  });
</script>
-->

<script type="text/javascript" src="/lia/assets/hidebox.js"></script>
</body>

</html>
