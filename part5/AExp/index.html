<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Arithmetic expressions 🚧 | Logic in Agda</title><!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Arithmetic expressions 🚧" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Propositional and fist-order logic developed with the proof assistant Agda." />
<meta property="og:description" content="Propositional and fist-order logic developed with the proof assistant Agda." />
<link rel="canonical" href="/lia/part5/AExp/" />
<meta property="og:url" content="/lia/part5/AExp/" />
<meta property="og:site_name" content="Logic in Agda" />
<script type="application/ld+json">
{"url":"/lia/part5/AExp/","description":"Propositional and fist-order logic developed with the proof assistant Agda.","@type":"WebPage","headline":"Arithmetic expressions 🚧","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/lia/assets/main.css">

  <!-- <link rel="stylesheet" href="/lia/assets/custom.css"> --><!-- Mathjax Support -->
  <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  <!-- Load KaTeX -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.js"></script>

<script type="text/x-thebe-config">
  {
    bootstrap: true,
    requestKernel: true,
    runAllCells: false,
    selector: "[data-executable]",
    predefinedOutput: false,
    codeMirrorConfig: {
        //theme: "idea",
        language: "agda",
        readOnly: false,
        lineNumbers: true,
        keyMap: "default",
//        gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
    },
    kernelOptions: {
        name: "agda",
        kernelName: "agda",
        path: "src/",
        loadFromStore: true,
        persistent: false,
        // notebook server configuration; not needed with binder
        serverSettings: {
              baseUrl: "http://127.0.0.1:8888",
              token: "test-secret",
            },
    },
    binderOptions: {
      repo: "lclem/lia", // need to put here the actual github repo (if it is a fork)
      ref: "main",
      binderUrl: "https://mybinder.org",
      repoProvider: "github",
      savedSession: {
        enabled: true,
        maxAge: 86400, // the max age in seconds to consider re-using a session
        storagePrefix: "thebe-binder-lia-"
      },
    },
  }
</script>

<!-- <script type="text/javascript" src="https://unpkg.com/thebelab@latest"></script> -->

<!-- our own version of the thebe library: -->
<script type="text/javascript" src="/lia/thebe/lib/index.js"></script>

<!-- highlighting for Agda -->
<script src="/lia/codemirror-agda/lib/index.js"></script>

</head>
<body><header class="site-header" id="site-header">

    <div class="wrapper">

        <a class="site-title" href="/lia/">Logic in Agda</a>

        <nav class="site-nav">
            <!-- <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                    <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                    <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                    <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
                </svg>
            </span> -->

            <div class="trigger">
                <a class="page-link" href="/lia/part0/index/">Part 0</a>
                <a class="page-link" href="/lia/part1/index/">Part 1</a>
                <a class="page-link" href="/lia/part2/index/">Part 2</a>
                <a class="page-link" href="/lia/part3/index/">Part 3</a>
                <a class="page-link" href="/lia/part4/index/">Part 4</a>
                <a class="page-link" href="/lia/part5/index/">Part 5</a>

                <span class="kernel-status">
                    <button class="kernel-status-button" onclick="kernel_status_clicked()" title="kernel status"></button>
                    <span id="kernel-messages" class="kernel-messages"></span>
                </span>

                <div id="connection_options" class="options sidebar" style="text-align: left; line-height: normal; max-width: 800px; padding: 10px; border-radius: 15px;">
                    <!-- display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: space-between; -->
                    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
                    <div>
                        <label for="username" style="color: white;">User:</label>
                        <input type="text" placeholder="github username" id="username" name="username">
                        <label for="password" style="color: white;">Password:</label>
                        <input type="password" placeholder="password" id="password" name="password">
                    </div>
                    <div>
                        <label for="loadFromStore" style="color: white;">Load code from browser store:</label>
                        <label class="switch" style="vertical-align: middle; margin: 10px;">
                            <input type="checkbox" id="loadFromStore" name="loadFromStore">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div>
                        <label for="baseUrl" style="color: white;">Base URL:</label>
                        <input type="text" placeholder="baseUrl" id="baseUrl" name="baseUrl" value="http://127.0.0.1:8888">
                        <label for="token" style="color: white;">Token:</label>
                        <input type="text" placeholder="token" id="token" name="token" value="test-secret">
                    </div>
                    <div>
                        <label for="useBinder" style="color: white;">Use binder:</label>
                        <label class="switch" style="vertical-align: middle; margin: 10px;">
                            <input type="checkbox" id="useBinder" name="useBinder">
                            <span class="slider round"></span>
                        </label>
                        <label for="savedSession" style="color: white;">Reuse session:</label>
                        <label class="switch" style="vertical-align: middle; margin: 10px;">
                            <input type="checkbox" id="savedSession" name="savedSession">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div>
                        <label for="repository" style="color: white;">Github repo:</label>
                        <input type="text" placeholder="repository" id="repository" name="repository" value="">

                        <label for="ref" style="color: white;">Branch:</label>
                        <input type="text" placeholder="ref" id="ref" name="ref" value="main">

                        <label for="binderUrl" style="color: white;">Binder URL:</label>                        
                        <input type="text" placeholder="binderUrl" id="binderUrl" name="binderUrl" value="https://mybinder.org">
                    </div>
                </div>

                <span class="control-container" id="control-container">
                    <svg class="progress-ring" id="progress-ring" width="30" height="30" title="exercise progress" onclick="kernel_status_clicked()">
                        <circle
                            id="progress-circle"
                            class="progress-ring__circle"
                            stroke="black"
                            stroke-width="2.5"
                            fill="transparent"
                            r="14"
                            cx="15"
                            cy="15"/>
                        <circle
                            stroke="lightgray"
                            stroke-width="0.5"
                            fill="transparent"
                            r="14"
                            cx="15"
                            cy="15"/>
                    </svg>
                    <div id="connection_options" class="options sidebar" style="text-align: left; line-height: normal; max-width: 800px; padding: 10px; border-radius: 15px;"></div>
                    <span class="progress-text" id="progress-text" onclick="kernel_status_clicked()"> 0/0 </span>

                    <span id="controls" class="controls">
                        <svg version="1.1" id="run-all" class="run-all" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                            width="15" height="15" viewBox="0 0 163.861 163.861" style="enable-background:new 0 0 163.861 163.861;"
                            xml:space="preserve">
                            <g>
                                <path d="M34.857,3.613C20.084-4.861,8.107,2.081,8.107,19.106v125.637c0,17.042,11.977,23.975,26.75,15.509L144.67,97.275
                                    c14.778-8.477,14.778-22.211,0-30.686L34.857,3.613z"/>
                            </g>
                        </svg>
                    </span>
                </span>
            </div>

            <style>
                .switch {
                    position: relative;
                    display: inline-block;
                    width: 40px;
                    height: 20px;
                }

                /* Hide default HTML checkbox */
                .switch input {
                    opacity: 0;
                    width: 0;
                    height: 0;
                }

                /* The slider */
                .slider {
                    position: absolute;
                    cursor: pointer;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background-color: #ccc;
                    -webkit-transition: .4s;
                    transition: .4s;
                }

                .slider:before {
                    position: absolute;
                    content: "";
                    height: 16px;
                    width: 16px;
                    left: 2px;
                    /* right: 4px; */
                    bottom: 2px;
                    top: 2px;
                    background-color: white;
                    -webkit-transition: .4s;
                    transition: .4s;
                }

                input:checked + .slider {
                    background-color: #2196F3;
                }

                input:focus + .slider {
                    box-shadow: 0 0 1px #2196F3;
                }

                input:checked + .slider:before {
                    -webkit-transform: translateX(18px);
                    -ms-transform: translateX(18px);
                    transform: translateX(18px);
                }

                /* Rounded sliders */
                .slider.round {
                    border-radius: 30px;
                }

                .slider.round:before {
                border-radius: 50%;
                }

                .sidebar input[type=text] {
                    padding: 6px;
                    margin-top: 8px;
                    /* font-size: 17px; */
                    border: none;
                    /* width: 150px; */
                }

                .sidebar {
                    /* height: 100%; */
                    width: 0;
                    position: fixed;
                    z-index: 1000;
                    top: 0;
                    right: 20px;
                    background-color: rgba(17, 17, 17, 0.637);
                    /* overflow-x: hidden; */
                    transition: 0.5s;
                    padding-top: 60px;
                    display: none;
                    margin-top: 60px;
                }

                .sidebar .closebtn {
                    position: absolute;
                    color: white;
                    top: 0;
                    right: 10px;
                    font-size: 24px;
                    margin-left: 20px;
                }

                .progress-ring, .run-all {
                    vertical-align: middle;
                }

                .control-container {
                    transition: all .2s ease-in-out;
                }

                .controls {
                    display: none;
                    opacity: 0;
                    margin-right: 10px;
                    transition: all .5s ease-in-out;
                }

                .run-all:hover {
                    filter: brightness(135%);
                }

                .progress-ring__circle {
                    transition: 0.35s stroke-dashoffset;
                    transform: rotate(-90deg);
                    transform-origin: 50% 50%;
                    visibility: hidden;
                }

                .progress-text {
                    position: relative;
                    top: 0;
                    left: -25px;
                    font-size: 8px;
                    vertical-align: middle;
                    align-self: center;
                }

                .progress-text:hover, .progress-ring:hover, .progress-ring__circle:hover, .run-all {
                    cursor: pointer;
                }
            </style>

            <script>

                //  var storedUsername = localStorage.getItem("username");
                //  localStorage.setItem("username", storedUsername.value);
            
                function doStore(input, key) {

                    if(input.type == "checkbox") {
                        var checked = localStorage.getItem(key);

                        if (checked == "yes") {
                            localStorage.setItem(key, "no");
                        }
                        else {
                            localStorage.setItem(key, "yes");
                        }

                        console.info("checked: ", localStorage.getItem(key));
                    }
                    else {
                        console.info("value: ", input.value);
                        localStorage.setItem(key, input.value);
                    }
                }

                function persistInput(input) {
                    var key = "input-" + input.id;
                    var storedValue = localStorage.getItem(key);
                
                    console.info("Persisting input: ", input);
                
                    // if there is a stored value, use it
                    if (storedValue) {

                        if(input.type != "password") {
                            console.info("restoring value ", storedValue, " for ", input);
                        }

                        if(input.type == "checkbox") {
                            if(storedValue=="yes") {
                                input.setAttribute("checked", "");
                            }
                            else {
                                input.removeAttribute("checked");
                            }
                        }
                        else {
                            input.value = storedValue;
                        }
                    }
                    // if there is no stored value, store the current value
                    else {
                        doStore(input, key);
                    }

                    input.addEventListener('input', function () {
                        console.info("input changed: key = ", key, "; value = ", input);
                        doStore(input, key);
                    });
                    }
                
                    persistInput(document.getElementById("username"));
                    persistInput(document.getElementById("password"));

                    persistInput(document.getElementById("loadFromStore"));

                    persistInput(document.getElementById("baseUrl"));
                    persistInput(document.getElementById("token"));

                    persistInput(document.getElementById("useBinder"));
                    persistInput(document.getElementById("savedSession"));
                    persistInput(document.getElementById("repository"));
                    persistInput(document.getElementById("ref"));
                    persistInput(document.getElementById("binderUrl"));

                    // init
                    document.getElementById("connection_options").style.display = "none";

                    function kernel_status_clicked() {
                
                        console.info("Clicked kernel status");

                        document.getElementById("kernel-messages").style.display = "none";

                        document.getElementById("connection_options").style.width = "750px";
                        document.getElementById("connection_options").style.display = "block";
                        //document.getElementById("header").style.marginLeft = "250px";

                    }

                    function closeNav() {

                        document.getElementById("kernel-messages").style.display = "inline";

                        document.getElementById("connection_options").style.width = "0";
                        document.getElementById("connection_options").style.display = "none";
                        //document.getElementById("header").style.marginLeft= "0";
                    }

                var prevScrollpos = window.pageYOffset;
                var header = document.getElementById("site-header");
                var boxShadow = header.style.boxShadow;

                window.onscroll = function() {
                    var currentScrollPos = window.pageYOffset;
                    // detect scroll down
                    if (prevScrollpos > currentScrollPos) {
                        header.style.top = "0";
                        header.style.boxShadow = boxShadow;
                        prevScrollpos = currentScrollPos;
                    } else if (prevScrollpos <= currentScrollPos) {
                        header.style.top = "-55px";
                        header.style.boxShadow = "none"
                        prevScrollpos = currentScrollPos;
                    }
                }

            let control_container = document.getElementById("control-container");
            let controls = document.getElementById("controls");

            control_container.addEventListener("mouseenter", function(event) {
                controls.style.display = "inline";
//                controls.style.visibility = "visible";
                controls.style.opacity = 1;
                console.info("mouseenter");
            }, false);

            control_container.addEventListener("mouseleave", function(event) {
                // controls.style.visibility = "hidden";
                // controls.style.display = "none";
                controls.style.opacity = 0;
                console.info("mouseleave");
            }, false);

            </script>
            
        </nav>

    </div>

</header><main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

    <header class="post-header">
        <h1 class="post-title">Arithmetic expressions 🚧</h1>
    </header>
  
    <header class="nav-header">
    <p style="text-align:center;">
        
        
        
        <a alt="Part" href="/lia/part5/index/">Part</a>
        &bullet;
        
        
        <a alt="Source code" href="https://github.com/lclem/lia/blob/main/src/part5/AExp.lagda.md">Source</a>
        
        
        
    </p>
</header>

  
    <div class="post-content">
        <h2>Contents</h2>    
        <ul id="toc" class="section-nav">
<li class="toc-entry toc-h1"><a href="#arithmetic-expressions">Arithmetic expressions</a>
<ul>
<li class="toc-entry toc-h2"><a href="#variables">Variables</a></li>
<li class="toc-entry toc-h2"><a href="#syntax-of-expressions">Syntax of expressions</a></li>
<li class="toc-entry toc-h2"><a href="#environments">Environments</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#denotational-semantics">Denotational semantics</a></li>
<li class="toc-entry toc-h1"><a href="#small-steps-operational-semantics">Small-steps operational semantics</a>
<ul>
<li class="toc-entry toc-h2"><a href="#preservation">Preservation</a></li>
<li class="toc-entry toc-h2"><a href="#transitive-closure">Transitive closure</a></li>
<li class="toc-entry toc-h2"><a href="#deterministic-values">Deterministic values</a></li>
<li class="toc-entry toc-h2"><a href="#congruence">Congruence</a></li>
<li class="toc-entry toc-h2"><a href="#relational-reasoning">Relational reasoning</a></li>
<li class="toc-entry toc-h2"><a href="#exercise-termination-weak-normalisation">Exercise: Termination (Weak normalisation)</a></li>
<li class="toc-entry toc-h2"><a href="#exercise-strong-normalisation">Exercise: Strong normalisation</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#big-steps-operational-semantics">Big-steps operational semantics</a>
<ul>
<li class="toc-entry toc-h2"><a href="#evaluator-interpreter">Evaluator (interpreter)</a></li>
<li class="toc-entry toc-h2"><a href="#evaluation-is-deterministic">Evaluation is deterministic</a></li>
<li class="toc-entry toc-h2"><a href="#agreement-of-the-semantics">Agreement of the semantics</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#binary-expressions">Binary expressions</a>
<ul>
<li class="toc-entry toc-h2"><a href="#syntax">Syntax</a></li>
<li class="toc-entry toc-h2"><a href="#denotational-semantics-1">Denotational semantics</a></li>
<li class="toc-entry toc-h2"><a href="#small-steps-operational-semantics-1">Small-steps operational semantics</a></li>
<li class="toc-entry toc-h2"><a href="#agreement">Agreement</a></li>
<li class="toc-entry toc-h2"><a href="#strong-normalisation-first-proof">Strong normalisation (first proof)</a></li>
<li class="toc-entry toc-h2"><a href="#strong-normalisation-second-proof">Strong normalisation (second proof)</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#references">References</a></li>
</ul><pre class="Agda"><a id="48" class="Symbol">{-#</a> <a id="52" class="Keyword">OPTIONS</a> <a id="60" class="Pragma">--allow-unsolved-metas</a> <a id="83" class="Symbol">#-}</a>
<a id="87" class="Keyword">module</a> <a id="94" href="/lia/part5/AExp/" class="Module">part5.AExp</a> <a id="105" class="Keyword">where</a>
<a id="111" class="Keyword">open</a> <a id="116" class="Keyword">import</a> <a id="123" href="/lia/part0/index/" class="Module">part0.index</a> <a id="135" class="Keyword">hiding</a> <a id="142" class="Symbol">(</a><a id="143" href="/lia/part0/Naturals/#6954" class="Datatype">AExp</a><a id="147" class="Symbol">;</a> <a id="149" href="/lia/part0/Naturals/#7065" class="Function Operator">A⟦_⟧</a><a id="153" class="Symbol">)</a> <a id="155" class="Keyword">renaming</a> <a id="164" class="Symbol">(</a><a id="165" href="/lia/part0/Naturals/#266" class="Primitive Operator">_+_</a> <a id="169" class="Symbol">to</a> <a id="Nat._+_"></a><a id="172" href="/lia/part5/AExp/#172" class="Primitive Operator">_+ℕ_</a><a id="176" class="Symbol">;</a> <a id="178" href="/lia/part0/Naturals/#288" class="Primitive Operator">_*_</a> <a id="182" class="Symbol">to</a> <a id="Nat._*_"></a><a id="185" href="/lia/part5/AExp/#185" class="Primitive Operator">_·ℕ_</a><a id="189" class="Symbol">)</a> <a id="191" class="Keyword">public</a></pre>

<h1 id="arithmetic-expressions">
<a class="anchor" href="#arithmetic-expressions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Arithmetic expressions</h1>

<p>We develop an eager denotational and operational semantics for a simple
language of arithmetic expressions, and we prove that they agree.</p>

<h2 id="variables">
<a class="anchor" href="#variables" aria-hidden="true"><span class="octicon octicon-link"></span></a>Variables</h2>

<p>We represent <em>variable names</em> as natural Number. Any countable domain
with decidable equality (such as strings) would work here</p>

<pre class="Agda"><a id="VarName"></a><a id="515" href="/lia/part5/AExp/#515" class="Function">VarName</a> <a id="523" class="Symbol">=</a> <a id="525" href="/lia/part0/Naturals/#301" class="Function">ℕ</a>

<a id="528" class="Keyword">private</a> <a id="536" class="Keyword">variable</a> <a id="545" href="/lia/part5/AExp/#545" class="Generalizable">x</a> <a id="547" href="/lia/part5/AExp/#547" class="Generalizable">y</a> <a id="549" href="/lia/part5/AExp/#549" class="Generalizable">z</a> <a id="551" class="Symbol">:</a> <a id="553" href="/lia/part5/AExp/#515" class="Function">VarName</a></pre>

<h2 id="syntax-of-expressions">
<a class="anchor" href="#syntax-of-expressions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Syntax of expressions</h2>

<p>We define a minimalistic language of arithmetic expressions comprising
variables and a let assignment construct.</p>

<pre class="Agda"><a id="710" class="Keyword">data</a> <a id="AExp"></a><a id="715" href="/lia/part5/AExp/#715" class="Datatype">AExp</a> <a id="720" class="Symbol">:</a> <a id="722" class="PrimitiveType">Set</a> <a id="726" class="Keyword">where</a>
  <a id="AExp.Num"></a><a id="734" href="/lia/part5/AExp/#734" class="InductiveConstructor">Num</a> <a id="738" class="Symbol">:</a> <a id="740" class="Symbol">(</a><a id="741" href="/lia/part5/AExp/#741" class="Bound">n</a> <a id="743" class="Symbol">:</a> <a id="745" href="/lia/part0/Naturals/#301" class="Function">ℕ</a><a id="746" class="Symbol">)</a> <a id="748" class="Symbol">→</a> <a id="750" href="/lia/part5/AExp/#715" class="Datatype">AExp</a>
  <a id="AExp.Var"></a><a id="757" href="/lia/part5/AExp/#757" class="InductiveConstructor">Var</a> <a id="761" class="Symbol">:</a> <a id="763" class="Symbol">(</a><a id="764" href="/lia/part5/AExp/#764" class="Bound">x</a> <a id="766" class="Symbol">:</a> <a id="768" href="/lia/part5/AExp/#515" class="Function">VarName</a><a id="775" class="Symbol">)</a> <a id="777" class="Symbol">→</a> <a id="779" href="/lia/part5/AExp/#715" class="Datatype">AExp</a>
  <a id="AExp.Add"></a><a id="786" href="/lia/part5/AExp/#786" class="InductiveConstructor">Add</a> <a id="790" class="Symbol">:</a> <a id="792" class="Symbol">(</a><a id="793" href="/lia/part5/AExp/#793" class="Bound">e</a> <a id="795" href="/lia/part5/AExp/#795" class="Bound">f</a> <a id="797" class="Symbol">:</a> <a id="799" href="/lia/part5/AExp/#715" class="Datatype">AExp</a><a id="803" class="Symbol">)</a> <a id="805" class="Symbol">→</a> <a id="807" href="/lia/part5/AExp/#715" class="Datatype">AExp</a>
  <a id="AExp.Mul"></a><a id="814" href="/lia/part5/AExp/#814" class="InductiveConstructor">Mul</a> <a id="818" class="Symbol">:</a> <a id="820" class="Symbol">(</a><a id="821" href="/lia/part5/AExp/#821" class="Bound">e</a> <a id="823" href="/lia/part5/AExp/#823" class="Bound">f</a> <a id="825" class="Symbol">:</a> <a id="827" href="/lia/part5/AExp/#715" class="Datatype">AExp</a><a id="831" class="Symbol">)</a> <a id="833" class="Symbol">→</a> <a id="835" href="/lia/part5/AExp/#715" class="Datatype">AExp</a>
  <a id="AExp.Let"></a><a id="842" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="846" class="Symbol">:</a> <a id="848" class="Symbol">(</a><a id="849" href="/lia/part5/AExp/#849" class="Bound">x</a> <a id="851" class="Symbol">:</a> <a id="853" href="/lia/part5/AExp/#515" class="Function">VarName</a><a id="860" class="Symbol">)</a> <a id="862" class="Symbol">(</a><a id="863" href="/lia/part5/AExp/#863" class="Bound">e</a> <a id="865" href="/lia/part5/AExp/#865" class="Bound">f</a> <a id="867" class="Symbol">:</a> <a id="869" href="/lia/part5/AExp/#715" class="Datatype">AExp</a><a id="873" class="Symbol">)</a> <a id="875" class="Symbol">→</a> <a id="877" href="/lia/part5/AExp/#715" class="Datatype">AExp</a>

<a id="883" class="Keyword">private</a>
  <a id="893" class="Keyword">variable</a>
    <a id="906" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="908" href="/lia/part5/AExp/#908" class="Generalizable">e′</a> <a id="911" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="913" href="/lia/part5/AExp/#913" class="Generalizable">f′</a> <a id="916" href="/lia/part5/AExp/#916" class="Generalizable">g</a> <a id="918" class="Symbol">:</a> <a id="920" href="/lia/part5/AExp/#715" class="Datatype">AExp</a>
    <a id="929" href="/lia/part5/AExp/#929" class="Generalizable">m</a> <a id="931" href="/lia/part5/AExp/#931" class="Generalizable">n</a> <a id="933" class="Symbol">:</a> <a id="935" href="/lia/part0/Naturals/#301" class="Function">ℕ</a></pre>

<p>For example, the following expression adds one to a variable (called
10). This is pure syntax so far, no calculation is being performed.</p>

<pre class="Agda"><a id="add-one"></a><a id="1084" href="/lia/part5/AExp/#1084" class="Function">add-one</a> <a id="1092" class="Symbol">:</a> <a id="1094" href="/lia/part5/AExp/#715" class="Datatype">AExp</a>
<a id="1099" href="/lia/part5/AExp/#1084" class="Function">add-one</a> <a id="1107" class="Symbol">=</a> <a id="1109" href="/lia/part5/AExp/#786" class="InductiveConstructor">Add</a> <a id="1113" class="Symbol">(</a><a id="1114" href="/lia/part5/AExp/#757" class="InductiveConstructor">Var</a> <a id="1118" class="Number">10</a><a id="1120" class="Symbol">)</a> <a id="1122" class="Symbol">(</a><a id="1123" href="/lia/part5/AExp/#734" class="InductiveConstructor">Num</a> <a id="1127" class="Number">1</a><a id="1128" class="Symbol">)</a></pre>
<pre class="Agda"><a id="1139" class="Keyword">pattern</a> <a id="$_"></a><a id="1147" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$_</a> <a id="1150" href="/lia/part5/AExp/#1158" class="Bound">n</a> <a id="1152" class="Symbol">=</a> <a id="1154" class="InductiveConstructor">Num</a> <a id="1158" href="/lia/part5/AExp/#1158" class="Bound">n</a>
<a id="1160" class="Keyword">pattern</a> <a id="`_"></a><a id="1168" href="/lia/part5/AExp/#1168" class="InductiveConstructor Operator">`_</a> <a id="1171" href="/lia/part5/AExp/#1179" class="Bound">x</a> <a id="1173" class="Symbol">=</a> <a id="1175" href="/lia/part5/AExp/#757" class="InductiveConstructor">Var</a> <a id="1179" href="/lia/part5/AExp/#1179" class="Bound">x</a>
<a id="1181" class="Keyword">pattern</a> <a id="_+_"></a><a id="1189" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">_+_</a> <a id="1193" href="/lia/part5/AExp/#1203" class="Bound">x</a> <a id="1195" href="/lia/part5/AExp/#1205" class="Bound">y</a> <a id="1197" class="Symbol">=</a> <a id="1199" href="/lia/part5/AExp/#786" class="InductiveConstructor">Add</a> <a id="1203" href="/lia/part5/AExp/#1203" class="Bound">x</a> <a id="1205" href="/lia/part5/AExp/#1205" class="Bound">y</a>
<a id="1207" class="Keyword">pattern</a> <a id="_·_"></a><a id="1215" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">_·_</a> <a id="1219" href="/lia/part5/AExp/#1229" class="Bound">x</a> <a id="1221" href="/lia/part5/AExp/#1231" class="Bound">y</a> <a id="1223" class="Symbol">=</a> <a id="1225" href="/lia/part5/AExp/#814" class="InductiveConstructor">Mul</a> <a id="1229" href="/lia/part5/AExp/#1229" class="Bound">x</a> <a id="1231" href="/lia/part5/AExp/#1231" class="Bound">y</a>

<a id="1234" class="Keyword">infix</a> <a id="1240" class="Number">50</a> <a id="1243" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$_</a> <a id="1246" href="/lia/part5/AExp/#1168" class="InductiveConstructor Operator">`_</a>
<a id="1249" class="Keyword">infixr</a> <a id="1256" class="Number">30</a> <a id="1259" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">_·_</a>
<a id="1263" class="Keyword">infixl</a> <a id="1270" class="Number">25</a> <a id="1273" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">_+_</a></pre>
<pre class="Agda"><a id="add-one′"></a><a id="1286" href="/lia/part5/AExp/#1286" class="Function">add-one′</a> <a id="1295" class="Symbol">:</a> <a id="1297" href="/lia/part5/AExp/#715" class="Datatype">AExp</a>
<a id="1302" href="/lia/part5/AExp/#1286" class="Function">add-one′</a> <a id="1311" class="Symbol">=</a> <a id="1313" href="/lia/part5/AExp/#1168" class="InductiveConstructor Operator">`</a> <a id="1315" class="Number">10</a> <a id="1318" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="1320" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="1322" class="Number">1</a></pre>

<h2 id="environments">
<a class="anchor" href="#environments" aria-hidden="true"><span class="octicon octicon-link"></span></a>Environments</h2>

<p>In order to represent the value of free variables, we use environments.</p>

<pre class="Agda"><a id="Env"></a><a id="1423" href="/lia/part5/AExp/#1423" class="Function">Env</a> <a id="1427" class="Symbol">=</a> <a id="1429" href="/lia/part5/AExp/#515" class="Function">VarName</a> <a id="1437" class="Symbol">→</a> <a id="1439" href="/lia/part0/Naturals/#301" class="Function">ℕ</a>

<a id="1442" class="Keyword">private</a> <a id="1450" class="Keyword">variable</a> <a id="1459" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="1461" class="Symbol">:</a> <a id="1463" href="/lia/part5/AExp/#1423" class="Function">Env</a></pre>

<p>The following environment assigns value <code class="language-plaintext highlighter-rouge">200</code> to the variable named
<code class="language-plaintext highlighter-rouge">10</code>, and value <code class="language-plaintext highlighter-rouge">40</code> to every other variable.</p>

<pre class="Agda"><a id="ρ0"></a><a id="1591" href="/lia/part5/AExp/#1591" class="Function">ρ0</a> <a id="1594" class="Symbol">:</a> <a id="1596" href="/lia/part5/AExp/#1423" class="Function">Env</a>
<a id="1600" href="/lia/part5/AExp/#1591" class="Function">ρ0</a> <a id="1603" class="Number">10</a> <a id="1606" class="Symbol">=</a> <a id="1608" class="Number">200</a>
<a id="1612" href="/lia/part5/AExp/#1591" class="CatchallClause Function">ρ0</a><a id="1614" class="CatchallClause"> </a><a id="1615" class="CatchallClause Symbol">_</a> <a id="1617" class="Symbol">=</a> <a id="1619" class="Number">40</a></pre>

<h1 id="denotational-semantics">
<a class="anchor" href="#denotational-semantics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Denotational semantics</h1>

<pre class="Agda"><a id="1657" class="Keyword">infix</a> <a id="1663" class="Number">15</a> <a id="1666" href="/lia/part5/AExp/#1685" class="Function Operator">⟦_⟧_</a> <a id="1671" href="/lia/part5/AExp/#1846" class="Function Operator">A⟦_⟧_</a>
<a id="1677" class="Keyword">private</a> <a id="⟦_⟧_"></a><a id="1685" href="/lia/part5/AExp/#1685" class="Function Operator">⟦_⟧_</a> <a id="1690" class="Symbol">:</a> <a id="1692" href="/lia/part5/AExp/#715" class="Datatype">AExp</a> <a id="1697" class="Symbol">→</a> <a id="1699" href="/lia/part5/AExp/#1423" class="Function">Env</a> <a id="1703" class="Symbol">→</a> <a id="1705" href="/lia/part0/Naturals/#301" class="Function">ℕ</a>
<a id="1707" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="1709" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="1711" href="/lia/part5/AExp/#1711" class="Bound">n</a> <a id="1713" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="1715" href="/lia/part5/AExp/#1715" class="Bound">ρ</a> <a id="1717" class="Symbol">=</a> <a id="1719" href="/lia/part5/AExp/#1711" class="Bound">n</a>
<a id="1721" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="1723" href="/lia/part5/AExp/#1168" class="InductiveConstructor Operator">`</a> <a id="1725" href="/lia/part5/AExp/#1725" class="Bound">x</a> <a id="1727" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="1729" href="/lia/part5/AExp/#1729" class="Bound">ρ</a> <a id="1731" class="Symbol">=</a> <a id="1733" href="/lia/part5/AExp/#1729" class="Bound">ρ</a> <a id="1735" href="/lia/part5/AExp/#1725" class="Bound">x</a>
<a id="1737" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="1739" href="/lia/part5/AExp/#1739" class="Bound">e</a> <a id="1741" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="1743" href="/lia/part5/AExp/#1743" class="Bound">f</a> <a id="1745" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="1747" href="/lia/part5/AExp/#1747" class="Bound">ρ</a> <a id="1749" class="Symbol">=</a> <a id="1751" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="1753" href="/lia/part5/AExp/#1739" class="Bound">e</a> <a id="1755" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="1757" href="/lia/part5/AExp/#1747" class="Bound">ρ</a> <a id="1759" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="1762" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="1764" href="/lia/part5/AExp/#1743" class="Bound">f</a> <a id="1766" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="1768" href="/lia/part5/AExp/#1747" class="Bound">ρ</a>
<a id="1770" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="1772" href="/lia/part5/AExp/#1772" class="Bound">e</a> <a id="1774" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">·</a> <a id="1776" href="/lia/part5/AExp/#1776" class="Bound">f</a> <a id="1778" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="1780" href="/lia/part5/AExp/#1780" class="Bound">ρ</a> <a id="1782" class="Symbol">=</a> <a id="1784" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="1786" href="/lia/part5/AExp/#1772" class="Bound">e</a> <a id="1788" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="1790" href="/lia/part5/AExp/#1780" class="Bound">ρ</a> <a id="1792" href="/lia/part5/AExp/#185" class="Primitive Operator">·ℕ</a> <a id="1795" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="1797" href="/lia/part5/AExp/#1776" class="Bound">f</a> <a id="1799" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="1801" href="/lia/part5/AExp/#1780" class="Bound">ρ</a>
<a id="1803" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="1805" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="1809" href="/lia/part5/AExp/#1809" class="Bound">x</a> <a id="1811" href="/lia/part5/AExp/#1811" class="Bound">e</a> <a id="1813" href="/lia/part5/AExp/#1813" class="Bound">f</a> <a id="1815" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="1817" href="/lia/part5/AExp/#1817" class="Bound">ρ</a> <a id="1819" class="Symbol">=</a> <a id="1821" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="1823" href="/lia/part5/AExp/#1813" class="Bound">f</a> <a id="1825" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="1827" href="/lia/part5/AExp/#1817" class="Bound">ρ</a> <a id="1829" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="1831" href="/lia/part5/AExp/#1809" class="Bound">x</a> <a id="1833" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="1835" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="1837" href="/lia/part5/AExp/#1811" class="Bound">e</a> <a id="1839" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="1841" href="/lia/part5/AExp/#1817" class="Bound">ρ</a> <a id="1843" href="/lia/part0/Functions/#568" class="Function Operator">]</a>

<a id="A⟦_⟧_"></a><a id="1846" href="/lia/part5/AExp/#1846" class="Function Operator">A⟦_⟧_</a> <a id="1852" class="Symbol">=</a> <a id="1854" href="/lia/part5/AExp/#1685" class="Function Operator">⟦_⟧_</a></pre>

<p>With our denotational semantics for expressions we can check (by
computation) the value of concrete expressions.</p>

<pre class="Agda"><a id="1982" href="/lia/part5/AExp/#1982" class="Function">_</a> <a id="1984" class="Symbol">:</a> <a id="1986" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="1988" href="/lia/part5/AExp/#1084" class="Function">add-one</a> <a id="1996" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="1998" href="/lia/part5/AExp/#1591" class="Function">ρ0</a> <a id="2001" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2003" class="Number">201</a>
<a id="2007" class="Symbol">_</a> <a id="2009" class="Symbol">=</a> <a id="2011" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

<h1 id="small-steps-operational-semantics">
<a class="anchor" href="#small-steps-operational-semantics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Small-steps operational semantics</h1>

<p>We use global environments and eager semantics.</p>

<pre class="Agda"><a id="2111" class="Keyword">infix</a> <a id="2117" class="Number">4</a> <a id="2119" href="/lia/part5/AExp/#2130" class="Datatype Operator">_⊢_↝_</a>
<a id="2125" class="Keyword">data</a> <a id="_⊢_↝_"></a><a id="2130" href="/lia/part5/AExp/#2130" class="Datatype Operator">_⊢_↝_</a> <a id="2136" class="Symbol">:</a> <a id="2138" href="/lia/part5/AExp/#1423" class="Function">Env</a> <a id="2142" class="Symbol">→</a> <a id="2144" href="/lia/part5/AExp/#715" class="Datatype">AExp</a> <a id="2149" class="Symbol">→</a> <a id="2151" href="/lia/part5/AExp/#715" class="Datatype">AExp</a> <a id="2156" class="Symbol">→</a> <a id="2158" class="PrimitiveType">Set</a> <a id="2162" class="Keyword">where</a>

  <a id="_⊢_↝_.↝-Var"></a><a id="2171" href="/lia/part5/AExp/#2171" class="InductiveConstructor">↝-Var</a> <a id="2177" class="Symbol">:</a> <a id="2179" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="2181" href="/lia/part5/AExp/#2130" class="Datatype Operator">⊢</a> <a id="2183" href="/lia/part5/AExp/#1168" class="InductiveConstructor Operator">`</a> <a id="2185" href="/lia/part5/AExp/#545" class="Generalizable">x</a> <a id="2187" href="/lia/part5/AExp/#2130" class="Datatype Operator">↝</a> <a id="2189" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="2191" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="2193" href="/lia/part5/AExp/#545" class="Generalizable">x</a>

  <a id="_⊢_↝_.↝-Add-stop"></a><a id="2198" href="/lia/part5/AExp/#2198" class="InductiveConstructor">↝-Add-stop</a> <a id="2209" class="Symbol">:</a>
    <a id="2215" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="2217" href="/lia/part5/AExp/#2130" class="Datatype Operator">⊢</a> <a id="2219" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="2221" href="/lia/part5/AExp/#929" class="Generalizable">m</a> <a id="2223" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="2225" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="2227" href="/lia/part5/AExp/#931" class="Generalizable">n</a> <a id="2229" href="/lia/part5/AExp/#2130" class="Datatype Operator">↝</a> <a id="2231" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="2233" class="Symbol">(</a><a id="2234" href="/lia/part5/AExp/#929" class="Generalizable">m</a> <a id="2236" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="2239" href="/lia/part5/AExp/#931" class="Generalizable">n</a><a id="2240" class="Symbol">)</a>

  <a id="_⊢_↝_.↝-Add-left"></a><a id="2245" href="/lia/part5/AExp/#2245" class="InductiveConstructor">↝-Add-left</a> <a id="2256" class="Symbol">:</a>
    <a id="2262" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="2264" href="/lia/part5/AExp/#2130" class="Datatype Operator">⊢</a> <a id="2266" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="2268" href="/lia/part5/AExp/#2130" class="Datatype Operator">↝</a> <a id="2270" href="/lia/part5/AExp/#908" class="Generalizable">e′</a> <a id="2273" class="Symbol">→</a>
    <a id="2279" class="Comment">------------------</a>
    <a id="2302" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="2304" href="/lia/part5/AExp/#2130" class="Datatype Operator">⊢</a> <a id="2306" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="2308" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="2310" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="2312" href="/lia/part5/AExp/#2130" class="Datatype Operator">↝</a> <a id="2314" href="/lia/part5/AExp/#908" class="Generalizable">e′</a> <a id="2317" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="2319" href="/lia/part5/AExp/#911" class="Generalizable">f</a>

  <a id="_⊢_↝_.↝-Add-right"></a><a id="2324" href="/lia/part5/AExp/#2324" class="InductiveConstructor">↝-Add-right</a> <a id="2336" class="Symbol">:</a>
    <a id="2342" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="2344" href="/lia/part5/AExp/#2130" class="Datatype Operator">⊢</a> <a id="2346" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="2348" href="/lia/part5/AExp/#2130" class="Datatype Operator">↝</a> <a id="2350" href="/lia/part5/AExp/#913" class="Generalizable">f′</a> <a id="2353" class="Symbol">→</a>
    <a id="2359" class="Comment">------------------</a>
    <a id="2382" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="2384" href="/lia/part5/AExp/#2130" class="Datatype Operator">⊢</a> <a id="2386" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="2388" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="2390" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="2392" href="/lia/part5/AExp/#2130" class="Datatype Operator">↝</a> <a id="2394" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="2396" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="2398" href="/lia/part5/AExp/#913" class="Generalizable">f′</a>

  <a id="_⊢_↝_.↝-Mul-stop"></a><a id="2404" href="/lia/part5/AExp/#2404" class="InductiveConstructor">↝-Mul-stop</a> <a id="2415" class="Symbol">:</a>
    <a id="2421" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="2423" href="/lia/part5/AExp/#2130" class="Datatype Operator">⊢</a> <a id="2425" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="2427" href="/lia/part5/AExp/#929" class="Generalizable">m</a> <a id="2429" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">·</a> <a id="2431" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="2433" href="/lia/part5/AExp/#931" class="Generalizable">n</a> <a id="2435" href="/lia/part5/AExp/#2130" class="Datatype Operator">↝</a> <a id="2437" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="2439" class="Symbol">(</a><a id="2440" href="/lia/part5/AExp/#929" class="Generalizable">m</a> <a id="2442" href="/lia/part5/AExp/#185" class="Primitive Operator">·ℕ</a> <a id="2445" href="/lia/part5/AExp/#931" class="Generalizable">n</a><a id="2446" class="Symbol">)</a>

  <a id="_⊢_↝_.↝-Mul-left"></a><a id="2451" href="/lia/part5/AExp/#2451" class="InductiveConstructor">↝-Mul-left</a> <a id="2462" class="Symbol">:</a>
    <a id="2468" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="2470" href="/lia/part5/AExp/#2130" class="Datatype Operator">⊢</a> <a id="2472" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="2474" href="/lia/part5/AExp/#2130" class="Datatype Operator">↝</a> <a id="2476" href="/lia/part5/AExp/#908" class="Generalizable">e′</a> <a id="2479" class="Symbol">→</a>
    <a id="2485" class="Comment">------------------</a>
    <a id="2508" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="2510" href="/lia/part5/AExp/#2130" class="Datatype Operator">⊢</a> <a id="2512" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="2514" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">·</a> <a id="2516" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="2518" href="/lia/part5/AExp/#2130" class="Datatype Operator">↝</a> <a id="2520" href="/lia/part5/AExp/#908" class="Generalizable">e′</a> <a id="2523" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">·</a> <a id="2525" href="/lia/part5/AExp/#911" class="Generalizable">f</a>

  <a id="_⊢_↝_.↝-Mul-right"></a><a id="2530" href="/lia/part5/AExp/#2530" class="InductiveConstructor">↝-Mul-right</a> <a id="2542" class="Symbol">:</a>
    <a id="2548" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="2550" href="/lia/part5/AExp/#2130" class="Datatype Operator">⊢</a> <a id="2552" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="2554" href="/lia/part5/AExp/#2130" class="Datatype Operator">↝</a> <a id="2556" href="/lia/part5/AExp/#913" class="Generalizable">f′</a> <a id="2559" class="Symbol">→</a>
    <a id="2565" class="Comment">------------------</a>
    <a id="2588" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="2590" href="/lia/part5/AExp/#2130" class="Datatype Operator">⊢</a> <a id="2592" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="2594" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">·</a> <a id="2596" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="2598" href="/lia/part5/AExp/#2130" class="Datatype Operator">↝</a> <a id="2600" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="2602" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">·</a> <a id="2604" href="/lia/part5/AExp/#913" class="Generalizable">f′</a>

  <a id="_⊢_↝_.↝-Let-stop"></a><a id="2610" href="/lia/part5/AExp/#2610" class="InductiveConstructor">↝-Let-stop</a> <a id="2621" class="Symbol">:</a>
    <a id="2627" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="2629" href="/lia/part5/AExp/#2130" class="Datatype Operator">⊢</a> <a id="2631" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="2635" href="/lia/part5/AExp/#545" class="Generalizable">x</a> <a id="2637" class="Symbol">(</a><a id="2638" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="2640" href="/lia/part5/AExp/#929" class="Generalizable">m</a><a id="2641" class="Symbol">)</a> <a id="2643" class="Symbol">(</a><a id="2644" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="2646" href="/lia/part5/AExp/#931" class="Generalizable">n</a><a id="2647" class="Symbol">)</a> <a id="2649" href="/lia/part5/AExp/#2130" class="Datatype Operator">↝</a> <a id="2651" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="2653" href="/lia/part5/AExp/#931" class="Generalizable">n</a>

  <a id="_⊢_↝_.↝-Let-1"></a><a id="2658" href="/lia/part5/AExp/#2658" class="InductiveConstructor">↝-Let-1</a> <a id="2666" class="Symbol">:</a>
    <a id="2672" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="2674" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="2676" href="/lia/part5/AExp/#545" class="Generalizable">x</a> <a id="2678" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="2680" href="/lia/part5/AExp/#929" class="Generalizable">m</a> <a id="2682" href="/lia/part0/Functions/#568" class="Function Operator">]</a> <a id="2684" href="/lia/part5/AExp/#2130" class="Datatype Operator">⊢</a> <a id="2686" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="2688" href="/lia/part5/AExp/#2130" class="Datatype Operator">↝</a> <a id="2690" href="/lia/part5/AExp/#913" class="Generalizable">f′</a> <a id="2693" class="Symbol">→</a>
    <a id="2699" class="Comment">----------------------------------</a>
    <a id="2738" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="2740" href="/lia/part5/AExp/#2130" class="Datatype Operator">⊢</a> <a id="2742" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="2746" href="/lia/part5/AExp/#545" class="Generalizable">x</a> <a id="2748" class="Symbol">(</a><a id="2749" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="2751" href="/lia/part5/AExp/#929" class="Generalizable">m</a><a id="2752" class="Symbol">)</a> <a id="2754" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="2756" href="/lia/part5/AExp/#2130" class="Datatype Operator">↝</a> <a id="2758" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="2762" href="/lia/part5/AExp/#545" class="Generalizable">x</a> <a id="2764" class="Symbol">(</a><a id="2765" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="2767" href="/lia/part5/AExp/#929" class="Generalizable">m</a><a id="2768" class="Symbol">)</a> <a id="2770" href="/lia/part5/AExp/#913" class="Generalizable">f′</a>

  <a id="_⊢_↝_.↝-Let-2"></a><a id="2776" href="/lia/part5/AExp/#2776" class="InductiveConstructor">↝-Let-2</a> <a id="2784" class="Symbol">:</a>
    <a id="2790" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="2792" href="/lia/part5/AExp/#2130" class="Datatype Operator">⊢</a> <a id="2794" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="2796" href="/lia/part5/AExp/#2130" class="Datatype Operator">↝</a> <a id="2798" href="/lia/part5/AExp/#908" class="Generalizable">e′</a> <a id="2801" class="Symbol">→</a>
    <a id="2807" class="Comment">--------------------------</a>
    <a id="2838" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="2840" href="/lia/part5/AExp/#2130" class="Datatype Operator">⊢</a> <a id="2842" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="2846" href="/lia/part5/AExp/#545" class="Generalizable">x</a> <a id="2848" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="2850" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="2852" href="/lia/part5/AExp/#2130" class="Datatype Operator">↝</a> <a id="2854" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="2858" href="/lia/part5/AExp/#545" class="Generalizable">x</a> <a id="2860" href="/lia/part5/AExp/#908" class="Generalizable">e′</a> <a id="2863" href="/lia/part5/AExp/#911" class="Generalizable">f</a></pre>

<h2 id="preservation">
<a class="anchor" href="#preservation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Preservation</h2>

<pre class="Agda"><a id="preservation"></a><a id="2891" href="/lia/part5/AExp/#2891" class="Function">preservation</a> <a id="2904" class="Symbol">:</a>
  <a id="2908" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="2910" href="/lia/part5/AExp/#2130" class="Datatype Operator">⊢</a> <a id="2912" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="2914" href="/lia/part5/AExp/#2130" class="Datatype Operator">↝</a> <a id="2916" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="2918" class="Symbol">→</a>
  <a id="2922" class="Comment">-----------------</a>
  <a id="2942" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="2944" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="2946" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="2948" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="2950" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2952" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="2954" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="2956" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="2958" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a>

<a id="2961" href="/lia/part5/AExp/#2891" class="Function">preservation</a> <a id="2974" href="/lia/part5/AExp/#2171" class="InductiveConstructor">↝-Var</a> <a id="2980" class="Symbol">=</a> <a id="2982" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="2988" href="/lia/part5/AExp/#2891" class="Function">preservation</a> <a id="3001" href="/lia/part5/AExp/#2198" class="InductiveConstructor">↝-Add-stop</a> <a id="3012" class="Symbol">=</a> <a id="3014" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="3019" href="/lia/part5/AExp/#2891" class="Function">preservation</a> <a id="3032" class="Symbol">(</a><a id="3033" href="/lia/part5/AExp/#2245" class="InductiveConstructor">↝-Add-left</a> <a id="3044" href="/lia/part5/AExp/#3044" class="Bound">step</a><a id="3048" class="Symbol">)</a> <a id="3050" class="Keyword">rewrite</a> <a id="3058" href="/lia/part5/AExp/#2891" class="Function">preservation</a> <a id="3071" href="/lia/part5/AExp/#3044" class="Bound">step</a> <a id="3076" class="Symbol">=</a> <a id="3078" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="3083" href="/lia/part5/AExp/#2891" class="Function">preservation</a> <a id="3096" class="Symbol">(</a><a id="3097" href="/lia/part5/AExp/#2324" class="InductiveConstructor">↝-Add-right</a> <a id="3109" href="/lia/part5/AExp/#3109" class="Bound">step</a><a id="3113" class="Symbol">)</a> <a id="3115" class="Keyword">rewrite</a> <a id="3123" href="/lia/part5/AExp/#2891" class="Function">preservation</a> <a id="3136" href="/lia/part5/AExp/#3109" class="Bound">step</a> <a id="3141" class="Symbol">=</a> <a id="3143" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="3149" href="/lia/part5/AExp/#2891" class="Function">preservation</a> <a id="3162" href="/lia/part5/AExp/#2404" class="InductiveConstructor">↝-Mul-stop</a> <a id="3173" class="Symbol">=</a> <a id="3175" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="3180" href="/lia/part5/AExp/#2891" class="Function">preservation</a> <a id="3193" class="Symbol">(</a><a id="3194" href="/lia/part5/AExp/#2451" class="InductiveConstructor">↝-Mul-left</a> <a id="3205" href="/lia/part5/AExp/#3205" class="Bound">step</a><a id="3209" class="Symbol">)</a> <a id="3211" class="Keyword">rewrite</a> <a id="3219" href="/lia/part5/AExp/#2891" class="Function">preservation</a> <a id="3232" href="/lia/part5/AExp/#3205" class="Bound">step</a> <a id="3237" class="Symbol">=</a> <a id="3239" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="3244" href="/lia/part5/AExp/#2891" class="Function">preservation</a> <a id="3257" class="Symbol">(</a><a id="3258" href="/lia/part5/AExp/#2530" class="InductiveConstructor">↝-Mul-right</a> <a id="3270" href="/lia/part5/AExp/#3270" class="Bound">step</a><a id="3274" class="Symbol">)</a> <a id="3276" class="Keyword">rewrite</a> <a id="3284" href="/lia/part5/AExp/#2891" class="Function">preservation</a> <a id="3297" href="/lia/part5/AExp/#3270" class="Bound">step</a> <a id="3302" class="Symbol">=</a> <a id="3304" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="3310" href="/lia/part5/AExp/#2891" class="Function">preservation</a> <a id="3323" href="/lia/part5/AExp/#2610" class="InductiveConstructor">↝-Let-stop</a> <a id="3334" class="Symbol">=</a> <a id="3336" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="3341" href="/lia/part5/AExp/#2891" class="Function">preservation</a> <a id="3354" class="Symbol">(</a><a id="3355" href="/lia/part5/AExp/#2658" class="InductiveConstructor">↝-Let-1</a> <a id="3363" href="/lia/part5/AExp/#3363" class="Bound">step</a><a id="3367" class="Symbol">)</a> <a id="3369" class="Keyword">rewrite</a> <a id="3377" href="/lia/part5/AExp/#2891" class="Function">preservation</a> <a id="3390" href="/lia/part5/AExp/#3363" class="Bound">step</a> <a id="3395" class="Symbol">=</a> <a id="3397" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="3402" href="/lia/part5/AExp/#2891" class="Function">preservation</a> <a id="3415" class="Symbol">(</a><a id="3416" href="/lia/part5/AExp/#2776" class="InductiveConstructor">↝-Let-2</a> <a id="3424" href="/lia/part5/AExp/#3424" class="Bound">step</a><a id="3428" class="Symbol">)</a> <a id="3430" class="Keyword">rewrite</a> <a id="3438" href="/lia/part5/AExp/#2891" class="Function">preservation</a> <a id="3451" href="/lia/part5/AExp/#3424" class="Bound">step</a> <a id="3456" class="Symbol">=</a> <a id="3458" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

<h2 id="transitive-closure">
<a class="anchor" href="#transitive-closure" aria-hidden="true"><span class="octicon octicon-link"></span></a>Transitive closure</h2>

<p>We define the transitive closure of the small-step operational
semantics.</p>

<pre class="Agda"><a id="3570" class="Keyword">data</a> <a id="_⊢_↝*_"></a><a id="3575" href="/lia/part5/AExp/#3575" class="Datatype Operator">_⊢_↝*_</a> <a id="3582" class="Symbol">:</a> <a id="3584" href="/lia/part5/AExp/#1423" class="Function">Env</a> <a id="3588" class="Symbol">→</a> <a id="3590" href="/lia/part5/AExp/#715" class="Datatype">AExp</a> <a id="3595" class="Symbol">→</a> <a id="3597" href="/lia/part5/AExp/#715" class="Datatype">AExp</a> <a id="3602" class="Symbol">→</a> <a id="3604" class="PrimitiveType">Set</a> <a id="3608" class="Keyword">where</a>

    <a id="_⊢_↝*_.stop"></a><a id="3619" href="/lia/part5/AExp/#3619" class="InductiveConstructor">stop</a> <a id="3624" class="Symbol">:</a> <a id="3626" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="3628" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="3630" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="3632" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="3635" href="/lia/part5/AExp/#906" class="Generalizable">e</a>

    <a id="_⊢_↝*_.one"></a><a id="3642" href="/lia/part5/AExp/#3642" class="InductiveConstructor">one</a> <a id="3646" class="Symbol">:</a> <a id="3648" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="3650" href="/lia/part5/AExp/#2130" class="Datatype Operator">⊢</a> <a id="3652" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="3654" href="/lia/part5/AExp/#2130" class="Datatype Operator">↝</a> <a id="3656" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="3658" class="Symbol">→</a>
          <a id="3670" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="3672" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="3674" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="3676" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="3679" href="/lia/part5/AExp/#916" class="Generalizable">g</a> <a id="3681" class="Symbol">→</a>
          <a id="3693" class="Comment">----------</a>
          <a id="3714" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="3716" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="3718" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="3720" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="3723" href="/lia/part5/AExp/#916" class="Generalizable">g</a></pre>

<p>We can indeed show that <code class="language-plaintext highlighter-rouge">_⊢_↝*_</code> is transitive with a standard
induction.</p>

<pre class="Agda"><a id="↝*-trans"></a><a id="3809" href="/lia/part5/AExp/#3809" class="Function">↝*-trans</a> <a id="3818" class="Symbol">:</a>
  <a id="3822" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="3824" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="3826" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="3828" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="3831" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="3833" class="Symbol">→</a>
  <a id="3837" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="3839" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="3841" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="3843" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="3846" href="/lia/part5/AExp/#916" class="Generalizable">g</a> <a id="3848" class="Symbol">→</a>
  <a id="3852" class="Comment">----------</a>
  <a id="3865" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="3867" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="3869" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="3871" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="3874" href="/lia/part5/AExp/#916" class="Generalizable">g</a>

<a id="3877" href="/lia/part5/AExp/#3809" class="Function">↝*-trans</a> <a id="3886" href="/lia/part5/AExp/#3619" class="InductiveConstructor">stop</a> <a id="3891" href="/lia/part5/AExp/#3891" class="Bound">δ</a> <a id="3893" class="Symbol">=</a> <a id="3895" href="/lia/part5/AExp/#3891" class="Bound">δ</a>
<a id="3897" href="/lia/part5/AExp/#3809" class="Function">↝*-trans</a> <a id="3906" class="Symbol">(</a><a id="3907" href="/lia/part5/AExp/#3642" class="InductiveConstructor">one</a> <a id="3911" href="/lia/part5/AExp/#3911" class="Bound">step</a> <a id="3916" href="/lia/part5/AExp/#3916" class="Bound">δ₁</a><a id="3918" class="Symbol">)</a> <a id="3920" href="/lia/part5/AExp/#3920" class="Bound">δ₂</a> <a id="3923" class="Symbol">=</a> <a id="3925" href="/lia/part5/AExp/#3642" class="InductiveConstructor">one</a> <a id="3929" href="/lia/part5/AExp/#3911" class="Bound">step</a> <a id="3934" class="Symbol">(</a><a id="3935" href="/lia/part5/AExp/#3809" class="Function">↝*-trans</a> <a id="3944" href="/lia/part5/AExp/#3916" class="Bound">δ₁</a> <a id="3947" href="/lia/part5/AExp/#3920" class="Bound">δ₂</a><a id="3949" class="Symbol">)</a></pre>

<p>An easy induction based on <a href="#preservation"><code class="language-plaintext highlighter-rouge">preservation</code></a> shows that
the denotational semantics is preserved by the transitive closure of the
small-step operational semantics.</p>

<pre class="Agda"><a id="preservation*"></a><a id="4125" href="/lia/part5/AExp/#4125" class="Function">preservation*</a> <a id="4139" class="Symbol">:</a>
  <a id="4143" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="4145" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="4147" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="4149" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="4152" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="4154" class="Symbol">→</a>
  <a id="4158" class="Comment">-----------------</a>
  <a id="4178" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="4180" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="4182" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="4184" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="4186" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4188" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="4190" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="4192" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="4194" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a>

<a id="4197" href="/lia/part5/AExp/#4125" class="Function">preservation*</a> <a id="4211" class="Symbol">{</a><a id="4212" href="/lia/part5/AExp/#4212" class="Bound">ρ</a><a id="4213" class="Symbol">}</a> <a id="4215" class="Symbol">{</a><a id="4216" href="/lia/part5/AExp/#4216" class="Bound">e</a><a id="4217" class="Symbol">}</a> <a id="4219" class="Symbol">{</a><a id="4220" class="DottedPattern Symbol">.</a><a id="4221" href="/lia/part5/AExp/#4216" class="DottedPattern Bound">e</a><a id="4222" class="Symbol">}</a> <a id="4224" href="/lia/part5/AExp/#3619" class="InductiveConstructor">stop</a> <a id="4229" class="Symbol">=</a> <a id="4231" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="4236" href="/lia/part5/AExp/#4125" class="Function">preservation*</a> <a id="4250" class="Symbol">{</a><a id="4251" href="/lia/part5/AExp/#4251" class="Bound">ρ</a><a id="4252" class="Symbol">}</a> <a id="4254" class="Symbol">{</a><a id="4255" href="/lia/part5/AExp/#4255" class="Bound">e</a><a id="4256" class="Symbol">}</a> <a id="4258" class="Symbol">{</a><a id="4259" href="/lia/part5/AExp/#4259" class="Bound">g</a><a id="4260" class="Symbol">}</a> <a id="4262" class="Symbol">(</a><a id="4263" href="/lia/part5/AExp/#3642" class="InductiveConstructor">one</a> <a id="4267" class="Symbol">{</a><a id="4268" class="Argument">f</a> <a id="4270" class="Symbol">=</a> <a id="4272" href="/lia/part5/AExp/#4272" class="Bound">f</a><a id="4273" class="Symbol">}</a> <a id="4275" href="/lia/part5/AExp/#4275" class="Bound">step</a> <a id="4280" href="/lia/part5/AExp/#4280" class="Bound">der</a><a id="4283" class="Symbol">)</a> <a id="4285" class="Symbol">=</a>
    <a id="4291" href="/lia/part0/Equality/#1858" class="Function Operator">begin</a>
        <a id="4305" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="4307" href="/lia/part5/AExp/#4255" class="Bound">e</a> <a id="4309" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="4311" href="/lia/part5/AExp/#4251" class="Bound">ρ</a> <a id="4313" href="/lia/part0/Equality/#2003" class="Function Operator">≡⟨</a> <a id="4316" href="/lia/part5/AExp/#2891" class="Function">preservation</a> <a id="4329" class="Symbol">{</a><a id="4330" href="/lia/part5/AExp/#4251" class="Bound">ρ</a><a id="4331" class="Symbol">}</a> <a id="4333" class="Symbol">{</a><a id="4334" href="/lia/part5/AExp/#4255" class="Bound">e</a><a id="4335" class="Symbol">}</a> <a id="4337" class="Symbol">{</a><a id="4338" href="/lia/part5/AExp/#4272" class="Bound">f</a><a id="4339" class="Symbol">}</a> <a id="4341" href="/lia/part5/AExp/#4275" class="Bound">step</a> <a id="4346" href="/lia/part0/Equality/#2003" class="Function Operator">⟩</a>
        <a id="4356" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="4358" href="/lia/part5/AExp/#4272" class="Bound">f</a> <a id="4360" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="4362" href="/lia/part5/AExp/#4251" class="Bound">ρ</a> <a id="4364" href="/lia/part0/Equality/#2003" class="Function Operator">≡⟨</a> <a id="4367" href="/lia/part5/AExp/#4125" class="Function">preservation*</a> <a id="4381" class="Symbol">{</a><a id="4382" href="/lia/part5/AExp/#4251" class="Bound">ρ</a><a id="4383" class="Symbol">}</a> <a id="4385" class="Symbol">{</a><a id="4386" href="/lia/part5/AExp/#4272" class="Bound">f</a><a id="4387" class="Symbol">}</a> <a id="4389" class="Symbol">{</a><a id="4390" href="/lia/part5/AExp/#4259" class="Bound">g</a><a id="4391" class="Symbol">}</a> <a id="4393" href="/lia/part5/AExp/#4280" class="Bound">der</a> <a id="4397" href="/lia/part0/Equality/#2003" class="Function Operator">⟩</a>
        <a id="4407" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="4409" href="/lia/part5/AExp/#4259" class="Bound">g</a> <a id="4411" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="4413" href="/lia/part5/AExp/#4251" class="Bound">ρ</a>
    <a id="4419" href="/lia/part0/Equality/#2104" class="Function Operator">∎</a></pre>

<p>This immediately implies that whenever the small-step semantics
terminates producing a number <code class="language-plaintext highlighter-rouge">m</code>, then this is the right result.</p>

<pre class="Agda"><a id="↝*-agree-⟦⟧"></a><a id="4561" href="/lia/part5/AExp/#4561" class="Function">↝*-agree-⟦⟧</a> <a id="4573" class="Symbol">:</a>
  <a id="4577" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="4579" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="4581" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="4583" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="4586" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="4588" href="/lia/part5/AExp/#929" class="Generalizable">m</a> <a id="4590" class="Symbol">→</a>
  <a id="4594" class="Comment">--------------</a>
  <a id="4611" href="/lia/part5/AExp/#929" class="Generalizable">m</a> <a id="4613" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4615" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="4617" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="4619" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="4621" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a>

<a id="4624" href="/lia/part5/AExp/#4561" class="Function">↝*-agree-⟦⟧</a> <a id="4636" href="/lia/part5/AExp/#4636" class="Bound">der</a> <a id="4640" class="Symbol">=</a> <a id="4642" href="/lia/part0/Equality/#458" class="Function">sym</a> <a id="4646" class="Symbol">(</a><a id="4647" href="/lia/part5/AExp/#4125" class="Function">preservation*</a> <a id="4661" href="/lia/part5/AExp/#4636" class="Bound">der</a><a id="4664" class="Symbol">)</a></pre>

<h2 id="deterministic-values">
<a class="anchor" href="#deterministic-values" aria-hidden="true"><span class="octicon octicon-link"></span></a>Deterministic values</h2>

<p>Notice that small-step semantics is a non-deterministic relation: In
general there may be several ways to reduce an expression (as witnessed
by the rules <code class="language-plaintext highlighter-rouge">↝-Add-left</code> and <code class="language-plaintext highlighter-rouge">↝-Add-right</code> for instance).</p>

<p>However, as an immediate consequence of preservation we have that if two
numerical values are eventually produced, then they necessarily are the
same number.</p>

<pre class="Agda"><a id="↝*-det"></a><a id="5060" href="/lia/part5/AExp/#5060" class="Function">↝*-det</a> <a id="5067" class="Symbol">:</a>
  <a id="5071" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="5073" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="5075" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="5077" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="5080" href="/lia/part5/AExp/#734" class="InductiveConstructor">Num</a> <a id="5084" href="/lia/part5/AExp/#929" class="Generalizable">m</a> <a id="5086" class="Symbol">→</a>
  <a id="5090" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="5092" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="5094" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="5096" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="5099" href="/lia/part5/AExp/#734" class="InductiveConstructor">Num</a> <a id="5103" href="/lia/part5/AExp/#931" class="Generalizable">n</a> <a id="5105" class="Symbol">→</a>
  <a id="5109" class="Comment">-----------------</a>
  <a id="5129" href="/lia/part5/AExp/#929" class="Generalizable">m</a> <a id="5131" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5133" href="/lia/part5/AExp/#931" class="Generalizable">n</a>

<a id="5136" href="/lia/part5/AExp/#5060" class="Function">↝*-det</a> <a id="5143" href="/lia/part5/AExp/#5143" class="Bound">der1</a> <a id="5148" href="/lia/part5/AExp/#5148" class="Bound">der2</a> <a id="5153" class="Keyword">rewrite</a> <a id="5161" href="/lia/part0/Equality/#458" class="Function">sym</a> <a id="5165" class="Symbol">(</a><a id="5166" href="/lia/part5/AExp/#4125" class="Function">preservation*</a> <a id="5180" href="/lia/part5/AExp/#5143" class="Bound">der1</a><a id="5184" class="Symbol">)</a> <a id="5186" class="Symbol">|</a> <a id="5188" href="/lia/part5/AExp/#4125" class="Function">preservation*</a> <a id="5202" href="/lia/part5/AExp/#5148" class="Bound">der2</a> <a id="5207" class="Symbol">=</a> <a id="5209" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

<h2 id="congruence">
<a class="anchor" href="#congruence" aria-hidden="true"><span class="octicon octicon-link"></span></a>Congruence</h2>

<p>We show that the transitive closure <code class="language-plaintext highlighter-rouge">_⊢_↝*_</code> respects subexpressions.</p>

<pre class="Agda"><a id="add-cong-1"></a><a id="5309" href="/lia/part5/AExp/#5309" class="Function">add-cong-1</a> <a id="5320" class="Symbol">:</a>
  <a id="5324" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="5326" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="5328" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="5330" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="5333" href="/lia/part5/AExp/#908" class="Generalizable">e′</a> <a id="5336" class="Symbol">→</a>
  <a id="5340" class="Comment">-------------------</a>
  <a id="5362" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="5364" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="5366" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="5368" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="5370" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="5372" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="5375" href="/lia/part5/AExp/#908" class="Generalizable">e′</a> <a id="5378" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="5380" href="/lia/part5/AExp/#911" class="Generalizable">f</a>

<a id="5383" href="/lia/part5/AExp/#5309" class="Function">add-cong-1</a> <a id="5394" href="/lia/part5/AExp/#3619" class="InductiveConstructor">stop</a> <a id="5399" class="Symbol">=</a> <a id="5401" href="/lia/part5/AExp/#3619" class="InductiveConstructor">stop</a>
<a id="5406" href="/lia/part5/AExp/#5309" class="Function">add-cong-1</a> <a id="5417" class="Symbol">(</a><a id="5418" href="/lia/part5/AExp/#3642" class="InductiveConstructor">one</a> <a id="5422" href="/lia/part5/AExp/#5422" class="Bound">x</a> <a id="5424" href="/lia/part5/AExp/#5424" class="Bound">d</a><a id="5425" class="Symbol">)</a> <a id="5427" class="Symbol">=</a> <a id="5429" href="/lia/part5/AExp/#3642" class="InductiveConstructor">one</a> <a id="5433" class="Symbol">(</a><a id="5434" href="/lia/part5/AExp/#2245" class="InductiveConstructor">↝-Add-left</a> <a id="5445" href="/lia/part5/AExp/#5422" class="Bound">x</a><a id="5446" class="Symbol">)</a> <a id="5448" class="Symbol">(</a><a id="5449" href="/lia/part5/AExp/#5309" class="Function">add-cong-1</a> <a id="5460" href="/lia/part5/AExp/#5424" class="Bound">d</a><a id="5461" class="Symbol">)</a>

<a id="add-cong-2"></a><a id="5464" href="/lia/part5/AExp/#5464" class="Function">add-cong-2</a> <a id="5475" class="Symbol">:</a>
  <a id="5479" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="5481" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="5483" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="5485" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="5488" href="/lia/part5/AExp/#913" class="Generalizable">f′</a> <a id="5491" class="Symbol">→</a>
  <a id="5495" class="Comment">-------------------</a>
  <a id="5517" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="5519" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="5521" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="5523" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="5525" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="5527" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="5530" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="5532" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="5534" href="/lia/part5/AExp/#913" class="Generalizable">f′</a>

<a id="5538" href="/lia/part5/AExp/#5464" class="Function">add-cong-2</a> <a id="5549" href="/lia/part5/AExp/#3619" class="InductiveConstructor">stop</a> <a id="5554" class="Symbol">=</a> <a id="5556" href="/lia/part5/AExp/#3619" class="InductiveConstructor">stop</a>
<a id="5561" href="/lia/part5/AExp/#5464" class="Function">add-cong-2</a> <a id="5572" class="Symbol">(</a><a id="5573" href="/lia/part5/AExp/#3642" class="InductiveConstructor">one</a> <a id="5577" href="/lia/part5/AExp/#5577" class="Bound">x</a> <a id="5579" href="/lia/part5/AExp/#5579" class="Bound">d</a><a id="5580" class="Symbol">)</a> <a id="5582" class="Symbol">=</a> <a id="5584" href="/lia/part5/AExp/#3642" class="InductiveConstructor">one</a> <a id="5588" class="Symbol">(</a><a id="5589" href="/lia/part5/AExp/#2324" class="InductiveConstructor">↝-Add-right</a> <a id="5601" href="/lia/part5/AExp/#5577" class="Bound">x</a><a id="5602" class="Symbol">)</a> <a id="5604" class="Symbol">(</a><a id="5605" href="/lia/part5/AExp/#5464" class="Function">add-cong-2</a> <a id="5616" href="/lia/part5/AExp/#5579" class="Bound">d</a><a id="5617" class="Symbol">)</a>

<a id="mul-cong-1"></a><a id="5620" href="/lia/part5/AExp/#5620" class="Function">mul-cong-1</a> <a id="5631" class="Symbol">:</a>
  <a id="5635" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="5637" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="5639" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="5641" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="5644" href="/lia/part5/AExp/#908" class="Generalizable">e′</a> <a id="5647" class="Symbol">→</a>
  <a id="5651" class="Comment">-------------------</a>
  <a id="5673" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="5675" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="5677" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="5679" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">·</a> <a id="5681" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="5683" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="5686" href="/lia/part5/AExp/#908" class="Generalizable">e′</a> <a id="5689" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">·</a> <a id="5691" href="/lia/part5/AExp/#911" class="Generalizable">f</a>

<a id="5694" href="/lia/part5/AExp/#5620" class="Function">mul-cong-1</a> <a id="5705" href="/lia/part5/AExp/#3619" class="InductiveConstructor">stop</a> <a id="5710" class="Symbol">=</a> <a id="5712" href="/lia/part5/AExp/#3619" class="InductiveConstructor">stop</a>
<a id="5717" href="/lia/part5/AExp/#5620" class="Function">mul-cong-1</a> <a id="5728" class="Symbol">(</a><a id="5729" href="/lia/part5/AExp/#3642" class="InductiveConstructor">one</a> <a id="5733" href="/lia/part5/AExp/#5733" class="Bound">x</a> <a id="5735" href="/lia/part5/AExp/#5735" class="Bound">d</a><a id="5736" class="Symbol">)</a> <a id="5738" class="Symbol">=</a> <a id="5740" href="/lia/part5/AExp/#3642" class="InductiveConstructor">one</a> <a id="5744" class="Symbol">(</a><a id="5745" href="/lia/part5/AExp/#2451" class="InductiveConstructor">↝-Mul-left</a> <a id="5756" href="/lia/part5/AExp/#5733" class="Bound">x</a><a id="5757" class="Symbol">)</a> <a id="5759" class="Symbol">(</a><a id="5760" href="/lia/part5/AExp/#5620" class="Function">mul-cong-1</a> <a id="5771" href="/lia/part5/AExp/#5735" class="Bound">d</a><a id="5772" class="Symbol">)</a>

<a id="mul-cong-2"></a><a id="5775" href="/lia/part5/AExp/#5775" class="Function">mul-cong-2</a> <a id="5786" class="Symbol">:</a>
  <a id="5790" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="5792" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="5794" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="5796" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="5799" href="/lia/part5/AExp/#913" class="Generalizable">f′</a> <a id="5802" class="Symbol">→</a>
  <a id="5806" class="Comment">-------------------</a>
  <a id="5828" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="5830" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="5832" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="5834" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">·</a> <a id="5836" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="5838" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="5841" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="5843" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">·</a> <a id="5845" href="/lia/part5/AExp/#913" class="Generalizable">f′</a>

<a id="5849" href="/lia/part5/AExp/#5775" class="Function">mul-cong-2</a> <a id="5860" href="/lia/part5/AExp/#3619" class="InductiveConstructor">stop</a> <a id="5865" class="Symbol">=</a> <a id="5867" href="/lia/part5/AExp/#3619" class="InductiveConstructor">stop</a>
<a id="5872" href="/lia/part5/AExp/#5775" class="Function">mul-cong-2</a> <a id="5883" class="Symbol">(</a><a id="5884" href="/lia/part5/AExp/#3642" class="InductiveConstructor">one</a> <a id="5888" href="/lia/part5/AExp/#5888" class="Bound">x</a> <a id="5890" href="/lia/part5/AExp/#5890" class="Bound">d</a><a id="5891" class="Symbol">)</a> <a id="5893" class="Symbol">=</a> <a id="5895" href="/lia/part5/AExp/#3642" class="InductiveConstructor">one</a> <a id="5899" class="Symbol">(</a><a id="5900" href="/lia/part5/AExp/#2530" class="InductiveConstructor">↝-Mul-right</a> <a id="5912" href="/lia/part5/AExp/#5888" class="Bound">x</a><a id="5913" class="Symbol">)</a> <a id="5915" class="Symbol">(</a><a id="5916" href="/lia/part5/AExp/#5775" class="Function">mul-cong-2</a> <a id="5927" href="/lia/part5/AExp/#5890" class="Bound">d</a><a id="5928" class="Symbol">)</a>

<a id="let-cong-1"></a><a id="5931" href="/lia/part5/AExp/#5931" class="Function">let-cong-1</a> <a id="5942" class="Symbol">:</a>
  <a id="5946" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="5948" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="5950" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="5952" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="5955" href="/lia/part5/AExp/#908" class="Generalizable">e′</a> <a id="5958" class="Symbol">→</a>
  <a id="5962" class="Comment">----------------------------</a>
  <a id="5993" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="5995" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="5997" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="6001" href="/lia/part5/AExp/#545" class="Generalizable">x</a> <a id="6003" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="6005" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="6007" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="6010" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="6014" href="/lia/part5/AExp/#545" class="Generalizable">x</a> <a id="6016" href="/lia/part5/AExp/#908" class="Generalizable">e′</a> <a id="6019" href="/lia/part5/AExp/#911" class="Generalizable">f</a>

<a id="6022" href="/lia/part5/AExp/#5931" class="Function">let-cong-1</a> <a id="6033" href="/lia/part5/AExp/#3619" class="InductiveConstructor">stop</a> <a id="6038" class="Symbol">=</a> <a id="6040" href="/lia/part5/AExp/#3619" class="InductiveConstructor">stop</a>
<a id="6045" href="/lia/part5/AExp/#5931" class="Function">let-cong-1</a> <a id="6056" class="Symbol">(</a><a id="6057" href="/lia/part5/AExp/#3642" class="InductiveConstructor">one</a> <a id="6061" href="/lia/part5/AExp/#6061" class="Bound">x</a> <a id="6063" href="/lia/part5/AExp/#6063" class="Bound">d</a><a id="6064" class="Symbol">)</a> <a id="6066" class="Symbol">=</a> <a id="6068" href="/lia/part5/AExp/#3642" class="InductiveConstructor">one</a> <a id="6072" class="Symbol">(</a><a id="6073" href="/lia/part5/AExp/#2776" class="InductiveConstructor">↝-Let-2</a> <a id="6081" href="/lia/part5/AExp/#6061" class="Bound">x</a><a id="6082" class="Symbol">)</a> <a id="6084" class="Symbol">(</a><a id="6085" href="/lia/part5/AExp/#5931" class="Function">let-cong-1</a> <a id="6096" href="/lia/part5/AExp/#6063" class="Bound">d</a><a id="6097" class="Symbol">)</a>

<a id="let-cong-2"></a><a id="6100" href="/lia/part5/AExp/#6100" class="Function">let-cong-2</a> <a id="6111" class="Symbol">:</a>
  <a id="6115" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="6117" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="6119" href="/lia/part5/AExp/#545" class="Generalizable">x</a> <a id="6121" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="6123" href="/lia/part5/AExp/#929" class="Generalizable">m</a> <a id="6125" href="/lia/part0/Functions/#568" class="Function Operator">]</a> <a id="6127" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="6129" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="6131" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="6134" href="/lia/part5/AExp/#913" class="Generalizable">f′</a> <a id="6137" class="Symbol">→</a>
  <a id="6141" class="Comment">-----------------------------------</a>
  <a id="6179" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="6181" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="6183" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="6187" href="/lia/part5/AExp/#545" class="Generalizable">x</a> <a id="6189" class="Symbol">(</a><a id="6190" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="6192" href="/lia/part5/AExp/#929" class="Generalizable">m</a><a id="6193" class="Symbol">)</a> <a id="6195" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="6197" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="6200" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="6204" href="/lia/part5/AExp/#545" class="Generalizable">x</a> <a id="6206" class="Symbol">(</a><a id="6207" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="6209" href="/lia/part5/AExp/#929" class="Generalizable">m</a><a id="6210" class="Symbol">)</a> <a id="6212" href="/lia/part5/AExp/#913" class="Generalizable">f′</a>

<a id="6216" href="/lia/part5/AExp/#6100" class="Function">let-cong-2</a> <a id="6227" href="/lia/part5/AExp/#3619" class="InductiveConstructor">stop</a> <a id="6232" class="Symbol">=</a> <a id="6234" href="/lia/part5/AExp/#3619" class="InductiveConstructor">stop</a>
<a id="6239" href="/lia/part5/AExp/#6100" class="Function">let-cong-2</a> <a id="6250" class="Symbol">(</a><a id="6251" href="/lia/part5/AExp/#3642" class="InductiveConstructor">one</a> <a id="6255" href="/lia/part5/AExp/#6255" class="Bound">x</a> <a id="6257" href="/lia/part5/AExp/#6257" class="Bound">d</a><a id="6258" class="Symbol">)</a> <a id="6260" class="Symbol">=</a> <a id="6262" href="/lia/part5/AExp/#3642" class="InductiveConstructor">one</a> <a id="6266" class="Symbol">(</a><a id="6267" href="/lia/part5/AExp/#2658" class="InductiveConstructor">↝-Let-1</a> <a id="6275" href="/lia/part5/AExp/#6255" class="Bound">x</a><a id="6276" class="Symbol">)</a> <a id="6278" class="Symbol">(</a><a id="6279" href="/lia/part5/AExp/#6100" class="Function">let-cong-2</a> <a id="6290" href="/lia/part5/AExp/#6257" class="Bound">d</a><a id="6291" class="Symbol">)</a></pre>

<h2 id="relational-reasoning">
<a class="anchor" href="#relational-reasoning" aria-hidden="true"><span class="octicon octicon-link"></span></a>Relational reasoning</h2>

<p>We introduce some syntactic sugaring to conveniently write chains of
small steps.</p>

<pre class="Agda"><a id="6410" class="Keyword">infixr</a> <a id="6417" class="Number">2</a> <a id="6419" href="/lia/part5/AExp/#6457" class="Function Operator">_↝*⟨⟩_</a> <a id="6426" href="/lia/part5/AExp/#6524" class="Function Operator">_↝*⟨_⟩_</a> <a id="6434" href="/lia/part5/AExp/#6627" class="Function Operator">_↝⟨_⟩_</a> 
<a id="6442" class="Keyword">infix</a>  <a id="6449" class="Number">3</a> <a id="6451" href="/lia/part5/AExp/#6734" class="Function Operator">_↝*∎</a>

<a id="_↝*⟨⟩_"></a><a id="6457" href="/lia/part5/AExp/#6457" class="Function Operator">_↝*⟨⟩_</a> <a id="6464" class="Symbol">:</a> <a id="6466" class="Symbol">∀</a> <a id="6468" class="Symbol">{</a><a id="6469" href="/lia/part5/AExp/#6469" class="Bound">ρ</a><a id="6470" class="Symbol">}</a> <a id="6472" href="/lia/part5/AExp/#6472" class="Bound">e</a> <a id="6474" class="Symbol">{</a><a id="6475" href="/lia/part5/AExp/#6475" class="Bound">f</a><a id="6476" class="Symbol">}</a> <a id="6478" class="Symbol">→</a> <a id="6480" href="/lia/part5/AExp/#6469" class="Bound">ρ</a> <a id="6482" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="6484" href="/lia/part5/AExp/#6472" class="Bound">e</a> <a id="6486" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="6489" href="/lia/part5/AExp/#6475" class="Bound">f</a> <a id="6491" class="Symbol">→</a> <a id="6493" href="/lia/part5/AExp/#6469" class="Bound">ρ</a> <a id="6495" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="6497" href="/lia/part5/AExp/#6472" class="Bound">e</a> <a id="6499" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="6502" href="/lia/part5/AExp/#6475" class="Bound">f</a>
<a id="6504" href="/lia/part5/AExp/#6504" class="Bound">e</a> <a id="6506" href="/lia/part5/AExp/#6457" class="Function Operator">↝*⟨⟩</a> <a id="6511" href="/lia/part5/AExp/#6511" class="Bound">e↝*f</a> <a id="6516" class="Symbol">=</a> <a id="6518" href="/lia/part5/AExp/#6511" class="Bound">e↝*f</a>

<a id="_↝*⟨_⟩_"></a><a id="6524" href="/lia/part5/AExp/#6524" class="Function Operator">_↝*⟨_⟩_</a> <a id="6532" class="Symbol">:</a> <a id="6534" class="Symbol">∀</a> <a id="6536" class="Symbol">{</a><a id="6537" href="/lia/part5/AExp/#6537" class="Bound">ρ</a><a id="6538" class="Symbol">}</a> <a id="6540" href="/lia/part5/AExp/#6540" class="Bound">e</a> <a id="6542" class="Symbol">{</a><a id="6543" href="/lia/part5/AExp/#6543" class="Bound">f</a> <a id="6545" href="/lia/part5/AExp/#6545" class="Bound">g</a><a id="6546" class="Symbol">}</a> <a id="6548" class="Symbol">→</a> <a id="6550" href="/lia/part5/AExp/#6537" class="Bound">ρ</a> <a id="6552" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="6554" href="/lia/part5/AExp/#6540" class="Bound">e</a> <a id="6556" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="6559" href="/lia/part5/AExp/#6543" class="Bound">f</a> <a id="6561" class="Symbol">→</a> <a id="6563" href="/lia/part5/AExp/#6537" class="Bound">ρ</a> <a id="6565" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="6567" href="/lia/part5/AExp/#6543" class="Bound">f</a> <a id="6569" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="6572" href="/lia/part5/AExp/#6545" class="Bound">g</a> <a id="6574" class="Symbol">→</a> <a id="6576" href="/lia/part5/AExp/#6537" class="Bound">ρ</a> <a id="6578" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="6580" href="/lia/part5/AExp/#6540" class="Bound">e</a> <a id="6582" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="6585" href="/lia/part5/AExp/#6545" class="Bound">g</a>
<a id="6587" href="/lia/part5/AExp/#6587" class="Bound">e</a> <a id="6589" href="/lia/part5/AExp/#6524" class="Function Operator">↝*⟨</a> <a id="6593" href="/lia/part5/AExp/#6593" class="Bound">e↝*f</a> <a id="6598" href="/lia/part5/AExp/#6524" class="Function Operator">⟩</a> <a id="6600" href="/lia/part5/AExp/#6600" class="Bound">f↝*g</a> <a id="6605" class="Symbol">=</a> <a id="6607" href="/lia/part5/AExp/#3809" class="Function">↝*-trans</a> <a id="6616" href="/lia/part5/AExp/#6593" class="Bound">e↝*f</a> <a id="6621" href="/lia/part5/AExp/#6600" class="Bound">f↝*g</a>

<a id="_↝⟨_⟩_"></a><a id="6627" href="/lia/part5/AExp/#6627" class="Function Operator">_↝⟨_⟩_</a> <a id="6634" class="Symbol">:</a> <a id="6636" class="Symbol">∀</a> <a id="6638" class="Symbol">{</a><a id="6639" href="/lia/part5/AExp/#6639" class="Bound">ρ</a><a id="6640" class="Symbol">}</a> <a id="6642" href="/lia/part5/AExp/#6642" class="Bound">e</a> <a id="6644" class="Symbol">{</a><a id="6645" href="/lia/part5/AExp/#6645" class="Bound">f</a> <a id="6647" href="/lia/part5/AExp/#6647" class="Bound">g</a><a id="6648" class="Symbol">}</a> <a id="6650" class="Symbol">→</a> <a id="6652" href="/lia/part5/AExp/#6639" class="Bound">ρ</a> <a id="6654" href="/lia/part5/AExp/#2130" class="Datatype Operator">⊢</a> <a id="6656" href="/lia/part5/AExp/#6642" class="Bound">e</a> <a id="6658" href="/lia/part5/AExp/#2130" class="Datatype Operator">↝</a> <a id="6660" href="/lia/part5/AExp/#6645" class="Bound">f</a> <a id="6662" class="Symbol">→</a> <a id="6664" href="/lia/part5/AExp/#6639" class="Bound">ρ</a> <a id="6666" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="6668" href="/lia/part5/AExp/#6645" class="Bound">f</a> <a id="6670" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="6673" href="/lia/part5/AExp/#6647" class="Bound">g</a> <a id="6675" class="Symbol">→</a> <a id="6677" href="/lia/part5/AExp/#6639" class="Bound">ρ</a> <a id="6679" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="6681" href="/lia/part5/AExp/#6642" class="Bound">e</a> <a id="6683" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="6686" href="/lia/part5/AExp/#6647" class="Bound">g</a>
<a id="6688" href="/lia/part5/AExp/#6688" class="Bound">e</a> <a id="6690" href="/lia/part5/AExp/#6627" class="Function Operator">↝⟨</a> <a id="6693" href="/lia/part5/AExp/#6693" class="Bound">e↝f</a> <a id="6697" href="/lia/part5/AExp/#6627" class="Function Operator">⟩</a> <a id="6699" href="/lia/part5/AExp/#6699" class="Bound">f↝*g</a> <a id="6704" class="Symbol">=</a> <a id="6706" href="/lia/part5/AExp/#6688" class="Bound">e</a> <a id="6708" href="/lia/part5/AExp/#6524" class="Function Operator">↝*⟨</a> <a id="6712" href="/lia/part5/AExp/#3642" class="InductiveConstructor">one</a> <a id="6716" href="/lia/part5/AExp/#6693" class="Bound">e↝f</a> <a id="6720" href="/lia/part5/AExp/#3619" class="InductiveConstructor">stop</a> <a id="6725" href="/lia/part5/AExp/#6524" class="Function Operator">⟩</a> <a id="6727" href="/lia/part5/AExp/#6699" class="Bound">f↝*g</a> 

<a id="_↝*∎"></a><a id="6734" href="/lia/part5/AExp/#6734" class="Function Operator">_↝*∎</a> <a id="6739" class="Symbol">:</a> <a id="6741" class="Symbol">∀</a> <a id="6743" href="/lia/part5/AExp/#6743" class="Bound">e</a> <a id="6745" class="Symbol">→</a> <a id="6747" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="6749" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="6751" href="/lia/part5/AExp/#6743" class="Bound">e</a> <a id="6753" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="6756" href="/lia/part5/AExp/#6743" class="Bound">e</a>
<a id="6758" href="/lia/part5/AExp/#6758" class="Bound">e</a> <a id="6760" href="/lia/part5/AExp/#6734" class="Function Operator">↝*∎</a> <a id="6764" class="Symbol">=</a> <a id="6766" href="/lia/part5/AExp/#3619" class="InductiveConstructor">stop</a></pre>

<h2 id="exercise-termination-weak-normalisation">
<a class="anchor" href="#exercise-termination-weak-normalisation" aria-hidden="true"><span class="octicon octicon-link"></span></a><strong>Exercise</strong>: Termination (Weak normalisation)</h2>

<p>So far we have shown that the small-step semantics produces the right
result, <em>if it produces any result at all</em>. In fact, an operational
semantics that never reaches a Numerical value trivially satisfies this
condition.</p>

<p>We prove that the small step operational semantics can always reache
some numerical value after a finite number of steps. In other word, we
prove below that the rewrite is <em>weakly normalising</em>.</p>

<pre class="Agda"><a id="weak-normalisation"></a><a id="7248" href="/lia/part5/AExp/#7248" class="Function">weak-normalisation</a> <a id="7267" class="Symbol">:</a> <a id="7269" class="Symbol">∀</a> <a id="7271" href="/lia/part5/AExp/#7271" class="Bound">e</a> <a id="7273" class="Symbol">→</a> <a id="7275" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="7277" href="/lia/part5/AExp/#3575" class="Datatype Operator">⊢</a> <a id="7279" href="/lia/part5/AExp/#7271" class="Bound">e</a> <a id="7281" href="/lia/part5/AExp/#3575" class="Datatype Operator">↝*</a> <a id="7284" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="7286" class="Symbol">(</a><a id="7287" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="7289" href="/lia/part5/AExp/#7271" class="Bound">e</a> <a id="7291" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="7293" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a><a id="7294" class="Symbol">)</a>

<a id="7297" href="/lia/part5/AExp/#7248" class="Function">weak-normalisation</a> <a id="7316" class="Symbol">(</a><a id="7317" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="7319" href="/lia/part5/AExp/#7319" class="Bound">n</a><a id="7320" class="Symbol">)</a> <a id="7322" class="Symbol">=</a> <a id="7324" href="/lia/part5/AExp/#3619" class="InductiveConstructor">stop</a>

<a id="7330" href="/lia/part5/AExp/#7248" class="Function">weak-normalisation</a> <a id="7349" class="Symbol">(</a><a id="7350" href="/lia/part5/AExp/#1168" class="InductiveConstructor Operator">`</a> <a id="7352" href="/lia/part5/AExp/#7352" class="Bound">x</a><a id="7353" class="Symbol">)</a> <a id="7355" class="Symbol">=</a> <a id="7357" href="/lia/part5/AExp/#3642" class="InductiveConstructor">one</a> <a id="7361" href="/lia/part5/AExp/#2171" class="InductiveConstructor">↝-Var</a> <a id="7367" href="/lia/part5/AExp/#3619" class="InductiveConstructor">stop</a>

<a id="7373" href="/lia/part5/AExp/#7248" class="Function">weak-normalisation</a> <a id="7392" class="Symbol">{</a><a id="7393" href="/lia/part5/AExp/#7393" class="Bound">ρ</a><a id="7394" class="Symbol">}</a> <a id="7396" class="Symbol">(</a><a id="7397" href="/lia/part5/AExp/#7397" class="Bound">e</a> <a id="7399" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="7401" href="/lia/part5/AExp/#7401" class="Bound">f</a><a id="7402" class="Symbol">)</a>
  <a id="7406" class="Keyword">with</a> <a id="7411" href="/lia/part5/AExp/#7248" class="Function">weak-normalisation</a> <a id="7430" href="/lia/part5/AExp/#7397" class="Bound">e</a> <a id="7432" class="Symbol">|</a> <a id="7434" href="/lia/part5/AExp/#7248" class="Function">weak-normalisation</a> <a id="7453" href="/lia/part5/AExp/#7401" class="Bound">f</a>
<a id="7455" class="Symbol">...</a> <a id="7459" class="Symbol">|</a> <a id="7461" href="/lia/part5/AExp/#7461" class="Bound">de</a> <a id="7464" class="Symbol">|</a> <a id="7466" href="/lia/part5/AExp/#7466" class="Bound">df</a> <a id="7469" class="Symbol">=</a> 
  <a id="7474" class="Bound">e</a> <a id="7476" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="7478" class="Bound">f</a> <a id="7480" href="/lia/part5/AExp/#6524" class="Function Operator">↝*⟨</a> <a id="7484" href="/lia/part5/AExp/#5309" class="Function">add-cong-1</a> <a id="7495" href="/lia/part5/AExp/#7461" class="Bound">de</a> <a id="7498" href="/lia/part5/AExp/#6524" class="Function Operator">⟩</a>
  <a id="7502" class="Symbol">(</a><a id="7503" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="7505" class="Symbol">(</a><a id="7506" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="7508" class="Bound">e</a> <a id="7510" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="7512" class="Bound">ρ</a><a id="7513" class="Symbol">))</a> <a id="7516" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="7518" class="Bound">f</a> <a id="7520" href="/lia/part5/AExp/#6524" class="Function Operator">↝*⟨</a> <a id="7524" href="/lia/part5/AExp/#5464" class="Function">add-cong-2</a> <a id="7535" href="/lia/part5/AExp/#7466" class="Bound">df</a> <a id="7538" href="/lia/part5/AExp/#6524" class="Function Operator">⟩</a>
  <a id="7542" class="Symbol">(</a><a id="7543" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="7545" class="Symbol">(</a><a id="7546" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="7548" class="Bound">e</a> <a id="7550" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="7552" class="Bound">ρ</a><a id="7553" class="Symbol">))</a> <a id="7556" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="7558" class="Symbol">(</a><a id="7559" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="7561" class="Symbol">(</a><a id="7562" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="7564" class="Bound">f</a> <a id="7566" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="7568" class="Bound">ρ</a><a id="7569" class="Symbol">))</a> <a id="7572" href="/lia/part5/AExp/#6627" class="Function Operator">↝⟨</a> <a id="7575" href="/lia/part5/AExp/#2198" class="InductiveConstructor">↝-Add-stop</a> <a id="7586" href="/lia/part5/AExp/#6627" class="Function Operator">⟩</a>
  <a id="7590" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="7592" class="Symbol">(</a><a id="7593" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="7595" class="Bound">e</a> <a id="7597" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="7599" class="Bound">ρ</a> <a id="7601" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="7604" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="7606" class="Bound">f</a> <a id="7608" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="7610" class="Bound">ρ</a><a id="7611" class="Symbol">)</a>
  <a id="7615" href="/lia/part5/AExp/#6734" class="Function Operator">↝*∎</a>

<a id="7620" href="/lia/part5/AExp/#7248" class="Function">weak-normalisation</a> <a id="7639" class="Symbol">{</a><a id="7640" href="/lia/part5/AExp/#7640" class="Bound">ρ</a><a id="7641" class="Symbol">}</a> <a id="7643" class="Symbol">(</a><a id="7644" href="/lia/part5/AExp/#7644" class="Bound">e</a> <a id="7646" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">·</a> <a id="7648" href="/lia/part5/AExp/#7648" class="Bound">f</a><a id="7649" class="Symbol">)</a>
  <a id="7653" class="Keyword">with</a> <a id="7658" href="/lia/part5/AExp/#7248" class="Function">weak-normalisation</a> <a id="7677" href="/lia/part5/AExp/#7644" class="Bound">e</a> <a id="7679" class="Symbol">|</a> <a id="7681" href="/lia/part5/AExp/#7248" class="Function">weak-normalisation</a> <a id="7700" href="/lia/part5/AExp/#7648" class="Bound">f</a>
<a id="7702" class="Symbol">...</a> <a id="7706" class="Symbol">|</a> <a id="7708" href="/lia/part5/AExp/#7708" class="Bound">de</a> <a id="7711" class="Symbol">|</a> <a id="7713" href="/lia/part5/AExp/#7713" class="Bound">df</a> <a id="7716" class="Symbol">=</a> 
  <a id="7721" class="Bound">e</a> <a id="7723" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">·</a> <a id="7725" class="Bound">f</a> <a id="7727" href="/lia/part5/AExp/#6524" class="Function Operator">↝*⟨</a> <a id="7731" href="/lia/part5/AExp/#5620" class="Function">mul-cong-1</a> <a id="7742" href="/lia/part5/AExp/#7708" class="Bound">de</a> <a id="7745" href="/lia/part5/AExp/#6524" class="Function Operator">⟩</a>
  <a id="7749" class="Symbol">(</a><a id="7750" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="7752" class="Symbol">(</a><a id="7753" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="7755" class="Bound">e</a> <a id="7757" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="7759" class="Bound">ρ</a><a id="7760" class="Symbol">))</a> <a id="7763" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">·</a> <a id="7765" class="Bound">f</a> <a id="7767" href="/lia/part5/AExp/#6524" class="Function Operator">↝*⟨</a> <a id="7771" href="/lia/part5/AExp/#5775" class="Function">mul-cong-2</a> <a id="7782" href="/lia/part5/AExp/#7713" class="Bound">df</a> <a id="7785" href="/lia/part5/AExp/#6524" class="Function Operator">⟩</a>
  <a id="7789" class="Symbol">(</a><a id="7790" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="7792" class="Symbol">(</a><a id="7793" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="7795" class="Bound">e</a> <a id="7797" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="7799" class="Bound">ρ</a><a id="7800" class="Symbol">))</a> <a id="7803" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">·</a> <a id="7805" class="Symbol">(</a><a id="7806" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="7808" class="Symbol">(</a><a id="7809" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="7811" class="Bound">f</a> <a id="7813" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="7815" class="Bound">ρ</a><a id="7816" class="Symbol">))</a> <a id="7819" href="/lia/part5/AExp/#6627" class="Function Operator">↝⟨</a> <a id="7822" href="/lia/part5/AExp/#2404" class="InductiveConstructor">↝-Mul-stop</a> <a id="7833" href="/lia/part5/AExp/#6627" class="Function Operator">⟩</a>
  <a id="7837" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="7839" class="Symbol">(</a><a id="7840" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="7842" class="Bound">e</a> <a id="7844" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="7846" class="Bound">ρ</a> <a id="7848" href="/lia/part5/AExp/#185" class="Primitive Operator">·ℕ</a> <a id="7851" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="7853" class="Bound">f</a> <a id="7855" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="7857" class="Bound">ρ</a><a id="7858" class="Symbol">)</a>
  <a id="7862" href="/lia/part5/AExp/#6734" class="Function Operator">↝*∎</a>

<a id="7867" href="/lia/part5/AExp/#7248" class="Function">weak-normalisation</a> <a id="7886" class="Symbol">{</a><a id="7887" href="/lia/part5/AExp/#7887" class="Bound">ρ</a><a id="7888" class="Symbol">}</a> <a id="7890" class="Symbol">(</a><a id="7891" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="7895" href="/lia/part5/AExp/#7895" class="Bound">x</a> <a id="7897" href="/lia/part5/AExp/#7897" class="Bound">e</a> <a id="7899" href="/lia/part5/AExp/#7899" class="Bound">f</a><a id="7900" class="Symbol">)</a>
  <a id="7904" class="Keyword">with</a> <a id="7909" href="/lia/part5/AExp/#7248" class="Function">weak-normalisation</a> <a id="7928" href="/lia/part5/AExp/#7897" class="Bound">e</a> <a id="7930" class="Symbol">|</a> <a id="7932" href="/lia/part5/AExp/#7248" class="Function">weak-normalisation</a> <a id="7951" href="/lia/part5/AExp/#7899" class="Bound">f</a>
<a id="7953" class="Symbol">...</a> <a id="7957" class="Symbol">|</a> <a id="7959" href="/lia/part5/AExp/#7959" class="Bound">de</a> <a id="7962" class="Symbol">|</a> <a id="7964" href="/lia/part5/AExp/#7964" class="Bound">df</a> <a id="7967" class="Symbol">=</a>
    <a id="7973" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="7977" class="Bound">x</a> <a id="7979" class="Bound">e</a> <a id="7981" class="Bound">f</a> <a id="7983" href="/lia/part5/AExp/#6524" class="Function Operator">↝*⟨</a> <a id="7987" href="/lia/part5/AExp/#5931" class="Function">let-cong-1</a> <a id="7998" href="/lia/part5/AExp/#7959" class="Bound">de</a> <a id="8001" href="/lia/part5/AExp/#6524" class="Function Operator">⟩</a>
    <a id="8007" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="8011" class="Bound">x</a> <a id="8013" class="Symbol">(</a><a id="8014" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="8016" class="Symbol">(</a><a id="8017" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="8019" class="Bound">e</a> <a id="8021" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="8023" class="Bound">ρ</a><a id="8024" class="Symbol">))</a> <a id="8027" class="Bound">f</a> <a id="8029" href="/lia/part5/AExp/#6524" class="Function Operator">↝*⟨</a> <a id="8033" href="/lia/part5/AExp/#6100" class="Function">let-cong-2</a> <a id="8044" href="/lia/part5/AExp/#7964" class="Bound">df</a> <a id="8047" href="/lia/part5/AExp/#6524" class="Function Operator">⟩</a>
    <a id="8053" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="8057" class="Bound">x</a> <a id="8059" class="Symbol">(</a><a id="8060" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="8062" class="Symbol">(</a><a id="8063" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="8065" class="Bound">e</a> <a id="8067" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="8069" class="Bound">ρ</a><a id="8070" class="Symbol">))</a> <a id="8073" class="Symbol">(</a><a id="8074" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="8076" class="Symbol">(</a><a id="8077" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="8079" class="Bound">f</a> <a id="8081" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="8083" class="Symbol">(</a><a id="8084" class="Bound">ρ</a> <a id="8086" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="8088" class="Bound">x</a> <a id="8090" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="8092" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="8094" class="Bound">e</a> <a id="8096" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="8098" class="Bound">ρ</a> <a id="8100" href="/lia/part0/Functions/#568" class="Function Operator">]</a><a id="8101" class="Symbol">)))</a>
        <a id="8113" href="/lia/part5/AExp/#6627" class="Function Operator">↝⟨</a> <a id="8116" href="/lia/part5/AExp/#2610" class="InductiveConstructor">↝-Let-stop</a> <a id="8127" href="/lia/part5/AExp/#6627" class="Function Operator">⟩</a>
    <a id="8133" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="8135" class="Symbol">(</a><a id="8136" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="8138" class="Bound">f</a> <a id="8140" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="8142" class="Symbol">(</a><a id="8143" class="Bound">ρ</a> <a id="8145" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="8147" class="Bound">x</a> <a id="8149" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="8151" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="8153" class="Bound">e</a> <a id="8155" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="8157" class="Bound">ρ</a> <a id="8159" href="/lia/part0/Functions/#568" class="Function Operator">]</a><a id="8160" class="Symbol">))</a>
    <a id="8167" href="/lia/part5/AExp/#6734" class="Function Operator">↝*∎</a></pre>

<h2 id="exercise-strong-normalisation">
<a class="anchor" href="#exercise-strong-normalisation" aria-hidden="true"><span class="octicon octicon-link"></span></a><strong>Exercise</strong>: Strong normalisation</h2>

<p>The termination property above is also called <em>weak normalisation</em>,
which means that there exists a finite reduction sequence <code class="language-plaintext highlighter-rouge">e ↝* f</code>
reaching a normal form (i.e. a value) <code class="language-plaintext highlighter-rouge">f ≡ Num m</code>. We show below even
<em>strong normalisation</em>, namely, <em>every</em> reduction sequence starting from
<code class="language-plaintext highlighter-rouge">e</code> is finite.</p>

<p>To this end, we introduce a notion of <em>size</em> of arithmetic expressions.</p>

<pre class="Agda"><a id="size"></a><a id="8586" href="/lia/part5/AExp/#8586" class="Function">size</a> <a id="8591" class="Symbol">:</a> <a id="8593" href="/lia/part5/AExp/#715" class="Datatype">AExp</a> <a id="8598" class="Symbol">→</a> <a id="8600" href="/lia/part0/Naturals/#301" class="Function">ℕ</a>
<a id="8602" href="/lia/part5/AExp/#8586" class="Function">size</a> <a id="8607" class="Symbol">(</a><a id="8608" href="/lia/part5/AExp/#734" class="InductiveConstructor">Num</a> <a id="8612" href="/lia/part5/AExp/#8612" class="Bound">x</a><a id="8613" class="Symbol">)</a> <a id="8615" class="Symbol">=</a> <a id="8617" class="Number">0</a>
<a id="8619" href="/lia/part5/AExp/#8586" class="Function">size</a> <a id="8624" class="Symbol">(</a><a id="8625" href="/lia/part5/AExp/#757" class="InductiveConstructor">Var</a> <a id="8629" href="/lia/part5/AExp/#8629" class="Bound">x</a><a id="8630" class="Symbol">)</a> <a id="8632" class="Symbol">=</a> <a id="8634" class="Number">1</a>
<a id="8636" href="/lia/part5/AExp/#8586" class="Function">size</a> <a id="8641" class="Symbol">(</a><a id="8642" href="/lia/part5/AExp/#786" class="InductiveConstructor">Add</a> <a id="8646" href="/lia/part5/AExp/#8646" class="Bound">e</a> <a id="8648" href="/lia/part5/AExp/#8648" class="Bound">f</a><a id="8649" class="Symbol">)</a> <a id="8651" class="Symbol">=</a> <a id="8653" class="Number">1</a> <a id="8655" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="8658" href="/lia/part5/AExp/#8586" class="Function">size</a> <a id="8663" href="/lia/part5/AExp/#8646" class="Bound">e</a> <a id="8665" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="8668" href="/lia/part5/AExp/#8586" class="Function">size</a> <a id="8673" href="/lia/part5/AExp/#8648" class="Bound">f</a>
<a id="8675" href="/lia/part5/AExp/#8586" class="Function">size</a> <a id="8680" class="Symbol">(</a><a id="8681" href="/lia/part5/AExp/#814" class="InductiveConstructor">Mul</a> <a id="8685" href="/lia/part5/AExp/#8685" class="Bound">e</a> <a id="8687" href="/lia/part5/AExp/#8687" class="Bound">f</a><a id="8688" class="Symbol">)</a> <a id="8690" class="Symbol">=</a> <a id="8692" class="Number">1</a> <a id="8694" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="8697" href="/lia/part5/AExp/#8586" class="Function">size</a> <a id="8702" href="/lia/part5/AExp/#8685" class="Bound">e</a> <a id="8704" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="8707" href="/lia/part5/AExp/#8586" class="Function">size</a> <a id="8712" href="/lia/part5/AExp/#8687" class="Bound">f</a>
<a id="8714" href="/lia/part5/AExp/#8586" class="Function">size</a> <a id="8719" class="Symbol">(</a><a id="8720" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="8724" href="/lia/part5/AExp/#8724" class="Bound">x</a> <a id="8726" href="/lia/part5/AExp/#8726" class="Bound">e</a> <a id="8728" href="/lia/part5/AExp/#8728" class="Bound">f</a><a id="8729" class="Symbol">)</a> <a id="8731" class="Symbol">=</a> <a id="8733" class="Number">1</a> <a id="8735" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="8738" href="/lia/part5/AExp/#8586" class="Function">size</a> <a id="8743" href="/lia/part5/AExp/#8726" class="Bound">e</a> <a id="8745" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="8748" href="/lia/part5/AExp/#8586" class="Function">size</a> <a id="8753" href="/lia/part5/AExp/#8728" class="Bound">f</a></pre>

<p>In the lemma below we show that the size of an expression strictly
decreases at each step, which implies strong normalisation.</p>

<pre class="Agda"><a id="size-down"></a><a id="8892" href="/lia/part5/AExp/#8892" class="Function">size-down</a> <a id="8902" class="Symbol">:</a>
  <a id="8906" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="8908" href="/lia/part5/AExp/#2130" class="Datatype Operator">⊢</a> <a id="8910" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="8912" href="/lia/part5/AExp/#2130" class="Datatype Operator">↝</a> <a id="8914" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="8916" class="Symbol">→</a>
  <a id="8920" class="Comment">---------------</a>
  <a id="8938" href="/lia/part5/AExp/#8586" class="Function">size</a> <a id="8943" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="8945" href="/lia/part0/Naturals/#1318" class="Function Operator">&gt;</a> <a id="8947" href="/lia/part5/AExp/#8586" class="Function">size</a> <a id="8952" href="/lia/part5/AExp/#911" class="Generalizable">f</a>
  
<a id="8957" href="/lia/part5/AExp/#8892" class="Function">size-down</a> <a id="8967" href="/lia/part5/AExp/#2171" class="InductiveConstructor">↝-Var</a> <a id="8973" class="Symbol">=</a> <a id="8975" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="8979" href="/lia/part0/Naturals/#833" class="InductiveConstructor">0≤n</a>

<a id="8984" href="/lia/part5/AExp/#8892" class="Function">size-down</a> <a id="8994" href="/lia/part5/AExp/#2198" class="InductiveConstructor">↝-Add-stop</a> <a id="9005" class="Symbol">=</a> <a id="9007" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="9011" href="/lia/part0/Naturals/#833" class="InductiveConstructor">0≤n</a>
<a id="9015" href="/lia/part5/AExp/#8892" class="Function">size-down</a> <a id="9025" class="Symbol">(</a><a id="9026" href="/lia/part5/AExp/#2245" class="InductiveConstructor">↝-Add-left</a> <a id="9037" href="/lia/part5/AExp/#9037" class="Bound">δ</a><a id="9038" class="Symbol">)</a> <a id="9040" class="Symbol">=</a> <a id="9042" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="9046" class="Symbol">(</a><a id="9047" href="/lia/part0/Naturals/#7215" class="Function">&lt;-+-left</a> <a id="9056" class="Symbol">(</a><a id="9057" href="/lia/part5/AExp/#8892" class="Function">size-down</a> <a id="9067" href="/lia/part5/AExp/#9037" class="Bound">δ</a><a id="9068" class="Symbol">))</a>
<a id="9071" href="/lia/part5/AExp/#8892" class="Function">size-down</a> <a id="9081" class="Symbol">{</a><a id="9082" class="Argument">e</a> <a id="9084" class="Symbol">=</a> <a id="9086" href="/lia/part5/AExp/#9086" class="Bound">e</a> <a id="9088" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="9090" class="Symbol">_}</a> <a id="9093" class="Symbol">(</a><a id="9094" href="/lia/part5/AExp/#2324" class="InductiveConstructor">↝-Add-right</a> <a id="9106" href="/lia/part5/AExp/#9106" class="Bound">δ</a><a id="9107" class="Symbol">)</a> <a id="9109" class="Symbol">=</a> <a id="9111" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="9115" class="Symbol">(</a><a id="9116" href="/lia/part0/Naturals/#7268" class="Function">&lt;-+-right</a> <a id="9126" class="Symbol">{</a><a id="9127" class="Argument">n</a> <a id="9129" class="Symbol">=</a> <a id="9131" href="/lia/part5/AExp/#8586" class="Function">size</a> <a id="9136" href="/lia/part5/AExp/#9086" class="Bound">e</a><a id="9137" class="Symbol">}</a> <a id="9139" class="Symbol">(</a><a id="9140" href="/lia/part5/AExp/#8892" class="Function">size-down</a> <a id="9150" href="/lia/part5/AExp/#9106" class="Bound">δ</a><a id="9151" class="Symbol">))</a>

<a id="9155" href="/lia/part5/AExp/#8892" class="Function">size-down</a> <a id="9165" href="/lia/part5/AExp/#2404" class="InductiveConstructor">↝-Mul-stop</a> <a id="9176" class="Symbol">=</a> <a id="9178" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="9182" href="/lia/part0/Naturals/#833" class="InductiveConstructor">0≤n</a>
<a id="9186" href="/lia/part5/AExp/#8892" class="Function">size-down</a> <a id="9196" class="Symbol">(</a><a id="9197" href="/lia/part5/AExp/#2451" class="InductiveConstructor">↝-Mul-left</a> <a id="9208" href="/lia/part5/AExp/#9208" class="Bound">δ</a><a id="9209" class="Symbol">)</a> <a id="9211" class="Symbol">=</a> <a id="9213" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="9217" class="Symbol">(</a><a id="9218" href="/lia/part0/Naturals/#7215" class="Function">&lt;-+-left</a> <a id="9227" class="Symbol">(</a><a id="9228" href="/lia/part5/AExp/#8892" class="Function">size-down</a> <a id="9238" href="/lia/part5/AExp/#9208" class="Bound">δ</a><a id="9239" class="Symbol">))</a>
<a id="9242" href="/lia/part5/AExp/#8892" class="Function">size-down</a> <a id="9252" class="Symbol">{</a><a id="9253" class="Argument">e</a> <a id="9255" class="Symbol">=</a> <a id="9257" href="/lia/part5/AExp/#9257" class="Bound">e</a> <a id="9259" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">·</a> <a id="9261" class="Symbol">_}</a> <a id="9264" class="Symbol">(</a><a id="9265" href="/lia/part5/AExp/#2530" class="InductiveConstructor">↝-Mul-right</a> <a id="9277" href="/lia/part5/AExp/#9277" class="Bound">δ</a><a id="9278" class="Symbol">)</a> <a id="9280" class="Symbol">=</a> <a id="9282" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="9286" class="Symbol">(</a><a id="9287" href="/lia/part0/Naturals/#7268" class="Function">&lt;-+-right</a> <a id="9297" class="Symbol">{</a><a id="9298" class="Argument">n</a> <a id="9300" class="Symbol">=</a> <a id="9302" href="/lia/part5/AExp/#8586" class="Function">size</a> <a id="9307" href="/lia/part5/AExp/#9257" class="Bound">e</a><a id="9308" class="Symbol">}</a> <a id="9310" class="Symbol">(</a><a id="9311" href="/lia/part5/AExp/#8892" class="Function">size-down</a> <a id="9321" href="/lia/part5/AExp/#9277" class="Bound">δ</a><a id="9322" class="Symbol">))</a>

<a id="9326" href="/lia/part5/AExp/#8892" class="Function">size-down</a> <a id="9336" href="/lia/part5/AExp/#2610" class="InductiveConstructor">↝-Let-stop</a> <a id="9347" class="Symbol">=</a> <a id="9349" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="9353" href="/lia/part0/Naturals/#833" class="InductiveConstructor">0≤n</a>
<a id="9357" href="/lia/part5/AExp/#8892" class="Function">size-down</a> <a id="9367" class="Symbol">(</a><a id="9368" href="/lia/part5/AExp/#2658" class="InductiveConstructor">↝-Let-1</a> <a id="9376" href="/lia/part5/AExp/#9376" class="Bound">δ</a><a id="9377" class="Symbol">)</a> <a id="9379" class="Symbol">=</a> <a id="9381" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="9385" class="Symbol">(</a><a id="9386" href="/lia/part5/AExp/#8892" class="Function">size-down</a> <a id="9396" href="/lia/part5/AExp/#9376" class="Bound">δ</a><a id="9397" class="Symbol">)</a>
<a id="9399" href="/lia/part5/AExp/#8892" class="Function">size-down</a> <a id="9409" class="Symbol">(</a><a id="9410" href="/lia/part5/AExp/#2776" class="InductiveConstructor">↝-Let-2</a> <a id="9418" href="/lia/part5/AExp/#9418" class="Bound">δ</a><a id="9419" class="Symbol">)</a> <a id="9421" class="Symbol">=</a> <a id="9423" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="9427" class="Symbol">(</a><a id="9428" href="/lia/part0/Naturals/#7215" class="Function">&lt;-+-left</a> <a id="9437" class="Symbol">(</a><a id="9438" href="/lia/part5/AExp/#8892" class="Function">size-down</a> <a id="9448" href="/lia/part5/AExp/#9418" class="Bound">δ</a><a id="9449" class="Symbol">))</a></pre>

<p>In the two “right” cases we need to give some extra hint for one
implicit parameter.</p>

<h1 id="big-steps-operational-semantics">
<a class="anchor" href="#big-steps-operational-semantics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Big-steps operational semantics</h1>

<pre class="Agda"><a id="9582" class="Keyword">infix</a> <a id="9588" class="Number">4</a> <a id="9590" href="/lia/part5/AExp/#9601" class="Datatype Operator">_,_⇒_</a>
<a id="9596" class="Keyword">data</a> <a id="_,_⇒_"></a><a id="9601" href="/lia/part5/AExp/#9601" class="Datatype Operator">_,_⇒_</a> <a id="9607" class="Symbol">:</a> <a id="9609" href="/lia/part5/AExp/#715" class="Datatype">AExp</a> <a id="9614" class="Symbol">→</a> <a id="9616" href="/lia/part5/AExp/#1423" class="Function">Env</a> <a id="9620" class="Symbol">→</a> <a id="9622" href="/lia/part0/Naturals/#301" class="Function">ℕ</a> <a id="9624" class="Symbol">→</a> <a id="9626" class="PrimitiveType">Set</a> <a id="9630" class="Keyword">where</a>

  <a id="_,_⇒_.⇒-Num"></a><a id="9639" href="/lia/part5/AExp/#9639" class="InductiveConstructor">⇒-Num</a> <a id="9645" class="Symbol">:</a>
    <a id="9651" class="Comment">-------------</a>
    <a id="9669" href="/lia/part5/AExp/#734" class="InductiveConstructor">Num</a> <a id="9673" href="/lia/part5/AExp/#931" class="Generalizable">n</a> <a id="9675" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="9677" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="9679" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="9681" href="/lia/part5/AExp/#931" class="Generalizable">n</a>

  <a id="_,_⇒_.⇒-Var"></a><a id="9686" href="/lia/part5/AExp/#9686" class="InductiveConstructor">⇒-Var</a> <a id="9692" class="Symbol">:</a>
    <a id="9698" class="Comment">---------------</a>
    <a id="9718" href="/lia/part5/AExp/#757" class="InductiveConstructor">Var</a> <a id="9722" href="/lia/part5/AExp/#545" class="Generalizable">x</a> <a id="9724" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="9726" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="9728" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="9730" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="9732" href="/lia/part5/AExp/#545" class="Generalizable">x</a>

  <a id="_,_⇒_.⇒-Add"></a><a id="9737" href="/lia/part5/AExp/#9737" class="InductiveConstructor">⇒-Add</a> <a id="9743" class="Symbol">:</a>
    <a id="9749" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="9751" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="9753" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="9755" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="9757" href="/lia/part5/AExp/#929" class="Generalizable">m</a> <a id="9759" class="Symbol">→</a>
    <a id="9765" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="9767" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="9769" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="9771" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="9773" href="/lia/part5/AExp/#931" class="Generalizable">n</a> <a id="9775" class="Symbol">→</a>
    <a id="9781" class="Comment">------------------</a>
    <a id="9804" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="9806" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="9808" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="9810" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="9812" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="9814" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="9816" href="/lia/part5/AExp/#929" class="Generalizable">m</a> <a id="9818" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="9821" href="/lia/part5/AExp/#931" class="Generalizable">n</a>

  <a id="_,_⇒_.⇒-Mul"></a><a id="9826" href="/lia/part5/AExp/#9826" class="InductiveConstructor">⇒-Mul</a> <a id="9832" class="Symbol">:</a>
    <a id="9838" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="9840" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="9842" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="9844" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="9846" href="/lia/part5/AExp/#929" class="Generalizable">m</a> <a id="9848" class="Symbol">→</a>
    <a id="9854" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="9856" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="9858" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="9860" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="9862" href="/lia/part5/AExp/#931" class="Generalizable">n</a> <a id="9864" class="Symbol">→</a>
    <a id="9870" class="Comment">------------------</a>
    <a id="9893" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="9895" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">·</a> <a id="9897" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="9899" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="9901" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="9903" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="9905" href="/lia/part5/AExp/#929" class="Generalizable">m</a> <a id="9907" href="/lia/part5/AExp/#185" class="Primitive Operator">·ℕ</a> <a id="9910" href="/lia/part5/AExp/#931" class="Generalizable">n</a>

  <a id="_,_⇒_.⇒-Let"></a><a id="9915" href="/lia/part5/AExp/#9915" class="InductiveConstructor">⇒-Let</a> <a id="9921" class="Symbol">:</a>
    <a id="9927" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="9929" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="9931" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="9933" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="9935" href="/lia/part5/AExp/#929" class="Generalizable">m</a> <a id="9937" class="Symbol">→</a>
    <a id="9943" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="9945" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="9947" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="9949" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="9951" href="/lia/part5/AExp/#545" class="Generalizable">x</a> <a id="9953" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="9955" href="/lia/part5/AExp/#929" class="Generalizable">m</a> <a id="9957" href="/lia/part0/Functions/#568" class="Function Operator">]</a> <a id="9959" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="9961" href="/lia/part5/AExp/#931" class="Generalizable">n</a> <a id="9963" class="Symbol">→</a>
    <a id="9969" class="Comment">---------------------</a>
    <a id="9995" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="9999" href="/lia/part5/AExp/#545" class="Generalizable">x</a> <a id="10001" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="10003" href="/lia/part5/AExp/#911" class="Generalizable">f</a> <a id="10005" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="10007" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="10009" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="10011" href="/lia/part5/AExp/#931" class="Generalizable">n</a></pre>

<p>Example derivation:</p>

<pre class="Agda"><a id="x0"></a><a id="10043" href="/lia/part5/AExp/#10043" class="Function">x0</a> <a id="10046" class="Symbol">=</a> <a id="10048" class="Number">0</a>
<a id="e0"></a><a id="10050" href="/lia/part5/AExp/#10050" class="Function">e0</a> <a id="10053" class="Symbol">=</a> <a id="10055" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="10059" href="/lia/part5/AExp/#10043" class="Function">x0</a> <a id="10062" class="Symbol">(</a><a id="10063" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="10065" class="Number">2</a> <a id="10067" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="10069" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="10071" class="Number">3</a><a id="10072" class="Symbol">)</a> <a id="10074" class="Symbol">(</a><a id="10075" href="/lia/part5/AExp/#1168" class="InductiveConstructor Operator">`</a> <a id="10077" href="/lia/part5/AExp/#10043" class="Function">x0</a> <a id="10080" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">·</a> <a id="10082" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="10084" class="Number">2</a><a id="10085" class="Symbol">)</a> 

<a id="10089" href="/lia/part5/AExp/#10089" class="Function">_</a> <a id="10091" class="Symbol">:</a> <a id="10093" href="/lia/part5/AExp/#10050" class="Function">e0</a> <a id="10096" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="10098" href="/lia/part5/AExp/#1591" class="Function">ρ0</a> <a id="10101" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="10103" class="Number">10</a>
<a id="10106" class="Symbol">_</a> <a id="10108" class="Symbol">=</a> <a id="10110" href="/lia/part0/TList/#253" class="InductiveConstructor">BEGIN</a>
    <a id="10120" href="/lia/part0/TList/#637" class="Function Operator">have</a> <a id="10125" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="10127" class="Number">2</a> <a id="10129" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="10131" href="/lia/part5/AExp/#1591" class="Function">ρ0</a> <a id="10134" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="10136" class="Number">2</a>                               <a id="10168" href="/lia/part0/TList/#637" class="Function Operator">by</a> <a id="10171" href="/lia/part5/AExp/#9639" class="InductiveConstructor">⇒-Num</a>
    <a id="10181" href="/lia/part0/TList/#637" class="Function Operator">have</a> <a id="10186" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="10188" class="Number">3</a> <a id="10190" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="10192" href="/lia/part5/AExp/#1591" class="Function">ρ0</a> <a id="10195" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="10197" class="Number">3</a>                               <a id="10229" href="/lia/part0/TList/#637" class="Function Operator">by</a> <a id="10232" href="/lia/part5/AExp/#9639" class="InductiveConstructor">⇒-Num</a>
    <a id="10242" href="/lia/part0/TList/#741" class="Function Operator">have</a> <a id="10247" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="10249" class="Number">2</a> <a id="10251" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="10253" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="10255" class="Number">3</a> <a id="10257" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="10259" href="/lia/part5/AExp/#1591" class="Function">ρ0</a> <a id="10262" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="10264" class="Number">5</a>                         <a id="10290" href="/lia/part0/TList/#741" class="Function Operator">apply</a> <a id="10296" href="/lia/part5/AExp/#9737" class="InductiveConstructor">⇒-Add</a> <a id="10302" href="/lia/part0/TList/#741" class="Function Operator">at</a> <a id="10305" href="/lia/part0/TList/#1635" class="Function">back</a> <a id="10310" class="Number">1</a> <a id="10312" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="10314" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a>

    <a id="10324" href="/lia/part0/TList/#637" class="Function Operator">have</a> <a id="10329" href="/lia/part5/AExp/#1168" class="InductiveConstructor Operator">`</a> <a id="10331" href="/lia/part5/AExp/#10043" class="Function">x0</a> <a id="10334" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="10336" href="/lia/part5/AExp/#1591" class="Function">ρ0</a> <a id="10339" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="10341" href="/lia/part5/AExp/#10043" class="Function">x0</a> <a id="10344" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="10346" class="Number">5</a> <a id="10348" href="/lia/part0/Functions/#568" class="Function Operator">]</a> <a id="10350" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="10352" class="Number">5</a>                   <a id="10372" href="/lia/part0/TList/#637" class="Function Operator">by</a> <a id="10375" href="/lia/part5/AExp/#9686" class="InductiveConstructor">⇒-Var</a>
    <a id="10385" href="/lia/part0/TList/#637" class="Function Operator">have</a> <a id="10390" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="10392" class="Number">2</a> <a id="10394" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="10396" href="/lia/part5/AExp/#1591" class="Function">ρ0</a> <a id="10399" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="10401" href="/lia/part5/AExp/#10043" class="Function">x0</a> <a id="10404" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="10406" class="Number">5</a> <a id="10408" href="/lia/part0/Functions/#568" class="Function Operator">]</a> <a id="10410" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="10412" class="Number">2</a>                    <a id="10433" href="/lia/part0/TList/#637" class="Function Operator">by</a> <a id="10436" href="/lia/part5/AExp/#9639" class="InductiveConstructor">⇒-Num</a>
    <a id="10446" href="/lia/part0/TList/#741" class="Function Operator">have</a> <a id="10451" class="Symbol">(</a><a id="10452" href="/lia/part5/AExp/#1168" class="InductiveConstructor Operator">`</a> <a id="10454" href="/lia/part5/AExp/#10043" class="Function">x0</a> <a id="10457" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">·</a> <a id="10459" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="10461" class="Number">2</a><a id="10462" class="Symbol">)</a> <a id="10464" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="10466" href="/lia/part5/AExp/#1591" class="Function">ρ0</a> <a id="10469" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="10471" href="/lia/part5/AExp/#10043" class="Function">x0</a> <a id="10474" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="10476" class="Number">5</a> <a id="10478" href="/lia/part0/Functions/#568" class="Function Operator">]</a> <a id="10480" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="10482" class="Number">10</a>          <a id="10494" href="/lia/part0/TList/#741" class="Function Operator">apply</a> <a id="10500" href="/lia/part5/AExp/#9826" class="InductiveConstructor">⇒-Mul</a> <a id="10506" href="/lia/part0/TList/#741" class="Function Operator">at</a> <a id="10509" href="/lia/part0/TList/#1635" class="Function">back</a> <a id="10514" class="Number">1</a> <a id="10516" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="10518" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a>

    <a id="10528" href="/lia/part0/TList/#741" class="Function Operator">have</a> <a id="10533" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="10537" href="/lia/part5/AExp/#10043" class="Function">x0</a> <a id="10540" class="Symbol">(</a><a id="10541" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="10543" class="Number">2</a> <a id="10545" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="10547" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="10549" class="Number">3</a><a id="10550" class="Symbol">)</a> <a id="10552" class="Symbol">(</a><a id="10553" href="/lia/part5/AExp/#1168" class="InductiveConstructor Operator">`</a> <a id="10555" href="/lia/part5/AExp/#10043" class="Function">x0</a> <a id="10558" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">·</a> <a id="10560" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="10562" class="Number">2</a><a id="10563" class="Symbol">)</a> <a id="10565" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="10567" href="/lia/part5/AExp/#1591" class="Function">ρ0</a> <a id="10570" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="10572" class="Number">10</a>  <a id="10576" href="/lia/part0/TList/#741" class="Function Operator">apply</a> <a id="10582" href="/lia/part5/AExp/#9915" class="InductiveConstructor">⇒-Let</a> <a id="10588" href="/lia/part0/TList/#741" class="Function Operator">at</a> <a id="10591" href="/lia/part0/TList/#1635" class="Function">back</a> <a id="10596" class="Number">3</a> <a id="10598" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="10600" href="/lia/part0/List/#8022" class="InductiveConstructor">here</a>
    <a id="10609" href="/lia/part0/TList/#1233" class="Function">END</a></pre>

<h2 id="evaluator-interpreter">
<a class="anchor" href="#evaluator-interpreter" aria-hidden="true"><span class="octicon octicon-link"></span></a>Evaluator (interpreter)</h2>

<p>Luckily we can automatically produce the derivations as in the previous
example.</p>

<pre class="Agda"><a id="eval"></a><a id="10732" href="/lia/part5/AExp/#10732" class="Function">eval</a> <a id="10737" class="Symbol">:</a> <a id="10739" class="Symbol">∀</a> <a id="10741" href="/lia/part5/AExp/#10741" class="Bound">e</a> <a id="10743" href="/lia/part5/AExp/#10743" class="Bound">ρ</a> <a id="10745" class="Symbol">→</a> <a id="10747" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="10750" href="/lia/part5/AExp/#10750" class="Bound">n</a> <a id="10752" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="10754" href="/lia/part5/AExp/#10741" class="Bound">e</a> <a id="10756" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="10758" href="/lia/part5/AExp/#10743" class="Bound">ρ</a> <a id="10760" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="10762" href="/lia/part5/AExp/#10750" class="Bound">n</a>

<a id="10765" href="/lia/part5/AExp/#10732" class="Function">eval</a> <a id="10770" class="Symbol">(</a><a id="10771" href="/lia/part5/AExp/#1147" class="InductiveConstructor Operator">$</a> <a id="10773" href="/lia/part5/AExp/#10773" class="Bound">n</a><a id="10774" class="Symbol">)</a> <a id="10776" href="/lia/part5/AExp/#10776" class="Bound">ρ</a> <a id="10778" class="Symbol">=</a> <a id="10780" href="/lia/part5/AExp/#10773" class="Bound">n</a> <a id="10782" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10784" href="/lia/part5/AExp/#9639" class="InductiveConstructor">⇒-Num</a>

<a id="10791" href="/lia/part5/AExp/#10732" class="Function">eval</a> <a id="10796" class="Symbol">(</a><a id="10797" href="/lia/part5/AExp/#1168" class="InductiveConstructor Operator">`</a> <a id="10799" href="/lia/part5/AExp/#10799" class="Bound">x</a><a id="10800" class="Symbol">)</a> <a id="10802" href="/lia/part5/AExp/#10802" class="Bound">ρ</a> <a id="10804" class="Symbol">=</a> <a id="10806" href="/lia/part5/AExp/#10802" class="Bound">ρ</a> <a id="10808" href="/lia/part5/AExp/#10799" class="Bound">x</a> <a id="10810" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10812" href="/lia/part5/AExp/#9686" class="InductiveConstructor">⇒-Var</a>

<a id="10819" href="/lia/part5/AExp/#10732" class="Function">eval</a> <a id="10824" class="Symbol">(</a><a id="10825" href="/lia/part5/AExp/#10825" class="Bound">e</a> <a id="10827" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="10829" href="/lia/part5/AExp/#10829" class="Bound">f</a><a id="10830" class="Symbol">)</a> <a id="10832" href="/lia/part5/AExp/#10832" class="Bound">ρ</a>
  <a id="10836" class="Keyword">with</a> <a id="10841" href="/lia/part5/AExp/#10732" class="Function">eval</a> <a id="10846" href="/lia/part5/AExp/#10825" class="Bound">e</a> <a id="10848" href="/lia/part5/AExp/#10832" class="Bound">ρ</a> <a id="10850" class="Symbol">|</a> <a id="10852" href="/lia/part5/AExp/#10732" class="Function">eval</a> <a id="10857" href="/lia/part5/AExp/#10829" class="Bound">f</a> <a id="10859" href="/lia/part5/AExp/#10832" class="Bound">ρ</a>
<a id="10861" class="Symbol">...</a> <a id="10865" class="Symbol">|</a> <a id="10867" href="/lia/part5/AExp/#10867" class="Bound">m</a> <a id="10869" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10871" href="/lia/part5/AExp/#10871" class="Bound">δ</a> <a id="10873" class="Symbol">|</a> <a id="10875" href="/lia/part5/AExp/#10875" class="Bound">n</a> <a id="10877" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10879" href="/lia/part5/AExp/#10879" class="Bound">σ</a> <a id="10881" class="Symbol">=</a> <a id="10883" href="/lia/part5/AExp/#10867" class="Bound">m</a> <a id="10885" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="10888" href="/lia/part5/AExp/#10875" class="Bound">n</a> <a id="10890" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10892" href="/lia/part5/AExp/#9737" class="InductiveConstructor">⇒-Add</a> <a id="10898" href="/lia/part5/AExp/#10871" class="Bound">δ</a> <a id="10900" href="/lia/part5/AExp/#10879" class="Bound">σ</a>

<a id="10903" href="/lia/part5/AExp/#10732" class="Function">eval</a> <a id="10908" class="Symbol">(</a><a id="10909" href="/lia/part5/AExp/#10909" class="Bound">e</a> <a id="10911" href="/lia/part5/AExp/#1215" class="InductiveConstructor Operator">·</a> <a id="10913" href="/lia/part5/AExp/#10913" class="Bound">f</a><a id="10914" class="Symbol">)</a> <a id="10916" href="/lia/part5/AExp/#10916" class="Bound">ρ</a>
  <a id="10920" class="Keyword">with</a> <a id="10925" href="/lia/part5/AExp/#10732" class="Function">eval</a> <a id="10930" href="/lia/part5/AExp/#10909" class="Bound">e</a> <a id="10932" href="/lia/part5/AExp/#10916" class="Bound">ρ</a> <a id="10934" class="Symbol">|</a> <a id="10936" href="/lia/part5/AExp/#10732" class="Function">eval</a> <a id="10941" href="/lia/part5/AExp/#10913" class="Bound">f</a> <a id="10943" href="/lia/part5/AExp/#10916" class="Bound">ρ</a>
<a id="10945" class="Symbol">...</a> <a id="10949" class="Symbol">|</a> <a id="10951" href="/lia/part5/AExp/#10951" class="Bound">m</a> <a id="10953" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10955" href="/lia/part5/AExp/#10955" class="Bound">δ</a> <a id="10957" class="Symbol">|</a> <a id="10959" href="/lia/part5/AExp/#10959" class="Bound">n</a> <a id="10961" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10963" href="/lia/part5/AExp/#10963" class="Bound">σ</a> <a id="10965" class="Symbol">=</a> <a id="10967" href="/lia/part5/AExp/#10951" class="Bound">m</a> <a id="10969" href="/lia/part5/AExp/#185" class="Primitive Operator">·ℕ</a> <a id="10972" href="/lia/part5/AExp/#10959" class="Bound">n</a> <a id="10974" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="10976" href="/lia/part5/AExp/#9826" class="InductiveConstructor">⇒-Mul</a> <a id="10982" href="/lia/part5/AExp/#10955" class="Bound">δ</a> <a id="10984" href="/lia/part5/AExp/#10963" class="Bound">σ</a>

<a id="10987" href="/lia/part5/AExp/#10732" class="Function">eval</a> <a id="10992" class="Symbol">(</a><a id="10993" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="10997" href="/lia/part5/AExp/#10997" class="Bound">x</a> <a id="10999" href="/lia/part5/AExp/#10999" class="Bound">e</a> <a id="11001" href="/lia/part5/AExp/#11001" class="Bound">f</a><a id="11002" class="Symbol">)</a> <a id="11004" href="/lia/part5/AExp/#11004" class="Bound">ρ</a>
  <a id="11008" class="Keyword">with</a> <a id="11013" href="/lia/part5/AExp/#10732" class="Function">eval</a> <a id="11018" href="/lia/part5/AExp/#10999" class="Bound">e</a> <a id="11020" href="/lia/part5/AExp/#11004" class="Bound">ρ</a>
<a id="11022" class="Symbol">...</a> <a id="11026" class="Symbol">|</a> <a id="11028" href="/lia/part5/AExp/#11028" class="Bound">m</a> <a id="11030" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11032" href="/lia/part5/AExp/#11032" class="Bound">δ</a> 
  <a id="11037" class="Keyword">with</a> <a id="11042" href="/lia/part5/AExp/#10732" class="Function">eval</a> <a id="11047" class="Bound">f</a> <a id="11049" class="Symbol">(</a><a id="11050" class="Bound">ρ</a> <a id="11052" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="11054" class="Bound">x</a> <a id="11056" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="11058" href="/lia/part5/AExp/#11028" class="Bound">m</a> <a id="11060" href="/lia/part0/Functions/#568" class="Function Operator">]</a><a id="11061" class="Symbol">)</a>
<a id="11063" class="Symbol">...</a> <a id="11067" class="Symbol">|</a> <a id="11069" href="/lia/part5/AExp/#11069" class="Bound">n</a> <a id="11071" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11073" href="/lia/part5/AExp/#11073" class="Bound">σ</a> <a id="11075" class="Symbol">=</a> <a id="11077" href="/lia/part5/AExp/#11069" class="Bound">n</a> <a id="11079" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="11081" href="/lia/part5/AExp/#9915" class="InductiveConstructor">⇒-Let</a> <a id="11087" class="Bound">δ</a> <a id="11089" href="/lia/part5/AExp/#11073" class="Bound">σ</a></pre>
<pre class="Agda"><a id="11100" href="/lia/part5/AExp/#11100" class="Function">_</a> <a id="11102" class="Symbol">:</a> <a id="11104" href="/lia/part5/AExp/#10050" class="Function">e0</a> <a id="11107" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="11109" href="/lia/part5/AExp/#1591" class="Function">ρ0</a> <a id="11112" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="11114" class="Number">10</a>
<a id="11117" class="Symbol">_</a> <a id="11119" class="Symbol">=</a> <a id="11121" href="/lia/part0/Logic/#431" class="Field">dsnd</a> <a id="11126" class="Symbol">(</a><a id="11127" href="/lia/part5/AExp/#10732" class="Function">eval</a> <a id="11132" href="/lia/part5/AExp/#10050" class="Function">e0</a> <a id="11135" href="/lia/part5/AExp/#1591" class="Function">ρ0</a><a id="11137" class="Symbol">)</a></pre>

<h2 id="evaluation-is-deterministic">
<a class="anchor" href="#evaluation-is-deterministic" aria-hidden="true"><span class="octicon octicon-link"></span></a>Evaluation is deterministic</h2>

<pre class="Agda"><a id="⇒-det"></a><a id="11180" href="/lia/part5/AExp/#11180" class="Function">⇒-det</a> <a id="11186" class="Symbol">:</a>
  <a id="11190" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="11192" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="11194" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="11196" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="11198" href="/lia/part5/AExp/#929" class="Generalizable">m</a> <a id="11200" class="Symbol">→</a>
  <a id="11204" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="11206" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="11208" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="11210" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="11212" href="/lia/part5/AExp/#931" class="Generalizable">n</a> <a id="11214" class="Symbol">→</a>
  <a id="11218" class="Comment">-----------</a>
  <a id="11232" href="/lia/part5/AExp/#929" class="Generalizable">m</a> <a id="11234" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="11236" href="/lia/part5/AExp/#931" class="Generalizable">n</a>

<a id="11239" href="/lia/part5/AExp/#11180" class="Function">⇒-det</a> <a id="11245" href="/lia/part5/AExp/#9639" class="InductiveConstructor">⇒-Num</a> <a id="11251" href="/lia/part5/AExp/#9639" class="InductiveConstructor">⇒-Num</a> <a id="11257" class="Symbol">=</a> <a id="11259" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="11264" href="/lia/part5/AExp/#11180" class="Function">⇒-det</a> <a id="11270" href="/lia/part5/AExp/#9686" class="InductiveConstructor">⇒-Var</a> <a id="11276" href="/lia/part5/AExp/#9686" class="InductiveConstructor">⇒-Var</a> <a id="11282" class="Symbol">=</a> <a id="11284" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="11289" href="/lia/part5/AExp/#11180" class="Function">⇒-det</a> <a id="11295" class="Symbol">(</a><a id="11296" href="/lia/part5/AExp/#9737" class="InductiveConstructor">⇒-Add</a> <a id="11302" href="/lia/part5/AExp/#11302" class="Bound">x</a> <a id="11304" href="/lia/part5/AExp/#11304" class="Bound">x₁</a><a id="11306" class="Symbol">)</a> <a id="11308" class="Symbol">(</a><a id="11309" href="/lia/part5/AExp/#9737" class="InductiveConstructor">⇒-Add</a> <a id="11315" href="/lia/part5/AExp/#11315" class="Bound">y</a> <a id="11317" href="/lia/part5/AExp/#11317" class="Bound">y₁</a><a id="11319" class="Symbol">)</a>
    <a id="11325" class="Keyword">with</a> <a id="11330" href="/lia/part5/AExp/#11180" class="Function">⇒-det</a> <a id="11336" href="/lia/part5/AExp/#11302" class="Bound">x</a> <a id="11338" href="/lia/part5/AExp/#11315" class="Bound">y</a> <a id="11340" class="Symbol">|</a> <a id="11342" href="/lia/part5/AExp/#11180" class="Function">⇒-det</a> <a id="11348" href="/lia/part5/AExp/#11304" class="Bound">x₁</a> <a id="11351" href="/lia/part5/AExp/#11317" class="Bound">y₁</a>
<a id="11354" class="Symbol">...</a> <a id="11358" class="Symbol">|</a> <a id="11360" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="11365" class="Symbol">|</a> <a id="11367" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="11372" class="Symbol">=</a> <a id="11374" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="11379" href="/lia/part5/AExp/#11180" class="Function">⇒-det</a> <a id="11385" class="Symbol">(</a><a id="11386" href="/lia/part5/AExp/#9826" class="InductiveConstructor">⇒-Mul</a> <a id="11392" href="/lia/part5/AExp/#11392" class="Bound">x</a> <a id="11394" href="/lia/part5/AExp/#11394" class="Bound">x₁</a><a id="11396" class="Symbol">)</a> <a id="11398" class="Symbol">(</a><a id="11399" href="/lia/part5/AExp/#9826" class="InductiveConstructor">⇒-Mul</a> <a id="11405" href="/lia/part5/AExp/#11405" class="Bound">y</a> <a id="11407" href="/lia/part5/AExp/#11407" class="Bound">y₁</a><a id="11409" class="Symbol">)</a>
    <a id="11415" class="Keyword">with</a> <a id="11420" href="/lia/part5/AExp/#11180" class="Function">⇒-det</a> <a id="11426" href="/lia/part5/AExp/#11392" class="Bound">x</a> <a id="11428" href="/lia/part5/AExp/#11405" class="Bound">y</a> <a id="11430" class="Symbol">|</a> <a id="11432" href="/lia/part5/AExp/#11180" class="Function">⇒-det</a> <a id="11438" href="/lia/part5/AExp/#11394" class="Bound">x₁</a> <a id="11441" href="/lia/part5/AExp/#11407" class="Bound">y₁</a>
<a id="11444" class="Symbol">...</a> <a id="11448" class="Symbol">|</a> <a id="11450" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="11455" class="Symbol">|</a> <a id="11457" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="11462" class="Symbol">=</a> <a id="11464" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="11469" href="/lia/part5/AExp/#11180" class="Function">⇒-det</a> <a id="11475" class="Symbol">(</a><a id="11476" href="/lia/part5/AExp/#9915" class="InductiveConstructor">⇒-Let</a> <a id="11482" href="/lia/part5/AExp/#11482" class="Bound">⇒₁-e</a> <a id="11487" href="/lia/part5/AExp/#11487" class="Bound">⇒₁-f</a><a id="11491" class="Symbol">)</a> <a id="11493" class="Symbol">(</a><a id="11494" href="/lia/part5/AExp/#9915" class="InductiveConstructor">⇒-Let</a> <a id="11500" href="/lia/part5/AExp/#11500" class="Bound">⇒₂-e</a> <a id="11505" href="/lia/part5/AExp/#11505" class="Bound">⇒₂-f</a><a id="11509" class="Symbol">)</a>
    <a id="11515" class="Keyword">with</a> <a id="11520" href="/lia/part5/AExp/#11180" class="Function">⇒-det</a> <a id="11526" href="/lia/part5/AExp/#11482" class="Bound">⇒₁-e</a> <a id="11531" href="/lia/part5/AExp/#11500" class="Bound">⇒₂-e</a>
<a id="11536" class="Symbol">...</a> <a id="11540" class="Symbol">|</a> <a id="11542" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
    <a id="11551" class="Keyword">with</a> <a id="11556" href="/lia/part5/AExp/#11180" class="Function">⇒-det</a> <a id="11562" class="Bound">⇒₁-f</a> <a id="11567" class="Bound">⇒₂-f</a>
<a id="11572" class="Symbol">...</a> <a id="11576" class="Symbol">|</a> <a id="11578" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="11583" class="Symbol">=</a> <a id="11585" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a></pre>

<p>Note that in the <code class="language-plaintext highlighter-rouge">⇒-Let</code> case we cannot perform the two
with-abstractions in parallel because in order to apply the second one
<code class="language-plaintext highlighter-rouge">⇒-det ⇒₁-f ⇒₂-f</code> we need the result of the first one.</p>

<h2 id="agreement-of-the-semantics">
<a class="anchor" href="#agreement-of-the-semantics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Agreement of the semantics</h2>

<p>The following lemma shows that the big-steps operational semantics
agrees with the denotational semantics.</p>

<pre class="Agda"><a id="⇒-agree-⟦⟧"></a><a id="11921" href="/lia/part5/AExp/#11921" class="Function">⇒-agree-⟦⟧</a> <a id="11932" class="Symbol">:</a> <a id="11934" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="11936" href="/lia/part5/AExp/#9601" class="Datatype Operator">,</a> <a id="11938" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a> <a id="11940" href="/lia/part5/AExp/#9601" class="Datatype Operator">⇒</a> <a id="11942" href="/lia/part5/AExp/#1685" class="Function Operator">⟦</a> <a id="11944" href="/lia/part5/AExp/#906" class="Generalizable">e</a> <a id="11946" href="/lia/part5/AExp/#1685" class="Function Operator">⟧</a> <a id="11948" href="/lia/part5/AExp/#1459" class="Generalizable">ρ</a>
<a id="11950" href="/lia/part5/AExp/#11921" class="Function">⇒-agree-⟦⟧</a> <a id="11961" class="Symbol">{</a><a id="11962" href="/lia/part5/AExp/#734" class="InductiveConstructor">Num</a> <a id="11966" href="/lia/part5/AExp/#11966" class="Bound">x</a><a id="11967" class="Symbol">}</a> <a id="11969" class="Symbol">=</a> <a id="11971" href="/lia/part5/AExp/#9639" class="InductiveConstructor">⇒-Num</a>
<a id="11977" href="/lia/part5/AExp/#11921" class="Function">⇒-agree-⟦⟧</a> <a id="11988" class="Symbol">{</a><a id="11989" href="/lia/part5/AExp/#757" class="InductiveConstructor">Var</a> <a id="11993" href="/lia/part5/AExp/#11993" class="Bound">x</a><a id="11994" class="Symbol">}</a> <a id="11996" class="Symbol">=</a> <a id="11998" href="/lia/part5/AExp/#9686" class="InductiveConstructor">⇒-Var</a>
<a id="12004" href="/lia/part5/AExp/#11921" class="Function">⇒-agree-⟦⟧</a> <a id="12015" class="Symbol">{</a><a id="12016" href="/lia/part5/AExp/#786" class="InductiveConstructor">Add</a> <a id="12020" href="/lia/part5/AExp/#12020" class="Bound">e</a> <a id="12022" href="/lia/part5/AExp/#12022" class="Bound">e₁</a><a id="12024" class="Symbol">}</a> <a id="12026" class="Symbol">=</a> <a id="12028" href="/lia/part5/AExp/#9737" class="InductiveConstructor">⇒-Add</a> <a id="12034" href="/lia/part5/AExp/#11921" class="Function">⇒-agree-⟦⟧</a> <a id="12045" href="/lia/part5/AExp/#11921" class="Function">⇒-agree-⟦⟧</a> 
<a id="12057" href="/lia/part5/AExp/#11921" class="Function">⇒-agree-⟦⟧</a> <a id="12068" class="Symbol">{</a><a id="12069" href="/lia/part5/AExp/#814" class="InductiveConstructor">Mul</a> <a id="12073" href="/lia/part5/AExp/#12073" class="Bound">e</a> <a id="12075" href="/lia/part5/AExp/#12075" class="Bound">e₁</a><a id="12077" class="Symbol">}</a> <a id="12079" class="Symbol">=</a> <a id="12081" href="/lia/part5/AExp/#9826" class="InductiveConstructor">⇒-Mul</a> <a id="12087" href="/lia/part5/AExp/#11921" class="Function">⇒-agree-⟦⟧</a> <a id="12098" href="/lia/part5/AExp/#11921" class="Function">⇒-agree-⟦⟧</a> 
<a id="12110" href="/lia/part5/AExp/#11921" class="Function">⇒-agree-⟦⟧</a> <a id="12121" class="Symbol">{</a><a id="12122" href="/lia/part5/AExp/#842" class="InductiveConstructor">Let</a> <a id="12126" href="/lia/part5/AExp/#12126" class="Bound">x</a> <a id="12128" href="/lia/part5/AExp/#12128" class="Bound">e</a> <a id="12130" href="/lia/part5/AExp/#12130" class="Bound">f</a><a id="12131" class="Symbol">}</a> <a id="12133" class="Symbol">=</a> <a id="12135" href="/lia/part5/AExp/#9915" class="InductiveConstructor">⇒-Let</a> <a id="12141" href="/lia/part5/AExp/#11921" class="Function">⇒-agree-⟦⟧</a> <a id="12152" href="/lia/part5/AExp/#11921" class="Function">⇒-agree-⟦⟧</a></pre>

<h1 id="binary-expressions">
<a class="anchor" href="#binary-expressions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Binary expressions</h1>

<h2 id="syntax">
<a class="anchor" href="#syntax" aria-hidden="true"><span class="octicon octicon-link"></span></a>Syntax</h2>

<pre class="Agda"><a id="12205" class="Keyword">infix</a> <a id="12211" class="Number">30</a> <a id="12214" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">_𝟬</a> <a id="12217" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">_𝟭</a>

<a id="12221" class="Keyword">data</a> <a id="Bin"></a><a id="12226" href="/lia/part5/AExp/#12226" class="Datatype">Bin</a> <a id="12230" class="Symbol">:</a> <a id="12232" class="PrimitiveType">Set</a> <a id="12236" class="Keyword">where</a>
  <a id="Bin.$"></a><a id="12244" href="/lia/part5/AExp/#12244" class="InductiveConstructor">$</a> <a id="12246" class="Symbol">:</a> <a id="12248" href="/lia/part5/AExp/#12226" class="Datatype">Bin</a>
  <a id="Bin._𝟬"></a><a id="12254" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">_𝟬</a> <a id="12257" class="Symbol">:</a> <a id="12259" href="/lia/part5/AExp/#12226" class="Datatype">Bin</a> <a id="12263" class="Symbol">→</a> <a id="12265" href="/lia/part5/AExp/#12226" class="Datatype">Bin</a>
  <a id="Bin._𝟭"></a><a id="12271" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">_𝟭</a> <a id="12274" class="Symbol">:</a> <a id="12276" href="/lia/part5/AExp/#12226" class="Datatype">Bin</a> <a id="12280" class="Symbol">→</a> <a id="12282" href="/lia/part5/AExp/#12226" class="Datatype">Bin</a>
  <a id="Bin.Add"></a><a id="12288" href="/lia/part5/AExp/#12288" class="InductiveConstructor">Add</a> <a id="12292" class="Symbol">:</a> <a id="12294" href="/lia/part5/AExp/#12226" class="Datatype">Bin</a> <a id="12298" class="Symbol">→</a> <a id="12300" href="/lia/part5/AExp/#12226" class="Datatype">Bin</a> <a id="12304" class="Symbol">→</a> <a id="12306" href="/lia/part5/AExp/#12226" class="Datatype">Bin</a>

<a id="12311" class="Keyword">pattern</a> <a id="_+_"></a><a id="12319" href="/lia/part5/AExp/#12319" class="InductiveConstructor Operator">_+_</a> <a id="12323" href="/lia/part5/AExp/#12333" class="Bound">x</a> <a id="12325" href="/lia/part5/AExp/#12335" class="Bound">y</a> <a id="12327" class="Symbol">=</a> <a id="12329" class="InductiveConstructor">Add</a> <a id="12333" href="/lia/part5/AExp/#12333" class="Bound">x</a> <a id="12335" href="/lia/part5/AExp/#12335" class="Bound">y</a>

<a id="12338" class="Keyword">private</a>
  <a id="12348" class="Keyword">variable</a>
    <a id="12361" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="12363" href="/lia/part5/AExp/#12363" class="Generalizable">a′</a> <a id="12366" href="/lia/part5/AExp/#12366" class="Generalizable">b</a> <a id="12368" href="/lia/part5/AExp/#12368" class="Generalizable">b′</a> <a id="12371" class="Symbol">:</a> <a id="12373" href="/lia/part5/AExp/#12226" class="Datatype">Bin</a></pre>

<h2 id="denotational-semantics-1">
<a class="anchor" href="#denotational-semantics-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Denotational semantics</h2>

<pre class="Agda"><a id="12413" class="Keyword">private</a> <a id="⟦_⟧"></a><a id="12421" href="/lia/part5/AExp/#12421" class="Function Operator">⟦_⟧</a> <a id="12425" class="Symbol">:</a> <a id="12427" href="/lia/part5/AExp/#12226" class="Datatype">Bin</a> <a id="12431" class="Symbol">→</a> <a id="12433" href="/lia/part0/Naturals/#301" class="Function">ℕ</a>
<a id="12435" href="/lia/part5/AExp/#12421" class="Function Operator">⟦</a> <a id="12437" href="/lia/part5/AExp/#12244" class="InductiveConstructor">$</a> <a id="12439" href="/lia/part5/AExp/#12421" class="Function Operator">⟧</a> <a id="12441" class="Symbol">=</a> <a id="12443" class="Number">0</a>
<a id="12445" href="/lia/part5/AExp/#12421" class="Function Operator">⟦</a> <a id="12447" href="/lia/part5/AExp/#12447" class="Bound">a</a> <a id="12449" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">𝟬</a> <a id="12451" href="/lia/part5/AExp/#12421" class="Function Operator">⟧</a> <a id="12453" class="Symbol">=</a> <a id="12455" class="Number">2</a> <a id="12457" href="/lia/part5/AExp/#185" class="Primitive Operator">·ℕ</a> <a id="12460" href="/lia/part5/AExp/#12421" class="Function Operator">⟦</a> <a id="12462" href="/lia/part5/AExp/#12447" class="Bound">a</a> <a id="12464" href="/lia/part5/AExp/#12421" class="Function Operator">⟧</a>
<a id="12466" href="/lia/part5/AExp/#12421" class="Function Operator">⟦</a> <a id="12468" href="/lia/part5/AExp/#12468" class="Bound">a</a> <a id="12470" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a> <a id="12472" href="/lia/part5/AExp/#12421" class="Function Operator">⟧</a> <a id="12474" class="Symbol">=</a> <a id="12476" class="Number">1</a> <a id="12478" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="12481" class="Number">2</a> <a id="12483" href="/lia/part5/AExp/#185" class="Primitive Operator">·ℕ</a> <a id="12486" href="/lia/part5/AExp/#12421" class="Function Operator">⟦</a> <a id="12488" href="/lia/part5/AExp/#12468" class="Bound">a</a> <a id="12490" href="/lia/part5/AExp/#12421" class="Function Operator">⟧</a>
<a id="12492" href="/lia/part5/AExp/#12421" class="Function Operator">⟦</a> <a id="12494" href="/lia/part5/AExp/#12494" class="Bound">a</a> <a id="12496" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="12498" href="/lia/part5/AExp/#12498" class="Bound">b</a> <a id="12500" href="/lia/part5/AExp/#12421" class="Function Operator">⟧</a> <a id="12502" class="Symbol">=</a> <a id="12504" href="/lia/part5/AExp/#12421" class="Function Operator">⟦</a> <a id="12506" href="/lia/part5/AExp/#12494" class="Bound">a</a> <a id="12508" href="/lia/part5/AExp/#12421" class="Function Operator">⟧</a> <a id="12510" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="12513" href="/lia/part5/AExp/#12421" class="Function Operator">⟦</a> <a id="12515" href="/lia/part5/AExp/#12498" class="Bound">b</a> <a id="12517" href="/lia/part5/AExp/#12421" class="Function Operator">⟧</a></pre>

<h2 id="small-steps-operational-semantics-1">
<a class="anchor" href="#small-steps-operational-semantics-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Small-steps operational semantics</h2>

<pre class="Agda"><a id="12566" class="Keyword">infix</a> <a id="12572" class="Number">4</a> <a id="12574" href="/lia/part5/AExp/#12583" class="Datatype Operator">_↝_</a>
<a id="12578" class="Keyword">data</a> <a id="_↝_"></a><a id="12583" href="/lia/part5/AExp/#12583" class="Datatype Operator">_↝_</a> <a id="12587" class="Symbol">:</a> <a id="12589" href="/lia/part5/AExp/#12226" class="Datatype">Bin</a> <a id="12593" class="Symbol">→</a> <a id="12595" href="/lia/part5/AExp/#12226" class="Datatype">Bin</a> <a id="12599" class="Symbol">→</a> <a id="12601" class="PrimitiveType">Set</a> <a id="12605" class="Keyword">where</a>

  <a id="_↝_.↝𝟬"></a><a id="12614" href="/lia/part5/AExp/#12614" class="InductiveConstructor">↝𝟬</a> <a id="12617" class="Symbol">:</a> <a id="12619" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="12621" href="/lia/part5/AExp/#12583" class="Datatype Operator">↝</a> <a id="12623" href="/lia/part5/AExp/#12363" class="Generalizable">a′</a> <a id="12626" class="Symbol">→</a>
       <a id="12635" class="Comment">----------</a>
       <a id="12653" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="12655" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">𝟬</a> <a id="12657" href="/lia/part5/AExp/#12583" class="Datatype Operator">↝</a> <a id="12659" href="/lia/part5/AExp/#12363" class="Generalizable">a′</a> <a id="12662" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">𝟬</a>

  <a id="_↝_.↝𝟭"></a><a id="12667" href="/lia/part5/AExp/#12667" class="InductiveConstructor">↝𝟭</a> <a id="12670" class="Symbol">:</a> <a id="12672" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="12674" href="/lia/part5/AExp/#12583" class="Datatype Operator">↝</a> <a id="12676" href="/lia/part5/AExp/#12363" class="Generalizable">a′</a> <a id="12679" class="Symbol">→</a>
       <a id="12688" class="Comment">----------</a>
       <a id="12706" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="12708" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a> <a id="12710" href="/lia/part5/AExp/#12583" class="Datatype Operator">↝</a> <a id="12712" href="/lia/part5/AExp/#12363" class="Generalizable">a′</a> <a id="12715" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a>

  <a id="_↝_.↝$L"></a><a id="12720" href="/lia/part5/AExp/#12720" class="InductiveConstructor">↝$L</a> <a id="12724" class="Symbol">:</a> <a id="12726" class="Comment">---------</a>
        <a id="12744" href="/lia/part5/AExp/#12244" class="InductiveConstructor">$</a> <a id="12746" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="12748" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="12750" href="/lia/part5/AExp/#12583" class="Datatype Operator">↝</a> <a id="12752" href="/lia/part5/AExp/#12361" class="Generalizable">a</a>

  <a id="_↝_.↝$R"></a><a id="12757" href="/lia/part5/AExp/#12757" class="InductiveConstructor">↝$R</a> <a id="12761" class="Symbol">:</a> <a id="12763" class="Comment">---------</a>
        <a id="12781" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="12783" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="12785" href="/lia/part5/AExp/#12244" class="InductiveConstructor">$</a> <a id="12787" href="/lia/part5/AExp/#12583" class="Datatype Operator">↝</a> <a id="12789" href="/lia/part5/AExp/#12361" class="Generalizable">a</a>

  <a id="_↝_.↝+L"></a><a id="12794" href="/lia/part5/AExp/#12794" class="InductiveConstructor">↝+L</a> <a id="12798" class="Symbol">:</a> <a id="12800" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="12802" href="/lia/part5/AExp/#12583" class="Datatype Operator">↝</a> <a id="12804" href="/lia/part5/AExp/#12363" class="Generalizable">a′</a> <a id="12807" class="Symbol">→</a>
        <a id="12817" class="Comment">--------------</a>
        <a id="12840" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="12842" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="12844" href="/lia/part5/AExp/#12366" class="Generalizable">b</a> <a id="12846" href="/lia/part5/AExp/#12583" class="Datatype Operator">↝</a> <a id="12848" href="/lia/part5/AExp/#12363" class="Generalizable">a′</a> <a id="12851" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="12853" href="/lia/part5/AExp/#12366" class="Generalizable">b</a>

  <a id="_↝_.↝+R"></a><a id="12858" href="/lia/part5/AExp/#12858" class="InductiveConstructor">↝+R</a> <a id="12862" class="Symbol">:</a> <a id="12864" href="/lia/part5/AExp/#12366" class="Generalizable">b</a> <a id="12866" href="/lia/part5/AExp/#12583" class="Datatype Operator">↝</a> <a id="12868" href="/lia/part5/AExp/#12368" class="Generalizable">b′</a> <a id="12871" class="Symbol">→</a>
        <a id="12881" class="Comment">--------------</a>
        <a id="12904" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="12906" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="12908" href="/lia/part5/AExp/#12366" class="Generalizable">b</a> <a id="12910" href="/lia/part5/AExp/#12583" class="Datatype Operator">↝</a> <a id="12912" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="12914" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="12916" href="/lia/part5/AExp/#12368" class="Generalizable">b′</a>
        
  <a id="_↝_.↝+𝟬𝟬"></a><a id="12930" href="/lia/part5/AExp/#12930" class="InductiveConstructor">↝+𝟬𝟬</a> <a id="12935" class="Symbol">:</a> <a id="12937" class="Comment">---------------------</a>
         <a id="12968" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="12970" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">𝟬</a> <a id="12972" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="12974" href="/lia/part5/AExp/#12366" class="Generalizable">b</a> <a id="12976" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">𝟬</a> <a id="12978" href="/lia/part5/AExp/#12583" class="Datatype Operator">↝</a> <a id="12980" class="Symbol">(</a><a id="12981" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="12983" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="12985" href="/lia/part5/AExp/#12366" class="Generalizable">b</a><a id="12986" class="Symbol">)</a> <a id="12988" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">𝟬</a>

  <a id="_↝_.↝+𝟬𝟭"></a><a id="12993" href="/lia/part5/AExp/#12993" class="InductiveConstructor">↝+𝟬𝟭</a> <a id="12998" class="Symbol">:</a> <a id="13000" class="Comment">---------------------</a>
         <a id="13031" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="13033" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">𝟬</a> <a id="13035" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="13037" href="/lia/part5/AExp/#12366" class="Generalizable">b</a> <a id="13039" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a> <a id="13041" href="/lia/part5/AExp/#12583" class="Datatype Operator">↝</a> <a id="13043" class="Symbol">(</a><a id="13044" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="13046" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="13048" href="/lia/part5/AExp/#12366" class="Generalizable">b</a><a id="13049" class="Symbol">)</a> <a id="13051" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a>

  <a id="_↝_.↝+𝟭𝟬"></a><a id="13056" href="/lia/part5/AExp/#13056" class="InductiveConstructor">↝+𝟭𝟬</a> <a id="13061" class="Symbol">:</a> <a id="13063" class="Comment">---------------------</a>
         <a id="13094" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="13096" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a> <a id="13098" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="13100" href="/lia/part5/AExp/#12366" class="Generalizable">b</a> <a id="13102" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">𝟬</a> <a id="13104" href="/lia/part5/AExp/#12583" class="Datatype Operator">↝</a> <a id="13106" class="Symbol">(</a><a id="13107" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="13109" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="13111" href="/lia/part5/AExp/#12366" class="Generalizable">b</a><a id="13112" class="Symbol">)</a> <a id="13114" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a>

  <a id="_↝_.↝+𝟭𝟭"></a><a id="13119" href="/lia/part5/AExp/#13119" class="InductiveConstructor">↝+𝟭𝟭</a> <a id="13124" class="Symbol">:</a> <a id="13126" class="Comment">----------------------------</a>
         <a id="13164" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="13166" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a> <a id="13168" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="13170" href="/lia/part5/AExp/#12366" class="Generalizable">b</a> <a id="13172" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a> <a id="13174" href="/lia/part5/AExp/#12583" class="Datatype Operator">↝</a> <a id="13176" class="Symbol">(</a><a id="13177" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="13179" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="13181" href="/lia/part5/AExp/#12366" class="Generalizable">b</a> <a id="13183" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="13185" href="/lia/part5/AExp/#12244" class="InductiveConstructor">$</a> <a id="13187" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a><a id="13188" class="Symbol">)</a> <a id="13190" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">𝟬</a></pre>

<h2 id="agreement">
<a class="anchor" href="#agreement" aria-hidden="true"><span class="octicon octicon-link"></span></a>Agreement</h2>

<pre class="Agda"><a id="agree"></a><a id="13216" href="/lia/part5/AExp/#13216" class="Function">agree</a> <a id="13222" class="Symbol">:</a> <a id="13224" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="13226" href="/lia/part5/AExp/#12583" class="Datatype Operator">↝</a> <a id="13228" href="/lia/part5/AExp/#12363" class="Generalizable">a′</a> <a id="13231" class="Symbol">→</a>
        <a id="13241" class="Comment">--------------</a>
        <a id="13264" href="/lia/part5/AExp/#12421" class="Function Operator">⟦</a> <a id="13266" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="13268" href="/lia/part5/AExp/#12421" class="Function Operator">⟧</a> <a id="13270" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="13272" href="/lia/part5/AExp/#12421" class="Function Operator">⟦</a> <a id="13274" href="/lia/part5/AExp/#12363" class="Generalizable">a′</a> <a id="13277" href="/lia/part5/AExp/#12421" class="Function Operator">⟧</a>

<a id="13280" href="/lia/part5/AExp/#13216" class="Function">agree</a> <a id="13286" class="Symbol">(</a><a id="13287" href="/lia/part5/AExp/#12614" class="InductiveConstructor">↝𝟬</a> <a id="13290" href="/lia/part5/AExp/#13290" class="Bound">e↝e'</a><a id="13294" class="Symbol">)</a> <a id="13296" class="Keyword">rewrite</a> <a id="13304" href="/lia/part5/AExp/#13216" class="Function">agree</a> <a id="13310" href="/lia/part5/AExp/#13290" class="Bound">e↝e'</a> <a id="13315" class="Symbol">=</a> <a id="13317" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="13322" href="/lia/part5/AExp/#13216" class="Function">agree</a> <a id="13328" class="Symbol">(</a><a id="13329" href="/lia/part5/AExp/#12667" class="InductiveConstructor">↝𝟭</a> <a id="13332" href="/lia/part5/AExp/#13332" class="Bound">e↝e'</a><a id="13336" class="Symbol">)</a> <a id="13338" class="Keyword">rewrite</a> <a id="13346" href="/lia/part5/AExp/#13216" class="Function">agree</a> <a id="13352" href="/lia/part5/AExp/#13332" class="Bound">e↝e'</a> <a id="13357" class="Symbol">=</a> <a id="13359" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="13364" href="/lia/part5/AExp/#13216" class="Function">agree</a> <a id="13370" href="/lia/part5/AExp/#12720" class="InductiveConstructor">↝$L</a> <a id="13374" class="Symbol">=</a> <a id="13376" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="13381" href="/lia/part5/AExp/#13216" class="Function">agree</a> <a id="13387" href="/lia/part5/AExp/#12757" class="InductiveConstructor">↝$R</a> <a id="13391" class="Symbol">=</a> <a id="13393" href="/lia/part0/Naturals/#5270" class="Function">n+0≡n</a> <a id="13399" class="Symbol">_</a>
<a id="13401" href="/lia/part5/AExp/#13216" class="Function">agree</a> <a id="13407" class="Symbol">(</a><a id="13408" href="/lia/part5/AExp/#12794" class="InductiveConstructor">↝+L</a> <a id="13412" href="/lia/part5/AExp/#13412" class="Bound">e↝e'</a><a id="13416" class="Symbol">)</a> <a id="13418" class="Keyword">rewrite</a> <a id="13426" href="/lia/part5/AExp/#13216" class="Function">agree</a> <a id="13432" href="/lia/part5/AExp/#13412" class="Bound">e↝e'</a> <a id="13437" class="Symbol">=</a> <a id="13439" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="13444" href="/lia/part5/AExp/#13216" class="Function">agree</a> <a id="13450" class="Symbol">(</a><a id="13451" href="/lia/part5/AExp/#12858" class="InductiveConstructor">↝+R</a> <a id="13455" href="/lia/part5/AExp/#13455" class="Bound">e↝e'</a><a id="13459" class="Symbol">)</a> <a id="13461" class="Keyword">rewrite</a> <a id="13469" href="/lia/part5/AExp/#13216" class="Function">agree</a> <a id="13475" href="/lia/part5/AExp/#13455" class="Bound">e↝e'</a> <a id="13480" class="Symbol">=</a> <a id="13482" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="13487" href="/lia/part5/AExp/#13216" class="Function">agree</a> <a id="13493" class="Symbol">(</a><a id="13494" href="/lia/part5/AExp/#12930" class="InductiveConstructor">↝+𝟬𝟬</a> <a id="13499" class="Symbol">{</a><a id="13500" href="/lia/part5/AExp/#13500" class="Bound">a</a><a id="13501" class="Symbol">}</a> <a id="13503" class="Symbol">{</a><a id="13504" href="/lia/part5/AExp/#13504" class="Bound">b</a><a id="13505" class="Symbol">})</a> <a id="13508" class="Symbol">=</a> <a id="13510" href="/lia/part5/AExp/#13537" class="Function">magic</a> <a id="13516" href="/lia/part5/AExp/#12421" class="Function Operator">⟦</a> <a id="13518" href="/lia/part5/AExp/#13500" class="Bound">a</a> <a id="13520" href="/lia/part5/AExp/#12421" class="Function Operator">⟧</a> <a id="13522" href="/lia/part5/AExp/#12421" class="Function Operator">⟦</a> <a id="13524" href="/lia/part5/AExp/#13504" class="Bound">b</a> <a id="13526" href="/lia/part5/AExp/#12421" class="Function Operator">⟧</a> <a id="13528" class="Keyword">where</a>

  <a id="13537" href="/lia/part5/AExp/#13537" class="Function">magic</a> <a id="13543" class="Symbol">:</a> <a id="13545" class="Symbol">∀</a> <a id="13547" href="/lia/part5/AExp/#13547" class="Bound">a</a> <a id="13549" href="/lia/part5/AExp/#13549" class="Bound">b</a> <a id="13551" class="Symbol">→</a> <a id="13553" href="/lia/part5/AExp/#13547" class="Bound">a</a> <a id="13555" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13558" class="Symbol">(</a><a id="13559" href="/lia/part5/AExp/#13547" class="Bound">a</a> <a id="13561" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13564" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="13568" class="Symbol">)</a> <a id="13570" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13573" class="Symbol">(</a><a id="13574" href="/lia/part5/AExp/#13549" class="Bound">b</a> <a id="13576" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13579" class="Symbol">(</a><a id="13580" href="/lia/part5/AExp/#13549" class="Bound">b</a> <a id="13582" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13585" class="Number">0</a><a id="13586" class="Symbol">))</a> <a id="13589" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="13591" href="/lia/part5/AExp/#13547" class="Bound">a</a> <a id="13593" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13596" href="/lia/part5/AExp/#13549" class="Bound">b</a> <a id="13598" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13601" class="Symbol">(</a><a id="13602" href="/lia/part5/AExp/#13547" class="Bound">a</a> <a id="13604" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13607" href="/lia/part5/AExp/#13549" class="Bound">b</a> <a id="13609" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13612" class="Number">0</a><a id="13613" class="Symbol">)</a>
  <a id="13617" href="/lia/part5/AExp/#13537" class="Function">magic</a> <a id="13623" class="Symbol">=</a> <a id="13625" href="Data.Nat.Tactic.RingSolver.html#1044" class="Macro">solve-∀</a>

<a id="13634" href="/lia/part5/AExp/#13216" class="Function">agree</a> <a id="13640" class="Symbol">(</a><a id="13641" href="/lia/part5/AExp/#12993" class="InductiveConstructor">↝+𝟬𝟭</a> <a id="13646" class="Symbol">{</a><a id="13647" href="/lia/part5/AExp/#13647" class="Bound">a</a><a id="13648" class="Symbol">}</a> <a id="13650" class="Symbol">{</a><a id="13651" href="/lia/part5/AExp/#13651" class="Bound">b</a><a id="13652" class="Symbol">})</a> <a id="13655" class="Symbol">=</a> <a id="13657" href="/lia/part5/AExp/#13690" class="Function">magic</a> <a id="13663" href="/lia/part5/AExp/#12421" class="Function Operator">⟦</a> <a id="13665" href="/lia/part5/AExp/#13647" class="Bound">a</a> <a id="13667" href="/lia/part5/AExp/#12421" class="Function Operator">⟧</a> <a id="13669" href="/lia/part5/AExp/#12421" class="Function Operator">⟦</a> <a id="13671" href="/lia/part5/AExp/#13651" class="Bound">b</a> <a id="13673" href="/lia/part5/AExp/#12421" class="Function Operator">⟧</a> <a id="13675" class="Keyword">where</a>
    
    <a id="13690" href="/lia/part5/AExp/#13690" class="Function">magic</a> <a id="13696" class="Symbol">:</a> <a id="13698" class="Symbol">∀</a> <a id="13700" href="/lia/part5/AExp/#13700" class="Bound">a</a> <a id="13702" href="/lia/part5/AExp/#13702" class="Bound">b</a> <a id="13704" class="Symbol">→</a> <a id="13706" href="/lia/part5/AExp/#13700" class="Bound">a</a> <a id="13708" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13711" class="Symbol">(</a><a id="13712" href="/lia/part5/AExp/#13700" class="Bound">a</a> <a id="13714" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13717" class="Number">0</a><a id="13718" class="Symbol">)</a> <a id="13720" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13723" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="13727" class="Symbol">(</a><a id="13728" href="/lia/part5/AExp/#13702" class="Bound">b</a> <a id="13730" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13733" class="Symbol">(</a><a id="13734" href="/lia/part5/AExp/#13702" class="Bound">b</a> <a id="13736" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13739" class="Number">0</a><a id="13740" class="Symbol">))</a> <a id="13743" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="13745" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="13749" class="Symbol">(</a><a id="13750" href="/lia/part5/AExp/#13700" class="Bound">a</a> <a id="13752" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13755" href="/lia/part5/AExp/#13702" class="Bound">b</a> <a id="13757" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13760" class="Symbol">(</a><a id="13761" href="/lia/part5/AExp/#13700" class="Bound">a</a> <a id="13763" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13766" href="/lia/part5/AExp/#13702" class="Bound">b</a> <a id="13768" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13771" class="Number">0</a><a id="13772" class="Symbol">))</a>
    <a id="13779" href="/lia/part5/AExp/#13690" class="Function">magic</a> <a id="13785" class="Symbol">=</a> <a id="13787" href="Data.Nat.Tactic.RingSolver.html#1044" class="Macro">solve-∀</a>

<a id="13796" href="/lia/part5/AExp/#13216" class="Function">agree</a> <a id="13802" class="Symbol">(</a><a id="13803" href="/lia/part5/AExp/#13056" class="InductiveConstructor">↝+𝟭𝟬</a> <a id="13808" class="Symbol">{</a><a id="13809" href="/lia/part5/AExp/#13809" class="Bound">a</a><a id="13810" class="Symbol">}</a> <a id="13812" class="Symbol">{</a><a id="13813" href="/lia/part5/AExp/#13813" class="Bound">b</a><a id="13814" class="Symbol">})</a> <a id="13817" class="Symbol">=</a> <a id="13819" href="/lia/part5/AExp/#13852" class="Function">magic</a> <a id="13825" href="/lia/part5/AExp/#12421" class="Function Operator">⟦</a> <a id="13827" href="/lia/part5/AExp/#13809" class="Bound">a</a> <a id="13829" href="/lia/part5/AExp/#12421" class="Function Operator">⟧</a> <a id="13831" href="/lia/part5/AExp/#12421" class="Function Operator">⟦</a> <a id="13833" href="/lia/part5/AExp/#13813" class="Bound">b</a> <a id="13835" href="/lia/part5/AExp/#12421" class="Function Operator">⟧</a> <a id="13837" class="Keyword">where</a>
    
    <a id="13852" href="/lia/part5/AExp/#13852" class="Function">magic</a> <a id="13858" class="Symbol">:</a> <a id="13860" class="Symbol">∀</a> <a id="13862" href="/lia/part5/AExp/#13862" class="Bound">a</a> <a id="13864" href="/lia/part5/AExp/#13864" class="Bound">b</a> <a id="13866" class="Symbol">→</a> <a id="13868" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="13872" class="Symbol">(</a><a id="13873" href="/lia/part5/AExp/#13862" class="Bound">a</a> <a id="13875" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13878" class="Symbol">(</a><a id="13879" href="/lia/part5/AExp/#13862" class="Bound">a</a> <a id="13881" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13884" class="Number">0</a><a id="13885" class="Symbol">)</a> <a id="13887" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13890" class="Symbol">(</a><a id="13891" href="/lia/part5/AExp/#13864" class="Bound">b</a> <a id="13893" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13896" class="Symbol">(</a><a id="13897" href="/lia/part5/AExp/#13864" class="Bound">b</a> <a id="13899" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13902" class="Number">0</a><a id="13903" class="Symbol">)))</a> <a id="13907" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="13909" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="13913" class="Symbol">(</a><a id="13914" href="/lia/part5/AExp/#13862" class="Bound">a</a> <a id="13916" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13919" href="/lia/part5/AExp/#13864" class="Bound">b</a> <a id="13921" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13924" class="Symbol">(</a><a id="13925" href="/lia/part5/AExp/#13862" class="Bound">a</a> <a id="13927" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13930" href="/lia/part5/AExp/#13864" class="Bound">b</a> <a id="13932" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="13935" class="Number">0</a><a id="13936" class="Symbol">))</a>
    <a id="13943" href="/lia/part5/AExp/#13852" class="Function">magic</a> <a id="13949" class="Symbol">=</a> <a id="13951" href="Data.Nat.Tactic.RingSolver.html#1044" class="Macro">solve-∀</a>
    
<a id="13964" href="/lia/part5/AExp/#13216" class="Function">agree</a> <a id="13970" class="Symbol">(</a><a id="13971" href="/lia/part5/AExp/#13119" class="InductiveConstructor">↝+𝟭𝟭</a> <a id="13976" class="Symbol">{</a><a id="13977" href="/lia/part5/AExp/#13977" class="Bound">a</a><a id="13978" class="Symbol">}</a> <a id="13980" class="Symbol">{</a><a id="13981" href="/lia/part5/AExp/#13981" class="Bound">b</a><a id="13982" class="Symbol">})</a> <a id="13985" class="Symbol">=</a> <a id="13987" href="/lia/part5/AExp/#14014" class="Function">magic</a> <a id="13993" href="/lia/part5/AExp/#12421" class="Function Operator">⟦</a> <a id="13995" href="/lia/part5/AExp/#13977" class="Bound">a</a> <a id="13997" href="/lia/part5/AExp/#12421" class="Function Operator">⟧</a> <a id="13999" href="/lia/part5/AExp/#12421" class="Function Operator">⟦</a> <a id="14001" href="/lia/part5/AExp/#13981" class="Bound">b</a> <a id="14003" href="/lia/part5/AExp/#12421" class="Function Operator">⟧</a> <a id="14005" class="Keyword">where</a>

  <a id="14014" href="/lia/part5/AExp/#14014" class="Function">magic</a> <a id="14020" class="Symbol">:</a> <a id="14022" class="Symbol">∀</a> <a id="14024" href="/lia/part5/AExp/#14024" class="Bound">a</a> <a id="14026" href="/lia/part5/AExp/#14026" class="Bound">b</a> <a id="14028" class="Symbol">→</a> <a id="14030" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="14034" class="Symbol">(</a><a id="14035" href="/lia/part5/AExp/#14024" class="Bound">a</a> <a id="14037" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="14040" class="Symbol">(</a><a id="14041" href="/lia/part5/AExp/#14024" class="Bound">a</a> <a id="14043" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="14046" class="Number">0</a><a id="14047" class="Symbol">)</a> <a id="14049" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="14052" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="14056" class="Symbol">(</a><a id="14057" href="/lia/part5/AExp/#14026" class="Bound">b</a> <a id="14059" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="14062" class="Symbol">(</a><a id="14063" href="/lia/part5/AExp/#14026" class="Bound">b</a> <a id="14065" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="14068" class="Number">0</a><a id="14069" class="Symbol">)))</a> <a id="14073" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="14075" href="/lia/part5/AExp/#14024" class="Bound">a</a> <a id="14077" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="14080" href="/lia/part5/AExp/#14026" class="Bound">b</a> <a id="14082" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="14085" class="Number">1</a> <a id="14087" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="14090" class="Symbol">(</a><a id="14091" href="/lia/part5/AExp/#14024" class="Bound">a</a> <a id="14093" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="14096" href="/lia/part5/AExp/#14026" class="Bound">b</a> <a id="14098" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="14101" class="Number">1</a> <a id="14103" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="14106" class="Number">0</a><a id="14107" class="Symbol">)</a>
  <a id="14111" href="/lia/part5/AExp/#14014" class="Function">magic</a> <a id="14117" class="Symbol">=</a> <a id="14119" href="Data.Nat.Tactic.RingSolver.html#1044" class="Macro">solve-∀</a></pre>

<h2 id="strong-normalisation-first-proof">
<a class="anchor" href="#strong-normalisation-first-proof" aria-hidden="true"><span class="octicon octicon-link"></span></a>Strong normalisation (first proof)</h2>

<pre class="Agda"><a id="binSize"></a><a id="14175" href="/lia/part5/AExp/#14175" class="Function">binSize</a> <a id="14183" class="Symbol">:</a> <a id="14185" href="/lia/part5/AExp/#12226" class="Datatype">Bin</a> <a id="14189" class="Symbol">→</a> <a id="14191" href="/lia/part0/Naturals/#301" class="Function">ℕ</a>
<a id="14193" href="/lia/part5/AExp/#14175" class="Function">binSize</a> <a id="14201" href="/lia/part5/AExp/#12244" class="InductiveConstructor">$</a> <a id="14203" class="Symbol">=</a> <a id="14205" class="Number">0</a>
<a id="14207" href="/lia/part5/AExp/#14175" class="Function">binSize</a> <a id="14215" class="Symbol">(</a><a id="14216" href="/lia/part5/AExp/#14216" class="Bound">a</a> <a id="14218" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">𝟬</a><a id="14219" class="Symbol">)</a> <a id="14221" class="Symbol">=</a> <a id="14223" class="Number">1</a> <a id="14225" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="14228" href="/lia/part5/AExp/#14175" class="Function">binSize</a> <a id="14236" href="/lia/part5/AExp/#14216" class="Bound">a</a>
<a id="14238" href="/lia/part5/AExp/#14175" class="Function">binSize</a> <a id="14246" class="Symbol">(</a><a id="14247" href="/lia/part5/AExp/#14247" class="Bound">a</a> <a id="14249" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a><a id="14250" class="Symbol">)</a> <a id="14252" class="Symbol">=</a> <a id="14254" class="Number">1</a> <a id="14256" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="14259" href="/lia/part5/AExp/#14175" class="Function">binSize</a> <a id="14267" href="/lia/part5/AExp/#14247" class="Bound">a</a>
<a id="14269" href="/lia/part5/AExp/#14175" class="Function">binSize</a> <a id="14277" class="Symbol">(</a><a id="14278" href="/lia/part5/AExp/#14278" class="Bound">a</a> <a id="14280" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="14282" href="/lia/part5/AExp/#14282" class="Bound">b</a><a id="14283" class="Symbol">)</a> <a id="14285" class="Symbol">=</a> <a id="14287" class="Number">1</a> <a id="14289" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="14292" href="/lia/part5/AExp/#14175" class="Function">binSize</a> <a id="14300" href="/lia/part5/AExp/#14278" class="Bound">a</a> <a id="14302" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="14305" href="/lia/part5/AExp/#14175" class="Function">binSize</a> <a id="14313" href="/lia/part5/AExp/#14282" class="Bound">b</a>

<a id="14316" class="Comment">-- transitive closure</a>
<a id="14338" class="Comment">-- infix 4 _↝*_</a>
<a id="14354" class="Comment">-- data _↝*_ : Bin → Bin → Set where</a>
<a id="14391" class="Comment">--     stop : ∀ {a} → a ↝* a</a>
<a id="14420" class="Comment">--     one : ∀ {a b g} → a ↝ b → b ↝* g → a ↝* g</a>

<a id="14470" class="Comment">-- strong normalisation</a>
<a id="14494" class="Comment">-- we define a measure that is strictly decreasing on each computation step</a>

<a id="μ"></a><a id="14571" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="14573" class="Symbol">:</a> <a id="14575" href="/lia/part5/AExp/#12226" class="Datatype">Bin</a> <a id="14579" class="Symbol">→</a> <a id="14581" href="/lia/part0/Naturals/#301" class="Function">ℕ</a>
<a id="14583" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="14585" href="/lia/part5/AExp/#12244" class="InductiveConstructor">$</a> <a id="14587" class="Symbol">=</a> <a id="14589" class="Number">0</a>
<a id="14591" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="14593" class="Symbol">(</a><a id="14594" href="/lia/part5/AExp/#14594" class="Bound">a</a> <a id="14596" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">𝟬</a><a id="14597" class="Symbol">)</a> <a id="14599" class="Symbol">=</a> <a id="14601" class="Number">2</a> <a id="14603" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="14606" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="14608" href="/lia/part5/AExp/#14594" class="Bound">a</a>
<a id="14610" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="14612" class="Symbol">(</a><a id="14613" href="/lia/part5/AExp/#14613" class="Bound">a</a> <a id="14615" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a><a id="14616" class="Symbol">)</a> <a id="14618" class="Symbol">=</a> <a id="14620" class="Number">4</a> <a id="14622" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="14625" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="14627" href="/lia/part5/AExp/#14613" class="Bound">a</a>
<a id="14629" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="14631" class="Symbol">(</a><a id="14632" href="/lia/part5/AExp/#14632" class="Bound">a</a> <a id="14634" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="14636" href="/lia/part5/AExp/#14636" class="Bound">b</a><a id="14637" class="Symbol">)</a> <a id="14639" class="Symbol">=</a> <a id="14641" class="Number">1</a> <a id="14643" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="14646" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="14648" href="/lia/part5/AExp/#14632" class="Bound">a</a> <a id="14650" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="14653" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="14655" href="/lia/part5/AExp/#14636" class="Bound">b</a>

<a id="μ-wf"></a><a id="14658" href="/lia/part5/AExp/#14658" class="Function">μ-wf</a> <a id="14663" class="Symbol">:</a> <a id="14665" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="14667" href="/lia/part5/AExp/#12583" class="Datatype Operator">↝</a> <a id="14669" href="/lia/part5/AExp/#12366" class="Generalizable">b</a> <a id="14671" class="Symbol">→</a>
       <a id="14680" class="Comment">---------</a>
       <a id="14697" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="14699" href="/lia/part5/AExp/#12366" class="Generalizable">b</a> <a id="14701" href="/lia/part0/Naturals/#1314" class="Function Operator">&lt;</a> <a id="14703" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="14705" href="/lia/part5/AExp/#12361" class="Generalizable">a</a>

<a id="14708" href="/lia/part5/AExp/#14658" class="Function">μ-wf</a> <a id="14713" class="Symbol">(</a><a id="14714" href="/lia/part5/AExp/#12614" class="InductiveConstructor">↝𝟬</a> <a id="14717" href="/lia/part5/AExp/#14717" class="Bound">e↝f</a><a id="14720" class="Symbol">)</a> <a id="14722" class="Keyword">with</a> <a id="14727" href="/lia/part5/AExp/#14658" class="Function">μ-wf</a> <a id="14732" href="/lia/part5/AExp/#14717" class="Bound">e↝f</a>
<a id="14736" class="Symbol">...</a> <a id="14740" class="Symbol">|</a> <a id="14742" href="/lia/part5/AExp/#14742" class="Bound">μf&lt;μe</a> <a id="14748" class="Symbol">=</a> <a id="14750" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="14754" class="Symbol">(</a><a id="14755" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="14759" href="/lia/part5/AExp/#14742" class="Bound">μf&lt;μe</a><a id="14764" class="Symbol">)</a>

<a id="14767" href="/lia/part5/AExp/#14658" class="Function">μ-wf</a> <a id="14772" class="Symbol">(</a><a id="14773" href="/lia/part5/AExp/#12667" class="InductiveConstructor">↝𝟭</a> <a id="14776" href="/lia/part5/AExp/#14776" class="Bound">e↝f</a><a id="14779" class="Symbol">)</a> <a id="14781" class="Keyword">with</a> <a id="14786" href="/lia/part5/AExp/#14658" class="Function">μ-wf</a> <a id="14791" href="/lia/part5/AExp/#14776" class="Bound">e↝f</a>
<a id="14795" class="Symbol">...</a> <a id="14799" class="Symbol">|</a> <a id="14801" href="/lia/part5/AExp/#14801" class="Bound">μf&lt;μe</a> <a id="14807" class="Symbol">=</a> <a id="14809" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="14813" class="Symbol">(</a><a id="14814" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="14818" class="Symbol">(</a><a id="14819" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="14823" class="Symbol">(</a><a id="14824" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="14828" href="/lia/part5/AExp/#14801" class="Bound">μf&lt;μe</a><a id="14833" class="Symbol">)))</a>

<a id="14838" href="/lia/part5/AExp/#14658" class="Function">μ-wf</a> <a id="14843" href="/lia/part5/AExp/#12720" class="InductiveConstructor">↝$L</a> <a id="14847" class="Symbol">=</a> <a id="14849" href="/lia/part0/Naturals/#1008" class="Function">refl-≤</a>

<a id="14857" href="/lia/part5/AExp/#14658" class="Function">μ-wf</a> <a id="14862" class="DottedPattern Symbol">.{</a><a id="14864" href="/lia/part5/AExp/#14872" class="DottedPattern Bound">a</a> <a id="14866" href="/lia/part5/AExp/#1189" class="DottedPattern InductiveConstructor Operator">+</a> <a id="14868" href="/lia/part5/AExp/#12244" class="DottedPattern InductiveConstructor">$</a><a id="14869" class="DottedPattern Symbol">}</a> <a id="14871" class="Symbol">{</a><a id="14872" href="/lia/part5/AExp/#14872" class="Bound">a</a><a id="14873" class="Symbol">}</a> <a id="14875" href="/lia/part5/AExp/#12757" class="InductiveConstructor">↝$R</a> <a id="14879" class="Keyword">rewrite</a> <a id="14887" href="/lia/part0/Naturals/#5270" class="Function">n+0≡n</a> <a id="14893" class="Symbol">(</a><a id="14894" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="14896" href="/lia/part5/AExp/#14872" class="Bound">a</a><a id="14897" class="Symbol">)</a> <a id="14899" class="Symbol">=</a> <a id="14901" href="/lia/part0/Naturals/#1008" class="Function">refl-≤</a>

<a id="14909" href="/lia/part5/AExp/#14658" class="Function">μ-wf</a> <a id="14914" class="Symbol">(</a><a id="14915" href="/lia/part5/AExp/#12794" class="InductiveConstructor">↝+L</a> <a id="14919" href="/lia/part5/AExp/#14919" class="Bound">e↝e'</a><a id="14923" class="Symbol">)</a> <a id="14925" class="Keyword">with</a> <a id="14930" href="/lia/part5/AExp/#14658" class="Function">μ-wf</a> <a id="14935" href="/lia/part5/AExp/#14919" class="Bound">e↝e'</a>
<a id="14940" class="Symbol">...</a> <a id="14944" class="Symbol">|</a> <a id="14946" href="/lia/part5/AExp/#14946" class="Bound">μe'&lt;μe</a> <a id="14953" class="Symbol">=</a> <a id="14955" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="14959" class="Symbol">(</a><a id="14960" href="/lia/part0/Naturals/#7215" class="Function">&lt;-+-left</a> <a id="14969" href="/lia/part5/AExp/#14946" class="Bound">μe'&lt;μe</a><a id="14975" class="Symbol">)</a>

<a id="14978" href="/lia/part5/AExp/#14658" class="Function">μ-wf</a> <a id="14983" class="Symbol">(</a><a id="14984" href="/lia/part5/AExp/#12858" class="InductiveConstructor">↝+R</a> <a id="14988" href="/lia/part5/AExp/#14988" class="Bound">f↝f'</a><a id="14992" class="Symbol">)</a> <a id="14994" class="Keyword">with</a> <a id="14999" href="/lia/part5/AExp/#14658" class="Function">μ-wf</a> <a id="15004" href="/lia/part5/AExp/#14988" class="Bound">f↝f'</a>
<a id="15009" class="Symbol">...</a> <a id="15013" class="Symbol">|</a> <a id="15015" href="/lia/part5/AExp/#15015" class="Bound">μf'&lt;μf</a> <a id="15022" class="Symbol">=</a> <a id="15024" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="15028" class="Symbol">(</a><a id="15029" href="/lia/part0/Naturals/#7268" class="Function">&lt;-+-right</a> <a id="15039" href="/lia/part5/AExp/#15015" class="Bound">μf'&lt;μf</a><a id="15045" class="Symbol">)</a>

<a id="15048" href="/lia/part5/AExp/#14658" class="Function">μ-wf</a> <a id="15053" class="Symbol">{</a><a id="15054" href="/lia/part5/AExp/#15054" class="Bound">a</a><a id="15055" class="Symbol">}</a> <a id="15057" class="Symbol">{</a><a id="15058" href="/lia/part5/AExp/#15058" class="Bound">b</a><a id="15059" class="Symbol">}</a> <a id="15061" href="/lia/part5/AExp/#12930" class="InductiveConstructor">↝+𝟬𝟬</a> <a id="15066" class="Symbol">=</a> <a id="15068" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="15072" class="Symbol">(</a><a id="15073" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="15077" class="Symbol">(</a><a id="15078" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="15082" class="Symbol">(</a><a id="15083" href="/lia/part0/Naturals/#7268" class="Function">&lt;-+-right</a> <a id="15093" href="/lia/part0/Naturals/#3370" class="Function">n&lt;suc2n</a><a id="15100" class="Symbol">)))</a>

<a id="15105" href="/lia/part5/AExp/#14658" class="Function">μ-wf</a> <a id="15110" href="/lia/part5/AExp/#15110" class="Bound">a</a><a id="15111" class="Symbol">@{</a><a id="15113" href="/lia/part5/AExp/#12288" class="InductiveConstructor">Add</a> <a id="15117" class="Symbol">(</a><a id="15118" href="/lia/part5/AExp/#15118" class="Bound">a₁</a> <a id="15121" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">𝟬</a><a id="15122" class="Symbol">)</a> <a id="15124" class="Symbol">(</a><a id="15125" href="/lia/part5/AExp/#15125" class="Bound">b₁</a> <a id="15128" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a><a id="15129" class="Symbol">)}</a> <a id="15132" class="Symbol">{</a><a id="15133" href="/lia/part5/AExp/#15133" class="Bound">b</a><a id="15134" class="Symbol">}</a> <a id="15136" href="/lia/part5/AExp/#12993" class="InductiveConstructor">↝+𝟬𝟭</a>
  <a id="15143" class="Keyword">rewrite</a>
    <a id="15155" href="/lia/part0/Naturals/#5270" class="Function">n+0≡n</a> <a id="15161" class="Symbol">(</a><a id="15162" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15164" href="/lia/part5/AExp/#15110" class="Bound">a</a><a id="15165" class="Symbol">)</a> <a id="15167" class="Symbol">|</a>
    <a id="15173" href="/lia/part0/Naturals/#5270" class="Function">n+0≡n</a> <a id="15179" class="Symbol">(</a><a id="15180" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15182" href="/lia/part5/AExp/#15133" class="Bound">b</a><a id="15183" class="Symbol">)</a> <a id="15185" class="Symbol">|</a>
    <a id="15191" href="/lia/part0/Naturals/#5437" class="Function">suc-lemma</a> <a id="15201" class="Symbol">{</a><a id="15202" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15204" href="/lia/part5/AExp/#15118" class="Bound">a₁</a><a id="15206" class="Symbol">}</a> <a id="15208" class="Symbol">{</a><a id="15209" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15213" class="Symbol">(</a><a id="15214" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15218" class="Symbol">(</a><a id="15219" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15223" class="Symbol">(</a><a id="15224" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15226" href="/lia/part5/AExp/#15125" class="Bound">b₁</a><a id="15228" class="Symbol">)))}</a> <a id="15233" class="Symbol">|</a>
    <a id="15239" href="/lia/part0/Naturals/#5437" class="Function">suc-lemma</a> <a id="15249" class="Symbol">{</a><a id="15250" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15252" href="/lia/part5/AExp/#15118" class="Bound">a₁</a><a id="15254" class="Symbol">}</a> <a id="15256" class="Symbol">{</a><a id="15257" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15261" class="Symbol">(</a><a id="15262" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15266" class="Symbol">(</a><a id="15267" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15269" href="/lia/part5/AExp/#15125" class="Bound">b₁</a><a id="15271" class="Symbol">))}</a> <a id="15275" class="Symbol">|</a>
    <a id="15281" href="/lia/part0/Naturals/#5437" class="Function">suc-lemma</a> <a id="15291" class="Symbol">{</a><a id="15292" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15294" href="/lia/part5/AExp/#15118" class="Bound">a₁</a><a id="15296" class="Symbol">}</a> <a id="15298" class="Symbol">{</a><a id="15299" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15303" class="Symbol">(</a><a id="15304" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15306" href="/lia/part5/AExp/#15125" class="Bound">b₁</a><a id="15308" class="Symbol">)}</a> <a id="15311" class="Symbol">|</a>
    <a id="15317" href="/lia/part0/Naturals/#5437" class="Function">suc-lemma</a> <a id="15327" class="Symbol">{</a><a id="15328" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15330" href="/lia/part5/AExp/#15118" class="Bound">a₁</a><a id="15332" class="Symbol">}</a> <a id="15334" class="Symbol">{</a><a id="15335" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15337" href="/lia/part5/AExp/#15125" class="Bound">b₁</a><a id="15339" class="Symbol">}</a>
  <a id="15343" class="Symbol">=</a> <a id="15345" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="15349" class="Symbol">(</a><a id="15350" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="15354" class="Symbol">(</a><a id="15355" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="15359" class="Symbol">(</a><a id="15360" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="15364" class="Symbol">(</a><a id="15365" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="15369" class="Symbol">(</a><a id="15370" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="15374" href="/lia/part0/Naturals/#1570" class="Function">n≤sucn</a><a id="15380" class="Symbol">)))))</a>

<a id="15387" href="/lia/part5/AExp/#14658" class="Function">μ-wf</a> <a id="15392" href="/lia/part5/AExp/#15392" class="Bound">a</a><a id="15393" class="Symbol">@{</a><a id="15395" href="/lia/part5/AExp/#12288" class="InductiveConstructor">Add</a> <a id="15399" class="Symbol">(</a><a id="15400" href="/lia/part5/AExp/#15400" class="Bound">a₁</a> <a id="15403" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a><a id="15404" class="Symbol">)</a> <a id="15406" class="Symbol">(</a><a id="15407" href="/lia/part5/AExp/#15407" class="Bound">b₁</a> <a id="15410" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">𝟬</a><a id="15411" class="Symbol">)}</a> <a id="15414" class="Symbol">{</a><a id="15415" href="/lia/part5/AExp/#15415" class="Bound">b</a><a id="15416" class="Symbol">}</a> <a id="15418" href="/lia/part5/AExp/#13056" class="InductiveConstructor">↝+𝟭𝟬</a>
  <a id="15425" class="Keyword">rewrite</a>
    <a id="15437" href="/lia/part0/Naturals/#5270" class="Function">n+0≡n</a> <a id="15443" class="Symbol">(</a><a id="15444" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15446" href="/lia/part5/AExp/#15392" class="Bound">a</a><a id="15447" class="Symbol">)</a> <a id="15449" class="Symbol">|</a>
    <a id="15455" href="/lia/part0/Naturals/#5270" class="Function">n+0≡n</a> <a id="15461" class="Symbol">(</a><a id="15462" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15464" href="/lia/part5/AExp/#15415" class="Bound">b</a><a id="15465" class="Symbol">)</a> <a id="15467" class="Symbol">|</a>
    <a id="15473" href="/lia/part0/Naturals/#5437" class="Function">suc-lemma</a> <a id="15483" class="Symbol">{</a><a id="15484" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15486" href="/lia/part5/AExp/#15400" class="Bound">a₁</a><a id="15488" class="Symbol">}</a> <a id="15490" class="Symbol">{</a><a id="15491" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15495" class="Symbol">(</a><a id="15496" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15498" href="/lia/part5/AExp/#15407" class="Bound">b₁</a><a id="15500" class="Symbol">)}</a> <a id="15503" class="Symbol">|</a>
    <a id="15509" href="/lia/part0/Naturals/#5437" class="Function">suc-lemma</a> <a id="15519" class="Symbol">{</a><a id="15520" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15522" href="/lia/part5/AExp/#15400" class="Bound">a₁</a><a id="15524" class="Symbol">}</a> <a id="15526" class="Symbol">{</a><a id="15527" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15529" href="/lia/part5/AExp/#15407" class="Bound">b₁</a><a id="15531" class="Symbol">}</a>
  <a id="15535" class="Symbol">=</a> <a id="15537" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="15541" class="Symbol">(</a><a id="15542" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="15546" class="Symbol">(</a><a id="15547" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="15551" class="Symbol">(</a><a id="15552" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="15556" class="Symbol">(</a><a id="15557" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="15561" class="Symbol">(</a><a id="15562" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="15566" href="/lia/part0/Naturals/#1570" class="Function">n≤sucn</a><a id="15572" class="Symbol">)))))</a>

<a id="15579" href="/lia/part5/AExp/#14658" class="Function">μ-wf</a> <a id="15584" href="/lia/part5/AExp/#15584" class="Bound">a</a><a id="15585" class="Symbol">@{</a><a id="15587" href="/lia/part5/AExp/#12288" class="InductiveConstructor">Add</a> <a id="15591" class="Symbol">(</a><a id="15592" href="/lia/part5/AExp/#15592" class="Bound">a₁</a> <a id="15595" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a><a id="15596" class="Symbol">)</a> <a id="15598" class="Symbol">(</a><a id="15599" href="/lia/part5/AExp/#15599" class="Bound">b₁</a> <a id="15602" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a><a id="15603" class="Symbol">)}</a> <a id="15606" class="Symbol">{</a><a id="15607" href="/lia/part5/AExp/#15607" class="Bound">b</a><a id="15608" class="Symbol">}</a> <a id="15610" href="/lia/part5/AExp/#13119" class="InductiveConstructor">↝+𝟭𝟭</a> <a id="15615" class="Symbol">=</a> <a id="15617" href="/lia/part5/AExp/#15783" class="Function">goal</a> <a id="15622" class="Keyword">where</a>

  <a id="15631" href="/lia/part5/AExp/#15631" class="Function">magic</a> <a id="15637" class="Symbol">:</a> <a id="15639" class="Symbol">∀</a> <a id="15641" href="/lia/part5/AExp/#15641" class="Bound">a</a> <a id="15643" href="/lia/part5/AExp/#15643" class="Bound">b</a> <a id="15645" class="Symbol">→</a>
      <a id="15653" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15657" class="Symbol">(</a><a id="15658" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15662" class="Symbol">(</a><a id="15663" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15667" class="Symbol">(</a><a id="15668" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15672" class="Symbol">(</a><a id="15673" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15677" class="Symbol">(</a><a id="15678" href="/lia/part5/AExp/#15641" class="Bound">a</a> <a id="15680" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="15683" href="/lia/part5/AExp/#15643" class="Bound">b</a> <a id="15685" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="15688" class="Number">4</a><a id="15689" class="Symbol">)))))</a> <a id="15695" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a>
      <a id="15703" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15707" class="Symbol">(</a><a id="15708" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15712" class="Symbol">(</a><a id="15713" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15717" class="Symbol">(</a><a id="15718" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15722" class="Symbol">(</a><a id="15723" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15727" class="Symbol">(</a><a id="15728" href="/lia/part5/AExp/#15641" class="Bound">a</a> <a id="15730" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="15733" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15737" class="Symbol">(</a><a id="15738" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15742" class="Symbol">(</a><a id="15743" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15747" class="Symbol">(</a><a id="15748" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15752" href="/lia/part5/AExp/#15643" class="Bound">b</a><a id="15753" class="Symbol">))))))))</a>
  <a id="15764" href="/lia/part5/AExp/#15631" class="Function">magic</a> <a id="15770" class="Symbol">=</a> <a id="15772" href="Data.Nat.Tactic.RingSolver.html#1044" class="Macro">solve-∀</a>

  <a id="15783" href="/lia/part5/AExp/#15783" class="Function">goal</a> <a id="15788" class="Symbol">:</a> <a id="15790" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15794" class="Symbol">(</a><a id="15795" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15799" class="Symbol">(</a><a id="15800" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15804" class="Symbol">(</a><a id="15805" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15809" class="Symbol">(</a><a id="15810" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15814" class="Symbol">(</a><a id="15815" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15817" href="/lia/part5/AExp/#15592" class="Bound">a₁</a> <a id="15820" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="15823" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15825" href="/lia/part5/AExp/#15599" class="Bound">b₁</a> <a id="15828" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="15831" class="Number">4</a><a id="15832" class="Symbol">)))))</a> <a id="15838" href="/lia/part0/Naturals/#798" class="Datatype Operator">≤</a>
         <a id="15849" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15853" class="Symbol">(</a><a id="15854" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15858" class="Symbol">(</a><a id="15859" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15863" class="Symbol">(</a><a id="15864" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15868" class="Symbol">(</a><a id="15869" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15873" class="Symbol">(</a><a id="15874" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15876" href="/lia/part5/AExp/#15592" class="Bound">a₁</a> <a id="15879" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="15882" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15886" class="Symbol">(</a><a id="15887" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15891" class="Symbol">(</a><a id="15892" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15896" class="Symbol">(</a><a id="15897" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15901" class="Symbol">(</a><a id="15902" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15904" href="/lia/part5/AExp/#15599" class="Bound">b₁</a><a id="15906" class="Symbol">)))))))))</a>
  <a id="15918" href="/lia/part5/AExp/#15783" class="Function">goal</a> <a id="15923" class="Keyword">rewrite</a> <a id="15931" href="/lia/part5/AExp/#15631" class="Function">magic</a> <a id="15937" class="Symbol">(</a><a id="15938" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15940" href="/lia/part5/AExp/#15592" class="Bound">a₁</a><a id="15942" class="Symbol">)</a> <a id="15944" class="Symbol">(</a><a id="15945" href="/lia/part5/AExp/#14571" class="Function">μ</a> <a id="15947" href="/lia/part5/AExp/#15599" class="Bound">b₁</a><a id="15949" class="Symbol">)</a> <a id="15951" class="Symbol">=</a> <a id="15953" href="/lia/part0/Naturals/#1008" class="Function">refl-≤</a></pre>

<h2 id="strong-normalisation-second-proof">
<a class="anchor" href="#strong-normalisation-second-proof" aria-hidden="true"><span class="octicon octicon-link"></span></a>Strong normalisation (second proof)</h2>

<p>We prove strong normalisation by well-founded induction on a
lexicograpic order.</p>

<pre class="Agda"><a id="zeroes"></a><a id="16091" href="/lia/part5/AExp/#16091" class="Function">zeroes</a> <a id="ones"></a><a id="16098" href="/lia/part5/AExp/#16098" class="Function">ones</a> <a id="dollars"></a><a id="16103" href="/lia/part5/AExp/#16103" class="Function">dollars</a> <a id="16111" class="Symbol">:</a> <a id="16113" href="/lia/part5/AExp/#12226" class="Datatype">Bin</a> <a id="16117" class="Symbol">→</a> <a id="16119" href="/lia/part0/Naturals/#301" class="Function">ℕ</a>

<a id="16122" href="/lia/part5/AExp/#16091" class="Function">zeroes</a> <a id="16129" href="/lia/part5/AExp/#12244" class="InductiveConstructor">$</a> <a id="16131" class="Symbol">=</a> <a id="16133" class="Number">0</a>
<a id="16135" href="/lia/part5/AExp/#16091" class="Function">zeroes</a> <a id="16142" class="Symbol">(</a><a id="16143" href="/lia/part5/AExp/#16143" class="Bound">a</a> <a id="16145" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">𝟬</a><a id="16146" class="Symbol">)</a> <a id="16148" class="Symbol">=</a> <a id="16150" class="Number">1</a> <a id="16152" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="16155" href="/lia/part5/AExp/#16091" class="Function">zeroes</a> <a id="16162" href="/lia/part5/AExp/#16143" class="Bound">a</a>
<a id="16164" href="/lia/part5/AExp/#16091" class="Function">zeroes</a> <a id="16171" class="Symbol">(</a><a id="16172" href="/lia/part5/AExp/#16172" class="Bound">a</a> <a id="16174" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a><a id="16175" class="Symbol">)</a> <a id="16177" class="Symbol">=</a> <a id="16179" href="/lia/part5/AExp/#16091" class="Function">zeroes</a> <a id="16186" href="/lia/part5/AExp/#16172" class="Bound">a</a>
<a id="16188" href="/lia/part5/AExp/#16091" class="Function">zeroes</a> <a id="16195" class="Symbol">(</a><a id="16196" href="/lia/part5/AExp/#16196" class="Bound">a</a> <a id="16198" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="16200" href="/lia/part5/AExp/#16200" class="Bound">b</a><a id="16201" class="Symbol">)</a> <a id="16203" class="Symbol">=</a> <a id="16205" href="/lia/part5/AExp/#16091" class="Function">zeroes</a> <a id="16212" href="/lia/part5/AExp/#16196" class="Bound">a</a> <a id="16214" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="16217" href="/lia/part5/AExp/#16091" class="Function">zeroes</a> <a id="16224" href="/lia/part5/AExp/#16200" class="Bound">b</a>

<a id="16227" href="/lia/part5/AExp/#16098" class="Function">ones</a> <a id="16232" href="/lia/part5/AExp/#12244" class="InductiveConstructor">$</a> <a id="16234" class="Symbol">=</a> <a id="16236" class="Number">0</a>
<a id="16238" href="/lia/part5/AExp/#16098" class="Function">ones</a> <a id="16243" class="Symbol">(</a><a id="16244" href="/lia/part5/AExp/#16244" class="Bound">a</a> <a id="16246" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">𝟬</a><a id="16247" class="Symbol">)</a> <a id="16249" class="Symbol">=</a> <a id="16251" href="/lia/part5/AExp/#16098" class="Function">ones</a> <a id="16256" href="/lia/part5/AExp/#16244" class="Bound">a</a>
<a id="16258" href="/lia/part5/AExp/#16098" class="Function">ones</a> <a id="16263" class="Symbol">(</a><a id="16264" href="/lia/part5/AExp/#16264" class="Bound">a</a> <a id="16266" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a><a id="16267" class="Symbol">)</a> <a id="16269" class="Symbol">=</a> <a id="16271" class="Number">1</a> <a id="16273" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="16276" href="/lia/part5/AExp/#16098" class="Function">ones</a> <a id="16281" href="/lia/part5/AExp/#16264" class="Bound">a</a>
<a id="16283" href="/lia/part5/AExp/#16098" class="Function">ones</a> <a id="16288" class="Symbol">(</a><a id="16289" href="/lia/part5/AExp/#16289" class="Bound">a</a> <a id="16291" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="16293" href="/lia/part5/AExp/#16293" class="Bound">b</a><a id="16294" class="Symbol">)</a> <a id="16296" class="Symbol">=</a> <a id="16298" href="/lia/part5/AExp/#16098" class="Function">ones</a> <a id="16303" href="/lia/part5/AExp/#16289" class="Bound">a</a> <a id="16305" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="16308" href="/lia/part5/AExp/#16098" class="Function">ones</a> <a id="16313" href="/lia/part5/AExp/#16293" class="Bound">b</a>

<a id="16316" href="/lia/part5/AExp/#16103" class="Function">dollars</a> <a id="16324" href="/lia/part5/AExp/#12244" class="InductiveConstructor">$</a> <a id="16326" class="Symbol">=</a> <a id="16328" class="Number">1</a>
<a id="16330" href="/lia/part5/AExp/#16103" class="Function">dollars</a> <a id="16338" class="Symbol">(</a><a id="16339" href="/lia/part5/AExp/#16339" class="Bound">a</a> <a id="16341" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">𝟬</a><a id="16342" class="Symbol">)</a> <a id="16344" class="Symbol">=</a> <a id="16346" href="/lia/part5/AExp/#16103" class="Function">dollars</a> <a id="16354" href="/lia/part5/AExp/#16339" class="Bound">a</a>
<a id="16356" href="/lia/part5/AExp/#16103" class="Function">dollars</a> <a id="16364" class="Symbol">(</a><a id="16365" href="/lia/part5/AExp/#16365" class="Bound">a</a> <a id="16367" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a><a id="16368" class="Symbol">)</a> <a id="16370" class="Symbol">=</a> <a id="16372" href="/lia/part5/AExp/#16103" class="Function">dollars</a> <a id="16380" href="/lia/part5/AExp/#16365" class="Bound">a</a>
<a id="16382" href="/lia/part5/AExp/#16103" class="Function">dollars</a> <a id="16390" class="Symbol">(</a><a id="16391" href="/lia/part5/AExp/#16391" class="Bound">a</a> <a id="16393" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="16395" href="/lia/part5/AExp/#16395" class="Bound">b</a><a id="16396" class="Symbol">)</a> <a id="16398" class="Symbol">=</a> <a id="16400" href="/lia/part5/AExp/#16103" class="Function">dollars</a> <a id="16408" href="/lia/part5/AExp/#16391" class="Bound">a</a> <a id="16410" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="16413" href="/lia/part5/AExp/#16103" class="Function">dollars</a> <a id="16421" href="/lia/part5/AExp/#16395" class="Bound">b</a>

<a id="Triple"></a><a id="16424" href="/lia/part5/AExp/#16424" class="Function">Triple</a> <a id="16431" class="Symbol">=</a> <a id="16433" href="/lia/part0/Naturals/#301" class="Function">ℕ</a> <a id="16435" href="/lia/part0/Logic/#1770" class="Record Operator">×</a> <a id="16437" href="/lia/part0/Naturals/#301" class="Function">ℕ</a> <a id="16439" href="/lia/part0/Logic/#1770" class="Record Operator">×</a> <a id="16441" href="/lia/part0/Naturals/#301" class="Function">ℕ</a>

<a id="triple"></a><a id="16444" href="/lia/part5/AExp/#16444" class="Function">triple</a> <a id="16451" class="Symbol">:</a> <a id="16453" href="/lia/part5/AExp/#12226" class="Datatype">Bin</a> <a id="16457" class="Symbol">→</a> <a id="16459" href="/lia/part5/AExp/#16424" class="Function">Triple</a>
<a id="16466" href="/lia/part5/AExp/#16444" class="Function">triple</a> <a id="16473" href="/lia/part5/AExp/#16473" class="Bound">a</a> <a id="16475" class="Symbol">=</a> <a id="16477" class="Symbol">(</a><a id="16478" href="/lia/part5/AExp/#16098" class="Function">ones</a> <a id="16483" href="/lia/part5/AExp/#16473" class="Bound">a</a> <a id="16485" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="16487" href="/lia/part5/AExp/#16091" class="Function">zeroes</a> <a id="16494" href="/lia/part5/AExp/#16473" class="Bound">a</a> <a id="16496" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="16498" href="/lia/part5/AExp/#16103" class="Function">dollars</a> <a id="16506" href="/lia/part5/AExp/#16473" class="Bound">a</a><a id="16507" class="Symbol">)</a>

<a id="_≺_"></a><a id="16510" href="/lia/part5/AExp/#16510" class="Function Operator">_≺_</a> <a id="16514" class="Symbol">:</a> <a id="16516" href="/lia/part5/AExp/#16424" class="Function">Triple</a> <a id="16523" class="Symbol">→</a> <a id="16525" href="/lia/part5/AExp/#16424" class="Function">Triple</a> <a id="16532" class="Symbol">→</a> <a id="16534" class="PrimitiveType">Set</a>
<a id="16538" href="/lia/part5/AExp/#16510" class="Function Operator">_≺_</a> <a id="16542" class="Symbol">=</a> <a id="16544" href="/lia/part0/Naturals/#1314" class="Function Operator">_&lt;_</a> <a id="16548" href="/lia/part0/WellFounded/#1187" class="Function Operator">×ₗₑₓ</a> <a id="16553" href="/lia/part0/Naturals/#1314" class="Function Operator">_&lt;_</a> <a id="16557" href="/lia/part0/WellFounded/#1187" class="Function Operator">×ₗₑₓ</a> <a id="16562" href="/lia/part0/Naturals/#1314" class="Function Operator">_&lt;_</a>

<a id="wf-≺"></a><a id="16567" href="/lia/part5/AExp/#16567" class="Function">wf-≺</a> <a id="16572" class="Symbol">:</a> <a id="16574" href="/lia/part0/WellFounded/#548" class="Function">WellFounded</a> <a id="16586" href="/lia/part5/AExp/#16510" class="Function Operator">_≺_</a>
<a id="16590" href="/lia/part5/AExp/#16567" class="Function">wf-≺</a> <a id="16595" class="Symbol">=</a> <a id="16597" href="/lia/part0/WellFounded/#1350" class="Function">lex-wf</a> <a id="16604" href="/lia/part0/WellFounded/#654" class="Function">&lt;-wf</a> <a id="16609" class="Symbol">(</a><a id="16610" href="/lia/part0/WellFounded/#1350" class="Function">lex-wf</a> <a id="16617" href="/lia/part0/WellFounded/#654" class="Function">&lt;-wf</a> <a id="16622" href="/lia/part0/WellFounded/#654" class="Function">&lt;-wf</a><a id="16626" class="Symbol">)</a>

<a id="triple-mon"></a><a id="16629" href="/lia/part5/AExp/#16629" class="Function">triple-mon</a> <a id="16640" class="Symbol">:</a> <a id="16642" href="/lia/part5/AExp/#12361" class="Generalizable">a</a> <a id="16644" href="/lia/part5/AExp/#12583" class="Datatype Operator">↝</a> <a id="16646" href="/lia/part5/AExp/#12366" class="Generalizable">b</a> <a id="16648" class="Symbol">→</a>
             <a id="16663" class="Comment">-------------------</a>
             <a id="16696" href="/lia/part5/AExp/#16444" class="Function">triple</a> <a id="16703" href="/lia/part5/AExp/#12366" class="Generalizable">b</a> <a id="16705" href="/lia/part5/AExp/#16510" class="Function Operator">≺</a> <a id="16707" href="/lia/part5/AExp/#16444" class="Function">triple</a> <a id="16714" href="/lia/part5/AExp/#12361" class="Generalizable">a</a>
             
<a id="16730" href="/lia/part5/AExp/#16629" class="Function">triple-mon</a> <a id="16741" class="Symbol">(</a><a id="16742" href="/lia/part5/AExp/#12614" class="InductiveConstructor">↝𝟬</a> <a id="16745" href="/lia/part5/AExp/#16745" class="Bound">δ</a><a id="16746" class="Symbol">)</a> <a id="16748" class="Keyword">with</a> <a id="16753" href="/lia/part5/AExp/#16629" class="Function">triple-mon</a> <a id="16764" href="/lia/part5/AExp/#16745" class="Bound">δ</a>
<a id="16766" class="Symbol">...</a> <a id="16770" class="Symbol">|</a> <a id="16772" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="16777" href="/lia/part5/AExp/#16777" class="Bound">1s</a> <a id="16780" class="Symbol">=</a> <a id="16782" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="16787" href="/lia/part5/AExp/#16777" class="Bound">1s</a>
<a id="16790" class="Symbol">...</a> <a id="16794" class="Symbol">|</a> <a id="16796" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="16802" class="Symbol">(</a><a id="16803" href="/lia/part5/AExp/#16803" class="Bound">1s</a> <a id="16806" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="16808" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="16813" href="/lia/part5/AExp/#16813" class="Bound">0s</a><a id="16815" class="Symbol">)</a> <a id="16817" class="Symbol">=</a> <a id="16819" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="16825" class="Symbol">(</a><a id="16826" href="/lia/part5/AExp/#16803" class="Bound">1s</a> <a id="16829" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="16831" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="16836" class="Symbol">(</a><a id="16837" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="16841" href="/lia/part5/AExp/#16813" class="Bound">0s</a><a id="16843" class="Symbol">))</a>
<a id="16846" class="Symbol">...</a> <a id="16850" class="Symbol">|</a> <a id="16852" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="16858" class="Symbol">(</a><a id="16859" href="/lia/part5/AExp/#16859" class="Bound">1s</a> <a id="16862" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="16864" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="16870" class="Symbol">(</a><a id="16871" href="/lia/part5/AExp/#16871" class="Bound">0s</a> <a id="16874" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="16876" href="/lia/part5/AExp/#16876" class="Bound">$s</a><a id="16878" class="Symbol">))</a> <a id="16881" class="Symbol">=</a> <a id="16883" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="16889" class="Symbol">(</a><a id="16890" href="/lia/part5/AExp/#16859" class="Bound">1s</a> <a id="16893" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="16895" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="16901" class="Symbol">(</a><a id="16902" href="/lia/part0/Equality/#883" class="Function">cong</a> <a id="16907" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="16911" href="/lia/part5/AExp/#16871" class="Bound">0s</a> <a id="16914" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="16916" href="/lia/part5/AExp/#16876" class="Bound">$s</a><a id="16918" class="Symbol">))</a>

<a id="16922" href="/lia/part5/AExp/#16629" class="Function">triple-mon</a> <a id="16933" class="Symbol">(</a><a id="16934" href="/lia/part5/AExp/#12667" class="InductiveConstructor">↝𝟭</a> <a id="16937" href="/lia/part5/AExp/#16937" class="Bound">δ</a><a id="16938" class="Symbol">)</a> <a id="16940" class="Keyword">with</a> <a id="16945" href="/lia/part5/AExp/#16629" class="Function">triple-mon</a> <a id="16956" href="/lia/part5/AExp/#16937" class="Bound">δ</a>
<a id="16958" class="Symbol">...</a> <a id="16962" class="Symbol">|</a> <a id="16964" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="16969" href="/lia/part5/AExp/#16969" class="Bound">1s</a> <a id="16972" class="Symbol">=</a> <a id="16974" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="16979" class="Symbol">(</a><a id="16980" href="/lia/part0/Naturals/#862" class="InductiveConstructor">s≤s</a> <a id="16984" href="/lia/part5/AExp/#16969" class="Bound">1s</a><a id="16986" class="Symbol">)</a>
<a id="16988" class="Symbol">...</a> <a id="16992" class="Symbol">|</a> <a id="16994" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17000" class="Symbol">(</a><a id="17001" href="/lia/part5/AExp/#17001" class="Bound">1s</a> <a id="17004" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17006" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="17011" href="/lia/part5/AExp/#17011" class="Bound">0s</a><a id="17013" class="Symbol">)</a> <a id="17015" class="Symbol">=</a> <a id="17017" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17023" class="Symbol">(</a><a id="17024" href="/lia/part0/Equality/#883" class="Function">cong</a> <a id="17029" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="17033" href="/lia/part5/AExp/#17001" class="Bound">1s</a> <a id="17036" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17038" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="17043" href="/lia/part5/AExp/#17011" class="Bound">0s</a><a id="17045" class="Symbol">)</a>
<a id="17047" class="Symbol">...</a> <a id="17051" class="Symbol">|</a> <a id="17053" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17059" class="Symbol">(</a><a id="17060" href="/lia/part5/AExp/#17060" class="Bound">1s</a> <a id="17063" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17065" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17071" class="Symbol">(</a><a id="17072" href="/lia/part5/AExp/#17072" class="Bound">0s</a> <a id="17075" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17077" href="/lia/part5/AExp/#17077" class="Bound">$s</a><a id="17079" class="Symbol">))</a> <a id="17082" class="Symbol">=</a> <a id="17084" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17090" class="Symbol">(</a><a id="17091" href="/lia/part0/Equality/#883" class="Function">cong</a> <a id="17096" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="17100" href="/lia/part5/AExp/#17060" class="Bound">1s</a> <a id="17103" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17105" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17111" class="Symbol">(</a><a id="17112" href="/lia/part5/AExp/#17072" class="Bound">0s</a> <a id="17115" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17117" href="/lia/part5/AExp/#17077" class="Bound">$s</a><a id="17119" class="Symbol">))</a>

<a id="17123" href="/lia/part5/AExp/#16629" class="Function">triple-mon</a> <a id="17134" class="Symbol">{</a><a id="17135" href="/lia/part5/AExp/#12244" class="InductiveConstructor">$</a> <a id="17137" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="17139" href="/lia/part5/AExp/#17139" class="Bound">b</a><a id="17140" class="Symbol">}</a> <a id="17142" href="/lia/part5/AExp/#12720" class="InductiveConstructor">↝$L</a> <a id="17146" class="Symbol">=</a> <a id="17148" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17154" class="Symbol">(</a><a id="17155" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17160" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17162" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17168" class="Symbol">(</a><a id="17169" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17174" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17176" href="/lia/part0/Naturals/#1490" class="Function">n&lt;sucn</a><a id="17182" class="Symbol">))</a>

<a id="17186" href="/lia/part5/AExp/#16629" class="Function">triple-mon</a> <a id="17197" class="Symbol">{</a><a id="17198" href="/lia/part5/AExp/#17198" class="Bound">b</a> <a id="17200" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="17202" href="/lia/part5/AExp/#12244" class="InductiveConstructor">$</a><a id="17203" class="Symbol">}</a> <a id="17205" href="/lia/part5/AExp/#12757" class="InductiveConstructor">↝$R</a>
  <a id="17211" class="Keyword">rewrite</a>
    <a id="17223" href="/lia/part0/Naturals/#5270" class="Function">n+0≡n</a> <a id="17229" class="Symbol">(</a><a id="17230" href="/lia/part5/AExp/#16098" class="Function">ones</a> <a id="17235" href="/lia/part5/AExp/#17198" class="Bound">b</a><a id="17236" class="Symbol">)</a> <a id="17238" class="Symbol">|</a>
    <a id="17244" href="/lia/part0/Naturals/#5270" class="Function">n+0≡n</a> <a id="17250" class="Symbol">(</a><a id="17251" href="/lia/part5/AExp/#16091" class="Function">zeroes</a> <a id="17258" href="/lia/part5/AExp/#17198" class="Bound">b</a><a id="17259" class="Symbol">)</a> <a id="17261" class="Symbol">|</a>
    <a id="17267" href="/lia/part0/Naturals/#5437" class="Function">suc-lemma</a> <a id="17277" class="Symbol">{</a><a id="17278" href="/lia/part5/AExp/#16103" class="Function">dollars</a> <a id="17286" href="/lia/part5/AExp/#17198" class="Bound">b</a><a id="17287" class="Symbol">}</a> <a id="17289" class="Symbol">{</a><a id="17290" class="Number">0</a><a id="17291" class="Symbol">}</a> <a id="17293" class="Symbol">|</a>
    <a id="17299" href="/lia/part0/Naturals/#5270" class="Function">n+0≡n</a> <a id="17305" class="Symbol">(</a><a id="17306" href="/lia/part5/AExp/#16103" class="Function">dollars</a> <a id="17314" href="/lia/part5/AExp/#17198" class="Bound">b</a><a id="17315" class="Symbol">)</a> <a id="17317" class="Symbol">=</a> <a id="17319" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17325" class="Symbol">(</a><a id="17326" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17331" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17333" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17339" class="Symbol">(</a><a id="17340" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17345" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17347" href="/lia/part0/Naturals/#1008" class="Function">refl-≤</a><a id="17353" class="Symbol">))</a>

<a id="17357" href="/lia/part5/AExp/#16629" class="Function">triple-mon</a> <a id="17368" class="Symbol">(</a><a id="17369" href="/lia/part5/AExp/#12794" class="InductiveConstructor">↝+L</a> <a id="17373" href="/lia/part5/AExp/#17373" class="Bound">δ</a><a id="17374" class="Symbol">)</a> <a id="17376" class="Keyword">with</a> <a id="17381" href="/lia/part5/AExp/#16629" class="Function">triple-mon</a> <a id="17392" href="/lia/part5/AExp/#17373" class="Bound">δ</a>
<a id="17394" class="Symbol">...</a> <a id="17398" class="Symbol">|</a> <a id="17400" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="17405" href="/lia/part5/AExp/#17405" class="Bound">1s</a> <a id="17408" class="Symbol">=</a> <a id="17410" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="17415" class="Symbol">(</a><a id="17416" href="/lia/part0/Naturals/#7215" class="Function">&lt;-+-left</a> <a id="17425" href="/lia/part5/AExp/#17405" class="Bound">1s</a><a id="17427" class="Symbol">)</a>
<a id="17429" class="Symbol">...</a> <a id="17433" class="Symbol">|</a> <a id="17435" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17441" class="Symbol">(</a><a id="17442" href="/lia/part5/AExp/#17442" class="Bound">1s</a> <a id="17445" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17447" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="17452" href="/lia/part5/AExp/#17452" class="Bound">0s</a><a id="17454" class="Symbol">)</a> <a id="17456" class="Keyword">rewrite</a> <a id="17464" href="/lia/part5/AExp/#17442" class="Bound">1s</a> <a id="17467" class="Symbol">=</a> <a id="17469" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17475" class="Symbol">(</a><a id="17476" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17481" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17483" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="17488" class="Symbol">(</a><a id="17489" href="/lia/part0/Naturals/#7215" class="Function">&lt;-+-left</a> <a id="17498" href="/lia/part5/AExp/#17452" class="Bound">0s</a><a id="17500" class="Symbol">))</a>
<a id="17503" class="Symbol">...</a> <a id="17507" class="Symbol">|</a> <a id="17509" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17515" class="Symbol">(</a><a id="17516" href="/lia/part5/AExp/#17516" class="Bound">1s</a> <a id="17519" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17521" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17527" class="Symbol">(</a><a id="17528" href="/lia/part5/AExp/#17528" class="Bound">0s</a> <a id="17531" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17533" href="/lia/part5/AExp/#17533" class="Bound">$s</a><a id="17535" class="Symbol">))</a> <a id="17538" class="Keyword">rewrite</a> <a id="17546" href="/lia/part5/AExp/#17516" class="Bound">1s</a> <a id="17549" class="Symbol">|</a> <a id="17551" href="/lia/part5/AExp/#17528" class="Bound">0s</a> <a id="17554" class="Symbol">=</a> <a id="17556" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17562" class="Symbol">(</a><a id="17563" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17568" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17570" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17576" class="Symbol">(</a><a id="17577" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17582" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17584" href="/lia/part0/Naturals/#7215" class="Function">&lt;-+-left</a> <a id="17593" href="/lia/part5/AExp/#17533" class="Bound">$s</a><a id="17595" class="Symbol">))</a>

<a id="17599" href="/lia/part5/AExp/#16629" class="Function">triple-mon</a> <a id="17610" class="Symbol">(</a><a id="17611" href="/lia/part5/AExp/#12858" class="InductiveConstructor">↝+R</a> <a id="17615" href="/lia/part5/AExp/#17615" class="Bound">δ</a><a id="17616" class="Symbol">)</a> <a id="17618" class="Keyword">with</a> <a id="17623" href="/lia/part5/AExp/#16629" class="Function">triple-mon</a> <a id="17634" href="/lia/part5/AExp/#17615" class="Bound">δ</a>
<a id="17636" class="Symbol">...</a> <a id="17640" class="Symbol">|</a> <a id="17642" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="17647" href="/lia/part5/AExp/#17647" class="Bound">1s</a> <a id="17650" class="Symbol">=</a> <a id="17652" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="17657" class="Symbol">(</a><a id="17658" href="/lia/part0/Naturals/#7268" class="Function">&lt;-+-right</a> <a id="17668" href="/lia/part5/AExp/#17647" class="Bound">1s</a><a id="17670" class="Symbol">)</a>
<a id="17672" class="Symbol">...</a> <a id="17676" class="Symbol">|</a> <a id="17678" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17684" class="Symbol">(</a><a id="17685" href="/lia/part5/AExp/#17685" class="Bound">1s</a> <a id="17688" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17690" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="17695" href="/lia/part5/AExp/#17695" class="Bound">0s</a><a id="17697" class="Symbol">)</a> <a id="17699" class="Keyword">rewrite</a> <a id="17707" href="/lia/part5/AExp/#17685" class="Bound">1s</a> <a id="17710" class="Symbol">|</a> <a id="17712" href="/lia/part5/AExp/#17685" class="Bound">1s</a> <a id="17715" class="Symbol">=</a> <a id="17717" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17723" class="Symbol">(</a><a id="17724" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17729" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17731" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="17736" class="Symbol">(</a><a id="17737" href="/lia/part0/Naturals/#7268" class="Function">&lt;-+-right</a> <a id="17747" href="/lia/part5/AExp/#17695" class="Bound">0s</a><a id="17749" class="Symbol">))</a>
<a id="17752" class="Symbol">...</a> <a id="17756" class="Symbol">|</a> <a id="17758" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17764" class="Symbol">(</a><a id="17765" href="/lia/part5/AExp/#17765" class="Bound">1s</a> <a id="17768" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17770" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17776" class="Symbol">(</a><a id="17777" href="/lia/part5/AExp/#17777" class="Bound">0s</a> <a id="17780" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17782" href="/lia/part5/AExp/#17782" class="Bound">$s</a><a id="17784" class="Symbol">))</a> <a id="17787" class="Keyword">rewrite</a> <a id="17795" href="/lia/part5/AExp/#17765" class="Bound">1s</a> <a id="17798" class="Symbol">|</a> <a id="17800" href="/lia/part5/AExp/#17765" class="Bound">1s</a> <a id="17803" class="Symbol">|</a> <a id="17805" href="/lia/part5/AExp/#17777" class="Bound">0s</a> <a id="17808" class="Symbol">=</a> <a id="17810" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17816" class="Symbol">(</a><a id="17817" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17822" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17824" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17830" class="Symbol">(</a><a id="17831" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17836" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17838" href="/lia/part0/Naturals/#7268" class="Function">&lt;-+-right</a> <a id="17848" href="/lia/part5/AExp/#17782" class="Bound">$s</a><a id="17850" class="Symbol">))</a>

<a id="17854" class="Comment">-- number of zeroes goes down</a>
<a id="17884" href="/lia/part5/AExp/#16629" class="Function">triple-mon</a> <a id="17895" class="Symbol">{</a><a id="17896" href="/lia/part5/AExp/#17896" class="Bound">a</a> <a id="17898" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">𝟬</a> <a id="17900" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="17902" href="/lia/part5/AExp/#17902" class="Bound">b</a> <a id="17904" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">𝟬</a><a id="17905" class="Symbol">}</a> <a id="17907" href="/lia/part5/AExp/#12930" class="InductiveConstructor">↝+𝟬𝟬</a> <a id="17912" class="Keyword">rewrite</a> <a id="17920" href="/lia/part0/Naturals/#5437" class="Function">suc-lemma</a> <a id="17930" class="Symbol">{</a><a id="17931" href="/lia/part5/AExp/#16091" class="Function">zeroes</a> <a id="17938" href="/lia/part5/AExp/#17896" class="Bound">a</a><a id="17939" class="Symbol">}</a> <a id="17941" class="Symbol">{</a><a id="17942" href="/lia/part5/AExp/#16091" class="Function">zeroes</a> <a id="17949" href="/lia/part5/AExp/#17902" class="Bound">b</a><a id="17950" class="Symbol">}</a> <a id="17952" class="Symbol">=</a> <a id="17954" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="17960" class="Symbol">(</a> <a id="17962" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="17967" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="17969" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="17974" href="/lia/part0/Naturals/#1008" class="Function">refl-≤</a><a id="17980" class="Symbol">)</a>

<a id="17983" class="Comment">-- number of zeroes goes down</a>
<a id="18013" href="/lia/part5/AExp/#16629" class="Function">triple-mon</a> <a id="18024" class="Symbol">{</a><a id="18025" href="/lia/part5/AExp/#18025" class="Bound">a</a> <a id="18027" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">𝟬</a> <a id="18029" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="18031" href="/lia/part5/AExp/#18031" class="Bound">b</a> <a id="18033" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a><a id="18034" class="Symbol">}</a> <a id="18036" href="/lia/part5/AExp/#12993" class="InductiveConstructor">↝+𝟬𝟭</a> <a id="18041" class="Keyword">rewrite</a> <a id="18049" href="/lia/part0/Naturals/#5437" class="Function">suc-lemma</a> <a id="18059" class="Symbol">{</a><a id="18060" href="/lia/part5/AExp/#16098" class="Function">ones</a> <a id="18065" href="/lia/part5/AExp/#18025" class="Bound">a</a><a id="18066" class="Symbol">}</a> <a id="18068" class="Symbol">{</a><a id="18069" href="/lia/part5/AExp/#16098" class="Function">ones</a> <a id="18074" href="/lia/part5/AExp/#18031" class="Bound">b</a><a id="18075" class="Symbol">}</a> <a id="18077" class="Symbol">=</a> <a id="18079" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="18085" class="Symbol">(</a> <a id="18087" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="18092" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="18094" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="18099" href="/lia/part0/Naturals/#1008" class="Function">refl-≤</a><a id="18105" class="Symbol">)</a>

<a id="18108" class="Comment">-- number of zeroes goes down</a>
<a id="18138" href="/lia/part5/AExp/#16629" class="Function">triple-mon</a> <a id="18149" class="Symbol">{</a><a id="18150" href="/lia/part5/AExp/#18150" class="Bound">a</a> <a id="18152" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a> <a id="18154" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="18156" href="/lia/part5/AExp/#18156" class="Bound">b</a> <a id="18158" href="/lia/part5/AExp/#12254" class="InductiveConstructor Operator">𝟬</a><a id="18159" class="Symbol">}</a> <a id="18161" href="/lia/part5/AExp/#13056" class="InductiveConstructor">↝+𝟭𝟬</a> <a id="18166" class="Keyword">rewrite</a> <a id="18174" href="/lia/part0/Naturals/#5437" class="Function">suc-lemma</a> <a id="18184" class="Symbol">{</a><a id="18185" href="/lia/part5/AExp/#16091" class="Function">zeroes</a> <a id="18192" href="/lia/part5/AExp/#18150" class="Bound">a</a><a id="18193" class="Symbol">}</a> <a id="18195" class="Symbol">{</a><a id="18196" href="/lia/part5/AExp/#16091" class="Function">zeroes</a> <a id="18203" href="/lia/part5/AExp/#18156" class="Bound">b</a><a id="18204" class="Symbol">}</a> <a id="18206" class="Symbol">=</a> <a id="18208" href="/lia/part0/Logic/#2535" class="InductiveConstructor">right</a> <a id="18214" class="Symbol">(</a> <a id="18216" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="18221" href="/lia/part0/Logic/#1838" class="InductiveConstructor Operator">,</a> <a id="18223" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="18228" href="/lia/part0/Naturals/#1008" class="Function">refl-≤</a><a id="18234" class="Symbol">)</a>

<a id="18237" class="Comment">-- number of ones goes down</a>
<a id="18265" href="/lia/part5/AExp/#16629" class="Function">triple-mon</a> <a id="18276" class="Symbol">{</a><a id="18277" href="/lia/part5/AExp/#18277" class="Bound">a</a> <a id="18279" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a> <a id="18281" href="/lia/part5/AExp/#1189" class="InductiveConstructor Operator">+</a> <a id="18283" href="/lia/part5/AExp/#18283" class="Bound">b</a> <a id="18285" href="/lia/part5/AExp/#12271" class="InductiveConstructor Operator">𝟭</a><a id="18286" class="Symbol">}</a> <a id="18288" href="/lia/part5/AExp/#13119" class="InductiveConstructor">↝+𝟭𝟭</a> <a id="18293" class="Symbol">=</a> <a id="18295" href="/lia/part0/Logic/#2514" class="InductiveConstructor">left</a> <a id="18300" href="/lia/part5/AExp/#18386" class="Function">goal</a> <a id="18305" class="Keyword">where</a>

  <a id="18314" href="/lia/part5/AExp/#18314" class="Function">have</a> <a id="18319" class="Symbol">:</a> <a id="18321" class="Symbol">∀</a> <a id="18323" href="/lia/part5/AExp/#18323" class="Bound">a</a> <a id="18325" href="/lia/part5/AExp/#18325" class="Bound">b</a> <a id="18327" class="Symbol">→</a> <a id="18329" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="18333" class="Symbol">(</a><a id="18334" href="/lia/part5/AExp/#18323" class="Bound">a</a> <a id="18336" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="18339" href="/lia/part5/AExp/#18325" class="Bound">b</a> <a id="18341" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="18344" class="Number">1</a><a id="18345" class="Symbol">)</a> <a id="18347" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="18349" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="18353" class="Symbol">(</a><a id="18354" href="/lia/part5/AExp/#18323" class="Bound">a</a> <a id="18356" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="18359" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="18363" href="/lia/part5/AExp/#18325" class="Bound">b</a><a id="18364" class="Symbol">)</a>
  <a id="18368" href="/lia/part5/AExp/#18314" class="Function">have</a> <a id="18373" class="Symbol">=</a> <a id="18375" href="Data.Nat.Tactic.RingSolver.html#1044" class="Macro">solve-∀</a>

  <a id="18386" href="/lia/part5/AExp/#18386" class="Function">goal</a> <a id="18391" class="Symbol">:</a> <a id="18393" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="18397" class="Symbol">(</a><a id="18398" href="/lia/part5/AExp/#16098" class="Function">ones</a> <a id="18403" href="/lia/part5/AExp/#18277" class="Bound">a</a> <a id="18405" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="18408" href="/lia/part5/AExp/#16098" class="Function">ones</a> <a id="18413" href="/lia/part5/AExp/#18283" class="Bound">b</a> <a id="18415" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="18418" class="Number">1</a><a id="18419" class="Symbol">)</a> <a id="18421" href="/lia/part0/Naturals/#798" class="Datatype Operator">≤</a> <a id="18423" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="18427" class="Symbol">(</a><a id="18428" href="/lia/part5/AExp/#16098" class="Function">ones</a> <a id="18433" href="/lia/part5/AExp/#18277" class="Bound">a</a> <a id="18435" href="/lia/part5/AExp/#172" class="Primitive Operator">+ℕ</a> <a id="18438" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="18442" class="Symbol">(</a><a id="18443" href="/lia/part5/AExp/#16098" class="Function">ones</a> <a id="18448" href="/lia/part5/AExp/#18283" class="Bound">b</a><a id="18449" class="Symbol">))</a>
  <a id="18454" href="/lia/part5/AExp/#18386" class="Function">goal</a> <a id="18459" class="Keyword">rewrite</a> <a id="18467" href="/lia/part5/AExp/#18314" class="Function">have</a> <a id="18472" class="Symbol">(</a><a id="18473" href="/lia/part5/AExp/#16098" class="Function">ones</a> <a id="18478" href="/lia/part5/AExp/#18277" class="Bound">a</a><a id="18479" class="Symbol">)</a> <a id="18481" class="Symbol">(</a><a id="18482" href="/lia/part5/AExp/#16098" class="Function">ones</a> <a id="18487" href="/lia/part5/AExp/#18283" class="Bound">b</a><a id="18488" class="Symbol">)</a> <a id="18490" class="Symbol">=</a> <a id="18492" href="/lia/part0/Naturals/#1008" class="Function">refl-≤</a></pre>

<div id="refs">

  <h1 id="references">
<a class="anchor" href="#references" aria-hidden="true"><span class="octicon octicon-link"></span></a>References</h1>

</div>

    </div>
  
    <header class="nav-header">
    <p style="text-align:center;">
        
        
        
        <a alt="Part" href="/lia/part5/index/">Part</a>
        &bullet;
        
        
        <a alt="Source code" href="https://github.com/lclem/lia/blob/main/src/part5/AExp.lagda.md">Source</a>
        
        
        
    </p>
</header>

    <p class="p-name"> Last-modified: Jan  6 09:30:42 2021 </p>
  </article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/lia/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Logic in Agda</h2><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Lorenzo Clemente</li>
          <li><a class="u-email" href="mailto:clementelorenzo@gmail.com">clementelorenzo@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/lclem"><svg class="svg-icon"><use xlink:href="/lia/assets/minima-social-icons.svg#github"></use></svg> <span class="username">lclem</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
  </div>
</footer>

<!-- Parse the Latex divs with Katex
<script type="text/javascript">
  $("script[type='math/tex']").replaceWith(
    function(){
      var tex = $(this).text();
      return katex.renderToString(tex, {displayMode: false});
  });
  
  $("script[type='math/tex; mode=display']").replaceWith(
    function(){
      var tex = $(this).text();
      return katex.renderToString(tex.replace(/%.*/g, ''), {displayMode: true});
  });
</script>
-->

<script type="text/javascript" src="/lia/assets/hidebox.js"></script>
</body>

</html>
