<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Characteristic formulas and functional completeness 🚧 | Logic in Agda</title><!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Characteristic formulas and functional completeness 🚧" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Propositional and fist-order logic developed with the proof assistant Agda." />
<meta property="og:description" content="Propositional and fist-order logic developed with the proof assistant Agda." />
<link rel="canonical" href="/lia/part1/CharacteristicFormulas/" />
<meta property="og:url" content="/lia/part1/CharacteristicFormulas/" />
<meta property="og:site_name" content="Logic in Agda" />
<script type="application/ld+json">
{"url":"/lia/part1/CharacteristicFormulas/","headline":"Characteristic formulas and functional completeness 🚧","description":"Propositional and fist-order logic developed with the proof assistant Agda.","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/lia/assets/main.css">
  <!-- <link rel="stylesheet" href="/lia/assets/custom.css"> --><!-- Mathjax Support -->
  <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  <!-- Load KaTeX -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.1.1/katex.min.js"></script>
</head>
<body><header class="site-header" role="banner">

    <div class="wrapper">

        <a class="site-title" href="/lia/">Logic in Agda</a>

        <nav class="site-nav">
            <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                    <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                    <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                    <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
                </svg>
            </span>

            <div class="trigger">
                <a class="page-link" href="/lia/part0/index/">Part 0</a>
                <a class="page-link" href="/lia/part1/index/">Part 1</a>
                <a class="page-link" href="/lia/part2/index/">Part 2</a>
                <a class="page-link" href="/lia/part3/index/">Part 3</a>
                <a class="page-link" href="/lia/part4/index/">Part 4</a>
            </div>
        </nav>

    </div>

</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

    <header class="post-header">
        <h1 class="post-title">Characteristic formulas and functional completeness 🚧</h1>
    </header>
  
    <p style="text-align:center;">
    
    
    
    <a alt="Part" href="/lia/part1/index/">Part</a>
    &bullet;
    
    
    <a alt="Source code" href="https://github.com/lclem/lia/blob/main/src/part1/CharacteristicFormulas.lagda.md">Source</a>
    
    
    
</p>

  
    <div class="post-content">
        <h2>Contents</h2>    
        <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#characteristic-formulas">Characteristic formulas</a>
<ul>
<li class="toc-entry toc-h2"><a href="#literals">Literals</a></li>
<li class="toc-entry toc-h2"><a href="#formulas">Formulas</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#Functional-Completeness">Functional completeness</a>
<ul>
<li class="toc-entry toc-h2"><a href="#fragment">Fragment {∨, ∧, ¬, ⊤, ⊥}</a></li>
<li class="toc-entry toc-h2"><a href="#fragment-1">Fragment {∨, ∧, ¬}</a></li>
<li class="toc-entry toc-h2"><a href="#sec:FragmentsAndNeg">Fragments {∧, ¬} and {∨, ¬}</a></li>
<li class="toc-entry toc-h2"><a href="#fragment-2">Fragment {⇒, ⊥}</a></li>
<li class="toc-entry toc-h2"><a href="#sec:monotone-fragment">Fragment {⊥, ⊤, ∨, ∧}</a></li>
<li class="toc-entry toc-h2"><a href="#section:big-incomplete-fragment">Fragment {⊤, ∨, ∧, ⇒, ⇔}</a></li>
<li class="toc-entry toc-h2"><a href="#Sheffer">Fragment {⇑} – Sheffer’s stroke</a></li>
</ul>
</li>
</ul><p>In this chapter we study characteristic formulas and their application
to functionally complete set of connectives.</p>

<pre class="Agda"><a id="192" class="Symbol">{-#</a> <a id="196" class="Keyword">OPTIONS</a> <a id="204" class="Pragma">--allow-unsolved-metas</a>  <a id="228" class="Symbol">#-}</a>
<a id="232" class="Keyword">open</a> <a id="237" class="Keyword">import</a> <a id="244" href="/lia/part0/index/" class="Module">part0.index</a>

<a id="257" class="Keyword">module</a> <a id="264" href="/lia/part1/CharacteristicFormulas/" class="Module">part1.CharacteristicFormulas</a> <a id="293" class="Symbol">(</a><a id="294" href="/lia/part1/CharacteristicFormulas/#294" class="Bound">n′</a> <a id="297" class="Symbol">:</a> <a id="299" href="/lia/part0/Naturals/#146" class="Datatype">ℕ</a><a id="300" class="Symbol">)</a> <a id="302" class="Keyword">where</a>
<a id="308" class="Keyword">open</a> <a id="313" class="Keyword">import</a> <a id="320" href="/lia/part1/Semantics/" class="Module">part1.Semantics</a> <a id="336" href="/lia/part1/CharacteristicFormulas/#294" class="Bound">n′</a></pre>

<h1 id="characteristic-formulas">
<a class="anchor" href="#characteristic-formulas" aria-hidden="true"><span class="octicon octicon-link"></span></a>Characteristic formulas</h1>

<p>Let <code class="language-plaintext highlighter-rouge">ϱ</code> be a valuation and <code class="language-plaintext highlighter-rouge">φ</code> a formula. We say that <code class="language-plaintext highlighter-rouge">φ</code> is a
<em>characteristic formula</em> for <code class="language-plaintext highlighter-rouge">ϱ</code>, written <code class="language-plaintext highlighter-rouge">φ CharFormulaOf ϱ</code> if</p>

<ol>
  <li>
<code class="language-plaintext highlighter-rouge">ϱ</code> satisfies <code class="language-plaintext highlighter-rouge">φ</code>, and</li>
  <li>no other valuation satisfies <code class="language-plaintext highlighter-rouge">φ</code>.</li>
</ol>

<p>Formally, we have the following definition:</p>

<pre class="Agda"><a id="_CharFormulaOf_"></a><a id="641" href="/lia/part1/CharacteristicFormulas/#641" class="Function Operator">_CharFormulaOf_</a> <a id="657" class="Symbol">:</a> <a id="659" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="667" class="Symbol">→</a> <a id="669" href="/lia/part1/Semantics/#10530" class="Function">Val</a> <a id="673" class="Symbol">→</a> <a id="675" class="PrimitiveType">Set</a>
<a id="679" href="/lia/part1/CharacteristicFormulas/#679" class="Bound">φ</a> <a id="681" href="/lia/part1/CharacteristicFormulas/#641" class="Function Operator">CharFormulaOf</a> <a id="695" href="/lia/part1/CharacteristicFormulas/#695" class="Bound">ϱ</a> <a id="697" class="Symbol">=</a> <a id="699" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="701" href="/lia/part1/CharacteristicFormulas/#679" class="Bound">φ</a> <a id="703" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="705" href="/lia/part1/CharacteristicFormulas/#695" class="Bound">ϱ</a> <a id="707" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="709" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="712" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="714" class="Symbol">∀</a> <a id="716" href="/lia/part1/CharacteristicFormulas/#716" class="Bound">ϱ′</a> <a id="719" class="Symbol">→</a> <a id="721" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="723" href="/lia/part1/CharacteristicFormulas/#679" class="Bound">φ</a> <a id="725" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="727" href="/lia/part1/CharacteristicFormulas/#716" class="Bound">ϱ′</a> <a id="730" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="732" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="735" class="Symbol">→</a> <a id="737" href="/lia/part1/CharacteristicFormulas/#716" class="Bound">ϱ′</a> <a id="740" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="742" href="/lia/part1/CharacteristicFormulas/#695" class="Bound">ϱ</a></pre>

<div class="examplebox">

  <dl>
    <dt><span id="example:characteristic-formula" class="pandoc-numbering-text example"><strong>Example 1</strong></span></dt>
    <dd>For instance, consider the valuation</dd>
  </dl>

  <pre class="Agda"><a id="ϱ₁"></a><a id="867" href="/lia/part1/CharacteristicFormulas/#867" class="Function">ϱ₁</a> <a id="870" class="Symbol">=</a> <a id="872" href="part0.Utils.html#196" class="Function">const</a> <a id="878" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="881" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="883" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="886" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="888" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="891" href="/lia/part0/Functions/#568" class="Function Operator">]</a> <a id="893" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="895" href="/lia/part1/Semantics/#1232" class="Function">p₁</a> <a id="898" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="900" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="903" href="/lia/part0/Functions/#568" class="Function Operator">]</a></pre>

  <p>that assigns value <a href="../../part0/Booleans#%F0%9D%94%B9.tt"><code class="language-plaintext highlighter-rouge">tt</code></a> to every
proposition, except for <code class="language-plaintext highlighter-rouge">p₀</code> and <code class="language-plaintext highlighter-rouge">p₁</code>. Under the assumption that there
are only three propositions <code class="language-plaintext highlighter-rouge">p₀, p₁, p₂</code> in the universe, a
characteristic formula for <code class="language-plaintext highlighter-rouge">ϱ₁</code> is, e.g.,</p>

  <pre class="Agda"><a id="ψ₁"></a><a id="1151" href="/lia/part1/CharacteristicFormulas/#1151" class="Function">ψ₁</a> <a id="1154" class="Symbol">:</a> <a id="1156" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a>
<a id="1164" href="/lia/part1/CharacteristicFormulas/#1151" class="Function">ψ₁</a> <a id="1167" class="Symbol">=</a> <a id="1169" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="1171" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="1173" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="1176" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="1178" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="1180" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="1182" href="/lia/part1/Semantics/#1232" class="Function">p₁</a> <a id="1185" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="1187" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="1189" href="/lia/part1/Semantics/#1235" class="Function">p₂</a></pre>

  <p>In order to show <code class="language-plaintext highlighter-rouge">ψ₁ CharFormulaOf ϱ₁</code>, we use appropriate Boolean
inversion properties to enforce that every valuation <code class="language-plaintext highlighter-rouge">ϱ′</code> satisfying
<code class="language-plaintext highlighter-rouge">ψ₁</code> necessarily assigns <a href="../../part0/Booleans#%F0%9D%94%B9.ff"><code class="language-plaintext highlighter-rouge">ff</code></a> to <code class="language-plaintext highlighter-rouge">p₀, p₁</code>,
and <a href="../../part0/Booleans#%F0%9D%94%B9.tt"><code class="language-plaintext highlighter-rouge">tt</code></a> to <code class="language-plaintext highlighter-rouge">p₂</code>. We then use function
extensionality to conclude <code class="language-plaintext highlighter-rouge">ϱ′ ≡ ϱ₁</code>, as required:</p>

  <pre class="Agda"><a id="ψ₁CharFormulaOfϱ₁"></a><a id="1531" href="/lia/part1/CharacteristicFormulas/#1531" class="Function">ψ₁CharFormulaOfϱ₁</a> <a id="1549" class="Symbol">:</a> <a id="1551" href="/lia/part1/Semantics/#1093" class="Function">n</a> <a id="1553" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="1555" class="Number">3</a> <a id="1557" class="Symbol">→</a> <a id="1559" href="/lia/part1/CharacteristicFormulas/#1151" class="Function">ψ₁</a> <a id="1562" href="/lia/part1/CharacteristicFormulas/#641" class="Function Operator">CharFormulaOf</a> <a id="1576" href="/lia/part1/CharacteristicFormulas/#867" class="Function">ϱ₁</a>
<a id="1579" href="/lia/part1/CharacteristicFormulas/#1531" class="Function">ψ₁CharFormulaOfϱ₁</a> <a id="1597" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a> <a id="1602" class="Symbol">=</a> <a id="1604" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a> <a id="1609" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="1611" href="/lia/part1/CharacteristicFormulas/#1625" class="Function">goal</a> <a id="1616" class="Keyword">where</a>

  <a id="1625" href="/lia/part1/CharacteristicFormulas/#1625" class="Function">goal</a> <a id="1630" class="Symbol">:</a> <a id="1632" class="Symbol">∀</a> <a id="1634" href="/lia/part1/CharacteristicFormulas/#1634" class="Bound">ϱ′</a> <a id="1637" class="Symbol">→</a> <a id="1639" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="1641" href="/lia/part1/CharacteristicFormulas/#1151" class="Function">ψ₁</a> <a id="1644" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="1646" href="/lia/part1/CharacteristicFormulas/#1634" class="Bound">ϱ′</a> <a id="1649" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="1651" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="1654" class="Symbol">→</a> <a id="1656" href="/lia/part1/CharacteristicFormulas/#1634" class="Bound">ϱ′</a> <a id="1659" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="1661" href="/lia/part1/CharacteristicFormulas/#867" class="Function">ϱ₁</a>
  <a id="1666" href="/lia/part1/CharacteristicFormulas/#1625" class="Function">goal</a> <a id="1671" href="/lia/part1/CharacteristicFormulas/#1671" class="Bound">ϱ′</a> <a id="1674" href="/lia/part1/CharacteristicFormulas/#1674" class="Bound">eval</a>
    <a id="1683" class="Keyword">with</a> <a id="1688" href="/lia/part0/Booleans/#5008" class="Function">𝔹conjProp1</a> <a id="1699" class="Symbol">(</a><a id="1700" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="1702" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="1704" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="1706" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="1709" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="1711" href="/lia/part1/CharacteristicFormulas/#1671" class="Bound">ϱ′</a><a id="1713" class="Symbol">)</a> <a id="1715" class="Symbol">(</a><a id="1716" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="1718" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="1720" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="1722" href="/lia/part1/Semantics/#1232" class="Function">p₁</a> <a id="1725" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="1727" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="1729" href="/lia/part1/Semantics/#1235" class="Function">p₂</a> <a id="1732" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="1734" href="/lia/part1/CharacteristicFormulas/#1671" class="Bound">ϱ′</a><a id="1736" class="Symbol">)</a> <a id="1738" href="/lia/part1/CharacteristicFormulas/#1674" class="Bound">eval</a> <a id="1743" class="Symbol">|</a>
         <a id="1754" href="/lia/part0/Booleans/#5008" class="Function">𝔹conjProp1</a> <a id="1765" class="Symbol">(</a><a id="1766" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="1768" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="1770" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="1772" href="/lia/part1/Semantics/#1232" class="Function">p₁</a> <a id="1775" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="1777" href="/lia/part1/CharacteristicFormulas/#1671" class="Bound">ϱ′</a><a id="1779" class="Symbol">)</a> <a id="1781" class="Symbol">_</a> <a id="1783" class="Symbol">(</a><a id="1784" href="/lia/part0/Booleans/#5080" class="Function">𝔹conjProp2</a> <a id="1795" class="Symbol">(</a><a id="1796" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="1798" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="1800" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="1802" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="1805" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="1807" href="/lia/part1/CharacteristicFormulas/#1671" class="Bound">ϱ′</a><a id="1809" class="Symbol">)</a> <a id="1811" class="Symbol">_</a> <a id="1813" href="/lia/part1/CharacteristicFormulas/#1674" class="Bound">eval</a><a id="1817" class="Symbol">)</a> <a id="1819" class="Symbol">|</a>
         <a id="1830" href="/lia/part0/Booleans/#5080" class="Function">𝔹conjProp2</a> <a id="1841" class="Symbol">(</a><a id="1842" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="1844" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="1846" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="1848" href="/lia/part1/Semantics/#1232" class="Function">p₁</a> <a id="1851" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="1853" href="/lia/part1/CharacteristicFormulas/#1671" class="Bound">ϱ′</a><a id="1855" class="Symbol">)</a> <a id="1857" class="Symbol">_</a> <a id="1859" class="Symbol">(</a><a id="1860" href="/lia/part0/Booleans/#5080" class="Function">𝔹conjProp2</a> <a id="1871" class="Symbol">(</a><a id="1872" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="1874" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="1876" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="1878" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="1881" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="1883" href="/lia/part1/CharacteristicFormulas/#1671" class="Bound">ϱ′</a><a id="1885" class="Symbol">)</a> <a id="1887" class="Symbol">_</a> <a id="1889" href="/lia/part1/CharacteristicFormulas/#1674" class="Bound">eval</a><a id="1893" class="Symbol">)</a>
  <a id="1897" class="Symbol">...</a> <a id="1901" class="Symbol">|</a> <a id="1903" href="/lia/part1/CharacteristicFormulas/#1903" class="Bound">eval1</a> <a id="1909" class="Symbol">|</a> <a id="1911" href="/lia/part1/CharacteristicFormulas/#1911" class="Bound">eval2</a> <a id="1917" class="Symbol">|</a> <a id="1919" href="/lia/part1/CharacteristicFormulas/#1919" class="Bound">eval3</a>
    <a id="1929" class="Keyword">with</a> <a id="1934" href="/lia/part0/Booleans/#6169" class="Function">¬𝔹-inv</a> <a id="1941" class="Symbol">(</a><a id="1942" class="Bound">ϱ′</a> <a id="1945" href="/lia/part1/Semantics/#1229" class="Function">p₀</a><a id="1947" class="Symbol">)</a> <a id="1949" href="/lia/part1/CharacteristicFormulas/#1903" class="Bound">eval1</a> <a id="1955" class="Symbol">|</a>
         <a id="1966" href="/lia/part0/Booleans/#6169" class="Function">¬𝔹-inv</a> <a id="1973" class="Symbol">(</a><a id="1974" class="Bound">ϱ′</a> <a id="1977" href="/lia/part1/Semantics/#1232" class="Function">p₁</a><a id="1979" class="Symbol">)</a> <a id="1981" href="/lia/part1/CharacteristicFormulas/#1911" class="Bound">eval2</a>
  <a id="1989" class="Symbol">...</a> <a id="1993" class="Symbol">|</a> <a id="1995" href="/lia/part1/CharacteristicFormulas/#1995" class="Bound">eval1'</a> <a id="2002" class="Symbol">|</a> <a id="2004" href="/lia/part1/CharacteristicFormulas/#2004" class="Bound">eval2'</a> <a id="2011" class="Symbol">=</a> <a id="2013" href="/lia/part0/Equality/#2007" class="Postulate">extensionality</a> <a id="2028" href="/lia/part1/CharacteristicFormulas/#2042" class="Function">go</a> <a id="2031" class="Keyword">where</a>

    <a id="2042" href="/lia/part1/CharacteristicFormulas/#2042" class="Function">go</a> <a id="2045" class="Symbol">:</a> <a id="2047" href="/lia/part0/Logic/#216" class="Function">∀[</a> <a id="2050" href="/lia/part1/CharacteristicFormulas/#2050" class="Bound">p</a> <a id="2052" href="/lia/part0/Logic/#216" class="Function">]</a> <a id="2054" class="Bound">ϱ′</a> <a id="2057" href="/lia/part1/CharacteristicFormulas/#2050" class="Bound">p</a> <a id="2059" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="2061" href="/lia/part1/CharacteristicFormulas/#867" class="Function">ϱ₁</a> <a id="2064" href="/lia/part1/CharacteristicFormulas/#2050" class="Bound">p</a>
    <a id="2070" href="/lia/part1/CharacteristicFormulas/#2042" class="Function">go</a> <a id="2073" href="/lia/part0/Finite/#157" class="InductiveConstructor">fzero</a> <a id="2079" class="Keyword">rewrite</a> <a id="2087" href="/lia/part1/CharacteristicFormulas/#1995" class="Bound">eval1'</a> <a id="2094" class="Symbol">=</a> <a id="2096" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a> 
    <a id="2106" href="/lia/part1/CharacteristicFormulas/#2042" class="Function">go</a> <a id="2109" class="Symbol">(</a><a id="2110" href="/lia/part0/Finite/#191" class="InductiveConstructor">fsuc</a> <a id="2115" href="/lia/part0/Finite/#157" class="InductiveConstructor">fzero</a><a id="2120" class="Symbol">)</a> <a id="2122" class="Keyword">rewrite</a> <a id="2130" href="/lia/part1/CharacteristicFormulas/#2004" class="Bound">eval2'</a> <a id="2137" class="Symbol">=</a>  <a id="2140" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a> 
    <a id="2150" href="/lia/part1/CharacteristicFormulas/#2042" class="Function">go</a> <a id="2153" class="Symbol">(</a><a id="2154" href="/lia/part0/Finite/#191" class="InductiveConstructor">fsuc</a> <a id="2159" class="Symbol">(</a><a id="2160" href="/lia/part0/Finite/#191" class="InductiveConstructor">fsuc</a> <a id="2165" href="/lia/part0/Finite/#157" class="InductiveConstructor">fzero</a><a id="2170" class="Symbol">))</a> <a id="2173" class="Keyword">rewrite</a> <a id="2181" class="Bound">eval3</a> <a id="2187" class="Symbol">=</a> <a id="2189" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

  <p><span class="hidden">∎</span><span class="right-aligned">∎</span></p>

</div>

<p>A characteristic formula puts sufficiently many constraints on its
satisfying valuations as to identify a unique satisfying valuation.
Thus, characteristic formulas, which are a syntactic object, are in
bijection with valuations (modulo logical equivalence), which are a
semantic object.</p>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:charFormulaUnique" class="pandoc-numbering-text exercise"><strong>Exercise 1</strong> <em>(Uniqueness of characteristic formulas)</em></span></dt>
    <dd>Prove that characteristic formulas of a given valuation are unique,
up to logical equivalence:</dd>
  </dl>

  <pre class="Agda"><a id="charFormulaUnique"></a><a id="2738" href="/lia/part1/CharacteristicFormulas/#2738" class="Function">charFormulaUnique</a> <a id="2756" class="Symbol">:</a> <a id="2758" class="Symbol">∀</a> <a id="2760" href="/lia/part1/CharacteristicFormulas/#2760" class="Bound">φ</a> <a id="2762" href="/lia/part1/CharacteristicFormulas/#2762" class="Bound">ψ</a> <a id="2764" href="/lia/part1/CharacteristicFormulas/#2764" class="Bound">ϱ</a> <a id="2766" class="Symbol">→</a>
  <a id="2770" href="/lia/part1/CharacteristicFormulas/#2760" class="Bound">φ</a> <a id="2772" href="/lia/part1/CharacteristicFormulas/#641" class="Function Operator">CharFormulaOf</a> <a id="2786" href="/lia/part1/CharacteristicFormulas/#2764" class="Bound">ϱ</a> <a id="2788" class="Symbol">→</a>
  <a id="2792" href="/lia/part1/CharacteristicFormulas/#2762" class="Bound">ψ</a> <a id="2794" href="/lia/part1/CharacteristicFormulas/#641" class="Function Operator">CharFormulaOf</a> <a id="2808" href="/lia/part1/CharacteristicFormulas/#2764" class="Bound">ϱ</a> <a id="2810" class="Symbol">→</a>
  <a id="2814" class="Comment">-----</a>
  <a id="2822" href="/lia/part1/CharacteristicFormulas/#2760" class="Bound">φ</a> <a id="2824" href="/lia/part1/Semantics/#26811" class="Function Operator">⇛</a> <a id="2826" href="/lia/part1/CharacteristicFormulas/#2762" class="Bound">ψ</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:charFormulaUnique-solution)
:::::::
-->

</div>

<p>Now that we have a notion of characteristic formula, the next question
is whether, given a valuation, we can construct a characteristic formula
for it. This is the content of the rest of this section.</p>

<h2 id="literals">
<a class="anchor" href="#literals" aria-hidden="true"><span class="octicon octicon-link"></span></a>Literals</h2>

<p>We being by considering single propositional variables. Given a
valuation <code class="language-plaintext highlighter-rouge">ϱ</code>, we transform a propositional variable <code class="language-plaintext highlighter-rouge">p</code> into a
corresponding <em>characteristic literal</em> <code class="language-plaintext highlighter-rouge">「 p 」 ϱ</code> depending on whether
<code class="language-plaintext highlighter-rouge">ϱ p</code> is true or false:</p>

<pre class="Agda"><a id="「_」_"></a><a id="3580" href="/lia/part1/CharacteristicFormulas/#3580" class="Function Operator">「_」_</a> <a id="3585" class="Symbol">:</a> <a id="3587" href="/lia/part1/Semantics/#1104" class="Function">PropName</a> <a id="3596" class="Symbol">→</a> <a id="3598" href="/lia/part1/Semantics/#10530" class="Function">Val</a> <a id="3602" class="Symbol">→</a> <a id="3604" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a>
<a id="3612" href="/lia/part1/CharacteristicFormulas/#3580" class="Function Operator">「</a> <a id="3614" href="/lia/part1/CharacteristicFormulas/#3614" class="Bound">p</a> <a id="3616" href="/lia/part1/CharacteristicFormulas/#3580" class="Function Operator">」</a> <a id="3618" href="/lia/part1/CharacteristicFormulas/#3618" class="Bound">ϱ</a> <a id="3620" class="Keyword">with</a> <a id="3625" href="/lia/part1/CharacteristicFormulas/#3618" class="Bound">ϱ</a> <a id="3627" href="/lia/part1/CharacteristicFormulas/#3614" class="Bound">p</a>
<a id="3629" class="Symbol">...</a> <a id="3633" class="Symbol">|</a> <a id="3635" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="3638" class="Symbol">=</a> <a id="3640" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="3642" class="Bound">p</a>
<a id="3644" class="Symbol">...</a> <a id="3648" class="Symbol">|</a> <a id="3650" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="3653" class="Symbol">=</a> <a id="3655" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="3657" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="3659" class="Bound">p</a></pre>

<p>In the first case (i.e., if <code class="language-plaintext highlighter-rouge">ϱ p</code> is <a href="../../part0/Booleans#%F0%9D%94%B9.tt"><code class="language-plaintext highlighter-rouge">tt</code></a> )
we say that the characteristic literal of <code class="language-plaintext highlighter-rouge">「 p 」 ϱ</code> is <em>positive</em>, and
in the other case that it is <em>negative</em>. There are two fundamental
properties satisfied by <code class="language-plaintext highlighter-rouge">「 p 」 ϱ</code>. The first is <em>soundness</em>:
<code class="language-plaintext highlighter-rouge">「 p 」 ϱ</code> is satisfied by <code class="language-plaintext highlighter-rouge">ϱ</code>:</p>

<pre class="Agda"><a id="charLit-sound"></a><a id="3974" href="/lia/part1/CharacteristicFormulas/#3974" class="Function">charLit-sound</a> <a id="3988" class="Symbol">:</a> <a id="3990" class="Symbol">∀</a> <a id="3992" href="/lia/part1/CharacteristicFormulas/#3992" class="Bound">ϱ</a> <a id="3994" href="/lia/part1/CharacteristicFormulas/#3994" class="Bound">p</a> <a id="3996" class="Symbol">→</a>
  <a id="4000" class="Comment">-------------------</a>
  <a id="4022" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="4024" href="/lia/part1/CharacteristicFormulas/#3580" class="Function Operator">「</a> <a id="4026" href="/lia/part1/CharacteristicFormulas/#3994" class="Bound">p</a> <a id="4028" href="/lia/part1/CharacteristicFormulas/#3580" class="Function Operator">」</a> <a id="4030" href="/lia/part1/CharacteristicFormulas/#3992" class="Bound">ϱ</a> <a id="4032" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="4034" href="/lia/part1/CharacteristicFormulas/#3992" class="Bound">ϱ</a> <a id="4036" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="4038" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a>

<a id="4042" href="/lia/part1/CharacteristicFormulas/#3974" class="Function">charLit-sound</a> <a id="4056" href="/lia/part1/CharacteristicFormulas/#4056" class="Bound">ϱ</a> <a id="4058" href="/lia/part1/CharacteristicFormulas/#4058" class="Bound">p</a> <a id="4060" class="Keyword">with</a> <a id="4065" href="/lia/part0/Equality/#3823" class="Function">inspect</a> <a id="4073" class="Symbol">(</a><a id="4074" href="/lia/part1/CharacteristicFormulas/#4056" class="Bound">ϱ</a> <a id="4076" href="/lia/part1/CharacteristicFormulas/#4058" class="Bound">p</a><a id="4077" class="Symbol">)</a>
<a id="4079" class="Symbol">...</a> <a id="4083" class="Symbol">|</a> <a id="4085" href="/lia/part0/Equality/#3789" class="InductiveConstructor">it</a> <a id="4088" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="4091" href="/lia/part1/CharacteristicFormulas/#4091" class="Bound">ϱp≡tt</a> <a id="4097" class="Keyword">rewrite</a> <a id="4105" href="/lia/part1/CharacteristicFormulas/#4091" class="Bound">ϱp≡tt</a> <a id="4111" class="Symbol">|</a> <a id="4113" href="/lia/part1/CharacteristicFormulas/#4091" class="Bound">ϱp≡tt</a> <a id="4119" class="Symbol">=</a> <a id="4121" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
<a id="4126" class="Symbol">...</a> <a id="4130" class="Symbol">|</a> <a id="4132" href="/lia/part0/Equality/#3789" class="InductiveConstructor">it</a> <a id="4135" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="4138" href="/lia/part1/CharacteristicFormulas/#4138" class="Bound">ϱp≡ff</a> <a id="4144" class="Keyword">rewrite</a> <a id="4152" href="/lia/part1/CharacteristicFormulas/#4138" class="Bound">ϱp≡ff</a> <a id="4158" class="Symbol">|</a> <a id="4160" href="/lia/part1/CharacteristicFormulas/#4138" class="Bound">ϱp≡ff</a> <a id="4166" class="Symbol">=</a> <a id="4168" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<p>(Notice that we need to rewrite twice in each case. For example in the
first case we need to rewrite twice accoriding to the same equality
<code class="language-plaintext highlighter-rouge">ϱp≡tt : ϱ p ≡ tt</code>: The first rewrite transforms <code class="language-plaintext highlighter-rouge">⟦ 「 p 」 ϱ ⟧ ϱ</code> into
<code class="language-plaintext highlighter-rouge">⟦ ` p ⟧ ϱ</code>, and the second rewrite transforms the latter into
<a href="../../part0/Booleans#%F0%9D%94%B9.tt"><code class="language-plaintext highlighter-rouge">tt</code></a> , as required. A single rewrite does
not suffice. For this reason, the simpler solution</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>charLit-sound ϱ p with ϱ p
... | tt = refl
... | it = refl
</code></pre></div></div>

<p>only achieves the effect of rewriting once and does not work.) The
second fundamental property of <code class="language-plaintext highlighter-rouge">「 p 」 ϱ</code> is <em>completeness</em>: For every
other valuation <code class="language-plaintext highlighter-rouge">ϱ′</code> which also satisfies <code class="language-plaintext highlighter-rouge">「 p 」 ϱ</code>, it must be the
case that <code class="language-plaintext highlighter-rouge">ϱ</code> and <code class="language-plaintext highlighter-rouge">ϱ′</code> agree on <code class="language-plaintext highlighter-rouge">p</code>:</p>

<pre class="Agda"><a id="charLit-complete"></a><a id="4894" href="/lia/part1/CharacteristicFormulas/#4894" class="Function">charLit-complete</a> <a id="4911" class="Symbol">:</a> <a id="4913" class="Symbol">∀</a> <a id="4915" href="/lia/part1/CharacteristicFormulas/#4915" class="Bound">ϱ</a> <a id="4917" href="/lia/part1/CharacteristicFormulas/#4917" class="Bound">p</a> <a id="4919" href="/lia/part1/CharacteristicFormulas/#4919" class="Bound">ϱ′</a> <a id="4922" class="Symbol">→</a>
  <a id="4926" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="4928" href="/lia/part1/CharacteristicFormulas/#3580" class="Function Operator">「</a> <a id="4930" href="/lia/part1/CharacteristicFormulas/#4917" class="Bound">p</a> <a id="4932" href="/lia/part1/CharacteristicFormulas/#3580" class="Function Operator">」</a> <a id="4934" href="/lia/part1/CharacteristicFormulas/#4915" class="Bound">ϱ</a> <a id="4936" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="4938" href="/lia/part1/CharacteristicFormulas/#4919" class="Bound">ϱ′</a> <a id="4941" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="4943" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="4946" class="Symbol">→</a>
  <a id="4950" class="Comment">----------</a>
  <a id="4963" href="/lia/part1/CharacteristicFormulas/#4919" class="Bound">ϱ′</a> <a id="4966" href="/lia/part1/CharacteristicFormulas/#4917" class="Bound">p</a> <a id="4968" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="4970" href="/lia/part1/CharacteristicFormulas/#4915" class="Bound">ϱ</a> <a id="4972" href="/lia/part1/CharacteristicFormulas/#4917" class="Bound">p</a>
  
<a id="4977" href="/lia/part1/CharacteristicFormulas/#4894" class="Function">charLit-complete</a> <a id="4994" href="/lia/part1/CharacteristicFormulas/#4994" class="Bound">ϱ</a> <a id="4996" href="/lia/part1/CharacteristicFormulas/#4996" class="Bound">p</a> <a id="4998" href="/lia/part1/CharacteristicFormulas/#4998" class="Bound">ϱ′</a> <a id="5001" href="/lia/part1/CharacteristicFormulas/#5001" class="Bound">⟦「p」ϱ⟧ϱ′≡tt</a>
  <a id="5015" class="Keyword">with</a> <a id="5020" href="/lia/part1/CharacteristicFormulas/#4994" class="Bound">ϱ</a> <a id="5022" href="/lia/part1/CharacteristicFormulas/#4996" class="Bound">p</a>
<a id="5024" class="Symbol">...</a> <a id="5028" class="Symbol">|</a> <a id="5030" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="5033" class="Symbol">=</a> <a id="5035" class="Bound">⟦「p」ϱ⟧ϱ′≡tt</a>
<a id="5047" class="Symbol">...</a> <a id="5051" class="Symbol">|</a> <a id="5053" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="5056" class="Keyword">with</a> <a id="5061" class="Bound">ϱ′</a> <a id="5064" class="Bound">p</a>
<a id="5066" class="Symbol">...</a> <a id="5070" class="Symbol">|</a> <a id="5072" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="5075" class="Symbol">=</a> <a id="5077" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="5081" class="Bound">⟦「p」ϱ⟧ϱ′≡tt</a>
<a id="5093" class="Symbol">...</a> <a id="5097" class="Symbol">|</a> <a id="5099" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="5102" class="Symbol">=</a> <a id="5104" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<div class="examplebox">

  <dl>
    <dt><span id="example:char-lit" class="pandoc-numbering-text example"><strong>Example 2</strong></span></dt>
    <dd>For example, we can compute a positive and a negative characteristic
literal of <code class="language-plaintext highlighter-rouge">ϱ₀</code>:</dd>
  </dl>

  <pre class="Agda"><a id="5267" href="/lia/part1/CharacteristicFormulas/#5267" class="Function">_</a> <a id="5269" class="Symbol">:</a> <a id="5271" href="/lia/part1/CharacteristicFormulas/#3580" class="Function Operator">「</a> <a id="5273" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="5276" href="/lia/part1/CharacteristicFormulas/#3580" class="Function Operator">」</a> <a id="5278" href="/lia/part1/Semantics/#10952" class="Function">ϱ₀</a>  <a id="5282" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="5284" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="5286" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="5288" href="/lia/part1/Semantics/#1229" class="Function">p₀</a>
<a id="5291" class="Symbol">_</a> <a id="5293" class="Symbol">=</a> <a id="5295" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="5301" href="/lia/part1/CharacteristicFormulas/#5301" class="Function">_</a> <a id="5303" class="Symbol">:</a> <a id="5305" href="/lia/part1/CharacteristicFormulas/#3580" class="Function Operator">「</a> <a id="5307" href="/lia/part1/Semantics/#1235" class="Function">p₂</a> <a id="5310" href="/lia/part1/CharacteristicFormulas/#3580" class="Function Operator">」</a> <a id="5312" href="/lia/part1/Semantics/#10952" class="Function">ϱ₀</a>  <a id="5316" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="5318" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="5320" href="/lia/part1/Semantics/#1235" class="Function">p₂</a>
<a id="5323" class="Symbol">_</a> <a id="5325" class="Symbol">=</a> <a id="5327" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

  <p><span class="hidden">∎</span><span class="right-aligned">∎</span></p>

</div>

<h2 id="formulas">
<a class="anchor" href="#formulas" aria-hidden="true"><span class="octicon octicon-link"></span></a>Formulas</h2>

<p>We can now compute the (a) characteristic formula <code class="language-plaintext highlighter-rouge">〔 ϱ 〕</code> of a
valuation <code class="language-plaintext highlighter-rouge">ϱ</code>. The idea is to compute the characteristic literal of
every proposition and then to conjoin all those characteristic literals
with a long conjunction:</p>

<pre class="Agda"><a id="〔_〕"></a><a id="5617" href="/lia/part1/CharacteristicFormulas/#5617" class="Function Operator">〔_〕</a> <a id="5621" class="Symbol">:</a> <a id="5623" href="/lia/part1/Semantics/#10530" class="Function">Val</a> <a id="5627" class="Symbol">→</a> <a id="5629" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a>
<a id="5637" href="/lia/part1/CharacteristicFormulas/#5617" class="Function Operator">〔</a> <a id="5639" href="/lia/part1/CharacteristicFormulas/#5639" class="Bound">ϱ</a> <a id="5641" href="/lia/part1/CharacteristicFormulas/#5617" class="Function Operator">〕</a> <a id="5643" class="Symbol">=</a> <a id="5645" href="/lia/part1/Semantics/#37071" class="Function Operator">⋀</a> <a id="5647" href="/lia/part1/CharacteristicFormulas/#5684" class="Function">literals</a> <a id="5656" class="Keyword">module</a> <a id="CharFormula"></a><a id="5663" href="/lia/part1/CharacteristicFormulas/#5663" class="Module">CharFormula</a> <a id="5675" class="Keyword">where</a>

  <a id="CharFormula.literals"></a><a id="5684" href="/lia/part1/CharacteristicFormulas/#5684" class="Function">literals</a> <a id="5693" class="Symbol">:</a> <a id="5695" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="5703" href="/lia/part0/List/#450" class="Datatype Operator">*</a>
  <a id="5707" href="/lia/part1/CharacteristicFormulas/#5684" class="Function">literals</a> <a id="5716" class="Symbol">=</a> <a id="5718" href="/lia/part0/List/#2362" class="Function">map</a> <a id="5722" class="Symbol">(</a><a id="5723" href="/lia/part1/CharacteristicFormulas/#3580" class="Function Operator">「_」</a> <a id="5727" href="/lia/part1/CharacteristicFormulas/#5639" class="Bound">ϱ</a><a id="5728" class="Symbol">)</a> <a id="5730" href="/lia/part1/Semantics/#2040" class="Function">propNames</a></pre>

<p>(Note how we create a local module named <code class="language-plaintext highlighter-rouge">CharFormula</code> inside the
definition of <code class="language-plaintext highlighter-rouge">〔_〕</code>. This will allow us to reuse the definition of
<code class="language-plaintext highlighter-rouge">literals</code> when proving the correctness of the construction.)
Incidentally, we note that characteristic formulas are conjunctive
formulas, i.e., the only logical connectives are <code class="language-plaintext highlighter-rouge">∧</code> and <code class="language-plaintext highlighter-rouge">¬</code>.</p>

<div class="examplebox">

  <dl>
    <dt><span id="example:char-lit" class="pandoc-numbering-text example"><strong>Example 3</strong></span></dt>
    <dd>For example, we can compute the characteristic formula of <code class="language-plaintext highlighter-rouge">ϱ₀</code>
(automatically, this time):</dd>
  </dl>

  <pre class="Agda"><a id="6228" href="/lia/part1/CharacteristicFormulas/#6228" class="Function">_</a> <a id="6230" class="Symbol">:</a> <a id="6232" href="/lia/part1/Semantics/#1093" class="Function">n</a> <a id="6234" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="6236" class="Number">3</a> <a id="6238" class="Symbol">→</a> <a id="6240" href="/lia/part1/CharacteristicFormulas/#5617" class="Function Operator">〔</a> <a id="6242" href="/lia/part1/Semantics/#10952" class="Function">ϱ₀</a> <a id="6245" href="/lia/part1/CharacteristicFormulas/#5617" class="Function Operator">〕</a> <a id="6247" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="6249" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="6251" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="6253" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="6256" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="6258" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="6260" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="6262" href="/lia/part1/Semantics/#1232" class="Function">p₁</a> <a id="6265" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="6267" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="6269" href="/lia/part1/Semantics/#1235" class="Function">p₂</a> <a id="6272" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="6274" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a>
<a id="6276" class="Symbol">_</a> <a id="6278" class="Symbol">=</a> <a id="6280" class="Symbol">λ{</a><a id="6282" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a> <a id="6287" class="Symbol">→</a> <a id="6289" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a><a id="6293" class="Symbol">}</a></pre>

  <p><span class="hidden">∎</span><span class="right-aligned">∎</span></p>

</div>

<p>Like characteristic literals, also the construction of characteristic
formulas must satisfy the properties of soundness and completeness in
order to be considered correct. Soundness says that the valuation <code class="language-plaintext highlighter-rouge">ϱ</code>
satisfies its own characteristic formula <code class="language-plaintext highlighter-rouge">〔 ϱ 〕</code>:</p>

<pre class="Agda"><a id="charFormula-sound"></a><a id="6599" href="/lia/part1/CharacteristicFormulas/#6599" class="Function">charFormula-sound</a> <a id="6617" class="Symbol">:</a> <a id="6619" class="Symbol">∀</a> <a id="6621" href="/lia/part1/CharacteristicFormulas/#6621" class="Bound">ϱ</a> <a id="6623" class="Symbol">→</a>
  <a id="6627" class="Comment">------------------</a>
  <a id="6648" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="6650" href="/lia/part1/CharacteristicFormulas/#5617" class="Function Operator">〔</a> <a id="6652" href="/lia/part1/CharacteristicFormulas/#6621" class="Bound">ϱ</a> <a id="6654" href="/lia/part1/CharacteristicFormulas/#5617" class="Function Operator">〕</a> <a id="6656" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="6658" href="/lia/part1/CharacteristicFormulas/#6621" class="Bound">ϱ</a> <a id="6660" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="6662" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a>
  
<a id="6668" href="/lia/part1/CharacteristicFormulas/#6599" class="Function">charFormula-sound</a> <a id="6686" href="/lia/part1/CharacteristicFormulas/#6686" class="Bound">ϱ</a> <a id="6688" class="Symbol">=</a> <a id="6690" href="/lia/part1/Semantics/#37605" class="Function">conjProp2</a> <a id="6700" href="/lia/part1/CharacteristicFormulas/#5684" class="Function">literals</a> <a id="6709" href="/lia/part1/CharacteristicFormulas/#6686" class="Bound">ϱ</a> <a id="6711" href="/lia/part1/CharacteristicFormulas/#6745" class="Function">go</a> <a id="6714" class="Keyword">where</a>

  <a id="6723" class="Keyword">open</a> <a id="6728" href="/lia/part1/CharacteristicFormulas/#5663" class="Module">CharFormula</a> <a id="6740" href="/lia/part1/CharacteristicFormulas/#6686" class="Bound">ϱ</a>

  <a id="6745" href="/lia/part1/CharacteristicFormulas/#6745" class="Function">go</a> <a id="6748" class="Symbol">:</a> <a id="6750" href="/lia/part0/List/#8771" class="Function">∀[</a> <a id="6753" href="/lia/part1/CharacteristicFormulas/#6753" class="Bound">φ</a> <a id="6755" href="/lia/part0/List/#8771" class="Function">∈</a> <a id="6757" href="/lia/part1/CharacteristicFormulas/#5684" class="Function">literals</a> <a id="6766" href="/lia/part0/List/#8771" class="Function">]</a> <a id="6768" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="6770" href="/lia/part1/CharacteristicFormulas/#6753" class="Bound">φ</a> <a id="6772" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="6774" href="/lia/part1/CharacteristicFormulas/#6686" class="Bound">ϱ</a> <a id="6776" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="6778" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a>
  <a id="6783" href="/lia/part1/CharacteristicFormulas/#6745" class="Function">go</a> <a id="6786" class="Symbol">{</a><a id="6787" href="/lia/part1/CharacteristicFormulas/#6787" class="Bound">φ</a><a id="6788" class="Symbol">}</a> <a id="6790" href="/lia/part1/CharacteristicFormulas/#6790" class="Bound">φ∈literals</a>
    <a id="6805" class="Keyword">with</a> <a id="6810" href="/lia/part0/List/#12712" class="Function">map-∈-inv</a> <a id="6820" class="Symbol">(</a><a id="6821" href="/lia/part1/CharacteristicFormulas/#3580" class="Function Operator">「_」</a> <a id="6825" href="/lia/part1/CharacteristicFormulas/#6686" class="Bound">ϱ</a><a id="6826" class="Symbol">)</a> <a id="6828" href="/lia/part1/CharacteristicFormulas/#6790" class="Bound">φ∈literals</a>
  <a id="6841" class="Symbol">...</a> <a id="6845" class="Symbol">|</a> <a id="6847" href="/lia/part1/CharacteristicFormulas/#6847" class="Bound">p</a> <a id="6849" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="6851" class="Symbol">_</a> <a id="6853" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="6855" href="/lia/part1/CharacteristicFormulas/#6855" class="Bound">φ≡「p」ϱ</a> <a id="6862" class="Symbol">=</a> <a id="6864" href="/lia/part1/CharacteristicFormulas/#6955" class="Function">⟦φ⟧ϱ≡tt</a> <a id="6872" class="Keyword">where</a>

    <a id="6883" href="/lia/part1/CharacteristicFormulas/#6883" class="Function">⟦「p」ϱ⟧ϱ≡tt</a> <a id="6894" class="Symbol">:</a> <a id="6896" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="6898" href="/lia/part1/CharacteristicFormulas/#3580" class="Function Operator">「</a> <a id="6900" href="/lia/part1/CharacteristicFormulas/#6847" class="Bound">p</a> <a id="6902" href="/lia/part1/CharacteristicFormulas/#3580" class="Function Operator">」</a> <a id="6904" href="/lia/part1/CharacteristicFormulas/#6686" class="Bound">ϱ</a> <a id="6906" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="6908" href="/lia/part1/CharacteristicFormulas/#6686" class="Bound">ϱ</a> <a id="6910" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="6912" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a>
    <a id="6919" href="/lia/part1/CharacteristicFormulas/#6883" class="Function">⟦「p」ϱ⟧ϱ≡tt</a> <a id="6930" class="Symbol">=</a> <a id="6932" href="/lia/part1/CharacteristicFormulas/#3974" class="Function">charLit-sound</a> <a id="6946" href="/lia/part1/CharacteristicFormulas/#6686" class="Bound">ϱ</a> <a id="6948" href="/lia/part1/CharacteristicFormulas/#6847" class="Bound">p</a>

    <a id="6955" href="/lia/part1/CharacteristicFormulas/#6955" class="Function">⟦φ⟧ϱ≡tt</a> <a id="6963" class="Symbol">:</a> <a id="6965" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="6967" class="Bound">φ</a> <a id="6969" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="6971" href="/lia/part1/CharacteristicFormulas/#6686" class="Bound">ϱ</a> <a id="6973" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="6975" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a>
    <a id="6982" href="/lia/part1/CharacteristicFormulas/#6955" class="Function">⟦φ⟧ϱ≡tt</a> <a id="6990" class="Keyword">rewrite</a> <a id="6998" href="/lia/part1/CharacteristicFormulas/#6855" class="Bound">φ≡「p」ϱ</a> <a id="7005" class="Symbol">|</a> <a id="7007" href="/lia/part1/CharacteristicFormulas/#6883" class="Function">⟦「p」ϱ⟧ϱ≡tt</a> <a id="7018" class="Symbol">=</a> <a id="7020" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<p>(We open the local module <code class="language-plaintext highlighter-rouge">CharFormula</code> in order to use the definition
of <code class="language-plaintext highlighter-rouge">literals</code> from <code class="language-plaintext highlighter-rouge">〔_〕</code>.)s Completeness says that, if any valuation
<code class="language-plaintext highlighter-rouge">ϱ′</code> satisfies the characteristic formula <code class="language-plaintext highlighter-rouge">〔 ϱ 〕</code> of a valuation <code class="language-plaintext highlighter-rouge">ϱ</code>,
then <code class="language-plaintext highlighter-rouge">ϱ′ ≡ ϱ</code>.</p>

<pre class="Agda"><a id="charFormula-complete"></a><a id="7260" href="/lia/part1/CharacteristicFormulas/#7260" class="Function">charFormula-complete</a> <a id="7281" class="Symbol">:</a> <a id="7283" class="Symbol">∀</a> <a id="7285" href="/lia/part1/CharacteristicFormulas/#7285" class="Bound">ϱ</a> <a id="7287" href="/lia/part1/CharacteristicFormulas/#7287" class="Bound">ϱ′</a> <a id="7290" class="Symbol">→</a>
  <a id="7294" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="7296" href="/lia/part1/CharacteristicFormulas/#5617" class="Function Operator">〔</a> <a id="7298" href="/lia/part1/CharacteristicFormulas/#7285" class="Bound">ϱ</a> <a id="7300" href="/lia/part1/CharacteristicFormulas/#5617" class="Function Operator">〕</a> <a id="7302" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="7304" href="/lia/part1/CharacteristicFormulas/#7287" class="Bound">ϱ′</a> <a id="7307" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="7309" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="7312" class="Symbol">→</a>
  <a id="7316" class="Comment">-----------------</a>
  <a id="7336" href="/lia/part1/CharacteristicFormulas/#7287" class="Bound">ϱ′</a> <a id="7339" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="7341" href="/lia/part1/CharacteristicFormulas/#7285" class="Bound">ϱ</a>
  
<a id="7346" href="/lia/part1/CharacteristicFormulas/#7260" class="Function">charFormula-complete</a> <a id="7367" href="/lia/part1/CharacteristicFormulas/#7367" class="Bound">ϱ</a> <a id="7369" href="/lia/part1/CharacteristicFormulas/#7369" class="Bound">ϱ′</a> <a id="7372" href="/lia/part1/CharacteristicFormulas/#7372" class="Bound">⟦φ⟧ϱ′≡tt</a> <a id="7381" class="Symbol">=</a> <a id="7383" href="/lia/part0/Equality/#2007" class="Postulate">extensionality</a> <a id="7398" href="/lia/part1/CharacteristicFormulas/#7410" class="Function">go</a> <a id="7401" class="Keyword">where</a>

  <a id="7410" href="/lia/part1/CharacteristicFormulas/#7410" class="Function">go</a> <a id="7413" class="Symbol">:</a> <a id="7415" href="/lia/part0/Logic/#216" class="Function">∀[</a> <a id="7418" href="/lia/part1/CharacteristicFormulas/#7418" class="Bound">p</a> <a id="7420" href="/lia/part0/Logic/#216" class="Function">]</a> <a id="7422" href="/lia/part1/CharacteristicFormulas/#7369" class="Bound">ϱ′</a> <a id="7425" href="/lia/part1/CharacteristicFormulas/#7418" class="Bound">p</a> <a id="7427" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="7429" href="/lia/part1/CharacteristicFormulas/#7367" class="Bound">ϱ</a> <a id="7431" href="/lia/part1/CharacteristicFormulas/#7418" class="Bound">p</a>
  <a id="7435" href="/lia/part1/CharacteristicFormulas/#7410" class="Function">go</a> <a id="7438" href="/lia/part1/CharacteristicFormulas/#7438" class="Bound">p</a> <a id="7440" class="Symbol">=</a> <a id="7442" href="/lia/part1/CharacteristicFormulas/#4894" class="Function">charLit-complete</a> <a id="7459" href="/lia/part1/CharacteristicFormulas/#7367" class="Bound">ϱ</a> <a id="7461" href="/lia/part1/CharacteristicFormulas/#7438" class="Bound">p</a> <a id="7463" href="/lia/part1/CharacteristicFormulas/#7369" class="Bound">ϱ′</a> <a id="7466" class="Symbol">(</a><a id="7467" href="/lia/part1/Semantics/#37509" class="Function">conjProp1</a> <a id="7477" href="/lia/part1/CharacteristicFormulas/#5684" class="Function">literals</a> <a id="7486" href="/lia/part1/CharacteristicFormulas/#7369" class="Bound">ϱ′</a> <a id="7489" href="/lia/part1/CharacteristicFormulas/#7372" class="Bound">⟦φ⟧ϱ′≡tt</a> <a id="7498" href="/lia/part1/CharacteristicFormulas/#7544" class="Function">∈literals</a><a id="7507" class="Symbol">)</a> <a id="7509" class="Keyword">where</a>

    <a id="7520" class="Keyword">open</a> <a id="7525" href="/lia/part1/CharacteristicFormulas/#5663" class="Module">CharFormula</a> <a id="7537" href="/lia/part1/CharacteristicFormulas/#7367" class="Bound">ϱ</a>

    <a id="7544" href="/lia/part1/CharacteristicFormulas/#7544" class="Function">∈literals</a> <a id="7554" class="Symbol">:</a> <a id="7556" href="/lia/part1/CharacteristicFormulas/#3580" class="Function Operator">「</a> <a id="7558" href="/lia/part1/CharacteristicFormulas/#7438" class="Bound">p</a> <a id="7560" href="/lia/part1/CharacteristicFormulas/#3580" class="Function Operator">」</a> <a id="7562" href="/lia/part1/CharacteristicFormulas/#7367" class="Bound">ϱ</a> <a id="7564" href="/lia/part0/List/#7140" class="Datatype Operator">∈</a> <a id="7566" href="/lia/part1/CharacteristicFormulas/#5684" class="Function">literals</a>
    <a id="7579" href="/lia/part1/CharacteristicFormulas/#7544" class="Function">∈literals</a> <a id="7589" class="Symbol">=</a> <a id="7591" href="/lia/part0/List/#12380" class="Function">map-∈</a> <a id="7597" class="Symbol">(</a><a id="7598" href="/lia/part1/CharacteristicFormulas/#3580" class="Function Operator">「_」</a> <a id="7602" href="/lia/part1/CharacteristicFormulas/#7367" class="Bound">ϱ</a><a id="7603" class="Symbol">)</a> <a id="7605" class="Symbol">(</a><a id="7606" href="/lia/part1/Semantics/#2081" class="Function">findPropName</a> <a id="7619" href="/lia/part1/CharacteristicFormulas/#7438" class="Bound">p</a><a id="7620" class="Symbol">)</a></pre>

<p>Soundness and completeness taken together ensure that <code class="language-plaintext highlighter-rouge">〔 ϱ 〕</code> is a
characteristic formula of <code class="language-plaintext highlighter-rouge">ϱ</code>:</p>

<div class="theorembox">

  <dl>
    <dt><span id="theorem:char-formula" class="pandoc-numbering-text theorem"><strong>Theorem 1</strong> <em>(Characteristic formulas)</em></span></dt>
    <dd>For every valuation <code class="language-plaintext highlighter-rouge">ϱ</code> there exists a characteristic formula
<code class="language-plaintext highlighter-rouge">〔 ϱ 〕</code> thereof:</dd>
  </dl>

  <pre class="Agda"><a id="thCharFormula"></a><a id="7878" href="/lia/part1/CharacteristicFormulas/#7878" class="Function">thCharFormula</a> <a id="7892" class="Symbol">:</a> <a id="7894" class="Symbol">∀</a> <a id="7896" href="/lia/part1/CharacteristicFormulas/#7896" class="Bound">ϱ</a> <a id="7898" class="Symbol">→</a>
  <a id="7902" class="Comment">-----------------------</a>
  <a id="7928" href="/lia/part1/CharacteristicFormulas/#5617" class="Function Operator">〔</a> <a id="7930" href="/lia/part1/CharacteristicFormulas/#7896" class="Bound">ϱ</a> <a id="7932" href="/lia/part1/CharacteristicFormulas/#5617" class="Function Operator">〕</a> <a id="7934" href="/lia/part1/CharacteristicFormulas/#641" class="Function Operator">CharFormulaOf</a> <a id="7948" href="/lia/part1/CharacteristicFormulas/#7896" class="Bound">ϱ</a>
  
<a id="7953" href="/lia/part1/CharacteristicFormulas/#7878" class="Function">thCharFormula</a> <a id="7967" href="/lia/part1/CharacteristicFormulas/#7967" class="Bound">ϱ</a> <a id="7969" class="Symbol">=</a> <a id="7971" href="/lia/part1/CharacteristicFormulas/#6599" class="Function">charFormula-sound</a> <a id="7989" href="/lia/part1/CharacteristicFormulas/#7967" class="Bound">ϱ</a> <a id="7991" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="7993" href="/lia/part1/CharacteristicFormulas/#7260" class="Function">charFormula-complete</a> <a id="8014" href="/lia/part1/CharacteristicFormulas/#7967" class="Bound">ϱ</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<p>Characteristic formulas will be instrumental in the next section in
order to show that propositional formulas are functionally complete, in
the sense that every Boolean function can be represented as the
semantics of a propositional formula.</p>

<h1 id="Functional-Completeness">
<a class="anchor" href="#Functional-Completeness" aria-hidden="true"><span class="octicon octicon-link"></span></a>Functional completeness</h1>

<p>The type of the semantic function is <code class="language-plaintext highlighter-rouge">⟦_⟧_ : Formula → Val → 𝔹</code>. Once we
fix a formula <code class="language-plaintext highlighter-rouge">φ</code>, it becomes <code class="language-plaintext highlighter-rouge">⟦ φ ⟧_ : Val → 𝔹</code>, which is the type of a
<em>Boolean function</em>, i.e., a mapping that takes in input a valuation
<code class="language-plaintext highlighter-rouge">Val</code> and produces a Boolean value <code class="language-plaintext highlighter-rouge">𝔹</code>:</p>

<pre class="Agda"><a id="𝔹Fun"></a><a id="8588" href="/lia/part1/CharacteristicFormulas/#8588" class="Function">𝔹Fun</a> <a id="8593" class="Symbol">=</a> <a id="8595" href="/lia/part1/Semantics/#10530" class="Function">Val</a> <a id="8599" class="Symbol">→</a> <a id="8601" href="/lia/part0/Booleans/#211" class="Datatype">𝔹</a></pre>

<p>The question arises whether every Boolean function can be represented as
the semantics <code class="language-plaintext highlighter-rouge">⟦ φ ⟧_</code> of some propositional formula <code class="language-plaintext highlighter-rouge">φ</code>. We will see
shortly that this is the case. We will also be interested to put
restrictions on the connectives that we are allowed to use in order to
build <code class="language-plaintext highlighter-rouge">φ</code>. A set of connectives is <em>functionally complete</em> if any
Boolean function can be expressed by a formula using only connectives in
the set:</p>

<pre class="Agda"><a id="FunctionallyComplete"></a><a id="9040" href="/lia/part1/CharacteristicFormulas/#9040" class="Function">FunctionallyComplete</a> <a id="9061" class="Symbol">:</a> <a id="9063" class="Symbol">(</a><a id="9064" href="/lia/part1/CharacteristicFormulas/#9064" class="Bound">Fragment</a> <a id="9073" class="Symbol">:</a> <a id="9075" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="9083" class="Symbol">→</a> <a id="9085" class="PrimitiveType">Set</a><a id="9088" class="Symbol">)</a> <a id="9090" class="Symbol">→</a> <a id="9092" class="PrimitiveType">Set</a>
<a id="9096" href="/lia/part1/CharacteristicFormulas/#9040" class="Function">FunctionallyComplete</a> <a id="9117" href="/lia/part1/CharacteristicFormulas/#9117" class="Bound">Fragment</a> <a id="9126" class="Symbol">=</a> <a id="9128" href="/lia/part0/Logic/#216" class="Function">∀[</a> <a id="9131" href="/lia/part1/CharacteristicFormulas/#9131" class="Bound">f</a> <a id="9133" href="/lia/part0/Logic/#216" class="Function">]</a> <a id="9135" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="9138" href="/lia/part1/CharacteristicFormulas/#9138" class="Bound">φ</a> <a id="9140" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="9142" class="Symbol">(</a><a id="9143" href="/lia/part1/CharacteristicFormulas/#9117" class="Bound">Fragment</a> <a id="9152" href="/lia/part1/CharacteristicFormulas/#9138" class="Bound">φ</a> <a id="9154" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="9156" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="9158" href="/lia/part1/CharacteristicFormulas/#9138" class="Bound">φ</a> <a id="9160" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧_</a> <a id="9163" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="9165" href="/lia/part1/CharacteristicFormulas/#9131" class="Bound">f</a><a id="9166" class="Symbol">)</a></pre>

<p>In this section we explore which set of connectives is functionally
complete.</p>

<h2 id="fragment">
<a class="anchor" href="#fragment" aria-hidden="true"><span class="octicon octicon-link"></span></a>Fragment <code class="language-plaintext highlighter-rouge">{∨, ∧, ¬, ⊤, ⊥}</code>
</h2>

<p>We consider the fragment consisting only of conjunction, disjunction,
negation, true, and false. Thus, w.r.t. the full syntax of propositional
formulas, we do not allow either implication <code class="language-plaintext highlighter-rouge">⇒</code>, or bi-implication <code class="language-plaintext highlighter-rouge">⇔</code>.
Formally, this fragment is defined as the following inductive datatype:</p>

<p>In the following, fix an arbitrary Boolean function <code class="language-plaintext highlighter-rouge">f : 𝔹Fun</code>. We want
to build a formula <code class="language-plaintext highlighter-rouge">φ</code> in the fragment whose semantics equals that of
<code class="language-plaintext highlighter-rouge">f</code>:</p>

<pre class="Agda"><a id="funCompl[⊥,⊤,¬,∨,∧]"></a><a id="9729" href="/lia/part1/CharacteristicFormulas/#9729" class="Function">funCompl[⊥,⊤,¬,∨,∧]</a> <a id="9749" class="Symbol">:</a> <a id="9751" href="/lia/part1/CharacteristicFormulas/#9040" class="Function">FunctionallyComplete</a> <a id="9772" href="/lia/part1/Semantics/#56454" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a></pre>

<p>We will achieve this in three steps:</p>

<ol>
  <li>We build the formula <code class="language-plaintext highlighter-rouge">φ</code> corresponding to <code class="language-plaintext highlighter-rouge">f</code>.</li>
  <li>We show that <code class="language-plaintext highlighter-rouge">φ</code> is in the fragment.</li>
  <li>We show that the formula <code class="language-plaintext highlighter-rouge">φ</code> is indeed equivalent to <code class="language-plaintext highlighter-rouge">f</code>.</li>
</ol>

<p><em>Step 1</em>. The construction of the formula is based on the characteristic
formulas from the previous section. Namely, we consider all valuations
<code class="language-plaintext highlighter-rouge">ϱ</code> s.t. <code class="language-plaintext highlighter-rouge">f ϱ ≡ tt</code> and we take the disjunction of their characteristic
formulas:</p>

<pre class="Agda"><a id="fun→formula"></a><a id="10217" href="/lia/part1/CharacteristicFormulas/#10217" class="Function">fun→formula</a> <a id="10229" class="Symbol">:</a> <a id="10231" href="/lia/part1/CharacteristicFormulas/#8588" class="Function">𝔹Fun</a> <a id="10236" class="Symbol">→</a> <a id="10238" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a>
<a id="10246" href="/lia/part1/CharacteristicFormulas/#10217" class="Function">fun→formula</a> <a id="10258" href="/lia/part1/CharacteristicFormulas/#10258" class="Bound">f</a> <a id="10260" class="Symbol">=</a> <a id="10262" href="/lia/part1/Semantics/#38679" class="Function Operator">⋁</a> <a id="10264" href="/lia/part1/CharacteristicFormulas/#10337" class="Function">φs</a> <a id="10267" class="Keyword">module</a> <a id="𝔹Fun→Formula"></a><a id="10274" href="/lia/part1/CharacteristicFormulas/#10274" class="Module">𝔹Fun→Formula</a> <a id="10287" class="Keyword">where</a>

  <a id="𝔹Fun→Formula.ttVals"></a><a id="10296" href="/lia/part1/CharacteristicFormulas/#10296" class="Function">ttVals</a> <a id="10303" class="Symbol">=</a> <a id="10305" href="/lia/part0/List/#4554" class="Function">filter</a> <a id="10312" class="Symbol">(λ</a> <a id="10315" href="/lia/part1/CharacteristicFormulas/#10315" class="Bound">ϱ</a> <a id="10317" class="Symbol">→</a> <a id="10319" href="/lia/part1/CharacteristicFormulas/#10258" class="Bound">f</a> <a id="10321" href="/lia/part1/CharacteristicFormulas/#10315" class="Bound">ϱ</a> <a id="10323" href="/lia/part0/Equality/#2212" class="Field Operator">≡?</a> <a id="10326" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a><a id="10328" class="Symbol">)</a> <a id="10330" href="/lia/part1/Semantics/#11231" class="Function">vals</a>
  <a id="𝔹Fun→Formula.φs"></a><a id="10337" href="/lia/part1/CharacteristicFormulas/#10337" class="Function">φs</a> <a id="10340" class="Symbol">=</a> <a id="10342" href="/lia/part0/List/#2362" class="Function">map</a> <a id="10346" href="/lia/part1/CharacteristicFormulas/#5617" class="Function Operator">〔_〕</a> <a id="10350" href="/lia/part1/CharacteristicFormulas/#10296" class="Function">ttVals</a></pre>

<p>(We give a module name <code class="language-plaintext highlighter-rouge">𝔹Fun→Formula</code> in the internal declarations of
<code class="language-plaintext highlighter-rouge">ttVals</code> and <code class="language-plaintext highlighter-rouge">φs</code> above in order to be able to reuse them later on.</p>

<div class="examplebox">

  <dl>
    <dt><span id="example:example-fun2formula" class="pandoc-numbering-text example"><strong>Example 4</strong></span></dt>
    <dd>For instance, consider the following Boolean function that returns
true iff all its inputs are equal, and false otherwise:</dd>
  </dl>

  <pre class="Agda"><a id="f₀"></a><a id="10686" href="/lia/part1/CharacteristicFormulas/#10686" class="Function">f₀</a> <a id="10689" class="Symbol">:</a> <a id="10691" href="/lia/part1/CharacteristicFormulas/#8588" class="Function">𝔹Fun</a>
<a id="10696" href="/lia/part1/CharacteristicFormulas/#10686" class="Function">f₀</a> <a id="10699" href="/lia/part1/CharacteristicFormulas/#10699" class="Bound">ϱ</a> <a id="10701" class="Symbol">=</a> <a id="10703" href="/lia/part0/List/#3964" class="Function">foldr</a> <a id="10709" class="Symbol">(λ</a> <a id="10712" href="/lia/part1/CharacteristicFormulas/#10712" class="Bound">b₀</a> <a id="10715" href="/lia/part1/CharacteristicFormulas/#10715" class="Bound">b₁</a> <a id="10718" class="Symbol">→</a> <a id="10720" href="/lia/part1/CharacteristicFormulas/#10715" class="Bound">b₁</a> <a id="10723" href="/lia/part0/Booleans/#829" class="Function Operator">∧𝔹</a> <a id="10726" href="/lia/part0/Booleans/#266" class="Function Operator">⌞</a> <a id="10728" href="/lia/part1/CharacteristicFormulas/#10712" class="Bound">b₀</a> <a id="10731" href="/lia/part0/Equality/#2212" class="Field Operator">≡?</a> <a id="10734" href="/lia/part1/CharacteristicFormulas/#10699" class="Bound">ϱ</a> <a id="10736" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="10739" href="/lia/part0/Booleans/#266" class="Function Operator">⌟</a><a id="10740" class="Symbol">)</a> <a id="10742" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="10745" class="Symbol">(</a><a id="10746" href="/lia/part0/List/#2362" class="Function">map</a> <a id="10750" href="/lia/part1/CharacteristicFormulas/#10699" class="Bound">ϱ</a> <a id="10752" href="/lia/part1/Semantics/#2040" class="Function">propNames</a><a id="10761" class="Symbol">)</a></pre>

  <p>We can construct the corresponding formula in the special case of three
propositional variables (the application of <a href="#simplify"><code class="language-plaintext highlighter-rouge">simplify</code></a>
removes some redundant <a href="#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> and <a href="#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a>
constants):</p>

  <pre class="Agda"><a id="10977" href="/lia/part1/CharacteristicFormulas/#10977" class="Function">_</a> <a id="10979" class="Symbol">:</a> <a id="10981" href="/lia/part1/Semantics/#1093" class="Function">n</a> <a id="10983" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="10985" class="Number">3</a> <a id="10987" class="Symbol">→</a> <a id="10989" href="/lia/part1/Semantics/#52042" class="Function">simplify</a> <a id="10998" class="Symbol">(</a><a id="10999" href="/lia/part1/CharacteristicFormulas/#10217" class="Function">fun→formula</a> <a id="11011" href="/lia/part1/CharacteristicFormulas/#10686" class="Function">f₀</a><a id="11013" class="Symbol">)</a> <a id="11015" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a>
  <a id="11019" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="11021" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="11024" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="11026" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="11028" href="/lia/part1/Semantics/#1232" class="Function">p₁</a> <a id="11031" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="11033" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="11035" href="/lia/part1/Semantics/#1235" class="Function">p₂</a> <a id="11038" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a>
    <a id="11044" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="11046" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="11048" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="11051" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="11053" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="11055" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="11057" href="/lia/part1/Semantics/#1232" class="Function">p₁</a> <a id="11060" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="11062" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="11064" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="11066" href="/lia/part1/Semantics/#1235" class="Function">p₂</a>
<a id="11069" class="Symbol">_</a> <a id="11071" class="Symbol">=</a> <a id="11073" class="Symbol">λ{</a> <a id="11076" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a> <a id="11081" class="Symbol">→</a> <a id="11083" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a><a id="11087" class="Symbol">}</a></pre>

  <p><span class="hidden">∎</span><span class="right-aligned">∎</span></p>

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:fun2formula" class="pandoc-numbering-text exercise"><strong>Exercise 2</strong> <em>(The xor function)</em></span></dt>
    <dd>Define the Boolean function that computes the exclusive-or (xor) of
its inputs and compute the corresponding formula with the help of
<code class="language-plaintext highlighter-rouge">fun→formula</code>. <span class="hidden">∎</span> <span class="right-aligned">∎</span>
</dd>
  </dl>

  <!--
::::::: {.solutionlink}
[solution](#exercise:fun2formula-solution)
:::::::
-->

</div>

<p><em>Step 2</em>. In the second step we show that <a href="#fun%E2%86%92formula"><code class="language-plaintext highlighter-rouge">fun→formula</code></a>
outputs a formula in the <a href="#Formula%5B%E2%8A%A5,%E2%8A%A4,%C2%AC,%E2%88%A8,%E2%88%A7%5D"><code class="language-plaintext highlighter-rouge">Formula[⊥,⊤,¬,∨,∧]</code></a>
fragment. In fact, it more natural to show the stronger fact that the
<a href="#Formula%5B%E2%8A%A5,%E2%8A%A4,%C2%AC,%E2%88%A8,%E2%88%A7%5D"><code class="language-plaintext highlighter-rouge">Formula[⊥,⊤,¬,∨,∧]</code></a> fragment is closed under
long conjunctions and disjunctions:</p>

<pre class="Agda"><a id="Formula[⊥,⊤,¬,∨,∧]-⋀-closed"></a><a id="11965" href="/lia/part1/CharacteristicFormulas/#11965" class="Function">Formula[⊥,⊤,¬,∨,∧]-⋀-closed</a> <a id="11993" class="Symbol">:</a> <a id="11995" class="Symbol">∀</a> <a id="11997" href="/lia/part1/CharacteristicFormulas/#11997" class="Bound">φs</a> <a id="12000" class="Symbol">→</a> <a id="12002" href="/lia/part0/List/#8771" class="Function">All</a> <a id="12006" href="/lia/part1/Semantics/#56454" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="12025" href="/lia/part1/CharacteristicFormulas/#11997" class="Bound">φs</a> <a id="12028" class="Symbol">→</a> <a id="12030" href="/lia/part1/Semantics/#56454" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="12049" class="Symbol">(</a><a id="12050" href="/lia/part1/Semantics/#37071" class="Function Operator">⋀</a> <a id="12052" href="/lia/part1/CharacteristicFormulas/#11997" class="Bound">φs</a><a id="12054" class="Symbol">)</a>
<a id="12056" href="/lia/part1/CharacteristicFormulas/#11965" class="Function">Formula[⊥,⊤,¬,∨,∧]-⋀-closed</a> <a id="12084" href="/lia/part0/List/#487" class="InductiveConstructor">ε</a> <a id="12086" href="/lia/part1/CharacteristicFormulas/#12086" class="Bound">all</a> <a id="12090" class="Symbol">=</a> <a id="12092" href="/lia/part1/Semantics/#56524" class="InductiveConstructor">⊤</a>
<a id="12094" href="/lia/part1/CharacteristicFormulas/#11965" class="Function">Formula[⊥,⊤,¬,∨,∧]-⋀-closed</a> <a id="12122" class="Symbol">(</a><a id="12123" href="/lia/part1/CharacteristicFormulas/#12123" class="Bound">φ</a> <a id="12125" href="/lia/part0/List/#499" class="InductiveConstructor Operator">∷</a> <a id="12127" href="/lia/part1/CharacteristicFormulas/#12127" class="Bound">φs</a><a id="12129" class="Symbol">)</a> <a id="12131" href="/lia/part1/CharacteristicFormulas/#12131" class="Bound">all</a>
  <a id="12137" class="Keyword">with</a> <a id="12142" href="/lia/part1/CharacteristicFormulas/#11965" class="Function">Formula[⊥,⊤,¬,∨,∧]-⋀-closed</a> <a id="12170" href="/lia/part1/CharacteristicFormulas/#12127" class="Bound">φs</a> <a id="12173" class="Symbol">(λ</a> <a id="12176" href="/lia/part1/CharacteristicFormulas/#12176" class="Bound">φ∈φs</a> <a id="12181" class="Symbol">→</a> <a id="12183" href="/lia/part1/CharacteristicFormulas/#12131" class="Bound">all</a> <a id="12187" class="Symbol">(</a><a id="12188" href="/lia/part0/List/#7229" class="InductiveConstructor">there</a> <a id="12194" href="/lia/part1/CharacteristicFormulas/#12176" class="Bound">φ∈φs</a><a id="12198" class="Symbol">))</a>
<a id="12201" class="Symbol">...</a> <a id="12205" class="Symbol">|</a> <a id="12207" href="/lia/part1/CharacteristicFormulas/#12207" class="Bound">ind</a> <a id="12211" class="Symbol">=</a> <a id="12213" class="Bound">all</a> <a id="12217" href="/lia/part0/List/#7186" class="InductiveConstructor">here</a> <a id="12222" href="/lia/part1/Semantics/#56652" class="InductiveConstructor Operator">∧</a> <a id="12224" href="/lia/part1/CharacteristicFormulas/#12207" class="Bound">ind</a>

<a id="Formula[⊥,⊤,¬,∨,∧]-⋁-closed"></a><a id="12229" href="/lia/part1/CharacteristicFormulas/#12229" class="Function">Formula[⊥,⊤,¬,∨,∧]-⋁-closed</a> <a id="12257" class="Symbol">:</a> <a id="12259" class="Symbol">∀</a> <a id="12261" href="/lia/part1/CharacteristicFormulas/#12261" class="Bound">φs</a> <a id="12264" class="Symbol">→</a> <a id="12266" href="/lia/part0/List/#8771" class="Function">All</a> <a id="12270" href="/lia/part1/Semantics/#56454" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="12289" href="/lia/part1/CharacteristicFormulas/#12261" class="Bound">φs</a> <a id="12292" class="Symbol">→</a> <a id="12294" href="/lia/part1/Semantics/#56454" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="12313" class="Symbol">(</a><a id="12314" href="/lia/part1/Semantics/#38679" class="Function Operator">⋁</a> <a id="12316" href="/lia/part1/CharacteristicFormulas/#12261" class="Bound">φs</a><a id="12318" class="Symbol">)</a>
<a id="12320" href="/lia/part1/CharacteristicFormulas/#12229" class="Function">Formula[⊥,⊤,¬,∨,∧]-⋁-closed</a> <a id="12348" href="/lia/part0/List/#487" class="InductiveConstructor">ε</a> <a id="12350" href="/lia/part1/CharacteristicFormulas/#12350" class="Bound">all</a> <a id="12354" class="Symbol">=</a> <a id="12356" href="/lia/part1/Semantics/#56497" class="InductiveConstructor">⊥</a>
<a id="12358" href="/lia/part1/CharacteristicFormulas/#12229" class="Function">Formula[⊥,⊤,¬,∨,∧]-⋁-closed</a> <a id="12386" class="Symbol">(</a><a id="12387" href="/lia/part1/CharacteristicFormulas/#12387" class="Bound">φ</a> <a id="12389" href="/lia/part0/List/#499" class="InductiveConstructor Operator">∷</a> <a id="12391" href="/lia/part1/CharacteristicFormulas/#12391" class="Bound">φs</a><a id="12393" class="Symbol">)</a> <a id="12395" href="/lia/part1/CharacteristicFormulas/#12395" class="Bound">all</a>
  <a id="12401" class="Keyword">with</a> <a id="12406" href="/lia/part1/CharacteristicFormulas/#12229" class="Function">Formula[⊥,⊤,¬,∨,∧]-⋁-closed</a> <a id="12434" href="/lia/part1/CharacteristicFormulas/#12391" class="Bound">φs</a> <a id="12437" class="Symbol">(λ</a> <a id="12440" href="/lia/part1/CharacteristicFormulas/#12440" class="Bound">φ∈φs</a> <a id="12445" class="Symbol">→</a> <a id="12447" href="/lia/part1/CharacteristicFormulas/#12395" class="Bound">all</a> <a id="12451" class="Symbol">(</a><a id="12452" href="/lia/part0/List/#7229" class="InductiveConstructor">there</a> <a id="12458" href="/lia/part1/CharacteristicFormulas/#12440" class="Bound">φ∈φs</a><a id="12462" class="Symbol">))</a>
<a id="12465" class="Symbol">...</a> <a id="12469" class="Symbol">|</a> <a id="12471" href="/lia/part1/CharacteristicFormulas/#12471" class="Bound">ind</a> <a id="12475" class="Symbol">=</a> <a id="12477" class="Bound">all</a> <a id="12481" href="/lia/part0/List/#7186" class="InductiveConstructor">here</a> <a id="12486" href="/lia/part1/Semantics/#56747" class="InductiveConstructor Operator">∨</a> <a id="12488" href="/lia/part1/CharacteristicFormulas/#12471" class="Bound">ind</a></pre>

<p>Characteristic literals obviously are in the fragment:</p>

<pre class="Agda"><a id="charLit-fragment"></a><a id="12557" href="/lia/part1/CharacteristicFormulas/#12557" class="Function">charLit-fragment</a> <a id="12574" class="Symbol">:</a> <a id="12576" class="Symbol">∀</a> <a id="12578" href="/lia/part1/CharacteristicFormulas/#12578" class="Bound">ϱ</a> <a id="12580" href="/lia/part1/CharacteristicFormulas/#12580" class="Bound">p</a> <a id="12582" class="Symbol">→</a> <a id="12584" href="/lia/part1/Semantics/#56454" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="12603" class="Symbol">(</a><a id="12604" href="/lia/part1/CharacteristicFormulas/#3580" class="Function Operator">「</a> <a id="12606" href="/lia/part1/CharacteristicFormulas/#12580" class="Bound">p</a> <a id="12608" href="/lia/part1/CharacteristicFormulas/#3580" class="Function Operator">」</a> <a id="12610" href="/lia/part1/CharacteristicFormulas/#12578" class="Bound">ϱ</a> <a id="12612" class="Symbol">)</a>
<a id="12614" href="/lia/part1/CharacteristicFormulas/#12557" class="Function">charLit-fragment</a> <a id="12631" href="/lia/part1/CharacteristicFormulas/#12631" class="Bound">ϱ</a> <a id="12633" href="/lia/part1/CharacteristicFormulas/#12633" class="Bound">p</a> <a id="12635" class="Keyword">with</a> <a id="12640" href="/lia/part1/CharacteristicFormulas/#12631" class="Bound">ϱ</a> <a id="12642" href="/lia/part1/CharacteristicFormulas/#12633" class="Bound">p</a>
<a id="12644" class="Symbol">...</a> <a id="12648" class="Symbol">|</a> <a id="12650" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="12653" class="Symbol">=</a> <a id="12655" href="/lia/part1/Semantics/#56551" class="InductiveConstructor Operator">`</a> <a id="12657" class="Bound">p</a>
<a id="12659" class="Symbol">...</a> <a id="12663" class="Symbol">|</a> <a id="12665" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="12668" class="Symbol">=</a> <a id="12670" href="/lia/part1/Semantics/#56589" class="InductiveConstructor Operator">¬</a> <a id="12672" href="/lia/part1/Semantics/#56551" class="InductiveConstructor Operator">`</a> <a id="12674" class="Bound">p</a></pre>

<p>Characteristic formulas are in the fragment, thanks to closure under
long conjunctions:</p>

<pre class="Agda"><a id="charFormula-fragment"></a><a id="12774" href="/lia/part1/CharacteristicFormulas/#12774" class="Function">charFormula-fragment</a> <a id="12795" class="Symbol">:</a> <a id="12797" class="Symbol">∀</a> <a id="12799" href="/lia/part1/CharacteristicFormulas/#12799" class="Bound">ϱ</a> <a id="12801" class="Symbol">→</a> <a id="12803" href="/lia/part1/Semantics/#56454" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="12822" href="/lia/part1/CharacteristicFormulas/#5617" class="Function Operator">〔</a> <a id="12824" href="/lia/part1/CharacteristicFormulas/#12799" class="Bound">ϱ</a> <a id="12826" href="/lia/part1/CharacteristicFormulas/#5617" class="Function Operator">〕</a>
<a id="12828" href="/lia/part1/CharacteristicFormulas/#12774" class="Function">charFormula-fragment</a> <a id="12849" href="/lia/part1/CharacteristicFormulas/#12849" class="Bound">ϱ</a> <a id="12851" class="Symbol">=</a> <a id="12853" href="/lia/part1/CharacteristicFormulas/#11965" class="Function">Formula[⊥,⊤,¬,∨,∧]-⋀-closed</a> <a id="12881" href="/lia/part1/CharacteristicFormulas/#5684" class="Function">literals</a> <a id="12890" href="/lia/part1/CharacteristicFormulas/#12925" class="Function">all</a> <a id="12894" class="Keyword">where</a>

  <a id="12903" class="Keyword">open</a> <a id="12908" href="/lia/part1/CharacteristicFormulas/#5663" class="Module">CharFormula</a> <a id="12920" href="/lia/part1/CharacteristicFormulas/#12849" class="Bound">ϱ</a>

  <a id="12925" href="/lia/part1/CharacteristicFormulas/#12925" class="Function">all</a> <a id="12929" class="Symbol">:</a> <a id="12931" href="/lia/part0/List/#8771" class="Function">All</a> <a id="12935" href="/lia/part1/Semantics/#56454" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="12954" href="/lia/part1/CharacteristicFormulas/#5684" class="Function">literals</a>
  <a id="12965" href="/lia/part1/CharacteristicFormulas/#12925" class="Function">all</a> <a id="12969" href="/lia/part1/CharacteristicFormulas/#12969" class="Bound">φ∈literals</a>
    <a id="12984" class="Keyword">with</a> <a id="12989" href="/lia/part0/List/#12712" class="Function">map-∈-inv</a> <a id="12999" class="Symbol">_</a> <a id="13001" href="/lia/part1/CharacteristicFormulas/#12969" class="Bound">φ∈literals</a>
  <a id="13014" class="Symbol">...</a> <a id="13018" class="Symbol">|</a> <a id="13020" href="/lia/part1/CharacteristicFormulas/#13020" class="Bound">p</a> <a id="13022" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="13024" class="Symbol">_</a> <a id="13026" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="13028" href="/lia/part1/CharacteristicFormulas/#13028" class="Bound">φ≡「p」ϱ</a> <a id="13035" class="Keyword">rewrite</a> <a id="13043" href="/lia/part1/CharacteristicFormulas/#13028" class="Bound">φ≡「p」ϱ</a> <a id="13050" class="Symbol">=</a> <a id="13052" href="/lia/part1/CharacteristicFormulas/#12557" class="Function">charLit-fragment</a> <a id="13069" href="/lia/part1/CharacteristicFormulas/#12849" class="Bound">ϱ</a> <a id="13071" href="/lia/part1/CharacteristicFormulas/#13020" class="Bound">p</a></pre>

<p>Finally, also <code class="language-plaintext highlighter-rouge">fun→formula f</code> is in the fragment, thanks to closure
under long disjunctions:</p>

<pre class="Agda"><a id="∈fragment"></a><a id="13176" href="/lia/part1/CharacteristicFormulas/#13176" class="Function">∈fragment</a> <a id="13186" class="Symbol">:</a> <a id="13188" class="Symbol">∀</a> <a id="13190" href="/lia/part1/CharacteristicFormulas/#13190" class="Bound">f</a> <a id="13192" class="Symbol">→</a> <a id="13194" href="/lia/part1/Semantics/#56454" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="13213" class="Symbol">(</a><a id="13214" href="/lia/part1/CharacteristicFormulas/#10217" class="Function">fun→formula</a> <a id="13226" href="/lia/part1/CharacteristicFormulas/#13190" class="Bound">f</a><a id="13227" class="Symbol">)</a>
<a id="13229" href="/lia/part1/CharacteristicFormulas/#13176" class="Function">∈fragment</a> <a id="13239" href="/lia/part1/CharacteristicFormulas/#13239" class="Bound">f</a> <a id="13241" class="Symbol">=</a> <a id="13243" href="/lia/part1/CharacteristicFormulas/#12229" class="Function">Formula[⊥,⊤,¬,∨,∧]-⋁-closed</a> <a id="13271" href="/lia/part1/CharacteristicFormulas/#10337" class="Function">φs</a> <a id="13274" href="/lia/part1/CharacteristicFormulas/#13310" class="Function">all</a> <a id="13278" class="Keyword">where</a>

  <a id="13287" class="Keyword">open</a> <a id="13292" href="/lia/part1/CharacteristicFormulas/#10274" class="Module">𝔹Fun→Formula</a> <a id="13305" href="/lia/part1/CharacteristicFormulas/#13239" class="Bound">f</a>

  <a id="13310" href="/lia/part1/CharacteristicFormulas/#13310" class="Function">all</a> <a id="13314" class="Symbol">:</a> <a id="13316" href="/lia/part0/List/#8771" class="Function">All</a> <a id="13320" href="/lia/part1/Semantics/#56454" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="13339" href="/lia/part1/CharacteristicFormulas/#10337" class="Function">φs</a>
  <a id="13344" href="/lia/part1/CharacteristicFormulas/#13310" class="Function">all</a> <a id="13348" href="/lia/part1/CharacteristicFormulas/#13348" class="Bound">ψ∈φs</a>
    <a id="13357" class="Keyword">with</a> <a id="13362" href="/lia/part0/List/#12712" class="Function">map-∈-inv</a> <a id="13372" class="Symbol">_</a> <a id="13374" href="/lia/part1/CharacteristicFormulas/#13348" class="Bound">ψ∈φs</a>
  <a id="13381" class="Symbol">...</a> <a id="13385" class="Symbol">|</a> <a id="13387" href="/lia/part1/CharacteristicFormulas/#13387" class="Bound">ϱ</a> <a id="13389" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="13391" class="Symbol">_</a> <a id="13393" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="13395" href="/lia/part1/CharacteristicFormulas/#13395" class="Bound">ψ≡〔ϱ〕</a> <a id="13401" class="Keyword">rewrite</a> <a id="13409" href="/lia/part1/CharacteristicFormulas/#13395" class="Bound">ψ≡〔ϱ〕</a> <a id="13415" class="Symbol">=</a> <a id="13417" href="/lia/part1/CharacteristicFormulas/#12774" class="Function">charFormula-fragment</a> <a id="13438" href="/lia/part1/CharacteristicFormulas/#13387" class="Bound">ϱ</a></pre>

<p><em>Step 3</em>. In the last step, we show that <a href="#fun%E2%86%92formula"><code class="language-plaintext highlighter-rouge">fun→formula</code></a>
produces a formula which is equivalent to the input Boolean function.
The proof is based on both soundness and completeness of characteristic
formulas <code class="language-plaintext highlighter-rouge">〔 ϱ 〕</code>.</p>

<pre class="Agda"><a id="fun→formula-correct"></a><a id="13669" href="/lia/part1/CharacteristicFormulas/#13669" class="Function">fun→formula-correct</a> <a id="13689" class="Symbol">:</a> <a id="13691" class="Symbol">∀</a> <a id="13693" href="/lia/part1/CharacteristicFormulas/#13693" class="Bound">f</a> <a id="13695" class="Symbol">→</a> <a id="13697" href="/lia/part0/Logic/#216" class="Function">∀[</a> <a id="13700" href="/lia/part1/CharacteristicFormulas/#13700" class="Bound">ϱ</a> <a id="13702" href="/lia/part0/Logic/#216" class="Function">]</a> <a id="13704" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="13706" href="/lia/part1/CharacteristicFormulas/#10217" class="Function">fun→formula</a> <a id="13718" href="/lia/part1/CharacteristicFormulas/#13693" class="Bound">f</a> <a id="13720" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="13722" href="/lia/part1/CharacteristicFormulas/#13700" class="Bound">ϱ</a> <a id="13724" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="13726" href="/lia/part1/CharacteristicFormulas/#13693" class="Bound">f</a> <a id="13728" href="/lia/part1/CharacteristicFormulas/#13700" class="Bound">ϱ</a>
<a id="13730" href="/lia/part1/CharacteristicFormulas/#13669" class="Function">fun→formula-correct</a> <a id="13750" href="/lia/part1/CharacteristicFormulas/#13750" class="Bound">f</a> <a id="13752" href="/lia/part1/CharacteristicFormulas/#13752" class="Bound">ϱ</a> <a id="13754" class="Keyword">with</a> <a id="13759" href="/lia/part0/Equality/#3823" class="Function">inspect</a> <a id="13767" class="Symbol">(</a><a id="13768" href="/lia/part1/CharacteristicFormulas/#13750" class="Bound">f</a> <a id="13770" href="/lia/part1/CharacteristicFormulas/#13752" class="Bound">ϱ</a><a id="13771" class="Symbol">)</a></pre>

<p>We perform a case analysis on <code class="language-plaintext highlighter-rouge">f ϱ</code>. If <code class="language-plaintext highlighter-rouge">f</code> evaluates to true on <code class="language-plaintext highlighter-rouge">ϱ</code>,
then we need to show that <code class="language-plaintext highlighter-rouge">fun→formula f</code> also evaluates to true:</p>

<pre class="Agda"><a id="13919" class="Symbol">...</a> <a id="13923" class="Symbol">|</a> <a id="13925" href="/lia/part0/Equality/#3789" class="InductiveConstructor">it</a> <a id="13928" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="13931" href="/lia/part1/CharacteristicFormulas/#13931" class="Bound">fϱ≡tt</a> <a id="13937" class="Keyword">rewrite</a> <a id="13945" href="/lia/part1/CharacteristicFormulas/#13931" class="Bound">fϱ≡tt</a> <a id="13951" class="Symbol">=</a> <a id="13953" href="/lia/part1/CharacteristicFormulas/#13990" class="Function">goal</a> <a id="13958" class="Keyword">where</a>

  <a id="13967" class="Keyword">open</a> <a id="13972" href="/lia/part1/CharacteristicFormulas/#10274" class="Module">𝔹Fun→Formula</a> <a id="13985" class="Bound">f</a>

  <a id="13990" href="/lia/part1/CharacteristicFormulas/#13990" class="Function">goal</a> <a id="13995" class="Symbol">:</a> <a id="13997" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="13999" href="/lia/part1/CharacteristicFormulas/#10217" class="Function">fun→formula</a> <a id="14011" class="Bound">f</a> <a id="14013" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="14015" class="Bound">ϱ</a> <a id="14017" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="14019" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a></pre>

<p>We begin by finding the occurrence <code class="language-plaintext highlighter-rouge">findVal ϱ</code> of <code class="language-plaintext highlighter-rouge">ϱ</code> in the list of all
valuations <a href="#vals"><code class="language-plaintext highlighter-rouge">vals</code></a> and then, knowing that <code class="language-plaintext highlighter-rouge">f ϱ</code> evaluates to
<a href="../../part0/Booleans#%F0%9D%94%B9.tt"><code class="language-plaintext highlighter-rouge">tt</code></a> by assumption, we find a witness
<code class="language-plaintext highlighter-rouge">ϱ∈ttVals</code> that <code class="language-plaintext highlighter-rouge">ϱ</code> belongs to <a href="#%F0%9D%94%B9Fun%E2%86%92Formula.ttVals"><code class="language-plaintext highlighter-rouge">ttVals</code></a> :</p>

<pre class="Agda">  <a id="14298" href="/lia/part1/CharacteristicFormulas/#13990" class="Function">goal</a>
    <a id="14307" class="Keyword">with</a> <a id="14312" href="/lia/part0/List/#11835" class="Function">filter-∈</a> <a id="14321" class="Symbol">(</a><a id="14322" href="/lia/part1/Semantics/#11257" class="Function">findVal</a> <a id="14330" class="Bound">ϱ</a><a id="14331" class="Symbol">)</a> <a id="14333" href="/lia/part1/CharacteristicFormulas/#13931" class="Bound">fϱ≡tt</a>
  <a id="14341" class="Symbol">...</a> <a id="14345" class="Symbol">|</a> <a id="14347" href="/lia/part1/CharacteristicFormulas/#14347" class="Bound">ϱ∈ttVals</a></pre>

<p>Thus, by the definition of <a href="#%F0%9D%94%B9Fun%E2%86%92Formula.%CF%86s"><code class="language-plaintext highlighter-rouge">φs</code></a> , we have
<code class="language-plaintext highlighter-rouge">〔 ϱ 〕 ∈ φs</code>:</p>

<pre class="Agda">    <a id="14443" class="Keyword">with</a> <a id="14448" href="/lia/part0/List/#12380" class="Function">map-∈</a> <a id="14454" class="Symbol">_</a> <a id="14456" href="/lia/part1/CharacteristicFormulas/#14347" class="Bound">ϱ∈ttVals</a>
  <a id="14467" class="Symbol">...</a> <a id="14471" class="Symbol">|</a> <a id="14473" href="/lia/part1/CharacteristicFormulas/#14473" class="Bound">〔ϱ〕∈φs</a></pre>

<p>By soundness of characteristic formulas, we have <code class="language-plaintext highlighter-rouge">⟦ 〔 ϱ 〕 ⟧ ϱ ≡ tt</code>:</p>

<pre class="Agda">    <a id="14563" class="Keyword">with</a> <a id="14568" href="/lia/part1/CharacteristicFormulas/#6599" class="Function">charFormula-sound</a> <a id="14586" class="Bound">ϱ</a>
  <a id="14590" class="Symbol">...</a> <a id="14594" class="Symbol">|</a> <a id="14596" href="/lia/part1/CharacteristicFormulas/#14596" class="Bound">⟦〔ϱ〕⟧ϱ≡tt</a> <a id="14606" class="Symbol">=</a> <a id="14608" href="/lia/part1/Semantics/#38727" class="Function">disjProp-tt</a> <a id="14620" href="/lia/part1/CharacteristicFormulas/#10337" class="Function">φs</a> <a id="14623" class="Bound">ϱ</a> <a id="14625" href="/lia/part1/CharacteristicFormulas/#5617" class="Function Operator">〔</a> <a id="14627" class="Bound">ϱ</a> <a id="14629" href="/lia/part1/CharacteristicFormulas/#5617" class="Function Operator">〕</a> <a id="14631" class="Bound">〔ϱ〕∈φs</a> <a id="14638" href="/lia/part1/CharacteristicFormulas/#14596" class="Bound">⟦〔ϱ〕⟧ϱ≡tt</a></pre>

<p>The proof ends by <a href="#disjProp-tt"><code class="language-plaintext highlighter-rouge">disjProp-tt</code></a> since we found a
disjunct <code class="language-plaintext highlighter-rouge">〔 ϱ 〕</code> that evaluates to true.</p>

<p>In the second case, <code class="language-plaintext highlighter-rouge">f</code> evaluates to false on <code class="language-plaintext highlighter-rouge">ϱ</code>, and thus we must show
the same for <code class="language-plaintext highlighter-rouge">fun→formula f</code>. In order to achieve this, we use again the
disjunction property, which requires us to prove that all disjuncts in
<a href="#%F0%9D%94%B9Fun%E2%86%92Formula.%CF%86s"><code class="language-plaintext highlighter-rouge">φs</code></a> evaluate to false:</p>

<pre class="Agda"><a id="15013" class="Symbol">...</a> <a id="15017" class="Symbol">|</a> <a id="15019" href="/lia/part0/Equality/#3789" class="InductiveConstructor">it</a> <a id="15022" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="15025" href="/lia/part1/CharacteristicFormulas/#15025" class="Bound">fϱ≡ff</a> <a id="15031" class="Keyword">rewrite</a> <a id="15039" href="/lia/part1/CharacteristicFormulas/#15025" class="Bound">fϱ≡ff</a> <a id="15045" class="Symbol">=</a> <a id="15047" href="/lia/part1/Semantics/#38817" class="Function">disjProp-ff</a> <a id="15059" href="/lia/part1/CharacteristicFormulas/#10337" class="Function">φs</a> <a id="15062" class="Bound">ϱ</a> <a id="15064" href="/lia/part1/CharacteristicFormulas/#15103" class="Function">goal</a> <a id="15069" class="Keyword">where</a>

  <a id="15078" class="Keyword">open</a> <a id="15083" href="/lia/part1/CharacteristicFormulas/#10274" class="Module">𝔹Fun→Formula</a> <a id="15096" class="Bound">f</a>
  
  <a id="15103" href="/lia/part1/CharacteristicFormulas/#15103" class="Function">goal</a> <a id="15108" class="Symbol">:</a> <a id="15110" href="/lia/part0/List/#8771" class="Function">∀[</a> <a id="15113" href="/lia/part1/CharacteristicFormulas/#15113" class="Bound">φ</a> <a id="15115" href="/lia/part0/List/#8771" class="Function">∈</a> <a id="15117" href="/lia/part1/CharacteristicFormulas/#10337" class="Function">φs</a> <a id="15120" href="/lia/part0/List/#8771" class="Function">]</a> <a id="15122" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="15124" href="/lia/part1/CharacteristicFormulas/#15113" class="Bound">φ</a> <a id="15126" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="15128" class="Bound">ϱ</a> <a id="15130" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="15132" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a></pre>

<p>We thus consider an arbitrary <code class="language-plaintext highlighter-rouge">φ</code> in <a href="#%F0%9D%94%B9Fun%E2%86%92Formula.%CF%86s"><code class="language-plaintext highlighter-rouge">φs</code></a> and do a
case analysis on its value under <code class="language-plaintext highlighter-rouge">ϱ</code>. If it evaluates to false, then we
are done:</p>

<pre class="Agda">  <a id="15298" href="/lia/part1/CharacteristicFormulas/#15103" class="Function">goal</a> <a id="15303" class="Symbol">{</a><a id="15304" href="/lia/part1/CharacteristicFormulas/#15304" class="Bound">φ</a><a id="15305" class="Symbol">}</a> <a id="15307" href="/lia/part1/CharacteristicFormulas/#15307" class="Bound">φ∈φs</a>
    <a id="15316" class="Keyword">with</a> <a id="15321" href="/lia/part0/Equality/#3823" class="Function">inspect</a> <a id="15329" class="Symbol">(</a><a id="15330" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="15332" href="/lia/part1/CharacteristicFormulas/#15304" class="Bound">φ</a> <a id="15334" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="15336" class="Bound">ϱ</a><a id="15337" class="Symbol">)</a>
  <a id="15341" class="Symbol">...</a> <a id="15345" class="Symbol">|</a> <a id="15347" href="/lia/part0/Equality/#3789" class="InductiveConstructor">it</a> <a id="15350" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="15353" href="/lia/part1/CharacteristicFormulas/#15353" class="Bound">⟦φ⟧ϱ≡ff</a> <a id="15361" class="Symbol">=</a> <a id="15363" href="/lia/part1/CharacteristicFormulas/#15353" class="Bound">⟦φ⟧ϱ≡ff</a></pre>

<p>Otherwise, <code class="language-plaintext highlighter-rouge">φ</code> evaluates to true, and we look for a contradiction. First
of all, since <code class="language-plaintext highlighter-rouge">φ</code> is a disjunct in <a href="#%F0%9D%94%B9Fun%E2%86%92Formula.%CF%86s"><code class="language-plaintext highlighter-rouge">φs</code></a> , by
definition it is the characteristic formula of some valuation <code class="language-plaintext highlighter-rouge">ϱ′</code> in
<a href="#%F0%9D%94%B9Fun%E2%86%92Formula.ttVals"><code class="language-plaintext highlighter-rouge">ttVals</code></a> :</p>

<pre class="Agda">  <a id="15616" class="Symbol">...</a> <a id="15620" class="Symbol">|</a> <a id="15622" href="/lia/part0/Equality/#3789" class="InductiveConstructor">it</a> <a id="15625" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="15628" href="/lia/part1/CharacteristicFormulas/#15628" class="Bound">⟦φ⟧ϱ≡tt</a>
    <a id="15640" class="Keyword">with</a> <a id="15645" href="/lia/part0/List/#12712" class="Function">map-∈-inv</a> <a id="15655" href="/lia/part1/CharacteristicFormulas/#5617" class="Function Operator">〔_〕</a> <a id="15659" class="Bound">φ∈φs</a>
  <a id="15666" class="Symbol">...</a> <a id="15670" class="Symbol">|</a> <a id="15672" href="/lia/part1/CharacteristicFormulas/#15672" class="Bound">ϱ′</a> <a id="15675" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="15677" href="/lia/part1/CharacteristicFormulas/#15677" class="Bound">ϱ′∈ttVals</a> <a id="15687" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="15689" href="/lia/part1/CharacteristicFormulas/#15689" class="Bound">φ≡〔ϱ′〕</a></pre>

<p>By definition, <a href="#%F0%9D%94%B9Fun%E2%86%92Formula.ttVals"><code class="language-plaintext highlighter-rouge">ttVals</code></a> is the list of those
valuations <code class="language-plaintext highlighter-rouge">ϱ</code> s.t. <code class="language-plaintext highlighter-rouge">f ϱ</code> is true. Since <code class="language-plaintext highlighter-rouge">ϱ′</code> is one of those, <code class="language-plaintext highlighter-rouge">f ϱ′</code>
must be true:</p>

<pre class="Agda">    <a id="15858" class="Keyword">with</a> <a id="15863" href="/lia/part0/List/#12212" class="Function">filter-∈-inv</a> <a id="15876" href="/lia/part1/Semantics/#11231" class="Function">vals</a> <a id="15881" href="/lia/part1/CharacteristicFormulas/#15677" class="Bound">ϱ′∈ttVals</a> 
  <a id="15894" class="Symbol">...</a> <a id="15898" class="Symbol">|</a> <a id="15900" href="/lia/part1/CharacteristicFormulas/#15900" class="Bound">ϱ′∈vals</a> <a id="15908" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="15910" href="/lia/part1/CharacteristicFormulas/#15910" class="Bound">fϱ′≡tt</a></pre>

<p>We would like to deduce that <code class="language-plaintext highlighter-rouge">ϱ</code> is equal to <code class="language-plaintext highlighter-rouge">ϱ′</code> by completeness of
characteristic formulas. In order to apply
<a href="#%E3%80%94%20%E3%80%95-complete"><code class="language-plaintext highlighter-rouge">〔 〕-complete</code></a> , we need to show
<code class="language-plaintext highlighter-rouge">⟦ 〔 ϱ′ 〕 ⟧ ϱ ≡ tt</code>. But this is certainly true, since <code class="language-plaintext highlighter-rouge">⟦ φ ⟧ ϱ ≡ tt</code>
by assumption, and <code class="language-plaintext highlighter-rouge">φ ≡ 〔 ϱ′ 〕</code> by the definition of <code class="language-plaintext highlighter-rouge">ϱ′</code>:</p>

<pre class="Agda">    <a id="16208" class="Keyword">rewrite</a> <a id="16216" class="Bound">φ≡〔ϱ′〕</a>
    <a id="16227" class="Keyword">with</a> <a id="16232" href="/lia/part1/CharacteristicFormulas/#7260" class="Function">charFormula-complete</a> <a id="16253" class="Bound">ϱ′</a> <a id="16256" class="Bound">ϱ</a> <a id="16258" class="Bound">⟦φ⟧ϱ≡tt</a>
  <a id="16268" class="Symbol">...</a> <a id="16272" class="Symbol">|</a> <a id="16274" href="/lia/part1/CharacteristicFormulas/#16274" class="Bound">ϱ≡ϱ′</a></pre>

<p>We can now reach the sought contradiction since <code class="language-plaintext highlighter-rouge">f ϱ′ ≡ tt</code> and
<code class="language-plaintext highlighter-rouge">f ϱ ≡ ff</code> at the same time:</p>

<pre class="Agda">    <a id="16386" class="Keyword">rewrite</a> <a id="16394" href="/lia/part1/CharacteristicFormulas/#16274" class="Bound">ϱ≡ϱ′</a> <a id="16399" class="Symbol">=</a> <a id="16401" href="/lia/part0/Booleans/#465" class="Function">a≡ff→a≡tt-elim</a> <a id="16416" href="/lia/part1/CharacteristicFormulas/#15025" class="Bound">fϱ≡ff</a> <a id="16422" class="Bound">fϱ′≡tt</a></pre>

<p>This concludes the second and last case of the correctness proof. We can
put all the pieces together and show that the fragment is functionally
complete.</p>

<div class="theorembox">

  <dl>
    <dt><span id="theorem:funComplFalseTrueNegAndOr" class="pandoc-numbering-text theorem"><strong>Theorem 2</strong> <em>(Functional completeness of <code class="language-plaintext highlighter-rouge">{∨, ∧, ¬, ⊤, ⊥}</code>)</em></span></dt>
    <dd>
      <pre class="Agda"><a id="16761" href="/lia/part1/CharacteristicFormulas/#9729" class="Function">funCompl[⊥,⊤,¬,∨,∧]</a> <a id="16781" href="/lia/part1/CharacteristicFormulas/#16781" class="Bound">f</a> <a id="16783" class="Symbol">=</a>
  <a id="16787" href="/lia/part1/CharacteristicFormulas/#10217" class="Function">fun→formula</a> <a id="16799" href="/lia/part1/CharacteristicFormulas/#16781" class="Bound">f</a> <a id="16801" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="16803" href="/lia/part1/CharacteristicFormulas/#13176" class="Function">∈fragment</a> <a id="16813" href="/lia/part1/CharacteristicFormulas/#16781" class="Bound">f</a> <a id="16815" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="16817" href="/lia/part0/Equality/#2007" class="Postulate">extensionality</a> <a id="16832" class="Symbol">(</a><a id="16833" href="/lia/part1/CharacteristicFormulas/#13669" class="Function">fun→formula-correct</a> <a id="16853" href="/lia/part1/CharacteristicFormulas/#16781" class="Bound">f</a><a id="16854" class="Symbol">)</a></pre>
      <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>
    </dd>
  </dl>

</div>

<div class="remarkbox">

  <dl>
    <dt><span id="remark:funComplFalseTrueNegAndOr" class="pandoc-numbering-text remark"><strong>Remark 1</strong></span></dt>
    <dd>The formula computed by <a href="#fun%E2%86%92formula"><code class="language-plaintext highlighter-rouge">fun→formula</code></a> enjoys
stronger structural properties than being in the <code class="language-plaintext highlighter-rouge">{∨, ∧, ¬, ⊤, ⊥}</code>
fragment. In fact, it always produces formulas of the form
⋁<sub><em>i</em></sub>⋀<sub><em>j</em></sub><em>l</em><sub><em>i</em>, <em>j</em></sub>
where <em>l</em><sub><em>i</em>, <em>j</em></sub> is a literal. Such formulas are said to
be in <em>disjunctive normal form</em> (DNF). We will come back to DNF
formulas in <a href="../../part1/NormalForms">Ch. part1/NormalForms</a> where
we will study this and other normal forms.</dd>
  </dl>

  <p>Regarding efficiency, <a href="#fun%E2%86%92formula"><code class="language-plaintext highlighter-rouge">fun→formula</code></a> iterates over all
valuations and thus invariably produces formulas of exponential size
<em>Θ</em>(2<sup><em>n</em></sup>). This will be (partially) addressed also in <a href="../../part1/NormalForms">Ch.
part1/NormalForms</a> with a syntactic
construction. <span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

</div>

<h2 id="fragment-1">
<a class="anchor" href="#fragment-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Fragment <code class="language-plaintext highlighter-rouge">{∨, ∧, ¬}</code>
</h2>

<p>Let’s restrict our previous fragment
<a href="#Formula%5B%E2%8A%A5,%E2%8A%A4,%C2%AC,%E2%88%A8,%E2%88%A7%5D"><code class="language-plaintext highlighter-rouge">Formula[⊥,⊤,¬,∨,∧]</code></a> by forbidding the
constants <a href="#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> and <a href="#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a> . Formally, we have
the following definition:</p>

<pre class="Agda"><a id="17881" class="Keyword">data</a> <a id="Formula[¬∨∧]"></a><a id="17886" href="/lia/part1/CharacteristicFormulas/#17886" class="Datatype">Formula[¬∨∧]</a> <a id="17899" class="Symbol">:</a> <a id="17901" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="17909" class="Symbol">→</a> <a id="17911" class="PrimitiveType">Set</a> <a id="17915" class="Keyword">where</a>
  <a id="Formula[¬∨∧].`_"></a><a id="17923" href="/lia/part1/CharacteristicFormulas/#17923" class="InductiveConstructor Operator">`_</a> <a id="17926" class="Symbol">:</a> <a id="17928" class="Symbol">∀</a> <a id="17930" href="/lia/part1/CharacteristicFormulas/#17930" class="Bound">p</a> <a id="17932" class="Symbol">→</a> <a id="17934" href="/lia/part1/CharacteristicFormulas/#17886" class="Datatype">Formula[¬∨∧]</a> <a id="17947" class="Symbol">(</a><a id="17948" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="17950" href="/lia/part1/CharacteristicFormulas/#17930" class="Bound">p</a><a id="17951" class="Symbol">)</a>
  <a id="Formula[¬∨∧].¬_"></a><a id="17955" href="/lia/part1/CharacteristicFormulas/#17955" class="InductiveConstructor Operator">¬_</a> <a id="17958" class="Symbol">:</a> <a id="17960" class="Symbol">∀</a> <a id="17962" class="Symbol">{</a><a id="17963" href="/lia/part1/CharacteristicFormulas/#17963" class="Bound">φ</a><a id="17964" class="Symbol">}</a> <a id="17966" class="Symbol">→</a> <a id="17968" href="/lia/part1/CharacteristicFormulas/#17886" class="Datatype">Formula[¬∨∧]</a> <a id="17981" href="/lia/part1/CharacteristicFormulas/#17963" class="Bound">φ</a> <a id="17983" class="Symbol">→</a> <a id="17985" href="/lia/part1/CharacteristicFormulas/#17886" class="Datatype">Formula[¬∨∧]</a> <a id="17998" class="Symbol">(</a><a id="17999" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="18001" href="/lia/part1/CharacteristicFormulas/#17963" class="Bound">φ</a><a id="18002" class="Symbol">)</a>
  <a id="Formula[¬∨∧]._∧_"></a><a id="18006" href="/lia/part1/CharacteristicFormulas/#18006" class="InductiveConstructor Operator">_∧_</a> <a id="18010" class="Symbol">:</a> <a id="18012" class="Symbol">∀</a> <a id="18014" class="Symbol">{</a><a id="18015" href="/lia/part1/CharacteristicFormulas/#18015" class="Bound">φ</a> <a id="18017" href="/lia/part1/CharacteristicFormulas/#18017" class="Bound">ψ</a><a id="18018" class="Symbol">}</a> <a id="18020" class="Symbol">→</a> <a id="18022" href="/lia/part1/CharacteristicFormulas/#17886" class="Datatype">Formula[¬∨∧]</a> <a id="18035" href="/lia/part1/CharacteristicFormulas/#18015" class="Bound">φ</a> <a id="18037" class="Symbol">→</a> <a id="18039" href="/lia/part1/CharacteristicFormulas/#17886" class="Datatype">Formula[¬∨∧]</a> <a id="18052" href="/lia/part1/CharacteristicFormulas/#18017" class="Bound">ψ</a> <a id="18054" class="Symbol">→</a> <a id="18056" href="/lia/part1/CharacteristicFormulas/#17886" class="Datatype">Formula[¬∨∧]</a> <a id="18069" class="Symbol">(</a><a id="18070" href="/lia/part1/CharacteristicFormulas/#18015" class="Bound">φ</a> <a id="18072" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="18074" href="/lia/part1/CharacteristicFormulas/#18017" class="Bound">ψ</a><a id="18075" class="Symbol">)</a>
  <a id="Formula[¬∨∧]._∨_"></a><a id="18079" href="/lia/part1/CharacteristicFormulas/#18079" class="InductiveConstructor Operator">_∨_</a> <a id="18083" class="Symbol">:</a> <a id="18085" class="Symbol">∀</a> <a id="18087" class="Symbol">{</a><a id="18088" href="/lia/part1/CharacteristicFormulas/#18088" class="Bound">φ</a> <a id="18090" href="/lia/part1/CharacteristicFormulas/#18090" class="Bound">ψ</a><a id="18091" class="Symbol">}</a> <a id="18093" class="Symbol">→</a> <a id="18095" href="/lia/part1/CharacteristicFormulas/#17886" class="Datatype">Formula[¬∨∧]</a> <a id="18108" href="/lia/part1/CharacteristicFormulas/#18088" class="Bound">φ</a> <a id="18110" class="Symbol">→</a> <a id="18112" href="/lia/part1/CharacteristicFormulas/#17886" class="Datatype">Formula[¬∨∧]</a> <a id="18125" href="/lia/part1/CharacteristicFormulas/#18090" class="Bound">ψ</a> <a id="18127" class="Symbol">→</a> <a id="18129" href="/lia/part1/CharacteristicFormulas/#17886" class="Datatype">Formula[¬∨∧]</a> <a id="18142" class="Symbol">(</a><a id="18143" href="/lia/part1/CharacteristicFormulas/#18088" class="Bound">φ</a> <a id="18145" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="18147" href="/lia/part1/CharacteristicFormulas/#18090" class="Bound">ψ</a><a id="18148" class="Symbol">)</a></pre>

<p>We show that this fragment is functionally complete:</p>

<pre class="Agda"><a id="funCompl[¬∨∧]"></a><a id="18213" href="/lia/part1/CharacteristicFormulas/#18213" class="Function">funCompl[¬∨∧]</a> <a id="18227" class="Symbol">:</a> <a id="18229" href="/lia/part1/CharacteristicFormulas/#9040" class="Function">FunctionallyComplete</a> <a id="18250" href="/lia/part1/CharacteristicFormulas/#17886" class="Datatype">Formula[¬∨∧]</a></pre>

<p>Thanks to the fact that <a href="#Formula%5B%E2%8A%A5,%E2%8A%A4,%C2%AC,%E2%88%A8,%E2%88%A7%5D"><code class="language-plaintext highlighter-rouge">Formula[⊥,⊤,¬,∨,∧]</code></a>
is functionally complete (c.f.
<a href="#funCompl%5B%E2%8A%A5,%E2%8A%A4,%C2%AC,%E2%88%A8,%E2%88%A7%5D"><code class="language-plaintext highlighter-rouge">funCompl[⊥,⊤,¬,∨,∧]</code></a> ) it suffices to
remove the two logical constants <code class="language-plaintext highlighter-rouge">⊥</code> and <code class="language-plaintext highlighter-rouge">⊤</code>:</p>

<pre class="Agda"><a id="remove⊥⊤"></a><a id="18441" href="/lia/part1/CharacteristicFormulas/#18441" class="Function">remove⊥⊤</a> <a id="18450" class="Symbol">:</a> <a id="18452" class="Symbol">∀</a> <a id="18454" class="Symbol">{</a><a id="18455" href="/lia/part1/CharacteristicFormulas/#18455" class="Bound">φ</a><a id="18456" class="Symbol">}</a> <a id="18458" class="Symbol">→</a>
  <a id="18462" href="/lia/part1/Semantics/#56454" class="Datatype">Formula[⊥,⊤,¬,∨,∧]</a> <a id="18481" href="/lia/part1/CharacteristicFormulas/#18455" class="Bound">φ</a> <a id="18483" class="Symbol">→</a>
  <a id="18487" class="Comment">-------------------------------</a>
  <a id="18521" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="18524" href="/lia/part1/CharacteristicFormulas/#18524" class="Bound">ψ</a> <a id="18526" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="18528" href="/lia/part1/CharacteristicFormulas/#17886" class="Datatype">Formula[¬∨∧]</a> <a id="18541" href="/lia/part1/CharacteristicFormulas/#18524" class="Bound">ψ</a> <a id="18543" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="18545" href="/lia/part1/CharacteristicFormulas/#18455" class="Bound">φ</a> <a id="18547" href="/lia/part1/Semantics/#26887" class="Function Operator">⟺</a> <a id="18549" href="/lia/part1/CharacteristicFormulas/#18524" class="Bound">ψ</a></pre>

<p>In order to do so, we need to have at least one propositional variable
<code class="language-plaintext highlighter-rouge">p₀</code> at our disposal (which is indeed the case). We replace <code class="language-plaintext highlighter-rouge">⊥</code> with
<code class="language-plaintext highlighter-rouge">` p₀ ∧ ¬ ` p₀</code> and <code class="language-plaintext highlighter-rouge">⊤</code> with <code class="language-plaintext highlighter-rouge">` p₀ ∨ ¬ ` p₀</code>, using the fact
that we have at least one proposition <code class="language-plaintext highlighter-rouge">p₀</code>:</p>

<pre class="Agda"><a id="18812" href="/lia/part1/CharacteristicFormulas/#18441" class="Function">remove⊥⊤</a> <a id="18821" class="Symbol">{</a><a id="18822" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a><a id="18823" class="Symbol">}</a> <a id="18825" href="/lia/part1/Semantics/#56497" class="InductiveConstructor">⊥</a> <a id="18827" class="Symbol">=</a> <a id="18829" class="Symbol">_</a> <a id="18831" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="18833" href="/lia/part1/CharacteristicFormulas/#17923" class="InductiveConstructor Operator">`</a> <a id="18835" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="18838" href="/lia/part1/CharacteristicFormulas/#18006" class="InductiveConstructor Operator">∧</a> <a id="18840" href="/lia/part1/CharacteristicFormulas/#17955" class="InductiveConstructor Operator">¬</a> <a id="18842" href="/lia/part1/CharacteristicFormulas/#17923" class="InductiveConstructor Operator">`</a> <a id="18844" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="18847" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="18849" href="/lia/part1/CharacteristicFormulas/#18867" class="Function">⊥⟺p₀∧¬p₀</a> <a id="18858" class="Keyword">where</a>

  <a id="18867" href="/lia/part1/CharacteristicFormulas/#18867" class="Function">⊥⟺p₀∧¬p₀</a> <a id="18876" class="Symbol">:</a> <a id="18878" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a> <a id="18880" href="/lia/part1/Semantics/#26887" class="Function Operator">⟺</a> <a id="18882" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="18884" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="18887" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="18889" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="18891" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="18893" href="/lia/part1/Semantics/#1229" class="Function">p₀</a>
  <a id="18898" href="/lia/part1/CharacteristicFormulas/#18867" class="Function">⊥⟺p₀∧¬p₀</a> <a id="18907" href="/lia/part1/CharacteristicFormulas/#18907" class="Bound">ϱ</a> <a id="18909" class="Keyword">with</a> <a id="18914" href="/lia/part1/CharacteristicFormulas/#18907" class="Bound">ϱ</a> <a id="18916" href="/lia/part1/Semantics/#1229" class="Function">p₀</a>
  <a id="18921" class="Symbol">...</a> <a id="18925" class="Symbol">|</a> <a id="18927" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="18930" class="Symbol">=</a> <a id="18932" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  <a id="18939" class="Symbol">...</a> <a id="18943" class="Symbol">|</a> <a id="18945" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="18948" class="Symbol">=</a> <a id="18950" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>

<a id="18956" href="/lia/part1/CharacteristicFormulas/#18441" class="Function">remove⊥⊤</a> <a id="18965" class="Symbol">{</a><a id="18966" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a><a id="18967" class="Symbol">}</a> <a id="18969" href="/lia/part1/Semantics/#56524" class="InductiveConstructor">⊤</a> <a id="18971" class="Symbol">=</a> <a id="18973" class="Symbol">_</a> <a id="18975" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="18977" href="/lia/part1/CharacteristicFormulas/#17923" class="InductiveConstructor Operator">`</a> <a id="18979" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="18982" href="/lia/part1/CharacteristicFormulas/#18079" class="InductiveConstructor Operator">∨</a> <a id="18984" href="/lia/part1/CharacteristicFormulas/#17955" class="InductiveConstructor Operator">¬</a> <a id="18986" href="/lia/part1/CharacteristicFormulas/#17923" class="InductiveConstructor Operator">`</a> <a id="18988" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="18991" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="18993" href="/lia/part1/CharacteristicFormulas/#19011" class="Function">⊤⟺p₀∨¬p₀</a> <a id="19002" class="Keyword">where</a>

  <a id="19011" href="/lia/part1/CharacteristicFormulas/#19011" class="Function">⊤⟺p₀∨¬p₀</a> <a id="19020" class="Symbol">:</a> <a id="19022" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="19024" href="/lia/part1/Semantics/#26887" class="Function Operator">⟺</a> <a id="19026" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="19028" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="19031" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="19033" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="19035" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="19037" href="/lia/part1/Semantics/#1229" class="Function">p₀</a>
  <a id="19042" href="/lia/part1/CharacteristicFormulas/#19011" class="Function">⊤⟺p₀∨¬p₀</a> <a id="19051" href="/lia/part1/CharacteristicFormulas/#19051" class="Bound">ϱ</a> <a id="19053" class="Keyword">with</a> <a id="19058" href="/lia/part1/CharacteristicFormulas/#19051" class="Bound">ϱ</a> <a id="19060" href="/lia/part1/Semantics/#1229" class="Function">p₀</a>
  <a id="19065" class="Symbol">...</a> <a id="19069" class="Symbol">|</a> <a id="19071" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="19074" class="Symbol">=</a> <a id="19076" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a>
  <a id="19083" class="Symbol">...</a> <a id="19087" class="Symbol">|</a> <a id="19089" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="19092" class="Symbol">=</a> <a id="19094" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<p>The variable case is straightforward:</p>

<pre class="Agda"><a id="19147" href="/lia/part1/CharacteristicFormulas/#18441" class="Function">remove⊥⊤</a> <a id="19156" class="Symbol">{</a><a id="19157" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="19159" href="/lia/part1/CharacteristicFormulas/#19159" class="Bound">p</a><a id="19160" class="Symbol">}</a> <a id="19162" class="Symbol">(</a><a id="19163" href="/lia/part1/Semantics/#56551" class="InductiveConstructor Operator">`</a> <a id="19165" href="/lia/part1/CharacteristicFormulas/#19159" class="Bound">p</a><a id="19166" class="Symbol">)</a> <a id="19168" class="Symbol">=</a> <a id="19170" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="19172" href="/lia/part1/CharacteristicFormulas/#19159" class="Bound">p</a> <a id="19174" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="19176" href="/lia/part1/CharacteristicFormulas/#17923" class="InductiveConstructor Operator">`</a> <a id="19178" href="/lia/part1/CharacteristicFormulas/#19159" class="Bound">p</a> <a id="19180" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="19182" class="Symbol">λ</a> <a id="19184" href="/lia/part1/CharacteristicFormulas/#19184" class="Bound">ϱ</a> <a id="19186" class="Symbol">→</a> <a id="19188" href="/lia/part0/Equality/#262" class="InductiveConstructor">refl</a></pre>

<p>The inductive cases are also rather easy. We recursively compute the
inductive assumption and then we use the two congruence lemmas
<a href="#congF"><code class="language-plaintext highlighter-rouge">congF</code></a> and <a href="#cong2F"><code class="language-plaintext highlighter-rouge">cong2F</code></a> in order to show correctness:</p>

<pre class="Agda"><a id="19394" href="/lia/part1/CharacteristicFormulas/#18441" class="Function">remove⊥⊤</a> <a id="19403" class="Symbol">{</a><a id="19404" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="19406" href="/lia/part1/CharacteristicFormulas/#19406" class="Bound">φ</a><a id="19407" class="Symbol">}</a> <a id="19409" class="Symbol">(</a><a id="19410" href="/lia/part1/Semantics/#56589" class="InductiveConstructor Operator">¬</a> <a id="19412" href="/lia/part1/CharacteristicFormulas/#19412" class="Bound">F[⊥,⊤,¬,∨,∧]φ</a><a id="19425" class="Symbol">)</a>
  <a id="19429" class="Keyword">with</a> <a id="19434" href="/lia/part1/CharacteristicFormulas/#18441" class="Function">remove⊥⊤</a> <a id="19443" href="/lia/part1/CharacteristicFormulas/#19412" class="Bound">F[⊥,⊤,¬,∨,∧]φ</a>
<a id="19457" class="Symbol">...</a> <a id="19461" class="Symbol">|</a> <a id="19463" href="/lia/part1/CharacteristicFormulas/#19463" class="Bound">ψ</a> <a id="19465" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="19467" href="/lia/part1/CharacteristicFormulas/#19467" class="Bound">F[¬∨∧]ψ</a> <a id="19475" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="19477" href="/lia/part1/CharacteristicFormulas/#19477" class="Bound">φ⟺ψ</a> <a id="19481" class="Symbol">=</a> <a id="19483" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="19485" href="/lia/part1/CharacteristicFormulas/#19463" class="Bound">ψ</a> <a id="19487" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="19489" href="/lia/part1/CharacteristicFormulas/#17955" class="InductiveConstructor Operator">¬</a> <a id="19491" href="/lia/part1/CharacteristicFormulas/#19467" class="Bound">F[¬∨∧]ψ</a> <a id="19499" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="19501" href="/lia/part1/Semantics/#32427" class="Function">congF</a> <a id="19507" class="Bound">φ</a> <a id="19509" href="/lia/part1/CharacteristicFormulas/#19463" class="Bound">ψ</a> <a id="19511" class="Symbol">(</a><a id="19512" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="19514" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="19516" href="/lia/part1/Semantics/#1229" class="Function">p₀</a><a id="19518" class="Symbol">)</a> <a id="19520" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="19523" href="/lia/part1/CharacteristicFormulas/#19477" class="Bound">φ⟺ψ</a>

<a id="19528" href="/lia/part1/CharacteristicFormulas/#18441" class="Function">remove⊥⊤</a> <a id="19537" class="Symbol">{</a><a id="19538" href="/lia/part1/CharacteristicFormulas/#19538" class="Bound">φ</a> <a id="19540" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="19542" href="/lia/part1/CharacteristicFormulas/#19542" class="Bound">ψ</a><a id="19543" class="Symbol">}</a> <a id="19545" class="Symbol">(</a><a id="19546" href="/lia/part1/CharacteristicFormulas/#19546" class="Bound">F[⊥,⊤,¬,∨,∧]φ</a> <a id="19560" href="/lia/part1/Semantics/#56652" class="InductiveConstructor Operator">∧</a> <a id="19562" href="/lia/part1/CharacteristicFormulas/#19562" class="Bound">F[⊥,⊤,¬,∨,∧]ψ</a><a id="19575" class="Symbol">)</a>
  <a id="19579" class="Keyword">with</a> <a id="19584" href="/lia/part1/CharacteristicFormulas/#18441" class="Function">remove⊥⊤</a> <a id="19593" class="Symbol">{</a><a id="19594" href="/lia/part1/CharacteristicFormulas/#19538" class="Bound">φ</a><a id="19595" class="Symbol">}</a> <a id="19597" href="/lia/part1/CharacteristicFormulas/#19546" class="Bound">F[⊥,⊤,¬,∨,∧]φ</a> <a id="19611" class="Symbol">|</a>
       <a id="19620" href="/lia/part1/CharacteristicFormulas/#18441" class="Function">remove⊥⊤</a> <a id="19629" class="Symbol">{</a><a id="19630" href="/lia/part1/CharacteristicFormulas/#19542" class="Bound">ψ</a><a id="19631" class="Symbol">}</a> <a id="19633" href="/lia/part1/CharacteristicFormulas/#19562" class="Bound">F[⊥,⊤,¬,∨,∧]ψ</a>
<a id="19647" class="Symbol">...</a> <a id="19651" class="Symbol">|</a> <a id="19653" href="/lia/part1/CharacteristicFormulas/#19653" class="Bound">φ′</a> <a id="19656" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="19658" href="/lia/part1/CharacteristicFormulas/#19658" class="Bound">F[¬∨∧]φ′</a> <a id="19667" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="19669" href="/lia/part1/CharacteristicFormulas/#19669" class="Bound">φ⟺φ′</a>
    <a id="19678" class="Symbol">|</a> <a id="19680" href="/lia/part1/CharacteristicFormulas/#19680" class="Bound">ψ′</a> <a id="19683" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="19685" href="/lia/part1/CharacteristicFormulas/#19685" class="Bound">F[¬∨∧]ψ′</a> <a id="19694" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="19696" href="/lia/part1/CharacteristicFormulas/#19696" class="Bound">ψ⟺ψ′</a> <a id="19701" class="Symbol">=</a>
      <a id="19709" href="/lia/part1/CharacteristicFormulas/#19653" class="Bound">φ′</a> <a id="19712" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="19714" href="/lia/part1/CharacteristicFormulas/#19680" class="Bound">ψ′</a> <a id="19717" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="19719" href="/lia/part1/CharacteristicFormulas/#19658" class="Bound">F[¬∨∧]φ′</a> <a id="19728" href="/lia/part1/CharacteristicFormulas/#18006" class="InductiveConstructor Operator">∧</a> <a id="19730" href="/lia/part1/CharacteristicFormulas/#19685" class="Bound">F[¬∨∧]ψ′</a> <a id="19739" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="19741" href="/lia/part1/Semantics/#33719" class="Function">cong2F</a> <a id="19748" class="Bound">φ</a> <a id="19750" class="Bound">ψ</a> <a id="19752" href="/lia/part1/CharacteristicFormulas/#19653" class="Bound">φ′</a> <a id="19755" href="/lia/part1/CharacteristicFormulas/#19680" class="Bound">ψ′</a> <a id="19758" class="Symbol">(</a><a id="19759" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="19761" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="19764" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="19766" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="19768" href="/lia/part1/Semantics/#1232" class="Function">p₁</a><a id="19770" class="Symbol">)</a> <a id="19772" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="19775" href="/lia/part1/Semantics/#1232" class="Function">p₁</a> <a id="19778" href="/lia/part1/CharacteristicFormulas/#19669" class="Bound">φ⟺φ′</a> <a id="19783" href="/lia/part1/CharacteristicFormulas/#19696" class="Bound">ψ⟺ψ′</a> 

<a id="19790" href="/lia/part1/CharacteristicFormulas/#18441" class="Function">remove⊥⊤</a> <a id="19799" class="Symbol">{</a><a id="19800" href="/lia/part1/CharacteristicFormulas/#19800" class="Bound">φ</a> <a id="19802" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="19804" href="/lia/part1/CharacteristicFormulas/#19804" class="Bound">ψ</a><a id="19805" class="Symbol">}</a> <a id="19807" class="Symbol">(</a><a id="19808" href="/lia/part1/CharacteristicFormulas/#19808" class="Bound">F[⊥,⊤,¬,∨,∧]φ</a> <a id="19822" href="/lia/part1/Semantics/#56747" class="InductiveConstructor Operator">∨</a> <a id="19824" href="/lia/part1/CharacteristicFormulas/#19824" class="Bound">F[⊥,⊤,¬,∨,∧]ψ</a><a id="19837" class="Symbol">)</a>
  <a id="19841" class="Keyword">with</a> <a id="19846" href="/lia/part1/CharacteristicFormulas/#18441" class="Function">remove⊥⊤</a> <a id="19855" class="Symbol">{</a><a id="19856" href="/lia/part1/CharacteristicFormulas/#19800" class="Bound">φ</a><a id="19857" class="Symbol">}</a> <a id="19859" href="/lia/part1/CharacteristicFormulas/#19808" class="Bound">F[⊥,⊤,¬,∨,∧]φ</a> <a id="19873" class="Symbol">|</a>
       <a id="19882" href="/lia/part1/CharacteristicFormulas/#18441" class="Function">remove⊥⊤</a> <a id="19891" class="Symbol">{</a><a id="19892" href="/lia/part1/CharacteristicFormulas/#19804" class="Bound">ψ</a><a id="19893" class="Symbol">}</a> <a id="19895" href="/lia/part1/CharacteristicFormulas/#19824" class="Bound">F[⊥,⊤,¬,∨,∧]ψ</a>
<a id="19909" class="Symbol">...</a> <a id="19913" class="Symbol">|</a> <a id="19915" href="/lia/part1/CharacteristicFormulas/#19915" class="Bound">φ′</a> <a id="19918" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="19920" href="/lia/part1/CharacteristicFormulas/#19920" class="Bound">F[¬∨∧]φ′</a> <a id="19929" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="19931" href="/lia/part1/CharacteristicFormulas/#19931" class="Bound">φ⟺φ′</a>
    <a id="19940" class="Symbol">|</a> <a id="19942" href="/lia/part1/CharacteristicFormulas/#19942" class="Bound">ψ′</a> <a id="19945" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="19947" href="/lia/part1/CharacteristicFormulas/#19947" class="Bound">F[¬∨∧]ψ′</a> <a id="19956" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="19958" href="/lia/part1/CharacteristicFormulas/#19958" class="Bound">ψ⟺ψ′</a> <a id="19963" class="Symbol">=</a>
      <a id="19971" href="/lia/part1/CharacteristicFormulas/#19915" class="Bound">φ′</a> <a id="19974" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="19976" href="/lia/part1/CharacteristicFormulas/#19942" class="Bound">ψ′</a> <a id="19979" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="19981" href="/lia/part1/CharacteristicFormulas/#19920" class="Bound">F[¬∨∧]φ′</a> <a id="19990" href="/lia/part1/CharacteristicFormulas/#18079" class="InductiveConstructor Operator">∨</a> <a id="19992" href="/lia/part1/CharacteristicFormulas/#19947" class="Bound">F[¬∨∧]ψ′</a> <a id="20001" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="20003" href="/lia/part1/Semantics/#33719" class="Function">cong2F</a> <a id="20010" class="Bound">φ</a> <a id="20012" class="Bound">ψ</a> <a id="20014" href="/lia/part1/CharacteristicFormulas/#19915" class="Bound">φ′</a> <a id="20017" href="/lia/part1/CharacteristicFormulas/#19942" class="Bound">ψ′</a> <a id="20020" class="Symbol">(</a><a id="20021" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="20023" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="20026" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="20028" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="20030" href="/lia/part1/Semantics/#1232" class="Function">p₁</a><a id="20032" class="Symbol">)</a> <a id="20034" href="/lia/part1/Semantics/#1229" class="Function">p₀</a> <a id="20037" href="/lia/part1/Semantics/#1232" class="Function">p₁</a> <a id="20040" href="/lia/part1/CharacteristicFormulas/#19931" class="Bound">φ⟺φ′</a> <a id="20045" href="/lia/part1/CharacteristicFormulas/#19958" class="Bound">ψ⟺ψ′</a></pre>

<p>With <a href="#remove%E2%8A%A5%E2%8A%A4"><code class="language-plaintext highlighter-rouge">remove⊥⊤</code></a> in hand, it is easy to prove functional
completeness of this fragment:</p>

<pre class="Agda"><a id="20152" href="/lia/part1/CharacteristicFormulas/#18213" class="Function">funCompl[¬∨∧]</a> <a id="20166" href="/lia/part1/CharacteristicFormulas/#20166" class="Bound">f</a>
  <a id="20170" class="Keyword">with</a> <a id="20175" href="/lia/part1/CharacteristicFormulas/#9729" class="Function">funCompl[⊥,⊤,¬,∨,∧]</a> <a id="20195" href="/lia/part1/CharacteristicFormulas/#20166" class="Bound">f</a>
<a id="20197" class="Symbol">...</a> <a id="20201" class="Symbol">|</a> <a id="20203" href="/lia/part1/CharacteristicFormulas/#20203" class="Bound">φ</a> <a id="20205" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="20207" href="/lia/part1/CharacteristicFormulas/#20207" class="Bound">Formula[⊥,⊤,¬,∨,∧]φ</a> <a id="20227" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="20229" href="/lia/part1/CharacteristicFormulas/#20229" class="Bound">⟦φ⟧≡f</a>
  <a id="20237" class="Keyword">with</a> <a id="20242" href="/lia/part1/CharacteristicFormulas/#18441" class="Function">remove⊥⊤</a> <a id="20251" href="/lia/part1/CharacteristicFormulas/#20207" class="Bound">Formula[⊥,⊤,¬,∨,∧]φ</a>
<a id="20271" class="Symbol">...</a> <a id="20275" class="Symbol">|</a> <a id="20277" href="/lia/part1/CharacteristicFormulas/#20277" class="Bound">ψ</a> <a id="20279" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="20281" href="/lia/part1/CharacteristicFormulas/#20281" class="Bound">Formula[¬∨∧]ψ</a> <a id="20295" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="20297" href="/lia/part1/CharacteristicFormulas/#20297" class="Bound">φ⟺ψ</a> <a id="20301" class="Keyword">rewrite</a> <a id="20309" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="20313" class="Bound">⟦φ⟧≡f</a>
  <a id="20321" class="Symbol">=</a> <a id="20323" href="/lia/part1/CharacteristicFormulas/#20277" class="Bound">ψ</a> <a id="20325" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="20327" href="/lia/part1/CharacteristicFormulas/#20281" class="Bound">Formula[¬∨∧]ψ</a> <a id="20341" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="20343" href="/lia/part0/Equality/#375" class="Function">sym</a> <a id="20347" class="Symbol">(</a><a id="20348" href="/lia/part0/Equality/#2007" class="Postulate">extensionality</a> <a id="20363" href="/lia/part1/CharacteristicFormulas/#20297" class="Bound">φ⟺ψ</a><a id="20366" class="Symbol">)</a></pre>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:removeTrueFalse-alt" class="pandoc-numbering-text exercise"><strong>Exercise 3</strong></span></dt>
    <dd>We have seen that one way to remove the constants <a href="#Formula.%E2%8A%A4"><code class="language-plaintext highlighter-rouge">⊤</code></a>
and <a href="#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> is to convert them “locally” to simple
tautologies, resp., absurdities, involving a fixed propositional
variable. This style of solution will be useful in <a href="#sec:FragmentsAndNeg" title="Section %g">this
section</a> . Are there alternative
ways to achieve the same effect? <span class="hidden">∎</span> <span class="right-aligned">∎</span>
</dd>
  </dl>

  <!--
::::::: {.solutionlink}
[solution](#exercise:removeTrueFalse-alt-solution)
:::::::
-->

</div>

<h2 id="sec:FragmentsAndNeg">
<a class="anchor" href="#sec:FragmentsAndNeg" aria-hidden="true"><span class="octicon octicon-link"></span></a>Fragments <code class="language-plaintext highlighter-rouge">{∧, ¬}</code> and <code class="language-plaintext highlighter-rouge">{∨, ¬}</code>
</h2>

<p>We further restrict the syntax by additionally forbidding disjunction
<code class="language-plaintext highlighter-rouge">∨</code>:</p>

<pre class="Agda"><a id="21593" class="Keyword">data</a> <a id="Formula[¬∧]"></a><a id="21598" href="/lia/part1/CharacteristicFormulas/#21598" class="Datatype">Formula[¬∧]</a> <a id="21610" class="Symbol">:</a> <a id="21612" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="21620" class="Symbol">→</a> <a id="21622" class="PrimitiveType">Set</a> <a id="21626" class="Keyword">where</a>
  <a id="Formula[¬∧].`_"></a><a id="21634" href="/lia/part1/CharacteristicFormulas/#21634" class="InductiveConstructor Operator">`_</a> <a id="21637" class="Symbol">:</a> <a id="21639" class="Symbol">∀</a> <a id="21641" href="/lia/part1/CharacteristicFormulas/#21641" class="Bound">p</a> <a id="21643" class="Symbol">→</a> <a id="21645" href="/lia/part1/CharacteristicFormulas/#21598" class="Datatype">Formula[¬∧]</a> <a id="21657" class="Symbol">(</a><a id="21658" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="21660" href="/lia/part1/CharacteristicFormulas/#21641" class="Bound">p</a><a id="21661" class="Symbol">)</a>
  <a id="Formula[¬∧].¬_"></a><a id="21665" href="/lia/part1/CharacteristicFormulas/#21665" class="InductiveConstructor Operator">¬_</a> <a id="21668" class="Symbol">:</a> <a id="21670" class="Symbol">∀</a> <a id="21672" class="Symbol">{</a><a id="21673" href="/lia/part1/CharacteristicFormulas/#21673" class="Bound">φ</a><a id="21674" class="Symbol">}</a> <a id="21676" class="Symbol">→</a> <a id="21678" href="/lia/part1/CharacteristicFormulas/#21598" class="Datatype">Formula[¬∧]</a> <a id="21690" href="/lia/part1/CharacteristicFormulas/#21673" class="Bound">φ</a> <a id="21692" class="Symbol">→</a> <a id="21694" href="/lia/part1/CharacteristicFormulas/#21598" class="Datatype">Formula[¬∧]</a> <a id="21706" class="Symbol">(</a><a id="21707" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="21709" href="/lia/part1/CharacteristicFormulas/#21673" class="Bound">φ</a><a id="21710" class="Symbol">)</a>
  <a id="Formula[¬∧]._∧_"></a><a id="21714" href="/lia/part1/CharacteristicFormulas/#21714" class="InductiveConstructor Operator">_∧_</a> <a id="21718" class="Symbol">:</a> <a id="21720" class="Symbol">∀</a> <a id="21722" class="Symbol">{</a><a id="21723" href="/lia/part1/CharacteristicFormulas/#21723" class="Bound">φ</a> <a id="21725" href="/lia/part1/CharacteristicFormulas/#21725" class="Bound">ψ</a><a id="21726" class="Symbol">}</a> <a id="21728" class="Symbol">→</a> <a id="21730" href="/lia/part1/CharacteristicFormulas/#21598" class="Datatype">Formula[¬∧]</a> <a id="21742" href="/lia/part1/CharacteristicFormulas/#21723" class="Bound">φ</a> <a id="21744" class="Symbol">→</a> <a id="21746" href="/lia/part1/CharacteristicFormulas/#21598" class="Datatype">Formula[¬∧]</a> <a id="21758" href="/lia/part1/CharacteristicFormulas/#21725" class="Bound">ψ</a> <a id="21760" class="Symbol">→</a> <a id="21762" href="/lia/part1/CharacteristicFormulas/#21598" class="Datatype">Formula[¬∧]</a> <a id="21774" class="Symbol">(</a><a id="21775" href="/lia/part1/CharacteristicFormulas/#21723" class="Bound">φ</a> <a id="21777" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="21779" href="/lia/part1/CharacteristicFormulas/#21725" class="Bound">ψ</a><a id="21780" class="Symbol">)</a></pre>

<p>Since the fragments <code class="language-plaintext highlighter-rouge">{∧, ¬}</code> and <code class="language-plaintext highlighter-rouge">{∨, ¬}</code> are dual to each other, we
focus on the former.</p>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:FormulaNegAnd" class="pandoc-numbering-text exercise"><strong>Exercise 4</strong> <em>(Functional completeness of <code class="language-plaintext highlighter-rouge">{∧, ¬}</code>)</em></span></dt>
    <dd>Show that <a href="#Formula%5B%C2%AC%E2%88%A7%5D"><code class="language-plaintext highlighter-rouge">Formula[¬∧]</code></a> is functionally
complete:</dd>
  </dl>

  <pre class="Agda"><a id="funCompl[¬∧]"></a><a id="22037" href="/lia/part1/CharacteristicFormulas/#22037" class="Function">funCompl[¬∧]</a> <a id="22050" class="Symbol">:</a> <a id="22052" href="/lia/part1/CharacteristicFormulas/#9040" class="Function">FunctionallyComplete</a> <a id="22073" href="/lia/part1/CharacteristicFormulas/#21598" class="Datatype">Formula[¬∧]</a></pre>

  <p><em>Hint</em>: Use functional completeness of
<a href="#Formula%5B%C2%AC%E2%88%A8%E2%88%A7%5D"><code class="language-plaintext highlighter-rouge">Formula[¬∨∧]</code></a> , as proved in
<a href="#funCompl%5B%C2%AC%E2%88%A8%E2%88%A7%5D"><code class="language-plaintext highlighter-rouge">funCompl[¬∨∧]</code></a> , and use de Morgan’s law to
express disjunction <code class="language-plaintext highlighter-rouge">∨</code> in terms of conjunction <code class="language-plaintext highlighter-rouge">∧</code> and negation <code class="language-plaintext highlighter-rouge">¬</code>.
<span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:FormulaNegAnd-solution)
:::::::
-->

</div>

<h2 id="fragment-2">
<a class="anchor" href="#fragment-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Fragment <code class="language-plaintext highlighter-rouge">{⇒, ⊥}</code>
</h2>

<p>We now consider yet another fragment, where we only allow implication
and the false constant:</p>

<pre class="Agda"><a id="23884" class="Keyword">data</a> <a id="Formula[⇒,⊥]"></a><a id="23889" href="/lia/part1/CharacteristicFormulas/#23889" class="Datatype">Formula[⇒,⊥]</a> <a id="23902" class="Symbol">:</a> <a id="23904" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="23912" class="Symbol">→</a> <a id="23914" class="PrimitiveType">Set</a> <a id="23918" class="Keyword">where</a>
  <a id="Formula[⇒,⊥].⊥"></a><a id="23926" href="/lia/part1/CharacteristicFormulas/#23926" class="InductiveConstructor">⊥</a> <a id="23928" class="Symbol">:</a> <a id="23930" href="/lia/part1/CharacteristicFormulas/#23889" class="Datatype">Formula[⇒,⊥]</a> <a id="23943" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a>
  <a id="Formula[⇒,⊥].`_"></a><a id="23947" href="/lia/part1/CharacteristicFormulas/#23947" class="InductiveConstructor Operator">`_</a> <a id="23950" class="Symbol">:</a> <a id="23952" class="Symbol">∀</a> <a id="23954" href="/lia/part1/CharacteristicFormulas/#23954" class="Bound">p</a> <a id="23956" class="Symbol">→</a> <a id="23958" href="/lia/part1/CharacteristicFormulas/#23889" class="Datatype">Formula[⇒,⊥]</a> <a id="23971" class="Symbol">(</a><a id="23972" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="23974" href="/lia/part1/CharacteristicFormulas/#23954" class="Bound">p</a><a id="23975" class="Symbol">)</a>
  <a id="Formula[⇒,⊥]._⇒_"></a><a id="23979" href="/lia/part1/CharacteristicFormulas/#23979" class="InductiveConstructor Operator">_⇒_</a> <a id="23983" class="Symbol">:</a> <a id="23985" class="Symbol">∀</a> <a id="23987" class="Symbol">{</a><a id="23988" href="/lia/part1/CharacteristicFormulas/#23988" class="Bound">φ</a> <a id="23990" href="/lia/part1/CharacteristicFormulas/#23990" class="Bound">ψ</a><a id="23991" class="Symbol">}</a> <a id="23993" class="Symbol">→</a> <a id="23995" href="/lia/part1/CharacteristicFormulas/#23889" class="Datatype">Formula[⇒,⊥]</a> <a id="24008" href="/lia/part1/CharacteristicFormulas/#23988" class="Bound">φ</a> <a id="24010" class="Symbol">→</a> <a id="24012" href="/lia/part1/CharacteristicFormulas/#23889" class="Datatype">Formula[⇒,⊥]</a> <a id="24025" href="/lia/part1/CharacteristicFormulas/#23990" class="Bound">ψ</a> <a id="24027" class="Symbol">→</a> <a id="24029" href="/lia/part1/CharacteristicFormulas/#23889" class="Datatype">Formula[⇒,⊥]</a> <a id="24042" class="Symbol">(</a><a id="24043" href="/lia/part1/CharacteristicFormulas/#23988" class="Bound">φ</a> <a id="24045" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="24047" href="/lia/part1/CharacteristicFormulas/#23990" class="Bound">ψ</a><a id="24048" class="Symbol">)</a></pre>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:FormulaImplFalse" class="pandoc-numbering-text exercise"><strong>Exercise 5</strong> <em>(Functional completeness of <code class="language-plaintext highlighter-rouge">{⇒, ⊥}</code>)</em></span></dt>
    <dd>Show that <a href="#Formula%5B%E2%87%92,%E2%8A%A5%5D"><code class="language-plaintext highlighter-rouge">Formula[⇒,⊥]</code></a> is functionally
complete:</dd>
  </dl>

  <pre class="Agda"><a id="funCompl[⇒,⊥]"></a><a id="24218" href="/lia/part1/CharacteristicFormulas/#24218" class="Function">funCompl[⇒,⊥]</a> <a id="24232" class="Symbol">:</a> <a id="24234" href="/lia/part1/CharacteristicFormulas/#9040" class="Function">FunctionallyComplete</a> <a id="24255" href="/lia/part1/CharacteristicFormulas/#23889" class="Datatype">Formula[⇒,⊥]</a></pre>

  <p><em>Hint</em>: Find a way express conjunction and negation in terms of
implication <code class="language-plaintext highlighter-rouge">⇒</code>. <span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:FormulaImplFalse-solution)
:::::::
-->

</div>

<h2 id="sec:monotone-fragment">
<a class="anchor" href="#sec:monotone-fragment" aria-hidden="true"><span class="octicon octicon-link"></span></a>Fragment <code class="language-plaintext highlighter-rouge">{⊥, ⊤, ∨, ∧}</code>
</h2>

<p>At this point one may get the impression that most set of connectives
are semantically complete. In this section we explore the fragment where
we only allow conjunction and disjunction, i.e., no negation,
implication, or bi-implication:</p>

<pre class="Agda"><a id="25808" class="Keyword">data</a> <a id="Formula[⊥,⊤,∨,∧]"></a><a id="25813" href="/lia/part1/CharacteristicFormulas/#25813" class="Datatype">Formula[⊥,⊤,∨,∧]</a> <a id="25830" class="Symbol">:</a> <a id="25832" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="25840" class="Symbol">→</a> <a id="25842" class="PrimitiveType">Set</a> <a id="25846" class="Keyword">where</a>
  <a id="Formula[⊥,⊤,∨,∧].⊥"></a><a id="25854" href="/lia/part1/CharacteristicFormulas/#25854" class="InductiveConstructor">⊥</a> <a id="25856" class="Symbol">:</a> <a id="25858" href="/lia/part1/CharacteristicFormulas/#25813" class="Datatype">Formula[⊥,⊤,∨,∧]</a> <a id="25875" href="/lia/part1/Semantics/#3605" class="InductiveConstructor">⊥</a>
  <a id="Formula[⊥,⊤,∨,∧].⊤"></a><a id="25879" href="/lia/part1/CharacteristicFormulas/#25879" class="InductiveConstructor">⊤</a> <a id="25881" class="Symbol">:</a> <a id="25883" href="/lia/part1/CharacteristicFormulas/#25813" class="Datatype">Formula[⊥,⊤,∨,∧]</a> <a id="25900" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a>
  <a id="Formula[⊥,⊤,∨,∧].`_"></a><a id="25904" href="/lia/part1/CharacteristicFormulas/#25904" class="InductiveConstructor Operator">`_</a> <a id="25907" class="Symbol">:</a> <a id="25909" class="Symbol">∀</a> <a id="25911" href="/lia/part1/CharacteristicFormulas/#25911" class="Bound">p</a> <a id="25913" class="Symbol">→</a> <a id="25915" href="/lia/part1/CharacteristicFormulas/#25813" class="Datatype">Formula[⊥,⊤,∨,∧]</a> <a id="25932" class="Symbol">(</a><a id="25933" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="25935" href="/lia/part1/CharacteristicFormulas/#25911" class="Bound">p</a><a id="25936" class="Symbol">)</a>
  <a id="Formula[⊥,⊤,∨,∧]._∧_"></a><a id="25940" href="/lia/part1/CharacteristicFormulas/#25940" class="InductiveConstructor Operator">_∧_</a> <a id="25944" class="Symbol">:</a> <a id="25946" class="Symbol">∀</a> <a id="25948" class="Symbol">{</a><a id="25949" href="/lia/part1/CharacteristicFormulas/#25949" class="Bound">φ</a> <a id="25951" href="/lia/part1/CharacteristicFormulas/#25951" class="Bound">ψ</a><a id="25952" class="Symbol">}</a> <a id="25954" class="Symbol">→</a> <a id="25956" href="/lia/part1/CharacteristicFormulas/#25813" class="Datatype">Formula[⊥,⊤,∨,∧]</a> <a id="25973" href="/lia/part1/CharacteristicFormulas/#25949" class="Bound">φ</a> <a id="25975" class="Symbol">→</a> <a id="25977" href="/lia/part1/CharacteristicFormulas/#25813" class="Datatype">Formula[⊥,⊤,∨,∧]</a> <a id="25994" href="/lia/part1/CharacteristicFormulas/#25951" class="Bound">ψ</a> <a id="25996" class="Symbol">→</a> <a id="25998" href="/lia/part1/CharacteristicFormulas/#25813" class="Datatype">Formula[⊥,⊤,∨,∧]</a> <a id="26015" class="Symbol">(</a><a id="26016" href="/lia/part1/CharacteristicFormulas/#25949" class="Bound">φ</a> <a id="26018" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="26020" href="/lia/part1/CharacteristicFormulas/#25951" class="Bound">ψ</a><a id="26021" class="Symbol">)</a>
  <a id="Formula[⊥,⊤,∨,∧]._∨_"></a><a id="26025" href="/lia/part1/CharacteristicFormulas/#26025" class="InductiveConstructor Operator">_∨_</a> <a id="26029" class="Symbol">:</a> <a id="26031" class="Symbol">∀</a> <a id="26033" class="Symbol">{</a><a id="26034" href="/lia/part1/CharacteristicFormulas/#26034" class="Bound">φ</a> <a id="26036" href="/lia/part1/CharacteristicFormulas/#26036" class="Bound">ψ</a><a id="26037" class="Symbol">}</a> <a id="26039" class="Symbol">→</a> <a id="26041" href="/lia/part1/CharacteristicFormulas/#25813" class="Datatype">Formula[⊥,⊤,∨,∧]</a> <a id="26058" href="/lia/part1/CharacteristicFormulas/#26034" class="Bound">φ</a> <a id="26060" class="Symbol">→</a> <a id="26062" href="/lia/part1/CharacteristicFormulas/#25813" class="Datatype">Formula[⊥,⊤,∨,∧]</a> <a id="26079" href="/lia/part1/CharacteristicFormulas/#26036" class="Bound">ψ</a> <a id="26081" class="Symbol">→</a> <a id="26083" href="/lia/part1/CharacteristicFormulas/#25813" class="Datatype">Formula[⊥,⊤,∨,∧]</a> <a id="26100" class="Symbol">(</a><a id="26101" href="/lia/part1/CharacteristicFormulas/#26034" class="Bound">φ</a> <a id="26103" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="26105" href="/lia/part1/CharacteristicFormulas/#26036" class="Bound">ψ</a><a id="26106" class="Symbol">)</a></pre>

<p>As a preparation for the following, we prove that this fragment is
closed under long intersections and disjunctions:</p>

<pre class="Agda"><a id="Formula[⊥,⊤,∨,∧]-⋀-closed"></a><a id="26235" href="/lia/part1/CharacteristicFormulas/#26235" class="Function">Formula[⊥,⊤,∨,∧]-⋀-closed</a> <a id="26261" class="Symbol">:</a> <a id="26263" class="Symbol">∀</a> <a id="26265" href="/lia/part1/CharacteristicFormulas/#26265" class="Bound">φs</a> <a id="26268" class="Symbol">→</a>
  <a id="26272" href="/lia/part0/List/#8771" class="Function">All</a> <a id="26276" href="/lia/part1/CharacteristicFormulas/#25813" class="Datatype">Formula[⊥,⊤,∨,∧]</a> <a id="26293" href="/lia/part1/CharacteristicFormulas/#26265" class="Bound">φs</a> <a id="26296" class="Symbol">→</a>
  <a id="26300" class="Comment">-----------------------</a>
  <a id="26326" href="/lia/part1/CharacteristicFormulas/#25813" class="Datatype">Formula[⊥,⊤,∨,∧]</a> <a id="26343" class="Symbol">(</a><a id="26344" href="/lia/part1/Semantics/#37071" class="Function Operator">⋀</a> <a id="26346" href="/lia/part1/CharacteristicFormulas/#26265" class="Bound">φs</a><a id="26348" class="Symbol">)</a>
  
<a id="Formula[⊥,⊤,∨,∧]-⋁-closed"></a><a id="26353" href="/lia/part1/CharacteristicFormulas/#26353" class="Function">Formula[⊥,⊤,∨,∧]-⋁-closed</a> <a id="26379" class="Symbol">:</a> <a id="26381" class="Symbol">∀</a> <a id="26383" href="/lia/part1/CharacteristicFormulas/#26383" class="Bound">φs</a> <a id="26386" class="Symbol">→</a>
  <a id="26390" href="/lia/part0/List/#8771" class="Function">All</a> <a id="26394" href="/lia/part1/CharacteristicFormulas/#25813" class="Datatype">Formula[⊥,⊤,∨,∧]</a> <a id="26411" href="/lia/part1/CharacteristicFormulas/#26383" class="Bound">φs</a> <a id="26414" class="Symbol">→</a>
  <a id="26418" class="Comment">-----------------------</a>
  <a id="26444" href="/lia/part1/CharacteristicFormulas/#25813" class="Datatype">Formula[⊥,⊤,∨,∧]</a> <a id="26461" class="Symbol">(</a><a id="26462" href="/lia/part1/Semantics/#38679" class="Function Operator">⋁</a> <a id="26464" href="/lia/part1/CharacteristicFormulas/#26383" class="Bound">φs</a><a id="26466" class="Symbol">)</a></pre>
<!-- *Hint*: C.f. [`Formula[⊥,⊤,¬,∨,∧]-⋀-closed`](#Formula[⊥,⊤,¬,∨,∧]-⋀-closed)
 and [`Formula[⊥,⊤,¬,∨,∧]-∨-closed`](#Formula[⊥,⊤,¬,∨,∧]-∨-closed)
. -->

<div class="introbox">

  <p>The two proofs are identical to
<a href="#Formula%5B%E2%8A%A5,%E2%8A%A4,%C2%AC,%E2%88%A8,%E2%88%A7%5D-%E2%8B%80-closed"><code class="language-plaintext highlighter-rouge">Formula[⊥,⊤,¬,∨,∧]-⋀-closed</code></a> ,
resp., <a href="#Formula%5B%E2%8A%A5,%E2%8A%A4,%C2%AC,%E2%88%A8,%E2%88%A7%5D-%E2%88%A8-closed"><code class="language-plaintext highlighter-rouge">Formula[⊥,⊤,¬,∨,∧]-∨-closed</code></a>
. <button type="button" class="hidden">[show]</button>
<button type="button" class="collapsible">[show]</button></p>

</div>

<div class="hidebox">

  <pre class="Agda"><a id="26826" href="/lia/part1/CharacteristicFormulas/#26235" class="Function">Formula[⊥,⊤,∨,∧]-⋀-closed</a> <a id="26852" href="/lia/part0/List/#487" class="InductiveConstructor">ε</a> <a id="26854" href="/lia/part1/CharacteristicFormulas/#26854" class="Bound">all</a> <a id="26858" class="Symbol">=</a> <a id="26860" href="/lia/part1/CharacteristicFormulas/#25879" class="InductiveConstructor">⊤</a>
<a id="26862" href="/lia/part1/CharacteristicFormulas/#26235" class="Function">Formula[⊥,⊤,∨,∧]-⋀-closed</a> <a id="26888" class="Symbol">(</a><a id="26889" href="/lia/part1/CharacteristicFormulas/#26889" class="Bound">φ</a> <a id="26891" href="/lia/part0/List/#499" class="InductiveConstructor Operator">∷</a> <a id="26893" href="/lia/part1/CharacteristicFormulas/#26893" class="Bound">φs</a><a id="26895" class="Symbol">)</a> <a id="26897" href="/lia/part1/CharacteristicFormulas/#26897" class="Bound">all</a>
  <a id="26903" class="Keyword">with</a> <a id="26908" href="/lia/part1/CharacteristicFormulas/#26235" class="Function">Formula[⊥,⊤,∨,∧]-⋀-closed</a> <a id="26934" href="/lia/part1/CharacteristicFormulas/#26893" class="Bound">φs</a> <a id="26937" class="Symbol">(λ</a> <a id="26940" href="/lia/part1/CharacteristicFormulas/#26940" class="Bound">φ∈φs</a> <a id="26945" class="Symbol">→</a> <a id="26947" href="/lia/part1/CharacteristicFormulas/#26897" class="Bound">all</a> <a id="26951" class="Symbol">(</a><a id="26952" href="/lia/part0/List/#7229" class="InductiveConstructor">there</a> <a id="26958" href="/lia/part1/CharacteristicFormulas/#26940" class="Bound">φ∈φs</a><a id="26962" class="Symbol">))</a>
<a id="26965" class="Symbol">...</a> <a id="26969" class="Symbol">|</a> <a id="26971" href="/lia/part1/CharacteristicFormulas/#26971" class="Bound">ind</a> <a id="26975" class="Symbol">=</a> <a id="26977" class="Bound">all</a> <a id="26981" href="/lia/part0/List/#7186" class="InductiveConstructor">here</a> <a id="26986" href="/lia/part1/CharacteristicFormulas/#25940" class="InductiveConstructor Operator">∧</a> <a id="26988" href="/lia/part1/CharacteristicFormulas/#26971" class="Bound">ind</a>

<a id="26993" href="/lia/part1/CharacteristicFormulas/#26353" class="Function">Formula[⊥,⊤,∨,∧]-⋁-closed</a> <a id="27019" href="/lia/part0/List/#487" class="InductiveConstructor">ε</a> <a id="27021" href="/lia/part1/CharacteristicFormulas/#27021" class="Bound">all</a> <a id="27025" class="Symbol">=</a> <a id="27027" href="/lia/part1/CharacteristicFormulas/#25854" class="InductiveConstructor">⊥</a>
<a id="27029" href="/lia/part1/CharacteristicFormulas/#26353" class="Function">Formula[⊥,⊤,∨,∧]-⋁-closed</a> <a id="27055" class="Symbol">(</a><a id="27056" href="/lia/part1/CharacteristicFormulas/#27056" class="Bound">φ</a> <a id="27058" href="/lia/part0/List/#499" class="InductiveConstructor Operator">∷</a> <a id="27060" href="/lia/part1/CharacteristicFormulas/#27060" class="Bound">φs</a><a id="27062" class="Symbol">)</a> <a id="27064" href="/lia/part1/CharacteristicFormulas/#27064" class="Bound">all</a>
  <a id="27070" class="Keyword">with</a> <a id="27075" href="/lia/part1/CharacteristicFormulas/#26353" class="Function">Formula[⊥,⊤,∨,∧]-⋁-closed</a> <a id="27101" href="/lia/part1/CharacteristicFormulas/#27060" class="Bound">φs</a> <a id="27104" class="Symbol">(λ</a> <a id="27107" href="/lia/part1/CharacteristicFormulas/#27107" class="Bound">φ∈φs</a> <a id="27112" class="Symbol">→</a> <a id="27114" href="/lia/part1/CharacteristicFormulas/#27064" class="Bound">all</a> <a id="27118" class="Symbol">(</a><a id="27119" href="/lia/part0/List/#7229" class="InductiveConstructor">there</a> <a id="27125" href="/lia/part1/CharacteristicFormulas/#27107" class="Bound">φ∈φs</a><a id="27129" class="Symbol">))</a>
<a id="27132" class="Symbol">...</a> <a id="27136" class="Symbol">|</a> <a id="27138" href="/lia/part1/CharacteristicFormulas/#27138" class="Bound">ind</a> <a id="27142" class="Symbol">=</a> <a id="27144" class="Bound">all</a> <a id="27148" href="/lia/part0/List/#7186" class="InductiveConstructor">here</a> <a id="27153" href="/lia/part1/CharacteristicFormulas/#26025" class="InductiveConstructor Operator">∨</a> <a id="27155" href="/lia/part1/CharacteristicFormulas/#27138" class="Bound">ind</a></pre>

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:fragmentAndOr" class="pandoc-numbering-text exercise"><strong>Exercise 6</strong></span></dt>
    <dd>Is this fragment semantically complete? Find a Boolean function
which cannot be expressed in the fragment. <span class="hidden">∎</span> <span class="right-aligned">∎</span>
</dd>
  </dl>

  <!--
::::::: {.solutionlink}
[solution](#exercise:fragmentAndOr-solution)
:::::::
-->

</div>

<p>The first observation is that this fragment can only encode monotone
Boolean functions. (We have here in mind the natural ordering <code class="language-plaintext highlighter-rouge">ff ≤𝔹 tt</code>
on <code class="language-plaintext highlighter-rouge">𝔹</code>.) Intuitively, a Boolean function is monotone iff flipping one
input from <a href="../../part0/Booleans#%F0%9D%94%B9.ff"><code class="language-plaintext highlighter-rouge">ff</code></a> to
<a href="../../part0/Booleans#%F0%9D%94%B9.tt"><code class="language-plaintext highlighter-rouge">tt</code></a> can only increase the output.
Formally, we define a partial order <code class="language-plaintext highlighter-rouge">_≤V_</code> on valuation by lifting
<code class="language-plaintext highlighter-rouge">_≤𝔹_</code> point-wise in the expected way:</p>

<pre class="Agda"><a id="_≤V_"></a><a id="28084" href="/lia/part1/CharacteristicFormulas/#28084" class="Function Operator">_≤V_</a> <a id="28089" class="Symbol">:</a> <a id="28091" href="/lia/part1/Semantics/#10530" class="Function">Val</a> <a id="28095" class="Symbol">→</a> <a id="28097" href="/lia/part1/Semantics/#10530" class="Function">Val</a> <a id="28101" class="Symbol">→</a> <a id="28103" class="PrimitiveType">Set</a>
<a id="28107" href="/lia/part1/CharacteristicFormulas/#28107" class="Bound">ϱ</a> <a id="28109" href="/lia/part1/CharacteristicFormulas/#28084" class="Function Operator">≤V</a> <a id="28112" href="/lia/part1/CharacteristicFormulas/#28112" class="Bound">ϱ′</a> <a id="28115" class="Symbol">=</a> <a id="28117" href="/lia/part0/Logic/#216" class="Function">∀[</a> <a id="28120" href="/lia/part1/CharacteristicFormulas/#28120" class="Bound">p</a> <a id="28122" href="/lia/part0/Logic/#216" class="Function">]</a> <a id="28124" href="/lia/part1/CharacteristicFormulas/#28107" class="Bound">ϱ</a> <a id="28126" href="/lia/part1/CharacteristicFormulas/#28120" class="Bound">p</a> <a id="28128" href="/lia/part0/Booleans/#6669" class="Datatype Operator">≤𝔹</a> <a id="28131" href="/lia/part1/CharacteristicFormulas/#28112" class="Bound">ϱ′</a> <a id="28134" href="/lia/part1/CharacteristicFormulas/#28120" class="Bound">p</a></pre>

<p>which allows us to define what it means for a Boolean function to be
monotone:</p>

<pre class="Agda"><a id="Monotone"></a><a id="28225" href="/lia/part1/CharacteristicFormulas/#28225" class="Function">Monotone</a> <a id="28234" class="Symbol">:</a> <a id="28236" href="/lia/part1/CharacteristicFormulas/#8588" class="Function">𝔹Fun</a> <a id="28241" class="Symbol">→</a> <a id="28243" class="PrimitiveType">Set</a>
<a id="28247" href="/lia/part1/CharacteristicFormulas/#28225" class="Function">Monotone</a> <a id="28256" href="/lia/part1/CharacteristicFormulas/#28256" class="Bound">f</a> <a id="28258" class="Symbol">=</a> <a id="28260" class="Symbol">∀</a> <a id="28262" href="/lia/part1/CharacteristicFormulas/#28262" class="Bound">ϱ</a> <a id="28264" href="/lia/part1/CharacteristicFormulas/#28264" class="Bound">ϱ′</a> <a id="28267" class="Symbol">→</a> <a id="28269" href="/lia/part1/CharacteristicFormulas/#28262" class="Bound">ϱ</a> <a id="28271" href="/lia/part1/CharacteristicFormulas/#28084" class="Function Operator">≤V</a> <a id="28274" href="/lia/part1/CharacteristicFormulas/#28264" class="Bound">ϱ′</a> <a id="28277" class="Symbol">→</a> <a id="28279" href="/lia/part1/CharacteristicFormulas/#28256" class="Bound">f</a> <a id="28281" href="/lia/part1/CharacteristicFormulas/#28262" class="Bound">ϱ</a> <a id="28283" href="/lia/part0/Booleans/#6669" class="Datatype Operator">≤𝔹</a> <a id="28286" href="/lia/part1/CharacteristicFormulas/#28256" class="Bound">f</a> <a id="28288" href="/lia/part1/CharacteristicFormulas/#28264" class="Bound">ϱ′</a></pre>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:negNotMonotone" class="pandoc-numbering-text exercise"><strong>Exercise 7</strong></span></dt>
    <dd>Formally Prove that the counterexample you constructed in <a href="#exercise:fragmentAndOr" title="Exercise 6">Exercise
6</a> is not monotone. <span class="hidden">∎</span> <span class="right-aligned">∎</span>
</dd>
  </dl>

  <!--
::::::: {.solutionlink}
[solution](#exercise:negNotMonotone-solution)
:::::::
-->

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:fragmentAndOrOnlyMonotone" class="pandoc-numbering-text exercise"><strong>Exercise 8</strong></span></dt>
    <dd>Prove that the <code class="language-plaintext highlighter-rouge">{⊥, ⊤, ∨, ∧}</code> fragment can only represent monotone
functions:</dd>
  </dl>

  <pre class="Agda"><a id="only-monotone"></a><a id="28941" href="/lia/part1/CharacteristicFormulas/#28941" class="Function">only-monotone</a> <a id="28955" class="Symbol">:</a> <a id="28957" class="Symbol">∀</a> <a id="28959" class="Symbol">{</a><a id="28960" href="/lia/part1/CharacteristicFormulas/#28960" class="Bound">φ</a><a id="28961" class="Symbol">}</a> <a id="28963" class="Symbol">→</a> <a id="28965" href="/lia/part1/CharacteristicFormulas/#25813" class="Datatype">Formula[⊥,⊤,∨,∧]</a> <a id="28982" href="/lia/part1/CharacteristicFormulas/#28960" class="Bound">φ</a> <a id="28984" class="Symbol">→</a> <a id="28986" href="/lia/part1/CharacteristicFormulas/#28225" class="Function">Monotone</a> <a id="28995" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="28997" href="/lia/part1/CharacteristicFormulas/#28960" class="Bound">φ</a> <a id="28999" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧_</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:fragmentAndOrOnlyMonotone-solution)
:::::::
-->

</div>

<p>This suggests that the <code class="language-plaintext highlighter-rouge">{⊥, ⊤, ∨, ∧}</code> fragment may be able to encode
<em>all</em> monotone Boolean functions. This is true and slightly harder to
prove.</p>

<p>We begin by encoding of the single literals:</p>

<pre class="Agda"><a id="monCharLit"></a><a id="30005" href="/lia/part1/CharacteristicFormulas/#30005" class="Function">monCharLit</a> <a id="30016" class="Symbol">:</a> <a id="30018" href="/lia/part1/Semantics/#10530" class="Function">Val</a> <a id="30022" class="Symbol">→</a> <a id="30024" href="/lia/part1/Semantics/#1104" class="Function">PropName</a> <a id="30033" class="Symbol">→</a> <a id="30035" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a>
<a id="30043" href="/lia/part1/CharacteristicFormulas/#30005" class="Function">monCharLit</a> <a id="30054" href="/lia/part1/CharacteristicFormulas/#30054" class="Bound">ϱ</a> <a id="30056" href="/lia/part1/CharacteristicFormulas/#30056" class="Bound">p</a>
  <a id="30060" class="Keyword">with</a> <a id="30065" href="/lia/part1/CharacteristicFormulas/#30054" class="Bound">ϱ</a> <a id="30067" href="/lia/part1/CharacteristicFormulas/#30056" class="Bound">p</a>
<a id="30069" class="Symbol">...</a> <a id="30073" class="Symbol">|</a> <a id="30075" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="30078" class="Symbol">=</a> <a id="30080" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="30082" class="Bound">p</a>
<a id="30084" class="Symbol">...</a> <a id="30088" class="Symbol">|</a> <a id="30090" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="30093" class="Symbol">=</a> <a id="30095" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a> <a id="30097" class="Comment">-- !</a></pre>

<p>The second case of the definition above may be surprising since we are
just ignoring the proposition <code class="language-plaintext highlighter-rouge">p</code> when the valuation <code class="language-plaintext highlighter-rouge">ϱ</code> says false.
Monotonicity will ensure that this is the right definition.</p>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:monCharLit-Formula" class="pandoc-numbering-text exercise"><strong>Exercise 9</strong></span></dt>
    <dd>Formally prove that <a href="#monCharLit"><code class="language-plaintext highlighter-rouge">monCharLit</code></a> produces a formula
in the fragment:</dd>
  </dl>

  <pre class="Agda"><a id="monCharLit-Formula[⊥,⊤,∨,∧]"></a><a id="30455" href="/lia/part1/CharacteristicFormulas/#30455" class="Function">monCharLit-Formula[⊥,⊤,∨,∧]</a> <a id="30483" class="Symbol">:</a> <a id="30485" class="Symbol">∀</a> <a id="30487" href="/lia/part1/CharacteristicFormulas/#30487" class="Bound">ϱ</a> <a id="30489" href="/lia/part1/CharacteristicFormulas/#30489" class="Bound">p</a> <a id="30491" class="Symbol">→</a>
  <a id="30495" class="Comment">---------------------------------</a>
  <a id="30531" href="/lia/part1/CharacteristicFormulas/#25813" class="Datatype">Formula[⊥,⊤,∨,∧]</a> <a id="30548" class="Symbol">(</a><a id="30549" href="/lia/part1/CharacteristicFormulas/#30005" class="Function">monCharLit</a> <a id="30560" href="/lia/part1/CharacteristicFormulas/#30487" class="Bound">ϱ</a> <a id="30562" href="/lia/part1/CharacteristicFormulas/#30489" class="Bound">p</a><a id="30563" class="Symbol">)</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:monCharLit-Formula-solution)
:::::::
-->

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:monCharLit-sound-complete" class="pandoc-numbering-text exercise"><strong>Exercise 10</strong></span></dt>
    <dd>Prove that <a href="#monCharLit"><code class="language-plaintext highlighter-rouge">monCharLit</code></a> is sound and complete in the
following sense:</dd>
  </dl>

  <pre class="Agda"><a id="monCharLit-soundness"></a><a id="30891" href="/lia/part1/CharacteristicFormulas/#30891" class="Function">monCharLit-soundness</a> <a id="30912" class="Symbol">:</a> <a id="30914" class="Symbol">∀</a> <a id="30916" href="/lia/part1/CharacteristicFormulas/#30916" class="Bound">ϱ</a> <a id="30918" href="/lia/part1/CharacteristicFormulas/#30918" class="Bound">p</a> <a id="30920" class="Symbol">→</a>
  <a id="30924" class="Comment">-----------------------</a>
  <a id="30950" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="30952" href="/lia/part1/CharacteristicFormulas/#30005" class="Function">monCharLit</a> <a id="30963" href="/lia/part1/CharacteristicFormulas/#30916" class="Bound">ϱ</a> <a id="30965" href="/lia/part1/CharacteristicFormulas/#30918" class="Bound">p</a> <a id="30967" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="30969" href="/lia/part1/CharacteristicFormulas/#30916" class="Bound">ϱ</a> <a id="30971" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="30973" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a>

<a id="monCharLit-completeness"></a><a id="30977" href="/lia/part1/CharacteristicFormulas/#30977" class="Function">monCharLit-completeness</a> <a id="31001" class="Symbol">:</a> <a id="31003" class="Symbol">∀</a> <a id="31005" href="/lia/part1/CharacteristicFormulas/#31005" class="Bound">ϱ</a> <a id="31007" href="/lia/part1/CharacteristicFormulas/#31007" class="Bound">p</a> <a id="31009" href="/lia/part1/CharacteristicFormulas/#31009" class="Bound">ϱ′</a> <a id="31012" class="Symbol">→</a>
  <a id="31016" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="31018" href="/lia/part1/CharacteristicFormulas/#30005" class="Function">monCharLit</a> <a id="31029" href="/lia/part1/CharacteristicFormulas/#31005" class="Bound">ϱ</a> <a id="31031" href="/lia/part1/CharacteristicFormulas/#31007" class="Bound">p</a> <a id="31033" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="31035" href="/lia/part1/CharacteristicFormulas/#31009" class="Bound">ϱ′</a> <a id="31038" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="31040" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="31043" class="Symbol">→</a>
  <a id="31047" class="Comment">------------</a>
  <a id="31062" href="/lia/part1/CharacteristicFormulas/#31005" class="Bound">ϱ</a> <a id="31064" href="/lia/part1/CharacteristicFormulas/#31007" class="Bound">p</a> <a id="31066" href="/lia/part0/Booleans/#6669" class="Datatype Operator">≤𝔹</a> <a id="31069" href="/lia/part1/CharacteristicFormulas/#31009" class="Bound">ϱ′</a> <a id="31072" href="/lia/part1/CharacteristicFormulas/#31007" class="Bound">p</a></pre>

  <p>Notice that we just require the more relaxed <code class="language-plaintext highlighter-rouge">ϱ p ≤𝔹 ϱ′ p</code> in
<a href="#monCharLit-completeness"><code class="language-plaintext highlighter-rouge">monCharLit-completeness</code></a> , instead of a
full equality <code class="language-plaintext highlighter-rouge">ϱ p ≡ ϱ′ p</code> as in
<a href="#charLit-completeness"><code class="language-plaintext highlighter-rouge">charLit-completeness</code></a> . This is the correct
choice since we will only be representing monotone Boolean functions.
<span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:monCharLit-sound-complete-solution)
:::::::
-->

</div>

<p>We now build monotone characteristic formulas, following the same idea
as in <a href="#%E3%80%94_%E3%80%95"><code class="language-plaintext highlighter-rouge">〔_〕</code></a> —but of course replacing <a href="#%E3%80%8C_%E3%80%8D_"><code class="language-plaintext highlighter-rouge">「_」_</code></a>
with <a href="#monCharLit"><code class="language-plaintext highlighter-rouge">monCharLit</code></a> :</p>

<pre class="Agda"><a id="monCharFormula"></a><a id="32059" href="/lia/part1/CharacteristicFormulas/#32059" class="Function">monCharFormula</a> <a id="32074" class="Symbol">:</a> <a id="32076" href="/lia/part1/Semantics/#10530" class="Function">Val</a> <a id="32080" class="Symbol">→</a> <a id="32082" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a>
<a id="32090" href="/lia/part1/CharacteristicFormulas/#32059" class="Function">monCharFormula</a> <a id="32105" href="/lia/part1/CharacteristicFormulas/#32105" class="Bound">ϱ</a> <a id="32107" class="Symbol">=</a> <a id="32109" href="/lia/part1/Semantics/#37071" class="Function Operator">⋀</a> <a id="32111" href="/lia/part0/List/#2362" class="Function">map</a> <a id="32115" class="Symbol">(</a><a id="32116" href="/lia/part1/CharacteristicFormulas/#30005" class="Function">monCharLit</a> <a id="32127" href="/lia/part1/CharacteristicFormulas/#32105" class="Bound">ϱ</a><a id="32128" class="Symbol">)</a> <a id="32130" href="/lia/part1/Semantics/#2040" class="Function">propNames</a></pre>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:exercise-monCharFormula" class="pandoc-numbering-text exercise"><strong>Exercise 11</strong></span></dt>
    <dd>Show that</dd>
  </dl>

  <ol>
    <li>monotone characteristic formulas belong to the fragment, c.f.
<a href="#charFormula-Formula%5B%E2%8A%A5,%E2%8A%A4,%C2%AC,%E2%88%A8,%E2%88%A7%5D"><code class="language-plaintext highlighter-rouge">charFormula-Formula[⊥,⊤,¬,∨,∧]</code></a>
,</li>
    <li>they are sound, and</li>
    <li>they are complete:</li>
  </ol>

  <pre class="Agda"><a id="monCharFormula-Formula[⊥,⊤,∨,∧]"></a><a id="32374" href="/lia/part1/CharacteristicFormulas/#32374" class="Function">monCharFormula-Formula[⊥,⊤,∨,∧]</a> <a id="32406" class="Symbol">:</a> <a id="32408" class="Symbol">∀</a> <a id="32410" href="/lia/part1/CharacteristicFormulas/#32410" class="Bound">ϱ</a> <a id="32412" class="Symbol">→</a>
  <a id="32416" class="Comment">-----------------------------------</a>
  <a id="32454" href="/lia/part1/CharacteristicFormulas/#25813" class="Datatype">Formula[⊥,⊤,∨,∧]</a> <a id="32471" class="Symbol">(</a><a id="32472" href="/lia/part1/CharacteristicFormulas/#32059" class="Function">monCharFormula</a> <a id="32487" href="/lia/part1/CharacteristicFormulas/#32410" class="Bound">ϱ</a><a id="32488" class="Symbol">)</a></pre>
  <pre class="Agda"><a id="monCharFormula-soundness"></a><a id="32499" href="/lia/part1/CharacteristicFormulas/#32499" class="Function">monCharFormula-soundness</a> <a id="32524" class="Symbol">:</a> <a id="32526" class="Symbol">∀</a> <a id="32528" href="/lia/part1/CharacteristicFormulas/#32528" class="Bound">ϱ</a> <a id="32530" class="Symbol">→</a>
  <a id="32534" class="Comment">---------------------------</a>
  <a id="32564" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="32566" href="/lia/part1/CharacteristicFormulas/#32059" class="Function">monCharFormula</a> <a id="32581" href="/lia/part1/CharacteristicFormulas/#32528" class="Bound">ϱ</a> <a id="32583" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="32585" href="/lia/part1/CharacteristicFormulas/#32528" class="Bound">ϱ</a> <a id="32587" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="32589" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a></pre>
  <pre class="Agda"><a id="monCharFormula-completeness"></a><a id="32601" href="/lia/part1/CharacteristicFormulas/#32601" class="Function">monCharFormula-completeness</a> <a id="32629" class="Symbol">:</a> <a id="32631" class="Symbol">∀</a> <a id="32633" href="/lia/part1/CharacteristicFormulas/#32633" class="Bound">ϱ</a> <a id="32635" href="/lia/part1/CharacteristicFormulas/#32635" class="Bound">ϱ′</a> <a id="32638" class="Symbol">→</a>
  <a id="32642" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="32644" href="/lia/part1/CharacteristicFormulas/#32059" class="Function">monCharFormula</a> <a id="32659" href="/lia/part1/CharacteristicFormulas/#32633" class="Bound">ϱ</a> <a id="32661" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="32663" href="/lia/part1/CharacteristicFormulas/#32635" class="Bound">ϱ′</a> <a id="32666" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="32668" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="32671" class="Symbol">→</a>
  <a id="32675" class="Comment">---------------------------</a>
  <a id="32705" href="/lia/part1/CharacteristicFormulas/#32633" class="Bound">ϱ</a> <a id="32707" href="/lia/part1/CharacteristicFormulas/#28084" class="Function Operator">≤V</a> <a id="32710" href="/lia/part1/CharacteristicFormulas/#32635" class="Bound">ϱ′</a></pre>

  <p>Notice that completeness is weaker than the corresponding property in
<a href="#charFormula-complete"><code class="language-plaintext highlighter-rouge">charFormula-complete</code></a> , since it demands only
<code class="language-plaintext highlighter-rouge">ϱ ≤V ϱ′</code> instead of <code class="language-plaintext highlighter-rouge">ϱ ≡ ϱ′</code>. <span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise-monCharFormula-solution)
:::::::
-->

</div>

<p>With all these ingredients in hand, we are now ready to prove that the
<code class="language-plaintext highlighter-rouge">{⊥, ⊤, ∨, ∧}</code> fragment is functionally complete for monotone functions:</p>

<pre class="Agda"><a id="MonotoneFunctionallyComplete"></a><a id="34154" href="/lia/part1/CharacteristicFormulas/#34154" class="Function">MonotoneFunctionallyComplete</a> <a id="34183" class="Symbol">:</a> <a id="34185" class="Symbol">(</a><a id="34186" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="34194" class="Symbol">→</a> <a id="34196" class="PrimitiveType">Set</a><a id="34199" class="Symbol">)</a> <a id="34201" class="Symbol">→</a> <a id="34203" class="PrimitiveType">Set</a>
<a id="34207" href="/lia/part1/CharacteristicFormulas/#34154" class="Function">MonotoneFunctionallyComplete</a> <a id="34236" href="/lia/part1/CharacteristicFormulas/#34236" class="Bound">Fragment</a> <a id="34245" class="Symbol">=</a>
  <a id="34249" class="Symbol">∀</a> <a id="34251" href="/lia/part1/CharacteristicFormulas/#34251" class="Bound">f</a> <a id="34253" class="Symbol">→</a> <a id="34255" href="/lia/part1/CharacteristicFormulas/#28225" class="Function">Monotone</a> <a id="34264" href="/lia/part1/CharacteristicFormulas/#34251" class="Bound">f</a> <a id="34266" class="Symbol">→</a> <a id="34268" href="/lia/part0/Logic/#461" class="Function">∃[</a> <a id="34271" href="/lia/part1/CharacteristicFormulas/#34271" class="Bound">φ</a> <a id="34273" href="/lia/part0/Logic/#461" class="Function">]</a> <a id="34275" class="Symbol">(</a><a id="34276" href="/lia/part1/CharacteristicFormulas/#34236" class="Bound">Fragment</a> <a id="34285" href="/lia/part1/CharacteristicFormulas/#34271" class="Bound">φ</a> <a id="34287" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="34289" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="34291" href="/lia/part1/CharacteristicFormulas/#34271" class="Bound">φ</a> <a id="34293" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧_</a> <a id="34296" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="34298" href="/lia/part1/CharacteristicFormulas/#34251" class="Bound">f</a><a id="34299" class="Symbol">)</a>

<a id="monFunCompl[⊥,⊤,∨,∧]"></a><a id="34302" href="/lia/part1/CharacteristicFormulas/#34302" class="Function">monFunCompl[⊥,⊤,∨,∧]</a> <a id="34323" class="Symbol">:</a> <a id="34325" href="/lia/part1/CharacteristicFormulas/#34154" class="Function">MonotoneFunctionallyComplete</a> <a id="34354" href="/lia/part1/CharacteristicFormulas/#25813" class="Datatype">Formula[⊥,⊤,∨,∧]</a>

<a id="34372" href="/lia/part1/CharacteristicFormulas/#34302" class="Function">monFunCompl[⊥,⊤,∨,∧]</a> <a id="34393" href="/lia/part1/CharacteristicFormulas/#34393" class="Bound">f</a> <a id="34395" href="/lia/part1/CharacteristicFormulas/#34395" class="Bound">monf</a> <a id="34400" class="Symbol">=</a> <a id="34402" href="/lia/part1/CharacteristicFormulas/#34698" class="Function">φ</a> <a id="34404" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="34406" href="/lia/part1/CharacteristicFormulas/#34797" class="Function">Formula[⊥,⊤,∨,∧]φ</a> <a id="34424" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="34426" href="/lia/part0/Equality/#2007" class="Postulate">extensionality</a> <a id="34441" href="/lia/part1/CharacteristicFormulas/#35175" class="Function">correctness</a> <a id="34453" class="Keyword">where</a></pre>

<p>The construction of the formula <code class="language-plaintext highlighter-rouge">φ</code> expressing <code class="language-plaintext highlighter-rouge">f</code> is analogous to
<a href="#funCompl%5B%E2%8A%A5,%E2%8A%A4,%C2%AC,%E2%88%A8,%E2%88%A7%5D"><code class="language-plaintext highlighter-rouge">funCompl[⊥,⊤,¬,∨,∧]</code></a> , except that
<a href="#%E3%80%94_%E3%80%95"><code class="language-plaintext highlighter-rouge">〔_〕</code></a> is replaced by <a href="#monCharFormula"><code class="language-plaintext highlighter-rouge">monCharFormula</code></a> :</p>

<pre class="Agda">  <a id="34624" href="/lia/part1/CharacteristicFormulas/#34624" class="Function">ttVals</a> <a id="34631" class="Symbol">=</a> <a id="34633" href="/lia/part0/List/#4554" class="Function">filter</a> <a id="34640" class="Symbol">(λ</a> <a id="34643" href="/lia/part1/CharacteristicFormulas/#34643" class="Bound">ϱ</a> <a id="34645" class="Symbol">→</a> <a id="34647" href="/lia/part1/CharacteristicFormulas/#34393" class="Bound">f</a> <a id="34649" href="/lia/part1/CharacteristicFormulas/#34643" class="Bound">ϱ</a> <a id="34651" href="/lia/part0/Equality/#2212" class="Field Operator">≡?</a> <a id="34654" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a><a id="34656" class="Symbol">)</a> <a id="34658" href="/lia/part1/Semantics/#11231" class="Function">vals</a>
  <a id="34665" href="/lia/part1/CharacteristicFormulas/#34665" class="Function">φs</a> <a id="34668" class="Symbol">=</a> <a id="34670" href="/lia/part0/List/#2362" class="Function">map</a> <a id="34674" href="/lia/part1/CharacteristicFormulas/#32059" class="Function">monCharFormula</a> <a id="34689" href="/lia/part1/CharacteristicFormulas/#34624" class="Function">ttVals</a>
  <a id="34698" href="/lia/part1/CharacteristicFormulas/#34698" class="Function">φ</a> <a id="34700" class="Symbol">=</a> <a id="34702" href="/lia/part1/Semantics/#38679" class="Function Operator">⋁</a> <a id="34704" href="/lia/part1/CharacteristicFormulas/#34665" class="Function">φs</a></pre>

<p>The formula <code class="language-plaintext highlighter-rouge">φ</code> belongs to the fragment thanks to closure under
disjunctions:</p>

<pre class="Agda">  <a id="34797" href="/lia/part1/CharacteristicFormulas/#34797" class="Function">Formula[⊥,⊤,∨,∧]φ</a> <a id="34815" class="Symbol">:</a> <a id="34817" href="/lia/part1/CharacteristicFormulas/#25813" class="Datatype">Formula[⊥,⊤,∨,∧]</a> <a id="34834" href="/lia/part1/CharacteristicFormulas/#34698" class="Function">φ</a>
  <a id="34838" href="/lia/part1/CharacteristicFormulas/#34797" class="Function">Formula[⊥,⊤,∨,∧]φ</a> <a id="34856" class="Symbol">=</a> <a id="34858" href="/lia/part1/CharacteristicFormulas/#26353" class="Function">Formula[⊥,⊤,∨,∧]-⋁-closed</a> <a id="34884" href="/lia/part1/CharacteristicFormulas/#34665" class="Function">φs</a> <a id="34887" href="/lia/part1/CharacteristicFormulas/#34903" class="Function">goal</a> <a id="34892" class="Keyword">where</a>

    <a id="34903" href="/lia/part1/CharacteristicFormulas/#34903" class="Function">goal</a> <a id="34908" class="Symbol">:</a> <a id="34910" href="/lia/part0/List/#8771" class="Function">All</a> <a id="34914" href="/lia/part1/CharacteristicFormulas/#25813" class="Datatype">Formula[⊥,⊤,∨,∧]</a> <a id="34931" href="/lia/part1/CharacteristicFormulas/#34665" class="Function">φs</a>
    <a id="34938" href="/lia/part1/CharacteristicFormulas/#34903" class="Function">goal</a> <a id="34943" href="/lia/part1/CharacteristicFormulas/#34943" class="Bound">φ∈φs</a>
      <a id="34954" class="Keyword">with</a> <a id="34959" href="/lia/part0/List/#12712" class="Function">map-∈-inv</a> <a id="34969" class="Symbol">_</a> <a id="34971" href="/lia/part1/CharacteristicFormulas/#34943" class="Bound">φ∈φs</a>
    <a id="34980" class="Symbol">...</a> <a id="34984" class="Symbol">|</a> <a id="34986" href="/lia/part1/CharacteristicFormulas/#34986" class="Bound">ϱ</a> <a id="34988" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="34990" class="Symbol">_</a> <a id="34992" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="34994" href="/lia/part1/CharacteristicFormulas/#34994" class="Bound">φ≡monCharFormulaϱ</a> <a id="35012" class="Keyword">rewrite</a> <a id="35020" href="/lia/part1/CharacteristicFormulas/#34994" class="Bound">φ≡monCharFormulaϱ</a>
      <a id="35044" class="Symbol">=</a> <a id="35046" href="/lia/part1/CharacteristicFormulas/#32374" class="Function">monCharFormula-Formula[⊥,⊤,∨,∧]</a> <a id="35078" href="/lia/part1/CharacteristicFormulas/#34986" class="Bound">ϱ</a></pre>

<p>Correctness consists into two parts. The first part is easily proved by
soundness:</p>

<pre class="Agda">  <a id="35175" href="/lia/part1/CharacteristicFormulas/#35175" class="Function">correctness</a> <a id="35187" class="Symbol">:</a> <a id="35189" class="Symbol">∀</a> <a id="35191" href="/lia/part1/CharacteristicFormulas/#35191" class="Bound">ϱ</a> <a id="35193" class="Symbol">→</a> <a id="35195" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="35197" href="/lia/part1/CharacteristicFormulas/#34698" class="Function">φ</a> <a id="35199" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="35201" href="/lia/part1/CharacteristicFormulas/#35191" class="Bound">ϱ</a> <a id="35203" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="35205" href="/lia/part1/CharacteristicFormulas/#34393" class="Bound">f</a> <a id="35207" href="/lia/part1/CharacteristicFormulas/#35191" class="Bound">ϱ</a>
  <a id="35211" href="/lia/part1/CharacteristicFormulas/#35175" class="Function">correctness</a> <a id="35223" href="/lia/part1/CharacteristicFormulas/#35223" class="Bound">ϱ</a>
    <a id="35229" class="Keyword">with</a> <a id="35234" href="/lia/part0/Equality/#3823" class="Function">inspect</a> <a id="35242" class="Symbol">(</a><a id="35243" href="/lia/part1/CharacteristicFormulas/#34393" class="Bound">f</a> <a id="35245" href="/lia/part1/CharacteristicFormulas/#35223" class="Bound">ϱ</a><a id="35246" class="Symbol">)</a>
  <a id="35250" class="Symbol">...</a> <a id="35254" class="Symbol">|</a> <a id="35256" href="/lia/part0/Equality/#3789" class="InductiveConstructor">it</a> <a id="35259" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="35262" href="/lia/part1/CharacteristicFormulas/#35262" class="Bound">fϱ≡tt</a> <a id="35268" class="Keyword">rewrite</a> <a id="35276" href="/lia/part1/CharacteristicFormulas/#35262" class="Bound">fϱ≡tt</a> <a id="35282" class="Symbol">=</a> <a id="35284" href="/lia/part1/CharacteristicFormulas/#35300" class="Function">goal</a> <a id="35289" class="Keyword">where</a>

    <a id="35300" href="/lia/part1/CharacteristicFormulas/#35300" class="Function">goal</a> <a id="35305" class="Symbol">:</a> <a id="35307" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="35309" href="/lia/part1/CharacteristicFormulas/#34698" class="Function">φ</a> <a id="35311" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="35313" class="Bound">ϱ</a> <a id="35315" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="35317" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a>
    <a id="35324" href="/lia/part1/CharacteristicFormulas/#35300" class="Function">goal</a>
      <a id="35335" class="Keyword">with</a> <a id="35340" href="/lia/part0/List/#11835" class="Function">filter-∈</a> <a id="35349" class="Symbol">(</a><a id="35350" href="/lia/part1/Semantics/#11257" class="Function">findVal</a> <a id="35358" class="Bound">ϱ</a><a id="35359" class="Symbol">)</a> <a id="35361" href="/lia/part1/CharacteristicFormulas/#35262" class="Bound">fϱ≡tt</a>
    <a id="35371" class="Symbol">...</a> <a id="35375" class="Symbol">|</a> <a id="35377" href="/lia/part1/CharacteristicFormulas/#35377" class="Bound">ϱ∈ttVals</a>
      <a id="35392" class="Keyword">with</a> <a id="35397" href="/lia/part0/List/#12380" class="Function">map-∈</a> <a id="35403" href="/lia/part1/CharacteristicFormulas/#32059" class="Function">monCharFormula</a> <a id="35418" href="/lia/part1/CharacteristicFormulas/#35377" class="Bound">ϱ∈ttVals</a>
    <a id="35431" class="Symbol">...</a> <a id="35435" class="Symbol">|</a> <a id="35437" href="/lia/part1/CharacteristicFormulas/#35437" class="Bound">monCharFormulaϱ∈φs</a>
      <a id="35462" class="Keyword">with</a> <a id="35467" href="/lia/part1/CharacteristicFormulas/#32499" class="Function">monCharFormula-soundness</a> <a id="35492" class="Bound">ϱ</a>
    <a id="35498" class="Symbol">...</a> <a id="35502" class="Symbol">|</a> <a id="35504" href="/lia/part1/CharacteristicFormulas/#35504" class="Bound">⟦monCharFormulaϱ⟧ϱ≡tt</a>
      <a id="35532" class="Symbol">=</a> <a id="35534" href="/lia/part1/Semantics/#38727" class="Function">disjProp-tt</a> <a id="35546" href="/lia/part1/CharacteristicFormulas/#34665" class="Function">φs</a> <a id="35549" class="Bound">ϱ</a> <a id="35551" class="Symbol">(</a><a id="35552" href="/lia/part1/CharacteristicFormulas/#32059" class="Function">monCharFormula</a> <a id="35567" class="Bound">ϱ</a><a id="35568" class="Symbol">)</a> <a id="35570" class="Bound">monCharFormulaϱ∈φs</a> <a id="35589" href="/lia/part1/CharacteristicFormulas/#35504" class="Bound">⟦monCharFormulaϱ⟧ϱ≡tt</a></pre>

<p>For the second part, we aim at reaching a contradiction impinging on
monotonicity:</p>

<pre class="Agda">  <a id="35707" class="Symbol">...</a> <a id="35711" class="Symbol">|</a> <a id="35713" href="/lia/part0/Equality/#3789" class="InductiveConstructor">it</a> <a id="35716" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="35719" href="/lia/part1/CharacteristicFormulas/#35719" class="Bound">fϱ≡ff</a> <a id="35725" class="Keyword">rewrite</a> <a id="35733" href="/lia/part1/CharacteristicFormulas/#35719" class="Bound">fϱ≡ff</a> <a id="35739" class="Symbol">=</a> <a id="35741" href="/lia/part1/Semantics/#38817" class="Function">disjProp-ff</a> <a id="35753" href="/lia/part1/CharacteristicFormulas/#34665" class="Function">φs</a> <a id="35756" class="Bound">ϱ</a> <a id="35758" href="/lia/part1/CharacteristicFormulas/#35774" class="Function">goal</a> <a id="35763" class="Keyword">where</a>

    <a id="35774" href="/lia/part1/CharacteristicFormulas/#35774" class="Function">goal</a> <a id="35779" class="Symbol">:</a> <a id="35781" href="/lia/part0/List/#8771" class="Function">∀[</a> <a id="35784" href="/lia/part1/CharacteristicFormulas/#35784" class="Bound">φ</a> <a id="35786" href="/lia/part0/List/#8771" class="Function">∈</a> <a id="35788" href="/lia/part1/CharacteristicFormulas/#34665" class="Function">φs</a> <a id="35791" href="/lia/part0/List/#8771" class="Function">]</a> <a id="35793" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="35795" href="/lia/part1/CharacteristicFormulas/#35784" class="Bound">φ</a> <a id="35797" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="35799" class="Bound">ϱ</a> <a id="35801" href="/lia/part0/Equality/#214" class="Datatype Operator">≡</a> <a id="35803" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a>
    <a id="35810" href="/lia/part1/CharacteristicFormulas/#35774" class="Function">goal</a> <a id="35815" class="Symbol">{</a><a id="35816" href="/lia/part1/CharacteristicFormulas/#35816" class="Bound">φ</a><a id="35817" class="Symbol">}</a> <a id="35819" href="/lia/part1/CharacteristicFormulas/#35819" class="Bound">φ∈φs</a>
       <a id="35831" class="Keyword">with</a> <a id="35836" href="/lia/part0/Equality/#3823" class="Function">inspect</a> <a id="35844" class="Symbol">(</a><a id="35845" href="/lia/part1/Semantics/#12115" class="Function Operator">⟦</a> <a id="35847" href="/lia/part1/CharacteristicFormulas/#35816" class="Bound">φ</a> <a id="35849" href="/lia/part1/Semantics/#12115" class="Function Operator">⟧</a> <a id="35851" class="Bound">ϱ</a><a id="35852" class="Symbol">)</a>
    <a id="35858" class="Symbol">...</a> <a id="35862" class="Symbol">|</a> <a id="35864" href="/lia/part0/Equality/#3789" class="InductiveConstructor">it</a> <a id="35867" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="35870" href="/lia/part1/CharacteristicFormulas/#35870" class="Bound">⟦φ⟧ϱ≡ff</a> <a id="35878" class="Symbol">=</a> <a id="35880" href="/lia/part1/CharacteristicFormulas/#35870" class="Bound">⟦φ⟧ϱ≡ff</a>
    <a id="35892" class="Symbol">...</a> <a id="35896" class="Symbol">|</a> <a id="35898" href="/lia/part0/Equality/#3789" class="InductiveConstructor">it</a> <a id="35901" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="35904" href="/lia/part1/CharacteristicFormulas/#35904" class="Bound">⟦φ⟧ϱ≡tt</a>
      <a id="35918" class="Keyword">with</a> <a id="35923" href="/lia/part0/List/#12712" class="Function">map-∈-inv</a> <a id="35933" href="/lia/part1/CharacteristicFormulas/#32059" class="Function">monCharFormula</a> <a id="35948" class="Bound">φ∈φs</a>
    <a id="35957" class="Symbol">...</a> <a id="35961" class="Symbol">|</a> <a id="35963" href="/lia/part1/CharacteristicFormulas/#35963" class="Bound">ϱ′</a> <a id="35966" href="/lia/part0/Logic/#396" class="InductiveConstructor Operator">,</a> <a id="35968" href="/lia/part1/CharacteristicFormulas/#35968" class="Bound">ϱ′∈ttVals</a> <a id="35978" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="35980" href="/lia/part1/CharacteristicFormulas/#35980" class="Bound">φ≡monCharFormulaϱ′</a>
      <a id="36005" class="Keyword">with</a> <a id="36010" href="/lia/part0/List/#12212" class="Function">filter-∈-inv</a> <a id="36023" href="/lia/part1/Semantics/#11231" class="Function">vals</a> <a id="36028" href="/lia/part1/CharacteristicFormulas/#35968" class="Bound">ϱ′∈ttVals</a> 
    <a id="36043" class="Symbol">...</a> <a id="36047" class="Symbol">|</a> <a id="36049" href="/lia/part1/CharacteristicFormulas/#36049" class="Bound">ϱ′∈vals</a> <a id="36057" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="36059" href="/lia/part1/CharacteristicFormulas/#36059" class="Bound">fϱ′≡tt</a>
      <a id="36072" class="Keyword">rewrite</a> <a id="36080" class="Bound">φ≡monCharFormulaϱ′</a>
      <a id="36105" class="Keyword">with</a> <a id="36110" href="/lia/part1/CharacteristicFormulas/#32601" class="Function">monCharFormula-completeness</a> <a id="36138" class="Bound">ϱ′</a> <a id="36141" class="Bound">ϱ</a> <a id="36143" class="Bound">⟦φ⟧ϱ≡tt</a> 
    <a id="36156" class="Symbol">...</a> <a id="36160" class="Symbol">|</a> <a id="36162" href="/lia/part1/CharacteristicFormulas/#36162" class="Bound">ϱ′≤Vϱ</a>
      <a id="36174" class="Keyword">with</a> <a id="36179" href="/lia/part1/CharacteristicFormulas/#34395" class="Bound">monf</a> <a id="36184" class="Bound">ϱ′</a> <a id="36187" class="Bound">ϱ</a> <a id="36189" href="/lia/part1/CharacteristicFormulas/#36162" class="Bound">ϱ′≤Vϱ</a>
    <a id="36199" class="Symbol">...</a> <a id="36203" class="Symbol">|</a> <a id="36205" href="/lia/part1/CharacteristicFormulas/#36205" class="Bound">fϱ′≤fϱ</a> <a id="36212" class="Keyword">rewrite</a> <a id="36220" class="Bound">fϱ′≡tt</a> <a id="36227" class="Symbol">|</a> <a id="36229" href="/lia/part1/CharacteristicFormulas/#35719" class="Bound">fϱ≡ff</a> <a id="36235" class="Symbol">=</a> <a id="36237" href="/lia/part0/Booleans/#6787" class="Function">tt≤𝔹ff-elim</a> <a id="36249" href="/lia/part1/CharacteristicFormulas/#36205" class="Bound">fϱ′≤fϱ</a></pre>

<h2 id="section:big-incomplete-fragment">
<a class="anchor" href="#section:big-incomplete-fragment" aria-hidden="true"><span class="octicon octicon-link"></span></a>Fragment <code class="language-plaintext highlighter-rouge">{⊤, ∨, ∧, ⇒, ⇔}</code>
</h2>

<p>Let’s now consider all standard connectives, except the “negative”
connectives <a href="../../part1/Semantics#Formula.%E2%8A%A5"><code class="language-plaintext highlighter-rouge">⊥</code></a> and
<a href="../../part1/Semantics#Formula.%C2%AC_"><code class="language-plaintext highlighter-rouge">¬_</code></a> :</p>

<pre class="Agda"><a id="36499" class="Keyword">data</a> <a id="Formula[⊤,∨,∧,⇒,⇔]"></a><a id="36504" href="/lia/part1/CharacteristicFormulas/#36504" class="Datatype">Formula[⊤,∨,∧,⇒,⇔]</a> <a id="36523" class="Symbol">:</a> <a id="36525" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="36533" class="Symbol">→</a> <a id="36535" class="PrimitiveType">Set</a> <a id="36539" class="Keyword">where</a>
  <a id="Formula[⊤,∨,∧,⇒,⇔].⊤"></a><a id="36547" href="/lia/part1/CharacteristicFormulas/#36547" class="InductiveConstructor">⊤</a> <a id="36549" class="Symbol">:</a> <a id="36551" href="/lia/part1/CharacteristicFormulas/#36504" class="Datatype">Formula[⊤,∨,∧,⇒,⇔]</a> <a id="36570" href="/lia/part1/Semantics/#3607" class="InductiveConstructor">⊤</a>
  <a id="Formula[⊤,∨,∧,⇒,⇔].`_"></a><a id="36574" href="/lia/part1/CharacteristicFormulas/#36574" class="InductiveConstructor Operator">`_</a> <a id="36577" class="Symbol">:</a> <a id="36579" class="Symbol">∀</a> <a id="36581" href="/lia/part1/CharacteristicFormulas/#36581" class="Bound">p</a> <a id="36583" class="Symbol">→</a> <a id="36585" href="/lia/part1/CharacteristicFormulas/#36504" class="Datatype">Formula[⊤,∨,∧,⇒,⇔]</a> <a id="36604" class="Symbol">(</a><a id="36605" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="36607" href="/lia/part1/CharacteristicFormulas/#36581" class="Bound">p</a><a id="36608" class="Symbol">)</a>
  <a id="Formula[⊤,∨,∧,⇒,⇔]._∧_"></a><a id="36612" href="/lia/part1/CharacteristicFormulas/#36612" class="InductiveConstructor Operator">_∧_</a> <a id="36616" class="Symbol">:</a> <a id="36618" class="Symbol">∀</a> <a id="36620" class="Symbol">{</a><a id="36621" href="/lia/part1/CharacteristicFormulas/#36621" class="Bound">φ</a> <a id="36623" href="/lia/part1/CharacteristicFormulas/#36623" class="Bound">ψ</a><a id="36624" class="Symbol">}</a> <a id="36626" class="Symbol">→</a> <a id="36628" href="/lia/part1/CharacteristicFormulas/#36504" class="Datatype">Formula[⊤,∨,∧,⇒,⇔]</a> <a id="36647" href="/lia/part1/CharacteristicFormulas/#36621" class="Bound">φ</a> <a id="36649" class="Symbol">→</a> <a id="36651" href="/lia/part1/CharacteristicFormulas/#36504" class="Datatype">Formula[⊤,∨,∧,⇒,⇔]</a> <a id="36670" href="/lia/part1/CharacteristicFormulas/#36623" class="Bound">ψ</a> <a id="36672" class="Symbol">→</a>
    <a id="36678" href="/lia/part1/CharacteristicFormulas/#36504" class="Datatype">Formula[⊤,∨,∧,⇒,⇔]</a> <a id="36697" class="Symbol">(</a><a id="36698" href="/lia/part1/CharacteristicFormulas/#36621" class="Bound">φ</a> <a id="36700" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="36702" href="/lia/part1/CharacteristicFormulas/#36623" class="Bound">ψ</a><a id="36703" class="Symbol">)</a>
  <a id="Formula[⊤,∨,∧,⇒,⇔]._∨_"></a><a id="36707" href="/lia/part1/CharacteristicFormulas/#36707" class="InductiveConstructor Operator">_∨_</a> <a id="36711" class="Symbol">:</a> <a id="36713" class="Symbol">∀</a> <a id="36715" class="Symbol">{</a><a id="36716" href="/lia/part1/CharacteristicFormulas/#36716" class="Bound">φ</a> <a id="36718" href="/lia/part1/CharacteristicFormulas/#36718" class="Bound">ψ</a><a id="36719" class="Symbol">}</a> <a id="36721" class="Symbol">→</a> <a id="36723" href="/lia/part1/CharacteristicFormulas/#36504" class="Datatype">Formula[⊤,∨,∧,⇒,⇔]</a> <a id="36742" href="/lia/part1/CharacteristicFormulas/#36716" class="Bound">φ</a> <a id="36744" class="Symbol">→</a> <a id="36746" href="/lia/part1/CharacteristicFormulas/#36504" class="Datatype">Formula[⊤,∨,∧,⇒,⇔]</a> <a id="36765" href="/lia/part1/CharacteristicFormulas/#36718" class="Bound">ψ</a> <a id="36767" class="Symbol">→</a>
    <a id="36773" href="/lia/part1/CharacteristicFormulas/#36504" class="Datatype">Formula[⊤,∨,∧,⇒,⇔]</a> <a id="36792" class="Symbol">(</a><a id="36793" href="/lia/part1/CharacteristicFormulas/#36716" class="Bound">φ</a> <a id="36795" href="/lia/part1/Semantics/#3690" class="InductiveConstructor Operator">∨</a> <a id="36797" href="/lia/part1/CharacteristicFormulas/#36718" class="Bound">ψ</a><a id="36798" class="Symbol">)</a>
  <a id="Formula[⊤,∨,∧,⇒,⇔]._⇒_"></a><a id="36802" href="/lia/part1/CharacteristicFormulas/#36802" class="InductiveConstructor Operator">_⇒_</a> <a id="36806" class="Symbol">:</a> <a id="36808" class="Symbol">∀</a> <a id="36810" class="Symbol">{</a><a id="36811" href="/lia/part1/CharacteristicFormulas/#36811" class="Bound">φ</a> <a id="36813" href="/lia/part1/CharacteristicFormulas/#36813" class="Bound">ψ</a><a id="36814" class="Symbol">}</a> <a id="36816" class="Symbol">→</a> <a id="36818" href="/lia/part1/CharacteristicFormulas/#36504" class="Datatype">Formula[⊤,∨,∧,⇒,⇔]</a> <a id="36837" href="/lia/part1/CharacteristicFormulas/#36811" class="Bound">φ</a> <a id="36839" class="Symbol">→</a> <a id="36841" href="/lia/part1/CharacteristicFormulas/#36504" class="Datatype">Formula[⊤,∨,∧,⇒,⇔]</a> <a id="36860" href="/lia/part1/CharacteristicFormulas/#36813" class="Bound">ψ</a> <a id="36862" class="Symbol">→</a>
    <a id="36868" href="/lia/part1/CharacteristicFormulas/#36504" class="Datatype">Formula[⊤,∨,∧,⇒,⇔]</a> <a id="36887" class="Symbol">(</a><a id="36888" href="/lia/part1/CharacteristicFormulas/#36811" class="Bound">φ</a> <a id="36890" href="/lia/part1/Semantics/#3698" class="InductiveConstructor Operator">⇒</a> <a id="36892" href="/lia/part1/CharacteristicFormulas/#36813" class="Bound">ψ</a><a id="36893" class="Symbol">)</a>
  <a id="Formula[⊤,∨,∧,⇒,⇔]._⇔_"></a><a id="36897" href="/lia/part1/CharacteristicFormulas/#36897" class="InductiveConstructor Operator">_⇔_</a> <a id="36901" class="Symbol">:</a> <a id="36903" class="Symbol">∀</a> <a id="36905" class="Symbol">{</a><a id="36906" href="/lia/part1/CharacteristicFormulas/#36906" class="Bound">φ</a> <a id="36908" href="/lia/part1/CharacteristicFormulas/#36908" class="Bound">ψ</a><a id="36909" class="Symbol">}</a> <a id="36911" class="Symbol">→</a> <a id="36913" href="/lia/part1/CharacteristicFormulas/#36504" class="Datatype">Formula[⊤,∨,∧,⇒,⇔]</a> <a id="36932" href="/lia/part1/CharacteristicFormulas/#36906" class="Bound">φ</a> <a id="36934" class="Symbol">→</a> <a id="36936" href="/lia/part1/CharacteristicFormulas/#36504" class="Datatype">Formula[⊤,∨,∧,⇒,⇔]</a> <a id="36955" href="/lia/part1/CharacteristicFormulas/#36908" class="Bound">ψ</a> <a id="36957" class="Symbol">→</a>
    <a id="36963" href="/lia/part1/CharacteristicFormulas/#36504" class="Datatype">Formula[⊤,∨,∧,⇒,⇔]</a> <a id="36982" class="Symbol">(</a><a id="36983" href="/lia/part1/CharacteristicFormulas/#36906" class="Bound">φ</a> <a id="36985" href="/lia/part1/Semantics/#3702" class="InductiveConstructor Operator">⇔</a> <a id="36987" href="/lia/part1/CharacteristicFormulas/#36908" class="Bound">ψ</a><a id="36988" class="Symbol">)</a></pre>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:positive-connective" class="pandoc-numbering-text exercise"><strong>Exercise 12</strong> <em>(The <code class="language-plaintext highlighter-rouge">{⊤, ∨, ∧, ⇒, ⇔}</code> fragment)</em></span></dt>
    <dd>Is the set of “positive” connectives <code class="language-plaintext highlighter-rouge">{⊤, ∨, ∧, ⇒, ⇔}</code> semantically
complete? <span class="hidden">∎</span> <span class="right-aligned">∎</span>
</dd>
  </dl>

  <!--
::::::: {.solutionlink}
[solution](#exercise:positive-connective-solution)
:::::::
-->

</div>

<h2 id="Sheffer">
<a class="anchor" href="#Sheffer" aria-hidden="true"><span class="octicon octicon-link"></span></a>Fragment <code class="language-plaintext highlighter-rouge">{⇑}</code> – Sheffer’s stroke</h2>

<p>In this section we consider whether it is possible for a <em>single</em>
connective to be semantically complete w.r.t. all Boolean functions.
Clearly the connective cannot be unary, since formulas built from a
single unary connective can only depend on the Boolean value of one
fixed input variable. Thus the connective must be binary. There are
2<sup>2<sup>2</sup></sup> = 16 Boolean functions of two arguments. By
<a href="#section:monotone-fragment" title="Section %g">this section</a> it cannot be
monotone. This already excludes <em>D</em>(2) = 6 functions, where <em>D</em>(<em>n</em>) is
the <em>n</em>-th <em>Dedekind number</em> [Dedekind(<a href="#ref-Dedekind:1897">1897</a>)]
which counts the number of Boolean functions of <em>n</em> arguments (c.f.
<a href="https://oeis.org/A000372">OEIS A000372</a> for its first 9 known values).
Even more strongly, by <a href="#section:big-incomplete-fragment" title="Section %g">this
section</a> it must map
<a href="../../part1/Semantics#%CF%B1ff"><code class="language-plaintext highlighter-rouge">ϱff</code></a> to true, and by a symmetric argument
it must map <a href="../../part1/Semantics#%CF%B1tt"><code class="language-plaintext highlighter-rouge">ϱtt</code></a> to false. This means that
we can only choose the output for the “intermediate inputs” <code class="language-plaintext highlighter-rouge">(ff , tt)</code>
and <code class="language-plaintext highlighter-rouge">( tt , ff )</code>, thus there are only four options left:</p>

<pre class="Agda"><a id="g₀"></a><a id="40302" href="/lia/part1/CharacteristicFormulas/#40302" class="Function">g₀</a> <a id="g₁"></a><a id="40305" href="/lia/part1/CharacteristicFormulas/#40305" class="Function">g₁</a> <a id="g₂"></a><a id="40308" href="/lia/part1/CharacteristicFormulas/#40308" class="Function">g₂</a> <a id="g₃"></a><a id="40311" href="/lia/part1/CharacteristicFormulas/#40311" class="Function">g₃</a>  <a id="40315" class="Symbol">:</a> <a id="40317" href="/lia/part0/Booleans/#211" class="Datatype">𝔹</a> <a id="40319" href="/lia/part0/Logic/#1548" class="Record Operator">×</a> <a id="40321" href="/lia/part0/Booleans/#211" class="Datatype">𝔹</a> <a id="40323" class="Symbol">→</a> <a id="40325" href="/lia/part0/Booleans/#211" class="Datatype">𝔹</a>
<a id="40327" href="/lia/part1/CharacteristicFormulas/#40302" class="Function">g₀</a> <a id="40330" class="Symbol">=</a> <a id="40332" href="part0.Utils.html#196" class="Function">const</a> <a id="40338" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a>
  <a id="40343" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="40345" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40348" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="40350" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40353" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="40355" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40358" href="/lia/part0/Functions/#568" class="Function Operator">]</a>
  <a id="40362" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="40364" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40367" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="40369" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40372" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="40374" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40377" href="/lia/part0/Functions/#568" class="Function Operator">]</a>
  <a id="40381" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="40383" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40386" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="40388" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40391" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="40393" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40396" href="/lia/part0/Functions/#568" class="Function Operator">]</a>
  <a id="40400" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="40402" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40405" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="40407" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40410" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="40412" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40415" href="/lia/part0/Functions/#568" class="Function Operator">]</a>

<a id="40418" href="/lia/part1/CharacteristicFormulas/#40305" class="Function">g₁</a> <a id="40421" class="Symbol">=</a> <a id="40423" href="part0.Utils.html#196" class="Function">const</a> <a id="40429" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a>
  <a id="40434" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="40436" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40439" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="40441" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40444" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="40446" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40449" href="/lia/part0/Functions/#568" class="Function Operator">]</a>
  <a id="40453" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="40455" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40458" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="40460" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40463" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="40465" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40468" href="/lia/part0/Functions/#568" class="Function Operator">]</a>
  <a id="40472" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="40474" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40477" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="40479" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40482" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="40484" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40487" href="/lia/part0/Functions/#568" class="Function Operator">]</a>
  <a id="40491" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="40493" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40496" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="40498" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40501" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="40503" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40506" href="/lia/part0/Functions/#568" class="Function Operator">]</a>

<a id="40509" href="/lia/part1/CharacteristicFormulas/#40308" class="Function">g₂</a> <a id="40512" class="Symbol">=</a> <a id="40514" href="part0.Utils.html#196" class="Function">const</a> <a id="40520" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a>
  <a id="40525" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="40527" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40530" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="40532" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40535" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="40537" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40540" href="/lia/part0/Functions/#568" class="Function Operator">]</a>
  <a id="40544" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="40546" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40549" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="40551" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40554" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="40556" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40559" href="/lia/part0/Functions/#568" class="Function Operator">]</a>
  <a id="40563" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="40565" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40568" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="40570" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40573" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="40575" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40578" href="/lia/part0/Functions/#568" class="Function Operator">]</a>
  <a id="40582" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="40584" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40587" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="40589" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40592" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="40594" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40597" href="/lia/part0/Functions/#568" class="Function Operator">]</a>

<a id="40600" href="/lia/part1/CharacteristicFormulas/#40311" class="Function">g₃</a> <a id="40603" class="Symbol">=</a> <a id="40605" href="part0.Utils.html#196" class="Function">const</a> <a id="40611" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a>
  <a id="40616" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="40618" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40621" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="40623" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40626" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="40628" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40631" href="/lia/part0/Functions/#568" class="Function Operator">]</a>
  <a id="40635" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="40637" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40640" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="40642" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40645" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="40647" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40650" href="/lia/part0/Functions/#568" class="Function Operator">]</a>
  <a id="40654" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="40656" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40659" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="40661" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40664" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="40666" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40669" href="/lia/part0/Functions/#568" class="Function Operator">]</a>
  <a id="40673" href="/lia/part0/Functions/#568" class="Function Operator">[</a> <a id="40675" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40678" href="/lia/part0/Logic/#1616" class="InductiveConstructor Operator">,</a> <a id="40680" href="/lia/part0/Booleans/#236" class="InductiveConstructor">tt</a> <a id="40683" href="/lia/part0/Functions/#568" class="Function Operator">↦</a> <a id="40685" href="/lia/part0/Booleans/#227" class="InductiveConstructor">ff</a> <a id="40688" href="/lia/part0/Functions/#568" class="Function Operator">]</a></pre>

<p>The two functions <a href="#g%E2%82%81"><code class="language-plaintext highlighter-rouge">g₁</code></a> and <a href="#g%E2%82%82"><code class="language-plaintext highlighter-rouge">g₂</code></a> can be discarded since
they compute just the negation of the second, resp., first argument, and
thus do not depend on both arguments. Each of the two remaining
functions <a href="#g%E2%82%80"><code class="language-plaintext highlighter-rouge">g₀</code></a> and <a href="#g%E2%82%83"><code class="language-plaintext highlighter-rouge">g₃</code></a> is suitable as a basis. For this
reason, they deserve a name:</p>

<pre class="Agda"><a id="_nor𝔹_"></a><a id="40994" href="/lia/part1/CharacteristicFormulas/#40994" class="Function Operator">_nor𝔹_</a> <a id="_nand𝔹_"></a><a id="41001" href="/lia/part1/CharacteristicFormulas/#41001" class="Function Operator">_nand𝔹_</a> <a id="41009" class="Symbol">:</a> <a id="41011" href="/lia/part0/Booleans/#211" class="Datatype">𝔹</a> <a id="41013" class="Symbol">→</a> <a id="41015" href="/lia/part0/Booleans/#211" class="Datatype">𝔹</a> <a id="41017" class="Symbol">→</a> <a id="41019" href="/lia/part0/Booleans/#211" class="Datatype">𝔹</a>
<a id="41021" href="/lia/part1/CharacteristicFormulas/#41021" class="Bound">b₀</a> <a id="41024" href="/lia/part1/CharacteristicFormulas/#40994" class="Function Operator">nor𝔹</a> <a id="41029" href="/lia/part1/CharacteristicFormulas/#41029" class="Bound">b₁</a> <a id="41032" class="Symbol">=</a> <a id="41034" href="/lia/part0/Booleans/#945" class="Function Operator">¬𝔹</a> <a id="41037" class="Symbol">(</a><a id="41038" href="/lia/part1/CharacteristicFormulas/#41021" class="Bound">b₀</a> <a id="41041" href="/lia/part0/Booleans/#887" class="Function Operator">∨𝔹</a> <a id="41044" href="/lia/part1/CharacteristicFormulas/#41029" class="Bound">b₁</a><a id="41046" class="Symbol">)</a>  <a id="41049" class="Comment">-- g₀</a>
<a id="41055" href="/lia/part1/CharacteristicFormulas/#41055" class="Bound">b₀</a> <a id="41058" href="/lia/part1/CharacteristicFormulas/#41001" class="Function Operator">nand𝔹</a> <a id="41064" href="/lia/part1/CharacteristicFormulas/#41064" class="Bound">b₁</a> <a id="41067" class="Symbol">=</a> <a id="41069" href="/lia/part0/Booleans/#945" class="Function Operator">¬𝔹</a> <a id="41072" class="Symbol">(</a><a id="41073" href="/lia/part1/CharacteristicFormulas/#41055" class="Bound">b₀</a> <a id="41076" href="/lia/part0/Booleans/#829" class="Function Operator">∧𝔹</a> <a id="41079" href="/lia/part1/CharacteristicFormulas/#41064" class="Bound">b₁</a><a id="41081" class="Symbol">)</a> <a id="41083" class="Comment">-- g₃</a></pre>

<p>Sheffer showed that <a href="#_nor%F0%9D%94%B9_"><code class="language-plaintext highlighter-rouge">_nor𝔹_</code></a> can be taken as a basis and he
denotes it with a <em>stroke</em> (vertical bar) <code class="language-plaintext highlighter-rouge">_|_</code> [Theorem 1,
Sheffer(<a href="#ref-Sheffer:AMS:1913">1913</a>)]. We show the analogous result
for <a href="#_nand%F0%9D%94%B9_"><code class="language-plaintext highlighter-rouge">_nand𝔹_</code></a> , and in honor of Sheffer we will call it the
<em>Sheffer’s stroke</em>:</p>

<pre class="Agda"><a id="_⇑_"></a><a id="41355" href="/lia/part1/CharacteristicFormulas/#41355" class="Function Operator">_⇑_</a> <a id="41359" class="Symbol">:</a> <a id="41361" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="41369" class="Symbol">→</a> <a id="41371" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="41379" class="Symbol">→</a> <a id="41381" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a>
<a id="41389" href="/lia/part1/CharacteristicFormulas/#41389" class="Bound">φ</a> <a id="41391" href="/lia/part1/CharacteristicFormulas/#41355" class="Function Operator">⇑</a> <a id="41393" href="/lia/part1/CharacteristicFormulas/#41393" class="Bound">ψ</a> <a id="41395" class="Symbol">=</a> <a id="41397" href="/lia/part1/Semantics/#3657" class="InductiveConstructor Operator">¬</a> <a id="41399" class="Symbol">(</a><a id="41400" href="/lia/part1/CharacteristicFormulas/#41389" class="Bound">φ</a> <a id="41402" href="/lia/part1/Semantics/#3694" class="InductiveConstructor Operator">∧</a> <a id="41404" href="/lia/part1/CharacteristicFormulas/#41393" class="Bound">ψ</a><a id="41405" class="Symbol">)</a></pre>

<p>(Since we cannot add a new connective to formulas, we have to define the
stroke in terms of existing connectives.) The corresponding class of
formulas is defined as follows:</p>

<pre class="Agda"><a id="41591" class="Keyword">data</a> <a id="Formula[⇑]"></a><a id="41596" href="/lia/part1/CharacteristicFormulas/#41596" class="Datatype">Formula[⇑]</a> <a id="41607" class="Symbol">:</a> <a id="41609" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a> <a id="41617" class="Symbol">→</a> <a id="41619" class="PrimitiveType">Set</a> <a id="41623" class="Keyword">where</a>
  <a id="Formula[⇑].`_"></a><a id="41631" href="/lia/part1/CharacteristicFormulas/#41631" class="InductiveConstructor Operator">`_</a> <a id="41634" class="Symbol">:</a> <a id="41636" class="Symbol">∀</a> <a id="41638" href="/lia/part1/CharacteristicFormulas/#41638" class="Bound">p</a> <a id="41640" class="Symbol">→</a> <a id="41642" href="/lia/part1/CharacteristicFormulas/#41596" class="Datatype">Formula[⇑]</a> <a id="41653" class="Symbol">(</a><a id="41654" href="/lia/part1/Semantics/#3623" class="InductiveConstructor Operator">`</a> <a id="41656" href="/lia/part1/CharacteristicFormulas/#41638" class="Bound">p</a><a id="41657" class="Symbol">)</a>
  <a id="Formula[⇑]._nand_"></a><a id="41661" href="/lia/part1/CharacteristicFormulas/#41661" class="InductiveConstructor Operator">_nand_</a> <a id="41668" class="Symbol">:</a> <a id="41670" class="Symbol">∀</a> <a id="41672" class="Symbol">{</a><a id="41673" href="/lia/part1/CharacteristicFormulas/#41673" class="Bound">φ</a> <a id="41675" href="/lia/part1/CharacteristicFormulas/#41675" class="Bound">ψ</a><a id="41676" class="Symbol">}</a> <a id="41678" class="Symbol">→</a> <a id="41680" href="/lia/part1/CharacteristicFormulas/#41596" class="Datatype">Formula[⇑]</a> <a id="41691" href="/lia/part1/CharacteristicFormulas/#41673" class="Bound">φ</a> <a id="41693" class="Symbol">→</a> <a id="41695" href="/lia/part1/CharacteristicFormulas/#41596" class="Datatype">Formula[⇑]</a> <a id="41706" href="/lia/part1/CharacteristicFormulas/#41675" class="Bound">ψ</a> <a id="41708" class="Symbol">→</a> <a id="41710" href="/lia/part1/CharacteristicFormulas/#41596" class="Datatype">Formula[⇑]</a> <a id="41721" class="Symbol">(</a><a id="41722" href="/lia/part1/CharacteristicFormulas/#41673" class="Bound">φ</a> <a id="41724" href="/lia/part1/CharacteristicFormulas/#41355" class="Function Operator">⇑</a> <a id="41726" href="/lia/part1/CharacteristicFormulas/#41675" class="Bound">ψ</a><a id="41727" class="Symbol">)</a></pre>

<p>Unfortunately, since <a href="#_%E2%87%91_"><code class="language-plaintext highlighter-rouge">_⇑_</code></a> is not a constructor, we cannot
homonymously name the corresponding constructor in
<a href="#Formula%5B%E2%87%91%5D"><code class="language-plaintext highlighter-rouge">Formula[⇑]</code></a> , hence
<a href="#Formula%5B%E2%87%91%5D._nand_"><code class="language-plaintext highlighter-rouge">_nand_</code></a> .</p>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:sheffer-fun" class="pandoc-numbering-text exercise"><strong>Exercise 13</strong></span></dt>
    <dd>Show how to encode negation and conjunction in terms of Sheffer’s
stroke:</dd>
  </dl>

  <pre class="Agda"><a id="[∧,¬]→[⇑]"></a><a id="42028" href="/lia/part1/CharacteristicFormulas/#42028" class="Function">[∧,¬]→[⇑]</a> <a id="42038" class="Symbol">:</a> <a id="42040" class="Symbol">∀</a> <a id="42042" class="Symbol">{</a><a id="42043" href="/lia/part1/CharacteristicFormulas/#42043" class="Bound">φ</a><a id="42044" class="Symbol">}</a> <a id="42046" class="Symbol">→</a> <a id="42048" href="/lia/part1/CharacteristicFormulas/#21598" class="Datatype">Formula[¬∧]</a> <a id="42060" href="/lia/part1/CharacteristicFormulas/#42043" class="Bound">φ</a> <a id="42062" class="Symbol">→</a> <a id="42064" href="/lia/part1/Semantics/#3581" class="Datatype">Formula</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:sheffer-fun-solution)
:::::::
-->

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:sheffer-fragment" class="pandoc-numbering-text exercise"><strong>Exercise 14</strong></span></dt>
    <dd>Show that the encoding from <a href="#exercise:sheffer-fun" title="Exercise 13">Exercise
13</a> produces a formula in
<a href="#Formula%5B%E2%87%91%5D"><code class="language-plaintext highlighter-rouge">Formula[⇑]</code></a> :</dd>
  </dl>

  <pre class="Agda"><a id="[∧,¬]→[⇑]-fragment"></a><a id="42494" href="/lia/part1/CharacteristicFormulas/#42494" class="Function">[∧,¬]→[⇑]-fragment</a> <a id="42513" class="Symbol">:</a> <a id="42515" class="Symbol">∀</a> <a id="42517" class="Symbol">{</a><a id="42518" href="/lia/part1/CharacteristicFormulas/#42518" class="Bound">φ</a><a id="42519" class="Symbol">}</a> <a id="42521" class="Symbol">→</a>
  <a id="42525" class="Symbol">(</a><a id="42526" href="/lia/part1/CharacteristicFormulas/#42526" class="Bound">viewφ</a> <a id="42532" class="Symbol">:</a> <a id="42534" href="/lia/part1/CharacteristicFormulas/#21598" class="Datatype">Formula[¬∧]</a> <a id="42546" href="/lia/part1/CharacteristicFormulas/#42518" class="Bound">φ</a><a id="42547" class="Symbol">)</a> <a id="42549" class="Symbol">→</a>
  <a id="42553" class="Comment">-----------------------------</a>
  <a id="42585" href="/lia/part1/CharacteristicFormulas/#41596" class="Datatype">Formula[⇑]</a> <a id="42596" class="Symbol">(</a><a id="42597" href="/lia/part1/CharacteristicFormulas/#42028" class="Function">[∧,¬]→[⇑]</a> <a id="42607" href="/lia/part1/CharacteristicFormulas/#42526" class="Bound">viewφ</a><a id="42612" class="Symbol">)</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:sheffer-fragment-solution)
:::::::
-->

</div>

<div class="exercisebox">

  <dl>
    <dt><span id="exercise:sheffer-sound" class="pandoc-numbering-text exercise"><strong>Exercise 15</strong></span></dt>
    <dd>Show that the encoding from <a href="#exercise:sheffer-fun" title="Exercise 13">Exercise
13</a> is sound:</dd>
  </dl>

  <pre class="Agda"><a id="[∧,¬]→[⇑]-sound"></a><a id="43132" href="/lia/part1/CharacteristicFormulas/#43132" class="Function">[∧,¬]→[⇑]-sound</a> <a id="43148" class="Symbol">:</a> <a id="43150" class="Symbol">∀</a> <a id="43152" class="Symbol">{</a><a id="43153" href="/lia/part1/CharacteristicFormulas/#43153" class="Bound">φ</a><a id="43154" class="Symbol">}</a> <a id="43156" class="Symbol">→</a>
  <a id="43160" class="Symbol">(</a><a id="43161" href="/lia/part1/CharacteristicFormulas/#43161" class="Bound">viewφ</a> <a id="43167" class="Symbol">:</a> <a id="43169" href="/lia/part1/CharacteristicFormulas/#21598" class="Datatype">Formula[¬∧]</a> <a id="43181" href="/lia/part1/CharacteristicFormulas/#43153" class="Bound">φ</a><a id="43182" class="Symbol">)</a> <a id="43184" class="Symbol">→</a>
  <a id="43188" class="Comment">---------------------</a>
  <a id="43212" href="/lia/part1/CharacteristicFormulas/#43153" class="Bound">φ</a> <a id="43214" href="/lia/part1/Semantics/#26887" class="Function Operator">⟺</a> <a id="43216" href="/lia/part1/CharacteristicFormulas/#42028" class="Function">[∧,¬]→[⇑]</a> <a id="43226" href="/lia/part1/CharacteristicFormulas/#43161" class="Bound">viewφ</a></pre>

  <p><span class="hidden">∎</span> <span class="right-aligned">∎</span></p>

  <!--
::::::: {.solutionlink}
[solution](#exercise:sheffer-sound-solution)
:::::::
-->

</div>

<div id="refs" class="references hanging-indent">

  <div id="ref-Dedekind:1897">

    <p>[Dedekind(1897)] R Dedekind. <em>Über zerlegung von zahlen durch ihre
grössten gemeinsamen theiler</em>. Vieweg, Braunschweig, 1897.</p>

  </div>

  <div id="ref-Sheffer:AMS:1913">

    <p>[Sheffer(1913)] H M Sheffer. A set of five independent postulates for
boolean algebras, with application to logical constants. <em>Transactions
of the American Mathematical Society</em>. 14(4):481–488, 1913.</p>

  </div>

</div>

    </div>
  
    <p style="text-align:center;">
    
    
    
    <a alt="Part" href="/lia/part1/index/">Part</a>
    &bullet;
    
    
    <a alt="Source code" href="https://github.com/lclem/lia/blob/main/src/part1/CharacteristicFormulas.lagda.md">Source</a>
    
    
    
</p>

    <p class="p-name"> Last-modified: Nov 17 06:51:45 2020 </p>
  </article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/lia/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Logic in Agda</h2><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Lorenzo Clemente</li>
          <li><a class="u-email" href="mailto:clementelorenzo@gmail.com">clementelorenzo@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/lclem"><svg class="svg-icon"><use xlink:href="/lia/assets/minima-social-icons.svg#github"></use></svg> <span class="username">lclem</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
  </div>
</footer>

<!-- Parse the Latex divs with Katex
<script type="text/javascript">
  $("script[type='math/tex']").replaceWith(
    function(){
      var tex = $(this).text();
      return katex.renderToString(tex, {displayMode: false});
  });
  
  $("script[type='math/tex; mode=display']").replaceWith(
    function(){
      var tex = $(this).text();
      return katex.renderToString(tex.replace(/%.*/g, ''), {displayMode: true});
  });
</script>
-->

<script type="text/javascript" src="/lia/assets/hidebox.js"></script>
</body>

</html>
