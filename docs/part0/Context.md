---
title: Context
src: src/part0/Context.lagda.md
layout: page
permalink: /part0/Context/
last-modified: Sep  3 09:39:53 2020
part: /part0/index/
toc: true
numbersections: true
---

{% raw %}<pre class="Agda"><a id="29" class="Keyword">module</a> <a id="36" href="{% endraw %}{% link docs/refs/part0/Context/index.md %}{% raw %}" class="Module">part0.Context</a> <a id="50" class="Keyword">where</a>
<a id="56" class="Keyword">open</a> <a id="61" class="Keyword">import</a> <a id="68" href="{% endraw %}{% link docs/part0/nat.md %}{% raw %}" class="Module">part0.nat</a>
<a id="78" class="Keyword">open</a> <a id="83" class="Keyword">import</a> <a id="90" href="{% endraw %}{% link docs/part0/Fin.md %}{% raw %}" class="Module">part0.Fin</a>
<a id="100" class="Keyword">open</a> <a id="105" class="Keyword">import</a> <a id="112" href="{% endraw %}{% link docs/part0/vector.md %}{% raw %}" class="Module">part0.vector</a>
<a id="125" class="Keyword">open</a> <a id="130" class="Keyword">import</a> <a id="137" href="{% endraw %}{% link docs/part0/logic.md %}{% raw %}" class="Module">part0.logic</a>

<a id="150" class="Comment">-- Generalised context with named holes</a>
<a id="190" class="Keyword">data</a> <a id="Ctx"></a><a id="195" href="{% endraw %}{% link docs/refs/part0/Context/index.md %}#ref-195{% raw %}" class="Datatype">Ctx</a> <a id="199" class="Symbol">(</a><a id="200" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#200" class="Bound">n</a> <a id="202" class="Symbol">:</a> <a id="204" href="{% endraw %}{% link docs/part0/nat.md %}{% raw %}#203" class="Datatype">ℕ</a><a id="205" class="Symbol">)</a> <a id="207" class="Symbol">:</a> <a id="209" class="PrimitiveType">Set</a> <a id="213" class="Keyword">where</a>
  <a id="Ctx.□"></a><a id="221" href="{% endraw %}{% link docs/refs/part0/Context/index.md %}#ref-221{% raw %}" class="InductiveConstructor">□</a> <a id="223" class="Symbol">:</a> <a id="225" href="{% endraw %}{% link docs/part0/Fin.md %}{% raw %}#201" class="Datatype">Fin</a> <a id="229" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#200" class="Bound">n</a> <a id="231" class="Symbol">→</a> <a id="233" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#195" class="Datatype">Ctx</a> <a id="237" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#200" class="Bound">n</a>
  <a id="Ctx.Num"></a><a id="241" href="{% endraw %}{% link docs/refs/part0/Context/index.md %}#ref-241{% raw %}" class="InductiveConstructor">Num</a> <a id="245" class="Symbol">:</a> <a id="247" href="{% endraw %}{% link docs/part0/nat.md %}{% raw %}#203" class="Datatype">ℕ</a> <a id="249" class="Symbol">→</a> <a id="251" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#195" class="Datatype">Ctx</a> <a id="255" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#200" class="Bound">n</a>
  <a id="Ctx.Suc"></a><a id="259" href="{% endraw %}{% link docs/refs/part0/Context/index.md %}#ref-259{% raw %}" class="InductiveConstructor">Suc</a> <a id="263" class="Symbol">:</a> <a id="265" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#195" class="Datatype">Ctx</a> <a id="269" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#200" class="Bound">n</a> <a id="271" class="Symbol">→</a> <a id="273" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#195" class="Datatype">Ctx</a> <a id="277" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#200" class="Bound">n</a>
  <a id="Ctx._+C_"></a><a id="281" href="{% endraw %}{% link docs/refs/part0/Context/index.md %}#ref-281{% raw %}" class="InductiveConstructor Operator">_+C_</a> <a id="286" class="Symbol">:</a> <a id="288" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#195" class="Datatype">Ctx</a> <a id="292" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#200" class="Bound">n</a> <a id="294" class="Symbol">→</a> <a id="296" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#195" class="Datatype">Ctx</a> <a id="300" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#200" class="Bound">n</a> <a id="302" class="Symbol">→</a> <a id="304" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#195" class="Datatype">Ctx</a> <a id="308" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#200" class="Bound">n</a>
  <a id="Ctx._*C_"></a><a id="312" href="{% endraw %}{% link docs/refs/part0/Context/index.md %}#ref-312{% raw %}" class="InductiveConstructor Operator">_*C_</a> <a id="317" class="Symbol">:</a> <a id="319" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#195" class="Datatype">Ctx</a> <a id="323" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#200" class="Bound">n</a> <a id="325" class="Symbol">→</a> <a id="327" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#195" class="Datatype">Ctx</a> <a id="331" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#200" class="Bound">n</a> <a id="333" class="Symbol">→</a> <a id="335" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#195" class="Datatype">Ctx</a> <a id="339" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#200" class="Bound">n</a>

<a id="342" class="Comment">-- replace the hole with a given formula</a>
<a id="ctxApply"></a><a id="383" href="{% endraw %}{% link docs/refs/part0/Context/index.md %}#ref-383{% raw %}" class="Function">ctxApply</a> <a id="392" class="Symbol">:</a> <a id="394" class="Symbol">∀</a> <a id="396" class="Symbol">{</a><a id="397" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#397" class="Bound">n</a><a id="398" class="Symbol">}</a> <a id="400" class="Symbol">→</a> <a id="402" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#195" class="Datatype">Ctx</a> <a id="406" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#397" class="Bound">n</a> <a id="408" class="Symbol">→</a> <a id="410" href="{% endraw %}{% link docs/part0/vector.md %}{% raw %}#290" class="Datatype">Vector</a> <a id="417" href="{% endraw %}{% link docs/part0/nat.md %}{% raw %}#4895" class="Datatype">AExp</a> <a id="422" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#397" class="Bound">n</a> <a id="424" class="Symbol">→</a> <a id="426" href="{% endraw %}{% link docs/part0/nat.md %}{% raw %}#4895" class="Datatype">AExp</a>
<a id="431" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#383" class="Function">ctxApply</a> <a id="440" class="Symbol">(</a><a id="441" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#221" class="InductiveConstructor">□</a> <a id="443" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#443" class="Bound">k</a><a id="444" class="Symbol">)</a> <a id="446" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#446" class="Bound">es</a> <a id="449" class="Symbol">=</a> <a id="451" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#446" class="Bound">es</a> <a id="454" href="{% endraw %}{% link docs/part0/vector.md %}{% raw %}#8191" class="Function Operator">!</a> <a id="456" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#443" class="Bound">k</a>
<a id="458" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#383" class="Function">ctxApply</a> <a id="467" class="Symbol">(</a><a id="468" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#241" class="InductiveConstructor">Num</a> <a id="472" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#472" class="Bound">n</a><a id="473" class="Symbol">)</a> <a id="475" class="Symbol">_</a> <a id="477" class="Symbol">=</a> <a id="479" href="{% endraw %}{% link docs/part0/nat.md %}{% raw %}#4914" class="InductiveConstructor">Num</a> <a id="483" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#472" class="Bound">n</a>
<a id="485" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#383" class="Function">ctxApply</a> <a id="494" class="Symbol">(</a><a id="495" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#259" class="InductiveConstructor">Suc</a> <a id="499" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#499" class="Bound">ctx</a><a id="502" class="Symbol">)</a> <a id="504" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#504" class="Bound">e</a> <a id="506" class="Symbol">=</a> <a id="508" href="{% endraw %}{% link docs/part0/nat.md %}{% raw %}#4931" class="InductiveConstructor">Suc</a> <a id="512" class="Symbol">(</a><a id="513" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#383" class="Function">ctxApply</a> <a id="522" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#499" class="Bound">ctx</a> <a id="526" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#504" class="Bound">e</a><a id="527" class="Symbol">)</a>
<a id="529" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#383" class="Function">ctxApply</a> <a id="538" class="Symbol">(</a><a id="539" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#539" class="Bound">ctx1</a> <a id="544" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#281" class="InductiveConstructor Operator">+C</a> <a id="547" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#547" class="Bound">ctx2</a><a id="551" class="Symbol">)</a> <a id="553" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#553" class="Bound">e</a> <a id="555" class="Symbol">=</a> <a id="557" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#383" class="Function">ctxApply</a> <a id="566" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#539" class="Bound">ctx1</a> <a id="571" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#553" class="Bound">e</a> <a id="573" href="{% endraw %}{% link docs/part0/nat.md %}{% raw %}#4951" class="InductiveConstructor Operator">+E</a> <a id="576" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#383" class="Function">ctxApply</a> <a id="585" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#547" class="Bound">ctx2</a> <a id="590" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#553" class="Bound">e</a>
<a id="592" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#383" class="Function">ctxApply</a> <a id="601" class="Symbol">(</a><a id="602" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#602" class="Bound">ctx1</a> <a id="607" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#312" class="InductiveConstructor Operator">*C</a> <a id="610" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#610" class="Bound">ctx2</a><a id="614" class="Symbol">)</a> <a id="616" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#616" class="Bound">e</a> <a id="618" class="Symbol">=</a> <a id="620" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#383" class="Function">ctxApply</a> <a id="629" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#602" class="Bound">ctx1</a> <a id="634" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#616" class="Bound">e</a> <a id="636" href="{% endraw %}{% link docs/part0/nat.md %}{% raw %}#4979" class="InductiveConstructor Operator">*E</a> <a id="639" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#383" class="Function">ctxApply</a> <a id="648" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#610" class="Bound">ctx2</a> <a id="653" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#616" class="Bound">e</a>

<a id="656" class="Keyword">postulate</a> <a id="cong2-≤"></a><a id="666" href="{% endraw %}{% link docs/refs/part0/Context/index.md %}#ref-666{% raw %}" class="Postulate">cong2-≤</a> <a id="674" class="Symbol">:</a> <a id="676" class="Symbol">∀</a> <a id="678" class="Symbol">{</a><a id="679" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#679" class="Bound">a</a> <a id="681" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#681" class="Bound">b</a> <a id="683" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#683" class="Bound">c</a> <a id="685" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#685" class="Bound">d</a><a id="686" class="Symbol">}</a> <a id="688" class="Symbol">→</a> <a id="690" class="Symbol">(</a><a id="691" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#691" class="Bound">ctx</a> <a id="695" class="Symbol">:</a> <a id="697" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#195" class="Datatype">Ctx</a> <a id="701" class="Number">2</a><a id="702" class="Symbol">)</a> <a id="704" class="Symbol">→</a> <a id="706" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#679" class="Bound">a</a> <a id="708" href="{% endraw %}{% link docs/part0/nat.md %}{% raw %}#681" class="Datatype Operator">≤</a> <a id="710" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#681" class="Bound">b</a> <a id="712" class="Symbol">→</a> <a id="714" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#683" class="Bound">c</a> <a id="716" href="{% endraw %}{% link docs/part0/nat.md %}{% raw %}#681" class="Datatype Operator">≤</a> <a id="718" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#685" class="Bound">d</a> <a id="720" class="Symbol">→</a> <a id="722" href="{% endraw %}{% link docs/part0/nat.md %}{% raw %}#5006" class="Function Operator">A⟦</a> <a id="725" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#383" class="Function">ctxApply</a> <a id="734" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#691" class="Bound">ctx</a> <a id="738" href="{% endraw %}{% link docs/part0/vector.md %}{% raw %}#792" class="Function Operator">&lt;</a> <a id="740" href="{% endraw %}{% link docs/part0/nat.md %}{% raw %}#4914" class="InductiveConstructor">Num</a> <a id="744" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#679" class="Bound">a</a> <a id="746" href="{% endraw %}{% link docs/part0/logic.md %}{% raw %}#1224" class="InductiveConstructor Operator">,</a> <a id="748" href="{% endraw %}{% link docs/part0/nat.md %}{% raw %}#4914" class="InductiveConstructor">Num</a> <a id="752" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#683" class="Bound">c</a> <a id="754" href="{% endraw %}{% link docs/part0/vector.md %}{% raw %}#792" class="Function Operator">&gt;</a> <a id="756" href="{% endraw %}{% link docs/part0/nat.md %}{% raw %}#5006" class="Function Operator">⟧</a> <a id="758" href="{% endraw %}{% link docs/part0/nat.md %}{% raw %}#681" class="Datatype Operator">≤</a> <a id="760" href="{% endraw %}{% link docs/part0/nat.md %}{% raw %}#5006" class="Function Operator">A⟦</a> <a id="763" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#383" class="Function">ctxApply</a> <a id="772" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#691" class="Bound">ctx</a> <a id="776" href="{% endraw %}{% link docs/part0/vector.md %}{% raw %}#792" class="Function Operator">&lt;</a> <a id="778" href="{% endraw %}{% link docs/part0/nat.md %}{% raw %}#4914" class="InductiveConstructor">Num</a> <a id="782" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#681" class="Bound">b</a> <a id="784" href="{% endraw %}{% link docs/part0/logic.md %}{% raw %}#1224" class="InductiveConstructor Operator">,</a> <a id="786" href="{% endraw %}{% link docs/part0/nat.md %}{% raw %}#4914" class="InductiveConstructor">Num</a> <a id="790" href="{% endraw %}{% link docs/part0/Context.md %}{% raw %}#685" class="Bound">d</a> <a id="792" href="{% endraw %}{% link docs/part0/vector.md %}{% raw %}#792" class="Function Operator">&gt;</a> <a id="794" href="{% endraw %}{% link docs/part0/nat.md %}{% raw %}#5006" class="Function Operator">⟧</a>

</pre>{% endraw %}
